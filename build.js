require=function e(t,n,s){function o(r,a){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(i)return i(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return o(n?n:e)},c,c.exports,e,t,n,s)}return n[r].exports}for(var i="function"==typeof require&&require,r=0;r<s.length;r++)o(s[r]);return o}({"/Users/shawn/Work/buggin/api/email.js":[function(e,t,n){var s=e("vigour-js/value"),o=(e("vigour-js/util/config"),e("vigour-js/browser/cases")),i=window.location;t.exports=n=new s({send:{apiDefer:function(e,t){if(this.body||this.address||this.subject){var n=this.body&&this.body.val,s=this.subject&&this.subject.val,r=this.address&&this.address.val,a=this;if(o.android&&window.cordova&&window.plugins.socialsharing)window.plugins.socialsharing.shareViaEmail(n,s,r?[r]:[],null,null,null,function(t){e("success"),this.$empty("loading")},function(t){a.type=t,e("error"),this.$empty("loading")});else{if(redirect="mailto:"+(r||"")+"?subject="+(s||"")+"&body="+(n||""),o.android)i.replace(redirect);else{i.href;i.href=redirect}e("success"),this.$empty("loading")}}else e(!0)}},share:{apiDefer:function(e,t){var n=this._parent;this.val===!0||t[0]===!0?(n.send.once(function(t){e(t)}),n.send.val={address:this.address.val,body:this.body.val,subject:this.subject.val,val:!0}):e(!0)}}})},{"vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/facebook/index.js":[function(e,t,n){var s,o=e("vigour-js/value"),i=e("vigour-js/util/config");e("vigour-js/value/flags/process");t.exports=n=new o({api:{defer:function(e,t){if(t[0]!==!0||s)return!0;if(window.cordova&&!s)s=!0,e();else{if(t[0]!==!0||s)return!0;var n=document.createElement("script"),o=this,r=n.onerror=function(){o.clearCache(),o.val=t[0]="error",e()};n.src=i.facebook.web,n.id="facebook-jssdk",window.fbAsyncInit=function(){try{window.FB.init({appId:i.facebook.id,xfbml:!0,version:"v2.1"}),s=!0,e()}catch(t){o.type=t.message,r()}},document.getElementsByTagName("head")[0].appendChild(n)}}}}),n._name="facebook",e("./login"),e("./share")},{"./login":"/Users/shawn/Work/buggin/api/facebook/login.js","./share":"/Users/shawn/Work/buggin/api/facebook/share.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","vigour-js/value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/api/facebook/login.js":[function(e,t,n){var s=(e("vigour-js/value"),e("vigour-js/util/config"),e("vigour-js/util"),e("./index.js")),o=e("vigour-js/browser/ua");e("vigour-js/browser/network/url"),e("vigour-js/app/");s.val={login:{apiDefer:function(e,t){var n=this;t[0]!==!0?(e("error"),this.type="type"):!window.cordova||"windows"===o.platform&&"phone"===o.device?window.FB.login(function(t){"connected"===t.status?(n.set("token",t.authResponse.accessToken),n.set("id",t.authResponse.userID),e("success")):(n.type=t,e("error"))},{scope:"public_profile,email"}):facebookConnectPlugin.login(["public_profile","email"],function(t){"connected"===t.status?n.token&&n.token.val===t.authResponse.accessToken?e("error"):(n.set("token",t.authResponse.accessToken),n.set("id",t.authResponse.userID),e("success")):(n.type=t,e("error"))},function(t){n.type=t,e("error")})}}}},{"./index.js":"/Users/shawn/Work/buggin/api/facebook/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/network/url":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/url.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/facebook/share.js":[function(e,t,n){var s,o=(e("vigour-js/value"),e("vigour-js/util/config"),e("vigour-js/util"),e("./index.js")),i=e("vigour-js/browser/cases"),r=(e("vigour-js/browser/network/url"),e("vigour-js/browser/ua"));e("vigour-js/app/");o.val={share:{apiDefer:function(e,t){var n=this,o=this.url&&this.url.val;o?window.cordova?"windows"===r.platform&&"phone"===r.device?window.plugins.socialsharing.share(null,this.title&&this.title.val,null,this.url&&this.url.val,function(t){e("success")},function(o){o&&(s?s.call(n,e,t):(n.type="no cordovaFallback",e("error")))}):window.plugins.socialsharing.shareViaFacebook(null,null,this.url?this.url.val:null,function(t){e("success")},function(o){o&&(s?s.call(n,e,t):(n.type="no cordovaFallback",e("error")))}):(console.log("FB.ui"),FB.ui({method:"share",href:o},function(t){!t||t&&t.error_code?(t&&4201==t.error_code&&(n.type="cancelled"),e("error")):e("success")})):e(!0)}}},window.cordova&&!function(){s=function(e,t){function n(){window.facebookConnectPlugin.showDialog({method:"share",href:o,link:o},function(t){"string"!=typeof t?e("success"):~t.indexOf("User cancelled")&&(r.type="cancelled",e("error"))},function(t){"string"==typeof t&&t.indexOf("User cancelled")&&(r.type="cancelled"),e("error")})}function s(){window.facebookConnectPlugin.login(["public_profile"],n,function(t){r.type="login",e("error")})}var o=this.url&&this.url.val,r=this;i.android?window.facebookConnectPlugin.getLoginStatus(function(e){"connected"===e.status?n():s()},s):n()}}()},{"./index.js":"/Users/shawn/Work/buggin/api/facebook/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/network/url":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/url.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/index.js":[function(e,t,n){n.login=e("./login"),n.verify=e("./verify"),n.register=e("./register"),n.facebook=e("./facebook"),n.email=e("./email"),n.network=e("./network"),n.password=e("./password"),n.mobile=e("./mobile"),n.user=e("./user"),n.purchase=e("./purchase"),n.receipt=e("./receipt"),n.url=e("./url"),n.player=e("./player"),n.price=e("./purchase/pricing"),n.operator=e("./operator")},{"./email":"/Users/shawn/Work/buggin/api/email.js","./facebook":"/Users/shawn/Work/buggin/api/facebook/index.js","./login":"/Users/shawn/Work/buggin/api/login.js","./mobile":"/Users/shawn/Work/buggin/api/mobile.js","./network":"/Users/shawn/Work/buggin/api/network.js","./operator":"/Users/shawn/Work/buggin/api/operator.js","./password":"/Users/shawn/Work/buggin/api/password.js","./player":"/Users/shawn/Work/buggin/api/player.js","./purchase":"/Users/shawn/Work/buggin/api/purchase/index.js","./purchase/pricing":"/Users/shawn/Work/buggin/api/purchase/pricing.js","./receipt":"/Users/shawn/Work/buggin/api/receipt.js","./register":"/Users/shawn/Work/buggin/api/register.js","./url":"/Users/shawn/Work/buggin/api/url.js","./user":"/Users/shawn/Work/buggin/api/user.js","./verify":"/Users/shawn/Work/buggin/api/verify.js"}],"/Users/shawn/Work/buggin/api/login.js":[function(e,t,n){var s=e("vigour-js/util/config"),o=e("vigour-js/value"),i=e("./util"),r=s.api.url;e("vigour-js/value/flags/process");t.exports=n=new o({ajax:{condition:function(e,t){return this.email&&this.password?(e.url=r+"api/v2/sessions.json",e.data={user:{email:this.email.val,password:this.password.val,app_version:window["package"].version}},!0):this.region&&this.facebook&&this.facebook.token?(e.url=r+"api/v2/sessions.json",e.data={auth_method:1,user:{oauth_token:this.facebook.token.val,accept_data_protection_tcs:!0,accept_mtv_country_tcs_for:this.region.val,app_version:window["package"].version}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,n,s){!n&&s&&s.success?(this.set("token",s.authentication_token),s.new_record?this.set("new_record",s.new_record):this.new_record&&this.new_record.remove(),e("success")):(this.type=n?n.message:i.findError(s),e("error"),this.$empty(["loading","region"]))}}}),n._name="_mtvlogin"},{"./util":"/Users/shawn/Work/buggin/api/util.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","vigour-js/value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/api/mobile.js":[function(e,t,n){var s=e("vigour-js/util/config"),o=e("vigour-js/value"),i=e("./util"),r=s.api.url;t.exports=n=new o({verify:{ajax:{url:r+"api/v2/mbl_verifications.json",encode:"json",method:"POST",headers:{Accept:"*/*",redirectUrl:s.packer.domain+"/?m=$data"},data:function(e,t){return this.token&&this.token.val&&this.phonenumber&&this.phonenumber.val&&this.country&&this.country.val?{auth_token:this.token.val,user:{mobile_number:Number(this.phonenumber.val),mobile_country_prefix:Number(this.country.val),app_version:window["package"].version}}:void 0},defer:function(e,t,n,s){!n&&s&&s.valid?e("success"):(this.type=n?n.message:i.findError(s),e("error"),this.$empty(["loading","token"]))}}},sms:{ajax:{url:function(e,t){return"string"==typeof t&&r+"api/v2/mblconfirmation/"+t+".json"},method:"GET",defer:function(e,t,n,s){s.success?(this.set("token",s.authentication_token),e("success")):(this.type=n?n.message:i.findError(s),e("error"))}}},available:{ajax:{url:function(){var e=this._val instanceof o?this._val:this;if("string"==typeof e.val){var t=r+"api/v1/utt_info/c153f28d950ae49a/"+e.val;return this._cached=e.val,t}},defer:function(e,t,n,s){var i=this._val instanceof o?this._val:this;i.val!==this._cached?(e(!0),this._update()):s&&s.success?(this.set("transform",s&&s.country_info&&s.country_info.mbl_available&&!0||!1),e()):e(!0)}}}})},{"./util":"/Users/shawn/Work/buggin/api/util.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/network.js":[function(e,t,n){var s=e("vigour-js/value");t.exports=n=new s,window.cordova&&(document.addEventListener("offline",function(){n.val=!1},!1),document.addEventListener("online",function(){n.val=navigator.connection.type},!1))},{"vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/operator.js":[function(e,t,n){var s=e("vigour-js/util/config"),o=e("vigour-js/value"),i=e("vigour-js/app"),r=e("./util"),a=s.api.url;n.login=new o({ajax:{condition:function(e,t){return this.username&&this.password&&this.operator?(e.url=a+"api/v2/sessions.json",e.data={auth_method:3,operator_name:this.operator.val,operator_credentials:{username:this.username.val,password:this.password.val},user:{accept_mtv_country_tcs:["de"],language_code:"de"}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,n,s){!n&&s&&s.success?(this.set("token",s.authentication_token),s.new_record?this.set("new_record",s.new_record):this.new_record&&this.new_record.remove(),e("success")):(this.type=n?n.message:r.findError(s),e("error"),this.$empty(["loading","region"]))}}}),n.upgrade=new o({ajax:{condition:function(e,t){return this.username&&this.password&&this.operator?(e.url=a+"api/v2/operators/upgrade.json",e.data={auth_token:i.user.token.val,operator_name:this.operator.val,operator_credentials:{username:this.username.val,password:this.password.val}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,n,s){!n&&s&&s.success?e("success"):(this.type=n?n.message:r.findError(s),e("error"),this.$empty("loading"))}}})},{"./util":"/Users/shawn/Work/buggin/api/util.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/password.js":[function(e,t,n){var s=e("vigour-js/util/config"),o=e("vigour-js/value"),i=e("./util"),r=(e("vigour-js/browser/cases"),s.api.url);t.exports=n=new o({reset:{ajax:{url:function(e,t){return t="string"==typeof t?t:this.token&&this.token.val,"string"==typeof t&&r+"api/v1/password_resets/"+t+".json"},data:function(e,t){return this.password&&this.password.val&&{user:{password:this.password.val,password_confirmation:this.password.val,app_version:window["package"].version}}},encode:"json",method:"PUT",defer:function(e,t,n,s){s.success?(this.set("token",s.authentication_token),e("success")):(this.type=n?n.message:i.findError(s),e("error"))}}},forgot:{ajax:{url:r+"api/v1/password_resets.json",method:"POST",encode:"uri",headers:{appVersion:3,redirectUrl:s.packer.domain+"/?reset=$data"},data:function(e,t){return"string"==typeof t?{email:t}:void 0},defer:function(e,t,n,s){s.success?e("success"):(this.type=n?n.message:i.findError(s),e("error"))}}}}),n._name="password"},{"./util":"/Users/shawn/Work/buggin/api/util.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/player.js":[function(e,t,n){var s,o=e("vigour-js/util/config"),i=e("vigour-js/value");t.exports=n=new i({api:{defer:function(t,n){if(n[0]!==!0||s)return!0;s=!0,window.$=e("../libs/zepto").$,window.jQuery=window.$;var i=this,r=document.createElement("script");r.onerror=function(e){console.error(e),i.type="script",i.clearCache(),i.val=n[0]="error",t()},r.onload=function(){t("success")},r.src=o.player.web,r.id="player-script",this._parent.debug=o.player.debug,this._parent.settings=o.player.settings,document.getElementsByTagName("head")[0].appendChild(r)}},apiDefer:function(e,t){e("success")}})},{"../libs/zepto":"/Users/shawn/Work/buggin/libs/zepto.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/purchase/index.js":[function(e,t,n){var s=e("vigour-js/util/config"),o=e("vigour-js/value"),i=(e("../util"),s.api.url,e("vigour-js/browser/cases"));t.exports=n=new o({apiDefer:function(e){function t(t,s){if(s&&(t=null),t)n.type=t,e("error");else{try{console.log("response "+JSON.stringify(s,!1,2)),localStorage.setItem("receiptData",JSON.stringify(s))}catch(o){n.type=o}n.set("packageName",s.packageName),n.set("subscriptionId",s.productId),n.set("orderId",s.orderId),n.set("purchaseTime",s.purchaseTime),n.set("purchaseState",s.purchaseState),n.set("developerPayload",s.developerPayload),n.set("signature",s.signature),n.set("token",s.purchaseToken),e("success")}n.subscription&&(n.subscription.val=!1),n.product&&(n.product.val=!1)}var n=this;if(window.Store){var s=this.subscription&&this.subscription.val||this.product&&this.product.val;s?i.ios?Store.buy(s,function(t,s){if(s&&(t=null),t)n.type=t.description,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(s))}catch(o){n.type=o,e("error")}n.set("token",window.atob(s.restoreTransaction?s.restoreTransaction.transactionReceipt:s.completeTransaction.transactionReceipt)),e("success")}n.subscription&&(n.subscription.val=!1),n.product&&(n.product.val=!1)}):i.windowsMobile?Store.buy(s,function(t,s){if(s&&(t=null),t)n.type=t,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(s))}catch(o){n.type=o,e("error")}s.purchaseResults&&"Succeeded"===s.purchaseResults.status?(n.set("token",s.purchaseResults.receiptXml),n.set("transactionId",s.purchaseResults.transactionId),e("success")):(n.type=s.purchaseResults,e("error"))}n.subscription&&(n.subscription.val=!1),n.product&&(n.product.val=!1)}):this.subscription&&this.subscription.val?Store.subscribe(s,t):Store.buy(s,t):(e(!0),this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1))}else this.type="no store available",this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1)}}),n._name="purchase"},{"../util":"/Users/shawn/Work/buggin/api/util.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/purchase/pricing.js":[function(e,t,n){function s(e){var t=e.split("=")[1];return g[t]||t}function o(e){for(var t=e.length-1;t>=0;t--){var n=d&&d[e[t]];n?p[e[t]]=e[t]=n.replace("$region",(a.region.val||"").toLowerCase()):e.splice(t,1)}}function i(e){for(var t in p)if(p[t]===e)return t}var r=e("vigour-js/browser/cases"),a=e("vigour-js/app"),l=e("vigour-js/util/config"),u=e("vigour-js/browser/ua"),c=e("vigour-js/value"),d=l.store[u.platform],p={},g={EUR:"€",PLN:"zł",RON:"Lei"};t.exports=n=function(e){e?e instanceof Array||(e=[e]):e=["single","yearly","monthly"],o(e),!n._fetching&&window.cordova&&window.Store&&e.length&&(console.log("====> Store.fetch",e),n._fetching=!0,Store.fetch(e,function(e,t){n._fetching=null;try{console.log("====> fetch returns "+JSON.stringify(t,null,2))}catch(o){console.log("====> fetch returns. Impossible to stringify data")}if(e||!t)return console.error(e),n.single._fetching=null,n.monthly._fetching=null,void(n.yearly._fetching=null);var a,l,u,c,d=t.validProducts;if(r.ios)for(c=d.length-1;c>=0;c--)a=d[c],l=a.productIdentifier,u=i(l),n[u]?n[u].val=s(a.priceLocale)+a.price:console.error("can not find type ",u);else for(c=d.length-1;c>=0;c--){a=d[c];for(u in p)l=p[u],a[l]?n[u].val=a[l].price:console.error("can not find type ",u)}}))},n.single=new c({val:function(){this._fetching||n(),this._fetching=!0}}),n.monthly=new c({val:function(){this._fetching||n(),this._fetching=!0}}),n.yearly=new c({val:function(){this._fetching||n(),this._fetching=!0}})},{"vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/receipt.js":[function(e,t,n){function s(){var e;i&&(clearTimeout(i),i=null),e=h+.08*g,h=6e4>=e?e:0,i=setTimeout(function(){i=null,o()},e)}function o(){function e(){t&&(console.log("resetting auth token"),n.token.val=t)}var t,s=localStorage.getItem(p);if(!s)return!0;t=n.token&&n.token._val,n.once("success",e).once("error",e);try{console.log("Resending receipt data to backend",s),n.val=JSON.parse(s)}catch(o){console.error("Can't JSON.parse receipt data stored in local storage")}}var i,r=e("vigour-js/util/config"),a=e("vigour-js/value"),l=e("./util"),u=r.api.url,c=e("vigour-js/browser/cases"),d=e("vigour-js/util/encode64.js"),p="receiptData",g=1e4,h=0;t.exports=n=new a({ajax:{url:u+"api/v2/subscriptions",encode:"json",method:"POST",headers:{Accept:"*/*"},data:function(e,t){var n;if(this.token&&this.token.val&&this.receipt&&this.receipt.val){try{localStorage.setItem(p,JSON.stringify(this.raw))}catch(o){this.type=o,update("error")}if(c.ios)n={receipt:this.receipt.val,vendor:"apple"},this.episodeId&&(n.episode=this.episodeId.val);else if(c.android){if(!this.packageName)return void console.error(" add a packagename for android!");n={packageName:this.packageName.val,token:this.receipt.val,orderId:this.orderId.val,purchaseTime:this.purchaseTime.val,purchaseState:this.purchaseState.val,developerPayload:this.developerPayload.val,signature:this.signature.val,vendor:"google"},this.episodeId&&(n.episode=this.episodeId.val),this.subscriptionId&&(n.subscriptionId=this.subscriptionId.val)}else c.windowsMobile&&(n={receipt:d.encode(this.receipt.val),vendor:"microsoft"},this.episodeId&&(n.episode=this.episodeId.val));n&&(n.auth_token=this.token.val,s())}return n},defer:function(e,t,n,s){localStorage.removeItem(p),!n&&s&&s.success?(h=0,e("success")):(this.type=n?n.message:l.findError(s),e("error"),this.$empty("loading"))}}}),n._name="receipt",c["native"]&&(document.addEventListener("resume",o,!1),o())},{"./util":"/Users/shawn/Work/buggin/api/util.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/util/encode64.js":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/encode64.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/register.js":[function(e,t,n){var s=e("vigour-js/util/config"),o=e("vigour-js/value"),i=e("vigour-js/browser/cases"),r=e("./util"),a=s.api.url;t.exports=n=new o({ajax:{url:a+"api/v1/users.json",headers:{appVersion:3,redirectUrl:s.packer.domain+"/?e=$data"},method:"POST",encode:"json",data:function(){if(this.email&&this.password){var e=i.iphone&&"iphone"||i.android&&"android",t={user:{email:this.email.val,password:this.password.val,password_confirmation:this.password.val,accept_data_protection_tcs:!0,accept_mtv_country_tcs_for:this.region.val,app_version:window["package"].version}};return this.gender&&(t.user.gender=this.gender.val),this.newsletter&&(t.user.accept_newsletter=this.newsletter.val),this.age&&this.age.min_age&&(t.user.min_age=this.age.min_age.val,t.user.max_age=this.age.max_age.val),e&&(t.user.device_type=e),t}},defer:function(e,t,n,s){!n&&s&&s.success?e("success"):(this.type=n?n.message:r.findError(s),e("error"),this.$empty("region"))}}}),n._name="register"},{"./util":"/Users/shawn/Work/buggin/api/util.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/tracking/context.js":[function(e,t,n){var s=e("./map"),o=e("vigour-js/browser/ua"),i=e("vigour-js/util/config"),r=e("./omniture"),a=e("vigour-js/browser/cases"),l=e("vigour-js/app/");t.exports=function(e,t,n){var u,c,d,p,g=r.user,h=window["package"],f=g&&g.data&&g.data.from.cloud&&g.data.from,v=g?g.role.val:0,m=new Date,b=h?h.repository&&h.repository.branch:"master",w=f&&f._name||"not available";"userData"===w&&(w="unregistered"),"master"===b&&(b="dev"),t?(u=0,c="prop"):(u=1,c="eVar"),v=0===v?"free":1===v?"premium":2===v?"mtv mobile":3===v?"trial":"unregistered","ios"===o.platform&&(p="phone"===o.device?"iPhone":"iPad"),d={branch:b,title:e,version:window["package"]&&window["package"].version,role:v,device:p||o.platform+" "+o.device,region:i.region.val,lang:i.language.val,weekDay:s.weekDays[m.getDay()],hour:m.getHours()||24,age:f&&f.get&&f.get("birthday",!1).val||"not available",gender:f&&f.get&&f.get("gender",!1).val||"not available","native":window.cordova||"tv"===o.device||"cast"===o.device?"native":"web",userId:w||"unregistered",connected:String(a.$hasReceiver.val)||"none",secondscreen:String(!a.$isActive.val)||"none",devicesPresent:String(a.$hasDevices.val)||"none",loginStyle:a.$isLoggedIn.val&&f?f.facebook_id&&f.facebook_id.val?"facebook":"email":"none",network:l.network.val||"not available",networkOperator:"not available"},n||(d.title="none");for(var _ in d)r[c+s.vars[_][u]]=d[_]}},{"./map":"/Users/shawn/Work/buggin/api/tracking/map.js","./omniture":"/Users/shawn/Work/buggin/api/tracking/omniture.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/api/tracking/dataform.js":[function(e,t,n){var s=e("vigour-js/browser/network/ajax");e("vigour-js/browser/events/util").postpone;e("./ga");var o;window.device?o=window.device.uuid:ga(function(e){o=e.get("clientId")});var i=function(e){e.an="MTV Play",e.tid="UA-43955457-6",e.cid=o,s({url:"http://www.google-analytics.com/collect?v=1",method:"POST",headers:{accept:"text/plain"},data:e})},r=function(e,t,n){i({t:"event",ec:e,ea:t,el:n})},a=function(e){i({uid:e})},l=function(e){var t={};t.cm1=e,i(t)};n.sendData=i,n.sendEvent=r,n.setUserid=a,n.setDimension=l},{"./ga":"/Users/shawn/Work/buggin/api/tracking/ga.js","vigour-js/browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js","vigour-js/browser/network/ajax":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/ajax.js"}],"/Users/shawn/Work/buggin/api/tracking/ga.js":[function(e,t,n){var s=e("vigour-js/browser/cases");!function(e,t,n,s,o,i,r){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),r=t.getElementsByTagName(n)[0],i.async=1,i.src=s,r.parentNode.insertBefore(i,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),s["native"]?ga("set",{checkProtocolTask:null,storage:"none"}):ga("create","UA-43955457-6","auto"),t.exports=window.ga},{"vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/api/tracking/index.js":[function(e,t,n){function s(e){var t=f.token.val,n=c.api.url+"api/v1/users/"+t+"/activities",s=v.$isOnChannel.val,o={activity:{action:"watch",resource_type:s?"simulcast":"episode",resource_id:e,repository:"sensei",environment:"production"}};b("event","video","watch"),t&&h({url:n,method:"POST",headers:{accept:"application/json"},encode:"json",data:o,error:function(e){console.error("POST",n,o,e)}})}function o(){var e=f.token.val;c.api.url+"/api/v1/users/"+e+"/activities";b("event","sharing","facebook")}var i,r,a=e("./omniture"),l=e("vigour-js/browser/events/util").postpone,u=e("vigour-js/browser/ua"),c=e("vigour-js/util/config"),d=(e("vigour-js/browser/network/url"),e("vigour-js/util"),e("./map")),c=e("vigour-js/util/config"),p=e("./context"),g=e("./pagename"),h=e("vigour-js/browser/network/ajax"),f=(e("../facebook/share"),e("../../app/user")),v=e("vigour-js/browser/cases"),m=e("./dataform").sendData,b=e("./dataform").sendEvent;n.omniture=a,a.account=c.omniture;var w=l(function(){a.tl.apply(this,arguments),delete a.events},1e3);n.setSearchProp=l(function(e){e&&(a["prop"+d.vars.search[0]]=e)},1e3),n.video=function(e,t,n){if(n||(n=t),t.from&&(n=t.from._cachedPath),"string"==typeof n){var o,i="videoPlay"===e||"videoPause"===e?e:"",l={videostart:[0,.1],video25:[.25,.26],video50:[.5,.51],video75:[.75,.76],videofinished:[.9,.95]};if(e=-1*e,!i)for(var u in l)if(e>l[u][0]&&e<l[u][1]){if(i=u,o=i+n,r&&i+n===r)return;r=i+n;break}if(i&&t.from._parent._parent){var c=g(t.from._parent._parent._parent._cachedPath),h="video > "+c.name;p(c.title,!1,!0),h.split(">").length<7&&(h+=" > seasons 1 > episodes 1"),h+=(" : "+t.get("title","").val).toLowerCase(),a["eVar"+d.vars.videoName[1]]=h,a.events="event"+d.events[i],"videostart"===i&&s(t.id.val),a.tl(!0,"o",i)}}},n.event=l(function(e,t,n,s){"swipeUp"===e&&b("event","multiscreen","swipe-up"),a.events="event"+d.events[e],p(),"upgradeMtvFailed"===e&&(a["eVar"+d.events.mtvMobileFailed]=t),"search"===e&&w(!0,"o",e),a.tl(!0,"o",e),delete a.events,"sharingFacebookSucces"===e&&o()},1e3),n.popup=l(function(e){if(e){var t="desktop"===u.device?"web":u.platform,n=c.region.val+" > "+t+" > ";p(e,!0,!1),a.pageName=(n+"other > "+e).toLowerCase(),a.t()}},1e3),n.pageView=l(function(e){if(e.from&&(e=e.from._cachedPath),"string"==typeof e){var t=g(e),n=t.title;a.pageName=t.name.toLowerCase(),p(n,!0,~e.lastIndexOf(".")),a.t();var s={t:"appview",aip:1,cd:t.name};i&&(s.uid=i),m(s)}},1e3),v.$isLoggedIn.on(function(){i=v.$isLoggedIn.val?f.id.val:!1})},{"../../app/user":"/Users/shawn/Work/buggin/app/user.js","../facebook/share":"/Users/shawn/Work/buggin/api/facebook/share.js","./context":"/Users/shawn/Work/buggin/api/tracking/context.js","./dataform":"/Users/shawn/Work/buggin/api/tracking/dataform.js","./map":"/Users/shawn/Work/buggin/api/tracking/map.js","./omniture":"/Users/shawn/Work/buggin/api/tracking/omniture.js","./pagename":"/Users/shawn/Work/buggin/api/tracking/pagename.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js","vigour-js/browser/network/ajax":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/ajax.js","vigour-js/browser/network/url":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/url.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/api/tracking/lib/AppMeasurement.js":[function(e,t,n){function s(){var e=this;e.version="1.4.1";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.sb;n||(n=null);var s,o,i=t;try{for(s=i.parent,o=i.location;s&&s.location&&o&&""+s.location!=""+o&&i.location&&""+s.location!=""+i.location&&s.location.host==o.host;)i=s,s=i.parent}catch(r){}e.eb=function(e){try{console.log(e)}catch(t){}},e.ta=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||e.indexOf(t)<0?e:e.split(t).join(n)},e.escape=function(t){var n,s;if(!t)return t;for(t=encodeURIComponent(t),n=0;7>n;n++)s="+~!*()'".substring(n,n+1),t.indexOf(s)>=0&&(t=e.replace(t,s,"%"+s.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=t.indexOf("+")>=0?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(n){}return unescape(t)},e.Va=function(){var n,s=t.location.hostname,o=e.fpCookieDomainPeriods;if(o||(o=e.cookieDomainPeriods),s&&!e.cookieDomain&&!/^[0-9.]+$/.test(s)&&(o=o?parseInt(o):2,o=o>2?o:2,n=s.lastIndexOf("."),n>=0)){for(;n>=0&&o>1;)n=s.lastIndexOf(".",n-1),o--;e.cookieDomain=n>0?s.substring(n):s}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,s=n.indexOf(" "+t+"="),o=0>s?s:n.indexOf(";",s);return t=0>s?"":e.unescape(n.substring(s+2+t.length,0>o?n.length:o)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,s){var o,i=e.Va(),r=e.cookieLifetime;return n=""+n,r=r?(""+r).toUpperCase():"",s&&"SESSION"!=r&&"NONE"!=r&&((o=""!=n?parseInt(r?r:0):-60)?(s=new Date,s.setTime(s.getTime()+1e3*o)):1==s&&(s=new Date,o=s.getYear(),s.setYear(o+5+(1900>o?1900:0)))),t&&"NONE"!=r?(e.d.cookie=t+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(s&&"SESSION"!=r?" expires="+s.toGMTString()+";":"")+(i?" domain="+i+";":""),e.cookieRead(t)==n):0},e.C=[],e.B=function(t,n,s){if(e.ma)return 0;e.maxDelay||(e.maxDelay=250);var o=0,i=(new Date).getTime()+e.maxDelay,r=e.d.qb,a=["webkitvisibilitychange","visibilitychange"];
if(r||(r=e.d.rb),r&&"prerender"==r){if(!e.X)for(e.X=1,s=0;s<a.length;s++)e.d.addEventListener(a[s],function(){var t=e.d.qb;t||(t=e.d.rb),"visible"==t&&(e.X=0,e.delayReady())});o=1,i=0}else s||e.q("_d")&&(o=1);return o&&(e.C.push({m:t,a:n,t:i}),e.X||setTimeout(e.delayReady,e.maxDelay)),o},e.delayReady=function(){var t,n=(new Date).getTime(),s=0;for(e.q("_d")&&(s=1);e.C.length>0;){if(t=e.C.shift(),s&&!t.t&&t.t>n){e.C.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ma=1,e[t.m].apply(e,t.a),e.ma=0}},e.setAccount=e.sa=function(t){var n,s;if(!e.B("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),s=0;s<n.length;s++)(0==s||n[s-1]!=n[s])&&e.allAccounts.push(n[s]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var s,o,i,r,a="";for(i=o="",e.lightProfileID?(s=e.H,(a=e.lightTrackVars)&&(a=","+a+","+e.ba.join(",")+",")):(s=e.c,(e.pe||e.linkType)&&(a=e.linkTrackVars,o=e.linkTrackEvents,e.pe&&(i=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[i])&&(a=e[i].pb,o=e[i].ob)),a&&(a=","+a+","+e.z.join(",")+","),o&&a&&(a+=",events,")),n&&(n=","+n+","),o=0;o<s.length;o++)i=s[o],(r=e[i])&&(!a||a.indexOf(","+i+",")>=0)&&(!n||n.indexOf(","+i+",")>=0)&&t(i,r)},e.J=function(t,n,s,o,i){var r,a,l,u,c="",d=0;if("contextData"==t&&(t="c"),n){for(r in n)if(!Object.prototype[r]&&(!i||r.substring(0,i.length)==i)&&n[r]&&(!s||s.indexOf(","+(o?o+".":"")+r+",")>=0)){if(l=!1,d)for(a=0;a<d.length;a++)r.substring(0,d[a].length)==d[a]&&(l=!0);if(!l&&(""==c&&(c+="&"+t+"."),a=n[r],i&&(r=r.substring(i.length)),r.length>0))if(l=r.indexOf("."),l>0)a=r.substring(0,l),l=(i?i:"")+a+".",d||(d=[]),d.push(l),c+=e.J(a,n,s,o,l);else if("boolean"==typeof a&&(a=a?"true":"false"),a){if("retrieveLightData"==o&&i.indexOf(".contextData.")<0)switch(l=r.substring(0,4),u=r.substring(4),r){case"transactionID":r="xact";break;case"channel":r="ch";break;case"campaign":r="v0";break;default:e.ta(u)&&("prop"==l?r="c"+u:"eVar"==l?r="v"+u:"list"==l?r="l"+u:"hier"==l&&(r="h"+u,a=a.substring(0,255)))}c+="&"+e.escape(r)+"="+e.escape(a)}}""!=c&&(c+="&."+t)}return c},e.Xa=function(){var t,n,s,o,i,r,a,l,u="",c="",d="",p=n="";for(e.lightProfileID?(t=e.H,(c=e.lightTrackVars)&&(c=","+c+","+e.ba.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(c=e.linkTrackVars,d=e.linkTrackEvents,e.pe&&(n=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[n])&&(c=e[n].pb,d=e[n].ob)),c&&(c=","+c+","+e.z.join(",")+","),d&&(d=","+d+",",c&&(c+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.AudienceManagement&&e.AudienceManagement.isReady()&&(u+=e.J("d",e.AudienceManagement.getEventCallConfigParams())),n=0;n<t.length;n++){if(o=t[n],i=e[o],s=o.substring(0,4),r=o.substring(4),!i&&"events"==o&&p&&(i=p,p=""),i&&(!c||c.indexOf(","+o+",")>=0)){switch(o){case"supplementalDataID":o="sdid";break;case"timestamp":o="ts";break;case"dynamicVariablePrefix":o="D";break;case"visitorID":o="vid";break;case"marketingCloudVisitorID":o="mid";break;case"analyticsVisitorID":o="aid";break;case"audienceManagerLocationHint":o="aamlh";break;case"audienceManagerBlob":o="aamb";break;case"authState":o="as";break;case"pageURL":o="g",i.length>255&&(e.pageURLRest=i.substring(255),i=i.substring(0,255));break;case"pageURLRest":o="-g";break;case"referrer":o="r";break;case"vmk":case"visitorMigrationKey":o="vmt";break;case"visitorMigrationServer":o="vmf",e.ssl&&e.visitorMigrationServerSecure&&(i="");break;case"visitorMigrationServerSecure":o="vmf",!e.ssl&&e.visitorMigrationServer&&(i="");break;case"charSet":o="ce";break;case"visitorNamespace":o="ns";break;case"cookieDomainPeriods":o="cdp";break;case"cookieLifetime":o="cl";break;case"variableProvider":o="vvp";break;case"currencyCode":o="cc";break;case"channel":o="ch";break;case"transactionID":o="xact";break;case"campaign":o="v0";break;case"latitude":o="lat";break;case"longitude":o="lon";break;case"resolution":o="s";break;case"colorDepth":o="c";break;case"javascriptVersion":o="j";break;case"javaEnabled":o="v";break;case"cookiesEnabled":o="k";break;case"browserWidth":o="bw";break;case"browserHeight":o="bh";break;case"connectionType":o="ct";break;case"homepage":o="hp";break;case"events":if(p&&(i+=(""!=i?",":"")+p),d)for(r=i.split(","),i="",s=0;s<r.length;s++)a=r[s],l=a.indexOf("="),l>=0&&(a=a.substring(0,l)),l=a.indexOf(":"),l>=0&&(a=a.substring(0,l)),d.indexOf(","+a+",")>=0&&(i+=(i?",":"")+r[s]);break;case"events2":i="";break;case"contextData":u+=e.J("c",e[o],c,o),i="";break;case"lightProfileID":o="mtp";break;case"lightStoreForSeconds":o="mtss",e.lightProfileID||(i="");break;case"lightIncrementBy":o="mti",e.lightProfileID||(i="");break;case"retrieveLightProfiles":o="mtsr";break;case"deleteLightProfiles":o="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(u+=e.J("mts",e[o],c,o)),i="";break;default:e.ta(r)&&("prop"==s?o="c"+r:"eVar"==s?o="v"+r:"list"==s?o="l"+r:"hier"==s&&(o="h"+r,i=i.substring(0,255)))}i&&(u+="&"+o+"="+("pev"!=o.substring(0,3)?e.escape(i):i))}"pev3"==o&&e.g&&(u+=e.g)}return u},e.u=function(e){var t=e.tagName;return""+e.wb!="undefined"||""+e.ib!="undefined"&&"HTML"!=(""+e.ib).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.oa=function(e){var t,n,s,o=e.href?e.href:"";return t=o.indexOf(":"),n=o.indexOf("?"),s=o.indexOf("/"),o&&(0>t||n>=0&&t>n||s>=0&&t>s)&&(n=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),o=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>t?0:t)+"/":"")+o),o},e.D=function(t){var n,s,o=e.u(t),i="",r=0;return o&&(n=t.protocol,s=t.onclick,!t.href||"A"!=o&&"AREA"!=o||s&&n&&!(n.toLowerCase().indexOf("javascript")<0)?s?(i=e.replace(e.replace(e.replace(e.replace(""+s,"\r",""),"\n",""),"	","")," ",""),r=2):"INPUT"==o||"SUBMIT"==o?(t.value?i=t.value:t.innerText?i=t.innerText:t.textContent&&(i=t.textContent),r=3):t.src&&"IMAGE"==o&&(i=t.src):i=e.oa(t),i)?{id:i.substring(0,100),type:r}:0},e.tb=function(t){for(var n=e.u(t),s=e.D(t);t&&!s&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.u(t),s=e.D(t));return s&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",n.indexOf(".tl(")>=0||n.indexOf(".trackLink(")>=0)&&(t=0),t},e.hb=function(){var n,s,o,i,r=e.linkObject,a=e.linkType,l=e.linkURL;if(e.ca=1,r||(e.ca=0,r=e.clickObject),r){for(n=e.u(r),s=e.D(r);r&&!s&&"BODY"!=n;)(r=r.parentElement?r.parentElement:r.parentNode)&&(n=e.u(r),s=e.D(r));if(s&&"BODY"!=n||(r=0),r){var u=r.onclick?""+r.onclick:"";(u.indexOf(".tl(")>=0||u.indexOf(".trackLink(")>=0)&&(r=0)}}else e.ca=1;if(!l&&r&&(l=e.oa(r)),l&&!e.linkLeaveQueryString&&(o=l.indexOf("?"),o>=0&&(l=l.substring(0,o))),!a&&l){var c,d=0,p=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(u=l.toLowerCase(),o=u.indexOf("?"),i=u.indexOf("#"),o>=0?i>=0&&o>i&&(o=i):o=i,o>=0&&(u=u.substring(0,o)),o=e.linkDownloadFileTypes.toLowerCase().split(","),i=0;i<o.length;i++)(c=o[i])&&u.substring(u.length-(c.length+1))=="."+c&&(a="d");if(e.trackExternalLinks&&!a&&(u=l.toLowerCase(),e.ra(u))&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),o=0,e.linkExternalFilters?(o=e.linkExternalFilters.toLowerCase().split(","),d=1):e.linkInternalFilters&&(o=e.linkInternalFilters.toLowerCase().split(",")),o)){for(i=0;i<o.length;i++)c=o[i],u.indexOf(c)>=0&&(p=1);p?d&&(a="e"):d||(a="e")}}e.linkObject=r,e.linkURL=l,e.linkType=a,(e.trackClickMap||e.trackInlineStats)&&(e.g="",r&&(a=e.pageName,l=1,r=r.sourceIndex,a||(a=e.pageURL,l=0),t.s_objectID&&(s.id=t.s_objectID,r=s.type=1),a&&s&&s.id&&n&&(e.g="&pid="+e.escape(a.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(s.id.substring(0,100))+(s.type?"&oidt="+s.type:"")+"&ot="+n+(r?"&oi="+r:""))))},e.Ya=function(){var t=e.ca,n=e.linkType,s=e.linkURL,o=e.linkName;if(n&&(s||o)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=s?e.escape(s):"",e.pev2=o?e.escape(o):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){n={},s=0;var i,r,a,l=e.cookieRead("s_sq"),u=l?l.split("&"):0;if(l=0,u)for(i=0;i<u.length;i++)r=u[i].split("="),o=e.unescape(r[0]).split(","),r=e.unescape(r[1]),n[r]=o;if(o=e.account.split(","),t||e.g){t&&!e.g&&(l=1);for(r in n)if(!Object.prototype[r])for(i=0;i<o.length;i++)for(l&&(a=n[r].join(","),a==e.account&&(e.g+=("&"!=r.charAt(0)?"&":"")+r,n[r]=[],s=1)),u=0;u<n[r].length;u++)a=n[r][u],a==o[i]&&(l&&(e.g+="&u="+e.escape(a)+("&"!=r.charAt(0)?"&":"")+r+"&u=0"),n[r].splice(u,1),s=1);if(t||(s=1),s){l="",i=2,!t&&e.g&&(l=e.escape(o.join(","))+"="+e.escape(e.g),i=1);for(r in n)!Object.prototype[r]&&i>0&&n[r].length>0&&(l+=(l?"&":"")+e.escape(n[r].join(","))+"="+e.escape(r),i--);e.cookieWrite("s_sq",l)}}}return t},e.Za=function(){if(!e.nb){var t,n,s=new Date,o=i.location,r=n=t="",a="",l="",u="1.2",c=e.cookieWrite("s_cc","true",0)?"Y":"N",d="",p="";if(s.setUTCDate&&(u="1.3",0..toPrecision&&(u="1.5",s=[],s.forEach))){u="1.6",n=0,t={};try{n=new Iterator(t),n.next&&(u="1.7",s.reduce&&(u="1.8",u.trim&&(u="1.8.1",Date.parse&&(u="1.8.2",Object.create&&(u="1.8.5")))))}catch(g){}}t=screen.width+"x"+screen.height,r=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,a=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),d=e.b.ub(o)?"Y":"N"}catch(h){}try{e.b.addBehavior("#default#clientCaps"),p=e.b.connectionType}catch(f){}e.resolution=t,e.colorDepth=n,e.javascriptVersion=u,e.javaEnabled=r,e.cookiesEnabled=c,e.browserWidth=a,e.browserHeight=l,e.connectionType=p,e.homepage=d,e.nb=1}},e.I={},e.loadModule=function(n,s){var o=e.I[n];if(!o){o=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.I[n]=e[n]=o,o.Fa=function(){return o.Ja},o.Ka=function(t){(o.Ja=t)&&(e[n+"_onLoad"]=t,e.B(n+"_onLoad",[e,o],1)||t(e,o))};try{Object.defineProperty?Object.defineProperty(o,"onLoad",{get:o.Fa,set:o.Ka}):o._olc=1}catch(i){o._olc=1}}s&&(e[n+"_onLoad"]=s,e.B(n+"_onLoad",[e,o],1)||s(e,o))},e.q=function(t){var n,s;for(n in e.I)if(!Object.prototype[n]&&(s=e.I[n])&&(s._olc&&s.onLoad&&(s._olc=0,s.onLoad(e,s)),s[t]&&s[t]()))return 1;return 0},e.bb=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,s=e.visitorSamplingGroup;s="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(s?"_"+s:"");var o=e.cookieRead(s);if(n){if(o&&(o=parseInt(o)),!o){if(!e.cookieWrite(s,t))return 0;o=t}if(o%1e4>v)return 0}return 1},e.K=function(t,n){var s,o,i,r,a,l;for(s=0;2>s;s++)for(o=s>0?e.ia:e.c,i=0;i<o.length;i++)if(r=o[i],(a=t[r])||t["!"+r]){if(!n&&("contextData"==r||"retrieveLightData"==r)&&e[r])for(l in e[r])a[l]||(a[l]=e[r][l]);e[r]=a}},e.Aa=function(t,n){var s,o,i,r;for(s=0;2>s;s++)for(o=s>0?e.ia:e.c,i=0;i<o.length;i++)r=o[i],t[r]=e[r],!n&&!t[r]&&(t["!"+r]=1)},e.Ua=function(e){var t,n,s,o,i,r,a=0,l="",u="";if(e&&e.length>255&&(t=""+e,n=t.indexOf("?"),n>0&&(r=t.substring(n+1),t=t.substring(0,n),o=t.toLowerCase(),s=0,"http://"==o.substring(0,7)?s+=7:"https://"==o.substring(0,8)&&(s+=8),n=o.indexOf("/",s),n>0&&(o=o.substring(s,n),i=t.substring(n),t=t.substring(0,n),o.indexOf("google")>=0?a=",q,ie,start,search_key,word,kw,cd,":o.indexOf("yahoo.co")>=0&&(a=",p,ei,"),a&&r)))){if((e=r.split("&"))&&e.length>1){for(s=0;s<e.length;s++)o=e[s],n=o.indexOf("="),n>0&&a.indexOf(","+o.substring(0,n)+",")>=0?l+=(l?"&":"")+o:u+=(u?"&":"")+o;l&&u?r=l+"&"+u:u=""}n=253-(r.length-u.length)-t.length,e=t+(n>0?i.substring(0,n):"")+"?"+r}return e},e.U=!1,e.O=!1,e.Ia=function(t){e.marketingCloudVisitorID=t,e.O=!0,e.k()},e.R=!1,e.L=!1,e.Ca=function(t){e.analyticsVisitorID=t,e.L=!0,e.k()},e.T=!1,e.N=!1,e.Ea=function(t){e.audienceManagerLocationHint=t,e.N=!0,e.k()},e.S=!1,e.M=!1,e.Da=function(t){e.audienceManagerBlob=t,e.M=!0,e.k()},e.isReadyToTrack=function(){var t=!0,n=e.visitor;return n&&n.isAllowed()&&(!e.U&&!e.marketingCloudVisitorID&&n.getMarketingCloudVisitorID&&(e.U=!0,e.marketingCloudVisitorID=n.getMarketingCloudVisitorID([e,e.Ia]),e.marketingCloudVisitorID)&&(e.O=!0),!e.R&&!e.analyticsVisitorID&&n.getAnalyticsVisitorID&&(e.R=!0,e.analyticsVisitorID=n.getAnalyticsVisitorID([e,e.Ca]),e.analyticsVisitorID)&&(e.L=!0),!e.T&&!e.audienceManagerLocationHint&&n.getAudienceManagerLocationHint&&(e.T=!0,e.audienceManagerLocationHint=n.getAudienceManagerLocationHint([e,e.Ea]),e.audienceManagerLocationHint)&&(e.N=!0),!e.S&&!e.audienceManagerBlob&&n.getAudienceManagerBlob&&(e.S=!0,e.audienceManagerBlob=n.getAudienceManagerBlob([e,e.Da]),e.audienceManagerBlob)&&(e.M=!0),(e.U&&!e.O&&!e.marketingCloudVisitorID||e.R&&!e.L&&!e.analyticsVisitorID||e.T&&!e.N&&!e.audienceManagerLocationHint||e.S&&!e.M&&!e.audienceManagerBlob)&&(t=!1)),t},e.j=n,e.l=0,e.callbackWhenReadyToTrack=function(t,s,o){var i;i={},i.Oa=t,i.Na=s,i.La=o,e.j==n&&(e.j=[]),e.j.push(i),0==e.l&&(e.l=setInterval(e.k,100))},e.k=function(){var t;if(e.isReadyToTrack()&&(e.l&&(clearInterval(e.l),e.l=0),e.j!=n))for(;e.j.length>0;)t=e.j.shift(),t.Na.apply(t.Oa,t.La)},e.Ga=function(t){var s,o,i=n,r=n;if(!e.isReadyToTrack()){if(s=[],t!=n)for(o in i={},t)i[o]=t[o];return r={},e.Aa(r,!0),s.push(i),s.push(r),e.callbackWhenReadyToTrack(e,e.track,s),!0}return!1},e.Wa=function(){var t,n=e.cookieRead("s_fid"),s="",o="";t=8;var i=4;if(!n||n.indexOf("-")<0){for(n=0;16>n;n++)t=Math.floor(Math.random()*t),s+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*i),o+="0123456789ABCDEF".substring(t,t+1),t=i=16;n=s+"-"+o}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,s){var o,r=new Date,a="s"+Math.floor(r.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=r.getYear();l="t="+e.escape(r.getDate()+"/"+r.getMonth()+"/"+(1900>l?l+1900:l)+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+" "+r.getDay()+" "+r.getTimezoneOffset()),e.visitor&&(e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,e.expectSupplementalData?!1:!0))),e.q("_s"),e.B("track",arguments)||(e.Ga(n)||(s&&e.K(s),n&&(o={},e.Aa(o,0),e.K(n)),e.bb()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.Wa()),e.hb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(r.getTime()/1e3)),r=t.location,e.pageURL||(e.pageURL=r.href?r.href:r),e.referrer||e.Ba||(e.referrer=i.document.referrer,e.Ba=1),e.referrer=e.Ua(e.referrer),e.q("_g")),e.Ya()&&!e.abort&&(e.Za(),l+=e.Xa(),e.gb(a,l),e.q("_t"),e.referrer=""))),n&&e.K(o,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.vb=e.pe=e.pev1=e.pev2=e.pev3=e.g=0)},e.tl=e.trackLink=function(t,n,s,o,i){return e.linkObject=t,e.linkType=n,e.linkName=s,i&&(e.i=t,e.p=i),e.track(o)},e.trackLight=function(t,n,s,o){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=s,e.track(o)},e.clearVars=function(){var t,n;for(t=0;t<e.c.length;t++)n=e.c[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.tagContainerMarker="",e.gb=function(t,n){var s,o=e.trackingServer;s="";var i=e.dc,r="sc.",a=e.visitorNamespace;o?e.trackingServerSecure&&e.ssl&&(o=e.trackingServerSecure):(a||(a=e.account,o=a.indexOf(","),o>=0&&(a=a.substring(0,o)),a=a.replace(/[^A-Za-z0-9]/g,"")),s||(s="2o7.net"),i=i?(""+i).toLowerCase():"d1","2o7.net"==s&&("d1"==i?i="112":"d2"==i&&(i="122"),r=""),o=a+"."+i+"."+r+s),s=e.ssl?"https://":"http://",i=e.AudienceManagement&&e.AudienceManagement.isReady(),s+=o+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(i?"10":"1")+"/JS-"+e.version+(e.mb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(i?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+n+"&AQE=1",e.Sa(s),e.Y()},e.Sa=function(t){e.e||e.$a(),e.e.push(t),e.aa=e.r(),e.za()},e.$a=function(){e.e=e.cb(),e.e||(e.e=[])},e.cb=function(){var n,s;if(e.fa()){try{(s=t.localStorage.getItem(e.da()))&&(n=t.JSON.parse(s))}catch(o){}return n}},e.fa=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.pa=function(){var t=0;return e.e&&(t=e.e.length),e.v&&t++,t},e.Y=function(){if(!e.v)if(e.qa=n,e.ea)e.aa>e.G&&e.xa(e.e),e.ha(500);else{var t=e.Ma();t>0?e.ha(t):(t=e.na())&&(e.v=1,e.fb(t),e.jb(t))}},e.ha=function(t){e.qa||(t||(t=0),e.qa=setTimeout(e.Y,t))},e.Ma=function(){var t;return!e.trackOffline||e.offlineThrottleDelay<=0?0:(t=e.r()-e.wa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.na=function(){return e.e.length>0?e.e.shift():void 0},e.fb=function(t){if(e.debugTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var s;for(s=0;s<t.length;s++)n+="\n	"+e.unescape(t[s]);e.eb(n)}},e.Ha=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Q=!1;var a;try{a=JSON.parse('{"x":"y"}')}catch(u){a=null}a&&"y"==a.x?(e.Q=!0,e.P=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.P=function(e){return t.$.parseJSON(e)},e.Q=!0):e.P=function(){return null},e.jb=function(n){var s,o,i;if(e.Ha()&&n.length>2047&&("undefined"!=typeof XMLHttpRequest&&(s=new XMLHttpRequest,"withCredentials"in s?o=1:s=0),!s&&"undefined"!=typeof XDomainRequest&&(s=new XDomainRequest,o=2),s&&e.AudienceManagement&&e.AudienceManagement.isReady())&&(e.Q?s.ja=!0:s=0),!s&&e.ab&&(n=n.substring(0,2047)),!s&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(s=e.d.createElement("SCRIPT"))&&"async"in s&&((i=(i=e.d.getElementsByTagName("HEAD"))&&i[0]?i[0]:e.d.body)?(s.type="text/javascript",s.setAttribute("async","async"),o=3):s=0),s||(s=new Image,s.alt=""),s.la=function(){try{e.ga&&(clearTimeout(e.ga),e.ga=0),s.timeout&&(clearTimeout(s.timeout),s.timeout=0)}catch(t){}},s.onload=s.lb=function(){if(s.la(),e.Ra(),e.V(),e.v=0,e.Y(),s.ja){s.ja=!1;try{var t=e.P(s.responseText);AudienceManagement.passData(t)}catch(n){}}},s.onabort=s.onerror=s.Ta=function(){s.la(),(e.trackOffline||e.ea)&&e.v&&e.e.unshift(e.Qa),e.v=0,e.aa>e.G&&e.xa(e.e),e.V(),e.ha(500)},s.onreadystatechange=function(){4==s.readyState&&(200==s.status?s.lb():s.Ta())},e.wa=e.r(),1==o||2==o){var r=n.indexOf("?");i=n.substring(0,r),r=n.substring(r+1),r=r.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==o?(s.open("POST",i,!0),s.send(r)):2==o&&(s.open("POST",i),s.send(r))}else if(s.src=n,3==o){if(e.ua)try{i.removeChild(e.ua)}catch(a){}i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),e.ua=e.Pa}s.abort&&(e.ga=setTimeout(s.abort,5e3)),e.Qa=n,e.Pa=t["s_i_"+e.replace(e.account,",","_")]=s,(e.useForcedLinkTracking&&e.A||e.p)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.W=setTimeout(e.V,e.forcedLinkTrackingTimeout))},e.Ra=function(){if(e.fa()&&!(e.va>e.G))try{t.localStorage.removeItem(e.da()),e.va=e.r()}catch(n){}},e.xa=function(n){if(e.fa()){e.za();try{t.localStorage.setItem(e.da(),t.JSON.stringify(n)),e.G=e.r()}catch(s){}}},e.za=function(){if(e.trackOffline)for((!e.offlineLimit||e.offlineLimit<=0)&&(e.offlineLimit=10);e.e.length>e.offlineLimit;)e.na()},e.forceOffline=function(){e.ea=!0},e.forceOnline=function(){e.ea=!1},e.da=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.r=function(){return(new Date).getTime()},e.ra=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")?!0:!1},e.setTagContainer=function(t){var n,s,o;for(e.mb=t,n=0;n<e._il.length;n++)if((s=e._il[n])&&"s_l"==s._c&&s.tagContainerName==t){if(e.K(s),s.lmq)for(n=0;n<s.lmq.length;n++)o=s.lmq[n],e.loadModule(o.n);if(s.ml)for(o in s.ml)if(e[o])for(n in t=e[o],o=s.ml[o])!Object.prototype[n]&&("function"!=typeof o[n]||(""+o[n]).indexOf("s_c_il")<0)&&(t[n]=o[n]);if(s.mmq)for(n=0;n<s.mmq.length;n++)o=s.mmq[n],e[o.m]&&(t=e[o.m],t[o.f]&&"function"==typeof t[o.f]&&(o.a?t[o.f].apply(t,o.a):t[o.f].apply(t)));if(s.tq)for(n=0;n<s.tq.length;n++)e.track(s.tq[n]);s.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,s,o){var i;return s||(s=e.pageURL?e.pageURL:t.location),o||(o="&"),n&&s&&(s=""+s,i=s.indexOf("?"),i>=0&&(s=o+s.substring(i+1)+o,i=s.indexOf(o+n+"="),i>=0&&(s=s.substring(i+o.length+n.length+1),i=s.indexOf(o),i>=0&&(s=s.substring(0,i)),s.length>0)))?e.unescape(s):""}},e.z=["supplementalDataID","timestamp","dynamicVariablePrefix","visitorID","marketingCloudVisitorID","analyticsVisitorID","audienceManagerLocationHint","authState","fid","vmk","visitorMigrationKey","visitorMigrationServer","visitorMigrationServerSecure","charSet","visitorNamespace","cookieDomainPeriods","fpCookieDomainPeriods","cookieLifetime","pageName","pageURL","referrer","contextData","currencyCode","lightProfileID","lightStoreForSeconds","lightIncrementBy","retrieveLightProfiles","deleteLightProfiles","retrieveLightData","pe","pev1","pev2","pev3","pageURLRest"],e.c=e.z.concat(["purchaseID","variableProvider","channel","server","pageType","transactionID","campaign","state","zip","events","events2","products","audienceManagerBlob","tnt"]),e.ba=["timestamp","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","contextData","lightProfileID","lightStoreForSeconds","lightIncrementBy"],e.H=e.ba.slice(0),e.ia=["account","allAccounts","debugTracking","visitor","trackOffline","offlineLimit","offlineThrottleDelay","offlineFilename","usePlugins","doPlugins","configURL","visitorSampling","visitorSamplingGroup","linkObject","clickObject","linkURL","linkName","linkType","trackDownloadLinks","trackExternalLinks","trackClickMap","trackInlineStats","linkLeaveQueryString","linkTrackVars","linkTrackEvents","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","useForcedLinkTracking","forcedLinkTrackingTimeout","trackingServer","trackingServerSecure","ssl","abort","mobile","dc","lightTrackVars","maxDelay","expectSupplementalData","AudienceManagement"];for(s=0;250>=s;s++)76>s&&(e.c.push("prop"+s),e.H.push("prop"+s)),e.c.push("eVar"+s),e.H.push("eVar"+s),6>s&&e.c.push("hier"+s),4>s&&e.c.push("list"+s);s=["latitude","longitude","resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage"],e.c=e.c.concat(s),e.z=e.z.concat(s),e.ssl=t.location.protocol.toLowerCase().indexOf("https")>=0,e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.wa=0,e.aa=0,e.G=0,e.va=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{e.ab="Microsoft Internet Explorer"==navigator.appName}catch(c){}e.V=function(){e.W&&(t.clearTimeout(e.W),e.W=n),e.i&&e.A&&e.i.dispatchEvent(e.A),e.p&&("function"==typeof e.p?e.p():e.i&&e.i.href&&(e.d.location=e.i.href)),e.i=e.A=e.p=0},e.ya=function(){e.b=e.d.body,e.b?(e.o=function(n){var s,o,i,r,a;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n["s_fe_"+e._in])){if(e.ka){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.o,!0),void(e.ka=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.o,!1)}else e.useForcedLinkTracking=0;e.clickObject=n.srcElement?n.srcElement:n.target;try{if(!e.clickObject||e.F&&e.F==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.F=e.clickObject;if(e.Z&&(clearTimeout(e.Z),e.Z=0),e.Z=setTimeout(function(){e.F==l&&(e.F=0)},1e4),i=e.pa(),e.track(),i<e.pa()&&e.useForcedLinkTracking&&n.target){for(r=n.target;r&&r!=e.b&&"A"!=r.tagName.toUpperCase()&&"AREA"!=r.tagName.toUpperCase();)r=r.parentNode;if(r&&(a=r.href,e.ra(a)||(a=0),o=r.target,n.target.dispatchEvent&&a&&(!o||"_self"==o||"_top"==o||"_parent"==o||t.name&&o==t.name))){try{s=e.d.createEvent("MouseEvents")}catch(u){s=new t.MouseEvent}if(s){try{s.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(c){s=0}s&&(s["s_fe_"+e._in]=s.s_fe=1,n.stopPropagation(),n.kb&&n.kb(),n.preventDefault(),e.i=n.target,e.A=s)}}}}}catch(d){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.o):e.b&&e.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&e.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&t.MouseEvent)&&(e.ka=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.o,!0)),e.b.addEventListener("click",e.o,!1))):setTimeout(e.ya,30)},e.ya()}function o(e){var t,n,o,i,r,a=window.s_c_il,l=e.split(","),u=0;if(a)for(n=0;!u&&n<a.length;){if(t=a[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)u=1;else for(o=t.account?t.account:t.oun,o=t.allAccounts?t.allAccounts:o.split(","),i=0;i<l.length;i++)for(r=0;r<o.length;r++)l[i]==o[r]&&(u=1);n++}return u||(t=new s),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function i(){var e,t,n,s=window,i=s.s_giq;if(i)for(e=0;e<i.length;e++)t=i[e],n=o(t.oun),n.setAccount(t.un),n.setTagContainer(t.tagContainerName);s.s_giq=0}s.getInstance=o,window.s_objectID||(window.s_objectID=0),i(),window.AppMeasurement=s},{}],"/Users/shawn/Work/buggin/api/tracking/map.js":[function(e,t,n){n.vars={branch:[13,13],title:[49,49],version:[3,3],role:[4,4],device:[5,5],region:[6,6],lang:[7,7],age:[19,19],gender:[20,20],weekDay:[8,8],hour:[9,9],"native":[21,21],userId:[10,10],connected:[16,16],network:[11,11],networkOperator:[12,12],secondscreen:[17,17],devicesPresent:[18,18],search:[14,14],mtvMobileFailed:[null,22],loginStyle:[15,15],teaserCollection:[null,23],teaserClicked:[null,24],videoName:[null,33],franchiseName:[49,49],subscriptionFailure:[null,25]},n.events={appstart:8,menu:9,enable3g:10,disable3g:11,favoAdded:12,favoRemoved:13,sharingFacebookStart:34,sharingFacebookSucces:35,swipeUp:32,swipeDown:33,sharingEmailStart:16,sharingEmailSucces:17,search:18,upgradeMonthFailed:26,upgradeMonthSucces:25,upgradeAnFailed:28,upgradeAnSucces:27,upgradeMtvFailed:30,upgradeMtvSucces:29,loginSucces:23,loginFailed:24,signupSucces:21,signupFailed:22,introSkipped:20,introCompleted:19,teaserClick:31,videofinished:76,videoPlay:6,videoPause:7,videostart:15,video25:2,video50:3,video75:4,purchaseFailed:35,receiptFailed:36},n.weekDays=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]},{}],"/Users/shawn/Work/buggin/api/tracking/omniture.js":[function(e,t,n){e("./lib/AppMeasurement.js"),e("./map");t.exports=new AppMeasurement},{"./lib/AppMeasurement.js":"/Users/shawn/Work/buggin/api/tracking/lib/AppMeasurement.js","./map":"/Users/shawn/Work/buggin/api/tracking/map.js"}],"/Users/shawn/Work/buggin/api/tracking/pagename.js":[function(e,t,n){var s=e("./omniture"),o=(e("vigour-js/browser/events/util").postpone,e("vigour-js/browser/ua")),i=e("vigour-js/util/config"),r=e("vigour-js/browser/network/url"),i=(e("vigour-js/util"),e("./map"),e("vigour-js/util/config"));e("./context");t.exports=function(e){"string"!=typeof e&&(e="");var t,n,a,l,u=s.user,c=u.cloud,d=e.split("."),p="desktop"===o.device?"web":o.platform,g=i.region.val+" > "+p+" > ";return d.length>1?(n=d[4],~e.indexOf("shows")?(t=c.data.get(e).checkParent("_parent._name","shows").get("title","").val,d[4]=t,d[6]&&d[6]++,d[8]&&d[8]++):(t=c.data.get(e+".title","").val,d[4]=t),d[4]||(a=r.val&&r.val.match(/\-(.*?)$/),a&&a[1]?(l=a[1].indexOf("/"),t=d[4]=-1!==l?a[1].slice(0,l):a[1]):d[4]=n),g+=~e.indexOf(".channels.")?"tv > "+d.slice(4).join(" > "):d.slice(3).join(" > ")):g+=e,{current:e,name:g,title:t}}},{"./context":"/Users/shawn/Work/buggin/api/tracking/context.js","./map":"/Users/shawn/Work/buggin/api/tracking/map.js","./omniture":"/Users/shawn/Work/buggin/api/tracking/omniture.js","vigour-js/browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js","vigour-js/browser/network/url":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/url.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/api/url.js":[function(e,t,n){var s=e("vigour-js/value"),o=e("vigour-js/browser/cases");t.exports=n=new s({apiDefer:function(e,t){if(this.clearCache(),"string"!=typeof this.val)e(!0);else if(o["native"])navigator.app&&navigator.app.loadUrl?(navigator.app.loadUrl(this.val,{openExternal:!0}),e("success")):o.windowsMobile?(window.open(this.val,"_system"),e("success")):o.ios?(window.open(this.val,"_system"),e("success")):(this.type="can not find navigator.app.loadUrl",e("error"));else{var n=window.open(this.val,this.val);n.focus(),e("success")}}}),n._name="_urlApi"},{"vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/user.js":[function(e,t,n){var s=e("vigour-js/util/config"),o=e("vigour-js/value"),i=s.api.url;t.exports=n=new o({newsletter:{ajax:{url:function(e,t){return this._parent.token&&this._parent.token.val?i+"api/v1/users/"+this._parent.token.val+".json":void 0},method:"PUT",encode:"json",data:function(e,t){return this.clearCache(),(this.val===!0||this.val===!1)&&{user:{accept_newsletter:this.val,app_version:window["package"].version}}}}},role:{poll:!1,ajax:{url:function(e,t){return this._parent.token&&this._parent.token.val&&i+"api/v1/users/"+this._parent.token.val+".json"},defer:function(e,t,n,s){s.user?(this.val=t[0]=s.user.role,e()):e(!0)}}}}),n.role.poll.on(function(e){e===!0&&(e=1e3),e>0?(this._d&&clearInterval(this._id),this._id=setInterval(function(){n.role._update()},e)):(clearInterval(this._id),this._d=null)}),n._name="userApi"},{"vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/api/util.js":[function(e,t,n){var s=(e("vigour-js/util/config"),{emailExists:"Email has already been taken",invalid:"Username or password is invalid",expired:"Your confirmation link expired. Please sign up again using the app.",mobileTimeout:"Timeout error",terms:"MTV country terms and conditions must be accepted",email:"Email can't be blank",password:"Password can't be blank",privacy:"Data protection terms and conditions must be accepted",numberExists:"Mobile number has already been taken",subscription:"Subscription is not verified",resetTokenExpired:"Outdated password reset token.",invalidPasswordToken:"Invalid password reset token.",invalidEmail:"Email is invalid"});n.findError=function(e){if(e){var t=e&&e.errors;if(e.error_message)for(var n in s)if(e.error_message===s[n])return n;if(t instanceof Array)for(var o,i=t.length;o=t[--i];)for(var n in s)if(o.description===s[n])return n;return"invalid"}}},{"vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/api/verify.js":[function(e,t,n){var s=e("vigour-js/util/config"),o=e("vigour-js/value"),i=e("./util"),r=(e("vigour-js/browser/cases"),s.api.url);t.exports=n=new o({email:{ajax:{url:function(e,t){return"string"==typeof t&&r+"api/v2/confirmations/"+t+".json"},method:"GET",defer:function(e,t,n,s){s.success?(this.set("token",s.authentication_token),e("success")):(this.type=n?n.message:i.findError(s),e("error"))}}}}),n._name="verify"},{"./util":"/Users/shawn/Work/buggin/api/util.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"
}],"/Users/shawn/Work/buggin/app/config.js":[function(e,t,n){t.exports=n=e("vigour-js/util/config");var s=(e("vigour-js/util"),e("vigour-js/browser/ua"),e("vigour-js/browser/cases")),o=e("vigour-js/value");if(n.language=new o,n.region=new o,"webtranslateit"===n.dictionary)n.dictionary=function(e){return"https://webtranslateit.com/api/projects/"+n.webtranslateit.token+"/files/"+n.webtranslateit.files[e]+"/locales/"+e};else{var i=n.dictionary;n.dictionary=function(e){return i.replace("$language",e)}}var r,a;if("production"===n.cloud)if(r=s.tv?"http://":"https://",a="https://"===r?443:80,"production"===n.cloud)n.cloud=new o({val:n.region,transform:function(e,t){return"PL"===t&&(t="po"),t?r+t.toLowerCase()+"-hubs.mtvplay.tv:"+a:!1}});else{var l=n.regionOverride;if("url"===l){var u=["CH","BE","DE","NO","NL","PL","RO"],c=window.location.href,d=c.indexOf("r=");l=c.slice(d+2,d+4),-1===u.indexOf(l)&&(l="DE"),n.regionOverride=l}n.cloud=r+(n.regionOverride||"nl").toLowerCase()+"-hubs.mtvplay.tv:"+a}if(s["native"]||(n.hashUrl=!1),n.player&&"production"===n.player.settings.ads.viralSID){var p;p=s.tv?"mtvplaytv/smarttv":s.phone?"mtvplaytv/app":"mtvplaytv/web",n.player.settings.ads.viralSID=p}},{"vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/app/index.js":[function(e,t,n){var s,o=t.exports=e("vigour-js/app").inject(e("vigour-js/app/content"),e("vigour-js/app/user")),i=o.config=e("./config"),r=e("vigour-js/value"),a=e("vigour-js/object"),l=o.cases,u=e("./user"),c=e("vigour-js/util");o.cloud={api:{auth:i.api.url+"api/v1/users/"},url:i.cloud},o.state.val={"default":"first"},o.frame=e("vigour-js/browser/animation/frame"),o.ua=e("vigour-js/browser/ua"),o.util=e("./util"),o.versionData.on(function(){o.notification.val="appUpgrade"}),o.telCode=new r({"default":{val:o.region,transform:function(e,t){return t&&t.toLowerCase()}}});var d=document.referrer;if(d)for(var p=["mtv.de","at.mtv.de","mtv.ch","mtv.nl","mtv.be","fr.mtv.be","nl.mtv.be","mtv.dk","mtv.no","mtv.se","musictelevision.fi","mtv.pl"],g=p.length-1;g>=0;g--){var h=p[g];if(-1!==d.indexOf(h)){o.fromMtvSite=d;break}}o.cloud.subscribe({mtvData:{operators:{$:{$:!0}}}}),l.$hasOperator=new r(!1),o.operators=new a({}),o.region.on(function(){var e=o.region.val;if("string"==typeof e){var t=o.cloud.data.get(["mtvData","operators"]),n=function(){var t=!1;this.$length.val&&this.each(function(n){this.region.val.toLowerCase()===e.toLowerCase()&&(t=!0,console.log(">>>",n,this),o.operators.set("$"+n,this))}),l.$hasOperator.val=t};t.$length.val?n.call(t):t.once(n)}}),l.$fromMtvSite=new r(!!o.fromMtvSite),l.$storeAvailable=new r(l["native"]&&(l.ios||l.android||l.windowsMobile)),l.$hasMobile=new r({val:function(){return c.checkArray(i.mtvmobile,o.region.val.toLowerCase())!==!1?!0:!1},listen:o.region}),e("./intro"),e("./localisation"),s=o.api=e("../api"),s.user.val={token:u.token,newsletter:u.accept_newsletter},e("./login"),e("./share"),e("./register"),e("./upgrade"),e("./playback"),e("./popup"),e("./tracking"),e("./init")},{"../api":"/Users/shawn/Work/buggin/api/index.js","./config":"/Users/shawn/Work/buggin/app/config.js","./init":"/Users/shawn/Work/buggin/app/init.js","./intro":"/Users/shawn/Work/buggin/app/intro.js","./localisation":"/Users/shawn/Work/buggin/app/localisation.js","./login":"/Users/shawn/Work/buggin/app/login.js","./playback":"/Users/shawn/Work/buggin/app/playback.js","./popup":"/Users/shawn/Work/buggin/app/popup.js","./register":"/Users/shawn/Work/buggin/app/register.js","./share":"/Users/shawn/Work/buggin/app/share.js","./tracking":"/Users/shawn/Work/buggin/app/tracking.js","./upgrade":"/Users/shawn/Work/buggin/app/upgrade.js","./user":"/Users/shawn/Work/buggin/app/user.js","./util":"/Users/shawn/Work/buggin/app/util.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/content":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/content.js","vigour-js/app/user":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/index.js","vigour-js/browser/animation/frame":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/frame.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/app/init.js":[function(e,t,n){var s=e("vigour-js/app"),o=s.user,i=s.cases,r=e("promise"),a=e("./config"),l=e("../components/password");s.css={addClass:"preload"},!i.chromecast&&!i.tv||o.token.val||(o.token=!0),s.region.is(function(){return"string"==typeof this.val}).then(function(){var e=a["protected"]&&~a["protected"].indexOf(s.region.val.toLowerCase());return!e||new r(function(e){window.requestAnimationFrame(function(){window.clearPackerLoader&&window.clearPackerLoader();var t=new l({container:{field:{events:{change:function(t){"viacomnorth"===this.node.value?(this.remove(),e()):alert("Incorrect password. Please try again.")}}}}});window.requestAnimationFrame(function(){t.container.opacity=1}),s.set({passwordInput:t})})})}).then(function(){return s.cloud.connected.is(!0)}).then(function(){return o.token.val===!0?new r(function(e){var t=o.data.is("loaded"),n=setTimeout(function(){r.reject(t),e()},500);t.done(function(){clearTimeout(n),e()})}):o.token.val?o.data.is("loaded"):void 0}).then(function(){return s.ready.val=!0,i.chromecast||o.$execUrl("discover"),s.content.is("loaded")}).done(function(){s.css={removeClass:"preload"},window.clearPackerLoader&&window.clearPackerLoader(),i.touch&&(s.node.style.backgroundColor="black")})},{"../components/password":"/Users/shawn/Work/buggin/components/password/index.js","./config":"/Users/shawn/Work/buggin/app/config.js",promise:"/Users/shawn/Work/buggin/node_modules/promise/index.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js"}],"/Users/shawn/Work/buggin/app/intro.js":[function(e,t,n){var s=t.exports=e("vigour-js/app"),o=s.cases;o["native"]&&!localStorage.getItem("haveSeenIntro")&&s.ready.on(!0,function(){setTimeout(function(){s.popup.val="intro"},1e3),localStorage.setItem("haveSeenIntro",!0)})},{"vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js"}],"/Users/shawn/Work/buggin/app/localisation.js":[function(e,t,n){var s=e("vigour-js/app"),o=s.config=e("./config"),i=e("vigour-js/app/dictionary"),r=e("vigour-js/util"),a=e("vigour-js/browser/ua"),l=e("vigour-js/value");s.dictionary=i;var u=o.regionOverride;if(u){if("url"===u){var c=["CH","BE","DE","NO","NL","PL","RO"],d=window.location.href,p=d.indexOf("r=");u=d.slice(p+2,p+4),-1===c.indexOf(u)&&(u="DE"),o.regionOverride=u}s.region.val={ajax:o.geo,transform:function(e,t){return o.regionOverride||0}}}else s.region.val={responseData:function(e,t){var n=this.country_code&&this.country_code.val;return r.checkArray(o.availableRegions,n)!==!1&&n},ajax:o.geo,transform:function(e,t){return t&&"string"==typeof t&&"error"!==t&&r.checkArray(o.availableRegions,t)!==!1?t:o.defaultRegion||("lg"===a.platform&&"tv"===a.device?"DE":0)||t&&"DE"}};o.language.val=s.language,o.region.val=s.region,s.dictionary.val={ajax:function(e,t){if(this.val){if(this._cached===this.val)return;return this._cached=this.val,this.val&&o.dictionary(this.val)}},val:s.language},s.localDictionary=new l({ajax:function(e,t){if(s.region.val){var n=s.region.val.toLowerCase();if(this._cached===n)return;return this._cached=n,console.log("----------->",n),o.dictionary(n)}},val:s.region})},{"./config":"/Users/shawn/Work/buggin/app/config.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/app/login.js":[function(e,t,n){var s=e("./config"),o=e("vigour-js/browser/cases"),i=e("vigour-js/app/"),r=i.user,a=e("../api");a.user.role.val={token:i.user.token},a.login.val={region:s.region},a.user.role.on(function(){r.role.$userOrigin.cloud&&(r.role.$userOrigin=a.user.role.val)}),r.token.on(function(){r.token.val||(a.login.$empty(["loading","region"]),i.state.val="empty",i.state.val="first")}).on(function(){a.user.role.poll.val=r.token.val?6e5:!1}),a.login.on("error",function(){a.timeout||(i.notification.type=this.type,i.notification.val="loginError")}).on("success",function(){if(i.notification.val="loginSuccess",this.facebook&&this.facebook.token&&this.facebook.token.val){var e=this.facebook.token.val,t=this.facebook.id.val;r.token.once(function(n){this.val&&(r.FB_token.$userOrigin=e,r.facebook_id.$userOrigin=t)})}r.token=this.token.val;var n=localStorage.getItem("registerOperator");n?(i.popup.data=i.cloud.data.get(["mtvData","operators",n]),i.popup.val="operatorAuthUpgrade",localStorage.removeItem("registerOperator")):o.$hasMobile.val&&this.new_record?i.popup.val="getStarted":("login"===i.popup.val||"loginEmail"===i.popup.val||"register"===i.popup.val)&&(i.popup.val=!1)}).loading.on(function(e){e!==!0||a.timeout?"login"===i.loading.val&&(i.loading.val=!1):i.loading.val="login"}),a.operator.login.on("error",function(){a.timeout||(i.notification.type=this.type,i.notification.val="loginError")}).on("success",function(){i.notification.val="loginSuccess",r.token=this.token.val,i.popup.val=!1}).loading.on(function(e){e!==!0||a.timeout?"login"===i.loading.val&&(i.loading.val=!1):i.loading.val="login"}),a.facebook.login.on("success",function(e){a.login.val={facebook:{token:this.token.val,id:this.id.val}}}).on("error",function(){i.notification.val="facebookError"}).loading.on(i.loading)},{"../api":"/Users/shawn/Work/buggin/api/index.js","./config":"/Users/shawn/Work/buggin/app/config.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/app/playback.js":[function(e,t,n){var s=e("vigour-js/app"),o=(s.config=e("./config"),e("vigour-js/value")),i=s.cases,r=s.user;i.$playing=s.playing,i.$isFullscreen=new o({val:function(){return"player"===s.state.val},listen:s.state}),i.$isPlayingAd=new o,i.$isLoadingVideo=new o({val:!1,defer:function(e){var t=this;this._timer&&(clearTimeout(this._timer),this._timer=null),this._val&&(this._timer=setTimeout(function(){t.val=!1,t._timer=null},2e3)),e()}}),i.$isOnChannel=new o,s.wifiOnly=new o({val:localStorage.getItem("wifiOnly")||!1,defer:function(e){this._val?localStorage.setItem("wifiOnly",!0):localStorage.removeItem("wifiOnly"),e()}}),s.restrictPlayback.val={val:s.wifiOnly,transform:function(e,t){return t&&i["native"]&&"wifi"!==api.network.val?!0:!1}},s.playing.on(function(e){if(i.$isLoggedIn.val&&e===!0){var t=s.user.navigation.media.from;if("channels"!==t._parent._name){var n=s.user.usage.from.get(t._contentPath),o=n._parent._parent._parent._parent;o&&o.set("media",t)}}}),s.playing.val={defer:function(e,t){var n=r.navigation.media.from,o=n&&n.access&&n.access.val,a=n&&n.id&&n.id.val,l=3===r.role.val;t[0]===!0&&s.wifiOnly.val&&s.api.network.val?(this.val=t[0]=!1,s.notification.from.val="enable4g"):!i.$accessForEveryone.val&&t[0]===!0&&o&&this.val&&(i.$isLoggedIn.val?"channels"!==n._parent._name||!l&&i.$isUpgraded.val?(!i.$isUpgraded.val&&!r.purchases.$userOrigin[a]||"channels"===n._parent._name&&l||l&&2===o)&&(this.val=t[0]=!1,s.popup.from.data=n,s.popup.from.val="roadblockMedia"):(this.val=t[0]=!1,s.popup.from.val="upgrade"):(this.val=t[0]=!1,s.popup.from.val="roadblock")),e()}}},{"./config":"/Users/shawn/Work/buggin/app/config.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/app/popup.js":[function(e,t,n){var s=e("vigour-js/app"),o=s.cases;s.popup.val={defer:function(e,t){var n=t[0];o.windows&&o["native"]&&"share"===t[0]?(s.api.facebook.share.val={val:!0,url:!0},this._val=t[0]=!1):"upgrade"!==n||o.$hasMobile.val||o.$storeAvailable.val?"devices"!==n||o.$isLoggedIn.val||(this._val=t[0]="roadblock"):this._val=t[0]="roadblockUpgrade",e()}}},{"vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js"}],"/Users/shawn/Work/buggin/app/register.js":[function(e,t,n){var s=e("./config"),o=e("vigour-js/app/"),i=o.user,r=e("../api"),a=e("vigour-js/browser/cases");r.register.val={age:{defer:function(e,t){var n=t[0];!n||n.defer?e(!0):(1==n?this.val={min_age:1,max_age:20}:2==n?this.val={min_age:20,max_age:30}:3==n&&(this.val={min_age:30,max_age:40}),e())}},region:s.region},r.register.on("error",function(){o.notification.type=this.type,o.notification.val="registerError"}).on("success",function(){if(o.notification.val="registerSuccess",o.popup.val=!1,this.email&&this.email.val)var e=this.email.val,t=this.password.val;r.timeout&&clearInterval(r.timeout),a["native"]&&(r.timeout=setInterval(function(){r.login.val={email:e,password:t}},500),r.login.once("success",function(){clearInterval(r.timeout),r.timeout=!1}))}).loading.on(o.loading),r.verify.email.on("success",function(e){var t=localStorage.getItem("registerOperator");t?(o.popup.data=o.cloud.data.get(["mtvData","operators",t]),o.popup.val="operatorAuthUpgrade",localStorage.removeItem("registerOperator")):(a.phone||a.tablet)&&(o.popup.val="getApp"),i.token.val=this.token.val,o.notification.val="verifyEmailSuccess"}).on("error",function(e){o.notification.type=this.type,o.notification.val="verifyEmailError"}).loading.on(o.loading),o.url.params.on(function(e){this.e&&(r.verify.email.val=this.e.val,this.val="")}),r.password.forgot.on("success",function(){o.notification.val="passwordForgot",o.popup.val=!1}).on("error",function(){o.notification.type=this.type,o.notification.val="passwordForgotError"}).loading.on(o.loading),r.password.reset.on("success",function(){o.notification.val="passwordResetSuccess",o.popup.val=!1,i.token.val=this.token.val}).on("error",function(){o.notification.type=this.type,o.notification.val="passwordResetError"}).loading.on(o.loading),o.url.params.on(function(e){this.reset&&(r.password.reset.val={token:this.reset.val},o.popup.from.val="passwordReset",this.val="")})},{"../api":"/Users/shawn/Work/buggin/api/index.js","./config":"/Users/shawn/Work/buggin/app/config.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/app/share.js":[function(e,t,n){var s=e("./config"),o=e("vigour-js/app/dictionary"),i=e("vigour-js/app/"),r=e("vigour-js/object"),a=i.user,l=e("../api");l.facebook.share.val={url:{transform:function(e,t){if(!t)return!1;var n,o,i,l,u=t instanceof r?t.from:a.navigation.media.from,c=a.$parse(u),d=s.packer.url+c.url,p=u,g="";return p&&c.title&&(c.episode<10&&(c.episode="0"+c.episode),n=c.season+c.episode,o=c.title?"og:title="+encodeURIComponent((c.show.title.val?c.show.title.val+(n?"#"+n:"")+" | ":"")+c.title+" - MTV Play")+"&":"",i=p.img?"og:image="+encodeURIComponent(p.img.val)+"&":"",l=p.description?"og:description="+encodeURIComponent(p.description.val):"",g="?"+o+i+l),d+g},init:i.ready}},l.facebook.share.on("success",function(){}).on("error",function(){i.notification.type=this.type,i.notification.val="shareError",l.facebook.share.url.val=!1,l.facebook.share.$empty(["url","loading"])}).loading.on(i.loading),l.email.share.val={address:"",subject:o.get("text.mailShare.title"),body:function(e,t){var n=a.$parse(a.navigation.media).url,e=n&&n.replace(/&/g,"and");return e?"http://mtvplay.tv/#/"+e:!1}}},{"../api":"/Users/shawn/Work/buggin/api/index.js","./config":"/Users/shawn/Work/buggin/app/config.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js"}],"/Users/shawn/Work/buggin/app/spotlight.js":[function(e,t,n){var s=(e("vigour-js/util/config"),e("vigour-js/app/")),o=e("vigour-js/value"),i=s.user,r=e("vigour-js/data");t.exports=n=i.spotlight=new o({transform:function(e,t){return this._parent.map&&this._parent.map[t]},defer:function(e,t){if(this.clearCache(),this.val||0===this.val&&s.cases.$isLoggedIn.val){var n=i.data.from.get("spotlight_sub.list.0"),o=this;this.selected&&this.selected.from!==n&&(this.selected.remove(),this.selected=null),this.selected||(this.set("selected",new r(n,{subscription:{time:!0,title:!0,text:!0,img:!0,mtvid:!0}})),this.selected.on(function(e){var t,n=this.from.title&&this.from.title.val;this.from.mtvid&&this.from.mtvid.val;n&&s.cases.$isLoggedIn.val&&this.from.mtvid&&(hashed=this.from.mtvid.val,t=i.notification_stamp.from,t.val&&t.val===hashed||(t.val=hashed,o._update("success")))}),this.selected._update.apply(this.selected,t))}"success"===t[0]?e():e(!0)}}),n.map={0:"spotlight_sub",1:"spotlight_sub",2:"spotlight_mbl"},n.val=i.role},{"vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/app/tracking.js":[function(e,t,n){function s(){var e;return e="player"===o.state.val?o.state.video.val:o.user.navigation.media.from,e&&e.val===!1?void 0:e}var o=e("./index"),i=e("../api/tracking"),r=e("../api"),a=e("vigour-js/browser/cases"),l=e("../api/tracking/dataform").sendEvent,u=e("../api/tracking/dataform").setDimension,c=e("vigour-js/value");o.mediaTime=new c,i.omniture.user=o.user,o.popup.on(function(){i.popup(this.val)}),o.user.navigation.page.on(function(){i.pageView(this.val)}),o.user.navigation.show.on(function(){i.pageView(this.val)}),o.user.navigation.media.on(function(){i.pageView(this.val)}),o.user.navigation.season.on(function(){i.pageView(this.val)}),o.popup.on("intro",function(){o.popup.once(function(e){i.event(e===!1?"introSkipped":"introCompleted",!0)})}),r.login.on("success",function(){this.new_record?(i.event("signupSucces",!0),l("event","login","signup")):(i.event("loginSucces",!0),l("event","login","login"))}).on("error",function(){i.event("loginFailed",!0)}),r.register.on("success",function(){i.event("signupSucces",!0),l("event","login","signup")}).on("error",function(){i.event("signupFailed",!0)}),r.facebook.share.on(function(){i.event("sharingFacebookStart",!0)}).on("success",function(){i.event("sharingFacebookSucces",!0)}),r.email.share.on(function(){i.event("sharingEmailStart",!0)}).on("success",function(){i.event("sharingEmailSucces",!0),l("event","sharing","email")});var d=!0;o.user.search.on(function(){var e=o.user.search.val;e&&"string"==typeof e&&(i.event("search",e),d&&(d=!1,l("event","search","query"),o.user.navigation.page.on(function(){d=!0})))}),r.mobile.verify.on("error",function(){i.event("upgradeMtvFailed")}),o.menu.on(function(){this.val&&i.event("menu",this.val)}),o.ready.once(!0,function(){i.event("appstart",!0)}),o.notification.on("favourite",function(){i.event("favoAdded",!0),l("event","favourite","added")}).on("unFavourite",function(){i.event("favoRemoved",!0),l("event","favourite","removed")}),o.user.receiver.media.on(function(e){this.from&&"media"===this.from._name||i.event(e?"swipeUp":"swipeDown",this.from&&this.from._cachedPath)}),a.$hasReceiver.on(function(){if(this.val){var e=o.user.receiverClient.val,t=e.device&&e.device.val;t&&u(t)}}),r.purchase.on("success",function(){i.event("monthly"===this.subscription.val?"upgradeMonthSucces":"upgradeAnSucces",!0),l("event","purchase","month")}).on("error",function(){i.event("monthly"===this.subscription.val?"upgradeMonthError":"upgradeAnError",!0)}),r.mobile.sms.on("success",function(e){i.event("upgradeMtvSucces",!0)}).on("error",function(e){i.event("upgradeMtvFailed",!0)}),o.mediaTime.on(function(e){var t=s();e&&e>0||t&&i.video(e,t)}),o.playing.on(function(e){var t=s();t&&i.video(e?"videoPlay":"videoPause",t)})},{"../api":"/Users/shawn/Work/buggin/api/index.js","../api/tracking":"/Users/shawn/Work/buggin/api/tracking/index.js","../api/tracking/dataform":"/Users/shawn/Work/buggin/api/tracking/dataform.js","./index":"/Users/shawn/Work/buggin/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/app/upgrade.js":[function(e,t,n){function s(e,t){if(t){var n=o.store[l.platform],s=n&&n[t];if(s)return s.replace("$region",(i.region.val||"").toLowerCase())}return 0}var o=e("./config"),i=e("vigour-js/app/"),r=i.user,a=e("../api"),l=e("vigour-js/browser/ua");a.mobile.verify.val={token:r.token},a.mobile.verify.on("success",function(e){2!==r.role.val?(a.user.role.poll.val=500,i.loading.val=!0,r.role.once(function(){i.notification.val="mobileUpgradeSuccess",a.user.role.poll.val=!1,i.loading.val=!1})):a.user.role.poll.val=!1,i.popup.val=!1,i.notification.val="mobileVerifySuccess"}).on("error",function(e){i.notification.val="mobileVerifyError"}).loading.on(i.loading),a.mobile.sms.on("success",function(e){r.token.val=this.token.val,i.notification.val="mobileUpgraded"}).on("error",function(e){i.notification.val="mobileUpgradeError"}).loading.on(i.loading),i.url.params.on(function(e){this.m&&(a.mobile.sms.val=this.m.val,this.val="")}),a.purchase.val={subscription:{transform:s},product:{transform:function(e,t){var n=t?s(e,"single"):0;return n}}},a.purchase.on("success",function(){var e={receipt:this.token.val};if(this.packageName&&(e.packageName=this.packageName.val),this.subscriptionId&&(e.subscriptionId=this.subscriptionId.val),this.orderId&&(e.orderId=this.orderId.val),this.purchaseTime&&(e.purchaseTime=this.purchaseTime.val),this.purchaseState&&(e.purchaseState=this.purchaseState.val),this.developerPayload&&(e.developerPayload=this.developerPayload.val),this.signature&&(e.signature=this.signature.val),this.product.val){if(!this.product.from.cloud)throw new Error("trying to buy something else then an episode");this.product.from.get("id").is("loaded",function(){e.episodeId=this.val,a.receipt.val=e})}else e.episodeId=!1,a.receipt.val=e}).on("error",function(){i.notification.type=this.type,i.notification.val="purchaseError"}).loading.on(i.loading),a.receipt.val={token:r.token},a.receipt.on("success",function(){var e=this.episodeId&&this.episodeId.val;e?(r.purchases.$userOrigin.set(e,!0),i.popup.val=!1,i.notification.val="singleEpisodePurchased"):(i.notification.val="upgraded",i.user.role.$userOrigin=1,i.popup.val="profile")}).on("error",function(){i.notification.type=this.type,i.notification.val="purchaseError"}).loading.on(i.loading),a.operator.upgrade.on("success",function(){i.notification.val="upgraded",i.user.role.$userOrigin=2,i.user.operator_name.val=a.operator.upgrade.operator.val,i.popup.val="profile"}).on("error",function(){i.notification.type=this.type,i.notification.val="purchaseError"}).loading.on(i.loading)},{"../api":"/Users/shawn/Work/buggin/api/index.js","./config":"/Users/shawn/Work/buggin/app/config.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/app/user.js":[function(e,t,n){var s=e("vigour-js/app"),o=s.cases,i=e("vigour-js/value"),r=s.config,a=t.exports=s.user.inject(e("vigour-js/app/user/token"),e("vigour-js/app/user/usage"),e("vigour-js/app/user/navigation"),e("vigour-js/app/user/multiscreen"),e("vigour-js/app/user/multiscreen/cast"),e("vigour-js/app/user/url"));a.set({profilepic:!1,first_name:!1,email:!1,language:!1,role:!1,highlight:!1,carousel:!1,search:!1,accept_newsletter:!1,FB_token:!1,scroll:!1,facebook_id:!1,url:e("vigour-js/browser/network/url"),localStorageToken:r.api.type+"userToken"}),a.extend({name:"purchases",mock:{purchases:{}},subscription:{purchases:{$:!0}},on:{mock:function(){this.purchases=this.mockdata.purchases},user:function(){this.purchases=this.data.from.get("purchases",{})}}}),a.extend({name:"operator_name",mock:{operator_name:!1},subscription:{operator_name:!0},on:{mock:function(){this.operator_name=this.mockdata.operator_name},user:function(){this.operator_name=this.data.from.get("operator_name",!1)}}}),o.$isActive.on(function(){"player"!==s.state.val&&(s.state.val=this.val?"first":"second")}),s.language.val=s.user.language,s.content.on("self",function(e,t){var n=s.state.val;s.state.val="empty",s.state.val=n}),a.spotlight=e("./spotlight"),a.spotlight.on(function(e){s.popup.from.data=a.spotlight.selected.from,s.popup.from.val="article"}),a.role.set("text",{val:a.role,transform:function(e,t){return r.roles[t]||""}}),o.$isUpgraded=new i({val:a.role,transform:function(e,t){return t>0?!0:0}}),s.cloud.subscribe({mtvData:{notrial:{$:!0}}}),o.$accessForEveryone=new i({val:s.cloud.data.get(["mtvData","notrial"]),transform:function(e,t){var n=s.region.val,o=n&&t&&-1!==t.keys.indexOf(s.region.val.toUpperCase());return o||0}}),a.role={transform:function(e,t){return o.$accessForEveryone.val&&3===t?0:t},listen:o.$accessForEveryone},a.receiver.media.on(function(){o.$isReceiver.val&&(this.val?(s.state.clearCache(),s.state._ignoreValue=!0,s.state.val={val:"player",video:this.from},s.state._ignoreValue=null):s.state.val=o.$isActive.val?"first":"second")}),o.$isReceiver.on(function(){this.val?(s.volume.val=a.receiver.volume,s.playing.val=a.receiver.playing,a.receiver.media.clearCache(),a.receiver.media._update()):(s.volume.val=s.volume.from.val||1,s.playing.val=s.playing.from.val,s.state.val=o.$isActive.val?"first":"second")}),o.$isReceiver.on(function(){this.val?s.css.val={addClass:"isReceiver"}:s.css.val={removeClass:"isReceiver"}})},{"./spotlight":"/Users/shawn/Work/buggin/app/spotlight.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/user/multiscreen":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/multiscreen/index.js","vigour-js/app/user/multiscreen/cast":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/multiscreen/cast/index.js","vigour-js/app/user/navigation":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/navigation.js","vigour-js/app/user/token":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/token.js","vigour-js/app/user/url":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/url.js","vigour-js/app/user/usage":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/usage.js","vigour-js/browser/network/url":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/url.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/app/util.js":[function(e,t,n){var s=e("vigour-js/app/"),o=e("vigour-js/browser/cases"),i=o.phone?"play":"playAlt";n.access=function(e,t){if(t){var n,r,a=3===s.user.role.val,l=t.id&&t.id.val;return o.$accessForEveryone.val||s.user.purchases.$userOrigin[l]?n=!0:(r=t._parent&&"channels"===t._parent._name,n=!(r&&a)&&(!e||o.$isUpgraded.val&&(!a||a&&2>e))),n?i:"lockedContent"}}},{"vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/common.less":[function(e,t,n){},{}],"/Users/shawn/Work/buggin/components/button/index.js":[function(e,t,n){e("./style.less");var s,o=e("vigour-js/app/ui/element"),i=e("../icon");e("vigour-js/util");t.exports=n=new o({node:"button",css:"ui-button",text:"this is a button",righticon:new i({icon:"arrowright"})}).Class,s=new o({css:function(){return"ui-switch"+(this.switchOn&&this.switchOn.val===!0?" ui-switch-on":"")},btn:{}}),s.extend({switchOn:function(e){this.css="ui-switch"+(e.val&&e.val===!0?" ui-switch-on":"")}}),n.Switcher=s.Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./style.less":"/Users/shawn/Work/buggin/components/button/style.less","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/components/button/style.less":[function(e,t,n){e("../../common.less")},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/cookiebar/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app"),o=e("vigour-js/app/ui/element"),i=e("../icon");t.exports=new o({css:"cookie-bar",on:{$new:{defer:function(e){s.set({h:{sub:40},position:"relative"}),e()}},$remove:{defer:function(e){s.h={sub:null},localStorage.setItem("cookieApproved",!0),e()}}},container:{message:{text:{val:s.localDictionary,transform:function(e,t){var n=s.localDictionary.responseData;return n?n.text.cookieBar.text.val:void 0}}},info:{text:{val:s.localDictionary,transform:function(e,t){var n=s.localDictionary.responseData;return n?n.text.cookieBar.link.val:void 0}},"events.click":function(){var e=s.popup;e.data=s.content.get(["legal_cookies","list","0"]),e.val="article"}},button:{exit:new i({icon:"close"}),text:{val:s.localDictionary,transform:function(e,t){var n=s.localDictionary.responseData;return n?n.text.cookieBar.close.val:void 0}},events:{down:function(e){e.prevent=!0,this.parent.parent.remove()}}}}}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./style.less":"/Users/shawn/Work/buggin/components/cookiebar/style.less","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/cookiebar/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/epg_temp.js":[function(e,t,n){function s(e){return["mtvData",i.region.val,i.language.val,"channels",e].join(".")}var o=e("vigour-js/data"),i=e("vigour-js/app/"),r=e("vigour-js/util/config"),a=e("vigour-js/browser/network/ajax"),l=new o,u=[];t.exports=n=function(e,t){if(~u.indexOf(e))return void(t&&t());var s=n.getDate(),o=i.region.val.toLowerCase()+"/channels/"+e+"/"+s;return l[s]||(l.empty,l.set(s,{})),l[s][o]&&l[s][o].val||(l[s].set(o,!1),a({url:"https://api.mtvnn.com/v2/airings.json/?channel_id="+e+"&filter=today&bust="+~~(1e6*Math.random()),headers:{Accept:"*/*"},iframe:r.epg,method:"GET",complete:function(n){if(n instanceof Array){var i=[];n.forEach(function(e,t){var s=e.airing,o=n[t+1];s.duration=(o?o.airing.minutes_since_midnight:n[0].airing.minutes_since_midnight)-s.minutes_since_midnight||1440,s.endtime=s.minutes_since_midnight+s.duration,i.push(s)}),l[s].set(o,i)}else u.push(e),l[s][o].removeListener(),t&&t()},error:function(n){u.push(e),t&&t()}})),l[s][o]},n.now=function(e,t){function s(){var e=this.minutes_since_midnight.val,t=e+this.duration.val;return a>=e&&t>a?(i?i.val=this:i=this,void(r&&l.removeListener(r))):void 0}var i,r,a=n.minutesSinceMidnight(),l=n(e);
if(l){if(l.val)l.each(s);else{var i=new o;r=function u(){this.each(s),l.removeListener(u)},l.addListener(r)}return i}},n.anyNow=function(e){if("channels"===e._name){var t=e.keys,i=t.length,r=this;if(!i)return;for(this._findNow=new o,i--;i>=0;i--){var a=e[t[i]].epgid;if(void 0!==a){this.model=!1;var l=n.now(a.val);l&&(l.title?(this.data=l,this._link=s(t[i])):(this._findNow[i]=l,this._findNow[i]._index=t[i],this._findNow[i].addListener(function(){void 0!==this._index&&(r.model=!1,r.data=this.from.val,r._link=s(this._index),setTimeout(function(){r._findNow&&r._findNow.remove()}))})))}}}},n.getDate=function(e){e||(e="-");var t=new Date,n=t.getDate(),s=t.getMonth()+1,o=t.getFullYear();return 10>n&&(n="0"+n),10>s&&(s="0"+s),o+e+s+e+n},n.minutesSinceMidnight=function(){var e=new Date,t=new Date(e),n=t-e.setHours(0,0,0,0);return n/6e4},n.clockTime=function(e,t){var n=~~(t/60),s=~~(t%60);return n>23?n-=24:10>n&&(n="0"+n),10>s&&(s="0"+s),n+":"+s}},{"vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/network/ajax":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/ajax.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/first/channels/index.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("../overview")),o=e("../../icon"),i=e("vigour-js/app/"),r=new s.Items({pageheader:{"text.dictionary":"text.nav.channels"},collection:{data:"channels",element:s.Item.Tv?new s.Item.Tv:new s.Item({righticon:new o({on:{data:"id"},icon:{data:"access",transform:function(e,t){var n=i.util.access(t,this.data);return"lockedContent"===n?"lockedContentAlt":"arrowright"},listen:i.user.role}}),events:{click:function(){this.checkParent("on.media",!0).$userOrigin=this.data.from}}})},model:{complete:function(){this.parent.node.scrollTop||(this.parent.node.scrollTop=1),this.model=!1}}});t.exports=new s({items:r}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../overview":"/Users/shawn/Work/buggin/components/first/overview/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/first/discover/carousel.js":[function(e,t,n){function s(e){clearTimeout(a),a=setTimeout(function(){e._pos!==-e.children.length+1?e._pos-1:0;s(e)},5e3)}function o(e){if(!e._i)for(var t=e.parent.children,n=t.length-1;n>=0;)t[n]._i=n--;return e._i}function i(e,t,n){var s=120,o=10,i=this.children.length,a=this._pos||(this._pos=0),u=a;Math.abs(n.x)>o?(n.x<0&&!(t.x>s)&&(u=Math.max(a-1,-i+1)),n.x>0&&!(t.x<-s)&&(u=Math.min(a+1,0))):(t.x<-s&&(u=Math.max(a-1,-i+1)),t.x>s&&(u=Math.min(a+1,0))),this.x._e&&(this.x={_esub:this.x._e._val}),l=!1,r(this,u)}function r(e,t){var n=e._pos||(e._pos=0),o=e.parent.dotholder.dots;(o||e.parent.parent.parent.parent.topbar.txt.dotholder.dots).children;t!==n&&(e.data.carousel.from=t,e._pos=t),o&&a&&s(e)}e("./style.less");var a,l,u=e("vigour-js/app/ui/element"),c=(e("vigour-js/app/dictionary"),e("../../img")),d=e("../../icon"),p=e("../../text").Title,g=e("vigour-js/app/"),h=e("vigour-js/browser/cases"),f=(e("vigour-js/util/config"),e("vigour-js/browser/animation/frame"),new u({img:new c.Carousel({teaser:{title:new p},background:{range:100},events:{active:"clicked",click:function(){var e,t,n=this.data,s=n.type&&n.type.val,o=n.link&&n.link.val;"Article"===s?o?g.api.url.val=o:(g.popup.from.data=n.from,g.popup.from.val="article"):o&&(o=o.split("."),e="shows"===o[3],t="episodes"===o[o.length-2],t?(linkdata=g.content.from.get(o.slice(3)),g.user.navigation.media.$userOrigin.val=linkdata,g.state.val={val:"player",video:linkdata}):e&&(g.user.navigation.show.$userOrigin=g.content.from.get(o.slice(3))))}}}),model:{subscription:{link:!0,type:!0}}})),v=new u({css:"ui-roll",x:{data:"carousel",transform:function(e,t){return isNaN(t)&&(t=t._val||0),this._pos=t,t*this.node.offsetWidth||0},animation:{time:{val:36,phone:18},easing:"outCubic"},listen:g.w},collection:{data:"marquee",element:f},touch:{events:{grab:{x:!0,pass:function(e,t){return Math.abs(t.x)>Math.abs(t.y)?(l=!0,!0):void 0},up:i}}},model:{complete:function(){var e=this;e.x._p=!0,window.requestAnimationFrame(function(){e.x&&(e.x.update(),e.x._p=null)}),this.model={complete:null}}}}),m=new u({css:"ui-car-buttons",prevBtn:new d({icon:"leftnav",events:{click:function(){var e=this.parent.parent.roll,t=e._pos;0>t&&r(e,t+1)}}}),nextBtn:new d({icon:"rightnav",events:{click:function(){var e=this.parent.parent.roll,t=0|e._pos;t-1>-e.children.length&&r(e,t-1)}}})}),b=new u({css:"ui-dots",collection:{data:"marquee",element:new u({events:{click:function(){r(this.checkParent("roll",!0),-o(this))}}})}});b.extend({dotFocus:function(e){for(var t=-e.val||0,n=this.children,s=n.length-1;s>=0;s--){var o=n[s];s===t?o.css="dot-focus":o.css=!1}}});var w=new u({on:{$remove:{defer:function(e){clearTimeout(a)}}},tablet:{bgTeaser:{}},roll:v,"desktop.buttons":m,dotholder:{dots:new b.Class({dotFocus:{data:"carousel"}})}});h.tablet&&(w.h={val:g.w,multiply:9/16,max:{val:g.h,multiply:.5}}),t.exports=n=w,n.Dots=b.Class,n.Buttons=m.Class,n.Roll=v.Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/discover/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/animation/frame":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/frame.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/first/discover/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=(e("vigour-js/app/"),e("./carousel")),i=(e("../../icon"),e("vigour-js/browser/cases")),r=(e("../../item"),e("./lists")),a=new s({css:"first-discover",x:{translate:!0},carousel:new o.Class,touch:{scrollbar:"y",on:{$render:{defer:function(e){var t=this._parent._caller;n.scrollTop&&window.requestAnimationFrame(function(){t._node&&(t.node.scrollTop=n.scrollTop||i.touch&&1)}),e()}}},model:{complete:function(){this.node.scrollTop=n.scrollTop||i.touch&&1,this.model={complete:null}}}},lists:r,"events.scroll":function(){var e=this.node,t=n.scrollTop=e.scrollTop;if(i.$hasReceiver.val){var s=e.getBoundingClientRect();this.data.scroll.$userOrigin=t/(e.scrollHeight-s.height)}}});t.exports=a.Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","./carousel":"/Users/shawn/Work/buggin/components/first/discover/carousel.js","./lists":"/Users/shawn/Work/buggin/components/first/discover/lists.js","./style.less":"/Users/shawn/Work/buggin/components/first/discover/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/discover/lists.js":[function(e,t,n){function s(){var e=this.data.link.val;this.parent.header&&this.parent.header.text.val||this.parent.parent.header&&this.parent.parent.header.text.val;e&&(e=e.split(".").splice(3),this._stayActive=!0,~e.indexOf("episodes")?this.checkParent("on.media",!0).$userOrigin=this.checkParent("on.content",!0).from.get(e):this.checkParent("on.show",!0).$userOrigin=this.checkParent("on.content",!0).from.get(e))}var o=e("vigour-js/app/"),i=e("vigour-js/browser/cases"),r=(e("vigour-js/app/dictionary"),e("vigour-js/app/ui/element")),a=e("../../icon"),l=e("../../img"),u=e("../../item"),c=e("../../text"),d=e("../../epg_temp"),p=(c.Title,u.TitleSubtitle),g=i.phone?150:220,h=new r({x:{translate:!0},img:new l({h:{val:152,phone:100},w:{val:220,phone:150}}),txt:new p}),f=new h.Class({model:{subscription:{link:!0}},events:{active:"ui-item-clicked",click:s}}),v=new r({css:"list",on:{$render:{defer:function(e){var t=this._parent._caller,n=t.scroller.children.length;n?t.display="block":t.display="none",e()}}},header:{},scroller:{css:"preload",scrollbar:"x",x:{translate:!0},y:{translate:!0},collection:{data:!0,element:f},touch:{events:{scroll:function(){this.css=""}}}},"model.complete":function(){if(this.scroller){var e=this.scroller.children.length;this.display=e?"block":"none"}}}).Class;t.exports=new r({action:new u({ontv:{text:"on tv"},program:{text:{data:"title"}},arrow:new a({icon:"arrowright"}),events:{active:"action-clicked",click:function(){this._link&&(this._stayActive=!0,this.checkParent("on.media",!0).$userOrigin=o.cloud.data.get(this._link))}},model:{subscription:{$:{epgid:!0}},val:function(e){e.channels&&d.anyNow.call(this,e.channels)}}}),allshows:{"text.dictionary":"text.nav.allShows",events:{active:"ui-item-clicked",click:function(){this._stayActive=!0,this.checkParent("on.page",!0).$userOrigin="shows"}}},watched:new v({css:"list watched",header:{text:{dictionary:"text.showsYouWatch"}},scroller:{collection:{data:"watched",element:new f.Class({events:{active:"ui-item-clicked",click:function(){o.user.navigation.media.$userOrigin=this.data.media.from}},model:function(e){var t=e.media&&e.media.from._contentPath;t&&(this.img.cover.data=o.user.usage.from.get(t),this.txt.subtitle.data=e.media.from,this.model=!1)},img:{background:{data:"show.img"},cover:{model:{inherit:!1},desktop:{percentage:{text:{data:"time",transform:function(e,t){var n=Math.floor(100*t);return n?Math.abs(n)+"%":""}}}},bar:{y:{tablet:147,phone:95},w:{data:"time",transform:function(e,t){return isNaN(t)?0:Math.abs(t)*g}}}}},txt:{title:{text:{data:"show.title"}},subtitle:new c.Subtitle({model:{inherit:!1}})}})}}}),releases:new v({header:{text:{dictionary:"text.newReleases"}},scroller:{collection:{data:"releases",element:new f.Class({txt:{title:{text:{data:"show.title"}}}}),desktop:{element:new u.Large({info:{txt:{title:{text:{data:"show.title"}}}},model:{subscription:{link:!0}},events:{active:"ui-item-clicked",click:s},crawler:{href:{data:function(e){var t=e.link.val.split("."),n=("shows"===t[3],"episodes"===t[t.length-2]);return n?(id=t[4],season=e.season.val,n=e.number.val,"shows/"+id+"/"+season+"/"+n||""):void 0}},attr:{onclick:"return false"}}})}}}}),recommended:new v({header:{text:{dictionary:"text.recommended"}},scroller:{collection:{data:"recommended"}}}),free:new v({header:{text:{dictionary:"text.free"}},scroller:{collection:{data:"free",element:new f.Class({txt:{title:{text:{data:"show.title"}},subtitle:{text:{data:"title"}}}})}}})})},{"../../epg_temp":"/Users/shawn/Work/buggin/components/epg_temp.js","../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/discover/style.less":[function(e,t,n){e("../../../common.less")},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/epg/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("vigour-js/data"),i=e("vigour-js/app/"),r=e("../../icon"),a=e("../../item"),l=e("../../player/seekbar"),u=e("../../epg_temp"),c=(e("vigour-js/browser/cases"),e("vigour-js/value")),d=u.clockTime,p=u.minutesSinceMidnight,g=(new c({val:360,phone:i.w,sub:30}),new s({holder:{txt:new a.TitleSubtitle({subcontainer:{subtitle:{text:{data:"minutes_since_midnight",transform:d}},seekbar:{text:" - ",css:"subtitle"},endtime:{css:"subtitle",text:{data:"endtime",transform:d}}}})},border:{}}).Class);t.exports=n=new s({message:{icon:new r({icon:"empty"})},container:{list:{touch:{scrollbar:"y",h:{val:i.h,sub:{val:40,iosFull:60,add:{phone:{val:i.w,divide:16/9}}}}},collection:{data:!0,element:new g,filter:{condition:{endtime:{$gt:p}}}},model:{complete:function(){var e=this,t=this.children[0],n=this.parent.parent.message;if(!t)return n.icon.icon="warning",void(n.text={dictionary:"text.noEPG"});n.icon.icon="",n.text="";var s=t.data.minutes_since_midnight.val,i=t.data.endtime.val,r=t.data.duration.val,a=~~(6e4*(i-p()))+3e3,u=t.holder.txt.subcontainer.seekbar;if(!u.seek&&r){t.set({"holder.txt.subcontainer.seekbar":new l({seek:{w:{data:"time"}},button:!1,data:new o({time:(p()-s)/r})})}),this._interval&&clearInterval(this._interval);var e=this;this._interval=setInterval(function(){if(t&&t.holder&&t.holder.txt){var n=p()-s;t.holder.txt.subcontainer.seekbar.data.time.val=n/r}else clearInterval(e._interval),e._interval=null},1e3)}a>0&&(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){e.updateData(),e._timer=null},a+2e3))}}},model:{inherit:!1}},phone:{position:"absolute"},model:{field:"media",subscription:{epgid:!0},val:function(e){var t,n=e.epgid&&e.epgid.val;void 0!==n&&(t=u(n),this.container.data=t,this.model=!1)}}}).Class,n.base.container.list.setSetting({name:"remove",remove:function(){this._timer&&clearTimeout(this._timer),this._interval&&clearInterval(this._interval)}})},{"../../epg_temp":"/Users/shawn/Work/buggin/components/epg_temp.js","../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","../../player/seekbar":"/Users/shawn/Work/buggin/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/epg/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/components/first/epg/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/favourite/index.js":[function(e,t,n){e("./style.less");var s=e("../../icon"),o=e("vigour-js/browser/cases"),i=e("vigour-js/app/");t.exports=new s({icon:{data:"showusage.favourite",transform:function(e,t){return!t||"true"!==t&&t!==!0?(this.css="ui-icon","favoriteadd"):(this.css="ui-icon favorited","favorite")}},"events.click":function(){if(o.$isLoggedIn.val){var e=this.data.showusage.$userOrigin;e.favourite&&e.favourite.val?e.val={favourite:!1}:e.val={favourite:!0}}else i.popup.from.val="roadblock"}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/favourite/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/favourite/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/index.js":[function(e,t,n){function s(e){var t=this._parent,n=t._caller,s=this.$userOrigin;return s.val?(n.miniplayer||(n.miniplayer=new v({on:{usage:t.usage.from,msmedia:s,volume:t.volume.from},data:{media:s,mediausage:t.usage.from.get(s.from._contentPath),volume:t.volume.from},play:{icon:t.play},y:d.phone&&"channels"===s.from._parent._name?24:0}),n.add(n.miniplayer,d.phone&&"topmenu")),void e()):!0}function o(t,n){var s=this._parent._caller;if(this.val&&!s.popupWindow){h||(h=e("../popup"));var o=new h({name:"popupWindow",on:{user:c.user,language:c.user.language,token:c.user.token,newsletter:c.user.newsletter,overlay:c.overlay,loading:c.loading,popup:c.popup}});s.add(o,s.notification),s.popupWindow.on.popup._update()}t()}function i(e,t){var n=this._parent._caller;this.val&&!n.notification&&(n.set({notification:new f({on:{notification:c.notification}})}),n.notification.on.notification._update()),e()}function r(e,t){var n=this._parent._caller,s=n.loader,o=n.cancel,i=n.checkParent("on.overlay",!0),r=this;this.clearCache(),n._cancelTimer&&(clearTimeout(n._cancelTimer),n._cancelTimer=null),this.val?(i.val||(i.from.val="loading"),s||(n.set({loader:new m}),n._cancelTimer=setTimeout(function(){n.set({cancel:{btn:{text:"cancel"},events:{click:function(){r.from.val=!1}}}}),n._cancelTimer=null},8e3))):this.val||(o&&o.remove(),s&&s.remove(),"loading"===i.val&&(i.from.val=!1)),e()}function a(e){var t=this._parent._caller;t._cancelTimer&&clearTimeout(t._cancelTimer),e()}e("./style.less");var l,u=e("vigour-js/app/ui/element"),c=e("vigour-js/app/"),d=e("vigour-js/browser/cases"),p=e("./menu"),g=e("../icon");if(d.tv)l=e("./tv"),t.exports=n=new u({css:"first-state",sidemenu:new p.Sidemenu,w:{parent:"w"},h:{parent:"h"},switcher:new l({position:"absolute",h:{parent:"h"}})}).Class;else{var h,f=e("./notification"),l=e("./switcher"),v=e("./miniplayer"),m=(e("../player"),e("./watch"),e("../loader")),b=e("vigour-js/browser/events/util").postpone,w=b(function(e,t){e.topbar&&(e.topbar.display=t?"block":"none",e.switcher.y=t?40:0,e._block=!0,e.w.update())},100);d.phone?t.exports=n=new u({css:"first-state",on:{popup:{defer:o},notification:{defer:i},loading:{defer:r},$remove:{defer:a},$render:{defer:function(e){var t=this._parent._caller,n=t.section;n.on.msmedia._update(),t.on.popup._update(t.on.popup.val),e()}}},w:{parent:"w"},h:{parent:"h"},section:{on:{msmedia:{init:s}},w:{parent:"w"},h:{parent:"h"},switcher:new l({position:"absolute",y:{translate:!0,val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}},h:{parent:"h",sub:{val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}}}}),linkback:{position:"absolute",y:{translate:!0,val:p.Topbar.base.h,sub:{val:30,$fromMtvSite:0}},title:{text:{dictionary:"text.backlink"}},close:new g({icon:"close","events.click":function(e){e.prevent=!0,e.preventDefault(),d.$fromMtvSite.val=!1}}),"events.click":function(){document.location.href=c.fromMtvSite}},topmenu:new p.Topmenu({on:{menu:c.menu}}),topbar:new p.Topbar({display:{desktop:"none"}})}}).Class:t.exports=n=new u({css:"first-state",on:{state:{defer:function(e){var t=this.from.val,n=this._parent._caller,l=n.section;"first"!==t||n.w||(n.set({on:{popup:{defer:o},notification:{defer:i},loading:{defer:r},$remove:{defer:a},fullscreen:{val:d.$isFullscreen,defer:function(e){var t=this._parent._caller.section;t.x._p=!0,window.requestAnimationFrame(function(){t&&t.x&&(t.x._p=null)}),e()}}},w:{parent:"w"},h:{parent:"h"},sidemenu:new p.Sidemenu({data:c.user.navigation}),section:{on:{msmedia:{init:s}},x:{val:d.tablet?{val:0,$isFullscreen:0}:{val:200,$isFullscreen:0},animation:{time:18,easing:"outCubic"}},w:{parent:"w",desktop:{sub:{self:"x"}}},h:{parent:"h"},switcher:{position:"absolute",h:{parent:"h"},touch:{y:{translate:!0,val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30,$isFullscreen:0},$isFullscreen:0},h:{sub:{val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}}}}}}}),l.on.msmedia._update(),n.on.popup._update(n.on.popup.val),d.desktop&&(l.x._p=!0,l.x={val:c.w,defer:function(e,t){t[0]?(this._p=!0,e(),this._p=null):e()},transform:function(e,t){if(d.$isFullscreen.val)return 0;var n=c.w.val<1300;return this._block?this._block=null:w(this,n),n&&!c.menu.val?0:200}},l.x._p=null)),l.x._p=!0,window.requestAnimationFrame(function(){l.x&&(l.x._p=null)}),e()}},$parent:{defer:function(e){this._parent.state._update(),e()}}},sidemenu:{},section:{x:{translate:!0},switcher:new l,tablet:{linkback:{position:"absolute",y:{translate:!0,val:p.Topbar.base.h,sub:{val:30,$fromMtvSite:0}},title:{text:{dictionary:"text.backlink"}},close:new g({icon:"close","events.click":function(e){e.prevent=!0,e.preventDefault(),d.$fromMtvSite.val=!1}}),"events.click":function(){document.location.href=c.fromMtvSite}}},topbar:new p.Topbar({display:{desktop:"none"}})}}).Class,n.base.set({overlay:{display:"none","events.click":function(){var e=this.parent.on.loading,t=this.parent.on.popup;e.val||(t.from=!1)}},on:{overlay:{defer:function(e,t){var n=this.from;return n?(n.val?this._parent._caller.overlay.display.val="block":n.val||(this._parent._caller.overlay.display.val="none"),void e()):!0}}}})}},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../loader":"/Users/shawn/Work/buggin/components/loader/index.js","../player":"/Users/shawn/Work/buggin/components/player/index.js","../popup":"/Users/shawn/Work/buggin/components/popup/index.js","./menu":"/Users/shawn/Work/buggin/components/first/menu/index.js","./miniplayer":"/Users/shawn/Work/buggin/components/first/miniplayer/index.js","./notification":"/Users/shawn/Work/buggin/components/first/notification/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/style.less","./switcher":"/Users/shawn/Work/buggin/components/first/switcher/index.js","./tv":"/Users/shawn/Work/buggin/components/first/tv/index.js","./watch":"/Users/shawn/Work/buggin/components/first/watch/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js"}],"/Users/shawn/Work/buggin/components/first/menu/casticon.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=(e("../../item"),e("../../img"),e("../../icon")),i=(e("../../text"),e("vigour-js/app/")),r=e("../../loader"),a=new s({css:"relative-size",text:i.user.devices.$length,display:"relative",opacity:{val:0,$isLoggedIn:1}}).Class;t.exports=n=new s({content:new o({icon:"cast",scale:{val:1,animation:{start:1,time:18,easing:"outCubic",done:function(){this.scale.val=1}}},display:"block",number:new a,css:{$hasReceiver:"ui-icon hasReceiver"},opacity:{val:.5,$hasDevices:{val:.5,$isLoggedIn:1}},"events.click":function(e){e.prevent=!0;var t=this.checkParent("on.popup",!0);t.from="devices"}}),css:"ui-icon cast","!$connected":{content:{display:"none"},loader:new r.Simple}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","../../loader":"/Users/shawn/Work/buggin/components/loader/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/first/menu/index.js":[function(e,t,n){function s(e){return l.phone?function(){this.checkParent("topmenu",!0).hide(),u.user.navigation.page.$userOrigin=e}:l.tablet?function(){this.checkParent("section",!0).x=0,u.user.navigation.page.$userOrigin=e}:function(){console.log("menu",e),u.user.navigation.page.$userOrigin=e}}function o(e){if(e.prevent=!0,l.touch){var t=this._d,n=void 0===t||t&&!t.__t;if(n)if(l.phone){var s=this.checkParent("topmenu",!0);s.toggle()}else{var o=this.checkParent("section",!0),i=o.x.val,r=this.parent.caret,a="closeMenu";i?(o.x=0,r.rotate=-90):(o.x=200,r.rotate=90,o.node.style.pointerEvents="none",u.addEvent("click",function(e){o.x=0,r.rotate=-90,u.removeEvent(!1,a),o.node.style.pointerEvents="auto"},a))}else this.checkParent("switcher",!0).back()}else{var o=this.checkParent("section",!0),i=o.x.val,r=this.parent.caret,a="closeMenu";i?(u.menu.val=!1,o.x.update(),r.rotate=-90):(u.menu.val=!0,r.rotate=90,o.x.update(),o.node.style.pointerEvents="none",u.addEvent("click",function(e){u.menu.val=!1,o.x.update(),r.rotate=-90,u.removeEvent(!1,a),o.node.style.pointerEvents="auto"},a))}}e("./style.less");var i=e("vigour-js/app/ui/element"),r=(e("../../item"),e("../../img"),e("../../icon")),a=e("../../text"),l=e("vigour-js/browser/cases"),u=e("vigour-js/app/"),c=e("./casticon"),d=e("vigour-js/app/dictionary"),p=d.get("text.nav.television"),g=d.get("text.nav.shows"),h=new a.Title({"events.click":function(){var e=this.checkParent("on.popup",!0).from;u.user;e.data=u.content.get([this._name,"list","0"]),e.val="article"},css:"term"}).Class,f=new i({append:[new i({tv:{text:{data:"page",transform:function(e,t){return t===this.name&&"menu"===u.focusState.val&&this.$focus(),"menu"!==u.focusState.val&&this._$focused&&this.$focus(!1,!0),""},listen:u.focusState},css:"menu-item"},events:{arrowUp:function(){this.$prev.val&&this.$prev.val.events.click._val.call(this.$prev.val)},arrowRight:function(){"settings"!==this.name&&(u.focusState.from.val="grid")},$focus:function(e){if(e){var t,n=this.parent&&this.parent.children;if(n){for(var s=n.length-1;s>=0;s--)t=n[s],t!==this&&(t.css.val="menu-item");this.css.val="menu-item current"}}},arrowDown:function(){this.$next.val&&this.$next.val.events.click._val.call(this.$next.val)}},"!tv":{css:{data:"page",transform:function(e,t){var n="menu-item",s=n+" current";return"string"==typeof t?t===this.name?s:n:"shows"===this.name?s:n}},lefticon:new r},title:{crawler:{node:"a",attr:{onclick:"return false"}}}}).Class,{name:"discover","!tv.lefticon.icon":"discover","title.text.dictionary":"text.nav.discover","events.click":s("discover"),"title.href":"discover"},{name:"shows","!tv.lefticon.icon":"shows","title.text.dictionary":"text.nav.shows","events.click":s("shows"),"title.href":"shows"},{name:"channels","!tv.lefticon.icon":"tv","title.text.dictionary":"text.nav.television","events.click":s("channels"),"title.href":"channels"},{name:"settings","!tv.lefticon.icon":"settings","title.text.dictionary":l.tv?"text.account.signin.title":"text.nav.settings","tv.display":{val:"table",$isLoggedIn:"none"},"events.click":function(){if(l.tv){this.$focus(!0);var e=this.checkParent("switcher",!0);e&&e.on.signin.update()}else this.checkParent("on.popup",!0).from.val="settings"}}]}).Class;n.Sidemenu=new i({css:l.tv?{val:u.focusState,transform:function(e,t){var n="menu"!==t?" unfocus":"";return"first-menu first-sidemenu"+n}}:"first-menu first-sidemenu","desktop.$fromMtvSite.linkback":{arrow:new r({icon:"leftnav"}),title:{text:{dictionary:"text.backlink"}},"events.click":function(){document.location.href=u.fromMtvSite}},"!tv.logo":new r({icon:"logo"}),items:new f({y:{tv:u.h.val/5-28}}),"!tv.bottom":{button:{display:{val:"block",tv:"none",$isUpgraded:"none"},css:"register",text:{dictionary:{val:"text.account.signup.title",$isLoggedIn:"text.upgrade"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?!l.$isUpgraded.val&&"upgrade":"register"}},login:{css:"button",display:{val:"block",$isLoggedIn:"none"},text:{dictionary:"text.account.signin.title"},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from="login"}},profile:{"!tv.icon":new r({y:-34,icon:{val:"profile",transform:{val:function(e,t){return u.user.profilepic.val?"empty":void 0},listen:u.user.profilepic}}}),img:{background:{val:u.user.profilepic,display:{val:function(){return u.user.profilepic.val?"block":"none"},listen:u.user.profilepic}}},"events.click":function(){this.checkParent("on.popup",!0).from.val="profile"}},"!tv.cast":new c({opacity:{"!phone":{"!$isLoggedIn":0}}})},"!tv.terms":{display:{val:function(){return u.h.val<=600?"none":"block"},listen:u.h},imprint:new h({"text.dictionary":"text.imprint"}),privacy:new h({"text.dictionary":"text.privacy"}),terms:new h({"text.dictionary":"text.terms"})}}).Class,n.Topbar=new i({css:"first-menu first-topbar",on:{page:{defer:function(e,t){var n=this._parent._caller,s=this.from.val,o="first-menu first-topbar toplevel";"discover"===s?(n.css=o+" logo",n.holder.title.text.val={transform:""}):(n.css=o,n.holder.title.text.val={transform:"channels"===s?p:g}),n.data={title:s,icon:s},e()}},show:{defer:function(e,t){var n=this._parent._caller;n.parent.topmenu;n.holder.title.text.val={transform:!1},n.data=this.from.val,n.css="first-menu first-topbar",e()}},media:{defer:function(e,t){var n=this._parent._caller;n.parent.topmenu;n.holder.title.text.val={transform:!1},n.data=this.from.val,n.css="first-menu first-topbar",e()}},$parent:function(e,t){e()}},h:{val:40,iosFull:60},holder:{lefticon:new r({icon:l.desktop?"menu":{data:"title",transform:l.phone?function(e,t){var n=this._d,s=n&&!n.__t;return void 0===n?"menu":s?"channels"===t?"tv":t:"arrowleft"}:function(e,t){var n=this._d,s=n&&!n.__t;return s?"menu":"arrowleft"}},"events.click":o}),caret:new r({icon:"dropdown","!phone":{rotate:-90},"events.click":o}),title:{text:{data:"title","default":""}},righticon:new c},"events.click":function(e){e.prevent=!0;var t=this._d,n=void 0===t||t&&!t.__t;if(n&&l.touch){var s=this.holder.lefticon;s.events.click._val.call(s,e)}}}).Class,n.Topmenu=new i({css:"first-menu first-topmenu",position:"absolute",h:{parent:"h",sub:n.Topbar.base.h},on:{menu:{defer:function(e,t){var n=this._parent._caller;this.clearCache(),this.val?n.show():n.hide(),e()}},$render:{defer:function(e){this._parent.menu._update(),e()}}},y:{translate:!0,val:-u.h.val,add:n.Topbar.base.h},bottom:{position:"absolute",y:256,h:{parent:"h",sub:256},terms:{imprint:new h({"text.dictionary":"text.imprint"}),privacy:new h({"text.dictionary":"text.privacy"}),terms:new h({"text.dictionary":"text.terms"})}},top:{items:new f,account:{css:"menu-item",left:{css:{val:"profile",$isUpgraded:"$isUpgraded"},picture:{display:{val:"none",$isLoggedIn:"block"},icon:new r({icon:{val:"profile",transform:{val:function(e,t){return u.user.profilepic.val?"empty":void 0},listen:u.user.profilepic}}}),img:{background:{val:u.user.profilepic,display:{val:function(){return u.user.profilepic.val?"block":"none"},listen:u.user.profilepic}}}},text:{dictionary:{val:"text.account.signin.title",$isLoggedIn:"text.profile"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?"profile":"login"}},right:{css:{val:"register",$isLoggedIn:"upgrade"},display:{val:"table-cell",$isUpgraded:"none"},text:{dictionary:{val:"text.account.signup.title",$isLoggedIn:"text.upgrade"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?"upgrade":"register"}}}}}).Class,n.Topmenu.base.define({hide:function(){this.y=-this.h.val,this.parent.topbar.holder?this.parent.topbar.holder.caret.rotate=0:console.error("!ERROR this.parent.topbar.holder.caret",this)},show:function(){this.y=0,this.parent.topbar.holder.caret.rotate=180},toggle:function(){var e=this.y.val<0;e?this.show():this.hide()}})},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js",
"./casticon":"/Users/shawn/Work/buggin/components/first/menu/casticon.js","./style.less":"/Users/shawn/Work/buggin/components/first/menu/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/menu/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/miniplayer/index.js":[function(e,t,n){function s(e){var t=this.node.getBoundingClientRect(),n=t.left,s=(e.x-n)/(t.right-n);r.user.receiver.volume.from.val=s>1?1:0>s?0:s}e("./style.less");var o=e("../../icon"),i=e("../../img"),r=e("vigour-js/app/"),a=e("vigour-js/app/ui/element"),l=e("../../player/controls"),u=e("../../player/volume"),c=e("vigour-js/browser/cases"),d=new o({icon:{val:!1,transform:function(e,t){return t?"pause":"play"}},"events.click":function(e){e.prevent=!0;var t=this.checkParent("on.play",!0).from;t.val=t.val?!1:!0}});t.exports=new a({css:"mini-player",position:"absolute",on:{msmedia:{defer:function(e){var t=this._parent,n=t._caller,s=this.$userOrigin,o=s.val&&"channels"===s.from._parent._name;if(s.val&&(n.data={media:s,mediausage:t.usage.from.get(s.from._contentPath),volume:t.volume.from}),n.y=s.val?c.phone&&o?24:0:c.phone?82:58,!c.phone){var i=n.controls.node.style;o?(i.visibility="hidden",i.pointerEvents="none"):(i.visibility="visible",i.pointerEvents="auto ")}e()}}},y:{translate:!0,val:c.phone?82:58,animation:{time:18,easing:"outCubic"},transform:function(e,t){return c.$hasReceiver.val?t:c.phone?82:58},listen:c.$hasReceiver},clickable:{img:new i({background:{data:"media.img"},h:58,w:{val:115,phone:58}}),info:{title:{text:{data:"media.show.title","default":{dictionary:"text.nowOnTv"}}},subtitle:{text:{data:"media.title"}}},events:{click:function(){var e=this.parent.data.media.from,t=this.checkParent("on.navigation._val",!0);t.media.$userOrigin=e}}},phone:{slider:new o({icon:"volume","events.click":function(e){e.prevent=!0;var t=this.checkParent("section",!0);t.volumepopup?t.volumepopup.remove():t.set({volumepopup:{h:r.h,modal:{css:"move-in",title:{text:"volume"},bar:{css:"ui-seekbar",bg:{},seek:{w:{data:"volume",transform:function(e,t){return t=isNaN(t)||!t&&0!==t?1:t,100*Math.abs(t)+"%"}},data:r.user.receiver},button:{},events:{down:s,drag:s,up:s}},done:{text:"done",events:{click:function(){t.volumepopup.remove()}}},events:{click:function(e){e.prevent=!0}}},events:{click:function(){t.volumepopup.remove()}}}})}})},play:d,controls:new l,"!phone":{volume:new u({bars:{data:"volume"}})},model:{subscription:{epgid:!0}}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../player/controls":"/Users/shawn/Work/buggin/components/player/controls/index.js","../../player/volume":"/Users/shawn/Work/buggin/components/player/volume/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/miniplayer/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/miniplayer/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/notification/config.js":[function(e,t,n){t.exports={timeout:1e4,map:{favourite:{lefticon:{icon:"favoriteadd",css:{addClass:"favorite"}},css:{addClass:"success"},txt:{title:{text:{dictionary:"text.favoriteAdded"}}}},unfavourite:{lefticon:{icon:"favoriteremove",css:{addClass:"unfavorite"}},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.favoriteRemoved"}}}},loginSuccess:{lefticon:{icon:"right"},css:{addClass:"success"},txt:{title:{text:{dictionary:"text.account.signin.success"}}}},loginError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.signin.wrong"}}}},facebookError:{lefticon:{icon:"facebook"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.signin.facebookError"}}}},registerSuccess:{lefticon:{icon:"email"},css:{addClass:""},duration:5e5,txt:{title:{text:{dictionary:"text.verifyEmail.title"}},subtitle:{text:{dictionary:"text.verifyEmail.subtitle"}}}},email:{"txt.title.text.dictionary":"text.account.invalid.email"},emailExists:{"txt.title.text.dictionary":"text.account.signup.already"},registerError:{"txt.title.text.dictionary":"text.account.signin.wrong"},registerErrorExists:{"txt.title.text.dictionary":"text.account.signup.already"},registerErrorInvalid:{"txt.title.text.dictionary":"text.account.signin.wrong"},blankEmail:{"txt.title.text.dictionary":"text.account.signin.wrong"},password:{"txt.title.text.dictionary":"text.account.passwordResetError"},passwordShort:{"txt.title.text.dictionary":"text.account.invalid.password"},noMatchPassword:{"txt.title.text.dictionary":"text.noMatchPassword"},verifyEmailSuccess:{lefticon:{icon:"email"},css:{addClass:"success"},duration:5e5,txt:{title:{text:{dictionary:"text.account.verifyEmailSuccess.title"}},subtitle:{text:{dictionary:"text.account.verifyEmailSuccess.subtitle"}}}},verifyEmailError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.verifyEmailError"}}}},appUpgrade:{lefticon:{icon:"warning"},duration:5e8,txt:{title:{text:{dictionary:"text.versionAvailable"}},"events.click":function(e){window.location.reload()}}},enable4g:{txt:{title:{text:{dictionary:"modal.warning.cellular.title"}},subtitle:{text:{dictionary:"modal.warning.cellular.subtitle"}}}},passwordForgot:{"txt.title.text.dictionary":"text.account.forgot.success"},passwordForgotError:{"txt.title.text.dictionary":"text.account.forgot.wrong"},passwordReset:{"txt.title.text.dictionary":"text.account.passwordReset"},passwordResetError:{"txt.title.text.dictionary":"text.account.passwordResetError"},invalidPasswordToken:{"txt.title.text.dictionary":"text.account.passwordResetError"},resetTokenExpired:{"txt.title.text.dictionary":"text.account.passwordResetError"},shareSuccess:{"txt.title.text.dictionary":"share.success"},shareError:{"txt.title.text.dictionary":"share.failed"},mobileUpgradeSuccess:{"txt.title.text.dictionary":"text.hoorayMobileTitle"},mobileUpgradeError:{"txt.title.text.dictionary":"modal.warning.unabletoverify"},mobileVerifySuccess:{"txt.title.text.dictionary":"text.verifysuccess"},mobileVerifyError:{"txt.title.text.dictionary":"text.verifyfail"},invalidNumber:{"txt.title.text.dictionary":"text.verifyfail"},numberExists:{"txt.title.text.dictionary":"text.verifytaken"},purchaseError:{"txt.title.text.dictionary":"text.account.purchaseError"},upgraded:{"txt.title.text.dictionary":"text.upgradedMessage"},subscription:{"txt.title.text.dictionary":"text.account.purchaseError"},singleEpisodePurchased:{"txt.title.text.dictionary":"singleEpisodePurchased"},invalid:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.invalidEntry"}}}},expired:{"txt.title.text.dictionary":"text.invalidEntry"},terms:{"txt.title.text.dictionary":"text.invalidEntry"},privacy:{"txt.title.text.dictionary":"text.invalidEntry"},invalidEmail:{"txt.title.text.dictionary":"text.account.forgot.wrong"},mobileTimeout:{"txt.title.text.dictionary":"text.mobileTimeout"}}}},{}],"/Users/shawn/Work/buggin/components/first/notification/index.js":[function(e,t,n){e("./style.less");var s=e("../../icon"),o=e("../../item"),i=e("vigour-js/app/ui/switcher"),r=e("./config"),a=e("vigour-js/browser/cases"),l=r.map,u=new o({on:{$remove:{defer:function(e){var t=this._parent._caller;console.log(">>>",t.parent),t._timer&&clearTimeout(t._timer),e()}}},position:"absolute",y:{val:40,iosFull:64,animation:{start:0,time:18,easing:"outCubic",complete:function(){var e=this.duration;if(e){var t=this;this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t&&t.parent&&(t.parent.remove(),t.css={addClass:"fade-out"}),this._timer=null},e)}}}},lefticon:new s({icon:"warning"}),txt:{title:{text:""},subtitle:{text:{val:"",defer:function(e){this._caller.display=this._val?"block":"none",e()}}}},"events.click":function(){var e=this.checkParent("on.notification",!0).from;e.val=!1},righticon:new s({icon:"close",events:{click:function(e){e.prevent=!0;var t=this.checkParent("on.notification",!0).from;t.val=!1}}})}).Class;t.exports=new i({css:"first-notification",y:{val:-40,iosFull:-64},iosFull:{},on:{notification:{defer:function(e,t){var n,s=this._parent._caller,o=this.from,i=o.val;if("appUpgrade"===i&&!a["native"])return void e();if(t[0]===!1){var c=s.node.childNodes[s.node.childNodes.length-1].base;c.css={addClass:"fade-out"},c._timer=setTimeout(function(){s.remove()},500)}else n=o.type,n&&"api"!==n&&(i=n,o.type=null),s.transition={element:u,$params:l[i]||{txt:{title:{text:i}}},$options:{force:!0,duration:l[i]&&l[i].duration||r.timeout}};e()}}},onTransition:function(e,t,n,s){this.add(e),e.duration=s.duration,t&&(t.css={addClass:"fade-out"})}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","./config":"/Users/shawn/Work/buggin/components/first/notification/config.js","./style.less":"/Users/shawn/Work/buggin/components/first/notification/style.less","vigour-js/app/ui/switcher":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/notification/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/overview/index.js":[function(e,t,n){e("./style.less");var s=(e("vigour-js/app/"),e("vigour-js/app/ui/element")),o=(e("../../icon"),e("vigour-js/browser/cases"),e("vigour-js/browser/element/properties/collection/display"),e("../../text/search"),e("vigour-js/browser/events/util"),e("vigour-js/browser/events/util"),e("./item"));e("../../img");t.exports=n=new s({css:"first-overview","touch.scrollbar":"y",x:{translate:!0}}).Class,n.Items=new s({pageheader:{}}).Class,n.Item=o},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../text/search":"/Users/shawn/Work/buggin/components/text/search.js","./item":"/Users/shawn/Work/buggin/components/first/overview/item.js","./style.less":"/Users/shawn/Work/buggin/components/first/overview/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/element/properties/collection/display":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/display.js","vigour-js/browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js"}],"/Users/shawn/Work/buggin/components/first/overview/item.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/"),o=e("vigour-js/app/ui/element"),i=e("../../icon"),r=e("../../img"),a=e("vigour-js/browser/cases"),l=e("../../epg_temp"),u=e("../../item"),c=e("../../player/seekbar"),d=(u.TitleSubtitle,l.clockTime),p=e("vigour-js/app/dictionary"),g=a.touch?new u.Thumb({display:"table"}):new u.Large({display:"inline-block"});if(a.slow||((a.touch?g.thumb.img:g.thumb).background={load:function(e){e.opacity=1}}),t.exports=n=g.set({events:{active:"ui-item-clicked"}}).Class,!a.touch){var h=p.get("text.noEPG");n.Tv=new o({css:"ui-item-large tv",display:"inline-block",thumb:new r.Overlay({w:310,h:221,access:new i({on:{data:"id"},icon:{data:"access",transform:function(e,t){var n=s.util.access(t,this.data);return"playAlt"===n?"empty":n},listen:s.user.role}})}),info:{title:{css:"ui-item-text",text:{data:"title"}},"now.text.dictionary":"text.now",epg:{showtitle:{text:{data:"title"}},time:{text:{val:{data:"minutes_since_midnight",transform:d,add:[" - ",{data:"endtime",transform:d}]},transform:function(e,t){var n=this.data;return n&&n.val?t:h.val},listen:p}},bar:new c({w:{val:221,clear:!0},seek:{w:{val:221,multiply:{val:l.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"}},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.info.epg.data=l.now(t),this.model=!1)}},events:{click:function(){this.checkParent("on.media",!0).$userOrigin=this.data.from}}}).Class}},{"../../epg_temp":"/Users/shawn/Work/buggin/components/epg_temp.js","../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","../../player/seekbar":"/Users/shawn/Work/buggin/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/overview/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/overview/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/seasons/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("../../icon"),i=e("../../img"),r=e("../../text"),a=e("../favourite"),l=e("vigour-js/app/"),u=e("vigour-js/browser/cases"),c="dropDownEventId",d=e("vigour-js/app/dictionary"),p=d.get("text.season"),g=d.get("text.episode"),h=d.get("text.min"),f=d.get("text.specials"),v=new s({collection:{data:"season.episodes",filter:!0,element:new s({model:function(e){var t=e._contentPath;t&&!~t.indexOf("channels")&&(this.holder.thumb.cover.data=l.user.usage.from.get(t),this.model=!1)},holder:{crawler:{node:"a",href:{data:function(e){return l.user.$parse(e).url||""}},attr:{onclick:"return false"}},thumb:{w:100,img:new i({w:100,h:75}),cover:{y:u.desktop?-75:-5,h:u.desktop?75:5,model:{inherit:!1},desktop:{percentage:{text:{data:"time",transform:function(e,t){var n=Math.floor(100*t);return n?Math.abs(n)+"%":""}}}},bar:{w:{data:"time",transform:function(e,t){return isNaN(t)?0:100*Math.abs(t)}}}}},txt:{title:new r.Title,subtitle:{text:{data:"number",transform:function(e,t){return t>9e3?"":g.val+" "+t+" - "},add:{data:"duration",transform:function(e,t){return t?~~(t/60)+" "+h.val:""},listen:d}}}},righticon:new o({on:{data:"id"},icon:{data:"access",transform:function(e,t){var n=l.util.access(t,this.data),s="playAlt"===n?u.desktop?"empty":"arrowright":n;return"lockedContent"===s?"lockedContentAlt":s},listen:[l.user.role,l.user.purchases]}})},border:{},"events.click":function(){l.user.navigation.media.$userOrigin=this.data.from}})}}).Class;t.exports=new s({on:{media:{defer:function(e,t){var n=l.user.navigation.media.from.val;if(n){var s=this._parent._caller,o=s.list.find("data",n);o&&!o.css.val&&(s.prev&&(s.prev.css=!1),o.css="current",s.prev=o)}e()}}},title:{text:{val:{dictionary:"text.episodes"},tablet:{data:"show.title"}}},tablet:{favourite:new a},list:{tablet:{scrollbar:"y",h:{val:l.h,sub:{val:99,iosFull:119}}},eps:new v({display:{val:!0,transform:function(e,t){return t===!1?"none":"block"}},model:{complete:function(e){this.parent&&this.parent.parent.on.media._update()}}}),extrasHeader:{display:{data:"season.extras",transform:function(e,t){return t&&t[0]?"block":"none"}},text:{dictionary:"text.extras"}},extras:new v({collection:{data:"season.extras"}})},dropdown:{h:30,on:{$remove:{defer:function(e){l.removeEvent(!1,c),e()}}},current:{text:{data:"season.number",transform:function(e,t){return 9e3!==t?p.val+" "+t:f.val},listen:d},caret:new o({icon:"dropdown"})},collection:{data:"show.seasons",filter:!0,element:new s({crawler:{node:"a",href:{data:function(e){return"shows/"+e._parent._parent._name+"/"+e.number+"/1"||""}},attr:{onclick:"return false"}},text:{data:"number",transform:function(e,t){return 9e3!==t?p.val+" "+t:f.val},listen:d},"events.click":function(){var e=this.data.from;l.user.navigation.season.$userOrigin=e,e.get("episodes")}})},"events.click":function(){var e=this.children.length,t=this;30===this.h.val&&e>2?(this.h=30*e+4,l.addEvent("click",function(){t.h&&(t.h=30),l.removeEvent(!1,c)},c)):this.h=30},"model.complete":function(){this.children.length<=2?this.css={addClass:"inactive"}:this.css={removeClass:"inactive"}}},model:function(e){e.media&&(this.model=!1)}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js","../favourite":"/Users/shawn/Work/buggin/components/first/favourite/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/seasons/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/seasons/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/show/cover.js":[function(e,t,n){e("./style.less");var s=e("../../img"),o=(e("../../text").TitleSubtitle,e("vigour-js/app/ui/element"),e("vigour-js/browser/cases"),e("./switcher"),e("../favourite")),i=(e("vigour-js/app/"),new s({background:{data:"show.img"},h:{val:220,ios:{animation:{time:24,easing:"outCubic"}}},w:{parent:"w"},info:{position:"absolute",y:{translate:!0},opacity:{parent:"h",transform:function(e,t){return 440/t-1}},box:{star:new o,description:{model:{subscription:{description:!0}},text:{data:"show.description",transform:function(e,t){if(!t.length)return t;var n=t.slice(0,300),s=Math.max(Math.max(n.lastIndexOf("."),n.lastIndexOf("!")),n.lastIndexOf("?"));return~s?n.slice(0,s+1):n+".."}}}}}}).Class);t.exports=n=i},{"../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js","../favourite":"/Users/shawn/Work/buggin/components/first/favourite/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/show/style.less","./switcher":"/Users/shawn/Work/buggin/components/first/show/switcher.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/show/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/browser/cases");if(s.phone){var o=e("vigour-js/app/ui/element"),i=e("./switcher"),r=(e("./list"),e("./cover")),a=e("vigour-js/browser/events"),s=e("vigour-js/browser/cases"),l=e("vigour-js/app/"),u=(a.document,e("../overview/item"),e("../favourite")),c=(e("../../player"),new o({css:"show",x:{translate:!0},model:function(e){if(e.show){var t=e.show._cachedPath;t&&(n.state&&n.state.path===t&&this.set(n.state.params),this.model=!1)}},on:{$remove:{defer:function(e){var t=this._parent._caller;n.state={path:t.data.show&&t.data.show._cachedPath,params:{cover:{h:t.cover.h.val},switcher:{y:t.switcher.y.val}}},e()}},season:{defer:function(e){var t=this._parent._caller,n=this._val.from;i.set(t.switcher,n._parent,n._name),e()}}},phone:{cover:new r},desktop:{header:{css:"ui-header",append:new o({text:{data:"title"},display:"inline"}),star:u}},switcher:new i({w:l.w}),events:{down:s.ios?function(e){var t=this,n=t.cover,s="seasonmove",o=n.h.val,r=this.switcher._currentList,l=r.node.scrollTop>1;t._y=e.y,n.h._p=!0,t.addEvent("move",function(e){var s=e.y,r=e.x,u=t._y-s,c=!o&&u>0||l;!i.block&&!l&&Math.abs(t._x-r)<Math.abs(u)&&(a.click.block=!0,n.h=n.h.val-u),c||e.preventDefault(),t._y=s,t._x=r},s),t.addEvent("up",function(){a.click.block=!1,n.h._p=!1,n.h=n.h.val>110?220:0,t._y=null,t._x=null,t.removeEvent(!1,s)},s)}:s.slow?function(e){function t(){a.click.block=!1,o.y._p=!1,n._y=null,n._x=null,n.removeEvent(!1,s)}var n=this,s=(n.cover,"seasonmove"),o=this.switcher,r=-220!==o.y.val,l=o._currentList,u=l.node.style,c=l.node.scrollTop>1;n._y=e.y,o.y._p=!0,n.addEvent("move",function(e){var s=e.y,l=e.x,d=n._y-s,p=!r&&d>0||c;!i.block&&!c&&Math.abs(n._x-l)<Math.abs(d)&&(a.click.block=!0,d>0?o.y.val=-220:o.y=0,t()),p?u.overflow="scroll":(u.overflow="hidden",e.preventDefault()),n._y=s,n._x=l},s),n.addEvent("up",t,s)}:function(e){var t,n=this,s=(n.cover,"seasonmove"),o=this.switcher,r=-220!==o.y.val,l=o._currentList,u=l.node.scrollTop>1;n._y=e.y,o.y._p=!0,n.addEvent("move",function(e){var s=e.y,l=e.x,c=n._y-s,d=!r&&c>0||u;!i.block&&!u&&Math.abs(n._x-l)<Math.abs(c)&&(a.click.block=!0,t=o.y.val-c,o.y=Math.min(Math.max(t,-220),0)),d||e.preventDefault(),n._y=s,n._x=l},s),n.addEvent("up",function(){a.click.block=!1,o.y._p=!1,o.y=o.y.val<-110?-220:0,n._y=null,n._x=null,n.removeEvent(!1,s)},s)}}}));t.exports=n=c.Class}else t.exports=e("../watch")},{"../../player":"/Users/shawn/Work/buggin/components/player/index.js","../favourite":"/Users/shawn/Work/buggin/components/first/favourite/index.js","../overview/item":"/Users/shawn/Work/buggin/components/first/overview/item.js","../watch":"/Users/shawn/Work/buggin/components/first/watch/index.js","./cover":"/Users/shawn/Work/buggin/components/first/show/cover.js","./list":"/Users/shawn/Work/buggin/components/first/show/list.js","./style.less":"/Users/shawn/Work/buggin/components/first/show/style.less","./switcher":"/Users/shawn/Work/buggin/components/first/show/switcher.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/buggin/components/first/show/list.js":[function(e,t,n){var s=e("vigour-js/browser/cases"),o=e("vigour-js/app/ui/element"),i=e("vigour-js/app/"),r=(e("../../icon"),e("../../img").Basic),a=e("../../item").Indicator,l=e("vigour-js/app/dictionary"),u=(e("vigour-js/data"),new o({collection:{data:"episodes",filter:!0,element:new a({model:function(e){var t=e._contentPath;t&&(this.thumb.bar.w=i.user.usage.from.get(t.concat(["time"])),this.model=!1)},thumb:{img:new r({w:70,h:45}),bar:{w:{transform:function(e,t){return isNaN(t)?0:70*Math.abs(t)}}}},txt:{"subtitle.text.data":{val:function(e){var t,n="";return(t=e.number&&e.number.val)&&9e3>=t&&(n+=l.get("text.episode").val+" "+t),e.duration?(n&&(n+=" - "),n+=Math.round(e.duration.val/60)+" "+l.get("text.min").val):void 0},listen:["number","duration"]}},events:{active:!s.desktop&&"ui-item-clicked",click:function(){n.block||(this.checkParent("on.media",!0).$userOrigin=this.data.from)}}})},model:{complete:function(){var e=this.parent;if(n.state){var t=this.data&&this.data._cachedPath;t&&(n.state.path===t&&(e._scrollTop=n.state.scrollTop,e.node.scrollTop=n.state.scrollTop||1),n.state=null)}else s.touch&&(e.node.scrollTop=1);this.model=!1}}}).Class),c=new o({eps:new u,extrasHeader:{display:{data:"extras",transform:function(e,t){return t&&t[0]?"block":"none"}},text:{dictionary:"text.extras"}},extras:new u({collection:{data:"extras"}})}),d=new o({css:"list",scroller:c,on:{$render:{defer:function(e){var t=this._parent._caller;t.node.scrollTop=t._scrollTop||s.touch&&1,e()}}},h:{val:i.h,sub:{val:89,iosFull:109}},scrollbar:"y",model:{inherit:!1}});t.exports=n=d.Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js"}],"/Users/shawn/Work/buggin/components/first/show/seasons.js":[function(e,t,n){var s=(e("vigour-js/browser/cases"),e("vigour-js/browser/events"),e("vigour-js/app/ui/element")),o=(e("../../icon"),e("vigour-js/app/")),i=e("vigour-js/app/dictionary"),r=i.get("text.season"),a=i.get("text.specials"),l=new s({text:{data:"number",transform:function(e,t){return 9e3!==t?r.val+" "+t:a.val},listen:i}}).Class;t.exports=new s({items:{collection:{data:"show.seasons",filter:!0,element:new l({node:"a","events.click":function(){this.checkParent("on.season",!0).$userOrigin=this.data.from}})}},x:{translate:!0,parent:"w",multiply:0,"!slow":{animation:{time:Math.min(o.w.val/14,32),easing:"outCubic"}}},highlight:{x:{translate:!0}}})},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/buggin/components/first/show/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/show/switcher.js":[function(e,t,n){function s(){n.block=!1;var e=this.parent,t=e.parent.data.show.seasons,s=this._current||(this._current=0),o=this._keys||(this._keys=t.keys);if(o&&t){var i=this._l||(this._l=o.length),r=this.children,a=(this.children.length,r[s-1]),l=r[s+1];i>s&&!l&&(l=new p,this.add(l)),a&&!a.data&&(a.data=t[s-1]),l&&!l.data&&(l.data=t[s+1])}}function o(e,t){var s=Math.abs(t.x)>Math.abs(t.y);return s&&(n.block=!0),s}function i(e,t){var n=this.parent,s=n.seasons,o=this._l||this._keys.length,i=t.x,r=i/(o-1)/(3/(o-3))+this._start,a=this.x.val,l=this._current,u=this._focus||0,c=120;if(o>3&&0>a&&a>this._max&&(s.x={_e:r}),-c>i&&l!==o-1?l+=1:i>c&&0!==l&&(l-=1),u!==l){var d=s.items.children,p=n.w.val/3;s.highlight.x=p*l,d[u].css="",d[l].css="focus",this._focus=l}}function r(e,t,n){var s,o=this.parent.seasons,i=120,r=3,a=-this._current,l=this._keys.length,u=t.x||t,c=n.x||n;Math.abs(c)>r?(0>c&&!(u>i)&&(s=Math.max(a-1,-l+1)),c>0&&!(-i>u)&&(s=Math.min(a+1,0))):(-i>u&&(s=Math.max(a-1,-l+1)),u>i&&(s=Math.min(a+1,0))),void 0!==this.x._e&&(this.x={_esub:this.x._e.val}),void 0!==o.x._e&&(o.x={_esub:o.x._e.val}),void 0!==s&&(this.checkParent("switcher.on.season",!0).$userOrigin=o.items.children[-s].data.from)}e("./style.less");var a=e("vigour-js/app/ui/element"),l=e("vigour-js/app/"),u=(e("../../icon"),e("vigour-js/util"),e("vigour-js/browser/cases")),c=(e("vigour-js/browser/events/util"),e("vigour-js/browser/events")),d=(e("../../text").Subtitle,c.document),p=(e("../../img"),e("../../item"),e("./list")),g=(e("../favourite"),e("./seasons")),h=new a({on:{$remove:{defer:function(e){var t=this._parent._caller,s=t._currentList;p.state={path:s.data._cachedPath,scrollTop:s.node.scrollTop},n.block=!1,e()}}},y:{translate:!0,"!ios":{"!slow":{animation:{time:24,easing:"outCubic"}}}},touch:{line:{}},seasons:g,roll:{w:{parent:"w"},x:{translate:!0,parent:"w",multiply:0,"!slow":{animation:{time:Math.min(l.w.val/14,32),easing:"outCubic",init:function(){n.block=!0},complete:s}}},events:u.touch&&u.slow&&{down:function(e){var t,n=e.x,s=n,o=n,i=e.y,a="swipe",l=this;d.addEvent("move",function(e){n=e.x,t=n-s,s=n,t&&(c.click.block=!0)},a),d.addEvent("up",function(e){var n=e.x-o;c.click.block=!1,Math.abs(n)>Math.abs(i-e.y)&&r.call(l,e,n,t),d.removeEvent(!1,a)},a)}}},model:function(e){if(e=e.show&&e.show.seasons){var t=e.keys,s=t.length;s&&s!==this._l&&(this._keys=t,this._l=s,n.set(this,e))}},events:u.touch&&!u.slow&&{grab:{x:!0,bind:function(){return this.roll},down:function(){if(this._keys){var e=this.parent.seasons.x._e,t=this._keys.length;this._start=e?e.val:0,this._max=-l.w.val*(t-1)}},pass:o,move:i,up:r}}});t.exports=n=h.Class,n.set=function(e,t,n){for(var o=0|n,i=e.roll,r=i.children.length-1,a=e._keys||(e._keys=t.keys),l=e._l||(e._l=a.length),c=i._current,d=-o,g=e.seasons,h=g.items,f=h.children[u.desktop?o+1:o];o>r++;)i.add(new p);var v=i.children[o];if(void 0!==c){var m=h.children[u.desktop?c+1:c];g.x._p=!1,l>3&&(g.x={multiply:d/(l-1)/(3/(l-3))}),m&&(m.css=""),e.parent.x.val?i.x.preventSet({multiply:d}):i.x={multiply:d}}else l>3&&(g.x._p=!0,g.x={multiply:d/(l-1)/(3/(l-3))},g.x._p=!1),i.x.preventSet({multiply:d});e._current=i._current=o,e._currentList=v,e._keys=i._keys=a,u.touch&&(g.highlight.x=i.w.val/3*o),v.data||(v.data=t[o]),s.call(i),f&&(f.css="focus",u.desktop&&(h.current.data=f.data))},u.touch},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../item":"/Users/shawn/Work/buggin/components/item/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js","../favourite":"/Users/shawn/Work/buggin/components/first/favourite/index.js","./list":"/Users/shawn/Work/buggin/components/first/show/list.js","./seasons":"/Users/shawn/Work/buggin/components/first/show/seasons.js","./style.less":"/Users/shawn/Work/buggin/components/first/show/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js","vigour-js/browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/components/first/shows/index.js":[function(e,t,n){function s(e,t){var n=t&&t.keys,s="block"===e._parent._parent._val;return n&&n.length&&s?"block":"none"}function o(e,t,n,s){var o=e/t,i=n/t,r=s.length,a=Math.round(r*i),l=a+Math.round(r*o);
return 0>a&&(l+=-a,a=0),s.slice(a,l).join(".")}var i=(e("vigour-js/app/ui/element"),e("../overview")),r=e("vigour-js/browser/cases"),a=e("../../icon"),l=e("vigour-js/browser/element/properties/collection/display"),u=(e("../../player"),e("vigour-js/app/"),new i.Items({pageheader:{text:{dictionary:"text.nav.shows",touch:"a - z"}},collection:{data:"shows",filter:{condition:{title:{$contains:""}},sort:"title"},option:l,element:new i.Item({"events.click":function(){this.checkParent("on.show",!0).$userOrigin=this.data.from}})},model:{subscription:{$:{$:!0}}}})),c=new i.Items({pageheader:{"text.dictionary":"text.favorites"},collection:{data:"favourites",option:l,element:new i.Item({desktop:{css:{addClass:"favo-item"},thumb:{w:{sub:15,multiply:.5},h:{self:"w",divide:4/3}},info:!1},"events.click":function(){this.checkParent("on.show",!0).$userOrigin=this.data.from}})},"!touch":{display:{val:"block",transform:{data:"favourites",transform:s}}},touch:{pageheader:{display:{val:"block",transform:{data:"favourites",transform:s}}},message:new a({icon:"favoriteadd","text.dictionary":"text.noFavos",display:{data:"favourites",transform:function(e,t){var n=t&&t.keys&&t.keys.length;return n?"none":"block"}}})}});t.exports=new i({search:e("../../text/search"),on:{$render:{defer:function(e){var t=this._parent._caller;r.desktop?(t._parent=t.parent).addEvent("scroll",function(){},"overviewScroll"):window.requestAnimationFrame(function(){t._node&&(t.node.scrollTop=n.scrollTop||r.touch&&1,t.events.scroll._val.call(t,!1))}),t.set({on:{connect:r.$hasReceiver}}),e()}},$remove:r.desktop&&{defer:function(e){var t=this._parent._caller;t._parent.removeEvent(!1,"overviewScroll"),e()}},connect:{defer:function(e){var t=this._parent._caller;t.events.scroll._val.call(t,!1),e()}}},favos:c,items:u,events:{scroll:function(e){var t=this.node.scrollTop;if(e!==!1&&(n.scrollTop=t),r.$hasReceiver.val&&this&&this.items){var s=this.items.children,i=s.length;if(void 0===this._k||this._l!==i){for(var a=[],l=s.length-1;l>=0;l--){var u=s[l].data;u&&a.unshift(u._name)}this._k=a,this._h=this.node.offsetHeight,this._s=s[1]&&s[1].node.offsetTop,this._sh=this.node.scrollHeight-this._s,this._l=i}var c=this._h,d=this._s,p=this._sh,g=this._k;d>t&&(c-=d-t),this.data.highlight.$userOrigin=o(c,p,t-d,g)}}},model:{complete:function(){this.model={complete:null},this.node.scrollTop=n.scrollTop||r.touch&&1,this.events.scroll._val.call(this,!1)}}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../player":"/Users/shawn/Work/buggin/components/player/index.js","../../text/search":"/Users/shawn/Work/buggin/components/text/search.js","../overview":"/Users/shawn/Work/buggin/components/first/overview/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/element/properties/collection/display":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/display.js"}],"/Users/shawn/Work/buggin/components/first/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/switcher/index.js":[function(e,t,n){function s(e){var t=this._parent,n=t.ms._val,s=u.$isReceiver.val?n.media.$userOrigin.val:t.media.$userOrigin.val;t._caller.transition={element:p.getElement(),$params:p.getParams(t.media,s,!0)},i.state.video={val:s.from},e()}function o(){var e=this.previous;this.current;if(e){if("page"===e)return void(this.on.page.$userOrigin=this.on.page.val||("show"===this.current||"episode"===this.current)&&"shows"||"channel"===this.current&&"channels"||"discover");if(this.on[e]){var t=this.on[e].from,n=this.on.media.from;if("navigation"===t._parent._name&&("show"===e&&"navigation"!==n._parent._name?(t=n._parent._parent._parent._parent,"show"!==t._name&&(t=null)):t=null),t)return void(this.on[e].$userOrigin=t)}}this.on.page.$userOrigin="string"==typeof this.on.page.val?this.on.page.val:"discover"}e("./style.less");var i=e("vigour-js/app/"),r=e("vigour-js/app/ui/element"),a=e("vigour-js/app/ui/switcher"),l=e("vigour-js/app/ui/switcher/transitions"),u=e("vigour-js/browser/cases"),c=e("../../icon"),d=e("./page"),p=e("./media"),g=e("./show");t.exports=n=new a({css:"first-switcher",desktop:{scrollbar:{val:i.w,transform:function(e,t){return 1300>t||"y"}},transition:{defer:function(e){this._caller.node.scrollTop=0,e()}}},on:{page:{defer:function(){(u.$isFullscreen.val?s:d).apply(this,arguments)}},show:{defer:function(){(u.$isFullscreen.val?s:g).apply(this,arguments)}},season:{defer:function(e,t){t[0]&&this._parent.show._update(),e()}},media:{defer:function(){(u.$isFullscreen.val?s:p).apply(this,arguments)}}},onTransition:{val:"fade",touch:"slide"},backFallback:o,loader:new r({css:"first-loader",x:{translate:!0},loadicon:new c({icon:"logo"})})}).inject(l).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./media":"/Users/shawn/Work/buggin/components/first/switcher/media.js","./page":"/Users/shawn/Work/buggin/components/first/switcher/page.js","./show":"/Users/shawn/Work/buggin/components/first/switcher/show.js","./style.less":"/Users/shawn/Work/buggin/components/first/switcher/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/app/ui/switcher":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js","vigour-js/app/ui/switcher/transitions":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/transitions.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/switcher/media.js":[function(e,t,n){var s,o=e("vigour-js/browser/cases"),i=e("vigour-js/app/");t.exports=n=function(e){var t=this._parent._caller,s=this.$userOrigin.val||(s=this.$userOrigin.val=this.from);if(!n.isEpisode(s)){var o,r,a=s.from._path,l=a.indexOf("seasons");~l&&(o=a.lastIndexOf("channels"),r=a.slice(o,l),s=this.$userOrigin.val=i.content.get(r))}t.transition={element:n.getElement(),direction:n.getDirection(t,s),$params:n.getParams(this,s),$options:n.getOptions(s)},n.setStatus(t,s),e()},n.isEpisode=function(e){return!~e._contentPath.indexOf("channels")},n.getDirection=function(e,t){var s=e.current;return n.isEpisode(t)?"episode"!==s?1:0:"channel"!==s?1:0},n.getElement=function(){return s||(s=e("../watch"))},n.getOptions=function(e){var t=n.isEpisode(e)&&e._parent._parent,s=o.tablet&&t&&t.from,i=e.from,r=s||i;return r?{loader:r}:void 0},n.getParams=function(e,t,s){var r,a=e._parent,l=a.usage,u=a.ms._val.media.$userOrigin,c=n.isEpisode(t),d={media:t,volume:a.volume.from,msmedia:u};return c&&(seasondata=t._parent._parent,s?d.season=seasondata:(o.phone?a.season.$userOrigin.val=seasondata:a.season.$userOrigin=seasondata,d.season=a.season.$userOrigin),d.show=r=i.user.navigation.show.$userOrigin.val=seasondata._parent._parent,d.showusage=l.from.get(r.from._contentPath),d.mediausage=l.from.get(t.from._contentPath,{time:0})),o.$isOnChannel.val=!c,params={media:{player:{on:{msmedia:u,media:t}}},on:{channel:{val:o.$isOnChannel,listen:t},resize:o.tablet&&i.w},data:d},params},n.setStatus=function(e,t){var s,i=e.current,r=n.isEpisode(t);s=o.phone&&r?"page"===i?i:"show":"page",e.previous=s,e.current=r?"episode":"channel"}},{"../watch":"/Users/shawn/Work/buggin/components/first/watch/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/switcher/page.js":[function(e,t,n){var s=e("vigour-js/browser/cases");t.exports=function(t){var o,i,r=this.$userOrigin.val,a=this._parent,l=a._caller,u=a.content.from;r&&("discover"===r?(void 0===n[r]&&(n[r]=e("../discover")),i={marquee:u.get("marquee.list"),recommended:u.get("recommended.list"),releases:o=u.get("releases.list"),watched:a.watched.from,free:u.get("free.list"),channels:u.get("channels"),scroll:a.scroll.from,carousel:a.carousel.from}):"shows"===r?(void 0===n[r]&&(n[r]=e("../shows")),i={shows:o=u.get("shows"),favourites:a.favourites.from,search:a.search._val,highlight:a.highlight.from}):"channels"===r&&(void 0===n[r]&&(n[r]=e("../channels")),i={channels:o=u.get("channels")}),l.transition={element:n[r],$params:{data:i},$options:{loader:s.tablet&&"page"===l.current&&l._last!==r?!0:o&&o.from,animation:!(s.tablet&&"page"===l.current),delay:s.tablet&&"page"===l.current&&350},direction:"page"!==l.current&&-1},l.current="page",l._last=r),t()}},{"../channels":"/Users/shawn/Work/buggin/components/first/channels/index.js","../discover":"/Users/shawn/Work/buggin/components/first/discover/index.js","../shows":"/Users/shawn/Work/buggin/components/first/shows/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/switcher/show.js":[function(e,t,n){var s,o=e("vigour-js/browser/cases");e("vigour-js/app/"),e("./media");o.phone?(t.exports=n=function(e){var t=this._parent,s=t._caller,o=this.$userOrigin.val;s.transition={element:n.getElement(),$params:n.getParams(this,o),$options:n.getOptions(this,o),direction:n.getDirection(s,o)},t.season.$userOrigin._update(),s.previous="page",s.current="show",e()},n.getDirection=function(e,t){var n=e.current;return"page"===n?1:"episode"===n&&-1},n.getElement=function(){return s||(s=e("../show"))},n.getOptions=function(e,t){var n=e._parent.season.from;t.from;return{loader:n}},n.getParams=function(e,t){var n,s=e._parent,o=t._name,i=s.season,r=s.usage;return i.$userOrigin.val&&i.from.checkParent("_name",o)||(i.$userOrigin.val=t.from.get("seasons.0")),n={on:{season:i.$userOrigin,show:t},data:{show:t,showusage:r.from.get(t.from._contentPath)}}}):t.exports=function(e){var t=this.$userOrigin.val,n=t._name,s=this._parent.season,o=s.from._parent._parent===t.from&&s.from._name,i=this._parent,r=i.media;if(r.from.checkParent("_name",n)&&r.$userOrigin.val)r._update(),e();else{o=!o||isNaN(o)?0:o,s=t.get("seasons."+o),s.subscribe({episodes:{0:{title:!0}}}),s.subscribe({episodes:!0});var a=s.get("episodes");a.is("loaded",function(){s.unsubscribe({episodes:{0:{title:!0}}}),s.unsubscribe({episodes:!0}),r.from.checkParent("_name",n)&&r.$userOrigin.val||(r.$userOrigin=a.val?a.get("0"):s.get("extras.0")),e()})}}},{"../show":"/Users/shawn/Work/buggin/components/first/show/index.js","./media":"/Users/shawn/Work/buggin/components/first/switcher/media.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/switcher/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/tv/grid.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("../../img"),i=e("vigour-js/app/"),r=new o({css:"tv-grid-item",h:{val:i.h,divide:3},w:{self:"h",multiply:4/3},display:"inline-block"}).Class,a=new r({w:{self:"h",multiply:8/3,add:{val:i.w.val,multiply:.016}}}).Class,l=new s({category:{text:"this is the field",h:{val:i.h,divide:3},w:{self:"h",multiply:5/6},css:"tv-grid-category"},display:{data:function(e){return 0===e.length?"none":"block"}},events:{arrowUp:function(){this.$prev.val&&this.$prev.val.$focus()},arrowDown:function(){this.$next.val&&this.$next.val.$focus()},arrowRight:function(){i.focusState.prev=this._name,i.focusState.from.val="row"},click:function(){this.events.arrowRight._val.call(this)},arrowLeft:function(){this.checkParent("sidemenu",!0);i.focusState.val="menu"},back:function(e){e.preventDefault(),i.focusState.val="menu"},$focus:function(e){var t,n=this.category,s=n.node,o=this.parent,r=i.h.val,a=r-80,l=r/5;i.focusState.prev=this._name,n.css=e?"tv-grid-category current":"tv-grid-category",e&&(t=s.getBoundingClientRect(),t.bottom>a?o.y=o.y.val-(t.bottom-a):t.top<l&&(o.y=o.y.val+(l-t.top)),o.y._p=null)}},css:"tv-row",collection:{data:!0,element:r}}).Class;t.exports=n=new s({css:"tv-grid",y:{val:i.h.val/5,animation:{easing:"outCubic",time:18}},on:{$new:{defer:function(e){this._parent._caller.y._p=!0,e()}},focusState:{defer:function(e,t){var n=this;if("grid"===n.from.val){var s=n._parent;if(s){var o=s.focusState.from.prev,r=s._caller,a=o&&r[o]||r.children[0];a.$focus()}}else"row"===n.from.val&&i.user.updateNavigation();e()}},$parent:{defer:function(e,t){var n,s,o=this._parent._caller;if(o&&o.data){for(var i in o.data){var u=i;i="$$"+i,o[i]||(s||(s={}),"marquee"===i?s[i]=new l({"category.text":u.length>2?{dictionary:"text."+u}:u,bigItem:new a({data:o.data[u].get(0)}),item:new r({data:o.data[u].get(1)})}):s[i]=new l({"category.text":u.length>2?{dictionary:"text."+u}:u,data:o.data[u]}),n||(n=i))}n&&(o.set(s),this._parent.focusState._update())}e()}}}}).Class;n.Row=l,n.Item=r},{"../../img":"/Users/shawn/Work/buggin/components/img/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/tv/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/first/tv/index.js":[function(e,t,n){function s(e,t){return Math.ceil(e/t)*t}var o=(e("vigour-js/app/ui/element"),e("vigour-js/app/")),i=(e("vigour-js/browser/cases"),e("vigour-js/app/ui/switcher")),r=e("vigour-js/app/ui/switcher/transitions"),a=e("vigour-js/util/config"),l=e("./message"),u=(e("../../icon"),e("vigour-js/browser/events")),c=new l({css:{addClass:"tv-signin"},container:{holder:{title:{text:{dictionary:"text.login.tvTitle"}},subtitle:{text:{dictionary:"text.login.tvSubtitle"}},bottomimage:{}}}}).Class,d=new l({css:{addClass:"tv-roadblock"},container:{holder:{topimage:{},title:{text:{dictionary:"text.login.tvTitle"}},subtitle:{text:{dictionary:"text.login.tvSubtitle"}},bottomimage:{}}},events:{$focus:function(){}}}).Class;t.exports=n=new i({css:"first-switcher ui-img",x:{val:o.w,multiply:.2,animation:{easing:"outCubic",time:18}},w:{val:o.w},onTransition:"fade",desktop:{scrollbar:"y"},on:{page:{defer:e("./page")},show:{defer:e("./show")},media:{defer:function(e,t){this._parent.show.update(),e()}},signin:{defer:function(e,t){var n=this._parent._caller;n.transition={element:c},e()}},roadblock:{defer:function(e,t){if(this._val){var n=this,s=this._parent._caller,o=u.$focused.val,i=new d({events:{click:function(){this.events.back._val.call(this)},back:function(){o.$focus(),n.val=!1,this.remove()}}});s.parent.set({roadblock:i}),i.$focus()}e()}}},background:{data:"img",transform:function(e,t){if(!t)return" ";var n=Math.ceil((this.w||this.checkParent("w",!0)).val)||o.w.val,i=Math.ceil((this.h||this.checkParent("h",!0)).val)||o.h.val;return n=s(n,100),i=s(i,100),a.img+"/image/"+t+"/"+n+"/"+i+"?effect=overlayBlur&overlay=overlayDarkpurple3&radius="+(i/15.67|0)+"&sigma="+(i/20|0)},load:function(e){e&&(e.opacity=1)}}}).inject(r).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./message":"/Users/shawn/Work/buggin/components/first/tv/message.js","./page":"/Users/shawn/Work/buggin/components/first/tv/page.js","./show":"/Users/shawn/Work/buggin/components/first/tv/show.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/app/ui/switcher":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js","vigour-js/app/ui/switcher/transitions":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/transitions.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/first/tv/message.js":[function(e,t,n){var s=e("vigour-js/app/ui/element");t.exports=new s({css:"tv-message",container:{holder:{topimage:{}}}}).Class},{"vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/first/tv/page.js":[function(e,t,n){var s,o,i=(e("vigour-js/app/ui/element"),e("./grid")),r=e("vigour-js/app/"),a=e("./row/page"),l=e("./row/channel"),u=e("vigour-js/data").inject(e("vigour-js/data/selection")),c="#abcdefghijklmnopqrstuvwxyz".split("");t.exports=n=function(e,t){function d(){n[g]&&n.stamp===t[1]&&(f.transition={element:n[g],$params:{data:p,on:{focusState:r.focusState}},$options:{force:!0},direction:"page"!==f.current&&-1},f.current="page")}var p,g=this.$userOrigin.val,h=this._parent,f=h._caller;if(f.x={multiply:"row"===r.focusState.val?0:.2},f.data=null,"discover"===g)n[g]="row"===r.focusState.val?a:i,p={spotlight:r.content.get("marquee.list"),free:r.content.get("free.list"),recommended:r.content.get("recommended.list")};else if("shows"===g){if(n[g]="row"===r.focusState.val?a:i,!s){s={},o=new u(r.content.get("shows"),{subscription:{$:{title:!0,img:!0}},block:!0});for(var v=0,m=c.length;m>v;v++)s[c[v]]=new u(r.content.get("shows"),{sort:"title",block:!0,range:[0,5],condition:{title:{$contains:"#"===c[v]?"^\\d":"^["+c[v]+"]"}}})}p=s}else"channels"===g&&(n[g]=l,p=r.content.from.get("channels"));n.stamp=t[1],"shows"===g&&"row"!==r.focusState.val?r.content.get("shows").is(function(){return s.a.length>0&&s["#"].length>0&&s.g.length>3},d):d(),e()}},{"./grid":"/Users/shawn/Work/buggin/components/first/tv/grid.js","./row/channel":"/Users/shawn/Work/buggin/components/first/tv/row/channel.js","./row/page":"/Users/shawn/Work/buggin/components/first/tv/row/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/data/selection":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/selection.js"}],"/Users/shawn/Work/buggin/components/first/tv/row/channel.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("vigour-js/app/")),o=(e("vigour-js/app/dictionary"),e("vigour-js/object"),e("../../../epg_temp")),i=e("../../../player/seekbar"),r=o.clockTime,a=e("./item"),l=e("./elements"),u=new a({background:{gone:!1},information:{channeltitle:{css:"ui-item-text",text:{data:"title"}},now:{w:80,text:{dictionary:"text.now"}},epg:{w:{parent:"w",sub:110},showtitle:{text:{data:"title"}},time:{text:{data:"minutes_since_midnight",transform:r,add:[" - ",{data:"endtime",transform:r}]}},bar:new i({seek:{w:{val:o.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"},transform:function(e,t){return isNaN(parseInt(t))?0:100*t+"%"},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.information.epg.data=o.now(t),this.model=!1)}},events:{arrowRight:function(){var e=s.focusState.val;"row"===e||this.$prev.val&&this.$prev.val.cover?this.$next.val&&this.$next.val.$focus():s.focusState.val="row"},arrowLeft:function(){var e=s.focusState.val;"grid"===e?s.focusState.val="menu":this.$prev.val&&this.$prev.val.cover?this.$prev.val.$focus():s.focusState.val="grid"},back:function(e){e.preventDefault();var t=this.checkParent("rows",!0);t.x._p=!0,s.focusState.val="row"===s.focusState.val?"grid":"menu"},click:function(){if("lockedContent"===this.cover.icon.val){var e=this.checkParent("on.roadblock",!0);e&&(e.val=!0)}else s.user.navigation.media.$userOrigin.val=this.data.from,s.state.val={val:"player",video:this.data.from}}}}).Class;t.exports=n=new l.BasicRowView({css:{addClass:"tv-channels"},indicator:{display:{val:s.focusState,transform:function(e,t){return"row"===t?"block":"none"}},title:{text:{dictionary:"text.nav.channels"}}},rows:{css:"tv-row",collection:{element:u,data:!0}},on:{focusState:{defer:function(e,t){var n=this.from.val,s=this._parent._caller;"grid"===n?s.parent.x={multiply:.2}:"row"===n&&(s.parent.x={multiply:0}),s.rows&&s.rows.children[0]&&("menu"!==n||"$parent"!==t[0])&&s.rows.children[0].$focus(),e()}},$parent:{defer:function(e,t){this._parent.focusState._update("$parent"),e()}}}}).Class},{"../../../epg_temp":"/Users/shawn/Work/buggin/components/epg_temp.js","../../../player/seekbar":"/Users/shawn/Work/buggin/components/player/seekbar/index.js","./elements":"/Users/shawn/Work/buggin/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/buggin/components/first/tv/row/item.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js"}],"/Users/shawn/Work/buggin/components/first/tv/row/elements.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=e("vigour-js/app/");e("vigour-js/app/dictionary");n.Indicator=new s({css:"tv-row-indicator",text:{data:!0,dictionary:function(e,t){return t?t instanceof Object&&t.number?{text:t.number&&t.number.val}:(t=String(t),t.length>2?"text."+t:{text:t}):void 0}},display:"inline-block"}).Class;var i=n.BasicRowView=new s({css:"tv-row-view",indicator:{title:{}},rows:{on:{$new:{defer:function(e){this._parent._caller.x._p=!0,e()}}},y:o.h.val/5,x:{val:0,animation:{easing:"outCubic",time:18}}}}).Class;n.RowView=new i({indicator:{list:{text:"",collection:{element:n.Indicator,data:!0,filter:!0}}},info:{on:{$remove:{defer:function(e){console.log("remove?");var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},opacity:{data:"description",transform:function(e,t){return t?(this.css="",1):(this.css="dontAnimate",0)}},title:{text:{data:"title"}},showsubtitle:{css:"subtitle",display:{data:"episodeCount",transform:function(e,t){return t?"block":"none"}},text:{val:{data:"seasonCount"},add:[" ",{dictionary:"text.seasons"}," ",{data:"episodeCount"}," ",{dictionary:"text.episodes"}]}},episodesubtitle:{css:"subtitle",display:{data:"duration",transform:function(e,t){return t?"block":"none"}},text:{data:"duration",transform:function(e,t){return~~(t/60)+" "},add:{dictionary:"text.min"}}},description:{text:{data:"description"}}}}).Class},{"vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/first/tv/row/item.js":[function(e,t,n){function s(e,t){t=t?this:this.parent;var n=t&&t.node.nextSibling;return n&&n.base?n.base.children[0]?n.base.children[0]:s.call(n.base,!1,!0):void 0}function o(e,t){t=t?this:this.parent;var n=t&&t.node.previousSibling;if(n&&n.base){var s=n.base.children[void 0===e?n.base.children.length-1:e];return s?s:o.call(n.base,e,!0)}}var i=(e("vigour-js/app/ui/element"),e("../../../img")),r=e("vigour-js/app/"),a=e("vigour-js/browser/cases"),l=(e("vigour-js/app/dictionary"),e("vigour-js/object"),e("../../../icon"));t.exports=new i({on:{data:"link"},define:{$selectIndicator:function(e){var t=this.checkParent("indicator.list",!0),n=t&&t.find("data",e);n||(n=t&&t.find("data._val",e)),n&&t&&t._focused!==n&&(t._focused&&(t._focused.css="tv-row-indicator"),n.css="tv-row-indicator current",t._focused=n)},$focusCommon:function(e){var t,n,s,o=this.checkParent("rows",!0),i=o.parent,r=this.node,a=40,l=this,u=4;if(e){for(rect=r.getBoundingClientRect(),o.x=o.x.val+(a-rect.left)+i.parent.x.val,n=i.info,t=this.$prev.val;u--&&l;)l.background.gone.val&&(l.background={gone:!1}),l=l.$next.val;t&&t.background.gone&&t.background.gone.val&&(t.background={gone:!1}),n&&(s=this.data,n.data={},n._timer&&(clearTimeout(n._timer),n._timer=null),n._timer=setTimeout(function(){n.data=s,n._timer=null},500)),o.x._p=null}this.css=e?"tv-row-item current":"tv-row-item"}},css:"tv-row-item",h:{val:r.h,divide:3,multiply:1.25},w:{self:"h",multiply:4/3},background:{gone:!0},cover:new l({css:"ui-icon relative-size",icon:{data:"access",transform:function(e,t){return(1!==t||a.$isUpgraded.val)&&(2!==t||a.$isUpgraded.val)&&(3!==t||a.$isUpgraded.val&&3!==r.user.role.val)?"empty":"lockedContent"}}}),display:"inline-block",events:{click:function(e){var t=this.data&&this.data.from;if(t)if(t.link){var n,s=t.link.val.split("."),o="shows"===s[3],i="episodes"===s[s.length-2];i?(n=r.content.from.get(s.slice(3)),r.user.navigation.media.$userOrigin.val=n,r.state.val={val:"player",video:n}):o?r.user.navigation.show.$userOrigin=r.content.get(s.slice(3)):console.error("other type of link!")}else if("shows"===t._parent._name)r.user.navigation.show.$userOrigin=t;else if("episodes"===t._parent._name)if("lockedContent"===this.cover.icon.val){var a=this.checkParent("on.roadblock",!0);a&&(a.val=!0)}else r.user.navigation.media.$userOrigin.val=t,r.state.val={val:"player",video:t}},arrowRight:function(){this.$next.val&&this.$next.val.$focus()},arrowDown:function(){var e=o.call(this,0);e&&e.$focus()},arrowUp:function(){var e=s.call(this);e&&e.$focus()},$focus:function(e){var t,n,s=this.parent._name;s?t=s.slice(2):(s=this.data._parent._parent._name,t=this.data._parent._parent,n=!0),n||(r.focusState.prev=s),this.$selectIndicator(t),this.$focusCommon(e)}},"$next.transform":function(e,t){return t?void 0:s.call(this)},"$prev.transform":function(e,t){return t?void 0:o.call(this)}}).Class},{"../../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../../img":"/Users/shawn/Work/buggin/components/img/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js"}],"/Users/shawn/Work/buggin/components/first/tv/row/page.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=(e("../../../img"),e("vigour-js/app/")),i=(e("vigour-js/app/dictionary"),e("vigour-js/object"),e("./item")),r=e("./elements"),a=e("vigour-js/data"),l=new s({css:"tv-row",collection:{data:!0,element:new i({events:{arrowLeft:function(){if(this.$prev.val)this.$prev.val.$focus();else{var e=o.focusState.from;e.val="grid"}},back:function(e){e.preventDefault(),o.focusState.val="grid"}}})}}).Class;t.exports=n=new r.RowView({"indicator.list.model.inherit":!1,on:{focusState:{defer:function(e,t){var n=this,s=n._parent;if("row"===n.from.val){if(s){var i=s.focusState.from.prev,r=s._caller.rows;if(r.children.length){var a=i&&r[i]&&r[i].children[0]||r.children[0].children[0];!a&&r.children[1]&&(a=r.children[1].children[0]),a&&!a._$focused&&a.$focus()}}}else"grid"===n.from.val&&o.user.updateNavigation();e()}},$parent:{defer:function(e,t){var n=this._parent._caller;if(n&&n.data&&this._cachedData!==n.data){this._cachedData=n.data;var s=new a([]),i=o.user.navigation.page.val,r={rows:{}};for(var u in n.data)n[u]||(r.rows["$$"+u]=new l({data:n.data[u]})),s.push(u);n.indicator.title.text={dictionary:"text.nav."+i},n.indicator.list.data=s,n.set(r),this._parent.focusState._update()}e()}}}}).Class},{"../../../img":"/Users/shawn/Work/buggin/components/img/index.js","./elements":"/Users/shawn/Work/buggin/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/buggin/components/first/tv/row/item.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js"}],"/Users/shawn/Work/buggin/components/first/tv/row/show.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=e("vigour-js/app/"),i=(e("vigour-js/app/dictionary"),e("vigour-js/object"),e("./item")),r=e("./elements"),a=e("vigour-js/browser/animation/raf"),l=new s({css:"tv-row",collection:{data:"episodes",element:new i({events:{arrowLeft:function(){if(this.$prev.val)this.$prev.val.$focus();else{var e=o.focusState.from;this.parent&&this.parent.data._parent&&"seasons"===this.parent.data._parent._name&&(e._val="row",o.user.navigation.page.$userOrigin=o.user.navigation.page.val||"shows")}},back:function(){var e=o.focusState.from;e._val="row",o.user.navigation.page.$userOrigin=o.user.navigation.page.val||"shows"}}})}}).Class;t.exports=n=new r.RowView({indicator:{title:{text:{data:"title"}},list:{text:{dictionary:"text.season",add:" "},collection:{data:"seasons"}}},rows:{model:{subscription:{title:!0,seasons:{$:{number:!0,episodes:{$:{img:!0,title:!0}}}}},block:!0},collection:{element:l,data:"seasons"}},on:{$remove:{defer:function(e,t){this._deferRafid&&window.cancelAnimationFrame(this._deferRafid)}},$parent:{defer:function(e,t){var n=this._parent._caller;if(n._deferRafid&&window.cancelAnimationFrame(n._deferRafid),n&&n.data){o.user.navigation.page.val;"shows"===n.data._parent._name&&n.data.get("seasons").is("loaded",function(){n.rows&&n.rows.children[0]?n.rows.children[0].children[0].$focus():n._deferRafid=a(function(){n.rows&&n.rows.children[0]&&n.rows.children[0].children[0].$focus()})})}e()}}}}).Class},{"./elements":"/Users/shawn/Work/buggin/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/buggin/components/first/tv/row/item.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js"}],"/Users/shawn/Work/buggin/components/first/tv/show.js":[function(e,t,n){var s;e("vigour-js/app/ui/element"),e("vigour-js/data").inject(e("vigour-js/data/selection")),e("vigour-js/app/");t.exports=function(t,n){var o,i=this.$userOrigin,r=this._parent,a=r._caller,l={};if(a.x={multiply:0},i){a.data=i,s||(s=e("./row/show"));i.get("seasons");o=s,l=i.from}if(!o)throw t(!0),new Error("wrong tv - show.js , no element!");a.transition={element:o,$params:{data:l,info:{data:{}}},$options:{force:!0}},t()}},{"./row/show":"/Users/shawn/Work/buggin/components/first/tv/row/show.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/data/selection":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/selection.js"}],"/Users/shawn/Work/buggin/components/first/tv/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments);
},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/first/watch/index.js":[function(e,t,n){function s(e){var t=this._parent,n=t._caller,s=window.innerWidth,i=window.innerHeight,r=n.data,a="side";o=s>i,this.from.val&&(o?n[a]||(n.media[a]&&n.media[a].remove(),n.node.style.tableLayout="auto",n.add(new f({name:a,data:r}),"media"),n.media.info.set({display:"block",h:{val:u.h,sub:[d.base.h.val,{val:u.w,sub:400,multiply:9/16}]}}),t.channel._update()):n.media[a]||(n[a]&&n[a].remove(),n.media.add(new f({name:a,data:r}),"info"),n.node.style.tableLayout="fixed",n.media.info.set({display:"table-cell",h:{val:u.h,sub:[d.base.h.val,{val:u.w,sub:0,multiply:9/16}]}}),t.channel._update()),n.on.resize.val||n.set({on:{resize:u.w}}),e())}e("./style.less");var o,i=e("vigour-js/app/ui/element"),r=e("../../icon"),a=e("../../player"),l=e("../favourite"),u=e("vigour-js/app/"),c=e("../seasons"),d=e("../menu").Topbar,p=e("../../text"),g=e("../epg"),h=e("vigour-js/browser/cases"),f=e("vigour-js/app/ui/switcher"),v=e("vigour-js/app/dictionary"),m=v.get("text.season"),b=v.get("text.specials");f=new f({onTransition:function(e,t){t&&t.remove(),this.add(e)}}).Class;var w=new i({touch:{scrollbar:"y"},phone:{h:u.h.val-d.base.h.val-9*u.w.val/16},header:{title:new p.Title({text:{data:"media.title"}})},description:new p.Description}).Class,_=(new w).Class,y=new w({header:{add:[new r({icon:"share",name:"share",events:{click:function(){var e=this.checkParent("on.popup",!0).from;e.data=this.checkParent("data",!0).media.from,e.val="share"}}}),"title"],subtitle:{text:{val:{data:"season.number",transform:function(e,t){return 9e3!==t?m.val+" ":b.val},listen:v},add:[" ",{data:"season.number",transform:function(e,t){return 9e3!==t?t:" "}}," ",{dictionary:"text.episode"}," ",{data:"media.number"}]}}}}).Class,j=new p.Title({text:{data:"media.title"}}).Class,k=new p.Title({text:{data:"show.title"},favourite:new l}).Class;t.exports=new i({css:"first-watch",x:{translate:!0},model:{subscription:{title:!0,number:!0,description:!0}},on:{channel:{val:!1,defer:function(e){var t=this._parent._caller,n=t.media.info,s=t.side||t.media.side,i=t.pageheader,r={},a=h.$isOnChannel.val;t.data&&(r.data=t.data,r.data.media=u.user.navigation.media),a===!1?(n.transition={element:y,$params:r},i&&(i.transition={element:k,$params:r}),s&&(r.on={media:u.user.navigation.media.$userOrigin},o||(r.list={h:{sub:{add:{val:u.w,divide:16/9}}}}),s.transition={element:c,$params:r},s.css="first-seasons seasons-only")):a===!0&&(h.phone&&(n.css="first-seasons first-epg"),n.transition={element:h.phone?g:_,$params:r},i&&(i.transition={element:j,$params:r}),s&&(o||(r.list={h:{sub:{add:{val:u.w,divide:16/9}}}}),s.transition={element:g,$params:r},s.css="first-seasons first-epg")),e()}},$render:{defer:function(e){var t=this._parent;h.tablet&&t.resize._update(),t.channel._update(),e()}}},tablet:{on:{resize:{defer:s}}},media:{player:new a.Holder,info:new f},desktop:{add:[new f({name:"pageheader"}),"media"],margin:{},side:new f}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../player":"/Users/shawn/Work/buggin/components/player/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js","../epg":"/Users/shawn/Work/buggin/components/first/epg/index.js","../favourite":"/Users/shawn/Work/buggin/components/first/favourite/index.js","../menu":"/Users/shawn/Work/buggin/components/first/menu/index.js","../seasons":"/Users/shawn/Work/buggin/components/first/seasons/index.js","./style.less":"/Users/shawn/Work/buggin/components/first/watch/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/app/ui/switcher":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/first/watch/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/icon/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=(e("vigour-js/browser/cases"),new s({css:"ui-icon"})),i={discover:"",shows:"",tv:"",settings:"",cast:"",play:"",pause:"",fullscreen:"",pullback:"",swipeup:"",close:"",closesmall:"",dropdown:"",arrowright:"",search:"",cart:"",email:"",favorite:"",favoriteadd:"",favoriteremove:"",locked:"",logout:"",profile:"",share:"",arrowleft:"",exitfullscreen:"",right:"",wrong:"",logo:"",scan:"",facebook:"",twitter:"",phone:"",iphone:"",android:"",tablet:"",desktop:"",laptop:"",menu:"",leftnav:"",rightnav:"",noresult:"",volume:"",rewind:"",fastforward:"",disconnect:"",monster:"",lockedRight:"",watching:"",notWatched:"",airplay:"",gender:"",age:"",newsletter:"",warning:"",whatsapp:"",loader1:"",loader2:"",loader3:"",loader4:"",lockedContent:"",fullscreenAlt:"",exitfullscreenAlt:"",playAlt:"",pauseAlt:"",lockedContentAlt:"",empty:" "};o.extend({icon:function(e){var t="<span>"+(i[e.val]||"")+"</span>",n=this.node.innerHTML,s=n.indexOf("<div");~s&&(t+=n.slice(s)),this.html=t}}),t.exports=n=o.Class,n.map=i},{"./style.less":"/Users/shawn/Work/buggin/components/icon/style.less","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/icon/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/components/img/index.js":[function(e,t,n){function s(e,t,n){var s=t/e,o=Math.ceil(e/n)*n,i=Math.ceil(o*s);return{w:o,h:i}}e("./style.less");var o=e("vigour-js/app/ui/element"),i=e("vigour-js/app/"),r=(e("vigour-js/browser/animation/frame"),new o),a=e("vigour-js/browser/cases"),l=e("vigour-js/util/config"),u=a.retina?2:1,c=l.imgOrigin;t.exports=n=new r.Class({opacity:{val:0},background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(t){var n,o=Math.ceil((this.w||this.checkParent("w",!0)).val)||i.w.val,r=Math.ceil((this.h||this.checkParent("h",!0)).val)||i.h.val,a=e._parent.range;return a&&(n=s(o,r,a.val),o=n.w,r=n.h),l.img+"/image/"+o*u+"/"+r*u+"?url="+c+t+"/original"}}},slow:{opacity:1,"background.load":null},css:"ui-img"}).Class,n.density=u,n.Basic=new o({css:"ui-img",background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){return t?l.img+"/image/"+this.w.val*u+"/"+this.h.val*u+"?url="+c+t+"/original":void 0}},opacity:{val:0},slow:{opacity:1,"background.load":null}}).Class,n.Relative=new o({css:"ui-img",background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(!t)return"";var n,o,i=this.node,r=i.offsetWidth,a=this,d=e._parent.range;return r?(n=i.offsetHeight,d&&(o=s(r,n,d.val),r=o.w,n=o.h),l.img+"/image/"+r*u+"/"+n*u+"?url="+c+t+"/original"):(a.rafId||(a.rafId=window.requestAnimationFrame(function(){a.rendered&&a.background.update(a)})),"")}},opacity:{val:0},slow:{opacity:1,"background.load":null}}).Class,n.Carousel=new n.Relative({background:{transform:function(e,t){if(!t)return"";var n,o,i=this.node,r=i.offsetHeight,a=this,d=e._parent.range;return r?(n=Math.ceil(Math.min(i.offsetWidth,r/9*16)),d&&(o=s(n,r,d.val),n=o.w,r=o.h),l.img+"/image/"+n*u+"/"+r*u+"?url="+c+t+"/original"):(a.rafId||(a.rafId=window.requestAnimationFrame(function(){a.rendered&&a.background.update(a)})),"")}}}).Class,n.Overlay=new n({background:{transform:function(e,t){if(!t)return"";var n=Math.ceil((this.w||this.checkParent("w",!0)).val)||i.w.val,s=Math.ceil((this.h||this.checkParent("h",!0)).val)||i.h.val;return l.img+"/image/"+n*u+"/"+s*u+"?url="+c+t+"/original&effect=overlayBlur&overlay=overlay_lightest&radius=0&sigma=0"}}}).Class,n.Intro=new n({background:{transform:function(e,t){if(!t)return"";var n=this.node,s=n.offsetWidth,o=this;return s?l.img+"/image/"+s*u+"/"+n.offsetHeight*u+"?url=https://wwwmtvplay-a.akamaihd.net/img/intro/"+t:(o.rafId||(o.rafId=window.requestAnimationFrame(function(){o.rendered&&o.background.update(o)})),"")}}}).Class},{"./style.less":"/Users/shawn/Work/buggin/components/img/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/animation/frame":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/frame.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/img/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/item/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("../icon"),i=e("../img"),r=e("../text"),a=e("vigour-js/browser/cases"),l=(r.Input,e("../button").Switcher),u=r.Title,c=new r.TitleSubtitle({css:"ui-item-text"}).Class,d=e("vigour-js/app/");d.user;t.exports=n=new s({css:"ui-item"}).Class,n.Basic=new n({txt:new u}).Class,n.IconRight=new n.Basic({righticon:new o({icon:"arrowright"})}).Class,n.IconRightSub=new n.Basic({righticon:new o({icon:"arrowright"}),css:{addClass:"ui-item-sub"},txt:new c}).Class,n.IconLeft=new n({lefticon:new o({icon:{data:"icon"}}),txt:new u}).Class,n.Block=new n({left:{"title.text.dictionary":"text.all","subtitle.text.dictionary":"text.nav.shows"},center:{"title.text.dictionary":"text.all","subtitle.text.dictionary":"text.nav.channels"},right:{"title.text.dictionary":"text.every","subtitle.text.dictionary":"text.episode"},css:{addClass:"block"}}).Class,n.Menu=new n.IconLeft({h:55,css:{addClass:"ui-item-menu"},righticon:new o}).Class,n.Thumb=new n({thumb:{w:{val:100,phone:70},h:{val:71,phone:45},img:new i.Basic({w:{val:100,phone:70},h:{val:71,phone:45}})},txt:new c,righticon:new o({icon:"arrowright"})}).Class,n.Large=new s({crawler:{node:"a",href:{data:function(e){return d.user.$parse(e).url||""}},attr:{onclick:"return false"}},css:"ui-item-large",display:"inline-block",thumb:new i({w:310,h:220}),info:{txt:new c,description:{text:{data:"description"}}}}).Class,n.Indicator=new n.Thumb({righticon:new o({on:{data:"id"},icon:{data:"access",transform:function(e,t){var n=d.util.access(t,this.data),s=n&&~n.indexOf("play")?a.desktop?"empty":"arrowright":n;return"lockedContent"===s?"lockedContentAlt":s},listen:[d.user.role,d.user.purchases]}})}).Class,n.Topbar=new n.Menu({position:"absolute",name:"topbar",h:44,css:{addClass:"ui-item-topbar"},y:{val:0,translate:!0},iosFull:{h:{add:20}},txt:{x:{translate:!0,val:1}}}).Class,n.TitleSubtitle=c,n.Switcher=new n.IconRightSub({righticon:new s({hold:new l})}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../img":"/Users/shawn/Work/buggin/components/img/index.js","../text":"/Users/shawn/Work/buggin/components/text/index.js","./style.less":"/Users/shawn/Work/buggin/components/item/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/item/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/loader/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/sprite"),o=e("vigour-js/app/ui/element"),i=e("vigour-js/browser/cases");t.exports=n=new o({css:"ui-loader",append:new s({w:31,h:31,params:{cols:1,rows:19}})}).Class,n.Simple=new s({css:"ui-loader-simple","w,h":21,params:{cols:1,rows:19}}).Class,i.ios||i.desktop?n.Logo=new s({css:"loader logo",w:110,h:110,params:{cols:1,rows:26}}).Class:n.Logo=new o({css:"loader logo noanim",w:110,h:110}).Class},{"./style.less":"/Users/shawn/Work/buggin/components/loader/style.less","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/app/ui/sprite":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/sprite/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/loader/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/components/password/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element");t.exports=new s({css:"password-input",container:{logo:{},header:{text:"MTV Play is currently in BETA"},subtitle:{text:"Enter password to continue"},field:{node:"input",attr:{type:"password",placeholder:"password"}}}}).Class},{"./style.less":"/Users/shawn/Work/buggin/components/password/style.less","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/password/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/player/backdrop.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app"),o=e("vigour-js/app/ui/element"),i=e("../img"),r=e("../icon");t.exports=new o({name:"backdrop",css:"relative-size",img:new i.Relative({css:"relative-size",background:{data:"show.img",load:function(e){e.opacity=.3}}}),holder:{info:{title:{"text.dictionary":"text.sender.remotePlaybackTitle"},txt:{"text.dictionary":"text.sender.remotePlaybackSubtitle"}},pullback:new r({icon:"pullback",pulltext:{"text.dictionary":"text.pullBack"}})},events:{click:function(){s.user.receiver.media.$userOrigin=!1}}}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../img":"/Users/shawn/Work/buggin/components/img/index.js","./style.less":"/Users/shawn/Work/buggin/components/player/style.less","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/player/controls/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=(e("vigour-js/app/"),e("../seekbar")),i=e("vigour-js/browser/element/video/util");e("vigour-js/browser/cases");t.exports=new s({css:"player-controls",container:{progress:{text:{data:"mediausage.time",multiply:{data:"media.duration"},transform:function(e,t){return i.time(Math.abs(t))}}},seekbar:new o({w:{sub:200}}),duration:{text:{data:"media.duration",transform:function(e,t){return i.time(t)}}}}}).Class},{"../seekbar":"/Users/shawn/Work/buggin/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/buggin/components/player/controls/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/element/video/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/video/util.js"}],"/Users/shawn/Work/buggin/components/player/controls/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/player/index.js":[function(e,t,n){function s(e){var t=e.node||e;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():(t=e.video&&e.video.jqHandle.node)&&t.webkitEnterFullscreen()&&t.webkitEnterFullscreen()}function o(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function i(){var e=m.user.navigation.media.from,t=m.user.receiver.media.from,n=b.$hasReceiver.val&&t._cachedPath===e._cachedPath;return n}function r(){var e=this._parent._caller,t=e.parent,n=e.video;n&&n.data;if(t)if(b.$isReceiver.val){if(e.__ready&&!i)return!0}else{if(e._cachedW=null,i())return e._fullscreen?e.x=m.w:e.y={multiply:-1},C(function(){i()&&(m.playing.from.val=!1)}),t.backdrop.empty&&t.set({backdrop:new k({data:e.video.data})}),!0;e.y.multiply.val&&(e.x=0,e.y={multiply:0})}}function a(e){var t=this._parent._caller,n=t.video,s=n&&n.data,o=s&&s.mediausage&&s.mediausage.from,i=n&&n.time.from.val,a=r.call(this);!b.$isOnChannel.val&&a&&o&&(i||0===i)&&o.set("time",Math.abs(i)),e()}function l(e){if(!b.tv&&!b.$isReceiver.val){var t=this._parent._caller;t.y._p=!0,r.call(this),t.y._p=null}e()}function u(e){var t=this._parent,n=t._caller;m.playing.from.val=b.tv||!b.$isActive.val&&b.$isReceiver.val?!0:!1,t.msmedia.val={val:m.user.receiver.media,listen:[b.$hasReceiver]},t.media.val=m.user.navigation.media,t.fullscreen.val=b.$isFullscreen,C(function(){n.video&&(n.__ready=!0,n.video.$play=m.playing,n.overlay.on.volume.val=m.volume)}),window.player=n,b.desktop?m.addEvent("keydown",function(e){if(!(m.popup.val||!b.$isReceiver.val&&i())){var t=!0;32===e.keyCode||13===e.keyCode?n.togglePlay():37===e.keyCode?n.seekBackward():39===e.keyCode?n.seekForward():38===e.keyCode?n.volumeUp():40===e.keyCode?n.volumeDown():70===e.keyCode?n.goFullscreen():t=!1,t&&e.preventDefault()}},W):b.tv&&n.$focus(),e()}function c(e){m.playing.from.val=!1,m.removeEvent(!1,W),e()}function d(e){var t=this.from.val,n=this._parent._caller,i=w.prefix+"fullscreenchange";t?(window.statusBar?window.statusBar.hide():b.desktop?s(n):b.phone&&s(n),n._exitFullscreen=function(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;t||(m.state.val="first")},document.body.addEventListener(i,n._exitFullscreen)):(window.statusBar&&window.statusBar.show(),b.desktop&&o(),document.body.removeEventListener(i,n._exitFullscreen)),C.repeat(function(){n.background&&n.background._update()},2),e()}function p(){var e=this.data&&this.data.mediausage;e&&e.time&&!b.$isOnChannel.val&&(e.time.from.val=Math.max(0,Math.abs(e.time.from.val)-.01))}function g(){var e=this.data&&this.data.mediausage;e&&e.time&&!b.$isOnChannel.val&&(e.time.from.val=Math.min(1,Math.abs(e.time.from.val)+.01))}function h(){m.playing.from.val=!m.playing.val}function f(){m.volume.val<=.9&&(m.volume.from.val+=.1)}function v(){m.volume.val>=.1&&(m.volume.from.val-=.1)}e("./style.less");var m=e("vigour-js/app/"),b=e("vigour-js/browser/cases"),w=e("vigour-js/browser/ua"),_=e("vigour-js/app/ui/element"),y=e("./video"),j=e("./overlay"),k=e("./backdrop"),x=e("vigour-js/util/config"),U=b.retina?2:1,W="keyUpID",C=e("vigour-js/browser/animation/raf");document.cookie="_L1Nl9uK_DJGt_RDAVBq_=_L1Nl9uK_DJGt_RDAVBq_; domain=.mtvplay.tv",t.exports=n=new _({on:{fullscreen:{defer:d},msmedia:{defer:a},media:{defer:l},$render:{defer:u},$remove:{defer:c}},tv:{css:"base-player fullscreen-player",events:{back:function(){m.state.val="first"},click:h,arrowLeft:p,arrowRight:g,$focus:function(e){}}},chromecast:{css:"base-player fullscreen-player"},x:{val:0,animation:{time:24,easing:"outCubic",done:function(e){e&&(this.y._p=!0,this.y={multiply:-1},this.y._p=null,this.x._p=!0,this.x=0,this.x._p=null,S.exit.call(this))}}},y:{translate:!0,val:m.w,defer:function(e,t){var n=this;return this._caller.rendered?void(t[2]===!1?C(function(){n._p=!0,e(),n._p=null}):e()):(e(!0),!0)},transform:function(e,t){this._cachedW!==t&&(this._cachedW=t,this._cachedY=this.node.offsetHeight);var n=this._cachedY||(this._cachedY=this.node.offsetHeight);return n?n:void 0},multiply:{val:0,animation:{time:24,easing:"outCubic"}}},video:new y,overlay:new j,adMessage:{text:"Advertisement",display:{val:"none",$isPlayingAd:"block"},touch:{events:{click:function(){var e=this.parent.video.jqHandle;if(e&&(!b["native"]||!b.ios||window.device)){var t=window.open;window.open=function(e){window.open=t,m.api.url.val=e},e.invokeAd()}}}}},background:{data:"media.img",$bubble:{self:!0},transform:function(e,t){if(!t)return"";var n=this.node,s=n.offsetWidth,o=this;return s?x.img+"/image/"+t+"/"+s*U+"/"+n.offsetHeight*U:(o.rafId||(o.rafId=C(function(){o.rendered&&o.background.update(o)})),"")}}}).Class;var S=b.phone?e("./phone-fullscreen"):function(){if(b.$isFullscreen.val){var e,t=m.user,n=b.$isReceiver.val,s=this.checkParent("data.media",!0);n?(s&&("episodes"===s._parent._name&&(e=s._parent._parent,t.navigation.season.$userOrigin.val=e,t.navigation.show.$userOrigin.val=e._parent._parent),t.navigation.media.$userOrigin=s.from),t.activeClient.$userOrigin=t.cloud.client.from,t.receiver.media.$userOrigin=!1):m.state.val="first"}else m.state.val="player"};n.base.define({seekBackward:p,seekForward:g,togglePlay:h,volumeUp:f,volumeDown:v,goFullscreen:S}),n.Holder=new _({css:"player-holder",backdrop:{empty:!0},player:new n({css:{val:"base-player windowed-player",$isFullscreen:!b.phone&&"base-player fullscreen-player"}})}).Class},{"./backdrop":"/Users/shawn/Work/buggin/components/player/backdrop.js","./overlay":"/Users/shawn/Work/buggin/components/player/overlay/index.js","./phone-fullscreen":"/Users/shawn/Work/buggin/components/player/phone-fullscreen.js","./style.less":"/Users/shawn/Work/buggin/components/player/style.less","./video":"/Users/shawn/Work/buggin/components/player/video/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/player/overlay/index.js":[function(e,t,n){function s(e){var t=this.checkParent("_d",!0);e.prevent=!0,o.user.receiver.media.$userOrigin.val=t.media.from}var o=e("vigour-js/app/"),i=e("vigour-js/browser/cases"),r=e("vigour-js/app/ui/element"),a=e("../controls"),l=e("../../icon"),u=e("../../img"),c=e("./play"),d=e("../volume"),p=e("vigour-js/app/dictionary"),g=p.get("text.specials"),h=new r({on:{data:"media.id"},buttons:{play:new c({display:!i.phone&&{data:"media.access",transform:function(e,t){var n=o.util.access(t,this.data&&this.data.media&&this.data.media.from);return n&&~n.indexOf("play")?"none":"inline-block"}}}),swipe:new l({icon:"swipeup",display:{data:"media.access",transform:function(e){var t=this.data&&this.data.media&&this.data.media.from,n=t&&!(t._parent&&"channels"===t._parent._name&&3===o.user.role.val)&&(i.$isUpgraded.val||t.access&&!t.access.val||t.val&&t.val.access&&!t.val.access.val),s=i.$hasReceiver.val&&n;return s?"inline-block":"none"},listen:[i.$hasReceiver,o.user.role,o.user.purchases]},events:{click:s}})},events:{click:i.touch?function(){var e=this.parent.opacity;e.val=e.val?0:1}:function(){o.playing.from.val=!o.playing.val}}}).Class,f=(new r).Class;f.base.extend({pointerEvents:function(e){this.node.style.pointerEvents=e.val}}),t.exports=new f({on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}},volume:{defer:function(e){var t=this._parent._caller;t.opacity.val=1,e()}}},opacity:{val:1,defer:function(e,t){var n=this._caller;return this._block?!0:(1===this._val&&(n._timer&&clearTimeout(n._timer),n._timer=setTimeout(function(){o.playing.val&&(n.opacity.val=0),n._timer=null},2500)),void e())},listen:o.playing},infoholder:{display:{val:"table",$isPlayingAd:"none",$isOnChannel:"none"},"!phone.thumb":new u({h:{val:50,$isFullscreen:110},w:{self:"h",defer:function(e){this._caller.background._update(),e()}},background:{data:"show.img"}}),titles:{showtitle:{text:{data:"media.title"}},showsubtitle:{text:{val:{dictionary:"text.season",transform:function(e,t){return t&&t[0]},add:{data:"season.number",transform:function(e,t){var n=this.data&&this.data.media.from._parent._parent.number,s=n&&n.val;return s&&(t=s),(t>9?t:"0"+t)+" "}}},add:[{val:{dictionary:"text.episode",transform:function(e,t){return t&&t[0]}}},{data:"media.number",transform:function(e,t){return t>9?t:"0"+t}}],transform:function(e,t){var n=this.text._val;return n&&9e3==n.add.__lval?g.val:t}}}}},clickable:new h,"!phoneBrowser.controls":{css:{val:"",$isOnChannel:{val:"on-channel",$isPlayingAd:""}},on:{data:"media.id"},left:new c,display:{data:"media.access",transform:function(e,t){return"lockedContent"===o.util.access(t,this.data&&this.data.media&&this.data.media.from)?"none":"table"},listen:[o.user.role,o.user.purchases]},center:new a({container:{display:{val:"block",$isOnChannel:"none",$isPlayingAd:"none"},seekbar:{bg:{seekLoader:{opacity:{val:0,$isLoadingVideo:1}}}}},adMessage:{text:{dictionary:"text.countdown"},display:{val:"none",$isPlayingAd:"block"}}}),"!tv.right":{volume:{holder:new d({bars:{data:"volume"}})},fullscreen:new l({icon:{val:"fullscreen",$isFullscreen:"exitfullscreen"},events:{click:function(){var e=this.checkParent("player",!0);e&&e.goFullscreen()}}})}},events:{down:function(e){var t=this.opacity;i.$isFullscreen.val&&!t.val&&(e.prevent=!0,t.val=1)}},desktop:{pointerEvents:{val:"auto",$isPlayingAd:"none"},events:{move:function(){var e=this.opacity;e.val||(e.val=1,e._block=!0,setTimeout(function(){e._block=null},1e3))}}}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../controls":"/Users/shawn/Work/buggin/components/player/controls/index.js","../volume":"/Users/shawn/Work/buggin/components/player/volume/index.js","./play":"/Users/shawn/Work/buggin/components/player/overlay/play.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/player/overlay/play.js":[function(e,t,n){var s=e("../../icon"),o=e("vigour-js/browser/cases"),i=e("vigour-js/app/");t.exports=n=new s({on:{data:"media.id"},icon:{val:{data:"media.access",transform:function(e,t){var n=i.util.access(t,this.data&&this.data.media&&this.data.media.from);return n}},$playing:o.phone?"pause":"pauseAlt",transform:function(e,t){return this._loading||(this.rotate=0),this._loading?"loader2":t},listen:[i.user.role,i.user.purchases.from]},rotate:{val:0,animation:{complete:function(){var e=this.rotate;e._p=!0,e=0,e._p=!1,this._loading=!1,this.icon.update(this)}}},events:{click:function(e){e.prevent=!0,i.playing.from.val=!i.playing.val}}}).Class,n.base.define({load:function(){this._loading=!0,this.icon.update(this),this.rotate=this.rotate.val+360}})},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/player/phone-fullscreen.js":[function(e,t,n){function s(e){var t=this.checkParent("media",!0),i=t.checkParent("switcher",!0),r=t.player.player,a=i.checkParent("topbar",!0),l=r.overlay.controls,u=l.right.fullscreen,c=l.center.container.seekbar,d=(this.checkParent("miniplayer",!0),r.node.style);window.StatusBar&&(e?window.StatusBar.show():window.StatusBar.hide(),void 0===r._fullscreen&&r.setSetting({name:"StatusBar",remove:function(){window.StatusBar.show(),this._listener&&o.h.removeListener(this._listener)}}));var p=a.node.offsetHeight;r.set({rotate:e?0:90,x:0}),r.overlay.node.style.zIndex=e?null:"1",i.node.style.zIndex=e?null:"1",d.zIndex=e?null:"1",d.margin=e?"0":"-"+p+"px "+o.w.val+"px",d.width=e?null:o.h.val+"px",d.height=e?null:o.w.val+"px",t.node.style.overflow=e?null:"visible",r._listener&&o.h.removeListener(r._listener),e||(r._listener=function(){d.width=o.h.val+"px"},o.h.on(r._listener)),u.set({icon:e?"fullscreen":"exitfullscreen",events:{click:e?n:function(){s.call(this,!0)}}}),c._left=e?!1:!0,r._fullscreen=e?!1:!0}var o=e("vigour-js/app/");e("vigour-js/browser/cases");t.exports=n=function(){s.call(this)},n.exit=function(){s.call(this,!0)}},{"vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/player/players/viacom.js":[function(e,t,n){function s(e,t){this._correctTime=e,!this.channel&&this._ready&&this._time!==e&&(!this.jqHandle||this.__paused&&!t?this.tset=!0:(this.tset=null,this.out=null,this.cnt=null,this.jqHandle.setCurrentTime(Math.abs(Math.round(e))),this._time=e))}function o(e,t){if("undefined"==typeof VIACOM)return l.api.player.once("success",function(){n.settings=l.api.player.settings,n.adsEnabled=n.settings.ads.enabled,n.viralSID=n.settings.ads.viralSID,e.rendered&&o(e,t)}),void(l.api.player.val=!0);e.addEvent("down",function(e){u.$isPlayingAd.val||e.preventDefault()}),e.data&&e.data.media&&e.data.media.from.videolang&&(n.settings.localization.language=e.data.media.from.videolang.val),u.tv?(n.settings.force="html5",n.settings.html5smartTVMode="Samsung"):u.chromecast&&(n.settings.force="html5",n.settings.html5smartTVMode="Chromecast",n.settings.ads.enabled=!1);var s=n.viralSID;if(-1===s.indexOf("test")){var i=l.user.role.val;s+=1===i?"/b2c":2===i?"/b2b":"/free"}n.settings.ads.viralSID=s,e.jqHandle=new VIACOM.Mediaplayer(".video",n.settings,{controls:!1,"webkit-playsinline":!0},l.api.player.debug),e.jqHandle.addEventListener("error",function(e){console.error(e)}),e.jqHandle.addEventListener("ended",function(e){l.playing.from.val=!1}),e.jqHandle.addEventListener("ads:rollPlaying",function(e){u.$isPlayingAd.val=!0}),e.jqHandle.addEventListener("ads:rollEnded",function(e){u.$isPlayingAd.val=!1});var r=e.jqHandle.proxy.player&&e.jqHandle.proxy.player.video;r&&(r.setAttribute("webkit-playsinline",'"true"'),r.removeAttribute("controls"),a&&r.addEventListener("webkitendfullscreen",function(){window.requestAnimationFrame(function(){document.body.scrollTop=0}),e.pause(),l.playing.from.val=!1},!1),e.video=r,e.setEvents()),e.node.style.backgroundColor="black",n.protoNew.call(e),t&&t()}function i(e,t){var o;e._correctTime=Math.abs(e.time.val)*e.duration.from.val,t&&"string"==typeof t&&(o=e.data.media&&~e.data.media.from._path.indexOf("channels")?"simulcast_stream":"local_playlist",e._correctTime=void 0,e.jqHandle.load(o,t,{startTime:Math.abs(e.time.val)*e.duration.from.val||void 0,simulcastApiKey:n.settings.simulcastApiKey},function(t){e._ready=!0,u.phoneBrowser||(l.playing.from.val=!0),void 0!==e._correctTime&&s.call(e,Math.abs(e._correctTime),!0)},"http://api.mtvnn.com/v2/mrss.xml?uri=mgid:sensei:video:mtvnn.com:"+o+"-"+t));
}var r=e("vigour-js/browser/ua"),a=("windows"===r.platform&&"phone"===r.device,"ios"===r.platform),l=("android"===r.platform,e("vigour-js/app/")),u=e("vigour-js/browser/cases");t.exports=n=e("vigour-js/browser/element/video/html5"),n.settings=l.api.player.settings,n.protoNew=n["new"],n["new"]=function(){},n.setEvents=!1,n.play=function(e){var t,n=this;e?(n.jqHandle&&n.__src?n.jqHandle&&(n.tset&&s.call(n,Math.abs(n.time.val)*n.duration.from.val,!0),n.jqHandle.play()):(t=n.src.val,n.__src=t,n.jqHandle?i(n,t):o(n,function(){i(n,t)})),n.tset=null):n.jqHandle&&n.jqHandle.pause()},n.volume=function(e){var t=e.val;this.jqHandle&&!isNaN(t)&&this.jqHandle.setVolume(t)},n.time={set:s,get:function(e){var t=this.jqHandle&&this.jqHandle.getCurrentTime();return t/this.duration.from.val||e.val}},n.remove=function(e){this.jqHandle&&this.jqHandle.destroy(),this.jqHandle=null,this.video=null},n.src=function(e){if(src=e.val,this.__src!==src)if(this.__src=null,this.jqHandle)this.node.style.backgroundColor=null,this.jqHandle.destroy(),this.jqHandle=null,this._ready=null;else if(u.phoneBrowser&&this.rendered){var t=this;o(t)}}},{"vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/element/video/html5":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/video/html5.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/components/player/seekbar/index.js":[function(e,t,n){function s(e){if(!r.$isPlayingAd.val){var t,n,s=this.node.getBoundingClientRect();this._left?(t=s.top,n=(e.y-t)/s.height):this._right?(t=s.top,n=(s.height-(e.y-t))/s.height):(t=s.left,n=(e.x-t)/(s.right-t));var o=n>1?1:0>n?0:n;o!==this._prevVal&&(this.seek.data.mediausage.$userOrigin.set("time",o),this._prevVal=o)}}e("./style.less");var o=e("vigour-js/app/ui/element"),i=(e("vigour-js/app/"),e("vigour-js/browser/ua")),r=e("vigour-js/browser/cases"),a=(e("vigour-js/browser/element/video/util"),e("../../icon"),"ios"===i.platform||"android"===i.platform,new o({css:"ui-seekbar",bg:{},seek:{w:{data:"mediausage.time",transform:function(e,t){return t?100*Math.abs(t)+"%":void 0}}},"!tv.button":{display:{val:"inline-block",$isPlayingAd:"none",$isReceiver:"none"}},events:{down:r.touch?function(e){var t=this.parent.parent.parent.opacity;t&&1!==t.val?this._skipUp=!0:s.call(this,e)}:s,drag:s,up:r.touch?function(e){this.parent.parent.parent.opacity;this._skipUp?this._skipUp=null:s.call(this,e)}:s}}));t.exports=n=a.Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./style.less":"/Users/shawn/Work/buggin/components/player/seekbar/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/element/video/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/video/util.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/components/player/seekbar/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/player/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/player/video/index.js":[function(e,t,n){function s(){return this._overlay||(this._overlay=this.parent&&this.parent.overlay)}var o=e("vigour-js/app/"),i=e("vigour-js/browser/cases"),r=e("vigour-js/browser/element/video"),a=e("../players/viacom"),l=e("vigour-js/browser/events/util").postpone,u=l(function(e){o.playing.val&&e.play(!0)},501);t.exports=new r({node:"div",player:a,src:{data:"media.mrss"},duration:0,css:"video-container",time:{data:"mediausage.time",defer:function(e,t){return i.$isOnChannel.val||i.$isPlayingAd.val?!0:void e()}},volume:{data:"volume"},$play:{defer:function(e){var t=this._caller;return"second"===o.state.val?!0:void(i.desktop?window.requestAnimationFrame(function(){t.rendered?e():e(!0)}):e())}},model:{subscription:{videolang:!0,access:!0,video:!0,mrss:!0,duration:!0}},events:{src:function(e){if(this.duration=this.data.media.from.get("duration"),i.$isPlayingAd.val=!1,e.val&&(i.tv||i.$isReceiver.val)&&this.rendered){var t=this.data&&this.data.mediausage;o.playing.from.val=!0,t&&!i.$isOnChannel.val&&t.from.set("time",Math.abs(this.time.from.val)),this.play()}else o.playing.from.val=!1},progress:function(e,t){var n=-Math.abs(e),s=this.data&&this.data.mediausage;i.$isPlayingAd.val||i.$isOnChannel.val||s&&(o&&o.mediaTime&&(o.mediaTime.val=n),s.from.set("time",n))},play:function(){var e=s.call(this);e&&(e.opacity=this.playing?0:1),i.$isOnChannel.val&&this.playing&&o&&o.mediaTime&&(o.mediaTime.val=-.01)},stalled:function(){var e=s.call(this);e&&!i.chromecast&&(e.opacity=1),i.$isLoadingVideo.val=!0},seeking:function(e){if(!this._notRendered&&this.rendered){var t=s.call(this);t&&(t.opacity=1),o.playing.val&&(this.__paused||this.pause(!0),u(this)),i.$isLoadingVideo.val=!0}else this._notRendered=!0},canplay:function(){}}}).Class},{"../players/viacom":"/Users/shawn/Work/buggin/components/player/players/viacom.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/element/video":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/video/index.js","vigour-js/browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js"}],"/Users/shawn/Work/buggin/components/player/volume/index.js":[function(e,t,n){function s(e){var t=this.node.getBoundingClientRect(),n=t.left,s=(e.x-n)/this.w.val;this.data.volume.from=s>1?1:0>s?0:s}e("./style.less");var o=e("vigour-js/app/ui/element"),i=new o({css:"player-volume",w:50,events:{down:s,drag:s,up:s}});i.extend({bars:function(e){var e=e.val,t=this.children,n=33,s=n*(isNaN(e)?1:e)+5;for(var o in t)s-=n/5,t[o].nested.x=-3+Math.min(s,3)}});for(var r=5;r--;)i.add(new o({nested:{}}));t.exports=i.Class},{"./style.less":"/Users/shawn/Work/buggin/components/player/volume/style.less","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/player/volume/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/popup/article.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("vigour-js/util"),e("../icon"),e("../item"),e("vigour-js/browser/cases"),e("../img")),o=e("./page");t.exports=n=new o({css:"popup-article",img:new s.Relative({h:190,display:{data:"img",transform:function(e,t){return t?"block":"none"}}}),title:{text:{data:"title"}},body:{text:{data:"text"}}}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../img":"/Users/shawn/Work/buggin/components/img/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/components/popup/auth.js":[function(e,t,n){function s(){d.dropdown._remove=!0,d.dropdown.y={sub:0},d.dropdownBackdrop.remove()}var o=e("vigour-js/app/ui/element"),i=e("../icon"),r=e("vigour-js/browser/cases"),a=e("../button"),l=e("../text/input"),u=e("../item"),c=e("./page"),d=e("vigour-js/app/"),p=new o({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=d.content.get([this._name,"list","0"]),e.val="article"},css:"term"}).Class;n.FbButton=new a({"events.click":function(){var e=this.checkParent("api",!0);e.facebook.login.val=!0}}).Class,n.GetApp=new c({css:"getapp",on:{$parent:{defer:function(e){var t=this._parent._caller.checkParent("topbar",!0);t&&(t.empty(),t.node.style.backgroundColor="#3a1a58"),e()}}},info:{title:{"text.dictionary":"text.register.redirectTitle"},subtitle:{"text.dictionary":"text.register.redirectSubtitle"},freepass:{}},"ios.teleport":new a({text:{dictionary:"text.register.redirectTeleport"},"events.click":function(){window.location.href="fb709421825777638://"}})}).Class;var g=new o({top:{text:{dictionary:"text.signInTOS"}},items:{privacy:new p({text:{dictionary:"text.privacy"}}),terms:new p({text:{dictionary:"text.terms"}})}}).Class;n.Login=new c({css:"login",logo:{},"!windowsMobile.facebook":new n.FbButton({"text.dictionary":"text.account.signin.facebook"}),email:new a({text:{dictionary:"text.account.signin.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="loginEmail"}}),conditions:new g({css:"alignedTop"})}).Class,n.Login.Email=new l.Form({css:"login",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),"desktop.confirm":new a({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new g,verify:["email","password"],bottom:{"text.dictionary":"text.account.forgot.title","events.click":function(){var e=this.checkParent("api",!0);e.password.forgot.val=this.parent.email.val}},define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.login.val={email:this.email.val,password:this.password.val}}else d.notification.val="invalid"}}}).Class;var h=n.RegisterConditions=new g({top:{text:{dictionary:"text.termsOfService"}}}).Class;n.Register=new c({css:"register",logo:{},"!windowsMobile.facebook":new n.FbButton({"text.dictionary":"text.account.signup.facebook"}),email:new a({text:{dictionary:"text.account.signup.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="registerEmail"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new a({display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.account.signup.operator"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="operatorList"}}),conditions:new h({css:"alignedTop"})}).Class,n.Register.Email=new l.Form({css:"register",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),repeatPassword:new l({input:{val:"password",text:"text.repeatPassword"}}),verify:["email","password","repeatPassword"],"desktop.confirm":new a({text:{dictionary:"text.next"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new h,define:{done:function(){if(this.verified)if(this.password.val===this.repeatPassword.val){var e=this.checkParent("on.popup",!0).from;e.data={type:this.data&&this.data._name,email:this.email.val,password:this.password.val},e.val="registerNewsletter"}else d.notification.val="noMatchPassword";else d.notification.type=this.verificationError&&this.verificationError.val,d.notification.val="invalid"}}}).Class;var f,v=new u.Switcher({txt:{"title.text.dictionary":"text.newsletterTitle","subtitle.text.dictionary":"text.newsletterSubtitle"},"events.click":function(){this.parent.data||(this.parent.data={});var e=this.parent.data;e.newsletter=!this.righticon.hold.switchOn.val,this.righticon.hold.switchOn=e.newsletter},add:[new i({name:"lefticon",icon:"newsletter"}),"txt"]}).Class;if(r.phone&&r["native"]){var m=new o({css:"auth-dropdown",position:"absolute",y:{animation:{time:18,easing:"outCubic",done:function(){this._remove&&this.remove()}}},model:{complete:function(){var e=this;window.requestAnimationFrame(function(){e.y={sub:e.node.offsetHeight}})}}}).Class;f=new u.IconLeft({lefticon:{icon:"newsletter"},txt:{css:{data:"value",transform:function(e,t){return"txt"===t.trim()?"inactive":" "}},text:{dictionary:{data:"dictionary"}},model:{inherit:!1}},model:function(e){e instanceof Array&&(this.txt.data=e[0])},"events.click":function(){if(!d.dropdown){var e=this.parent,t=this._name,n=this.data;this._dData||(this._dData=n.splice(1)),d.set({dropdownBackdrop:{css:"relative-size","events.click":s},dropdown:new m({y:d.h,collection:{data:!0,element:new o({text:{dictionary:{data:"dictionary"}},"events.click":function(){e.data||(e.data={}),e.data[t]=this.data.value,e[t].txt.data=this.data,s()}})},data:this._dData})})}}}).Class}else f=new u({select:{node:"select",collection:{data:!0,element:new o({node:"option",attr:{value:{data:"value"}},text:{dictionary:{data:"dictionary"}}})}},"events.change":function(e){this.parent.data||(this.parent.data={}),this.parent.data[this._name]=e.target.value},add:[new i({name:"lefticon",icon:"newsletter"}),"select"]}).Class;n.Register.Newsletter=new l.Form({css:"register newsletter",scrollbar:"y",x:{translate:!0},age:new f({"on.$render.defer":function(e){this._parent._caller.data=[{value:"",dictionary:"text.age"},{dictionary:"options.age.0.text",value:"1"},{dictionary:"options.age.1.text",value:"2"},{dictionary:"options.age.2.text",value:"3"}],e()},lefticon:{icon:"age"}}),gender:new f({"on.$render.defer":function(e){this._parent._caller.data=[{value:"",dictionary:"text.gender"},{value:"male",dictionary:"options.gender.0.text"},{value:"female",dictionary:"options.gender.1.text"},{value:"other",dictionary:"options.gender.2.text"}],e()},lefticon:{icon:"gender"}}),newsletter:new v,"desktop.confirm":new a({text:{dictionary:"text.account.signup.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new h,define:{done:function(){var e=this.checkParent("api",!0);this.data||(this.data={}),console.log("???",this.data.type),this.data.type&&localStorage.setItem("registerOperator",this.data.type),e.register.val=this.data}}}).Class,n.PasswordReset=new l.Form({css:"register",scrollbar:"y",x:{translate:!0},password:new l({input:"password"}),repeatPassword:new l({input:{val:"password",text:"text.repeatPassword"}}),"desktop.confirm":new a({text:{dictionary:"text.account.passwordReset"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),define:{done:function(){if(this.password.val===this.repeatPassword.val){var e=this.checkParent("api",!0);e.password.reset.val={password:this.password.val}}else d.notification.val="noMatchPassword"}}}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","../text/input":"/Users/shawn/Work/buggin/components/text/input.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/popup/buy.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=e("vigour-js/app"),i=e("../button");t.exports=n=new s({css:"upgrade",block:{img:{}},"bottom.text.dictionary":"text.legalContainer","continue":new i({"text.dictionary":"text.continue"})}).Class,n.Monthly=new n({block:{"title.text.dictionary":"text.purchase.monthlyPass.title","txt.text":{dictionary:"text.purchase.monthlyPass.body",add:[" ",o.api.price.monthly]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={subscription:"monthly"}}}).Class,n.Single=new n({block:{"title.text.dictionary":"text.purchase.singlePass.title","txt.text":{dictionary:"text.purchase.singlePass.body",add:[" ",o.api.price.single]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={product:o.user.navigation.media.from}}}).Class,n.Yearly=new n({block:{"title.text.dictionary":"text.purchase.yearlyPass.title","txt.text":{dictionary:"text.purchase.yearlyPass.body",add:[" ",o.api.price.yearly]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={subscription:"yearly"}}}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/popup/devices.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("vigour-js/util"),e("../icon")),o=e("../item"),i=e("vigour-js/browser/cases"),r=e("../button"),a=(e("vigour-js/util/config"),e("vigour-js/browser/ua")),l=e("vigour-js/browser/animation/raf"),u=e("./page");e("vigour-js/app/");t.exports=n=new u({css:"devices",myDevice:{icon:new s({icon:a.device}),dInfo:{dTitle:{"text.dictionary":"text.thisDevice"},dSubtitle:{text:i.touch?a.device+" "+("ios"===a.platform?"iOS":a.platform)+(a.version?" "+a.version:""):a.platform+" "+a.browser+" "+a.version}}},middle:{display:{val:"block",$hasDevices:"none"},icon:new s({icon:"monster"})},listTitle:{"text.dictionary":"text.available",display:{val:"none",$hasDevices:"block"}},list:{display:{val:"none",$hasDevices:"block"},collection:{element:new o.IconLeft({model:function(e){e&&e.from&&e.from.device&&!/(desktop)|(tv)|(cast)|(tablet)|(airplay)/.test(e.from.device.val)&&(this.opacity=.5)},events:{click:function(){var e=this.checkParent("on.user",!0)._val,t=this.data.from;/(desktop)|(tv)|(cast)|(tablet)|(airplay)/.test(t.device.val)&&e.setReceiver(t)}},display:{data:"title",transform:function(e,t){return t?"table":"none"}},lefticon:{icon:{data:{val:function(e){var t=e&&e.from&&e.from.device&&e.from.device.val;return"chromecast"===t?"cast":t},listen:"device"}}}}),data:!0}},info:{display:{val:"block",$hasDevices:"none"},"title.text.dictionary":"text.watchBigger","description.text.dictionary":"text.watchBig"},learn:new r({display:{val:"block",$hasDevices:"none"},"text.dictionary":"text.learnMore","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="devices",e.val="faq"}}),on:{$render:{defer:function(){var e=this._parent._caller;e.on.devices._val._update()}},devices:{defer:function(e){var t=this._parent._caller;t.on.receiver._update(),t.data=this.from,e()}},receiver:{defer:function(e){var t=this;l(function(){if(t._parent){var n=t._parent._caller,s=n.checkParent("on.user",!0)._val.receiverClient,o=n.list.find("_d.from",s.from);o?(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=o,o.css={addClass:"current"}):t.focus&&t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"},t.focus=null)}e()})}}}}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/popup/faq.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("../icon"),e("../item")),o=e("./page"),i=e("vigour-js/app/");t.exports=new o({css:"faq",scrollbar:"y",on:{$parent:{defer:function(e){this._parent._caller.data=i.content.from.get("faq.list"),e()}}},collection:{data:!0,element:new s.IconRight({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="faq",e.data=this.data,e.val="article"}})}}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/popup/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("vigour-js/util"),i=e("vigour-js/app/"),r=e("../icon"),a=e("vigour-js/browser/cases"),l=e("vigour-js/app/ui/switcher"),u=e("./auth"),c=e("./operator"),d=e("./settings"),p=e("./profile"),g=e("./share"),h=e("./devices"),f=e("./roadblock"),v=e("./article"),m=e("./languages"),b=e("./faq"),w=e("./wifi"),_=e("./newsletter"),y=e("./mobile"),j=e("./intro"),k=e("./upgrade"),x=e("./buy"),U=u.GetApp,W=a.phone?i.w.val:400;n=new s({css:"popup-window",on:{$new:{defer:function(e){var t=this._parent._caller;"languages"===i.popup.val&&(t.y._p=!0),window.requestAnimationFrame(function(){t.y&&(t.y._p=!1)}),e()}},loading:{defer:function(e,t){return this._parent._caller?(!t[0]||t[0]!==!0&&"string"!=typeof t[0]?this._parent._caller.overlay.display="none":this._parent._caller.overlay.display="block",void e()):!0}},popup:{defer:function(e){var t,n=this.from.val,s=this._parent,r=s._caller,l=s.overlay._val,W=s.user._val,C=W.receiverClient,S={verifyMobile:{dictionary:"text.mtvMobile",element:y.Verify},countryCodes:{dictionary:"text.chooseTelCode",element:y.CountryCodes,previous:"verifyMobile"},share:{dictionary:"text.share",element:g},wifi:{dictionary:"settings.connectivity",element:w,previous:"settings"},newsletter:{dictionary:"text.newsletterTitle",element:_,previous:"settings"},roadblock:{dictionary:"text.oops",element:f},roadblockUpgrade:{dictionary:"text.buyPremium",element:f},roadblockMedia:{dictionary:"text.lockedEpisode",element:f.Media},article:{title:"faq"!==this.val,element:v,dictionary:"settings.help"},getApp:{dictionary:"text.getapp",element:U},operatorList:{dictionary:"text.operator.choose",element:c.List,previous:"register"},operatorAuth:{title:!0,element:c.Register,previous:"operatorList",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},operatorAuthAlt:{previous:"operatorList",title:!0,element:c.RegisterAlternative},operatorListUpgrade:{previous:"upgrade",dictionary:"text.operator.deals",element:c.ListUpgrade},operatorAuthUpgrade:{title:!0,element:c.Upgrade,righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},upgradeOperator:{dictionary:"text.operator.choose",element:u.Register.ChooseOperator,previous:"upgrade"},devices:{dictionary:"text.devices",element:h,params:{on:{receiver:C,devices:W.devices}}},loginEmail:{dictionary:"text.account.signin.title",element:u.Login.Email,previous:"login",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},passwordReset:{dictionary:"text.account.passwordReset",element:u.PasswordReset},login:{dictionary:"text.account.signin.title",element:u.Login},registerEmail:{dictionary:"text.account.signup.title",element:u.Register.Email,previous:"register",righticon:{icon:{icon:"empty"},text:{dictionary:"text.next"}}},registerSuccess:{dictionary:"text.account.signup.success",element:u.Register.Success},registerNewsletter:{dictionary:"text.account.signup.title",element:u.Register.Newsletter,previous:"registerEmail",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},register:{dictionary:"text.account.signup.title",element:u.Register},upgrade:{dictionary:"text.upgrade",element:k},settings:{dictionary:"text.nav.settings",element:d},profile:{dictionary:"text.profile",element:p,params:{data:{email:W.email,pic:W.profilePic}}},languages:{dictionary:"text.settings.languages.title",element:m,previous:"settings",params:{on:{language:i.language}}},faq:{dictionary:"settings.help",element:b,previous:"settings"},intro:{dictionary:!1,element:j},getStarted:{dictionary:"text.mtvMobile",element:j.getStarted},getStartedContinue:{dictionary:"text.account.signup.title",element:j.getStartedContinue,previous:"intro"},buyMonthly:{dictionary:"text.upgrade",element:x.Monthly,previous:"upgrade"},buySingle:{dictionary:"text.lockedEpisode",element:x.Single,previous:"roadblockMedia"},buyYearly:{dictionary:"text.upgrade",element:x.Yearly,previous:"upgrade"}};if(n)if(l.val="popup",t=S[this.from.val]){this.from.previous&&(t.previous=this.from.previous,this.from.previous=null),t.title&&this.from.data?r.topbar.holder.title.text=this.from.data.get("title"):r.topbar.holder.title.text=t.dictionary!==!1?{dictionary:t.dictionary||this.from.val}:"";var E={element:t.element};this.from.data?(E.$params={data:this.from.data},t.params&&o.merge(E.$params,t.params)):t.params?(E.$params=t.params,this.from.data=null):this.from.data=null,t.previous?(r.topbar.holder.lefticon.icon="arrowleft",r.switcher.previous=t.previous):r.topbar.holder.lefticon.icon="empty",a.desktop||(t.righticon?r.topbar.holder.righticon.set(t.righticon):r.topbar.holder.righticon.set({icon:{icon:"close"},text:"",css:""})),r.switcher.transition=E,e()}else console.error("cannot find popup-type",this.from.val),e(!0);else l.val=!1,a.phone?r.y=i.h:r.remove(),e(!0)}}},position:"absolute",phone:{w:i.w,h:i.h,y:{val:0,animation:{time:i.h.val/30,start:i.h,easing:"outCubic",done:function(e){var t=this;e>=100&&t.remove()}}}},"!phone":{w:{val:i.w,sub:30,max:400},h:{val:i.h,sub:30,max:600},x:{val:i.w,sub:{self:"w"},divide:2},y:{val:i.h,sub:{self:"h"},divide:3,min:15},"!android.opacity":{val:1,animation:{time:15,start:0,easing:"outCubic"}}},topbar:{css:"first-topbar",h:{val:40,phone:{iosFull:60}},holder:{lefticon:new r({icon:"arrowleft","events.click":function(){this.checkParent("switcher",!0).back()}}),title:{text:""},righticon:{icon:new r({icon:"close"}),text:"","events.click":a.desktop?function(e){e.preventDefault(),this.checkParent("on.popup",!0).from=!1}:function(e){e.preventDefault();var t=this.checkParent("switcher",!0)._swElem;t&&t.done?t.done.call(t):this.checkParent("on.popup",!0).from=!1}}}},switcher:new l({node:"div",on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},h:{parent:"h",sub:{val:40,phone:{iosFull:60}}},onTransition:a.slow?function(e,t,n){t&&t.remove(),this.add(e)}:function(e,t,n,s){n=void 0!==i.popup.direction?i.popup.direction:1,i.popup.direction=void 0,n&&t?(e.x={val:0,animation:{start:1===n?W:-W,time:20,delay:1,easing:"outCubic",done:function(){t&&t.remove()}}},t.x={val:1===n?-W:W,animation:{time:20,delay:1,easing:"outCubic"}},-1===n?this.add(e,t):this.add(e)):(t&&t.remove(),this.add(e))},backFallback:function(){this.previous&&(i.popup.direction=-1,this.previous instanceof Object?(i.popup.data=this.previous.data,i.popup.val=this.previous.val):i.popup.val=this.previous)}}),overlay:{display:"none"}}),n.topbar.holder.righticon.extend({fn:function(){}}),t.exports=n.Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./article":"/Users/shawn/Work/buggin/components/popup/article.js","./auth":"/Users/shawn/Work/buggin/components/popup/auth.js","./buy":"/Users/shawn/Work/buggin/components/popup/buy.js","./devices":"/Users/shawn/Work/buggin/components/popup/devices.js","./faq":"/Users/shawn/Work/buggin/components/popup/faq.js","./intro":"/Users/shawn/Work/buggin/components/popup/intro.js","./languages":"/Users/shawn/Work/buggin/components/popup/languages.js","./mobile":"/Users/shawn/Work/buggin/components/popup/mobile.js","./newsletter":"/Users/shawn/Work/buggin/components/popup/newsletter.js","./operator":"/Users/shawn/Work/buggin/components/popup/operator.js","./profile":"/Users/shawn/Work/buggin/components/popup/profile.js","./roadblock":"/Users/shawn/Work/buggin/components/popup/roadblock.js","./settings":"/Users/shawn/Work/buggin/components/popup/settings.js","./share":"/Users/shawn/Work/buggin/components/popup/share.js","./style.less":"/Users/shawn/Work/buggin/components/popup/style.less","./upgrade":"/Users/shawn/Work/buggin/components/popup/upgrade.js","./wifi":"/Users/shawn/Work/buggin/components/popup/wifi.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/app/ui/switcher":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/components/popup/intro.js":[function(e,t,n){function s(e,t,n){var s=120,i=10,r=this.children.length,a=this._pos||(this._pos=0),l=a;Math.abs(n.x)>i?(n.x<0&&!(t.x>s)&&(l=Math.max(a-1,-r+1)),n.x>0&&!(t.x<-s)&&(l=Math.min(a+1,0))):(t.x<-s&&(l=Math.max(a-1,-r+1)),t.x>s&&(l=Math.min(a+1,0))),this.x._e&&(this.x={_esub:this.x._e._val}),o(this,l)}function o(e,t){var n=e._pos||(e._pos=0);e._dots;t!==n&&(e.x={multiply:t},e._pos=t)}var i=e("vigour-js/app/ui/element"),r=e("../button"),a=e("../img"),l=e("./page"),u=e("vigour-js/app/"),c=new i({img:new a.Intro({on:{$new:{defer:function(e){this._parent._caller.background.update(),e()}}}})}).Class;t.exports=n=new l({on:{$parent:{defer:function(e){var t,s=this._parent,o=s._caller,i=o.checkParent("topbar",!0);i&&(t=o.roll,o._topbar=i,t._dots=new n.Dots,i.node.style.backgroundColor="#3a1a58",i.set({holder:{title:{dots:t._dots}}}),t.x=o.parent.parent.w.val-15,s.popup.val=u.popup),e()}},popup:{defer:function(e,t){var n=this._val._val;if("intro"!==n){var s=this._parent._caller._topbar;s&&("settings"===n&&(s.node.style.backgroundColor="#5d4078"),s.holder.title.dots.remove())}e()}}},roll:{css:"intro-roll",x:{val:0,multiply:0,animation:{time:18,easing:"outCubic",complete:function(e){for(var t=this._dots.children,n=t.length-1;n>=0;n--)t[n].css=n===-this._pos?"focus":""}}},append:[c,{"img.background":"1.png","title.text.dictionary":"intro.welcome.title","subtitle.text.dictionary":"intro.welcome.body"},{"img.background":"2.png","title.text.dictionary":"intro.devices.title","subtitle.text.dictionary":"intro.devices.body"},{"img.background":"3.png","title.text.dictionary":"intro.connect.title","subtitle.text.dictionary":"intro.connect.body"},{"img.background":{val:{val:"4.png",$accessForEveryone:"5.png"}},"subtitle.text.dictionary":"intro.free.body",button:new r({"text.dictionary":"intro.free.button","events.click":function(){this.checkParent("on.popup",!0).from="getStartedContinue"}})}],events:{grab:{x:!0,up:s}}}}).Class,n.getStarted=new i({css:"get-started",on:{$parent:{defer:function(e){var t=this._parent,n=t._caller,s=n.checkParent("topbar",!0);s&&(s.node.style.backgroundColor="#5d4078",n._topbar=s),e()}}},"title.text.dictionary":"intro.mobile.title","subtitle.text.dictionary":"intro.mobile.body",append:[r,{css:{addClass:"yes"},"text.dictionary":"intro.mobile.button","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="verifyMobile"}},{css:{addClass:"skip"},"text.dictionary":"button.skip","events.click":function(){this.checkParent("on.popup",!0).from=!1}}]}).Class,n.getStartedContinue=new i({css:"get-started",on:{$parent:{defer:function(e){var t=this._parent,n=t._caller,s=n.checkParent("topbar",!0);s&&(s.node.style.backgroundColor="#5d4078",n._topbar=s),e()}}},"title.text.dictionary":"intro.register.title","subtitle.text.dictionary":"intro.register.body",append:[r,{css:{addClass:"facebook"
},"text.dictionary":"text.account.signup.facebook","events.click":function(){var e=this.checkParent("api",!0);e.facebook.login.val=!0}},{css:{addClass:"email"},"text.dictionary":"text.account.signup.email","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="registerEmail"}},{css:{addClass:"operator"},display:{val:"none",$hasOperator:"block"},"text.dictionary":"text.account.signup.operator","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="operatorList"}}],"or.text.dictionary":"text.or",signin:new r({"text.dictionary":"text.account.signin.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="login"}})}).Class,n.Dots=new i({css:"intro-dots",append:[i,{css:"focus"},{},{},{}]}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../img":"/Users/shawn/Work/buggin/components/img/index.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/popup/languages.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("vigour-js/util"),e("../icon"),e("../item")),o=(e("vigour-js/browser/cases"),e("vigour-js/util/config")),i=e("vigour-js/browser/animation/raf"),r=e("./page");t.exports=new r({css:"languages",on:{$parent:{defer:function(e){this._parent._caller.data=o.languages,this._parent.language._update(),e()}},language:{defer:function(e){var t=this;i(function(){if(t._parent){var n=t._parent._caller,s=t._parent._val||n.checkParent("on.language",!0),o=n.find("_d",s.val);o&&(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=o,o.css={addClass:"current"}),e()}else e(!0)})}}},collection:{data:!0,element:new s({"title.text":{data:!0,dictionary:function(e,t){return t&&"text.languages."+t+".title"}},"events.click":function(){var e=this.checkParent("on.language",!0),t=this.checkParent("on.popup",!0).from;e.$userOrigin.val=String(this.data),t.direction=-1,t.val="settings"}})}}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/popup/mobile.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=(e("vigour-js/util"),e("../icon"),e("vigour-js/browser/cases"),e("../button")),i=e("../text/input"),r=e("../item"),a=e("vigour-js/util/config"),l=e("vigour-js/browser/animation/raf"),u=e("./page"),c=e("vigour-js/app/");n.Verify=new u({css:"verifymobile","on.$parent.defer":function(e){this._parent._caller.data={code:c.telCode},e()},top:{"text.dictionary":"text.enterYourNumber"},country:new r.IconRight({txt:{text:{data:"code",dictionary:function(e,t){return t&&t.slice&&"text.countries."+t.slice(0,2)+".title"},add:[" (+",{data:"code",transform:function(e,t){return t&&a.countrycodes[t]}},")"]}},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="countryCodes"}}),phonenumber:new i({input:"phone","lefticon.html":{data:"code",transform:function(e,t){return t&&("+"+a.countrycodes[t]||t)}}}),verify:new o({text:{dictionary:"text.verify"},"events.click":function(){var e=this.checkParent("api",!0);this.parent.phonenumber.input&&console.log(this.parent.phonenumber.input),e.mobile.verify.val={phonenumber:this.parent.phonenumber.val,country:a.countrycodes[this.parent.data.code.val]}}})}).Class,n.CountryCodes=new s({css:"languages codes",on:{$parent:{defer:function(e){this._parent._caller.data=a.mtvmobile,this._parent.language.val=c.telCode,this._parent.language._update(),e()}},language:{defer:function(e){var t=this;l(function(){if(t._parent){var n=t._parent._caller,s=(t._parent._val||n.checkParent("on.language",!0)).from,o=n.find("_d",s.val);o&&(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=o,o.css={addClass:"current"}),e()}else e(!0)})}}},collection:{data:!0,element:new r({"title.text":{data:!0,dictionary:function(e,t){return t&&t.slice&&"text.countries."+t.slice(0,2)+".title"},add:function(e,t){return" (+"+a.countrycodes[String(this.data)]+")"}},"events.click":function(){var e=this.checkParent("on.popup",!0).from;c.telCode.val=String(this.data),e.val="verifyMobile"}})}}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","../text/input":"/Users/shawn/Work/buggin/components/text/input.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/popup/newsletter.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("../icon"),e("../item")),o=e("./page"),i=e("vigour-js/app/");t.exports=new o({css:"newsletter",newsletterSwitcher:new s.Switcher({css:"ui-item switch","on.$render.defer":function(e){this._parent._caller.righticon.hold.switchOn=i.user.accept_newsletter.from,e()},txt:{"title.text.dictionary":"text.newsletterTitle","subtitle.text.dictionary":"text.newsletterSubtitle"},"events.click":function(){var e=i.user.accept_newsletter.from;e.val=!e.val}})}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/popup/operator.js":[function(e,t,n){var s=e("../button"),o=e("../text/input"),i=e("../item"),r=e("./page"),a=e("./auth"),l=a.RegisterConditions,u=e("vigour-js/app/"),c=e("vigour-js/app/dictionary"),d=c.get("text.operator.future");n.List=new r({css:"operator",on:{$parent:{defer:function(e){this._parent._caller.data=u.operators,e()}}},top:{text:{dictionary:"text.operator.select"}},collection:{data:!0,element:new i.IconRightSub({extend:{support_classic_registration:function(){},available_from:function(){},available:function(){}},support_classic_registration:{data:"support_classic_registration"},available_from:{data:"available_from"},available:{data:"available"},"events.click":function(){if(this.available.val===!0){var e=this.checkParent("on.popup",!0).from;e.previous={val:"operatorList",data:this.parent.data},e.data=this.data,e.val=this.support_classic_registration.val===!0?"operatorAuthAlt":"operatorAuth"}else u.notification.val=d.val+" "+this.available_from.val}})}}).Class,n.ListUpgrade=new n.List({collection:{data:!0,element:new i.IconRightSub({"events.click":function(){if(this.available.val===!0){var e=this.checkParent("on.popup",!0).from;e.previous={val:"operatorListUpgrade",data:this.parent.data},e.data=this.data,e.val="operatorAuthUpgrade"}else u.notification.val=d.val+" "+this.available_from.val}})}}).Class,n.Register=new o.Form({css:"login operator",scrollbar:"y",x:{translate:!0},top:{text:{dictionary:"text.operator.register"}},username:new o({input:"user"}),password:new o({input:"password"}),"desktop.confirm":new s({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new l,verify:["password"],define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.operator.login.val={operator:this.data._name,username:this.username.val,password:this.password.val}}else u.notification.val="invalid"}}}).Class,n.RegisterAlternative=new r({css:"register operator",top:{text:{dictionary:"text.operator.register"}},"!windowsMobile.facebook":new a.FbButton({"text.dictionary":"text.account.signup.facebook","events.click":function(){var e=this.parent.data._name;localStorage.setItem("registerOperator",e);var t=this.checkParent("api",!0);t.facebook.login.val=!0}}),email:new s({text:{dictionary:"text.account.signup.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="operatorAuth",e.data=this.parent.data,e.val="registerEmail"}}),conditions:new l({css:"alignedTop"})}).Class,n.Upgrade=new n.Register({top:{text:{dictionary:"text.operator.authenticate"}},define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.operator.upgrade.val={operator:this.data._name,username:this.username.val,password:this.password.val}}else u.notification.val="invalid"}}}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","../text/input":"/Users/shawn/Work/buggin/components/text/input.js","./auth":"/Users/shawn/Work/buggin/components/popup/auth.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js"}],"/Users/shawn/Work/buggin/components/popup/page.js":[function(e,t,n){var s=e("vigour-js/app/ui/element");t.exports=new s({x:{translate:!0},scrollbar:"y"}).Class},{"vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/popup/profile.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=e("../icon"),i=e("../item"),r=e("vigour-js/browser/cases"),a=e("vigour-js/app/dictionary"),l=e("vigour-js/app/"),u=new s({append:[new i({css:"ui-item",lefticon:new o,title:{}}).Class,{"lefticon.icon":"logout","title.text.dictionary":"text.account.logout","events.click":function(){var e=this.checkParent("on.popup",!0);e.from.val="login",l.user.token.val=!1}}]}).Class;t.exports=n=new s({css:"profile",pic:{icon:new o({icon:"profile",display:{val:function(){return l.user.profilepic.val?"none":"block"},listen:l.user.profilepic}}),img:{background:l.user.profilepic,display:{val:function(){return l.user.profilepic.val?"block":"none"},listen:l.user.profilepic}}},username:{text:l.user.first_name},email:{text:l.user.email},holder:{blocks:{allshows:{bold:{text:{dictionary:"text.all"}},light:{text:{dictionary:"text.nav.shows"}}},allchannels:{display:{val:l.user.role,transform:function(e,t){return 3===t?"none":"table-cell"}},bold:{text:{dictionary:"text.all"}},light:{text:{dictionary:"text.nav.channels"}}},everyepisode:{bold:{text:{dictionary:"text.every"}},light:{text:{dictionary:"text.episode"}}}},unlock:{display:{val:"block",$isUpgraded:"none"},text:{dictionary:"text.purchase.getMore"}}},button:{text:{val:l.user.role,transform:function(e,t){var n=l.user.operator_name.val;return n?n:l.user.role.val?1===l.user.role.val?a.get("text.premium").val:2===l.user.role.val?a.get("text.mtvMobile").val:3===l.user.role.val?a.get("text.trial").val:t:a.get("text.upgrade").val},listen:l.user.operator_name},css:{val:l.user.role.text},"events.click":function(){if(0===l.user.role.val){var e=this.checkParent("on.popup",!0).from;e.previous="profile",e.val=r.$storeAvailable.val||r.$hasMobile.val?"upgrade":"roadblock"}}},items:new u}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/popup/roadblock.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=e("vigour-js/app"),i=(e("vigour-js/util"),e("../icon"),e("../item")),r=(e("vigour-js/browser/cases"),e("../button")),a=(e("../text/input"),e("vigour-js/util/config"),e("../img"),e("./article"),e("./page"));t.exports=n=new a({css:"roadblock",logo:{display:{val:"block",$isLoggedIn:"none"}},"!native.mockup":{display:{val:"none",$isLoggedIn:"block"}},append:[new s({css:"info"}).Class,{"title.text.dictionary":"text.needToRegister","description.text.dictionary":"text.easyRegister",display:{val:"block",$isLoggedIn:"none"}},{"title.text.dictionary":"text.upgradeRequired","description.text.dictionary":"text.upgradeRequired",display:{val:"none",$isLoggedIn:"block",transform:{val:"none",$storeAvailable:!1}}},{"title.text.dictionary":"text.mobileUpgrade","description.text.dictionary":"text.mobileUpgradeInfo","!native.stores":{windowsstore:{},applestore:{},googlestore:{},googlecast:{},samsungtv:{},lgtv:{}},display:{val:"none",$isLoggedIn:"block",transform:{val:!1,$storeAvailable:"none"}}}],signup:new r({display:{val:"block",$isLoggedIn:"none"},"text.dictionary":"text.account.signup.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="roadblock",e.val="register"}}),signin:new r({display:{val:"block",$isLoggedIn:"none"},"text.dictionary":"text.account.signin.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="roadblock",e.val="login"}}),upgrade:new r({display:{val:"none",$isLoggedIn:"block",transform:{val:"none",$storeAvailable:!1}},"text.dictionary":"text.upgrade","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="roadblock",e.val="upgrade"}})}).Class,n.Media=new a({css:"roadblock media share","holder.thumb":new i.Thumb({thumb:{h:60,img:{h:60}},righticon:!1}),buy:new r({display:{val:"none",$storeAvailable:"block"},text:{dictionary:"text.unlockPrice",add:[" ",o.api.price.single]},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buySingle"}}),or:{display:{val:"none",$storeAvailable:"block"},text:{val:"- ",add:[{dictionary:"text.or"}," -"]}},upgrade:new r({"text.dictionary":"text.upgrade","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous={val:"roadblockMedia",data:this.parent.data},e.val="upgrade"}}),mobile:new r({"text.dictionary":"text.purchase.freeWithMTV",display:{val:"none",$hasMobile:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="verifyMobile"}})}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../img":"/Users/shawn/Work/buggin/components/img/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","../text/input":"/Users/shawn/Work/buggin/components/text/input.js","./article":"/Users/shawn/Work/buggin/components/popup/article.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/popup/settings.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=(e("vigour-js/util"),e("../icon"),e("../item")),i=e("vigour-js/browser/cases"),r=(e("../button"),e("../text/input"),e("vigour-js/util/config"),e("vigour-js/browser/animation/raf"),e("./page"),e("vigour-js/app/dictionary")),a=e("vigour-js/app/");t.exports=new s({css:"settings",scroller:{language:new o.IconRightSub({txt:{"title.text.dictionary":"text.settings.languages.title","subtitle.text.dictionary":"text.settings.languages.subtitle"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="languages"}}),FAQ:new o.IconRightSub({txt:{"title.text.dictionary":"settings.help","subtitle.text.dictionary":"settings.helpSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="faq"}}),help:new o.IconRightSub({txt:{"title.text.dictionary":"settings.feedback","subtitle.text.dictionary":"settings.feedbackSub"},"events.click":function(){var e=this.checkParent("api",!0);e.email.send.val={address:"helpme@mtvplay.tv",subject:r.get("text.mailHelp.title").val,body:r.get("text.mailHelp.body").val}}}),"$hasMobile.about":new o.IconRightSub({txt:{"title.text.dictionary":"settings.about","subtitle.text.dictionary":"settings.aboutSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from,t=a.user;e.previous="settings",e.data=t.data.from.get(["about","list","0"]),e.val="article"}}),newsletter:new o.IconRightSub({txt:{"title.text.dictionary":"settings.enableNewsletter.title","subtitle.text.dictionary":"settings.enableNewsletter.subtitle"},display:{val:"none",$isLoggedIn:"table"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="newsletter"}}),"native.wifi":new o.IconRightSub({txt:{"title.text.dictionary":"settings.connectivity","subtitle.text.dictionary":"settings.connectivitySub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="wifi"}}),verifyMobile:new o.IconRightSub({display:{val:i.$hasMobile,transform:function(e,t){return t&&i.$isLoggedIn.val?"table":"none"},listen:i.$isLoggedIn},txt:{"title.text.dictionary":"settings.verifyMobile","subtitle.text.dictionary":"settings.verifyMobileSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="settings",e.val="verifyMobile"}}),"native.intro":new o.IconRightSub({txt:{"title.text.dictionary":"settings.intro","subtitle.text.dictionary":"settings.introSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="settings",e.val="intro"}})},version:{text:{val:"MTV Play -",add:[" ",window["package"]&&window["package"].version]}},phone:{h:{parent:"h"},scroller:{scrollbar:"y",h:{parent:"h",sub:80}}}}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","../text/input":"/Users/shawn/Work/buggin/components/text/input.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/popup/share.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("vigour-js/util"),e("../icon"),e("../item")),o=(e("vigour-js/browser/cases"),e("../button"),e("../text/input"),e("vigour-js/util/config"),e("../img"),e("./page"));t.exports=n=new o({css:"share","holder.thumb":new s.Thumb({thumb:{h:60,img:{h:60}},righticon:!1}),facebook:new s.IconLeft({lefticon:{icon:"facebook"},"txt.text.dictionary":"text.shareFacebook","events.click":function(){var e=this.checkParent("api",!0);e.facebook.share.val={val:!0,url:!0}}}),email:new s.IconLeft({lefticon:{icon:"email"},"txt.text.dictionary":"text.shareEmail","events.click":function(){var e=this.checkParent("api",!0);e.email.share.val=!0}})}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../img":"/Users/shawn/Work/buggin/components/img/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","../text/input":"/Users/shawn/Work/buggin/components/text/input.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js"}],"/Users/shawn/Work/buggin/components/popup/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/popup/upgrade.js":[function(e,t,n){var s=e("vigour-js/app"),o=e("../button"),i=e("./page");n=t.exports=new i({css:"upgrade",block:{img:{},"title.text.dictionary":"text.purchase.goPremium","txt.text.dictionary":"text.purchase.getMore"},bottom:{"text.container":"text.legalContainer"},monthlyFee:new o({text:{dictionary:"text.purchase.monthlyPass.title",add:[" ",s.api.price.monthly]},display:{val:"none",$storeAvailable:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buyMonthly"}}),annualFee:new o({text:{dictionary:"text.purchase.yearlyPass.title",add:[" ",s.api.price.yearly]},display:{val:"none",$storeAvailable:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buyYearly"}}),upgradeUsingPhone:new o({text:{dictionary:"tex.buyPremiumPhoneButton"},display:{val:"block",$storeAvailable:"none"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="roadblockUpgrade"}}),mobile:new o({"text.dictionary":"text.purchase.freeWithMTV",display:{val:"none",$hasMobile:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="verifyMobile"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new o({"text.dictionary":"text.purchase.operator",display:{val:"none",$hasOperator:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.data=s.cloud.data.get(["mtvData","operators"]),e.val="operatorListUpgrade"}})}).Class},{"../button":"/Users/shawn/Work/buggin/components/button/index.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js"}],"/Users/shawn/Work/buggin/components/popup/wifi.js":[function(e,t,n){var s=(e("vigour-js/app/ui/element"),e("../icon"),e("../item")),o=e("./page"),i=e("vigour-js/app/");t.exports=new o({css:"wifi",wifiSwitcher:new s.Switcher({css:"ui-item switch","on.$render.defer":function(e){this._parent._caller.righticon.hold.switchOn=i.wifiOnly,e()},txt:{"title.text.dictionary":"settings.enableCellular.title","subtitle.text.dictionary":"settings.enableCellular.subtitle"},"events.click":function(){var e=i.wifiOnly;e.val=!e.val}})}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../item":"/Users/shawn/Work/buggin/components/item/index.js","./page":"/Users/shawn/Work/buggin/components/popup/page.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/rotate-message/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("../icon");t.exports=new s({css:"rotate-message",holder:{icon:new o({icon:"phone"}),message:{text:{dictionary:"text.rotateDevice"}}}}).Class},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./style.less":"/Users/shawn/Work/buggin/components/rotate-message/style.less","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/rotate-message/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/components/second/bar/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("vigour-js/app/dictionary"),i=e("../../icon"),r=e("../../text"),a=o.get("connect.active"),l=o.get("connect.waiting");e("vigour-js/browser/cases");t.exports=new s({css:"second-bar",device:new i({icon:{data:"activeClient.device"}}),info:{html:{data:"activeClient.device",transform:function(e,t){return t?a.val+" "+r.highlight(t):l.val},listen:a}}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../text":"/Users/shawn/Work/buggin/components/text/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/bar/style.less","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/second/bar/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/channel/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/"),o=e("vigour-js/app/ui/element"),i=e("../../icon"),r=e("../../img"),a=e("../grid"),l=new o({w:{val:a.colWidth,add:10,multiply:2,sub:10},y:{val:a.rowHeight,add:10,divide:2,add:40},title:{text:{data:"media.title"}},img:new r({background:{data:"media.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),extratitle:{text:{data:"media.title"}},description:{text:{data:"media.description"}}}),u=new r({h:s.h,w:{val:s.w,sub:[l.w,160]},background:{data:"media.img",range:100},overlay:{message:{swipeicon:new i({icon:"swipeup"}),text:"Press Watch Big your device to start playing!"}}});t.exports=new o({css:"second-channel",information:l,cover:u}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../grid":"/Users/shawn/Work/buggin/components/second/grid/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/channel/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/second/channel/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/channels/index.js":[function(e,t,n){e("./style.less");var s=e("../grid"),o=e("vigour-js/app/ui/element"),i=e("../../img"),r=e("vigour-js/app/"),a=e("../../epg_temp"),l=e("../../player/seekbar"),u=a.clockTime,c=new o({w:{parent:"itemWidth",sub:10},css:"grid-item",img:new i({w:{parent:"w",sub:2},h:{parent:"w",multiply:.75},background:{range:100}}),information:{channeltitle:{css:"ui-item-text",text:{data:"title"}},now:{text:{dictionary:"text.now"}},epg:{showtitle:{text:{data:"title"}},time:{text:{data:"minutes_since_midnight",transform:u,add:[" - ",{data:"endtime",transform:u}]}},bar:new l({seek:{w:{val:a.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"},transform:function(e,t){return isNaN(parseInt(t))?0:100*t+"%"},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.information.epg.data=a.now(t),this.model=!1)}}}).Class;s=new s({css:"second-channels",itemWidth:{val:r.w,sub:160,divide:{val:4,min:4},clear:!0},title:{text:"channels"},y:{val:s.rowHeight,add:10,divide:2,add:40},collection:{data:"channels",element:new c},model:function(e){var t=e.channels&&e.channels.keys,n=t&&t.length;n!==this._length&&(this.itemWidth={divide:n},this._length=n)}}),t.exports=s.Class},{"../../epg_temp":"/Users/shawn/Work/buggin/components/epg_temp.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../../player/seekbar":"/Users/shawn/Work/buggin/components/player/seekbar/index.js","../grid":"/Users/shawn/Work/buggin/components/second/grid/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/channels/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/second/channels/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/discover/index.js":[function(e,t,n){e("./style.less");var s=(e("vigour-js/app/"),e("vigour-js/app/ui/element")),o=e("../grid"),i=e("../../img"),r=e("vigour-js/browser/cases"),a=new o({itemHeight:o.rowHeight,title:{},w:{self:"itemWidth",add:10,multiply:1},collection:{data:!0},model:{val:function(e){e=e[this.collection._flag.data[2]];var t=e&&e.keys,n=t&&t.length;if(t&&n!==this._length){var s=this.parent;this.w={multiply:Math.ceil(n/4)||1},this._length=n,s._index=null,s.horizontalScroll.update()}}}}).Class,l=new s({title:{text:{dictionary:"text.nav.discover"}},holder:{h:{val:o.rowHeight,add:10,multiply:2,sub:10},w:{val:o.colWidth,add:10,multiply:3,sub:10},roll:{w:{parent:"w"},h:{parent:"h"},x:{parent:"w",multiply:{data:"carousel"},animation:!r.chromecast&&{easing:"outCubic",time:36}},collection:{data:"marquee",element:new i({w:{parent:"w"},h:{parent:"h"},background:{range:100}})}}}}).Class,u=new s;u.extend({horizontalScroll:function(e){var t=e.val,n=.25,s=Math.min(~~(t/n),3);if(s!==this._index){var o=this.children;0===s?this.x=0:1===s?this.x=-o[0].holder.w.val-80:2===s?this.x=-o[0].holder.w.val-80-o[1].w.val-80:this.x=-o[0].holder.w.val-80-o[1].w.val-80-o[2].w.val-80;for(var i,r,a=o.length-1;a>=0;a--)r=o[a],i?r.opacity=0:a!==s?r.opacity=.3:(r.opacity=1,i=!0);this._index=s}}}),t.exports=new u.Class({css:"second-discover","!chromecast.x.animation":{easing:"outCubic",time:36},y:{val:o.rowHeight,add:10,divide:2,add:40},horizontalScroll:{data:"scroll"},spotlight:new l,releases:new a({title:{text:{dictionary:"text.newReleases"}},collection:{data:"releases"}}),recommended:new a({title:{text:{dictionary:"text.recommended"}},collection:{data:"recommended"}}),free:new a({title:{text:{dictionary:"text.free"}},collection:{data:"free"}})}).Class},{"../../img":"/Users/shawn/Work/buggin/components/img/index.js","../grid":"/Users/shawn/Work/buggin/components/second/grid/index.js",
"./style.less":"/Users/shawn/Work/buggin/components/second/discover/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/second/discover/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/episode/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/"),o=e("vigour-js/app/ui/element"),i=e("../../icon"),r=e("../../img"),a=e("../grid"),l=new o({w:{val:a.colWidth,add:10,multiply:2,sub:10},y:{val:a.rowHeight,add:10,divide:2,add:40},title:{text:{data:"show.title"}},holder:{w:{parent:"w"},img:new r({background:{data:"media.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),extratitle:{text:{data:"media.title"}},opacity:{data:"media.number",transform:function(e,t){return t?(this.css="",1):(this.css="dontAnimate",0)}},subtitle:{text:{val:{dictionary:"text.season"},add:[" ",{data:"season.number"}," ",{dictionary:"text.episode"}," ",{data:"media.number"}]}},description:{text:{data:"media.description"}}}}),u=new r({h:s.h,w:{val:s.w,sub:[l.w,160]},background:{data:"show.img",range:100},overlay:{message:{swipeicon:new i({icon:{val:"cast",$isReceiver:"swipeup"}}),text:{dictionary:"text.recieveSecondScreen",transform:!1,$isReceiver:{transform:{dictionary:"text.recieveMainScreen"}}}}}});t.exports=new o({css:"second-episode",information:l,cover:u}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../../img":"/Users/shawn/Work/buggin/components/img/index.js","../grid":"/Users/shawn/Work/buggin/components/second/grid/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/episode/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/second/episode/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/grid/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/"),o=e("vigour-js/app/ui/element"),i=e("vigour-js/value"),r=e("../../img"),a=new o,l=new o({w:{parent:"itemWidth"},h:{parent:"itemHeight"},css:"grid-item",img:new r({w:{parent:"w"},h:{parent:"h"},background:{range:100}})}).Class;a.extend({itemWidth:function(){},itemHeight:function(){}}),a.set({itemHeight:{},itemWidth:{self:"itemHeight",divide:.75},collection:{element:new l}}),t.exports=n=a.Class,n.Item=l,n.rowHeight=new i({val:s.h,sub:80,divide:6}),n.colWidth=new i({val:n.rowHeight,divide:.75})},{"../../img":"/Users/shawn/Work/buggin/components/img/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/grid/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/components/second/grid/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=(e("vigour-js/app/"),e("vigour-js/browser/cases")),i=e("./switcher"),r=e("./screensaver"),a=e("./bar");t.exports=new s({css:"second-state",switcher:o.phone?new r:new i,"!phone.bar":new a,"phone.button.title.text.dictionary":"text.returnTap"}).Class},{"./bar":"/Users/shawn/Work/buggin/components/second/bar/index.js","./screensaver":"/Users/shawn/Work/buggin/components/second/screensaver/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/style.less","./switcher":"/Users/shawn/Work/buggin/components/second/switcher/index.js","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/second/screensaver/index.js":[function(e,t,n){e("./style.less");var s=(e("vigour-js/app/ui/element"),e("vigour-js/app/ui/switcher")),o=e("vigour-js/app/"),i=(e("vigour-js/browser/cases"),e("../../img")),r=new i({w:o.w,h:o.h}).Class,a=new r({model:{subscription:{$:{img:!0}},val:function(e){if(e._name){var t=e.keys;if(t){var n=t.length;if(n){var s=t[~~(Math.random()*n)];this.model=!1,this.data=e[s]}}}}}}).Class;t.exports=n=new s({css:"second-screensaver",on:{page:{defer:function(e){var t,n=this.$userOrigin.val,s=this._parent,o=s._caller,i=s.content.from;"discover"===n?t=i.get("marquee.list"):"shows"===n?t=i.get("shows"):"channels"===n&&(t=i.get("channels")),o.transition={element:a,$params:{data:t},$options:{force:!0}},e()}},show:{defer:function(e){var t=this.$userOrigin.val,n=this._parent,s=n._caller;s.transition={element:r,$params:{data:t},$options:{force:!0}},e()}},media:{defer:function(e){var t=this.$userOrigin.val,n=this._parent,s=n._caller;s.transition={element:r,$params:{data:t},$options:{force:!0}},e()}}},onTransition:function(e,t,n,s){t&&(t.opacity={val:0,animation:{start:1,time:12}}),e.opacity={val:1,animation:{start:0,time:12,delay:12,done:function(){t&&t.remove()}}},this.add(e)}}).Class},{"../../img":"/Users/shawn/Work/buggin/components/img/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/screensaver/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/app/ui/switcher":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/second/screensaver/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/show/index.js":[function(e,t,n){e("./style.less");var s=(e("vigour-js/app/"),e("vigour-js/app/ui/element")),o=e("../grid"),i=e("../../img"),r=e("vigour-js/browser/cases"),a=new s({x:{val:0,add:{val:o.colWidth,add:50,multiply:2},animation:!r.chromecast&&{easing:"outCubic",time:36}},collection:{data:"seasons",element:new o({itemHeight:o.rowHeight,title:{text:{val:"season",add:[" ",{data:"number"}]}},w:{self:"itemWidth",add:10,multiply:1},collection:{data:"episodes"},model:{val:function(e){if(e.episodes){var t=e.episodes.keys,n=t.length;n!==this._length&&(this.w={multiply:Math.ceil(n/4)},this._length=n)}}}})}});a.extend({pos:function(e){var t=0|e.val,n=this.children;if(n[1]){t?n[t-1]&&(this.x=this.x.val-n[t-1].node.getBoundingClientRect().right):this.x.val=0;for(var s,o,i=n.length-1;i>=0;i--)o=n[i],s?o.opacity=0:i!==t?o.opacity=.3:(o.opacity=1,s=!0)}}}),t.exports=new s({css:"second-show",on:{show:{defer:function(e){var t=this._parent._caller;t.data=this.from.val,e()}},season:{defer:function(e){var t=this._parent._caller,n=this.from.val;if(n){var s=n&&n._name;t.data||(this._parent.show.val=n._parent._parent),void 0!==s&&(t.roll.pos.val=s)}e()}}},y:{val:o.rowHeight,add:10,divide:2,add:40},roll:a.set({pos:0,model:{field:"show",complete:function(){var e=this;window.requestAnimationFrame(function(){e.pos.update(),e.model=!1})}}}),information:{title:{text:{data:"show.title"}},holder:{h:{val:o.rowHeight,add:10,multiply:4,sub:10},w:{val:o.colWidth,add:10,multiply:2,sub:10},img:new i({background:{data:"show.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),description:{text:{data:"show.description"}}}}}).Class},{"../../img":"/Users/shawn/Work/buggin/components/img/index.js","../grid":"/Users/shawn/Work/buggin/components/second/grid/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/show/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/second/show/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/shows/index.js":[function(e,t,n){function s(e,t,n,s){for(var o,i,r=e.length-1;r>=0;r--)~t.indexOf(o=e[r])||(i=n[o])&&(i.img.opacity=s)}function o(e,t,n){if(e=n[e],t=n[t],e&&t){var s=i.h.val-80,o=t.node.getBoundingClientRect().bottom;if(o>=s)n.y.val-=o-s+20;else{var r=e.node.getBoundingClientRect().top;0>=r&&(n.y.val-=r)}n.y.val>0&&(n.y.val=0)}}e("./style.less");var i=e("vigour-js/app/"),r=e("vigour-js/app/ui/element"),a=e("../../icon"),l=e("../grid"),u=e("vigour-js/browser/element/properties/collection/display"),c=new l({y:{translate:!0,add:10},"!chromecast.y.animation":{time:36,easing:"outCubic"},itemWidth:{val:i.w,sub:70,divide:6,clear:!0},itemHeight:{self:"itemWidth",divide:4/3,clear:!0},user:{},collection:{data:"shows",options:u,element:new l.Item({display:"inline-block",img:{background:{load:function(e){e.opacity&&e.opacity.val||(e.opacity=.3)}}},model:{val:function(e){var t=e._name;t&&(this.name=t,this.model=!1)}}}),filter:{condition:{title:{$contains:""}},sort:"title"}},model:{subscription:{$:{img:!0,title:!0}}}});c.user.extend({highlight:function(e){var t=e.val,n=this._parent||(this._parent=this.parent);if(t[0]){var i=t.split("."),r=n._old||(n._old=[]);i[0]&&(s(r,i,n,.3),s(i,r,n,1),o(i[0],i[i.length-1],n),n._old=i)}},search:function(e){for(var t=e.val,n=this._parent||(this._parent=this.parent),s="",o=0,i=t&&t.length;i>o;o++)s+="\\s*"+t[o];s+="\\s*",n.filter&&(n.filter.filter={condition:{title:{$contains:s}},sort:"title"})}}),c.user.set({highlight:{data:"highlight"},search:{data:"search"}});var d=new r({searchicon:new a({icon:"search"}),text:{data:"search",transform:function(e,t){return t}}});d.extend({paddingRight:function(e){this.node.style.paddingRight=e.val+"px"}}),t.exports=new r({css:"second-shows",grid:c,search:{searchholder:{searchbox:new d.Class({paddingRight:{self:"text",transform:function(e,t){return t[0]?20:0}},opacity:{self:"text",transform:function(e,t){return t[0]?1:0}}})}}}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../grid":"/Users/shawn/Work/buggin/components/second/grid/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/shows/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/element/properties/collection/display":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/display.js"}],"/Users/shawn/Work/buggin/components/second/shows/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/second/switcher/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("vigour-js/app/ui/switcher"),i=(e("vigour-js/browser/cases"),e("../../icon"));t.exports=n=new o({css:"second-switcher",on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}},page:{defer:function(t){var s,o,i=this.$userOrigin.val,r=this._parent,a=r._caller,l=r.content.from;i&&("discover"===i?(void 0===n[i]&&(n[i]=e("../discover")),s={marquee:l.get("marquee.list"),recommended:l.get("recommended.list"),releases:o=l.get("releases.list"),watched:r.watched.from,free:l.get("free.list"),channels:l.get("channels"),scroll:r.scroll.from,carousel:r.carousel.from}):"shows"===i?(void 0===n[i]&&(n[i]=e("../shows")),s={shows:o=l.get("shows"),search:r.search.from,highlight:r.highlight.from}):"channels"===i&&(void 0===n[i]&&(n[i]=e("../channels")),s={channels:o=l.get("channels")}),o&&(a.transition={element:n[i],$params:{data:s},$options:{loader:o.from}}),a.current="page"),t()}},show:{defer:function(t){var s,o,i=this.$userOrigin.val,r=this._parent,a=r._caller,l=i._name,u=r.season,c=r.media,d=r.usage;u.from.checkParent("_name",l)||(u.$userOrigin.val=i.from.get("seasons.0")),c.from.checkParent("_name",l)||(c.$userOrigin.val=i.from.get("seasons.0.episodes.0")),o=c.$userOrigin,s=u.$userOrigin,a.transition={element:n.show||(n.show=e("../show")),$params:{on:{season:s},data:{show:i,season:s,media:o,showusage:d.from.get(i.from._contentPath),mediausage:d.from.get(o.from._contentPath),volume:r.volume}},$options:{loader:i.from.seasons}},t()}},season:{defer:function(e,t){t[0]&&this._parent.show._update(),e()}},media:{defer:function(t){var s=this._parent,o=s._caller,i=this.$userOrigin.val;if(i||(i=this.$userOrigin.val=this.from),"episodes"===i._parent._name){var r=i._parent._parent,a=r._parent._parent;o.transition={element:n.episode||(n.episode=e("../episode")),$params:{data:{show:a,season:r,media:i}},$options:{loader:i.from},direction:"page"===o.current?1:"media"===o.current&&-1}}else"channels"===i._parent._name&&(o.transition={element:n.channel||(n.channel=e("../channel")),$params:{data:{media:i}},$options:{loader:i.from},direction:"channel"!==o.current&&1});t()}}},onTransition:function(e,t,n,s){t?(this.add(e,t),t.opacity=0,t.node.pointerEvents="none",this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t&&t.remove(),this._timer=null,s.done&&s.done()},200)):(this.add(e),s.done&&s.done())},loader:new s({css:"second-loader",x:{translate:!0},loadicon:new i({icon:"logo"})})}).Class},{"../../icon":"/Users/shawn/Work/buggin/components/icon/index.js","../channel":"/Users/shawn/Work/buggin/components/second/channel/index.js","../channels":"/Users/shawn/Work/buggin/components/second/channels/index.js","../discover":"/Users/shawn/Work/buggin/components/second/discover/index.js","../episode":"/Users/shawn/Work/buggin/components/second/episode/index.js","../show":"/Users/shawn/Work/buggin/components/second/show/index.js","../shows":"/Users/shawn/Work/buggin/components/second/shows/index.js","./style.less":"/Users/shawn/Work/buggin/components/second/switcher/style.less","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/app/ui/switcher":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/second/switcher/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/switcher/index.js":[function(e,t,n){e("./style.less");var s=e("vigour-js/app/ui/element"),o=e("vigour-js/app/ui/switcher"),i=e("vigour-js/browser/cases"),r=e("vigour-js/app/");t.exports=n=new o({css:"app-switcher",w:{parent:"w"},h:{parent:"h"},on:{state:{defer:function(t){var o,a,l,u,c,d,p=this._parent,g=p._caller,h=this.from.val,f=p.content._val,v=p.favourites._val,m=p.navigation._val,b=p.receiver._val,w=p.highlight._val,_=p.overlay._val,y=p.watched._val,j=p.search._val,k=p.usage._val,x=p.volume._val,U=p.scroll._val,W=p.carousel._val,C=p.notification._val,S=p.popup._val,E=p.play._val,$=p.loading._val,O=p.activeClient._val;"player"===h?window.StatusBar&&window.StatusBar.hide&&window.StatusBar.hide():window.StatusBar&&window.StatusBar.show&&window.StatusBar.show(),"empty"===h?u=(new s).Class:"first"===h||"player"===h&&(i.desktop||i.tablet)?(u=n.first||(n.first=e("../first")),i.tv?(c={switcher:{on:{content:f,page:m.page,show:m.show,media:m.media}}},c.sidemenu={data:{page:m.page}}):(c={on:{overlay:_,popup:S,notification:C,loading:$,state:this.from},section:{on:{msmedia:b.media,usage:k,play:b.playing,volume:b.volume},topbar:{on:{page:m.page,show:m.show,media:m.media}},switcher:{on:{content:f,favourites:v,page:m.page,show:m.show,season:m.season,media:m.media,highlight:w,scroll:U,search:j,usage:k,volume:x,watched:y,carousel:W,play:E,ms:b}}}},i.phone?c.section.topmenu={data:{page:m.page}}:c.sidemenu={data:{page:m.page}})):"second"===h?(u=n[h]||(n[h]=e("../second")),c={switcher:{on:{content:p.content,page:m.page,show:m.show,season:m.season,channel:m.channel,media:m.media,highlight:w,scroll:U,search:j,usage:k,watched:y,carousel:W}},bar:{data:{activeClient:O}}}):"player"===h&&(u=n[h]||(n[h]=e("../player")),o=this._val.video.from,"episodes"===o._parent._name?(a=o._parent._parent,l=a._parent._parent,c={data:{show:l,season:a,media:o,mediausage:k.from.get(o._contentPath),volume:x}}):"channels"===o._parent._name&&(c={data:{media:o,mediausage:k.from.get(o._contentPath),volume:x}})),u&&(g.transition={element:u,$params:c,$options:{force:d}},r.user.updateNavigation()),t()}}},onTransition:function(e,t){t&&t.remove(),this.add(e)}}).Class},{"../first":"/Users/shawn/Work/buggin/components/first/index.js","../player":"/Users/shawn/Work/buggin/components/player/index.js","../second":"/Users/shawn/Work/buggin/components/second/index.js","./style.less":"/Users/shawn/Work/buggin/components/switcher/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/app/ui/switcher":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/components/switcher/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/components/text/index.js":[function(e,t,n){var s=e("vigour-js/app/ui/element"),o=e("vigour-js/app/dictionary"),i=o.get("text.season"),r=o.get("text.seasons"),a=o.get("text.episode"),l=o.get("text.episodes");n.Title=new s({text:{data:"title"}}).Class,n.Subtitle=new s({text:{data:{val:function(e){if(e&&(e=e.from),!e)return"";if(e.subtitle)return e.subtitle.val||"";if(e.number){var t=e._parent._parent,n=t.number?t.number.val:e.season&&e.season.val||(0|t._name)+1;if("seasons"===e._parent._name)return i.val+" "+e.number.val;if(!isNaN(n))return i.val+" "+n+" "+a.val+" "+e.number.val}if(e.seasonCount&&e.episodeCount){var s=e.seasonCount.val,o=e.seasonCount.val>1?r.val:i.val,u=e.episodeCount.val,c=e.episodeCount.val>1?l.val:a.val;return s+" "+o+" "+u+" "+c||""}return""},listen:["seasonCount","episodeCount","subtitle","number","season"]},listen:o}}).Class,n.TitleSubtitle=new s({title:new n.Title,subtitle:new n.Subtitle}).Class,n.Description=new s({text:{data:"media.description","default":{dictionary:"text.noDescription"}}}).Class,n.highlight=function(e){var t=e.charAt(0),n=e.slice(1),s="i"!==t?t.toUpperCase()+n:t+n.charAt(0).toUpperCase()+n.slice(1);return'<span class="text-highlight">'+s+"</span>"}},{"vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/components/text/input.js":[function(e,t,n){function s(e,t){t.focused=e,t.corrected||(t.corrected=u.h.val);var n=p.y(e),s=t.corrected-380;n>s&&(d.ios||(t.focusing=!0),t.y.animation||d.ios||(t.y={animation:{time:10,easing:"outCubic",complete:function(){this.focusing=!1}}}),t.y={sub:n-s-10})}function o(e){var t=this.node;document.body.scrollTop=0,window.requestAnimationFrame(function(){document.body.scrollTop=0});var n=this.parent.input;if(u.blockResize=!0,this.parent.css="ui-item ui-input active focus",t.value===this.text.val&&(t.value=""),n&&"password"===n.val&&(t.setAttribute("type","password"),t.setAttribute("autocapitalize","off")),f){var s=this,o=function(){i.call(s),t.removeEventListener("blur",o,!0)};t.addEventListener("blur",o,!0)}}function i(){if(!this.focusing){window.scrollTo(0,0),u.blockResize=!1;var e,t=this.parent.input;d.touch&&t&&t.holder&&(e=t.holder.val,e&&!e.focusing&&(e.y={sub:0})),""===this.node.value?(this.node.value=this.text.val,this.parent.css="ui-item ui-input",t&&"password"===t.val&&this.node.setAttribute("type","text")):this.parent.css="ui-item ui-input active"}}function r(e){var t,n=this.node.type,s=this.parent,o=this.node.value;if("text"!==n||s.input){t=s.input.val,"password"===t?s.verified=o.length>3:"email"===n||"email"===t?(s.verified=/^[a-zA-Z0-9._%+-]+@[A-Za-z0-9.-]+\.[a-zA-Z]{2,4}$/.test(o),this.node.value=o.trim()):s.input&&"phone"===s.input.val?s.verified=/^(\d){6,12}$/.test(o):s.input&&s.input.verify&&1===s.input.verify.__t?s.verified=o>s.input.verify[0]&&o<s.input.verify[1]:s.verified=o.length>2,s.input&&s.input.keyup&&"function"==typeof s.input.keyup._val&&s.input.keyup._val.call(s,s.verified);var i,r,a,l=this._form!==!1&&(this._form||(this._form=this.checkParent("verify"))||!1),u=l&&l.verify;if(u){for(r=this._righticon||(this._righticon=this.checkParent("topbar.holder.righticon",!0)),a=u.length-1;a>=0;a--)l[u[a]._val].verified||(i=!0,l.verificationError=u[a]);r.css=i?"pointer":"pointer verified",r.verified=!i,l.verified=!i}}}e("./style.less");var a=e("vigour-js/app/ui/element"),l=e("../icon"),u=e("vigour-js/app/"),c=e("vigour-js/browser/events"),d=e("vigour-js/browser/cases"),p=e("vigour-js/browser/events/offset"),g=e("vigour-js/browser/ua"),h=new a({css:"ui-item ui-input",lefticon:new l({icon:"email"})}),f="firefox"===g.browser;h.extend({input:function(e){var t,n=e.val,s=e&&e.text&&e.text.val;n&&(t={user:{text:s||"text.username",icon:"profile"},email:{text:s||"text.email",msg:"text.account.invalid.email"},password:{text:s||"text.password",msg:"text.invalid.password",icon:"locked"},phone:{text:"text.cellphone",msg:"text.invalid.phoneWord"}},this.txt.text=t[n]?{dictionary:t[n].text}:n,this.lefticon.icon=t[n].icon||n),"phone"===n?this.txt.attr={type:"tel",pattern:"d*"}:"age"===n&&(this.txt.attr={type:"tel",pattern:"d*"})}},{name:"key",get:function(){return this.input&&this.input.val||this.txt.attr&&this.txt.attr.type.val}},{name:"val",get:function(){return this.txt.node.value}}),t.exports=n=h.set({txt:{node:"input",attr:{type:"text",autocapitalize:"off"},text:"search",css:"inactive",events:{focusin:o,focusout:i,keyup:f&&o,input:r,move:function(e){e.preventDefault()},click:function(e){e&&e.preventDefault(),u.blockResize=!0,this.node.focus(),f&&o.call(this)},down:function(e){if(!c.click.block){var t=this,n=t.parent.input&&t.parent.input.holder;d.touch&&n&&n.val&&s(t,n.val)}}}},events:{out:function(e){"INPUT"!==e.target.tagName&&this.txt.node.blur()}}}).Class,c.confirm={val:{up:function(e,t,n){e.preventDefault(),t.call(this,e,n)}}},n.Form=new a({node:"form",submitfix:{node:"input","attr.type":"submit"},events:{submit:function(e){e.preventDefault(),d.touch&&!this.fDown||!this.done||this.done()},down:function(e){this.fDown=!0}}}).Class,n.Form.base.extend({verify:function(){}})},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./style.less":"/Users/shawn/Work/buggin/components/text/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js","vigour-js/browser/events/offset":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/offset.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/components/text/search.js":[function(e,t,n){function s(e,t){d.touch&&(c.click.block=1===t?!1:!0,e.items.opacity=t,e.favos.opacity=t)}function o(e,t){if(e&&2===e.__t)throw new Error("object in search");if(e=e&&e.trim()||"",e.length)t.favos.display="none",t.search.clear.icon="closesmall";else{t.favos.display="block",t.search.clear.icon="empty";var n=e?e.trim():"";t.search.field.data.search.$userOrigin=n}for(var s="",o=0,i=e.length;i>o;o++){var r=e[o];("$"===r||"S"===r.toUpperCase())&&(r="(\\$|s)"),s+="\\s*"+r}s+="\\s*",t.items.filter&&(t.items.filter.filter={condition:{title:{$contains:s}},sort:"title"})}function i(e,t,n){this.css="ui-search focus",n||(p.blockResize=!0,s(this.parent,.5),this.field.node.focus(),this._active=!0)}function r(e,t){var n=t?"":e.field.node.value.trim();n.length||(e.css="ui-search",e.clear.icon="empty",e.field.node.value=n,o(n,e.parent)),s(e.parent,1),e._active=!1,p.blockResize=!1}e("./style.less");var a=e("vigour-js/app/ui/element"),l=e("../icon"),u=e("vigour-js/app/dictionary"),c=e("vigour-js/browser/events"),d=e("vigour-js/browser/cases"),p=e("vigour-js/app/");t.exports=new a({node:"form",css:"ui-search",name:"search",w:{val:210,touch:{val:p.w,sub:30}},icon:new l({icon:"search",h:30,placeholder:{"text.dictionary":"text.search"}}),field:{node:"input",attr:{type:"text",name:"search",listen:u.get("text.search"),placeholder:u.get("text.search")},text:{data:function(e){if(e){var t=e.search.val;return(this.first||t)&&(this.first=!0),this.first&&(o(t,this.parent.parent),void 0===t||t===!1?r(this.parent):this.parent.fromDown?this.parent.fromDown=!1:i.call(this.parent,!1,!1,!0)),t||""}return""}},events:{keydown:function(e){13==e.keyCode&&e.preventDefault()},keyup:function(e){if(9!==e.keyCode){var t=this.node.value.length?this.node.value.trim():"";this.data.search.$userOrigin=t}}}},clear:new l({node:"form",icon:"empty",events:{down:function(e){if(e.prevent=!0,this.parent.fromDown=!0,this.parent.field.data.search.$userOrigin="",d.touch){var t="",n=this.parent.field.node;n.value=t,i.call(this.parent),o(t,this.parent.parent)}else r(this.parent,!0)}}}),cancel:{"text.dictionary":"text.cancel",events:{down:function(e){e.prevent=!0,r(this.parent,!0),this.parent.data.search.$userOrigin=""}}},events:{click:i,out:function(e){this._active&&r(this)}}})},{"../icon":"/Users/shawn/Work/buggin/components/icon/index.js","./style.less":"/Users/shawn/Work/buggin/components/text/style.less","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/app/dictionary":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js","vigour-js/app/ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/buggin/components/text/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/components/button/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/buggin/common.less"}],"/Users/shawn/Work/buggin/config.js":[function(e,t,n){window.name="mtvplay",t.exports=n=e("vigour-js/util/config").inject({"repository.branch":"branches"},e("vigour-js/util/config/ua")),n(function(e){for(var t in e)n[t]=e[t];n.parsed=!0},!1,window["package"],!0)},{"vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/util/config/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/ua.js"}],"/Users/shawn/Work/buggin/index.js":[function(e,t,n){window["package"]=e("package.json");var s,o=e("./config");if(o.development&&o.development.button&&(s=e("vigour-js/util/debug")["native"](!1,!1,function(e){},"build")),!s){var i=e("vigour-js/browser/cases"),r=e("vigour-js/browser/ua");~window.location.href.indexOf("$tv")&&(i.tv=!0,r.device="tv"),~window.location.href.indexOf("$chromecast")&&(i.chromecast=!0,r.device="chromecast"),"tv"===r.device&&"linux"===r.platform&&(r.platform="lg"),e("vigour-js/app/"),(i.tv||i.chromecast)&&(i.$iplogin=!0),i.chromecast?e("./platform/cast.js"):i.tv?e("./platform/tv.js"):(i.phoneBrowser="phone"===r.device&&!(i["native"]||i.$isIosFull),e("./platform/all.js"))}},{"./config":"/Users/shawn/Work/buggin/config.js","./platform/all.js":"/Users/shawn/Work/buggin/platform/all.js","./platform/cast.js":"/Users/shawn/Work/buggin/platform/cast.js","./platform/tv.js":"/Users/shawn/Work/buggin/platform/tv.js","package.json":"package.json","vigour-js/app/":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/util/debug":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/debug/index.js"}],"/Users/shawn/Work/buggin/libs/zepto.js":[function(e,t,n){var s=function(){function e(e){return null==e?String(e):G[X.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function s(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(t){return"object"==e(t)}function i(e){return o(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function r(e){return"number"==typeof e.length}function a(e){return $.call(e,function(e){return null!=e})}function l(e){return e.length>0?x.fn.concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function c(e){return e in P?P[e]:P[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function d(e,t){return"number"!=typeof t||L[u(e)]?t:t+"px"}function p(e){var t,n;return T[e]||(t=A.createElement(e),A.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),T[e]=n),T[e]}function g(e){return"children"in e?O.call(e.children):x.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function h(e,t){var n,s=e?e.length:0;for(n=0;s>n;n++)this[n]=e[n];this.length=s,this.selector=t||""}function f(e,t,n){for(k in t)n&&(i(t[k])||Q(t[k]))?(i(t[k])&&!i(e[k])&&(e[k]={}),Q(t[k])&&!Q(e[k])&&(e[k]=[]),f(e[k],t[k],n)):t[k]!==j&&(e[k]=t[k])}function v(e,t){return null==t?x(e):x(e).filter(t)}function m(e,n,s,o){return t(n)?n.call(e,s,o):n}function b(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function w(e,t){var n=e.className||"",s=n&&n.baseVal!==j;return t===j?s?n.baseVal:n:void(s?n.baseVal=t:e.className=t)}function _(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?x.parseJSON(e):e):e}catch(t){return e}}function y(e,t){t(e);for(var n=0,s=e.childNodes.length;s>n;n++)y(e.childNodes[n],t)}var j,k,x,U,W,C,S=[],E=S.concat,$=S.filter,O=S.slice,A=window.document,T={},P={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,I=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,B=/^(?:body|html)$/i,N=/([A-Z])/g,M=["val","css","html","text","data","width","height","offset"],F=["after","prepend","before","append"],q=A.createElement("table"),H=A.createElement("tr"),V={
tr:A.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:H,th:H,"*":A.createElement("div")},z=/complete|loaded|interactive/,J=/^[\w-]*$/,G={},X=G.toString,Y={},K=A.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Q=Array.isArray||function(e){return e instanceof Array};return Y.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var s,o=e.parentNode,i=!o;return i&&(o=K).appendChild(e),s=~Y.qsa(o,t).indexOf(e),i&&K.removeChild(e),s},W=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},C=function(e){return $.call(e,function(t,n){return e.indexOf(t)==n})},Y.fragment=function(e,t,n){var s,o,r;return I.test(e)&&(s=x(A.createElement(RegExp.$1))),s||(e.replace&&(e=e.replace(R,"<$1></$2>")),t===j&&(t=D.test(e)&&RegExp.$1),t in V||(t="*"),r=V[t],r.innerHTML=""+e,s=x.each(O.call(r.childNodes),function(){r.removeChild(this)})),i(n)&&(o=x(s),x.each(n,function(e,t){M.indexOf(e)>-1?o[e](t):o.attr(e,t)})),s},Y.Z=function(e,t){return new h(e,t)},Y.isZ=function(e){return e instanceof Y.Z},Y.init=function(e,n){var s;if(!e)return Y.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&D.test(e))s=Y.fragment(e,RegExp.$1,n),e=null;else{if(n!==j)return x(n).find(e);s=Y.qsa(A,e)}else{if(t(e))return x(A).ready(e);if(Y.isZ(e))return e;if(Q(e))s=a(e);else if(o(e))s=[e],e=null;else if(D.test(e))s=Y.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==j)return x(n).find(e);s=Y.qsa(A,e)}}return Y.Z(s,e)},x=function(e,t){return Y.init(e,t)},x.extend=function(e){var t,n=O.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){f(e,n,t)}),e},Y.qsa=function(e,t){var n,s="#"==t[0],o=!s&&"."==t[0],i=s||o?t.slice(1):t,r=J.test(i);return e.getElementById&&r&&s?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:O.call(r&&!s&&e.getElementsByClassName?o?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},x.contains=A.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},x.type=e,x.isFunction=t,x.isWindow=n,x.isArray=Q,x.isPlainObject=i,x.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},x.inArray=function(e,t,n){return S.indexOf.call(t,e,n)},x.camelCase=W,x.trim=function(e){return null==e?"":String.prototype.trim.call(e)},x.uuid=0,x.support={},x.expr={},x.noop=function(){},x.map=function(e,t){var n,s,o,i=[];if(r(e))for(s=0;s<e.length;s++)n=t(e[s],s),null!=n&&i.push(n);else for(o in e)n=t(e[o],o),null!=n&&i.push(n);return l(i)},x.each=function(e,t){var n,s;if(r(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(s in e)if(t.call(e[s],s,e[s])===!1)return e;return e},x.grep=function(e,t){return $.call(e,t)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){G["[object "+t+"]"]=t.toLowerCase()}),x.fn={constructor:Y.Z,length:0,forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,splice:S.splice,indexOf:S.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Y.isZ(t)?t.toArray():t;return E.apply(Y.isZ(this)?this.toArray():this,n)},map:function(e){return x(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return x(O.apply(this,arguments))},ready:function(e){return z.test(A.readyState)&&A.body?e(x):A.addEventListener("DOMContentLoaded",function(){e(x)},!1),this},get:function(e){return e===j?O.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return S.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):x($.call(this,function(t){return Y.matches(t,e)}))},add:function(e,t){return x(C(this.concat(x(e,t))))},is:function(e){return this.length>0&&Y.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==j)this.each(function(t){e.call(this,t)||n.push(this)});else{var s="string"==typeof e?this.filter(e):r(e)&&t(e.item)?O.call(e):x(e);this.forEach(function(e){s.indexOf(e)<0&&n.push(e)})}return x(n)},has:function(e){return this.filter(function(){return o(e)?x.contains(this,e):x(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:x(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:x(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?x(e).filter(function(){var e=this;return S.some.call(n,function(t){return x.contains(t,e)})}):1==this.length?x(Y.qsa(this[0],e)):this.map(function(){return Y.qsa(this,e)}):x()},closest:function(e,t){var n=this[0],o=!1;for("object"==typeof e&&(o=x(e));n&&!(o?o.indexOf(n)>=0:Y.matches(n,e));)n=n!==t&&!s(n)&&n.parentNode;return x(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=x.map(n,function(e){return(e=e.parentNode)&&!s(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return v(t,e)},parent:function(e){return v(C(this.pluck("parentNode")),e)},children:function(e){return v(this.map(function(){return g(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||O.call(this.childNodes)})},siblings:function(e){return v(this.map(function(e,t){return $.call(g(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return x.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var s=x(e).get(0),o=s.parentNode||this.length>1;return this.each(function(t){x(this).wrapAll(n?e.call(this,t):o?s.cloneNode(!0):s)})},wrapAll:function(e){if(this[0]){x(this[0]).before(e=x(e));for(var t;(t=e.children()).length;)e=t.first();x(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var s=x(this),o=s.contents(),i=n?e.call(this,t):e;o.length?o.wrapAll(i):s.append(i)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=x(this);(e===j?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return x(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return x(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;x(this).empty().append(m(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=m(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(e))for(k in e)b(this,k,e[k]);else b(this,e,m(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:j},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){b(this,e)},this)})},prop:function(e,t){return e=Z[e]||e,1 in arguments?this.each(function(n){this[e]=m(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(N,"-$1").toLowerCase(),s=1 in arguments?this.attr(n,t):this.attr(n);return null!==s?_(s):j},val:function(e){return 0 in arguments?this.each(function(t){this.value=m(this,e,t,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=x(this),s=m(this,e,t,n.offset()),o=n.offsetParent().offset(),i={top:s.top-o.top,left:s.left-o.left};"static"==n.css("position")&&(i.position="relative"),n.css(i)});if(!this.length)return null;if(!x.contains(A.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var s,o=this[0];if(!o)return;if(s=getComputedStyle(o,""),"string"==typeof t)return o.style[W(t)]||s.getPropertyValue(t);if(Q(t)){var i={};return x.each(t,function(e,t){i[t]=o.style[W(t)]||s.getPropertyValue(t)}),i}}var r="";if("string"==e(t))n||0===n?r=u(t)+":"+d(t,n):this.each(function(){this.style.removeProperty(u(t))});else for(k in t)t[k]||0===t[k]?r+=u(k)+":"+d(k,t[k])+";":this.each(function(){this.style.removeProperty(u(k))});return this.each(function(){this.style.cssText+=";"+r})},index:function(e){return e?this.indexOf(x(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?S.some.call(this,function(e){return this.test(w(e))},c(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){U=[];var n=w(this),s=m(this,e,t,n);s.split(/\s+/g).forEach(function(e){x(this).hasClass(e)||U.push(e)},this),U.length&&w(this,n+(n?" ":"")+U.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===j)return w(this,"");U=w(this),m(this,e,t,U).split(/\s+/g).forEach(function(e){U=U.replace(c(e)," ")}),w(this,U.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var s=x(this),o=m(this,e,n,w(this));o.split(/\s+/g).forEach(function(e){(t===j?!s.hasClass(e):t)?s.addClass(e):s.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===j?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===j?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),s=B.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(x(e).css("margin-top"))||0,n.left-=parseFloat(x(e).css("margin-left"))||0,s.top+=parseFloat(x(t[0]).css("border-top-width"))||0,s.left+=parseFloat(x(t[0]).css("border-left-width"))||0,{top:n.top-s.top,left:n.left-s.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||A.body;e&&!B.test(e.nodeName)&&"static"==x(e).css("position");)e=e.offsetParent;return e})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});x.fn[e]=function(o){var i,r=this[0];return o===j?n(r)?r["inner"+t]:s(r)?r.documentElement["scroll"+t]:(i=this.offset())&&i[e]:this.each(function(t){r=x(this),r.css(e,m(this,o,t,r[e]()))})}}),F.forEach(function(t,n){var s=n%2;x.fn[t]=function(){var t,o,i=x.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:Y.fragment(n)}),r=this.length>1;return i.length<1?this:this.each(function(e,t){o=s?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var a=x.contains(A.documentElement,o);i.forEach(function(e){if(r)e=e.cloneNode(!0);else if(!o)return x(e).remove();o.insertBefore(e,t),a&&y(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},x.fn[s?t+"To":"insert"+(n?"Before":"After")]=function(e){return x(e)[t](this),this}}),Y.Z.prototype=h.prototype=x.fn,Y.uniq=C,Y.deserializeValue=_,x.zepto=Y,x}();window.Zepto=s,void 0===window.$&&(window.$=s),n.Zepto=window.Zepto,n.$=window.$,function(e){function t(t,n,s){var o=e.Event(n);return e(t).trigger(o,s),!o.isDefaultPrevented()}function n(e,n,s,o){return e.global?t(n||b,s,o):void 0}function s(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function o(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function i(e,t){var s=t.context;return t.beforeSend.call(s,e,t)===!1||n(t,s,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,s,"ajaxSend",[e,t])}function r(e,t,s,o){var i=s.context,r="success";s.success.call(i,e,r,t),o&&o.resolveWith(i,[e,r,t]),n(s,i,"ajaxSuccess",[t,s,e]),l(r,t,s)}function a(e,t,s,o,i){var r=o.context;o.error.call(r,s,t,e),i&&i.rejectWith(r,[s,t,e]),n(o,r,"ajaxError",[s,o,e||t]),l(t,s,o)}function l(e,t,s){var i=s.context;s.complete.call(i,t,e),n(s,i,"ajaxComplete",[t,s]),o(s)}function u(){}function c(e){return e&&(e=e.split(";",2)[0]),e&&(e==k?"html":e==j?"json":_.test(e)?"script":y.test(e)&&"xml")||"text"}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=d(t.url,t.data),t.data=void 0)}function g(t,n,s,o){return e.isFunction(n)&&(o=s,s=n,n=void 0),e.isFunction(s)||(o=s,s=void 0),{url:t,data:n,success:s,dataType:o}}function h(t,n,s,o){var i,r=e.isArray(n),a=e.isPlainObject(n);e.each(n,function(n,l){i=e.type(l),o&&(n=s?o:o+"["+(a||"object"==i||"array"==i?n:"")+"]"),!o&&r?t.add(l.name,l.value):"array"==i||!s&&"object"==i?h(t,l,s,n):t.add(n,l)})}var f,v,m=0,b=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,_=/^(?:text|application)\/javascript/i,y=/^(?:text|application)\/xml/i,j="application/json",k="text/html",x=/^\s*$/,U=b.createElement("a");U.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var s,o,l=t.jsonpCallback,u=(e.isFunction(l)?l():l)||"jsonp"+ ++m,c=b.createElement("script"),d=window[u],p=function(t){e(c).triggerHandler("error",t||"abort")},g={abort:p};return n&&n.promise(g),e(c).on("load error",function(i,l){clearTimeout(o),e(c).off().remove(),"error"!=i.type&&s?r(s[0],g,t,n):a(null,l||"error",g,t,n),window[u]=d,s&&e.isFunction(d)&&d(s[0]),d=s=void 0}),i(g,t)===!1?(p("abort"),g):(window[u]=function(){s=arguments},c.src=t.url.replace(/\?(.+)=\?/,"?$1="+u),b.head.appendChild(c),t.timeout>0&&(o=setTimeout(function(){p("timeout")},t.timeout)),g)},e.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:j,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,o,l=e.extend({},t||{}),g=e.Deferred&&e.Deferred();for(f in e.ajaxSettings)void 0===l[f]&&(l[f]=e.ajaxSettings[f]);s(l),l.crossDomain||(n=b.createElement("a"),n.href=l.url,n.href=n.href,l.crossDomain=U.protocol+"//"+U.host!=n.protocol+"//"+n.host),l.url||(l.url=window.location.toString()),(o=l.url.indexOf("#"))>-1&&(l.url=l.url.slice(0,o)),p(l);var h=l.dataType,m=/\?.+=\?/.test(l.url);if(m&&(h="jsonp"),l.cache!==!1&&(t&&t.cache===!0||"script"!=h&&"jsonp"!=h)||(l.url=d(l.url,"_="+Date.now())),"jsonp"==h)return m||(l.url=d(l.url,l.jsonp?l.jsonp+"=?":l.jsonp===!1?"":"callback=?")),e.ajaxJSONP(l,g);var w,_=l.accepts[h],y={},j=function(e,t){y[e.toLowerCase()]=[e,t]},k=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,W=l.xhr(),C=W.setRequestHeader;if(g&&g.promise(W),l.crossDomain||j("X-Requested-With","XMLHttpRequest"),j("Accept",_||"*/*"),(_=l.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),W.overrideMimeType&&W.overrideMimeType(_)),(l.contentType||l.contentType!==!1&&l.data&&"GET"!=l.type.toUpperCase())&&j("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(v in l.headers)j(v,l.headers[v]);if(W.setRequestHeader=j,W.onreadystatechange=function(){if(4==W.readyState){W.onreadystatechange=u,clearTimeout(w);var t,n=!1;if(W.status>=200&&W.status<300||304==W.status||0==W.status&&"file:"==k){h=h||c(l.mimeType||W.getResponseHeader("content-type")),t=W.responseText;try{"script"==h?(1,eval)(t):"xml"==h?t=W.responseXML:"json"==h&&(t=x.test(t)?null:e.parseJSON(t))}catch(s){n=s}n?a(n,"parsererror",W,l,g):r(t,W,l,g)}else a(W.statusText||null,W.status?"error":"abort",W,l,g)}},i(W,l)===!1)return W.abort(),a(null,"abort",W,l,g),W;if(l.xhrFields)for(v in l.xhrFields)W[v]=l.xhrFields[v];var S="async"in l?l.async:!0;W.open(l.type,l.url,S,l.username,l.password);for(v in y)C.apply(W,y[v]);return l.timeout>0&&(w=setTimeout(function(){W.onreadystatechange=u,W.abort(),a(null,"timeout",W,l,g)},l.timeout)),W.send(l.data?l.data:null),W},e.get=function(){return e.ajax(g.apply(null,arguments))},e.post=function(){var t=g.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=g.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,s){if(!this.length)return this;var o,i=this,r=t.split(/\s/),a=g(t,n,s),l=a.success;return r.length>1&&(a.url=r[0],o=r[1]),a.success=function(t){i.html(o?e("<div>").html(t.replace(w,"")).find(o):t),l&&l.apply(i,arguments)},e.ajax(a),this};var W=encodeURIComponent;e.param=function(t,n){var s=[];return s.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(W(t)+"="+W(n))},h(s,t,n),s.join("&").replace(/%20/g,"+")}}(s),function(e){function t(n){var s=[["resolve","done",e.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",e.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",e.Callbacks({memory:1})]],o="pending",i={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var n=arguments;return t(function(t){e.each(s,function(s,o){var a=e.isFunction(n[s])&&n[s];r[o[1]](function(){var n=a&&a.apply(this,arguments);if(n&&e.isFunction(n.promise))n.promise().done(t.resolve).fail(t.reject).progress(t.notify);else{var s=this===i?t.promise():this,r=a?[n]:arguments;t[o[0]+"With"](s,r)}})}),n=null}).promise()},promise:function(t){return null!=t?e.extend(t,i):i}},r={};return e.each(s,function(e,t){var n=t[2],a=t[3];i[t[1]]=n.add,a&&n.add(function(){o=a},s[1^e][2].disable,s[2][2].lock),r[t[0]]=function(){return r[t[0]+"With"](this===r?i:this,arguments),this},r[t[0]+"With"]=n.fireWith}),i.promise(r),n&&n.call(r,r),r}var n=Array.prototype.slice;e.when=function(s){var o,i,r,a=n.call(arguments),l=a.length,u=0,c=1!==l||s&&e.isFunction(s.promise)?l:0,d=1===c?s:t(),p=function(e,t,s){return function(i){t[e]=this,s[e]=arguments.length>1?n.call(arguments):i,s===o?d.notifyWith(t,s):--c||d.resolveWith(t,s)}};if(l>1)for(o=new Array(l),i=new Array(l),r=new Array(l);l>u;++u)a[u]&&e.isFunction(a[u].promise)?a[u].promise().done(p(u,r,a)).fail(d.reject).progress(p(u,i,o)):--c;return c||d.resolveWith(r,a),d.promise()},e.Deferred=t}(s),function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,i,r){if(n=s(n),n.ns)var a=o(n.ns);return(v[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||a.test(e.ns))&&(!i||t(e.fn)===t(i))&&(!r||e.sel==r)})}function s(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function o(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function i(e,t){return e.del&&!b&&e.e in w||!!t}function r(e){return _[e]||b&&w[e]||e}function a(n,o,a,l,c,p,g){var h=t(n),f=v[h]||(v[h]=[]);o.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(a);var o=s(t);o.fn=a,o.sel=c,o.e in _&&(a=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?o.fn.apply(this,arguments):void 0}),o.del=p;var h=p||a;o.proxy=function(e){if(e=u(e),!e.isImmediatePropagationStopped()){e.data=l;var t=h.apply(n,e._args==d?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},o.i=f.length,f.push(o),"addEventListener"in n&&n.addEventListener(r(o.e),o.proxy,i(o,g))})}function l(e,s,o,a,l){var u=t(e);(s||"").split(/\s/).forEach(function(t){n(e,t,o,a).forEach(function(t){delete v[u][t.i],"removeEventListener"in e&&e.removeEventListener(r(t.e),t.proxy,i(t,l))})})}function u(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(x,function(e,s){var o=n[e];t[e]=function(){return this[s]=y,o&&o.apply(n,arguments)},t[s]=j}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=y)),t}function c(e){var t,n={originalEvent:e};for(t in e)k.test(t)||e[t]===d||(n[t]=e[t]);return u(n,e)}var d,p=1,g=Array.prototype.slice,h=e.isFunction,f=function(e){return"string"==typeof e},v={},m={},b="onfocusin"in window,w={focus:"focusin",blur:"focusout"},_={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents",e.event={add:a,remove:l},e.proxy=function(n,s){var o=2 in arguments&&g.call(arguments,2);if(h(n)){var i=function(){return n.apply(s,o?o.concat(g.call(arguments)):arguments)};return i._zid=t(n),i}if(f(s))return o?(o.unshift(n[s],n),e.proxy.apply(null,o)):e.proxy(n[s],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,s){return this.on(e,t,n,s,1)};var y=function(){return!0},j=function(){return!1},k=/^([A-Z]|returnValue$|layer[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,s,o,i){var r,u,p=this;return t&&!f(t)?(e.each(t,function(e,t){p.on(e,n,s,t,i)}),p):(f(n)||h(o)||o===!1||(o=s,s=n,n=d),(o===d||s===!1)&&(o=s,s=d),o===!1&&(o=j),p.each(function(d,p){i&&(r=function(e){return l(p,e.type,o),o.apply(this,arguments)}),n&&(u=function(t){var s,i=e(t.target).closest(n,p).get(0);return i&&i!==p?(s=e.extend(c(t),{currentTarget:i,liveFired:p}),(r||o).apply(i,[s].concat(g.call(arguments,1)))):void 0}),a(p,t,o,s,n,u||r)}))},e.fn.off=function(t,n,s){var o=this;return t&&!f(t)?(e.each(t,function(e,t){o.off(e,n,t)}),o):(f(n)||h(s)||s===!1||(s=n,n=d),s===!1&&(s=j),o.each(function(){l(this,t,s,n)}))},e.fn.trigger=function(t,n){return t=f(t)||e.isPlainObject(t)?e.Event(t):u(t),t._args=n,this.each(function(){t.type in w&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,s){var o,i;return this.each(function(r,a){o=c(f(t)?e.Event(t):t),o._args=s,o.target=a,e.each(n(a,t.type||t),function(e,t){return i=t.proxy(o),o.isImmediatePropagationStopped()?!1:void 0})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){f(e)||(t=e,e=t.type);var n=document.createEvent(m[e]||"Events"),s=!0;if(t)for(var o in t)"bubbles"==o?s=!!t[o]:n[o]=t[o];return n.initEvent(e,s,!0),u(n)}}(s),function(e){e.fn.serializeArray=function(){var t,n,s=[],o=function(e){return e.forEach?e.forEach(o):void s.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(s,i){n=i.type,t=i.name,t&&"fieldset"!=i.nodeName.toLowerCase()&&!i.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||i.checked)&&o(e(i).val())}),s},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(s),function(e){e.Callbacks=function(t){t=e.extend({},t);var n,s,o,i,r,a,l=[],u=!t.once&&[],c=function(e){for(n=t.memory&&e,s=!0,a=i||0,i=0,r=l.length,o=!0;l&&r>a;++a)if(l[a].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}o=!1,l&&(u?u.length&&c(u.shift()):n?l.length=0:d.disable())},d={add:function(){if(l){var s=l.length,a=function(n){e.each(n,function(e,n){"function"==typeof n?t.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!=typeof n&&a(n)})};a(arguments),o?r=l.length:n&&(i=s,c(n))}return this},remove:function(){return l&&e.each(arguments,function(t,n){for(var s;(s=e.inArray(n,l,s))>-1;)l.splice(s,1),o&&(r>=s&&--r,a>=s&&--a)}),this},has:function(t){return!(!l||!(t?e.inArray(t,l)>-1:l.length))},empty:function(){return r=l.length=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||s&&!u||(t=t||[],t=[e,t.slice?t.slice():t],o?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments)},fired:function(){return!!s}};return d}}(s),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(n){return null}}}}()},{}],"/Users/shawn/Work/buggin/node_modules/monotonic-timestamp/index.js":[function(e,t,n){var s=0,o=1,i=0,r=0;t.exports=function(){var e=Date.now();if(s===e){do i=e+o++/(o+999);while(i===r);r=i}else o=1,i=e;return r=i,s=e,i}},{}],"/Users/shawn/Work/buggin/node_modules/promise/index.js":[function(e,t,n){"use strict";t.exports=e("./lib/core.js"),e("./lib/done.js"),e("./lib/es6-extensions.js"),e("./lib/node-extensions.js")},{"./lib/core.js":"/Users/shawn/Work/buggin/node_modules/promise/lib/core.js","./lib/done.js":"/Users/shawn/Work/buggin/node_modules/promise/lib/done.js","./lib/es6-extensions.js":"/Users/shawn/Work/buggin/node_modules/promise/lib/es6-extensions.js","./lib/node-extensions.js":"/Users/shawn/Work/buggin/node_modules/promise/lib/node-extensions.js"}],"/Users/shawn/Work/buggin/node_modules/promise/lib/core.js":[function(e,t,n){"use strict";function s(e){function t(e){return null===l?void c.push(e):void r(function(){var t=l?e.onFulfilled:e.onRejected;if(null===t)return void(l?e.resolve:e.reject)(u);var n;try{n=t(u)}catch(s){return void e.reject(s)}e.resolve(n)})}function n(e){try{if(e===d)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void i(t.bind(e),n,s)}l=!0,u=e,a()}catch(o){s(o)}}function s(e){l=!1,u=e,a()}function a(){for(var e=0,n=c.length;n>e;e++)t(c[e]);c=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var l=null,u=null,c=[],d=this;this.then=function(e,n){return new d.constructor(function(s,i){t(new o(e,n,s,i))})},i(e,n,s)}function o(e,t,n,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=s}function i(e,t,n){var s=!1;try{e(function(e){s||(s=!0,t(e))},function(e){s||(s=!0,n(e))})}catch(o){if(s)return;s=!0,n(o)}}var r=e("asap");t.exports=s},{asap:"/Users/shawn/Work/buggin/node_modules/promise/node_modules/asap/asap.js"}],"/Users/shawn/Work/buggin/node_modules/promise/lib/done.js":[function(e,t,n){"use strict";var s=e("./core.js"),o=e("asap");t.exports=s,s.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){o(function(){throw e})})}},{"./core.js":"/Users/shawn/Work/buggin/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/buggin/node_modules/promise/node_modules/asap/asap.js"}],"/Users/shawn/Work/buggin/node_modules/promise/lib/es6-extensions.js":[function(e,t,n){"use strict";function s(e){this.then=function(t){return"function"!=typeof t?this:new o(function(n,s){i(function(){try{n(t(e))}catch(o){s(o)}})})}}var o=e("./core.js"),i=e("asap");t.exports=o,s.prototype=o.prototype;var r=new s(!0),a=new s(!1),l=new s(null),u=new s(void 0),c=new s(0),d=new s("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return l;if(void 0===e)return u;if(e===!0)return r;if(e===!1)return a;if(0===e)return c;if(""===e)return d;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(n){return new o(function(e,t){t(n)})}return new s(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function s(i,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,function(e){s(i,e)},n)}t[i]=r,0===--o&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)s(i,t[i])})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":"/Users/shawn/Work/buggin/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/buggin/node_modules/promise/node_modules/asap/asap.js"}],"/Users/shawn/Work/buggin/node_modules/promise/lib/node-extensions.js":[function(e,t,n){"use strict";var s=e("./core.js"),o=e("asap");t.exports=s,s.denodeify=function(e,t){return t=t||1/0,function(){var n=this,o=Array.prototype.slice.call(arguments);return new s(function(s,i){for(;o.length&&o.length>t;)o.pop();o.push(function(e,t){e?i(e):s(t)});var r=e.apply(n,o);!r||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then||s(r)})}},s.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,i=this;try{return e.apply(this,arguments).nodeify(n,i)}catch(r){if(null===n||"undefined"==typeof n)return new s(function(e,t){t(r)});o(function(){n.call(i,r)})}}},s.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){o(function(){e.call(t,null,n)})},function(n){o(function(){e.call(t,n)})})}},{"./core.js":"/Users/shawn/Work/buggin/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/buggin/node_modules/promise/node_modules/asap/asap.js"}],"/Users/shawn/Work/buggin/node_modules/promise/node_modules/asap/asap.js":[function(e,t,n){(function(e){function n(){for(;o.next;){o=o.next;var e=o.task;o.task=void 0;var t=o.domain;t&&(o.domain=void 0,t.enter());try{e()}catch(s){if(l)throw t&&t.exit(),setTimeout(n,0),t&&t.enter(),s;setTimeout(function(){throw s},0)}t&&t.exit()}r=!1}function s(t){i=i.next={task:t,domain:l&&e.domain,next:null},r||(r=!0,a())}var o={task:void 0,next:null},i=o,r=!1,a=void 0,l=!1;if("undefined"!=typeof e&&e.nextTick)l=!0,a=function(){e.nextTick(n)};else if("function"==typeof setImmediate)a="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=n,a=function(){u.port2.postMessage(0)}}else a=function(){setTimeout(n,0)};t.exports=s}).call(this,e("_process"))},{_process:"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/process/browser.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/cloud.js":[function(e,t,n){function s(e,t){var n,s,o,i=e.data.get(["clients",e.clientid]);l.ios?(n="phone"===u.device?"iphone":"ipad",s="phone"===u.device?n:u.device):"appletv"===u.platform?(n="Apple TV",s="airplay"):l.chromecast?(n="Chromecast",s="chromecast",o=window.sessionId):(s=u.device,n=l.desktop?u.platform:u.platform+" "+s);var r={title:n,device:s};o&&(r.castId=o||!1),
i.val=r,e.client.val=i}var o=e("vigour-js/browser/network/cloud").inject(e("vigour-js/browser/network/cloud/datacloud"),e("vigour-js/browser/network/cloud/authenticate")),i=e("vigour-js/value"),r=e("vigour-js/data"),a=e("vigour-js/util"),l=e("vigour-js/browser/cases"),u=e("vigour-js/browser/ua");e("vigour-js/browser/animation/raf");e("vigour-js/value/flags/process"),n.extend=a.extend(e("./values"),function(e){var t=new o(new i);l.$connected=new i(t.connected),t.client=new i,t.once("welcome",function(n){s(t,e)}),t.on("reconnect",function(){var e={};t.client.from.each(function(t){"key"!==t&&"type"!==t&&"ip"!==t&&(e[t]=this._val)}),t.client.from.on("remove",function(){Object.keys(e).length&&t.data.clients.set(t.clientid,e)})}),e.define({cloud:{get:function(){return t},set:function(e){a.isObj(e)?(e.fastLogin&&(t.fastLogin.val=!0),e.api&&(t.api.val=e.api),e.url&&(t.url.val=e.url)):t.url.val=e}}});var n=new r(t.data.get("app"),{subscription:{$:!0}});e.versionData=new i({val:n,defer:function(e,t){var n;if(this.from.version)if(console.log("hey hey hey"),window["package"]){var s=this.from.version.val,o=window["package"].version;s&&o&&(s=s.split("."),o=o.split("."),s=Number(s[1]),o=Number(o[1]||0),s>o&&(n=!0,this.clearCache(),window["package"].version=this.from.version.val))}else console.error("no window package",window["package"]);e(n?void 0:!0)}})})},{"./values":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/values.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/network/cloud":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/index.js","vigour-js/browser/network/cloud/authenticate":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/authenticate.js","vigour-js/browser/network/cloud/datacloud":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/datacloud.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","vigour-js/value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/content.js":[function(e,t,n){var s=e("../value"),o=e("../browser/network/cloud/data"),i=e("../util");i.define(o,"_contentPath",{get:function(){var e=this._path;for(var t in e)if("shows"===e[t]||"channels"===e[t])return e.slice(t);console.error("_contentPath used on non-content data",this,e)}}),n.extend=i.extend(e("./values"),e("./cloud"),function(e){function t(){var t=e.region.val,s=e.language.val;"it"===s&&(s="en"),t&&s&&(n.val=e.cloud.data.get(["mtvData",t,s]))}var n=e.content=new s({});i.define(n,"get",function(){if(this._val&&this._val.cloud)return this._val.get.apply(this._val,arguments);throw new Error("app.content , dont have cloud data!")}),e.region.on(t),e.language.on(t),t()})},{"../browser/network/cloud/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/data.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","./cloud":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/cloud.js","./values":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/values.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/dictionary/index.js":[function(e,t,n){var s=e("../../util"),o=(e("../ui/element"),e("../../value")),i=e("../../object");o.operators._dictionary=function(e,t){return t===!1?e:t},t.exports=n=new o({}),s.define(n,"get",function(e){return n.map&&n.map[e]&&(e=n.map[e]),"string"==typeof e&&s.path(n,["responseData"].concat(e.split(".")),"")}),o.flags.dictionary={set:function(e,t){if("string"!=typeof e)this.set("_dictionary",{val:e,transform:function(e,t){if(t&&t.text)return t.text;var s=n.get(t);return s?s instanceof i?(n.once(function(){e._update()}),s.val):s:void 0}});else{var s=n.get(e);s._clearCache=!0,this.val=s}}},n._name="dictionary"},{"../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../ui/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js":[function(e,t,n){function s(e){void 0===r[e]&&(r[e]=l.device===e||l.platform===e?!0:!1),o.css={addClass:r[e]?e:"not-"+e}}e("./style.less"),e("../browser/animation/easing");var o,i=e("../browser/element"),r=e("../browser/cases"),a=(e("../browser/animation"),e("../browser/events/advanced")),l=e("../browser/ua"),u=(e("../browser/animation/raf"),e("../browser/events/util"),"ios"===l.platform),c="windows"===l.platform,d=["phone","tablet","tv","desktop","ios","android","windows","mac","touch","slow","chromecast"],p=d.length-1;r.iosBrowser=u&&"standalone"in navigator&&!navigator.standalone,r.iosFull=!r.iosBrowser&&u||(u||c)&&!!window.cordova||!1,r.retina=window.devicePixelRatio>1,r.slow=c&&"phone"===l.device||l.noRaf&&l.hasTransition||u&&480===window.screen.height||"tv"===l.device,r["native"]=window.cordova?!0:!1,r.windowsMobile="windows"===l.platform&&"phone"===l.device&&!!window.cordova,r.crawler=!r.tv&&!r["native"],o=t.exports=new i({"x,y":{val:0,clean:!0,translate:!0},node:document.body,w:window.innerWidth,h:window.innerHeight,css:"app"}),o.cases=r;var g=function(){o.blockResize?o.blockResize=!1:(o.w.val=window.innerWidth,o.h.val=window.innerHeight)};if(r.touch&&a.document.addEvent("move",function(e){a._maybescroll||a._setscroll||e.preventDefault()},"app"),"orientation"in window&&window.addEventListener("orientationchange",g),u||window.addEventListener("resize",g),window.location.hash){var h=window.location.hash.split("#")[1],f=h.split(",");for(var v in f){var m=f[v].split("=");l[m[0]]=m[1]}}for("tv"===l.device&&(r.slow=!0);p>=0;)s(d[p--])},{"../browser/animation":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/index.js","../browser/animation/easing":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/easing.js","../browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","../browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","../browser/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","../browser/events/advanced":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/advanced.js","../browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js","../browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","./style.less":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/style.less"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js":[function(e,t,n){var s=e("../../../browser/element");e("../../../value/flags/parent"),e("../../../value/flags/self"),e("../../../value/flags/process"),e("../../../value/flags/util"),e("../../../browser/events"),t.exports=s.inject(e("../../../browser/element/properties/collection"),e("../../../browser/element/properties"),e("../../../browser/element/properties/scrollbar"),e("../../../browser/element/properties/process"),e("../../../value/on"))},{"../../../browser/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","../../../browser/element/properties":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/index.js","../../../browser/element/properties/collection":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/index.js","../../../browser/element/properties/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/process.js","../../../browser/element/properties/scrollbar":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/scrollbar.js","../../../browser/events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js","../../../value/flags/parent":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/parent.js","../../../value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js","../../../value/flags/self":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/self.js","../../../value/flags/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/util.js","../../../value/on":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/on.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/sprite/index.js":[function(e,t,n){function s(){this._spinner&&(this._spinner(),this._spinner=null)}function o(e){"none"===e.val?s.call(this):this._spinner||this.setting("render")}var i=e("../element"),r=e("../../../browser/events/util"),a=new i({"w,h":50,x:{translate:!0,val:0}});a.extend({name:"params",type:!1,set:function(e){this._params=e,this.Class.prototype._params=e}}),a.setSetting({name:"spinner",render:function(){var e=this,t=this._params||{},n=t.start||0,i=t.frames||3,a=t.rows||1,l=t.cols||0,u=t.once,c=n,d=t.steps||a*l-n||19,p=0,g=0;e.display&&!e.display._base!==e||(e.display=e.display&&e.display.val||"block"),e.display.addListener([o,e],!0),e.node.style.backgroundSize=this.w.val*l+"px auto","none"!==e.display.val&&(e._spinner=r.interval(function(){return e.node.style.backgroundPosition=-e.w.val*g+"px "+(a?-e.h.val*p:0)+"px",c++,c===d&&(c=n,u)?void s.call(e):(p=a?~~(c/l):0,void(g=c-p*l))},i))},remove:s}),t.exports=a.Class},{"../../../browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js","../element":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/index.js":[function(e,t,n){var s=(e("vigour-js/base"),e("vigour-js/browser/element")),o=e("vigour-js/value"),r=e("vigour-js/object"),a=new s,l=e("vigour-js/browser/cases");o.flags.$params={set:function(e){this.params=e}},o.flags.$options={set:function(e){this.options=e}},a.extend({loader:{},animation:{},delay:{},done:{},force:{},backFallback:{cache:!1},onTransition:{cache:!1},transition:{cache:!1,set:function(e){var t,n,o,a=e.element&&e.element._val,u=e.params,c=e.options||{},d=c&&c.force,p=this.children,g=this._swElem||p[0],h=a&&a.base,f=p.length,v=this;if(f>1)for(i=f-1;i>=0;i--)n=p[i],n!==g&&n.remove();if(this._loading&&(this._loading[1].removeListener(this._loading[0]),this._loading=void 0),h&&h instanceof s||a===s)if(!d&&this._swElem&&this._swElem instanceof a)this._swElem.set(u);else{if(o=this._direction=e.direction&&e.direction._val,c&&c.loader&&!c.loader.$loaded){if(!this.loader)return void console.error("no loader defined!");var m=new this.loader._val.Class;if(c.loader instanceof r){c.done=function(){t||(t=new a(u)),m._remove&&(c.done=void 0,c.delay=l.tablet?400:200,v._swElem instanceof a?v._swElem.set(u):v.onTransition._val.call(v,t,v._swElem,0,c),c.delay=void 0)};c.loader._path;this._loading=[function(){m._remove=!0,t&&c.done&&c.done()},c.loader],this._loading[1].is("loaded",this._loading[0])}else c.done=function(){t||(t=new a(u)),c.done=void 0,c.delay=200,v._swElem instanceof a?v._swElem.set(u):v.onTransition._val.call(v,t,v._swElem,0,c),c.delay=void 0};c.loader=void 0,this.onTransition._val.call(this,m,g,o,c)}else t=new a(u),c.done=void 0,c.delay=void 0,c.loader=void 0,this.onTransition._val.call(this,t,g,o,c);void 0!==c.animation&&(c.animation=void 0),c.delay&&(c.delay=void 0)}else u?console.error("only params defined!",u):u&&console.error("no params and no element defined!")}}}),a.define({back:function(){this.backFallback._val.call(this)},add:function(e,t){this._swElem=e,s.prototype.add.apply(this,arguments)}}),a.extend({name:"on",set:function(e){},remove:function(){this._loading&&(this._loading[1].removeListener(this._loading[0]),this._loading=null),this._swTimer&&clearTimeout(this._swTimer),this._timer&&clearTimeout(this._timer),this.on.$remove&&this.on.$remove.update()},"new":function(){this.on.$new&&this.on.$new.update()}}),t.exports=(new a.Class).Class},{"vigour-js/base":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/switcher/transitions.js":[function(e,t,n){function s(e,t,n,s,o){var u=o.done,c=o.animation===!1,d=o.delay;n?(i(e,t,n),c?(a(e,n),i(e,t),u&&(d?l(e,function(){o.done&&o.done()},d):u())):d?l(e,function(){r(e,n,o)},d):r(e,n,o)):i(e,t,!1,u)}function o(e,t,n,s,o){var r,d,p=20,g=u.w.val,h=1===s;h?(r=g,d=g/-3):(r=g/-3,d=g),c.windows?(t.x={translate:!0,val:r},n.x={translate:!0,val:0},window.requestAnimationFrame(function(){t.x=0,n.x=d,l(e,function(){a(e,n,o.done)},210)})):(t.x={val:0,animation:{start:r,time:p,delay:1,easing:"outCubic",done:function(){a(e,n,o.done)}}},n.x={val:d,animation:{time:p,delay:2,easing:"outCubic"}}),h?i(e,t):i(e,t,n)}function i(e,t,n,s){t&&e.add(t,n),s&&s()}function r(e,t,n){t.opacity=0,t.node.pointerEvents="none",l(e,function(){a(e,t,n.done)},200)}function a(e,t,n){t&&t.remove(),n&&n()}function l(e,t,n){e._swTimer&&(clearTimeout(e._swTimer),e._swTimer=null),e._swTimer=setTimeout(function(){t.call(e),e._swTimer=null},n)}var u=e("vigour-js/app"),c=e("vigour-js/browser/cases"),d=e("vigour-js/util");n.extend=d.extend(function(e){e.set({onTransition:{defer:function(e){n[this._val]&&(this._val=n[this._val]),e()}}})}),n.slide=function(e,t,n,i){n&&t?o(this,e,t,n,i):s(this,e,t,n,i)},n.fade=function(e,t,n,o){s(this,e,t,n,o)}},{"vigour-js/app":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/tv/index.js":[function(e,t,n){function s(e){var t=e+"Sibling";return function(){if(this._node){var n=this._node[t];if(n&&(n=n.base),n&&n.events&&n.events.$focus&&(!n.display||"none"!==n.display.val))return n;if(n&&n._node){var s="$"+("previous"===e?"prev":e);return n[s].val}}}}var o=e("../../../browser/element"),i=(e("../../../browser/cases"),e("../../../browser/animation"),e("../../../browser/events/advanced")),r=e("../../../browser/ua"),a=(e("../../../browser/animation/raf"),e("../../../util")),l=e("../../../value"),u=(e("../../"),e("../../../browser/network/url")),c="lg"===r.platform&&"tv"===r.device,d=0;u.on(function(){var e=u.string.val.split("/"),t=Number(e[e.length-1]);if(d>t){d=t;var n=i.$focused&&i.$focused.val;n&&n.events&&n.events.back&&n.events.back._val.call(n,{preventDefault:function(){}})}}),document.addEventListener("keyup",function(e){e.preventDefault()}),document.addEventListener("keydown",function(e){var t,n=i.$focused&&i.$focused.val;if(n&&!n._node&&(i.$focused.val=!1),n&&n.events){var s={arrowLeft:[37,4],arrowRight:[39,5],arrowDown:[40,29461],arrowUp:[38,29460],click:[13,29443]};c||(s.back=[8,88,"VK_BACK"]),t=n.events;for(var o in s)if(t[o]&&a.checkArray(s[o],e.keyCode)!==!1)return c&&(cached=u.string.val,u.val=d++),e.preventDefault(),void t[o]._val.call(n,e)}}),i.arrowLeft={val:function(e,t,n){t.call(this,e,n)}},i.arrowRight={val:function(e,t,n){t.call(this,e,n)}},i.arrowUp={val:function(e,t,n){t.call(this,e,n)}},i.arrowDown={val:function(e,t,n){t.call(this,e,n)}},i.back={val:function(e,t,n){t.call(this,e,n)}},a.define(i,"$focused",{value:new l}),n.$focused=i.$focused,i.$focus={val:function(e,t,n){t.call(this,e,n)}},a.define(o,"$focus",function(e,t){if(this.events&&this.events.$focus&&(i.$focused.val&&(i.$focused.val._$focused=null,i.$focused.val._node&&i.$focused.val.events.$focus._val.call(i.$focused.val,!1,!0),i.$focused.val=!1),!t)){i.$focused.val=this;var n=this;n._$focused=!0;var n=i.$focused.val;n&&n.events&&n._node&&n.events.$focus._val.call(n,!0,e)}}),o.base.extend({$prev:function(){},$next:function(){}}),o.base.set({$prev:s("previous"),$next:s("next")})},{"../../":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/index.js","../../../browser/animation":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/index.js","../../../browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","../../../browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","../../../browser/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","../../../browser/events/advanced":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/advanced.js","../../../browser/network/url":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/url.js","../../../browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/id.js":[function(e,t,n){var s=e("../../util");e("../../value/flags/process"),n.extend=s.extend(function(e){e.extend({id:function(t){var n=t.val;n&&this.cloud?this.data=this.cloud.data.get(["users",n]):n||(console.log("base.mockdata"),this.data=e.mockdata)},data:{val:e.mockdata,set:function(e){var t=this;if(t.instances&&t.instances.length&&(t=t.instances[0]),e.from.cloud){if(t.___c!==e.from){t.initialised=null,t.___c=e.from;for(var n in t.on.user)t.on.user[n].call(t,n);t.initialised=!0}}else{if(t.___c===!1)return;t.___c=!1;for(var n in t.on.user)t.on.mock[n].call(t,n);t.initialised=null}}}})})},{"../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/index.js":[function(e,t,n){e("../../value/flags/self"),e("../../value/flags/process"),e("../../value/flags/util");var s=e("../../util"),o=(e("../../value"),e("../../base")),i=(e("../../data"),e("../../object").inject(e("./origin")),e("monotonic-timestamp"),{}),r=e("./mockdata"),a=new r({}),l=o.prototype.extend,u=new o({defaultType:e("./type")});u.define({subscriptions:{get:function(){return i},set:function(e){e&&s.merge(i,e)}},mockdata:{get:function(){return a},set:function(e){e&&a.merge(e)}},on:{value:{mock:{},user:{}}},extend:function(e){e.mock&&(this.mockdata=e.mock);var t=l.apply(this,arguments);return void 0!==e.val&&(this[e.name]=e.val),e.on&&("function"==typeof e.on?e.on.call(this,e.name):this.data&&this.data.cloud?e.on.user&&e.on.user.call(this,e.name):e.on.mock&&e.on.mock.call(this,e.name)),t}}),n.extend=s.extend(e("../cloud"),function(t){var n=t.user=(new u.Class).inject(e("./set"),e("./id"));n.parent=t,n.cases=t.cases,n.cloud=t.cloud})},{"../../base":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js","../../data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js","../../value/flags/self":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/self.js","../../value/flags/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/util.js","../cloud":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/cloud.js","./id":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/id.js","./mockdata":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/mockdata.js","./origin":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/origin.js","./set":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/set.js","./type":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/type.js","monotonic-timestamp":"/Users/shawn/Work/buggin/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/mockdata.js":[function(e,t,n){var s=e("../../util"),o=e("../../data");t.exports=n=o["new"](),s.define(n,"get",function(e,t,n){return this.path(e instanceof Array?e:String(e).split("."),void 0!==t?t:{},!1,!1,!1,!1,!0,!n)})},{"../../data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/multiscreen/cast/chrome/index.js":[function(e,t,n){function s(){var e=this,t=e._base,n=o(e);n&&(t.setReceiver(n),e.removeListener(s))}function o(e){e=i(e);var t;return e.each(function(){var e=this.from;return"chromecast"===e.device.val?(t=e,!0):void 0}),t}function i(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var r,a=e("vigour-js/util/config").chromecast,l=e("vigour-js/browser/cases"),u=e("vigour-js/browser/ua"),c=e("vigour-js/value"),d=e("vigour-js/object"),p=e("vigour-js/data"),g=(p["new"]({merge:!0,mixed:4}),"deviceDidComeOnline"),h="deviceDidGoOffline";if("undefined"==typeof f)var f=window.chrome||{};t.exports=n=window.curn=new c({api:{defer:function(e,t){var s=this,o=l["native"]||l.desktop&&"chrome"===u.browser;if(!o)return!0;var i=t[0];if("error"!==i){if(!o||r)return!0;if(l["native"])setTimeout(function(){n.init(a.id)},0),r=!0,e();else{var c=document.createElement("script");c.onerror=function(){console.error("!!! script.onerror !!!"),s.type="script",s.clearCache(),s.val=t[0]="error",e()};c.src=a.web,c.id="chromecast-script",window.__onGCastApiAvailable=function(o,i){o?(n.init(a.id),r=!0,e()):(s.clearCache(),s.val=t[0]="error",e())},document.getElementsByTagName("head")[0].appendChild(c)}}}},clients:!1,session:!1,apiDefer:function(e,t){var n=this,s=t[0];"connected"===n.session.status?e("success"):s!==!0||e(!0)}}),n.devices=new d({}),n.available=new d({}),n.setReceiver=function(e,t){var o=n.user,i=o.parent&&o.parent.loading;o.candidates.removeListener(s),o.candidates.on(s),i&&(i.val=!0),e.set("loading",!0),n.connect(e,function(n,s){return i&&(i.val=!1),e.set("loading",!1),n?console.error("CHROMECAST setReceiver connect error",n):void(t&&t(s))})},n.available.on(function(){var e,t={},s=n.user;s&&o(s.candidates)||(this.each(function(s){t[s]=!0,n.devices[s]||(e=!0,n.devices.set(this._name,this))}),n.devices.each(function(n){t[n]||(e=!0,this.remove())}))}),n._name="chromecast",n.init=function(e){if(this._init=!0,window.GoogleCast)window.GoogleCast.startScanForDevices(e);else if(f.cast&&f.cast.SessionRequest){var t,s;l["native"]?(s=[],t=function(){var e=f.cast.getRouteListElement().innerHTML;if(e){for(var t=e.split("><"),o=[],i=t.length-1;i>=0;i--){var r=t[i].split('"'),a=r[3];~s.indexOf(a)||n.dispatchEvent(g,{id:a,friendlyName:r[4].split("</li>")[0].substring(1)}),o.push(a)}for(i=s.length-1;i>=0;i--)a=s[i],~o.indexOf(a)||n.dispatchEvent(h,{id:a});s=o}}):t=function(e){e===f.cast.ReceiverAvailability.AVAILABLE,"available"===e?n.dispatchEvent(g):n.dispatchEvent(h)};var o=[f.cast.Capability.VIDEO_OUT,f.cast.Capability.AUDIO_OUT],i=f.cast.timeout.requestSession,r=new f.cast.SessionRequest(e,o,i),a=function(e){n.session=e,n.val=e.sessionId},u=f.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED,c=f.cast.DefaultActionPolicy.CREATE_SESSION,d=new f.cast.ApiConfig(r,a,t,u,c);f.cast.initialize(d,function(){},function(e){console.error("CHROMECAST cast:onError: "+JSON.stringify(e))})}},n.connect=function(e,t){var n=e.castid.val,s=function(e){console.log("CHROMECAST connect success!",e),t&&t(null,e)},o=function(e){console.log("CHROMECAST connect error!",e),t&&t(e)};if(window.GoogleCast)window.GoogleCast.connectToDevice(n,s);else if(l["native"]){try{f.cast._emitConnecting()}catch(i){console.error("CHROMECAST Error in _emitConnecting "+i)}try{cordova.exec(s,o,"Chromecast","selectRoute",[n])}catch(i){console.error("CHROMECAST cordova.exec crash",i)}}else f.cast&&f.cast.requestSession(s,o)},n.dispatchEvent=function(e,t){var s=t?t.id:"unknown",o=s.split(".").join("_").split("/").join(""),i=t&&t.friendlyName?t.friendlyName:s,r={};"unknown"===i&&(i="Chromecast"),"deviceDidComeOnline"===e?(r[o]={title:i,device:"chromecast",cast:"chrome",castid:s},n.available.val=r):"deviceDidGoOffline"===e&&n.available[s]&&(r[s]=null,n.available.val=r)},window.GoogleCast&&(window.GoogleCast.dispatchEvent=function(e,t){n.dispatchEvent(e,t)})},{"vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/multiscreen/cast/index.js":[function(e,t,n){function s(e){e=o(e);var t;return e.each(function(){return t="chromecast"===this.from.device.val}),t}function o(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var i=e("vigour-js/util"),r=e("./chrome");n.extend=i.extend(function(e){r.user=e,e.extend({cast:{type:!1,val:{}}}),e.cast.chrome=r,e.candidates.on(function(){i.disjoin(r.devices,e.candidates,"device"),s(e.candidates)||r.available.each(function(e){r.devices[e]||(didset=!0,r.devices.set(e,this))}),e.devices._val._update()}),r.available.on(function(){i.disjoin(r.devices,e.candidates,"device")}),e.devices._val.$sources.push(r.devices)})},{"./chrome":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/multiscreen/cast/chrome/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/multiscreen/index.js":[function(e,t,n){function s(){this.clients.update()}function o(){var e=this,t=e.data._val,n=t.get("clients"),o=e.clients._val;e.clients=n,n.addListener([s,e],!0),o&&o.removeListener(s,e);var i=e.candidates&&e.candidates._val,r=e.candidates=new _(n,{condition:{device:{$contains:"(desktop)|(tv)|(cast)|(tablet)|(airplay)"},key:{$exists:!0,$ne:this.cloud.clientid}}});r.on(function(){e.candidates.update()}),i&&i.remove();var a=e.siblings&&e.siblings._val,l=e.siblings=new _(n,{condition:{key:{$exists:!0,$ne:this.cloud.clientid}}});l.on(function(){e.siblings.update()}),a&&a.remove()}function i(e){var t=this;S&&(S.removeListener(a,t),S=null),E&&(E.removeListener(l,t),E=null);var n=t.data._val;t.activeClient=n.get("activeClient",{}),t.activeClient.$userOrigin=t.cloud.client.from}function r(){var e=this;E&&(E.removeListener(l,e),E=null);var t=e.data._val,n=t.get("activeClient",{});if(S&&S.removeListener(a,e),S=n,S.addListener([a,e],!0),e.activeClient=n,w.tv){var s=n.from;s&&"activeClient"!==s._name?e.activeClient.update():e.activeClient.$userOrigin=e.cloud.client.from}else w.chromecast?e.activeClient.update():e.activeClient.$userOrigin=e.cloud.client.from;e.hasCandidates.val&&m(e)}function a(e,t,n,s,o){var i=this;e._removed&&(E&&E.removeListener(l,i),E=e._parent,E.addListener([l,i],!0))}function l(e,t,n,s,o,i){var r=this,u=e;u.activeClient&&(E.removeListener(l,r),E=null,S=u.activeClient,S.addListener([a,r],!0),r.activeClient=u.activeClient)}function u(){var e=this;$&&$.removeListener(p,e),O&&O.removeListener(d,e);var t=e.data._val;e.receiverClient=t.get("receiverClient",!1)}function c(){var e=this;$&&($.removeListener(p,e),$=null);var t=e.data._val,n=t.get("receiverClient",{});if(O&&O.removeListener(d,e),O=n,O.addListener([d,e],!0),e.receiverClient=n,w.tv){var s=e.activeClient.from;s&&2===s.__t&&s!==e.cloud.client.from&&!e.hasReceiver.val&&e.setReceiver(e.cloud.client.from)}else w.chromecast&&e.setReceiver(e.cloud.client.from)}function d(e,t,n,s,o){var i=this;e._removed&&($&&$.removeListener(p,i),$=e._parent,$.addListener([p,i],!0))}function p(e,t,n,s,o,i){var r=this,a=e;a.receiverClient&&($.removeListener(p,r),$=null,O=a.receiverClient,O.addListener([d,r],!0),r.receiverClient=a.receiverClient)}function g(){var e=this;f(e)}function h(){var e=this;f(e)}function f(e){var t=e.data._val,n=t.get("receiver",{});e.receiver={volume:n.get("volume",1),media:n.get("media",!1),playing:n.get("playing",!1)}}function v(e,t){for(;t&&4===t.__t&&!t._filter;)t=t._val;if(!t)return console.error("could not determine list to select from");var n;return t.each(function(){var t=this._val;if(!t||t._removed||!t.device)return console.error("bad client","path:",t&&t._path,"client:",t&&t.raw||t);if(t!==e.activeClient.from){var s=t.device.val;if(W.test(s)&&(!t.token||t.token.val===e.token.val))return n=t,C.test(s)?!0:void 0}}),n}function m(e){e.candidates._val.each(function(){var t=this.from;"tv"!==t.device.val||t.token&&t.token.val||(t.set("token",e.token.val),e.hasReceiver.val||e.setReceiver(t))})}var b=e("vigour-js/util"),w=(e("vigour-js/value"),e("vigour-js/browser/cases")),_=e("vigour-js/data").inject(e("vigour-js/data/selection")),y=e("vigour-js/object/compound"),j=e("vigour-js/browser/events"),k=e("vigour-js/browser/ua"),x=e("vigour-js/browser/animation/raf"),U=e("vigour-js/object");U.inject(e("vigour-js/value/length"));var W=/(desktop)|(tv)|(cast)|(tablet)|(airplay)/i;w.$isCandidate=W.test(k.device);var C=/(tv)|(cast)|(airplay)/i;e("vigour-js/value/flags/process"),n.extend=b.extend(function(t){var n=t.parent.inject(e("../../content")).content;if(n.on("self",function(){t.token.val&&t.receiver.media.val&&t.receiver.media.from!==t.receiver.media&&t.receiver.media.from!==n.get(t.receiver.media.from._contentPath)&&(t.receiver.media.$userOrigin=n.get(t.receiver.media.from._contentPath))}),t.extend({receiver:{mock:{receiver:{volume:1,media:!1,playing:!1}},subscription:{receiver:{volume:!0,playing:!0,media:{$:!0}}},on:{mock:g,user:h}},clients:{subscription:{clients:{$:{$:!0}}},on:{mock:o,user:o}},candidates:{val:{}},siblings:{val:{}},receiverClient:{val:{},on:{mock:u,user:c},subscription:{receiverClient:{$:!0}}},activeClient:{val:{},mock:{activeClient:!0},subscription:{activeClient:{$:!0}},on:{mock:i,user:r}}}),t.extend({devices:{val:new y(t.siblings)}}),t.extend({hasReceiver:{val:{val:t.receiverClient,transform:function(e,n){var s=t.receiverClient.from;return s&&!s._removed&&s.cloud&&"clients"===s._path[0]||0}}},isReceiver:{val:{defer:function(e,n){var s=n[2]||this._updateOrigin;if(!s||!s._prop&&"receiverClient"!==s._name)return!0;var o=n[1];"cleanup"!==o&&(t._handleOldIsReceiver&&(!t._wasReceiver||t.hasReceiver.val||t.isActive.val||t.setReceiver(t.cloud.client.from),t._handleOldIsReceiver=null),this.clearCache(),t._wasReceiver=this.val),e()},val:t.receiverClient,transform:function(e,n){var s=t.receiverClient.from;return s&&!s._removed&&s.cloud&&s===t.cloud.client.from||0}}},hasCandidates:{val:{val:t.candidates.$length,$convertType:"boolean"}},hasDevices:{val:{val:t.devices.$length,$convertType:"boolean"}},isActive:{val:{defer:function(e,n){var s=n[2]||this._updateOrigin;(!s||!s._prop&&"activeClient"!==s._name)&&e(!0);var o=n[1];o&&"cleanup"!==o&&(t._handleOldIsActive&&(!t._wasActive||t.activeClient.$userOrigin&&t.activeClient.$userOrigin._val||(t.activeClient.$userOrigin=t.cloud.client._val),
t._handleOldIsActive=null),this.clearCache(),t._wasActive=this.val),e()},val:t.activeClient,transform:function(e,n){var s=t.activeClient.from;return s&&s.val===!0||s===t.cloud.client.from||0}}},setReceiver:{type:!1,val:function(e){var t=this;if(e=e.from){var n=e.cast&&e.cast.val;n?t.cast[n].setReceiver(e):(e.set("token",t.token.val),t.receiverClient.$userOrigin=e)}}}}),!w.chromecast){var s=w.tv?"keydown":"down";j.document.addEvent(s,function(){!t.cloud.client._val||w.$isFullscreen&&w.$isFullscreen.val||(t.activeClient.$userOrigin=t.cloud.client.from)})}t.cloud.on("welcome",function(){t.cloud._status>2&&(t._handleOldIsActive=!0,t._handleOldIsReceiver=!0,t.cloud.data.once(function(){t.isActive.update(),t.isReceiver.update()}))}),t.isActive.on(!0,function(){var e=t.isReceiver.val;if(t.hasCandidates.val){if(e||!t.hasReceiver.val){var n=v(t,t.candidates);n?x(function(){t.setReceiver(n)}):e&&(t.receiverClient.$userOrigin=null)}}else e&&(t.receiverClient.$userOrigin=null)}),w.$isCandidate&&t.hasReceiver.on(0,function(e,n,s){n===t.cloud.stamp&&(t.isActive.val||x(function(){var e=v(t,t.clients);e===t.cloud.client.from&&t.setReceiver(e)}))}),t.iplogin.val||t.candidates.on(function(e,n,s,o,i){t.hasCandidates.val&&t.isActive.val&&t.initialised&&m(t)}),w.$isActive=t.isActive,w.$hasDevices=t.hasDevices,w.$hasReceiver=t.hasReceiver,w.$isReceiver=t.isReceiver});var S,E,$,O},{"../../content":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/content.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/browser/events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js","vigour-js/browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/data/selection":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/selection.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/object/compound":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/compound.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","vigour-js/value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js","vigour-js/value/length":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/length.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/navigation.js":[function(e,t,n){var s=e("vigour-js/util"),o=e("vigour-js/object");e("./mockdata");e("vigour-js/value/flags/process"),n.extend=s.extend(function(t){function n(e){e._lastupdate&&e.navigation.last&&e.navigation.last.from!==e.navigation.last&&(e.navigation.last.from.removeListener(e._lastupdate),e._lastupdate=null)}function s(e,t){t[1]&&"l"===t[1][0]&&this._name===this._parent.last.from.key.val?(this.clearCache(),e()):e(!0)}var i=t.parent.inject(e("../content")).content;i.on("self",function(){var e=t.navigation,n=this,s=e.media.from,o=e.season.from,i=e.show.from;s._contentPath&&(e.media.$userOrigin.val=n.from.get(s._contentPath)),o._contentPath&&(e.season.$userOrigin.val=n.from.get(o._contentPath)),i._contentPath&&(e.show.$userOrigin.val=n.from.get(i._contentPath))}),t.define({updateNavigation:function(e){return this.navigation.last&&this.navigation.last.$userOrigin&&(e=e||this.navigation.last.$userOrigin.get("key").val,"string"==typeof e)?void this.navigation[e]._update(this.navigation[e]._val._val,"l"+Math.floor(9999*Math.random())):void(this.navigation.page.$userOrigin="discover")}}),t.extend({navigation:{mock:{navigation:{show:!1,page:!1,media:!1,season:!1,last:{key:"page",time:0}}},subscription:{navigation:{show:!0,media:!0,season:!0,page:!0,last:{key:!0,time:!0}}},val:{page:{defer:s},show:{defer:s,val:!1},season:{defer:s,val:!1},media:{defer:s,val:!1}},on:{user:function(e){n(this),this.navigation={last:this.data._val.get([e,"last"])},this.__first=!0;var t=this.navigation,s=this.data.$userOrigin;this._lastupdate=function(e,n,s){this.key&&t[this.key.val]&&t[this.key.val].$userOrigin._update(void 0,"l"+n)},t.last.from.on(this._lastupdate),this.navigation={page:s.get([e,"page"],"discover"),show:s.get([e,"show"]),season:s.get([e,"season"]),media:s.get([e,"media"])},t.last.from.key?t.last.from._update(void 0,o.stamp()):t.last.from.key||(t.page.$userOrigin="discover")},mock:function(){n(this);var e=this.navigation,t=this.mockdata.navigation,s={page:t.page,show:t.show,season:t.season,media:t.media};this.navigation={last:t.last},this.__first&&(t.page.val="discover"),this._lastupdate=function(t,n,s){e[this.key.val]&&e[this.key.val].$userOrigin._update(void 0,"l"+n)},e.last.from.on(this._lastupdate),this.navigation=s}}}})})},{"../content":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/content.js","./mockdata":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/mockdata.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/origin.js":[function(e,t,n){var s=e("../../util"),o=e("./mockdata"),i=e("monotonic-timestamp");n.extend=s.extend(function(e){var t=e.set,n=function(t){for(var n,s,i=t;i&&!i._removed&&i instanceof e;){if(i._parent&&i._parent._prop&&"navigation"===i._parent._prop.name&&(n=i),i.cloud&&"users"===i._path[0]||i instanceof o)return[i,n];s=i,i=i._val}var r=s&&!s._removed&&s!==t?s:!1;return[r,n]};s.define(e,"$userOrigin",{set:function(e){var s=n(this),o=s[0],r=s[1];if(!o){var a=this._prop&&this._prop.name;if(a){var l=this._caller,u=l.data._val;o=u.get(a,{}),this.val=o}}if(!o)throw new Error("cannot find correct $userOrigin for "+(this._name||this._prop&&"propety "+this._prop.name));t.call(o,e),r&&r._name&&(r._parent.last.from.val={time:i(),key:r._name})},get:function(){return n(this)[0]}})})},{"../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./mockdata":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/mockdata.js","monotonic-timestamp":"/Users/shawn/Work/buggin/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/set.js":[function(e,t,n){var s=e("../../util"),o=(e("./"),e("../../object"));n.extend=s.extend(function(e){function t(e){this[e]=this.data.$userOrigin.get(e,this[e]._prop.$default)}function n(e){this[e]=this.mockdata[e]}e.define({_set:function(e,s){if(this[s]instanceof o&&(this[s].val=e[s]),"function"==typeof this[s])e[s]instanceof Array?this[s].apply(this,e[s]):this[s](e[s]);else if(this.isProperty(s,e))this[s]=e[s];else if(this[s])this[s]=e[s];else{var i={};i[s]=e[s];var r={};r[s]=!0,this.extend({name:s,mock:i,$default:e[s],subscription:r,on:{mock:n,user:t}})}}})})},{"../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/token.js":[function(e,t,n){var s=e("../../util"),o=e("../../value"),i=e("../../browser/cases");e("../../value/flags/process"),n.extend=s.extend(function(e){e.define({updateId:function(e){this.id=e instanceof Array?e[e.length-1]:e},authenticate:function(e,t,n,s){var o=this,i=o.cloud;if(i.params.fastLogin&&"undefined"!=typeof localStorage){var r=localStorage.getItem("userId");r&&(t.id=r)}i.authenticate(t,function(t){if(t.error&&"undefined"!=typeof localStorage&&localStorage.removeItem("userId"),e.clearCache(),n!==e.val,t.error||!e.val)e.val=!1,o.id=!1,s(),t.error?console.error("authenticate error:",t.error):o.iplogin&&o.iplogin.val||(o.cloud.emit("logout",t),"undefined"!=typeof localStorage&&localStorage.removeItem("userId"));else{if(e.val!==!0&&o.updateId(t),i.params.fastLogin&&"undefined"!=typeof localStorage){var r;r=t instanceof Array?t[t.length-1]:t,localStorage.setItem("userId",r)}o.iplogin&&o.iplogin.val,s()}})}}),e.extend({iplogin:{val:i.tv||i.chromecast},token:{subscription:{token:!0},val:{transform:function(e,t){return t instanceof Object?!1:t},defer:function(e,t,n){if(t[0]&&t[0].defer)return!0;var s=this,o=s._caller;o.cloud.connected.is(!0,function(){var t=s.val,n=o.id&&o.id.val,i=o.iplogin&&o.iplogin.val;if(s.clearCache(),n&&!i){o.cloud.logout(n);"undefined"!=typeof localStorage&&localStorage.removeItem("userId")}if(t){var r=o.cloud.api.get("auth");if(!r)throw new Error("could not determine auth url (got: "+r+")");var a={url:o.cloud.api.auth.val,subs:o.subscriptions,token:t},l=o.__authenticated__;if(i)if(t===!0&&delete a.token,a.tv=!0,l){var u,c=o.cloud.data.get("users");c.each(function(e){var t=this;t.token&&t.token.val===s.val?u=t._name:(t.receiverClient&&t.receiverClient.from===o.cloud.client.from&&(t.receiverClient.$userOrigin=null),t.activeClient&&t.activeClient.from===o.cloud.client.from&&(t.activeClient.$userOrigin=null))}),u?o.id=u:o.id=!1,e()}else o._authrequest=a,o.authenticate(s,a,t,e),o.__authenticated__=!0;else o._authrequest=a,o.authenticate(s,a,t,e)}else o.id=!1,e()})}}},localStorageToken:{val:{defer:function(e,t){var n=this._caller;if(n._readLocalStorage||"string"!=typeof this.val)e(!0);else{n._readLocalStorage=this.val;var s=localStorage.getItem(n._readLocalStorage);s&&"true"!==s&&(n.token=s),n.token.on(function(){var e=this.val;"string"==typeof e?localStorage.setItem(n._readLocalStorage,e):localStorage.removeItem(n._readLocalStorage)}),e()}}}}}),e.cases.$isLoggedIn=new o({val:e.token,transform:function(e,t){return t===!0?0:void 0}});var t=e.cloud.client;t.on(function(n,s,o){if(origin=o||this._updateOrigin,s===e.cloud.stamp){var i=t.from;i.token&&(e.token.val=e._authrequest.token=i.token.val)}}),e.token._name="token"})},{"../../browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/type.js":[function(e,t,n){var s=(e("../../base"),e("../../value")),o=e("../../object").set;e("../../util");t.exports={type:s,create:function(e,t,n,i){var r=new s;return r._base=this,r._caller=r._base,r._prop=n,o.call(r,e,!1,!1,!0),this._class&&(this._class.prototype._[n.name]=r),n&&(n._vset||(n.mock&&(this.mockdata=n.mock),n.subscription&&(this.subscriptions=n.subscription),n.on&&("function"==typeof n.on?(this.on.mock[n.name]=n.on,this.on.user[n.name]=n.on):(n.on.mock&&!this.on.mock[n.name]&&(this.on.mock[n.name]=n.on.mock),n.on.user&&!this.on.user[n.name]&&(this.on.user[n.name]=n.on.user))),n._vset=function(e,t,s,o){var i=this._caller||this._base||this;n.set&&n.set.call(i,this,e,t,s,o)}),i||r._update(e)),r},set:function(e,t,n){return this._caller=this,e},get:function(e,t){return e&&(e._caller=this),t.get?t.get.call(this,e):e}}},{"../../base":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js","../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/url.js":[function(e,t,n){var s=e("vigour-js/util");e("vigour-js/value/flags/process"),n.extend=s.extend(function(e){e.extend({url:function(e){if(!e.urlset&&4===e.__t){e.urlset=!0;var t=this;t.navigation.page.on(function(n){e.from.val=t.navigation.page.val}),t.navigation.show.on(function(n){e.from.val=t.$parse(this).url}),t.navigation.media.on(function(){e.from.val=t.$parse(this).url}),e.from.on(function(){t.$execUrl()})}}}),e.define({$execUrl:function(e){var t,n,s,o,i,r=this,a=r.url.from.string.val,l=r.navigation,u=r.parent.content;a&&"$tv"!==a||(a=e),~a.indexOf("/")?0===a.indexOf("shows")?(t=a.split("/"),n=Number(t[1].split("-")[0]),t[2]&&(s=Number(t[2])),t[3]&&(o=Number(t[3].split("-")[0])),n&&(n=u.from.get(["shows",n]),l.show.$userOrigin=n),o&&(o=u.from.get(l.show.from._path.slice(3).concat(["seasons",String(s-1),"episodes",String(o-1)])),l.media.$userOrigin=o)):0===a.indexOf("channels")&&(t=a.split("/"),i=Number(t[1].split("-")[0]),l.page.$userOrigin="channels"):l.page.$userOrigin=a},$parse:function(e){var t=(this.url.val,e.from._parent&&e.from._parent._name),n={};return e.from&&(n.title=e.from.get("title",!1).val,"episodes"===t&&(n.season=Number(e.from._parent._parent._name)+1,n.media=Number(e.from._name)+1,n.show=e.from._parent._parent._parent._parent),t&&this.urlMap[t]&&(n.url=this.urlMap[t](e,n))),n},urlMap:{value:{episodes:function(e,t){var n=t.title,s=this.shows(t.show)+"/"+t.season+"/"+t.media;return n&&(s+="-"+n),s&&s.replace(/ /g,"+").replace("?","")},shows:function(e,t){var n=t?t.title:e.get("title",!1).val,s=e.from._name,o="shows/"+s;return n&&(o+="-"+n),o&&o.replace(/ /g,"+").replace("?","")}}}})})},{"vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/usage.js":[function(e,t,n){function s(e){e.watched.from.each(function(){var t=this.media&&this.media.from;if(t){var n=e.parent.content.from._path.concat(t._contentPath),s=t._path;i.compareArrays(s,n)||(console.log("resolve",s,n),this.media.val=e.parent.content.get(n))}})}function o(e,t){var n=e._parent._val;return n&&n.$length.val>0?!0:0}var i=e("vigour-js/util"),r=(e("vigour-js/object"),e("./mockdata"),e("vigour-js/browser/cases")),a=e("vigour-js/data").inject(e("vigour-js/data/selection"));e("vigour-js/value/flags/process"),n.extend=i.extend(function(t){var n=t.parent.inject(e("../content")).content;t.extend({usage:{mock:{usage:{}},subscription:{usage:{shows:{$:{media:{$:!0},favourite:!0,timestamp:!0}}}},on:{mock:function(){this.usage=this.mockdata.usage},user:function(){this.usage=this.data.from.get("usage",{})}}},watched:{on:{mock:function(){this.__watched&&(this.__watched.remove(),this.__watched=null),this.watched&&this.watched.$empty(),this.watched={}},user:function(){var e=this;this.__watched&&(this.__watched.remove(),this.__watched=null);var t=this.__watched=new a(e.usage.from.get("shows"),{condition:{media:{title:{$exists:!0}}}});e.watched={},t.on(function(){var s={};t.each(function(t){var o=n.get(this._path.slice(-2)),r={};i.path(r,o._path,{img:!0,title:!0});var a=e.parent.cloud;a.subscribe(r),e.watched.set(this._name,{show:o,media:this.media.from}),e.watched[this._name].once("remove",function(){a.unsubscribe(r)}),s[this._name]=!0}),e.watched.each(function(t){s[t]||e.watched&&this.remove()}),s=!1,e.watched.update()}),t._update()}}},favourites:{on:{mock:function(){this.__favourites&&(this.__favourites.remove(),this.__favourites=null),this.favourites&&this.favourites.$empty(),this.favourites={}},user:function(){var e=this;e.__favourites&&(e.__favourites.remove(),e.__favourites=null),this.favourites.$empty();var t=e.__favourites=new a(e.usage.from.get("shows"),{condition:{favourite:!0}});e.favourites={},t.on(function(){var s={};t.each(function(t){var o=n.get(this._path.slice(-2));e.favourites.set(this._name,o),s[this._name]=!0}),e.favourites.each(function(e){s[e]||this.remove()}),s=!1,e.favourites.update()}),t._update()}}}}),t.extend({hasWatched:{val:{val:t.watched,transform:o}},hasFavourites:{val:{val:t.favourites,transform:o}}});n._val;n.on("self",function(){t.token.val?(s(t),t.favourites._prop.on.user.call(t),t.watched._prop.on.user.call(t)):(s(t),t.favourites._prop.on.mock.call(t),t.watched._prop.on.user.call(t))}),r.$hasFavourites=t.hasFavourites,r.$hasWatched=t.hasWatched})},{"../content":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/content.js","./mockdata":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/user/mockdata.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","vigour-js/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","vigour-js/data/selection":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/selection.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/app/values.js":[function(e,t,n){var s=e("../util/config"),o=s.languages,i=e("../util"),r=e("../value"),a=e("../browser/network/url"),l=e("../browser/ua");e("../value/flags/process"),n.extend=i.extend(function(e){var t=e.cases||(e.cases=equire("../browser/cases"));e.initialised=new r(!1),e.overlay=new r(!1),e.focusState=new r("menu"),e.region=new r({init:e.initialised}),e.url="tv"===l.device&&"lg"===l.platform?new r({defer:function(){},params:{},string:""}):a,e.ready=new r,e.menu=new r({init:e.ready}),e.network=new r,e.loading=new r({init:e.ready,defer:function(e,t){var n=this.updatePath.join(".");t[0]===!1&&(n&&n===this.id||!this.id)?(this.val=t[0],this.id=!1):t[0]===!0&&(this.id=n,this.val=!0),e()}});var n=e.guessLanguage=function(){var t=window.navigator.userLanguage||window.navigator.language,n=t&&t[1]?t:e.region.val;return n?(n=n.slice(0,2).toLowerCase(),o&&i.checkArray(o,n)===!1&&(n="en"),n):"en"};e.language=new r({transform:function(e,t){return t&&"string"==typeof t||(t=n()),t?t.slice(0,2).toLowerCase():!1},init:e.initialised}),e.fullscreen=new r({force:!0}),e.loader=new r,e.volume=new r({val:1,transform:function(e,t){return isNaN(t)?1:t}}),e.popup=new r({init:e.ready}),e.state=new r({init:e.ready}),e.notification=new r({init:e.ready,force:!0}),e.playing=new r({init:e.ready,val:!1}),e.restrictPlayback=new r,e.wifiOnly=new r(localStorage?{val:localStorage.getItem("wifiOnly")||!1,defer:function(e){this._val?localStorage.setItem("wifiOnly",!0):localStorage.removeItem("wifiOnly"),e()}}:!1),e.restrictPlayback.val={val:e.wifiOnly,transform:function(e,n){return n&&t["native"]&&"wifi"!==api.network.val?!0:!1}},t.$playing=e.playing,t.$storeAvailable=new r(t["native"]&&(t.ios||t.android||t.windowsMobile))})},{"../browser/network/url":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/url.js","../browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js":[function(e,t,n){var s=e("../"),o=e("../util"),i=e("../util/inject"),r=s.Base=t.exports=n=function(e){this._from=this.constructor,e&&this.set(e)};n.settings=e("./settings");var a=n.set=function(e,t,n){for(var s in e)if(~s.indexOf(",")){for(var i=s.split(","),r={},l=0,u=i.length;u>l;l++)r[i[l]]=o.clone(e[s]);if(n){delete e[s];for(var c in r)e[c]=r[c]}else a.call(this,r,t,n)}else s=o.dotField(e,s),this._set&&!n?this._set.call(this,e,s,t):this[s]=e[s];return n?e:this};o.define(r,"isProperty",function(e,t){var n=this,s=!(void 0===n._[e]&&!o.lookup.call(n,e)&&"function"!=typeof n[e]);return s},"defaultType",!1,"extensions",!1,"define",function(e){for(var t in e)o.define(this,t,e[t]),o.define(this.Class,t,e[t])},"extend",function(e){var t,s=o.arg(arguments),i=s.length;if(i>1)for(t=0;i>t;this.extend(s[t++]));else if(e.name)if(e===!0&&alert(),e.def||0===e.def||(e.def=!1),this.Class.prototype._settings&&(n.settings.parse.call(this,e),e._settings&&n.settings.create.call(this,e)),e.type===!1||!e.type&&!this.defaultType)o.define(this.Class,e.name,e);else{e.type||(e.type=this.defaultType);var r=function(t){return e.type.get?e.type.get.call(this,t,e):t},a=function(t){var n=this[e.name];if(null!==n)return n===e.def?e.type.create.call(this,t,n,e):(t=e.type.set.call(this,t,n,e),void(null!==t&&(n.val=t)))};o.define(this,e.name,e.def,a,r,!0),o.define(this.Class,e.name,e.def,a,r)}else for(t in e)"function"==typeof e[t]?this.extend({name:t,set:e[t]}):(e[t].name=t,this.extend(e[t]))},"remove",function(e,t,n){if(this._from){if(this.setting("remove",[n]),!t){var o=this._from.base.instances;if(o){var i=0;for(o.length;o[i]!==this||!o.splice(i,1);i++);}}for(var r in this.__)this.__[r]instanceof s.Object?(this.__[r].remove(!1,!1,!1,!1,!1,!0),this.__[r]=null):this.__[r]=null;if(this.__=null,e&&this.instances)for(a=this.instances.length-1;a>=0;this.instances[a--].remove(!0,!0));for(var a in this)this[a]=null;this._settings=null,this._=null,delete this._settings,delete this._,delete this.__}},"set",a,"get",function(e,t){return o.get(this,e,t)},"inject",i,"eachInstance",function(e,t,n,s){var o=this.instances;if(o)for(var i,r=0,a=o.length;a>r;r++)if(i=o[r],!i||t&&i.__&&i.__[t])i||console.error("\n\n\n\ninstance in base gone?",r,o);else{if(e.call(i,n,s))return!0;if(i.eachInstance(e,t,n))return!0}},"Class",{get:function(){if(!this._class){this.instances=[],this._class=function(e,t,n){if(!t){var s=this._from.base;s.instances.push(this),this.setting&&this.setting("new",[s,n]),e&&this.set(e)}},this._class.base=this,this._class.prototype=new this._from(!1,!0),this._class.prototype.__=null,o.setstore.call(this);var e,t=this._class.prototype._={};for(e in this.__)t[e]=this.__[e];for(e in this._)void 0===t[e]&&(t[e]=this._[e]);this._class.prototype._from=this._class,this._class.inject=i}return this._class}})},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../util/inject":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/inject.js","./settings":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/settings.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/base/settings.js":[function(e,t,n){var s=e("./"),o=e("../util");o.define(s,"_settings"),s.prototype._._settings={};var i=function(e,t,n){var s,r,a,l=e._settings,u=this,c=u._._settings;if(o.setstore.call(u),!u.__._settings){u.__._settings={};for(var d in c)u._settings[d]=c[d]}a=u.__._settings;for(r in l)if(s=l[r],t&&a[s][e.name]||!t&&!a[s][e.name]||n){if(a[s]===c[s]){a[s]={};for(var p in c[s])a[s][p]=c[s][p]}t?(this.eachInstance(function(){this[e.name]!==u[e.name]?this._setting!==a&&this._settings[s]===a[s]&&i.call(this,a[s][e.name],!1,!0):this._setting!==a&&this._settings[s]!==a[s]&&this.removeSetting(e.name,s)}),a[s][e.name]=null,delete a[s][e.name],o.empty(a[s])&&(a[s]=!0)):(a[s]===!0&&(a[s]={}),a[s][e.name]=e)}};n.create=function(e){e._set=e.set,e.set=function(t,n){i.call(this,e),e._set.apply(this,arguments)}},n.parse=function(e,t){t||(t=this._settings);for(var n in t)e[n]&&(e._settings||(e._settings=[]),e._settings.push(n))},n.add=function(e,t){if(e instanceof Array)for(var n in e)t?this.add(e[n],t):this.addSetting(e[n],!1);else if(t)t.prototype._settings[e]=!0;else{o.setstore.call(this),this.__._settings||(this.__._settings={});for(var s in this._._settings)this._settings[s]=this._._settings[s];this._settings[e]=!0}},o.define(s,"addSetting",function(e){n.add.call(this,e),this._class&&(this._class.prototype._._settings=this._settings)},"setSetting",function(e){n.parse.call(this,e),i.call(this,e)},"removeSetting",function(e,t){t instanceof Array||(t=[t]);for(var n,s=t.length-1,o=this._settings;s>=0;s--)if(o&&o[t[s]]&&o[t[s]][e]){n=!0;break}n&&i.call(this,{name:e,_settings:t},!0)},"setting",function(e,t){var n=this._settings;if(n&&n[e]&&n[e]!==!0)for(var s in n[e])n[e][s][e].apply(this,t)}),n.add(["new","remove"],s)},{"../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/easing.js":[function(e,t,n){var s=e("./");s.easing=n,n.inCubic=function(e,t,n,s){return n*(e/=s)*e*e+t},n.outCubic=function(e,t,n,s){return n*((e=e/s-1)*e*e+1)+t},n.outBack=function(e,t,n,s,o){var o=1.70158;return n*((e=e/s-1)*e*((o+1)*e+o)+1)+t}},{"./":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/frame.js":[function(e,t,n){var s=e("../../value"),o=new s(1),i=e("../../util"),r=function(){n.rafId=window.requestAnimationFrame(r),o.val++};o.done=new s(!0),i.define(o,"addListener",function(e,t,n){this._listeners||(this.done.val=!1,r()),s.prototype.addListener.call(this,e,t,n)},"removeListener",function(e,t,o){var i=this;s.prototype.removeListener.call(i,e,t,o),this._listeners||(window.cancelAnimationFrame(n.rafId),this.val=1,this.done.val=!0)}),t.exports=o},{"../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/index.js":[function(e,t,n){function s(e){this._p=!0,this.val=e,this._p=!1}var o=(e("../element").inject(e("../element/properties")),e("../../object")),i=(e("../../util"),e("../../value/flags/util")),r=e("../../value/operators"),a=e("./frame"),l=function(e,t,n,s){return n*e/s+t};r._a=function(e,t){return t},r._a.order=2,i.animation={set:function(e){var t=this,i=t.checkParent("_prop");if(e){t._val||(t.val=0);var r,u,c=i._prop.name,d=i._caller,p=e.noListener,g=t._path,h=c.concat(g.join("")),f=e.skip,v=e.easing&&n.easing[e.easing]||e.easing||l;if(i._animListen||(i._animListen=function(e){var t=this[c];if(t)t.update(this,!0);else{var n=a._listeners&&a._listeners.length;console.log("_animListen setting",a._listeners&&a._listeners.length),a.removeListener(void 0,this),console.log(">> _animListen setting",a._listeners&&a._listeners.length),n&&n===(a._listeners&&a._listeners.length)&&console.error("this >>",this)}}),d.setSetting({name:"animation",remove:function(){var e=a._listeners&&a._listeners.length;if(a.removeListener(void 0,this),a._listeners&&e&&e===(a._listeners&&a._listeners.length))for(var t in a._listeners)a._listeners[t]instanceof Array&&(a._listeners[t][1]===this,a._listeners[t][1])}}),i.preventSet=s,i.set("translate",!0),t.set("_a",{time:e.time||60,val:function(s,l,d){var g,m=this,b=i,w=m[c];if(m._a||(m._a={}),!m._a[h]&&(u=void 0===e.start?m.rendered&&void 0!==t.__lval?t.__lval:l:e.start instanceof o?e.start.val:e.start,m._a[h]={_start:u,_end:u,_current:u,_count:0},!m.rendered))return u;if(m.rendered){if(f)return m._a[h]._current=l,f=!1,l;if(g=m._a[h],w._p||n.prevent)g._frame=0,a.removeListener(b._animListen,this,!0),1!==w._p&&(g._current=g._end=l,e.complete&&(p=e.complete.call(m,l)),e.done&&setTimeout(function(){e.done.call(m,l)},0),e.once&&setTimeout(function(){e.once&&e.once.call(m,l),e.once=null},0));else if(g._frame!==a.val){if(g._frame||void 0!==l&&g._current!==l){if(g._end!==l&&(e.init&&e.init.call(m,g._current),p||a.addListener([b._animListen,this,c],function(e,t){for(var n in t)if(t[n].pop&&t[n].pop&&t[n][1]===m&&t[n][2]===c)return!1;return!0}),g._start=g._current,g._end=l,g._count=0,r=~~s.time.val),g._frame=a.val,e.delay)return e.delay--,g._start;var _=++g._count;g._current=v.call(m,_,g._start,g._end-g._start,r||(r=~~s.time.val)),e[_]&&e[_].call(this,g._current,l)}g._count===r&&(g._current=l,g._frame=0,g._count=0,e.complete&&(p=e.complete.call(m,l)),e.done&&setTimeout(function(){e.done.call(m,l)},0),e.once&&setTimeout(function(){e.once&&e.once.call(m,l),e.once=null},0),p||a.removeListener(b._animListen,this,!0))}return g._current}}}),i._skip=!0,t._skip=!0,void 0!==e.start){var m=this._caller;m||(m=this.checkParent("_prop")._caller),m.setRender(c,function(e){this.update(c)})}}else t.remove("_a"),t._skip=void 0,i._skip=void 0,_remove(i)}}},{"../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value/flags/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/util.js","../../value/operators":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/operators.js","../element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","../element/properties":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/index.js","./frame":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/frame.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js":[function(e,t,n){var s=e("../ua"),o="equestAnimationFrame",i=e("../../util");lastFrame=0,i.define(s,"hasTransition",{get:function(){if(!s._hasTransition){var e=document.body||document.documentElement,t=e.style,n="ransition";s._hasTransition="string"==typeof t["t"+n]||"string"==typeof t[s.prefix+"T"+n]}return s._hasTransition}}),o="r"+o,window[o]||(s.noRaf=!0,window[o]=function(e){return setTimeout(e,20)},window.cancelAnimationFrame=function(e){clearTimeout(e)}),t.exports=n=window[o],n.timer=function(e,t,s){n(--t?function(){s&&e(),n.timer(e,t,s)}:e)},n.repeat=function(e,t){n.timer(e,t,!0)}},{"../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/base.js":[function(e,t,n){var s=e("./"),o=(e("../element"),e("../element/set")),i=e("../../base"),r=e("../../util"),a=function(e,t,n,s){n||(e.css||(e.css=""),e.css.set(s?"removeClass":"addClass",t),e.css.update(e),e.eachInstance(function(){console.error("\n\n\ninstance! set css!!!!!",t,e.node),this.css.set(s?"removeClass":"addClass",t),this.css.update(this)}))},l=s.methods;o.remove=function(e,t,n,s){if(t&&t.__remove__)if(this[e]instanceof i)s[e]=!1;else{if(!r.lookup.call(this,e))return delete t[e],!0;delete t.__remove__}},o.cases=l.reader(function(e,t,n,o){var u,c,d,p,g,h=this,f=function(e){e=i.set(e,!1,!0);for(var t in e)r.isObj(e[t])&&(e[t]=f(e[t]));return e};return t=f(t),n?(h._cases||(h._cases={}),null===t?(h._cases[e].method&&s[e].removeListener(h._cases[e].method),s[e].val&&(h.css={removeClass:e},h.eachInstance(function(){this.css={removeClass:e}})),delete h._cases[e]):(c=l.original(h,!0,t,h._cases,!0,e),h._cases[e]={val:t,orig:c[0],nested:c[1]},h._cases[e].method||(u=h._cases[e].method=function(){t&&(d=l.merge(!0,e,t,h._cases),p=d[0],g=d[1],delete p.val,delete g.val,s[e].val?(a(h,e,o),h.set(p,!0)):(a(h,e,o,!0),h.set(g,!0)))},s[e].addListener(u),h.setSetting({name:"_c"+e,remove:function(){this===h&&(s[e].removeListener(u),this._cases[e].method=null)}})),s[e].val&&(a(h,e,o),h.set(t,!0)))):(a(h,e,o),h.set(t)),!0})},{"../../base":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","../element/set":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/set.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js":[function(e,t,n){var s=e("../../object"),o=e("../../util"),i=e("../element"),r=e("../../value"),a=e("../../value/flags");o.define(n,"methods",{});var l=o.isObj,u=function(e,t,n){var s,o,i,r,a;if(n){s={};for(i in e)s[i]=!0}for(o in t)(!n||s[o])&&(r=e[o],a=t[o],r instanceof Object?(r.__remove__&&a&&!a.__remove__&&delete r.__remove__,a instanceof Object||(t[o]={val:a}),u(r,a,n)):(e[o]=a,r="burn"))},c=function(e,t,o,r,u,d,p,g,h){
g||(h=e,g=[]);var f,v,m;if(u instanceof s&&!d);else if(u instanceof Object)for(f in u)m=u[f],n[f]?(v=n[f],v instanceof s&&(d&&i.set.lookup.call(h,g[g.length-1])||(t[f]=!0)),l(m)?(g.push(f),c(e,t,o,r,m,d,p,g,h)):r.val=e&&(void 0!==e._val?e._val:void 0),r[f]=null):l(m)?(r[f]||(r[f]=e&&e[f]&&e[f].convert&&e[f].convert(m)||(m instanceof Array?[]:{})),g.push(f),c(e&&e[f],t,o,r[f],m,d,p,g,h),!d||e&&e[f]||(r[f].__remove__=!0)):e&&r&&!r[f]&&(a[f]?(delete r[f],r.val=void 0!==e._val?e._val:void 0):r[f]="val"===f?void 0!==e._val?e._val:void 0:void 0!==e[f]&&e[f].convert&&e[f].convert())};n.methods.original=function(e,t,n,s,o,i){var r,a,d=t?e.convert(n):e._val,p={};c(e,p,s,d,n,o,i);for(r in s)p[r]||(a=s[r].orig,t?l(a)?s[r].nested[i]||u(d,a,i):d.val&&(d.val=a):l(a)?a.val&&(d=a.val):d=a);return[d,p]},n.methods.merge=function(e,t,s,i){var r,a,c,d,p=o.clone(i[t].orig),g=s;for(a in i)if(a===t||i[t].nested[a])r=!0;else if(n[a].val)if(c=i[a].val,l(p)||l(c)){l(p)||(p={val:p}),l(c)||(c={val:c}),u(p,c,!0);for(a in n)d=p[a],null!==d&&void 0!==d&&delete p[a];if(r)if(e){g===s&&(g=o.clone(g)),c=o.clone(c);for(a in n)null!==c[a]&&void 0!==c[a]&&delete c[a];u(g,c,!0)}else c.val&&(g=c.val)}else p=c;return[g,p]},n.methods.reader=function(e,t,o){return function(i,a){var l,u="!"===i[0],c=u?n[i.slice(1)]:n[i];return c?c instanceof s?(u&&!n[i]&&(n[i]=new r({val:function(){return!c.val},listen:c})),l=e?e.call(this,i,a,!0,u):t):l=u?!!e:e?e.call(this,i,a):o:u&&(l=e?e.call(this,i,a,!1,u):o),c===!1&&e&&(l=!0),l}},e("./object"),e("./base")},{"../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../../value/flags":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js","../element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","./base":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/base.js","./object":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/object.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/object.js":[function(e,t,n){var s=e("../../value/flags"),o=e("./"),i=e("../../object"),r=e("../../util"),a=o.methods,l={set:function(e,t,n,s){this._flag||(this._flag={});var u=this,c=u._flag["case"]||(u._flag["case"]=["case",u._val,!1,{},l]),d=c[3],p=r.isObj(e),g=p&&!e.val?!1:!0;if(null===e)d[s]&&o[s].removeListener(d[s].method),delete d[s];else{if(c[5]=!0,!d[s]){var h=a.original(u,p,e,d,!1,s);d[s]={val:e,orig:h[0],nested:h[1],method:function(){var t=a.merge(p,s,e,d),n=t[0],i=t[1];c[5]=!0,o[s].val?(n||console.warn(s,"wrong in cases!",n,o,c),g&&n&&(c[1]=n.val||n),u.val=n):(g&&(c[1]=i&&i.val||i),"$isActive"===s&&console.log("no way gozee 2",i,u),u.val=i),c[5]=null}},o[s].addListener(c[3][s].method)}o[s].val&&(g&&(c[1]=e.val||e),i.set.call(u,e,t,!1,!0),u._ignorefornow=!0),c[5]=null}},remove:function(e,t){var n=0;for(var s in e[3])n++,!this._ignorefornow&&!t||s===t?(n--,o[s].removeListener(e[3][s].method)):delete this._ignorefornow;return n?!0:void 0},stack:"case"},u={set:function(e,t,n,s){null!==e&&i.set.call(this,e,t,!1,!0)}};s.dynamic.cases=a.reader(!1,l,u)},{"../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value/flags":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/css.js":[function(e,t,n){var s="cssRules",o=function(e){e="."+e.replace(/\./g," .").toLowerCase();for(var t,n,o=document.styleSheets,i=o.length,r=0;i>r;r++)if(n=o[r][s]||o[r][s="rules"])for(var a,l=0,u=n.length;u>l;a=n[l++],a.selectorText===e&&(t=a.style));return t},i=function(e,t){var s=n;return t.push(s[e]||(s[e]=o(e))||{}),e};t.exports=function(e,t){if(e){var n=this[e];if(!n){n=[];for(var s,o=e.split(" "),r=0,a=o.length;a>r;r++)(s=i(o[r],n).split("."))instanceof Array&&i(s[s.length-1],n);this[e]=n}if(t){if(!(n instanceof Array))return;for(var l,r=n.length-1;!l&&r>=0;l=n[r--][t]);n=l}return n}}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js":[function(e,t,n){var s=e("../../base"),o=e("../../value/base"),i=e("../../"),r=e("../../util"),a=new s;a.defaultType=o.type,t.exports=n=i.Element=a.Class,n.base=a;var l="undefined"!=typeof document?document:"no document",u=function(){for(var e=this._node.childNodes,t=0,n=e.length;n>t;t++)e[t].base&&e[t].base.remove(!1,!1,!0)};n.base.extend({name:"node",type:!1,set:function(e){e instanceof Object||!e.length?this._node=e:this._node=l.createElement(e),this._node.base=this},get:function(){return this._node||(this.node=l.createElement("div")),this._node},"new":function(e,t){if(t)this._node=t;else{var n=e._node;n&&(this._node=n.cloneNode(!0),this._node.base=this)}if(e._node&&e._node.hasChildNodes()){var s,o,i=this._node.childNodes,r=e._node.childNodes,a=i.length;for(s=0;a>s;s++)o=r[s].base,o&&(i[s].base=new o.Class(!1,!1,i[s]),o._name&&(i[s].base._name=o._name,this[o._name]=i[s].base),i[s].base.setting("parent",[this]))}},remove:function(e){if(u.call(this),this._node&&(this._node.base=null),!e){var t=this._node.parentNode;t&&(t.removeChild(this._node),this._name&&t.base&&(t.base[this._name]=null))}}},{css:function(e){var t=e.val||"";e._skip=!0,e.addClass&&(~t.indexOf(e.addClass.val)||(e._val=(t.length>0?t+" ":"")+e.addClass.val,e.add&&(e._val=e._val.replace(e.add.val,"")),e._lval=!1,e.__lval=!1,e.___lval=!1,t=e.val),e.addClass.remove()),e.removeClass&&(t&&e._val&&(e._val=e._val.replace(new RegExp(" ?"+e.removeClass.val),""),e._lval=!1,e.__lval=!1,e.___lval=!1,t=e.val),e.removeClass.remove()),t?this.node.className=t.replace("$",""):this.node.className=""}},{name:"name",type:!1,set:function(e){var t=this.parent;this._name&&t&&(t[this._name]=null),this._name=e,this._node&&e===this.node.nodeName.toLowerCase()||this.css&&this.css._val===e||(this.css={add:" "+e}),t&&(t[e]=this)},get:function(){return this._name}},{name:"parent",type:!1,get:function(){if(this._node){var e=this._node.parentNode||this._p;return e?e.base||e._p:!1}}},{name:"children",type:!1,get:function(){if(!this._node)return[];var e,t=this._node.childNodes,n=t.length,s=new Array(n);for(e=0;n>e;e++)s[e]=t[e].base||t[e];return s}});var c=function(e){if(this.lastindex||this.setting("render",[e]),this.renders)for(var t,n,s,o=this.node.childNodes,i=this.renders,a=this.lastindex||0,l=i.length;l>a;a++)if(s=i[a])if(t=r.checkArray(o,s,"base"),t!==!1)c.call(s,this);else if(s._from)if(n=s.Class,s.name&&this[s.name]&&this[s.name]===n)c.call(this[s.name],this);else for(var u in o)if(o[u].base&&o[u].base instanceof n){c.call(o[u].base,this);break}this.lastindex=l},d=function(){var e,t;this.parent&&(e=this.parent,e.renders?e.renders.push(this):(e.renders=[this],t=e.parent,!t||t._settings&&t._settings.render!==!0||d.call(e)))},p=function(e){var t=e.__&&e.__._settings||e._._settings;(e._.renders||e.__&&e.__.renders||t.render!==!0)&&(this.renders||(this.renders=[]),this.__&&this.__.renders||(this.renders=r.clone(this.renders)),this.renders.push(e))};r.define(n,"append",function(e){arguments;arguments.length>1&&(e=r.arg(arguments));var t;e.length||e instanceof n||!e.val||(t=e.before,e=e.val);var s=e[0],o=0,i=e.length;if(e.length)if("function"==typeof s)for(var o=1,i=e.length;i>o;o++)this.add(new s(e[o]),t);else for(;i>o;o++)this.add(e[o],t);else this.add(e,t)},"checkRender",function(e,t){if(e&&p.call(this,e),!t){var n=this.__&&this.__.renders||this._.renders;(n||(this.__&&this.__._settings||this._._settings).render!==!0)&&(!this.lastindex||n&&this.lastindex<n.length)&&this.rendered?c.call(this,this):this.parent&&p.call(this.parent,this)}},"checkParent",r.checkParentFactory("parent"),"get",function(e,t){return r.get(this,e,t)},"find",function(e,t,n){void 0===n&&(n=!0);for(var s,o,i=this.node.childNodes,r=0,a=i.length,l=n===!0?!0:n-1;a>r;r++)if(o=i[r].base){if(o.get(e,!0)==t)return o;if(n&&(s=o.find(e,t,l)))return s}},"setRender",function(e,t){this.setSetting({name:e,render:t}),d.call(this),this.eachInstance(function(){d.call(this)},e)},"renders",!1,"add",function(e,t){return t?("string"==typeof t&&(t=this[t]),t?this.node.insertBefore(e.node,t.node||t):console.error("cannot find insertbefore")):this.node.appendChild(e.node),e.setting("parent",[this]),e.name&&(this[e.name]=e),this.checkRender(e),this},"empty",function(e){var t,n=this.node.childNodes;for(this.node.innerHtml="",t=n.length-1;t>=0;t--)n[t].base&&n[t].base.remove(e)}),n.base.addSetting("parent"),n.base.addSetting("render"),e("./set")},{"../../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../../base":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../value/base":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/base.js","./set":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/set.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/display.js":[function(e,t,n){var s=e("./util");n.prepare=function(e){e.display||(e.display="block")},n.newElement=function(e,t,n){var o=s.children(n);for(var i in o)if(o[i]._d&&o[i]._d===e)return o[i].display=t.display.val,!0},n.rem=function(e,t,n,s){return e.display="none",!0},n.fragment=function(e,t,n,s){n&&(n[s]=null)}},{"./util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/util.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/index.js":[function(e,t,n){var s=e("./util"),o=e("../../../../util");n.extend=o.extend(e("../data"),function(e){e.extend({name:"collection",remove:function(){this._colElem&&this._colElem.remove()},set:function(e,t,n,i,r,a){e._skip=!0;var l,u,c=s.filter(e,this),d=this.filter||e.val,p=this._colOptions||e.options&&(this._colOptions=e.options.convert()),g=e.element,h=this._colElem||g&&g._val&&(this._colElem=new(g._val.Class||g._val)),f=!this._colInit,v=this._colElem;if(d&&h)if(l=g._slStamp,u=g._val,l?g._slStamp=t:v&&g._slStamp!==t&&(u.Class&&v instanceof u.Class||!u.Class&&v instanceof u||(h=this._colElem=new(u.Class||u),g._slStamp=t)),f)p&&p.prepare&&p.prepare(h),this._colInit=!0,this.node.appendChild(s.fragment(d,h,this,!1,p,c));else if(n&&n._parent===d.from)if(i){var m=o.checkArray(s.children(this),n,"_d",!0);m&&(p&&p.rem&&p.rem(m,this,c)||m.remove())}else o.checkArray(s.children(this),n,"_d")===!1?s.element(n,h,this,!0,this.node,p,c,!0):c&&p&&p.indexChange&&p.indexChange(o.checkArray(s.children(this),n,"_d",!0),this,c);else if(!n)if(i)s.clear(this,p);else{var b,w,_,y=s.children(this),j={};c===!0&&(w=d.keys);for(var k in y)_=y[k],b=y[k]._d._name,(c&&!w?o.checkArray(d,_._d)!==!1:d[b]&&d[b]===_._d)?(j[b]=!0,c&&(p&&p.indexChange?_._d._indexCache[c][0]!==_.i&&p.indexChange(_,this,c,!0):c===!0&&k!=o.checkArray(w,b,!0)&&(delete j[b],p&&p.rem&&p.rem(y[k],this,c,c)||_.remove()))):p&&p.rem&&p.rem(_,this,c,c)||_.remove();this.node.appendChild(s.fragment(d,h,this,j,p,c))}}})})},{"../../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../data":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/data.js","./util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/util.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/collection/util.js":[function(e,t,n){var s=(e("../"),e("../../../../data").inject(e("../../../../data/selection")));e("../../../../util");n.element=function(e,t,n,s,o,i,r,a){var l;if(!i||!i.newElement||(l=i.newElement.apply(this,arguments),l!==!0))return l=l||new t.Class,l._col=!0,void 0!==e&&l._dSet(e),o&&o.appendChild(l.node),l.setting("parent",[n]),i&&i.element&&i.element(l,n,r,a),s&&void 0!==e&&l.updateData(),n.checkRender(l,!0),l},n.fragment=function(e,t,s,o,i,r){var a=document.createDocumentFragment(),l=function(e){if(this._name&&(e=this._name),!(i&&i.fragment&&i.fragment(s,this,o,e)||o&&o[e])){var l=n.element(this||null,t,s,!1,a,i,r);l&&a.appendChild(l.node)}};if(a._p=s,e.each)e.each(l);else for(var u in e)l.call(e[u],u);return t.updateData(!0),a},n.children=function(e,t){if(e){var n=[];for(var s in e.node.childNodes){var o=e.node.childNodes[s].base;o&&o._col&&n.push(o)}return t&&t.children&&t.children(n),n}},n.clear=function(e,t){e.colInit=null;var s=n.children(e);for(var o in s)s[o].remove();t&&t.clear&&t.clear(e)},n.filter=function(e,t){var n=e.val;if(e.filter&&e.filter.val===!0)return!0;if(n&&e.filter&&!t.filter){var o=e.filter.raw;return n=t.filter=new s(n,o),o._col=!0,n.addListener(function(e,n,s,o){t.collection._update(e,n,s,o)}),t.setSetting({remove:function(){t.filter.remove(),t.filter=null}}),n._uid}return n&&n._filter?n._uid:t.filter?t.filter._uid:void 0}},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/index.js","../../../../data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","../../../../data/selection":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/selection.js","../../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/data.js":[function(e,t,n){var s=e("../../../data/base"),o=e("../../../util");e("../../../value/flags");n.extend=o.extend([s,{updateData:function(e,t,n){this._d&&(this._subscribed=!1,t=this._d);var s=!1;n||this.model||this._fmodel||(s=!0);for(var o,i=this.node.childNodes,r=i.length-1;r>=0;r--)o=i[r].base,!o||o.model&&o.model.inherit&&o.model.inherit.val===!1||void 0!==o._d&&!o._dfrom||(o.model&&t&&(s&&(o._fmodel=!0),o._dSet(t,!0)),o.updateData(e,t,o._fmodel||n))}}])},{"../../../data/base":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/base.js","../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../../value/flags":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/index.js":[function(e,t,n){var s=e("../../ua"),o=e("../../css"),i=e("../../../value"),r=e("../../../util"),a=e("../../../util/hash"),l=e("../../animation/raf"),u=e("../").images={},c=s.prefix+"Transform",d=s.prefix+"-transform",p=document.body.style,g=void 0!=p.perspectiveProperty||void 0!=p.WebkitPerspective?["translate3d(",",0px)"]:["translate(",")"],h=function(e){var t="margin"+(e[0].toUpperCase()+e.slice(1));return function(n){n.clean&&(m.call(this,e,t),n.clean=null),n.translate?this.translate(n):this.node.style[this.relative?t:e]=n.val+"px"}},f=new RegExp(d+"(.*?);"),v={x:/(margin-left(.*?);)|(left(.*?);)/g,y:/(margin-top(.*?);)|(top(.*?);)/g},m=function(e){var t=this._t,n=!1,s=this[e],o=this.node.style.cssText.replace(v[e],"");if(s&&s.translate&&s.translate.val===!1&&(s.translate=null),this.node.style[c]&&!s.translate){if(t)if(this[e].translate)n=!0;else for(var i=2;6>i;i++)t[i]&&(n=!0);n||(o=o.replace(f,""))}this.node.style.cssText=o};n.extend=r.extend(function(e){function t(e){var t="scroll",n=t+e;return{name:n,set:function(e){var s=e.val,o=this;void 0!==s&&(o.node[n]=s),o.__sT||(o.__sT=!0,o.addEvent(t,function(){void 0!==e._listeners?e.val=o.node[n]:o[n].__lval=void 0}))},get:function(e){return void 0===e.__lval&&(e.val=this.node[n]),e},render:function(){var e=this,t=e[n].__lval;t&&l(function(){e.node[n]=t})}}}r.define(e.Class,"cleanCoordinates",function(e){this._node&&(e?m.call(this,e):(m.call(this,"x"),m.call(this,"y")))},"translate",function(e){var t,n,s,o,i,r,a=e.val,l="",u=e&&e._prop.name,d=this._t=this._t||[],p=!1;return"x"===u?(t=0|a,t===d[0]&&(p=!0)):"y"===u?(n=0|a,n===d[1]&&(p=!0)):"rotate"===u?(o=a,o===d[2]&&(p=!0)):"scale"===u?(s=a,s===d[3]&&(p=!0)):"rotateY"===u?(i=a,i===d[4]&&(p=!0)):"rotateX"===u&&(r=a,r===d[4]&&(p=!0)),p||(d[0]=t||this.x.translate&&0|this.x.val||0,d[1]=n||this.y.translate&&0|this.y.val||0,d[2]=o||this.rotate.val,d[3]=s||this.scale.val,d[4]=i||this.rotateY.val,d[5]=r||this.rotateX.val,(d[0]||d[1])&&(l=l.concat(g[0]+d[0]+"px,"+d[1]+"px"+g[1])),d[2]&&(l=l.concat(" rotate("+d[2]+"deg)")),d[3]&&(l=l.concat(" scale("+d[3]+")")),d[4]&&(l=l.concat(" rotateY("+d[4]+"deg)")),d[5]&&(l=l.concat(" rotateX("+d[5]+"deg)")),this.node.style[c]=l),this},"update",function(){for(var e,t=0,n=r.arg(arguments),s=n.length;s>t;t++)n[t]instanceof Array?this.update.apply(this,n[t]):(e=r.get(this,n[t]),e&&e.update(this));return this}),e.extend({name:"relative",type:!1,get:function(){var e=this.position!==!1?this.position.val:this.position={css:!0,val:o(this.css.val,"position")};return"absolute"!==e}},{type:!1,name:"rendered",get:function(){var e,t=this._rendered||this.node===document.body;if(!t){for(e=this.node.parentNode;!t&&e;)e.base&&e._rendered&&(t=!0),e==document.body&&(t=!0),e=e.parentNode;t&&(this._rendered=!0)}return t}},t("Left"),t("Top"),{position:function(e){this.node.style.position=e.val},rotate:function(e){this.translate(e)},rotateY:function(e){this.translate(e)},rotateX:function(e){this.translate(e)},scale:function(e){this.translate(e)},src:function(e){var t=e.val;t&&"/"!==t[t.length-1]&&(this.node.src=t)},attr:function(e){var t=this;e.each(function(e){t.node.setAttribute(e,this.val)})},backgroundPos:function(e){this.node.style.backgroundPosition=e.val},backgroundBatch:function(e){},background:function(e){var t,n,s,o,c=e.val,d=this,p=this.node.style;if(e.gone&&e.gone.val)e._skip=!0,p.backgroundImage="";else if(c&&"/"!==c[c.length-1]){if(t="url("+c+")",p.backgroundImage===t)return;if(e.size&&(p.backgroundSize=e.size.val),e.load){if(n=a(c),s=this.checkParent("backgroundBatch"),s&&(o=s.backgroundBatch),!u[n]){this._loaded=null,o&&(window.cancelAnimationFrame(o._raf),o.batch||(o.batch=[]),o.batch.push(a)),u[n]=new i(!1);var g=document.createElement("img");g.onload=function(){o&&(o.batch.splice(r.checkArray(o.batch,n),1),0===o.batch.length&&(o.batch=null,o._raf=l(function(){s._node&&o._val.call(s)}))),u[n].val=!0,g.onload=null,g=null,u[n].remove(!1,!1,!1,!1,!1,!0),u[n]=!0},g.src=c}u[n]!==!0?(this._loaded=null,u[n].addListener([function(){e.load&&e.load.val!==!0&&e.load._val.call(this,d)},e._base],!0)):(this._loaded=!0,o&&(o.batch&&0!==o.batch.length||(o.batch=null,window.cancelAnimationFrame(o._raf),o._raf=l(function(){s._node&&o._val.call(s)}))),e.load.val!==!0&&e.load._val.call(this,d))}p.backgroundImage=t}},padding:function(e){this.node.style.padding=e.val+"px"},y:h("top"),x:h("left"),display:function(e){this.node.style.display=e.val},w:function(e){var t=e.val;this.node.style.width=(t>-1?(0|t)+"px":t)||"100%"},h:function(e){var t=e.val;this.node.style.height=(t>-1?(0|t)+"px":t)||"100%"},opacity:function(e){var t=e.val;this.node.style.opacity=t>-1?t:1},html:function(e){var t=e.val||"";t.replace&&(t=t.replace(/\t/g,"    ").replace(/\r\n|\n|\r/g,"<br/>").replace(/  /g,"&nbsp; ").replace(/  /g," &nbsp;"),this.node.innerHTML=t)},href:function(e){this.node.href=e.val},text:function(e){var t=this.node,n=t.childNodes,s=e.val||"";if(s instanceof Object&&(s=""),/text/.test(t.type))return void(t.value=s);if(n)for(var o=0,i=n.length;i>o;o++)if(3===n[o].nodeType)return void(n[o].nodeValue=s);t.appendChild(document.createTextNode(s))}})})},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../../util/hash":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/hash.js","../../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../../animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","../../css":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/css.js","../../ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/process.js":[function(e,t,n){var s=e("../../../util");n.extend=s.extend(function(e){var t=e.Class.prototype,n=t.add;s.define(t,"add",function(e){e.process?(e.__tempAdd=s.arg(arguments),e.__tempAdd.unshift(this)):n.apply(this,arguments)}),e.extend({process:function(e){console.log("xxxx___xxxx"),this.__tempAdd&&!this.parent&&(n.apply(this.__tempAdd[0],this.__tempAdd.slice(1)),this.__tempAdd=null)}})})},{"../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/scrollbar.js":[function(e,t,n){function s(e){document.activeElement?"INPUT"!==e.target.tagName&&"FORM"!==e.target.tagName&&(document.activeElement.blur(),c.removeEvent(!1,"blur")):c.removeEvent(!1,"blur")}var o,i=e("../../events"),r=e("../../cases"),a=e("../../ua"),l=!1,u=("ios"===a.platform,"android"===a.platform,e("../../../util").extend),c=i.document;r.touch?(i.preventDown={val:{down:function(e,t){document.activeElement?c.addEvent("up",s,"blur"):"INPUT"===e.target.tagName||"FORM"===e.target.tagName||i._maybescroll||e.preventDefault()}}},i.scrollbar={val:{down:function(e,t,n){var o,r,a,l,u,d,p,g=this,h="x"===n._val;if(h?(a="x",l="y",r="scrollLeft",d=g.node.scrollWidth-g.node.offsetWidth):(a="y",l="x",r="scrollTop",d=g.node.scrollHeight-g.node.offsetHeight),o=g.node[r],d>0){i[a]=!0,i._maybescroll=!0,h||(o?o===d?o=g.node[r]=d-1:o>d&&(p=!0):o=g.node[r]=1);var f=e.y,v=e.x,m=r+a;c.addEvent("move",function(e){var t=Math.abs(v-e.x),n=f-e.y,o=Math.abs(n);h?o>t&&(i[a]=!1,i[l]||e.preventDefault()):(t>o&&(i[a]=!1,i[l]||e.preventDefault()),p&&n>0&&e.preventDefault()),console.log("move"),u=!0,s(e),c.removeEvent(!1,m)},m),c.addEvent("up",function(e){var t,n,s=i._maybescroll;if(!u){var h=g.node[r];u=!(h===o)||0>h||h>d&&!p}if(!u&&!i[l]&&!i.click.block&&s&&s.length)for(t=s.length;t--;)e.prevent||(n=s[t],n[0].call(n[1],e));(!i[l]||u)&&(i._maybescroll=!1),i[a]=!1,c.removeEvent(!1,r),window.requestAnimationFrame(function(){document.body.scrollTop=0})},r)}}}},o=function(e){var t=this.node.style;"x"===e.val?(t.msTouchAction="pan-x",t.touchAction="pan-x",t.overflowY="hidden"):"y"===e.val&&(t.msTouchAction="pan-y",t.touchAction="pan-y",t.overflowX="hidden"),t.overflow="scroll",t.webkitOverflowScrolling="touch",t.msTouchAction="auto",t.touchAction="auto",this.events={scrollbar:e.val},l||(l=!0,c.events={preventDown:!0})}):o=function(e){var t=this.node.style;t.overflow="auto",t.overflowY="x"!==e.val?"scroll":"hidden",t.overflowX="y"!==e.val?"scroll":"hidden"},n.extend=u(function(e){e.extend({scrollbar:o})})},{"../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","../../events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js","../../ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/util.js":[function(e,t,n){var s=e("../../ua"),o="-"+s.prefix.toLowerCase(),i=o+"-transform";n.getMatrix=function(e){if(e.style[i]){var t=window.getComputedStyle(e,null).getPropertyValue(i).replace("matrix(","").split(",");return t}}},{"../../ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/set.js":[function(e,t,n){var s=e("../../util"),o=e("./"),i=e("../../object"),r=n,a=function(e,t,n,s){var o;for(var i in r)if(o=r[i].call(this,e,t,n,s))return o};s.define(o,"_set",function(e,t,n){if(!a.call(this,t,e[t],n,e))if(this.isProperty(t,e))"function"==typeof this[t]?e[t]instanceof Array?this[t].apply(this,e[t]):this[t](e[t]):this[t]=e[t];else if(e[t]instanceof o){var s;if(this[t]){for(var r=this.node.childNodes,l=0,u=r.length;u>l;l++)if(r[l]===this[t].node){s=r[l+1];break}this[t].remove&&this[t].remove()}var c=n?new e[t].Class:e[t];c.name=t,this.add(c,s),n&&this.eachInstance(function(){var e=new c.Class;e._name=t,this.add(e)})}else if(this[t]instanceof i)this[t].val=e[t];else if(e[t]instanceof i)console.warn("are you sure you want to set using a vObject? maybe require some stuff (e.g. data)"),this[t]=e[t];else if(this[t]instanceof o)e[t]?this[t].set(e[t],n):e[t]===!1&&(n&&this.eachInstance(function(){this[t]&&this[t].remove()}),this[t].remove(),this[t]=null);else if(e[t]instanceof Object){var c=(new o).set(e[t],n);c.name=t,this.add(c),n&&this.eachInstance(function(){var e=new c.Class;e._name=t,this.add(e)})}else console.warn('"'+t+'" is not an existing property. "'+e[t]+'" is a primitive. Adding as primitive.'),this[t]=e[t]},"convert",function(e){var t,n={};for(var r in e)t=s.isObj(e[r]),this[r]instanceof o?n[r]=t?this[r].convert(e[r]):this[r]:this[r]instanceof i?n[r]=this[r].convert(t&&e[r]):void 0===this[r]||s.lookup.call(this,r)&&this[r]===!1?n[r]=!1:n[r]=this[r];return n})},{"../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/video/html5.js":[function(e,t,n){function s(){var e=arguments,t=e.length;return function(n){for(var s=0,o=this;t>s;this.video.addEventListener(e[s++],function(e){n._val.call(o,e)}));}}function o(){function e(){if(t.time)if(t.time.val||(this._firstT=!0),d&&"chrome"!==r.browser){var n=0;clearInterval(t._timeFixInterval),t._timeFixInterval=setInterval(function(){t.updateTime(),3===n&&(t._canplay=null,clearInterval(t._timeFixInterval)),1!==t.video.duration&&(n++,t.playing&&t.video.play())},200)}else t.time.val?c?setTimeout(function(){t.updateTime()},0):t.updateTime():t._forceTime=!0,t._canplay=null;t.video&&t.video.removeEventListener(p,e)}if(!this._canplay&&!u){this._canplay=!0;var t=this;this._canPlay=e,this.video&&this.video.addEventListener(p,e)}}function i(e){this.video.readyState?(this.video.currentTime=e,c&&(this._correctTime=e)):o.call(this)}var r=e("../../ua"),a=e("./"),l=e("../../../browser/events/util").postpone,u="windows"===r.platform&&"phone"===r.device,c="ios"===r.platform,d="android"===r.platform,p="canplay";t.exports={progress:{set:function(){var e=this;e.video&&e.video.addEventListener("end",e._prEnd=function(){e.clearProgress()})},remove:function(){this.video&&(this.video.removeEventListener("canplay",this._canPlay),this.video.removeEventListener("end",this._prEnd))}},buffer:function(e){if(this.video&&this.video.buffered){for(var t,n,s=this.video.buffered.length,o=-1,i=this.video.currentTime||0,r=0;s>r&&(t=this.video.buffered.start(r),t>o&&i>t);r++)o=r,n=t;return o>-1?(o=this.video.buffered.end(o),i>o?0:o/this.duration.val):0}return 0},play:function(e){e?this.video.play():this.video.pause()},time:{set:c||d?l(i):i,get:function(e){var t=this.video&&this.video.currentTime;return this._correctTime&&(this._correctTime>t-2&&this._correctTime<t+2?(t=this._correctTime,this.cnt?this._cnt<2?(this._correctTime=!1,this._cnt=!1):(this._correctTime+=.5,this._cnt--):this.cnt=3):t=this._correctTime),t/this.duration.val||e.val}},duration:function(e){return this.video&&this.video.readyState?this.video.duration:e&&e.val},autoplay:function(e){this.video&&(this.video.autoplay=e.val)},volume:function(e){var t=e.val;this.video&&!isNaN(t)&&(this.video.volume=t)},"new":function(){o.call(this),this.volume&&this.volume.update(this)},events:{pause:function(e){var t=this;c&&t.video&&t.video.addEventListener("pause",function(e){t.ignoreevents||t.pause()})},progress:a.progress,ready:s("loadedmetadata"),canplay:function(e){var t=this;t.video&&t.video.addEventListener(p,function(n){t.video&&4===t.video.readyState&&(t._stalled=!1,e._val.call(t,n))})},stalled:function(e){var t=this,n=function(n){var s=t.getTime();t.getBuffer(s)-s>.05||(t._stalled=!0,e._val.call(t,n))};t.video&&(t.video.addEventListener("stalled",n),t.video.addEventListener("waiting",n))},play:{play:function(){this.events.play&&this.events.play._val.call(this)},set:!1},end:s("ended")},src:function(e){this.video&&(this.video.src!==e||e||!e&&this.video.src)&&(this.video.src=e.val)}},a.player||(a.player=t.exports)},{"../../../browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js","../../ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/video/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/video/index.js":[function(e,t,n){function s(e){this._readyForEvents=!0;var t=this,n=(this.player||d.player).events;return e.each(function(e){n[e]&&n[e].set!==!1&&(n[e].set||n[e]).call(t,this,e)}),n}function o(e){var t=this,n=(this.player||d.player).events;e.each(function(e){n[e]&&n[e].remove&&n[e].remove.call(t,this,e)})}function i(e){var t=this.events;if(t){var n=this,s=(this.player||d.player).events;t.each(function(t){s[t]&&s[t].play&&s[t].play.call(n,this,t,e)})}}function r(e){if(!this._progress){var t=e,n=t.interval&&t.interval.val||500,s=t._val,o=this,i=(this.player||d.player).progress;i&&i.set&&i.set.call(o),o._progress=setInterval(function(){var e=Number(o.getTime()),t=o.getBuffer(e),n=Number(o.duration.val);1===n&&(n=0),e>=1&&n?o.clearProgress():(o._stalled&&n&&(t>.85||o.__lp&&o.events.canplay&&e>o.__lp+1/n?(o._stalled=!1,o.events.canplay._val.call(o),o.__lp=null):!o.__lp&&e>-1&&(o.__lp=e)),o.ignoreevents||s.call(o,e,t))},n)}}var a=e("../").inject(e("../properties")),l=e("../../events"),u=e("../../../util"),c=new a({node:"video"});t.exports=n=c.Class;var d=n;n.base=c,c.setSetting({name:"_videoSettings","new":function(){this.player["new"]&&this.player["new"].call(this)},remove:function(){this.player.remove&&this.player.remove.call(this)},render:function(){this.player.render&&this.player.render.call(this)}}),c.node.setAttribute("webkit-playsinline",""),this._progress=r,n.progress={play:function(e,t,n){n?r.call(this,this.events.progress):this.clearProgress()},set:function(e){this.playing&&r.call(this,e)},remove:function(){this.clearProgress()}},u.define(n,"setEvents",function(){s.call(this,this.events)},"play",function(e,t){e&&delete this.ignoreevents,t||this.ignoreevents||this.playing===!0?this.__paused&&this.events.progress&&(this.playing=!0,r.call(this,this.events.progress)):(this.playing=!0,i.call(this,!0)),this.__paused=null,(this.player||d.player).play.call(this,!0)},"pause",function(e){e&&(this.ignoreevents=!0),this.ignoreevents||this.playing===!1?this.clearProgress():(this.playing=!1,i.call(this,!1),this.events.pause&&this.events.pause._val.call(this)),this.__paused=!0,(this.player||d.player).play.call(this,!1)},"toggle",function(e){this.playing?this.pause():this.play()},"updateTime",function(){this._firstT=!1,n.setTime.call(this,this.time)},"getTime",function(){return(this.rendered&&this.player||d.player).time.get.call(this,this.time)||0},"getBuffer",function(e){return(this.rendered&&this.player||d.player).buffer.call(this,e||0)},"clearProgress",function(){if(this._progress){clearInterval(this._progress),this._progress=null;var e=(this.player||d.player).progress;e&&e.remove&&e.remove.call(this)}}),c.extend({name:"player",type:!1,set:function(e){u.setstore.call(this),this.__.player=e,e.element&&(this.node=e.element),this._class&&(this._class.prototype._.player=e)},get:function(e){return u.getStore.call(this,"player")||d.player||{}}},{name:"duration",set:function(e){},get:function(e){return e._overwrite=(this.player||d.player).duration.call(this,e),e}},{name:"$play",set:function(e){this.rendered&&(e.val?this.play():this.pause())}},{name:"time",set:n.setTime=function(e){if(!this._ignore){e._overwrite=null;var t=e.val,n=!1;void 0!==t&&(this._firstT&&this._forceTime!==!0||(t=Math.abs(t),n=!0,this._firstT=!0,this._forceTime=null),t>=0&&this.duration&&(this.__lp&&(this.__lp=null),(this.player||d.player).time.set.call(this,t*this.duration.val),this.events.seeking&&!n&&this.events.seeking._val.call(this,t)));
}}},{autoplay:function(e){(this.player||d.player).autoplay.call(this,e)},volume:function(e){(this.player||d.player).volume.call(this,e)},src:function(e){e.val!==this.___Src&&(this.___Src=e.val,this.events.src&&this.events.src._val.call(this,e),(this.player||d.player).src.call(this,e))}},{name:"events","new":function(){this.player&&this.player.setEvents!==!1&&s.call(this,this.events)},remove:function(){this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=null),o.call(this,this.events)},set:function(e){var t=u.arg(arguments);t[5]=this._readyForEvents?s.call(this,e):(this.player||d.player).events,t[5].seeking||(t[5].seeking={set:!1}),t[5].src||(t[5].src={set:!1}),l._set.apply(this,t)}})},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../events":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js","../properties":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/video/util.js":[function(e,t,n){n.time=function(e,t){var n=~~(e/3600),s=~~(e%3600/60),o=t?(e%60).toFixed(t):~~(e%60);return ret="",n>0&&(ret+=""+n+":"+(10>s?"0":"")),ret+=""+s+":"+(10>o?"0":""),ret+=""+o,ret||0}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/advanced.js":[function(e,t,n){function s(e,t){return e.move&&e.move._val||!t.__t&&t!==!0&&t||t._val}function o(e,t,n){var o=n.bind?n.bind._val:this,i=s(n,t),r="drag";e.preventDefault(),i&&d.addEvent("move",function(e){i.call(o,e,n)},r),n.down&&n.down._val.call(o,e,n),d.addEvent("up",function(e){n.up&&n.up._val.call(o,e,n),d.removeEvent(!1,r)},r)}function i(e,t,s){var o=this,i="active",r=setTimeout(function(){o.css={addClass:s._val},r=null},50);n._deactivate&&n._deactivate(),n._deactivate=function(){r&&clearTimeout(r),d.removeEvent(!1,i),n._deactivate=null,window.requestAnimationFrame(function(){o&&(o._stayActive?o.css={addClass:s._val}:o.css={removeClass:s._val})})},d.addEvent("move",n._deactivate,i),d.addEvent("up",n._deactivate,i)}function r(e){for(var t,n={},s=e.keys,o=s.length-1;o>=0;o--)t=s[o],n[t]=e[t];return n}function a(e,t,n,s){return e[s]&&e[s]._e||(e[s]={_e:0}),n[s]._val!==!0&&e[s].set("_e",r(n[s])),t[s]-e[s]._e.val}function l(e,t,n,o){var i=n.bind&&!o?n.bind.val:this,r=(n.y?"y":n.x?"x":"xy")+"Grab"+(o||"");if(i)if(i._node){var c,p,g,h,f,v,m=s(n,t),b=e.x,w=e.y,_=b,y=w,j=function(e){i.x._p=!1,i.y._p=!1,n.up&&v&&n.up._val.call(i,e,{x:_-b,y:y-w},{x:_-h,y:y-f}),u.click.block=!1,d.removeEvent(!1,r)};n.x||n.y||(n.x={_val:!0},n.y={_val:!0}),n.down&&n.down._val.call(i,e,n),d.addEvent("move",function(e){h=_,f=y,_=e.x,y=e.y,u.click.block=!0,c?(e.preventDefault(),p&&(i.x={_e:_-p}),g&&(i.y={_e:y-g}),m&&m.call(i,e,{x:_-b,y:y-w},n)):(v=n.pass?n.pass._val.call(i,e,{x:_-b,y:y-w}):!0,v?(e.preventDefault(),n.x&&(p=a(i,e,n,"x"),i.x._p=1),n.y&&(g=a(i,e,n,"y"),i.y._p=1),n.start&&n.start._val.call(i,e,n),c=!0):(j(e),m=!1,d.removeEvent(!1,r)))},r),d.addEvent("up",j,r)}else for(var k=i.length-1;k>=0;k--)l.call(i[k],e,t,n,k+1)}var u=e("./"),c=e("../../value/operators"),d=u.document;t.exports=u,c._e=function(e,t){return e+t},c._esub=function(e,t){return e-t},c._e.order=3,u.drag={val:{down:o}},u.grab={val:{down:l}},u.active={val:{down:i}}},{"../../value/operators":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/operators.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/basic.js":[function(e,t,n){function s(e,t,n){e.x=e.pageX,e.y=e.pageY,t.call(this,e,n)}function o(e,t,n){var s="_"+e;l.define(r,s,{value:[]});var o={create:function(o,i){var l=function(e){if(this.rendered)if(n)n.call(this,e,this.events[i]._val);else if(r[i]&&r[i].val){var t=r[i].val;for(var s in r[i])a[s]&&(t=r[i][s]);t=t[o],t&&t.call(this,e,this.events[i]._val)}else this.events[i]&&this.events[i]._val.call(this,e)};r.document.addEvent(t,function(e){for(var t=r[s],n=t.length-1;n>=0;n--)l.call(t[n],e),t[n]&&t[n].eachInstance(l,"events",e)},e)},add:function(t,n){n=s,this.setSetting({name:n,remove:r[e].remove}),l.checkArray(r[s],this)||r[s].push(this)},remove:function(){var t=l.checkArray(r[s],this,!0);if(~t){var n;this.events&&this._from.base.events&&(n=this.events[e]===this._from.base.events[e]),n?console.log(n,"noRemove evnt, are we sure - fix this asap"):r[s].splice(t,1)}}};r[e]=o}function i(e,t,n){1!==e.which||r.down.block||s.call(this,e,t,n)}var r=t.exports=e("./"),a=e("../cases"),l=e("../../util");e("../ua");a.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints||!1,l.define(r,"_out",{value:[]}),r.$makeKeyBoardEvent=o,o("keyboard","keyup"),o("keyboardDown","keydown"),o("keyboardDown$down","keydown"),o("keyboardDown$click","keydown"),r.down={touch:{touchstart:function(e,t,n){if(!r.down.block){var s=e.targetTouches[0]||{};e.x=s.pageX,e.y=s.pageY,t.call(this,e,n)}}},val:{mousedown:i}},r.rdown={touch:{touchstart:function(){}},val:{mousedown:function(e,t,n){3===e.which&&(document.oncontextmenu=function(){return!1},e.preventDefault(),s.call(this,e,t,n),setTimeout(function(){document.oncontextmenu=!1},0))}}},r.move={touch:{touchmove:function(e,t,n){var s=e.targetTouches[0];e.x=s.pageX,e.y=s.pageY,t.call(this,e,n)}},val:{mousemove:s}},r.up={touch:{touchend:function(e,t,n){var s=e.changedTouches;e.x=s[0].pageX,e.y=s[0].pageY,t.call(this,e,n)}},val:{mouseup:s}},r.click={val:{down:function(e,t,n){var s=this,o="click";r.click.block||(s.addEvent("up",function(e){s.removeEvent("up",o);var i=r._maybescroll;i?i.length?r._maybescroll.unshift([t,s]):r._maybescroll=[[t,s]]:r.click.block||t.call(s,e,n)},o),setTimeout(function(){s.removeEvent("up",o)},300))}}},r.rclick={val:{rdown:r.click.val.down}};var u=function(){var e=l.checkArray(r._out,this,!0);~e&&(r._out.splice(e,1),this.removeSetting("_out",c))},c={name:"_out",render:function(){l.checkArray(r._out,this)||r._out.push(this)},remove:u};r.out={create:function(){this.m=!0,r.document.addEvent("up",function(e){for(var t=e.target,n=function(){for(var n,s=t;s&&!n;)s.base&&this===s.base?n=!0:s=s.parentNode;!n&&this.rendered&&this.events.out._val.call(this,e)},s=r._out,o=s.length-1;o>=0;o--)n.call(s[o]),s[o]&&s[o].eachInstance(n,"events")},"out")},add:function(){this.setSetting(c)},remove:u}},{"../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","../ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/index.js":[function(e,t,n){function s(e,t){n[e]?a(e,t):(n[e]={_basic:!0},i(e))}function o(e,t){return function(s){for(var o,i,r=s.target;r;){if(o=r.base){if(i=o.events,i[e]&&(t?n[e]._m.call(o,s,i[e]):i[e]._val&&i[e]._val.call(o,s),s.prevent))return;if(i=o.__e,i&&i[e])for(var a in i[e])if("_uid"!==a&&(t?n[e]._m.call(o,s,i[e][a]):i[e][a].call(o,s),s.prevent))return}r=r.parentNode}}}function i(e,t){var s=e||t;n._r[e]=!0,"scroll"===s?document.addEventListener(s,function(t){var n,s=t.target.base;if(s&&(n=s.events,n&&n[e]&&n[e]._val.call(s,t),n=s.__e,n&&n[e]))for(var o in n[e])"_uid"!==o&&n[e][o].call(s,t)},!0):document.addEventListener(s,n[e].m=o(e))}function r(e,t,i,r){var a=n[e]._m=function(e,n){e.prevent||t.call(this,e,n._val||n.val||n,n)};n[e].m=o(e,!0),n._r[e]=!0,n[i]&&(n[i].m||s(i,r),n[i]._basic?n[e].__e=i:(n[e].__e=n[i].__e,n[e]._m=function(e,t){n[i]._m.call(this,e,function(e){a.call(this,e,t)})})),document.addEventListener(n[i]&&n[i].__e||i,n[e].m)}function a(e,t){n[e].create&&n[e].create(e,t);var s,o,a;for(o in n[e])u[o]===!0&&(s=n[e][o]);if(s||(s=n[e].val)){for(a in s);if(n[e].__e=a,s[a]===!0)n[e]._basic=!0,i(e,a);else for(a in s)n[a]&&n[a].add&&n[e]&&!n[e].add&&(n[e].add=p(n[a].add,e,a)),r(e,s[a],a,t)}}var l=e("../element"),u=e("../cases"),c=e("../../util"),d=function(){};c.define(d,"_uid",{value:0}),n._r={},n.document=new l({node:document}),n.document.exec=function(e){if(this.__e[e]){var t=c.arg(arguments,1);for(var n in this.__e[e])this.__e[e][n].apply(this,t)}};var p=function(e,t,n){return function(){return e.apply(this,arguments)}};n._set=function(e,t,o,i,r,a){var l=this;e.each(function(t){a&&a[t]||(this._val===!1?n[t]&&(n[t].remove&&n[t].remove.call(l),l.eachInstance(n[t].remove,e._prop.name),this.remove()):(n[t]&&n[t].m||s(t,t),n[t].add&&n[t].add.call(l,!1,t)))})},l.base.extend({name:"events",set:n._set}),c.define(l,"addEvent",function(e,t,o){n[e]&&n[e].m||s(e);var i=this.__e||(this.__e={}),r=i[e]||(i[e]=new d);return o||(r._uid++,o=r._uid),r[o]=t,n[e].add&&n[e].add.call(this,o,e),this},"removeEvent",function(e,t,s){var o,i=this.__e;if(i)if(e&&i[e]){if(o=n[e]&&n[e].remove,t)!i[e][t]||s&&i[e][t]!==s||(o&&n[e].remove.call(this,t),delete i[e][t]);else for(t in i[e])s&&i[e][t]!==s||(o&&n[e].remove.call(this,t),delete i[e][t]);c.empty(i[e])&&delete i[e]}else if(!e)for(e in i)this.removeEvent(e,t,s);return c.empty(i)&&delete this.__e,this}),e("./basic")},{"../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","../element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js","./basic":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/basic.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/offset.js":[function(e,t,n){function s(e,t,s,a,l){if(!e)return 0;var u=!1;t||(t=[],u=!0),i.Element&&e instanceof i.Element&&(e=e.node);var c=e[a];if("number"!=typeof c&&(c=0),e.parentNode&&n[s](e.parentNode,t),"absolute"!==(e.style&&e.style.position||e.__preCss||e.className&&(e.__preCss=r(e.className,"position")||!0)))t.push(["rel",c]);else{var d=o(e);t.push(["abs",d?parseInt(d[l],10)+c:c])}if(u){var p,g,h=0;for(g in t)"abs"==t[g][0]?h+=t[g][1]:p=t[g][1];c="rel"===t[t.length-1][0]?h+p:h}return c||0}var o=e("../element/properties/util").getMatrix,i=e("../../"),r=e("../css");n.left=n.x=function(e,t){return s(e,t,"left","offsetLeft",4)},n.top=n.y=function(e,t){return s(e,t,"top","offsetTop",5)}},{"../../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../css":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/css.js","../element/properties/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/properties/util.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js":[function(e,t,n){var s=e("../animation/raf"),o=e("../../util");n.throttle=function(e,t,n){t||(t=20);var o,i,r=!n;return function(){i=arguments,r&&(n=this),o||(o=t,s(function a(){o--,o?s(a):e.apply(n,i)}))}},n.postpone=function(e,t,n){t||(t=200);var s,o,i=!n;return function(){return o=arguments,i&&(n=this),s&&clearTimeout(s),s=setTimeout(function(){e.apply(n,o)},t)}},n.interval=function(e,t,n){t||(t=30);var i,r,a=o.arg(arguments,3);return i||(i=t,s(function l(){i--,i||(i=t,e.apply(n,a)),r||s(l)})),function(){r=!0}}},{"../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/ajax.js":[function(e,t,n){var s,o="addEventListener",i=e("../../util"),r=(e("../ua"),0),a=t.exports=function(e,n){var l=e.url;if(!n&&l instanceof Array){e.m=function(){if(++e.r===e.n){for(var t=0,n=[],s=l.length;s>t;n.push(e.d[l[t++]]));e.complete(n)}},e.r=0,e.d={};for(var c=0,d=e.n=l.length;d>c;t.exports(e,l[c++]));}else{var p=e.data,g=e.encode,h=(e.api||"")+(n||l),f=e.headers,v=e.complete,m=e.progress,b=e.error,w=e.change,_=e.mime,y=e.user,j=e.pass,k=e.jsonp,x=e.parse,U=e.iframe,W=null,C=e.fallback,S=e._fallbackIndex,E=e.type||e.method||"GET",$=e.contentType||"json"===g?"application/json":"application/x-www-form-urlencoded",O=e.async===!1?!1:!0;if(k)a.jsonp(h,v,b);else{var A=new XMLHttpRequest;if(U){r++;var T,P={},L=r;for(var D in e)"error"!==D&&"iframe"!==D&&"complete"!==D&&(P[D]=e[D]);var I=function(){var e;s[U].onload=null;var t=function(e){if(e.data){var n;try{n=JSON.parse(e.data)}catch(e){return void(b&&b(e))}if(n.id!==L)return;if(n.err)return void(b&&b(n.err));var s=n.msg;if(v){if(x!==!1)try{s=JSON.parse(s)}catch(e){}v(s,e)}removeEventListener("message",t)}};window.addEventListener&&(addEventListener("message",t,!1),e=s[U].contentWindow,P=JSON.stringify({msg:P,id:L}),e.postMessage(P,"*"))};return s||(s={}),void(s[U]?s[U].cListeners?s[U].cListeners.push(I):I():(T=s[U]=document.createElement("iframe"),T.src=U,T.cListeners=[I],T.onload=function(){for(var e in T.cListeners)T.cListeners[e]();T.cListeners=null},T.style.visibility="hidden",T.style.width="0px",T.style.height="0px",T.style.position="absolute",document.body.appendChild(T)))}if(p&&("GET"===E?h+="?"+u(p,"GET",g):W=u(p,"POST",g)),A.open(E,h,O,y,j),A.setRequestHeader("Content-Type",$),f)for(var R in f)A.setRequestHeader(R,f[R]);v&&A[o]("load",function(t){var s=(t.target||t.srcElement).response;if(x!==!1)try{s=JSON.parse(s)}catch(t){}e.m?(e.d[n]=s,e.m()):v(s,t)},!1),b&&(S||(e._fallbackIndex=0),C&&S!==C.length?(e._fallbackIndex++,e=i.merge(e,S),a(e,n)):A[o]("error",b,!1)),m&&A[o]("progress",m,!1),w&&(A.onreadystatechange=w),_&&A.overrideMimeType(_),A.send(W)}}},l=0;a.jsonp=function(e,t,n,s,o){o&&o!==!0||(o="callback");var i="_jsonp_"+l++,r=document.createElement("script");e+=e.match(/\?/)?"&"+o+"="+i:"?"+o+"="+i,r.type="text/javascript",r.src=e,n&&(r.onerror=function(e){n(e)}),window[i]=function(e){t.call(s||window,e),document.getElementsByTagName("head")[0].removeChild(r),r=null,delete window[i]},document.getElementsByTagName("head")[0].appendChild(r)};var u=a.encode=function(e,t,n){var s="";if("json"===n)s=JSON.stringify(e);else if(e instanceof Object)if(!i.isNode&&window.FormData&&e instanceof FormData&&"GET"!==t)s=e;else if(e instanceof Array)s=JSON.stringify(e[o]),"uri"===n&&(s=encodeURIComponent(s));else{for(var o in e){var r=e[o];r instanceof Object&&(r=JSON.stringify(r)),"uri"===n&&(o=encodeURIComponent(o),r=encodeURIComponent(r)),s+=o+"="+r+"&"}s=s.slice(0,-1)}else s="uri"===n?encodeURIComponent(e):e;return s}},{"../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/authenticate.js":[function(e,t,n){function s(e){o.define(e,"authenticate",function(e,t,n){function s(){console.error("connect ->>> reAuth?"),o._status>2&&(console.error("reconnect ->>> reAuth!",e),o.authenticate(e,t,!0))}window.authrequest=e;var o=this;return"function"==typeof e&&(e=e()),e?(o.emit("authenticate",e,function(e){e.hop?o.hop(e.hop):t&&t(e)}),n||o.on("connect",s),void(o._reAuth=s)):o.socket.removeListener("connect",s)},"logout",function(e){var t=this;t.emit("logout",e),t.data.users[e]&&t.data.users[e].activeClient&&t.data.users[e].activeClient.from._name===t.clientid&&t.data.users[e].activeClient.remove();var n=t.stamp;e?(t.data.users[e]&&t.data.users[e].activeClient&&t.data.users[e].activeClient.from._name===t.clientid&&(t.data.users[e].activeClient.from=t.data.users[e].activeClient),t.data.users[e].remove(void 0,void 0,void 0,void 0,n)):t.data.users.each(function(e){this.remove(void 0,void 0,void 0,void 0,n)}),t.socket.removeListener("connect",t._reAuth),t._reAuth=null})}var o=e("../../../util");n.extend=o.extend(s)},{"../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/data.js":[function(e,t,n){function s(e,t){}function o(e,t,n){return e.length?(l.path(t,e,n,!0),t):n}function i(e){for(var t in e)e[t]instanceof Object&&(e[t]instanceof p?e[t]={$path:e[t]._path}:i(e[t]))}function r(e,t,n,s,o,r){var a=this.cloud;if("localStorage"!==t&&t!==!1&&t!==a.stamp&&void 0!==e)if(s&&n)n._removed&&a.set(n._hashpath,[n._path,null,a.timeStamp()]);else if(n&&!this._cloudignore&&n._updateOrigin===n){2===n.__t&&e instanceof Object&&i(e);var l=n&&n._path;if(l&&"users"===l[0]&&l[l.length-2]&&"clients"===l[l.length-2])return;if(l&&"users"===l[0]&&"media"===l[1])throw new Error("THIS IS WRONG ABORT!---> setting users.media "+l.join("."));a.set(n._hashpath,[n._path,4===n.__t?{$path:e._path}:e,a.timeStamp()])}}var a,l=e("../../../util"),u=e("../data").inject(e("../../../object/hashpath")),c=e("../data/element"),d=e("../../../data"),p=e("../../../object"),g=(e("monotonic-timestamp"),u["new"](!1,function(e,t,n,o){var i=this;o?(i.cloud=o,i.addListener(r),!l.isNode&&window.cordova&&(document.addEventListener("pause",function(){i.preventUpdate=!0},!1),document.addEventListener("resume",function(){o.kickPing(),i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(function(){i.defered&&i.merge(i.defered.data,!1,i.defered.stamp),i.preventUpdate=null,i.defered=null,i.timeout=null},100)},!1)),o.on("set",function(e){var t=(e.s,e.v),n=o.state.subs.map,r=t[1];if(t[0]instanceof Array)for(var a=t[0].length;hash=t[0][--a];)s(n[hash],e.v[1]);else s(n[e.v[0]],e.v[1]);o.stamp=r,i.preventUpdate?i.defered?(i.defered.stamp=r,i.defered.data=l.merge(i.defered.data,e.s)):i.defered={data:e.s,stamp:r}:i.merge(e.s,!1,r)})):n&&(i.cloud=n.cloud)}));t.exports=g,g.prototype._blacklist.push("cloud","datacloud","_batchUnsub","_cloudignore","_lstamp","$t","$loaded"),a=g.prototype.__update,g.inject(e("vigour-js/object/flags")),g.flags.$path={reset:!0,set:function(e,t,n){if(n)throw new Error("cloud data $path flag reset???");if(t!==this.cloud.stamp)throw new Error("set with $path only allowed from the hub");var s=l.changeType(e);if(s.length&&this._$setVal(this.cloud.data.get(s,{},void 0,t),t,!1,!0),4!==this.__t)throw new Error("cloud data $path flag __t !== 4")}};var h=g.prototype.set,f=g.prototype._$setVal;l.define(g,"_$setVal",function(e,t){if(this.cloud.stamp===t&&!this.$loaded)for(var n=this;n&&!n.$loaded;)n.$loaded=!0,n=n._parent;f.apply(this,arguments)},"set",function(e,t,n,s){return s===this.cloud.stamp||"clients"!==this._name||this[e]||e===this.cloud.clientid||console.error("\n\nI WANT TO BLOCK THIS YA DURK","\nstamp !== this.cloud.stamp",s!==this.cloud.stamp,"\nthis._name === 'clients'","clients"===this._name,"\n!this[name]",!this[e],"\nname !== this.cloud.clientid",e!==this.cloud.clientid),h.apply(this,arguments)},"updateQueue",function(){},"stamp",function(){return this.cloud?this.cloud.timeStamp():void console.error("WAT NO CLOUD?! in this:\n",this)},"__update",function(e,t,n,s,o,i){return this._lstamp=t,a.call(this,e,t,n,s,o,i)},"_set",function(e,t){return!t||this._lstamp>t?void 0:u.prototype._set.apply(this,arguments)},"subscribe",function(e,t,n){if(t&&t.cloud&&t._val===this,e&&"function"!=typeof e){var s,i,r,a,u,g,h,f=this._path,v=e[1],m=(f&&l.checkArray(f,"usage"),v&&!v._col&&(!v._dfrom||v._fmodel));if(m&&!v.getModel);else if(m){var b;e[1]._ignoreFieldInSubscription&&(e[3]||(b=!0)),h=e[3],i=v.getModel(this,e[3],b)}else if(e instanceof d&&e.__sub)i=c.parseData(e);else{if(e instanceof p){if(g=e._listeners)for(var w=0,_=g.length;_>w;w++)this.subscribe(g[w],e);return}!e||!l.isObj(e)||e instanceof Array||(i=e,e=JSON.stringify(e))}if(i){var y;t&&(i=c.parseData(t,i,this._subs)),t&&t.cloud&&t._val===this&&(f=t._path,y=!0),s=o(f,{},i),r=JSON.stringify(s);var j=y?t:this;j._subs||(j._subs=[]),v&&(v._subscribed=!0),a=[i,v||e,r],h&&a.push(h),u=l.checkArray(j._subs,r,2);var k;for(var x in j._subs)j._subs[x][1]===(v||e)&&j._subs[x][2]===r&&(k=!0);k||(j._subs.push(a),u===!1&&this.cloud.subscribe(s,r))}}},"unsubscribe",function(e,t){if(!(!e||e._col||e._filter&&e._filter._col||e._dfrom&&!e._fmodel)){var n,s,i,r,a,u,c,d=this._path,p=e._listeners;if(!l.isObj(e)||e instanceof Array||(e=JSON.stringify(e)),u=this._subs&&l.checkArray(this._subs,e,1),u!==!1&&void 0!==u){if(e.model&&e.model.parsing){if(e.model&&e.model.field){c=this.get(e.model.field.val),c._subs||(c._subs=[]);var g=l.get(this._subs[u][0],e.model.field.val);g&&(this._subs[u][0]=g)}return}s=this._subs[u],n=s[2],a=s[0],i=o(d,{},a),this._subs.splice(u,1),r=l.checkArray(this._subs,n,2),r===!1&&this.cloud.unsubscribe(i,n)}else if(e._removed);else if(p){for(var h=0,f=p.length;f>h;h++)p[h]instanceof Array?this.unsubscribe(p[h][1],e):p[h].__t&&this.unsubscribe(p[h],e);return}}})},{"../../../data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","../../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../../object/hashpath":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/hashpath.js","../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../data":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/data/index.js","../data/element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/data/element.js","monotonic-timestamp":"/Users/shawn/Work/buggin/node_modules/monotonic-timestamp/index.js","vigour-js/object/flags":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/flags.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/datacloud.js":[function(e,t,n){function s(){var e=this;e._joins={},e._status=1,e.on("connect",function(){e._status++,e._reconnect()}),e.state=new g({subs:{map:{},tree:{}},sets:{map:{}}}),e.state.sets.list||e.state.sets.set("list",[]),e.batch={maps:{sets:{},subs:{},unsubs:{}}},e.data=new d({},!1,!1,this),e._qTimer=setInterval(function(){e._doBatch()},f),e.on("subscribed",function(e){})}function o(e,t,n){t.each(function(t){this._subs&&this._subs.each(function(){n&&this.from.subsobj._v&&this.from.subsobj._v.remove(),e.unsubscribe(this.from)}),"_subs"!==t&&o(e,this,n)})}function i(e,t,n,s){var o=n.__t,i=s[e];if(i){var r=t[1],l=t[2],u=i.update[1];if(o&&(u=u.raw),r instanceof Object&&u instanceof Object&&!r.$path&&!u.$path&&(o||(u=c.clone(u)),r=c.merge(u,r)),o?(i.update.set(1,r),i.update.set(2,l)):(i.update[1]=r,i.update[2]=l),!o){var d=i.i,p=n.length-1;if(d!==p){a(n,d);for(var g in s)s[g].i>=d&&s[g].i--;i.i=p}}}else{var h={update:t,i:n.length};o?s.set(e,h):s[e]=h,i=s[e],n.push(i.update)}}function r(e,t,n){t.each(function(s){return"*"===s?(e.$||e.set("$",{}),void t["*"].each(function(s){t["*"][s][1].each(function(o){r(e.$,t["*"][s][1][o],n)})})):(e[s]||e.set(s,{}),void(t[s].val===!0?e[s]._subs?e[s]._subs.push(n):e[s].set("_subs",[n]):r(e[s],t[s],n)))})}function a(e,t){for(var n=e[t];e[t+1];)e[t]=e[++t];e[t]=n}function l(e,t){for(;e[t+1];)e[t]=e[++t];e.pop()}t.exports=s;var u=e("monotonic-timestamp"),c=e("../../../util/object"),d=e("./data"),p=e("../../../object"),g=(p["new"]({merge:!0}),p["new"]({merge:!0})),h=e("../../../util/hash"),f=20,v="subs",m="sets",b="unsubs";s.prototype.timeSync=function(){var e=this,t=Date.now();e.emit("time",function(n){var s=Date.now()-t,o=t+s/2,i=n-o;s<e._timeTravel&&(e._timeTravel=s,e._timeOffset=i);var r=e._timeTries++;(s>75&&10>r||s>50&&5>r||s>20&&2>r)&&e.timeSync()})},s.prototype.outList=function(e){var t=this.batch;return t.lists?t.lists[e]?t.lists[e]:t.lists[e]=[]:(t.lists={},t.lists[e]=[])},s.prototype._doBatch=function(){var e=this,t=e.batch.lists;t&&(e.emit("batch",t),e.batch.lists=null,e.batch.maps={subs:{},sets:{},unsubs:{}})},s.prototype._clearCache=function(){},s.prototype.subscribe=function(e,t){var n,s,o=this,i=o.state;if(e.hash&&e.subsobj?(n=e.hash,s=e):(t||(t=JSON.stringify(e)),n=h(t),s=i.subs.map[n]),s){if(!s.active||s.active._val)return;s.active.val=o._status}else{i.subs.map.set(n,{hash:n,subsobj:e,active:o._status,cleared:!1}),s=i.subs.map[n];var a=i.subs.tree;r(a,s.subsobj,s)}var l=o.batch.maps.unsubs,u=l[n];if(void 0!==u)return void o.cancel(n,u,b);var d,p=o.outList(v),g=o.batch.maps.subs;if(s.cleared._val)d=s.subsobj.raw,s.cleared.val=o._status;else{s.cleared.val=o._status;var f=o.getDeps(i.subs.tree,s.subsobj,s,{});d=c.empty(f)?s.subsobj.raw:{$subsobj:s.subsobj.raw,$depends:f}}g[n]=p.length,p.push(d)},s.prototype.getDeps=function w(e,t,n,s){return t.each(function(o){var i=e[o];i&&(i._subs&&i._subs.each(function(e){var t=this._val;!t.subsobj._v||t.hash._val===n.hash._val||t.cleared._val||s[t.hash._val]||(t.cleared.val=n.cleared._val,s[t.hash._val]=t.subsobj.raw)}),w(i,t[o],n,s))}),s},s.prototype.unsubscribe=function(e,t){var n=this;if(e instanceof Array){var s=n.state.subs.tree,i=s.get(e);i&&o(n,i,t)}else{var r,a,l=n.batch.maps.subs;if(e.hash)r=e.hash.val,a=e;else{t||(t=JSON.stringify(e)),r=h(t);var u=n.state.subs.map;a=u[r]}var c=l[r];if(void 0!==c)n.cancel(r,c,v);else{var d=n.outList("unsubs");n.batch.maps.unsubs[r]=d.length,d.push(r)}a.active.val=!1}},s.prototype.cancel=function(e,t,n){var s=this.batch,o=s.lists[n];l(o,t),o.length||(delete s.lists[n],c.empty(s.lists)&&delete s.lists);var i=s.maps[n];delete i[e];for(e in i)i[e]>t&&i[e]--},s.prototype.set=function(e,t){!t[0].length;var n=this,s=n.outList(m),o=n.batch.maps.sets;i(e,t,s,o)},s.prototype._reconnect=function(){var e=this,t=e.state,n=t.subs.map;if(e._timeTries=0,e._timeTravel=1/0,e.timeSync(),e.stamp="cleanup",e.data.clients){var s=e.data.clients[e.clientid];s&&(s=s.raw,delete s.key,delete s.type,delete s.ip,delete s.token),e.data.set("clients",{clear:!0},void 0,e.stamp),e.clientid&&e.client&&(e.client.val=e.data.clients.get(e.clientid,{}),s&&(e.client.from.val=s))}e.data.users&&e.data.users.each(function(){this.set("clients",{clear:!0},void 0,e.stamp)});var o=[];n.each(function(e){var t=this,n=t.active,s=t.cleared;1===n._val?(n.val=!0,s.val=!0):n._val?(n.val=!1,1===s._val?s.val=!0:s._val&&(s.val=!1),o.push(t)):s._val&&(1===s._val?s.val=!0:s.val=!1)});for(var i,r=0;i=o[r];r++)e.subscribe(i);for(var a in e._joins)e.join(e._joins[a],!0)},s.prototype.timeStamp=function(){var e=u();return this._timeOffset&&(e+=this._timeOffset),e}},{"../../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../../util/hash":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/hash.js","../../../util/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/object.js","./data":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/data.js","monotonic-timestamp":"/Users/shawn/Work/buggin/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/emitter.js":[function(e,t,n){function s(e){return e?o(e):void 0}function o(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}t.exports=s,s.prototype.on=s.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},s.prototype.once=function(e,t){function n(){s.off(e,n),t.apply(this,arguments)}var s=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var s,o=0;o<n.length;o++)if(s=n[o],s===t||s.fn===t){n.splice(o,1);break}return this},s.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var s=0,o=n.length;o>s;++s)n[s].apply(this,t)}return this},s.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},s.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/index.js":[function(e,t,n){function s(e,t,n){for(var s=n.length-1;s>=0;s--)o(e,t,n[s])}function o(e,t,n){e[n]=function(){var e=this[t];e[n].apply(e,arguments)}}function i(){var e=c.arg(arguments);e.unshift(w),console.log.apply(console,e)}function r(e){return function(){var t=c.arg(arguments);t.unshift(w,e),console.log.apply(console,t)}}function a(e){return e=e||p.session("VID")||g("V_"),p.session("VID",e)}function l(e,t){for(var n in e._callbacks)for(var s,o=e._callbacks[n],i=0;s=o[i];i++)"on"===s.name&&s.fn?t.once(n,s.fn):t.on(n,s);e.off()}function u(e,t){var n=e.indexOf("?");return n>-1&&(e=e.slice(0,n)),e+"?"+h(t,"GET","uri")}var c=e("../../../util"),d=e(c.isNode?"socket.io-client":"./socket.io.js"),p=e("../../../util/global"),g=e("../../../util/id"),h=e("../ajax").encode,f=e("../../../object"),v=e("../../../value"),m=e("./emitter"),b=t.exports=function(e,t){t||(t={});var n=this;if(n.params=t,n.url=e,n.VID=t.VID=a(t.VID),n.connected=new v(!1),n.api=new v({defer:function(e,t){var n=this.from.__t;if(2!==n)throw new Error("cloud.api needs to be an Object");e()}}),t.api&&(n.api.val=t.api),n.addDocumentListeners(),e instanceof f){var s=e.val;if(s)n.init(e,t);else{var o=new m;o.emit=function(){var e=n.emitbuffer||(n.emitbuffer=[]);e.push(arguments)},o.placeholder=!0,n.socket=o,e.addListener(function(s,o,i,r){this.val&&n.init(e,t)})}}else n.init(e,t)};b.inject=e("../../../util/inject"),b.prototype.addDocumentListeners=function(){var e=this;!c.isNode&&window.cordova&&(document.addEventListener("resume",function(){e.connected.val=!1},!1),document.addEventListener("pause",function(){e.connected.val=!1},!1))},b.prototype.init=function(e,t){var n=this,s=n.connect(e,t,{disconnect:function(){i("disconnect"),n.connected.val=!1},connect:function(){i("connect"),n.connected.val=!0,s.io.engine.on("heartbeat",function(){n.connected.val=!0})},welcome:function(e){i("welcome"),e=e.split("@");var s=(n.clientid=e[0],e[1]);n.state;n.hub=t.h=s,n.socket.io.uri=u(n.socket.io.uri,t)},hop:function(e){i("hop"),n.hop(e)},err:function(e){i.error(e),"tokenCheck"===e.type&&"undefined"!=typeof localStorage&&(localStorage.removeItem("productionuserToken"),localStorage.removeItem("userId"))},reconnecting:r("reconnecting"),reconnect_attempt:r("reconnect_attempt"),reconnect:r("reconnect"),reconnect_failed:r("reconnect_failed")}),o=n.emitbuffer;if(o){for(var a in o)s.emit.apply(s,o[a]);n.emitbuffer=null}},b.prototype.connect=function(e,t,n){var s=this;e||(e=s.url),t||(t=s.params),e instanceof f&&(e=e.val),e=u(e,t);var o=s.socket;o&&!o.placeholder&&(o.disconnect(),o.io.disconnect());var i=s.socket=new d(e,{forceNew:!0,timeout:5e3});if(n)for(var r in n)i.on(r,n[r]);o&&l(o,i),window.cloudmessages=[];var a=s.socket.onevent;s.socket.onevent=function(e){window.cloudmessages.push(JSON.stringify(e.data,!1,2)),a.apply(this,arguments)};var c=s.socket.emit;return s.socket.emit=function(e,t){if("function"!=typeof t&&"batch"===e){if(t.subs)for(var n in t.subs)t.subs[n].mtvData;if(t.sets)for(var n in t.sets);}c.apply(this,arguments)},i},b.prototype.hop=function(e){var t=this,n=t.params;-1!==e.indexOf("@")&&(t.url="ws://"+e.split("@")[1]),t.hub=n.h=e,t.connect()},b.prototype.whenReady=function(e){this.clientid?e():this.once("welcome",e)},b.prototype.kickPing=function(e){var t=this.socket.io.engine;t.ping(),t.onHeartbeat(e||t.pingTimeout),t.setPing()},b.prototype.disconnect=function(){var e=this.socket;e&&(e.disconnect(),e.io.disconnect())},s(b.prototype,"socket",["on","once","emit"]);var w=":: vigour-cloud ::";i.error=function(e,t){console.error(w,e,"\n",t)}},{"../../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../../util/global":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/global.js","../../../util/id":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/id.js","../../../util/inject":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/inject.js","../../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../ajax":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/ajax.js","./emitter":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/emitter.js","./socket.io.js":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/socket.io.js",
"socket.io-client":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/socket.io.js":[function(e,t,n){(function(s){!function(e){if("object"==typeof n&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof s?o=s:"undefined"!=typeof self&&(o=self),o.io=e()}}(function(){var t;return function n(t,s,o){function i(a,l){if(!s[a]){if(!t[a]){var u="function"==typeof e&&e;if(!l&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=s[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,n,t,s,o)}return s[a].exports}for(var r="function"==typeof e&&e,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){function s(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,s=o(e),i=s.source,u=s.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",i),n=r(i,t)):(l[u]||(a("new io instance for %s",i),l[u]=r(i,t)),n=l[u]),n.socket(s.path)}var o=e("./url"),i=e("socket.io-parser"),r=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=s;var l=n.managers={};n.protocol=i.protocol,n.connect=s,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(e,t,n){function s(e,t){return this instanceof s?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=0,this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new s(e,t)}var o=(e("./url"),e("engine.io-client")),i=e("./socket"),r=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),u=e("component-bind"),c=(e("object-component"),e("debug")("socket.io-client:manager"));t.exports=s,s.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},r(s.prototype),s.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},s.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},s.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this):this._reconnectionDelay},s.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this):this._reconnectionDelayMax},s.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},s.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())},s.prototype.open=s.prototype.connect=function(e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=o(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening";var s=l(t,"open",function(){n.onopen(),e&&e()}),i=l(t,"error",function(t){if(c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var s=new Error("Connection error");s.data=t,e(s)}n.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;c("connect attempt will timeout after %d",r);var a=setTimeout(function(){c("connect attempt timed out after %d",r),s.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(s),this.subs.push(i),this},s.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",u(this,"ondata"))),this.subs.push(l(this.decoder,"decoded",u(this,"ondecoded"))),this.subs.push(l(e,"error",u(this,"onerror"))),this.subs.push(l(e,"close",u(this,"onclose")))},s.prototype.ondata=function(e){this.decoder.add(e)},s.prototype.ondecoded=function(e){this.emit("packet",e)},s.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},s.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new i(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){n.connected++})}return t},s.prototype.destroy=function(e){--this.connected||this.close()},s.prototype.packet=function(e){c("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},s.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},s.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},s.prototype.close=s.prototype.disconnect=function(){this.skipReconnect=!0,this.engine.close()},s.prototype.onclose=function(e){c("close"),this.cleanup(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},s.prototype.reconnect=function(){if(this.reconnecting)return this;var e=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)c("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.attempts*this.reconnectionDelay();t=Math.min(t,this.reconnectionDelayMax()),c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){c("attempting reconnect"),e.emitAll("reconnect_attempt",e.attempts),e.emitAll("reconnecting",e.attempts),e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},s.prototype.onreconnect=function(){var e=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",e)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,"object-component":37,"socket.io-parser":40}],4:[function(e,t,n){function s(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=s},{}],5:[function(e,t,n){function s(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.subEvents()}var o=e("socket.io-parser"),i=e("component-emitter"),r=e("to-array"),a=e("./on"),l=e("component-bind"),u=e("debug")("socket.io-client:socket"),c=e("has-binary");e("indexof");t.exports=n=s;var d={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},p=i.prototype.emit;i(s.prototype),s.prototype.subEvents=function(){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]},s.prototype.open=s.prototype.connect=function(){return this.connected?this:(this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},s.prototype.send=function(){var e=r(arguments);return e.unshift("message"),this.emit.apply(this,e),this},s.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=r(arguments),n=o.EVENT;c(t)&&(n=o.BINARY_EVENT);var s={type:n,data:t};return"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),s.id=this.ids++),this.connected?this.packet(s):this.sendBuffer.push(s),this},s.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},s.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},s.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,this.emit("disconnect",e)},s.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},s.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},s.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var s=r(arguments);u("sending ack %j",s);var i=c(s)?o.BINARY_ACK:o.ACK;t.packet({type:i,id:e,data:s})}}},s.prototype.onack=function(e){u("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},s.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},s.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},s.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},s.prototype.destroy=function(){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.io.destroy(this)},s.prototype.close=s.prototype.disconnect=function(){return this.connected?(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT}),this.destroy(),this.onclose("io client disconnect"),this):this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,indexof:36,"socket.io-parser":40,"to-array":44}],6:[function(e,t,n){(function(n){function s(e,t){var s=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.hostname),"string"==typeof e&&("/"==e.charAt(0)&&"undefined"!=typeof t&&(e=t.hostname+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),s=o(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/",s.id=s.protocol+"://"+s.host+":"+s.port,s.href=s.protocol+"://"+s.host+(t&&t.port==s.port?"":":"+s.port),s}var o=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:9,parseuri:38}],7:[function(e,t,n){var s=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=s.call(arguments,2);return function(){return t.apply(e,n.concat(s.call(arguments)))}}},{}],8:[function(e,t,n){function s(e){return e?o(e):void 0}function o(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}t.exports=s,s.prototype.on=s.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},s.prototype.once=function(e,t){function n(){s.off(e,n),t.apply(this,arguments)}var s=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var s,o=0;o<n.length;o++)if(s=n[o],s===t||s.fn===t){n.splice(o,1);break}return this},s.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var s=0,o=n.length;o>s;++s)n[s].apply(this,t)}return this},s.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},s.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,n){function s(e){return s.enabled(e)?function(t){t=o(t);var n=new Date,i=n-(s[e]||n);s[e]=n,t=e+" "+t+" +"+s.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(e){return e instanceof Error?e.stack||e.message:e}t.exports=s,s.names=[],s.skips=[],s.enable=function(e){try{localStorage.debug=e}catch(t){}for(var n=(e||"").split(/[\s,]+/),o=n.length,i=0;o>i;i++)e=n[i].replace("*",".*?"),"-"===e[0]?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$"))},s.disable=function(){s.enable("")},s.humanize=function(e){var t=1e3,n=6e4,s=60*n;return e>=s?(e/s).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},s.enabled=function(e){for(var t=0,n=s.skips.length;n>t;t++)if(s.skips[t].test(e))return!1;for(var t=0,n=s.names.length;n>t;t++)if(s.names[t].test(e))return!0;return!1};try{window.localStorage&&s.enable(localStorage.debug)}catch(i){}},{}],10:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":21}],12:[function(e,t,n){(function(n){function s(e,t){if(!(this instanceof s))return new s(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=c(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var o=t.host.split(":");t.hostname=o.shift(),o.length&&(t.port=o.pop())}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=e("./transports"),r=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),u=e("engine.io-parser"),c=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=s,s.priorWebsocketSuccess=!1,r(s.prototype),s.protocol=u.protocol,s.Socket=s,s.Transport=e("./transport"),s.transports=e("./transports"),s.parser=e("engine.io-parser"),s.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return n},s.prototype.open=function(){var e;if(this.rememberUpgrade&&s.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},s.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},s.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data)a('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",c),s.priorWebsocketSuccess="websocket"==c.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&"closing"!=p.readyState&&(a("changing transport and sending upgrade packet"),u(),p.setTransport(c),c.send([{type:"upgrade"}]),p.emit("upgrade",c),c=null,p.upgrading=!1,p.flush())});else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=c.name,p.emit("upgradeError",n)}}))}function n(){d||(d=!0,u(),c.close(),c=null)}function o(t){var s=new Error("probe error: "+t);s.transport=c.name,n(),a('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",s)}function i(){o("transport closed")}function r(){o("socket closed")}function l(e){c&&e.name!=c.name&&(a('"%s" works - aborting "%s"',e.name,c.name),n())}function u(){c.removeListener("open",t),c.removeListener("error",o),c.removeListener("close",i),p.removeListener("close",r),p.removeListener("upgrading",l)}a('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),d=!1,p=this;s.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",o),c.once("close",i),this.once("close",r),this.once("upgrading",l),c.open()},s.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",s.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},s.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},s.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},s.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},s.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},s.prototype.ping=function(){this.sendPacket("ping")},s.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},s.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},s.prototype.write=s.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},s.prototype.sendPacket=function(e,t,n){var s={type:e,data:t};this.emit("packetCreate",s),this.writeBuffer.push(s),this.callbackBuffer.push(n),this.flush()},s.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.onClose("forced close"),a("socket closing - telling transport to close"),this.transport.close()),this},s.prototype.onError=function(e){a("socket error %j",e),s.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},s.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},s.prototype.filterUpgrades=function(e){for(var t=[],n=0,s=e.length;s>n;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(e,t,n){function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR}var o=e("engine.io-parser"),i=e("component-emitter");t.exports=s,i(s.prototype),s.timestamps=0,s.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},s.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":21}],14:[function(e,t,n){(function(t){function s(e){var n,s=!1,a=!1,l=!1!==e.jsonp;if(t.location){var u="https:"==location.protocol,c=location.port;c||(c=u?443:80),s=e.hostname!=location.hostname||c!=e.port,a=e.secure!=u}if(e.xdomain=s,e.xscheme=a,n=new o(e),"open"in n&&!e.forceJSONP)return new i(e);if(!l)throw new Error("JSONP disabled");return new r(e)}var o=e("xmlhttprequest"),i=e("./polling-xhr"),r=e("./polling-jsonp"),a=e("./websocket");n.polling=s,n.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(e,t,n){(function(n){function s(){}function o(e){i.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=s)})}var i=e("./polling"),r=e("component-inherit");t.exports=o;var a,l=/\n/g,u=/\\n/g;r(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t;var s="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);s&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){s(),t()}function s(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(e){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,r=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=c,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}this.form.action=this.uri(),s(),e=e.replace(u,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(e,t,n){(function(n){function s(){}function o(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,s=location.port;s||(s=t?443:80),this.xd=e.hostname!=n.location.hostname||s!=e.port,this.xs=e.secure!=t}}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.create()}function r(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var a=e("xmlhttprequest"),l=e("./polling"),u=e("component-emitter"),c=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,c(o,l),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,s=this.request({method:"POST",data:e,isBinary:n}),o=this;s.on("success",t),s.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=s},o.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(i.prototype),i.prototype.create=function(){var e=this.xhr=new a({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),t=this;try{if(d("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){t.onLoad()},e.onerror=function(){t.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?t.onLoad():setTimeout(function(){t.onError(e.status)},0))},d("xhr data %s",this.data),e.send(this.data)}catch(s){return void setTimeout(function(){t.onError(s)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup()},i.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s;try{this.xhr.abort()}catch(e){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",r):n.addEventListener&&n.addEventListener("beforeunload",r))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(e,t,n){function s(e){var t=e&&e.forceBase64;(!u||t)&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("parseqs"),r=e("engine.io-parser"),a=e("component-inherit"),l=e("debug")("engine.io-client:polling");t.exports=s;var u=function(){var t=e("xmlhttprequest"),n=new t({agent:this.agent,xdomain:!1});return null!=n.responseType}();a(s,o),s.prototype.name="polling",s.prototype.doOpen=function(){this.poll()},s.prototype.pause=function(e){function t(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var s=0;this.polling&&(l("we are currently polling - waiting to pause"),s++,this.once("pollComplete",function(){l("pre-pause polling complete"),--s||t()})),this.writable||(l("we are currently writing - waiting to pause"),s++,this.once("drain",function(){l("pre-pause writing complete"),--s||t()}))}else t()},s.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},s.prototype.onData=function(e){var t=this;l("polling got data %s",e);var n=function(e,n,s){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};r.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},s.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},s.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},s.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],18:[function(e,t,n){function s(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("engine.io-parser"),r=e("parseqs"),a=e("component-inherit"),l=e("debug")("engine.io-client:websocket"),u=e("ws");t.exports=s,a(s,o),s.prototype.name="websocket",s.prototype.supportsBinary=!0,s.prototype.doOpen=function(){
if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent};this.ws=new u(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},s.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(s.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),s.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var s=0,o=e.length;o>s;s++)i.encodePacket(e[s],this.supportsBinary,function(e){try{n.ws.send(e)}catch(t){l("websocket closed before onclose event")}});setTimeout(t,0)},s.prototype.onClose=function(){o.prototype.onClose.call(this)},s.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},s.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=r.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},s.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===s.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(e,t,n){var s=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(i){}try{if("undefined"!=typeof XMLHttpRequest&&(!t||s))return new XMLHttpRequest}catch(i){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{"has-cors":34}],20:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],21:[function(e,t,n){(function(t){function s(e,t,s){if(!t)return n.encodeBase64Packet(e,s);var o=e.data,i=new Uint8Array(o),r=new Uint8Array(1+o.byteLength);r[0]=g[e.type];for(var a=0;a<i.length;a++)r[a+1]=i[a];return s(r.buffer)}function o(e,t,s){if(!t)return n.encodeBase64Packet(e,s);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,s)},o.readAsArrayBuffer(e.data)}function i(e,t,s){if(!t)return n.encodeBase64Packet(e,s);if(p)return o(e,t,s);var i=new Uint8Array(1);i[0]=g[e.type];var r=new v([i.buffer,e.data]);return s(r)}function r(e,t,n){for(var s=new Array(e.length),o=c(e.length,n),i=function(e,n,o){t(n,function(t,n){s[e]=n,o(t,s)})},r=0;r<e.length;r++)i(r,e[r],o)}var a=e("./keys"),l=e("arraybuffer.slice"),u=e("base64-arraybuffer"),c=e("after"),d=e("utf8"),p=navigator.userAgent.match(/Android/i);n.protocol=3;var g=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=a(g),f={type:"error",data:"parser error"},v=e("blob");n.encodePacket=function(e,n,o,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof o&&(r=o,o=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return s(e,n,r);if(v&&a instanceof t.Blob)return i(e,n,r);var l=g[e.type];return void 0!==e.data&&(l+=o?d.encode(String(e.data)):String(e.data)),r(""+l)},n.encodeBase64Packet=function(e,s){var o="b"+n.packets[e.type];if(v&&e.data instanceof v){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];s(o+e)},i.readAsDataURL(e.data)}var r;try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),u=new Array(l.length),c=0;c<l.length;c++)u[c]=l[c];r=String.fromCharCode.apply(null,u)}return o+=t.btoa(r),s(o)},n.decodePacket=function(e,t,s){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(s)try{e=d.decode(e)}catch(o){return f}var i=e.charAt(0);return Number(i)==i&&h[i]?e.length>1?{type:h[i],data:e.substring(1)}:{type:h[i]}:f}var r=new Uint8Array(e),i=r[0],a=l(e,1);return v&&"blob"===t&&(a=new v([a])),{type:h[i],data:a}},n.decodeBase64Packet=function(e,n){var s=h[e.charAt(0)];if(!t.ArrayBuffer)return{type:s,data:{base64:!0,data:e.substr(1)}};var o=u.decode(e.substr(1));return"blob"===n&&v&&(o=new v([o])),{type:s,data:o}},n.encodePayload=function(e,t,s){function o(e){return e.length+":"+e}function i(e,s){n.encodePacket(e,t,!0,function(e){s(null,o(e))})}return"function"==typeof t&&(s=t,t=null),t?v&&!p?n.encodePayloadAsBlob(e,s):n.encodePayloadAsArrayBuffer(e,s):e.length?void r(e,i,function(e,t){return s(t.join(""))}):s("0:")},n.decodePayload=function(e,t,s){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,s);"function"==typeof t&&(s=t,t=null);var o;if(""==e)return s(f,0,1);for(var i,r,a="",l=0,u=e.length;u>l;l++){var c=e.charAt(l);if(":"!=c)a+=c;else{if(""==a||a!=(i=Number(a)))return s(f,0,1);if(r=e.substr(l+1,i),a!=r.length)return s(f,0,1);if(r.length){if(o=n.decodePacket(r,t,!0),f.type==o.type&&f.data==o.data)return s(f,0,1);var d=s(o,l+i,u);if(!1===d)return}l+=i,a=""}}return""!=a?s(f,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function s(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void r(e,s,function(e,n){var s=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(s),i=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var s=new Uint8Array(e.length),r=0;r<e.length;r++)s[r]=e.charCodeAt(r);n=s.buffer}t?o[i++]=0:o[i++]=1;for(var a=n.byteLength.toString(),r=0;r<a.length;r++)o[i++]=parseInt(a[r]);o[i++]=255;for(var s=new Uint8Array(n),r=0;r<s.length;r++)o[i++]=s[r]}),t(o.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function s(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var s=new Uint8Array(e.length),o=0;o<e.length;o++)s[o]=e.charCodeAt(o);e=s.buffer,n[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,r=i.toString(),a=new Uint8Array(r.length+1),o=0;o<r.length;o++)a[o]=parseInt(r[o]);if(a[r.length]=255,v){var l=new v([n.buffer,a.buffer,e]);t(null,l)}})}r(e,s,function(e,n){return t(new v(n))})},n.decodePayloadAsBinary=function(e,t,s){"function"==typeof t&&(s=t,t=null);for(var o=e,i=[],r=!1;o.byteLength>0;){for(var a=new Uint8Array(o),u=0===a[0],c="",d=1;255!=a[d];d++){if(c.length>310){r=!0;break}c+=a[d]}if(r)return s(f,0,1);o=l(o,2+c.length),c=parseInt(c);var p=l(o,0,c);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(g){var h=new Uint8Array(p);p="";for(var d=0;d<h.length;d++)p+=String.fromCharCode(h[d])}i.push(p),o=l(o,c)}var v=i.length;i.forEach(function(e,o){s(n.decodePacket(e,t,!0),o,v)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var s in e)n.call(e,s)&&t.push(s);return t}},{}],23:[function(e,t,n){function s(e,t,n){function s(e,o){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(i=!0,t(e),t=n):0!==s.count||i||t(null,o)}var i=!1;return n=n||o,s.count=e,0===e?t():s}function o(){}t.exports=s},{}],24:[function(e,t,n){t.exports=function(e,t,n){var s=e.byteLength;if(t=t||0,n=n||s,e.slice)return e.slice(t,n);if(0>t&&(t+=s),0>n&&(n+=s),n>s&&(n=s),t>=s||t>=n||0===s)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),r=t,a=0;n>r;r++,a++)i[a]=o[r];return i.buffer}},{}],25:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,s=new Uint8Array(t),o=s.length,i="";for(n=0;o>n;n+=3)i+=e[s[n]>>2],i+=e[(3&s[n])<<4|s[n+1]>>4],i+=e[(15&s[n+1])<<2|s[n+2]>>6],i+=e[63&s[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(t){var n,s,o,i,r,a=.75*t.length,l=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),d=new Uint8Array(c);for(n=0;l>n;n+=4)s=e.indexOf(t[n]),o=e.indexOf(t[n+1]),i=e.indexOf(t[n+2]),r=e.indexOf(t[n+3]),d[u++]=s<<2|o>>4,d[u++]=(15&o)<<4|i>>2,d[u++]=(3&i)<<6|63&r;return c}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(e,t,n){(function(e){function n(e,t){t=t||{};for(var n=new s,o=0;o<e.length;o++)n.append(e[o]);return t.type?n.getBlob(t.type):n.getBlob()}var s=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{var e=new Blob(["hi"]);return 2==e.size}catch(t){return!1}}(),i=s&&s.prototype.append&&s.prototype.getBlob;t.exports=function(){return o?e.Blob:i?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,n,s){(function(e){!function(o){function i(e){for(var t,n,s=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?s.push(((1023&t)<<10)+(1023&n)+65536):(s.push(t),o--)):s.push(t);return s}function r(e){for(var t,n=e.length,s=-1,o="";++s<n;)t=e[s],t>65535&&(t-=65536,o+=w(t>>>10&1023|55296),t=56320|1023&t),o+=w(t);return o}function a(e,t){return w(e>>t&63|128)}function l(e){if(0==(4294967168&e))return w(e);var t="";return 0==(4294965248&e)?t=w(e>>6&31|192):0==(4294901760&e)?(t=w(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=w(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=w(63&e|128)}function u(e){for(var t,n=i(e),s=n.length,o=-1,r="";++o<s;)t=n[o],r+=l(t);return r}function c(){if(b>=m)throw Error("Invalid byte index");var e=255&v[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,t,n,s,o;if(b>m)throw Error("Invalid byte index");if(b==m)return!1;if(e=255&v[b],b++,0==(128&e))return e;if(192==(224&e)){var t=c();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=c(),n=c(),o=(15&e)<<12|t<<6|n,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=c(),n=c(),s=c(),o=(15&e)<<18|t<<12|n<<6|s,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function p(e){v=i(e),m=v.length,b=0;for(var t,n=[];(t=d())!==!1;)n.push(t);return r(n)}var g="object"==typeof s&&s,h="object"==typeof n&&n&&n.exports==g&&n,f="object"==typeof e&&e;(f.global===f||f.window===f)&&(o=f);var v,m,b,w=String.fromCharCode,_={version:"2.0.0",encode:u,decode:p};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return _});else if(g&&!g.nodeType)if(h)h.exports=_;else{var y={},j=y.hasOwnProperty;for(var k in _)j.call(_,k)&&(g[k]=_[k])}else o.utf8=_}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,s=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(r,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(s,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),s=0,o=n.length;o>s;s++){var i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],30:[function(e,t,n){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var r=s.exec(e||""),a={},l=14;l--;)a[o[l]]=r[l]||"";return-1!=n&&-1!=i&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],31:[function(e,t,n){function s(e,t,n){var s;return s=t?new i(e,t):new i(e)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket;t.exports=i?s:null,i&&(s.prototype=i.prototype)},{}],32:[function(e,t,n){(function(n){function s(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var s=0;s<e.length;s++)if(t(e[s]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],34:[function(e,t,n){var s=e("global");try{t.exports="XMLHttpRequest"in s&&"withCredentials"in new s.XMLHttpRequest}catch(o){t.exports=!1}},{global:35}],35:[function(e,t,n){t.exports=function(){return this}()},{}],36:[function(e,t,n){var s=[].indexOf;t.exports=function(e,t){if(s)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],37:[function(e,t,n){var s=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],38:[function(e,t,n){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=s.exec(e||""),n={},i=14;i--;)n[o[i]]=t[i]||"";return n}},{}],39:[function(e,t,n){(function(t){var s=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(s(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t(e[a]);return r}if("object"==typeof e&&!(e instanceof Date)){var r={};for(var l in e)r[l]=t(e[l]);return r}return e}var n=[],i=e.data,r=e;return r.data=t(i),r.attachments=n.length,{packet:r,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(s(e)){for(var i=0;i<e.length;i++)e[i]=n(e[i]);return e}if(e&&"object"==typeof e){for(var r in e)e[r]=n(e[r]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function i(e,l,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){r++;var c=new FileReader;c.onload=function(){u?u[l]=this.result:a=this.result,--r||n(a)},c.readAsArrayBuffer(e)}else if(s(e))for(var d=0;d<e.length;d++)i(e[d],d,e);else if(e&&"object"==typeof e&&!o(e))for(var p in e)i(e[p],p,e)}var r=0,a=e;i(a),r||n(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(e,t,n){function s(){}function o(e){var t="",s=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(s=!0,t+=e.nsp),null!=e.id&&(s&&(t+=",",s=!1),t+=e.id),null!=e.data&&(s&&(t+=","),t+=d.stringify(e.data)),c("encoded %j as %s",e,t),t}function i(e,t){function n(e){var n=g.deconstructPacket(e),s=o(n.packet),i=n.buffers;i.unshift(s),t(i)}g.removeBlobs(e,n)}function r(){this.reconstructor=null}function a(e){var t={},s=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return u();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(t.attachments="";"-"!=e.charAt(++s);)t.attachments+=e.charAt(s);t.attachments=Number(t.attachments)}if("/"==e.charAt(s+1))for(t.nsp="";++s;){var o=e.charAt(s);if(","==o)break;if(t.nsp+=o,s+1==e.length)break}else t.nsp="/";var i=e.charAt(s+1);if(""!=i&&Number(i)==i){for(t.id="";++s;){var o=e.charAt(s);if(null==o||Number(o)!=o){--s;break}if(t.id+=e.charAt(s),s+1==e.length)break}t.id=Number(t.id)}if(e.charAt(++s))try{t.data=d.parse(e.substr(s))}catch(r){return u()}return c("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:n.ERROR,data:"parser error"}}var c=e("debug")("socket.io-parser"),d=e("json3"),p=(e("isarray"),e("component-emitter")),g=e("./binary"),h=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=s,n.Decoder=r,s.prototype.encode=function(e,t){if(c("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)i(e,t);else{var s=o(e);t([s])}},p(r.prototype),r.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=g.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t,n){t.exports=e(33)},{}],43:[function(e,n,s){!function(e){function n(e){if(n[e]!==r)return n[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=n("json-stringify")&&n("json-parse");else{var s,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var i=c.stringify,l="function"==typeof i&&d;if(l){(s=function(){return 1}).toJSON=s;try{l="0"===i(0)&&"0"===i(new Number)&&'""'==i(new String)&&i(a)===r&&i(r)===r&&i()===r&&"1"===i(s)&&"[1]"==i([s])&&"[null]"==i([r])&&"null"==i(null)&&"[null,null,null]"==i([r,a,null])&&i({a:[s,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===i(null,s)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new Date(-1))}catch(u){l=!1}}t=l}if("json-parse"==e){var p=c.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){s=p(o);var g=5==s.a.length&&1===s.a[0];if(g){try{g=!p('"	"')}catch(u){}if(g)try{g=1!==p("01")}catch(u){}if(g)try{g=1!==p("1.")}catch(u){}}}}catch(u){g=!1}t=g}}return n[e]=!!t}var o,i,r,a={}.toString,l="function"==typeof t&&t.amd,u="object"==typeof JSON&&JSON,c="object"==typeof s&&s&&!s.nodeType&&s;c&&u?(c.stringify=u.stringify,c.parse=u.parse):c=e.JSON=u||{};var d=new Date(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(p){}if(!n("json")){var g="[object Function]",h="[object Date]",f="[object Number]",v="[object String]",m="[object Array]",b="[object Boolean]",w=n("bug-string-char-index");if(!d)var _=Math.floor,y=[0,31,59,90,120,151,181,212,243,273,304,334],j=function(e,t){return y[t]+365*(e-1970)+_((e-1969+(t=+(t>1)))/4)-_((e-1901+t)/100)+_((e-1601+t)/400)};(o={}.hasOwnProperty)||(o=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?o=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,o=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,o.call(this,e)});var k={"boolean":1,number:1,string:1,undefined:1},x=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!k[n]};if(i=function(e,t){var n,s,r,l=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n;for(r in s)o.call(s,r)&&l++;return n=s=null,l?i=2==l?function(e,t){var n,s={},i=a.call(e)==g;for(n in e)i&&"prototype"==n||o.call(s,n)||!(s[n]=1)||!o.call(e,n)||t(n)}:function(e,t){var n,s,i=a.call(e)==g;for(n in e)i&&"prototype"==n||!o.call(e,n)||(s="constructor"===n)||t(n);(s||o.call(e,n="constructor"))&&t(n)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],i=function(e,t){var n,i,r=a.call(e)==g,l=!r&&"function"!=typeof e.constructor&&x(e,"hasOwnProperty")?e.hasOwnProperty:o;for(n in e)r&&"prototype"==n||!l.call(e,n)||t(n);for(i=s.length;n=s[--i];l.call(e,n)&&t(n));}),i(e,t)},!n("json-stringify")){var U={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},W="000000",C=function(e,t){return(W+(t||0)).slice(-e)},S="\\u00",E=function(e){var t,n='"',s=0,o=e.length,i=o>10&&w;for(i&&(t=e.split(""));o>s;s++){var r=e.charCodeAt(s);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=U[r];break;default:if(32>r){n+=S+C(2,r.toString(16));break}n+=i?t[s]:w?e.charAt(s):e[s]}}return n+'"'},$=function(e,t,n,s,l,u,c){var d,p,g,w,y,k,x,U,W,S,O,A,T,P,L,D;try{d=t[e]}catch(I){}if("object"==typeof d&&d)if(p=a.call(d),p!=h||o.call(d,"toJSON"))"function"==typeof d.toJSON&&(p!=f&&p!=v&&p!=m||o.call(d,"toJSON"))&&(d=d.toJSON(e));else if(d>-1/0&&1/0>d){if(j){for(y=_(d/864e5),g=_(y/365.2425)+1970-1;j(g+1,0)<=y;g++);for(w=_((y-j(g,0))/30.42);j(g,w+1)<=y;w++);y=1+y-j(g,w),k=(d%864e5+864e5)%864e5,x=_(k/36e5)%24,U=_(k/6e4)%60,W=_(k/1e3)%60,S=k%1e3}else g=d.getUTCFullYear(),w=d.getUTCMonth(),y=d.getUTCDate(),x=d.getUTCHours(),U=d.getUTCMinutes(),W=d.getUTCSeconds(),S=d.getUTCMilliseconds();d=(0>=g||g>=1e4?(0>g?"-":"+")+C(6,0>g?-g:g):C(4,g))+"-"+C(2,w+1)+"-"+C(2,y)+"T"+C(2,x)+":"+C(2,U)+":"+C(2,W)+"."+C(3,S)+"Z"}else d=null;if(n&&(d=n.call(t,e,d)),null===d)return"null";if(p=a.call(d),p==b)return""+d;if(p==f)return d>-1/0&&1/0>d?""+d:"null";if(p==v)return E(""+d);if("object"==typeof d){for(P=c.length;P--;)if(c[P]===d)throw TypeError();if(c.push(d),O=[],L=u,u+=l,p==m){for(T=0,P=d.length;P>T;T++)A=$(T,d,n,s,l,u,c),O.push(A===r?"null":A);D=O.length?l?"[\n"+u+O.join(",\n"+u)+"\n"+L+"]":"["+O.join(",")+"]":"[]"}else i(s||d,function(e){var t=$(e,d,n,s,l,u,c);t!==r&&O.push(E(e)+":"+(l?" ":"")+t)}),D=O.length?l?"{\n"+u+O.join(",\n"+u)+"\n"+L+"}":"{"+O.join(",")+"}":"{}";return c.pop(),D}};c.stringify=function(e,t,n){var s,o,i,r;if("function"==typeof t||"object"==typeof t&&t)if((r=a.call(t))==g)o=t;else if(r==m){i={};for(var l,u=0,c=t.length;c>u;l=t[u++],r=a.call(l),(r==v||r==f)&&(i[l]=1));}if(n)if((r=a.call(n))==f){if((n-=n%1)>0)for(s="",n>10&&(n=10);s.length<n;s+=" ");}else r==v&&(s=n.length<=10?n:n.slice(0,10));return $("",(l={},l[""]=e,l),o,i,s,"",[])}}if(!n("json-parse")){var O,A,T=String.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},L=function(){throw O=A=null,SyntaxError()},D=function(){for(var e,t,n,s,o,i=A,r=i.length;r>O;)switch(o=i.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=w?i.charAt(O):i[O],O++,e;case 34:for(e="@",O++;r>O;)if(o=i.charCodeAt(O),32>o)L();else if(92==o)switch(o=i.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[o],O++;break;case 117:for(t=++O,n=O+4;n>O;O++)o=i.charCodeAt(O),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||L();e+=T("0x"+i.slice(t,O));break;default:L()}else{if(34==o)break;for(o=i.charCodeAt(O),t=O;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++O);e+=i.slice(t,O)}if(34==i.charCodeAt(O))return O++,e;L();default:if(t=O,45==o&&(s=!0,o=i.charCodeAt(++O)),o>=48&&57>=o){for(48==o&&(o=i.charCodeAt(O+1),o>=48&&57>=o)&&L(),s=!1;r>O&&(o=i.charCodeAt(O),o>=48&&57>=o);O++);if(46==i.charCodeAt(O)){for(n=++O;r>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==O&&L(),O=n}if(o=i.charCodeAt(O),101==o||69==o){for(o=i.charCodeAt(++O),(43==o||45==o)&&O++,n=O;r>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==O&&L(),O=n}return+i.slice(t,O)}if(s&&L(),"true"==i.slice(O,O+4))return O+=4,!0;if("false"==i.slice(O,O+5))return O+=5,!1;if("null"==i.slice(O,O+4))return O+=4,null;L()}return"$"},I=function(e){var t,n;if("$"==e&&L(),"string"==typeof e){if("@"==(w?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=D(),"]"!=e;n||(n=!0))n&&(","==e?(e=D(),"]"==e&&L()):L()),","==e&&L(),t.push(I(e));return t}if("{"==e){for(t={};e=D(),"}"!=e;n||(n=!0))n&&(","==e?(e=D(),"}"==e&&L()):L()),(","==e||"string"!=typeof e||"@"!=(w?e.charAt(0):e[0])||":"!=D())&&L(),t[e.slice(1)]=I(D());return t}L()}return e},R=function(e,t,n){var s=B(e,t,n);s===r?delete e[t]:e[t]=s},B=function(e,t,n){var s,o=e[t];if("object"==typeof o&&o)if(a.call(o)==m)for(s=o.length;s--;)R(o,s,n);else i(o,function(e){R(o,e,n)});return n.call(e,t,o)};c.parse=function(e,t){var n,s;return O=0,A=""+e,n=I(D()),"$"!=D()&&L(),O=A=null,t&&a.call(t)==g?B((s={},s[""]=n,s),"",t):n}}}l&&t(function(){return c})}(this)},{}],44:[function(e,t,n){function s(e,t){var n=[];t=t||0;for(var s=t||0;s<e.length;s++)n[s-t]=e[s];return n}t.exports=s},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/data/element.js":[function(e,t,n){function s(e,t){if(e.sort&&e.sort.field){var n={$:{}};n.$[e.sort.field]=!0,a.merge(t,n)}return t}function o(e,t,n,o,i,c,d){var p,g,h;c&&(g=void 0!==c._name?c._name:c,c instanceof u&&(g=c._name),c instanceof Array&&c[1]);var f=d&&c&&(d._d||d.checkParent("data",!0));if("collection"===o){var v;if(n.filter&&n.filter.val!==!0){v={};var m=n.filter.raw,b=a.path(e,t.split("."),[]);b.push([m,{$:s(m,v)}]);var w=a.path(e,t.split("."),{},!0);for(var _ in b[b.length-1][1])w[_]=b[b.length-1][1][_];b=w}else{var y,m=t===!0?"$":t+".$",j=m.split(".");f&&f[g]&&(p=!0,j[0]===g&&(j.shift(),p=!1)),p?y&&(e.specialFix=g,h&&(e.specialFix=[g,h]),v=a.path(e,j,{}),r(n.element._val instanceof l?n.element._val:n.element._val.base,v)):(v=a.path(e,j,{}),r(n.element._val instanceof l?n.element._val:n.element._val.base,v))}}else if(f&&f[g]&&(p=!0),t instanceof Array)for(var _ in t)p?(t[_]instanceof Array&&(t[_]=t[_][0]),t[_]=t[_].split("."),t[_][0]===g&&(t[_].shift(),a.path(e,t[_],!0))):(t[_]instanceof Array&&(t[_]=t[_][0]),a.path(e,t[_].split("."),!0));else t!==!0&&"string"==typeof t&&(p?(t=t.split("."),t[0]===g&&(t.shift(),t.length>0&&a.path(e,t,!0))):a.path(e,t.split("."),!0))}function i(e,t,n,s,i,r){if(t instanceof Array)for(var a=0,l=t.length;l>a;a++)o(e,t[a]._flag.data[2],t,n,s,i,r);else o(e,t._flag.data[2],t,n,s,i,r)}function r(e,t,n,s,o){if(e.model&&(e.model.flags||e.model.subscription||e.model.field)){var l,u=t;if(o);else if(!e.model.field||!e.model.field.val||e.model.parsing||e.model.parsed||"string"==typeof s&&e.model.field.val!==s){if(s&&e.model.field&&e.model.field.val!==s)return void 0}else l=e.model.field.val.split("."),e.model.field.val===s||(u=a.path(t,l,{},!0));if(e.model&&e.model.subscription){var c=e.model.subscription.raw;if(c===!0)l&&(l.length>1?u=a.path(t,l,!0,!0):(t[l[0]]=!0,u=!0));else{var d=e.model.subscription.raw;if("string"==typeof d){var p=d;d={},d[p]=!0}a.merge(u,d)}}for(var g in e.model.flags)i(u,e.model.flags[g],g,n,s,e)}if(!e.model||!e.model.block||!e.model.block.val)for(var h,f=e.children,v=0,m=f&&f.length;m>v;h=v++)h=f[v],(h.model&&h.model.inherit&&h.model.inherit.val===!1||h._col||h.data)&&!h._dfrom||r(h,t,n,s);return t["__#__"]&&delete t["__#__"],e.model&&e.model.block&&"all"===e.model.block.val?void 0:t}var a=e("../../../util"),l=e("../../element"),u=(e("../../../util/hash"),e("../../../object"));n.parseData=function(e,t,n){if(e){var o={},i=e._filter,r=t||e.__sub;if(r)if(i){o["*"]||(o["*"]=[]),o["*"].push([a.clone(i,{subsObj:!0,fn:!0,type:!0}),s(i,t||{$:r})]);for(var l in o["*"][1])o[l]=o["*"][1][l];delete o["*"]}else o=r;return o}},a.define(l,"getModel",function(e,t,n){var s=r(this,{},e,t,n);return a.empty(s)?null:s})},{"../../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../../util/hash":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/hash.js","../../element":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/element/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/data/index.js":[function(e,t,n){var s=e("../../../object"),o=e("../../../data"),i=(e("../../../value"),e("../../../util")),r=e("../../../"),a=t.exports=n=r.Networkdata=o["new"]({mixed:4,merge:!0}),l="subscribe",u="un"+l,c="Listener",d="add"+c,p="remove"+c,g=s.prototype,h=g[d],f=g[p],v=function(e,t){for(var n=this;n&&4===n.__t;){if(n.__block)return;n=n._val}n instanceof a&&n[e]&&n[e](t,this)};e("../../../");a.prototype._blacklist.push("_subs","_complete"),i.define(a,"get",function(e,t,n,s){return this.path(e instanceof Array?e:String(e).split("."),void 0!==t?t:{},!1,!1,!1,s||!1,!0,!n)},d,function(e){this[l]&&this[l](e),h.apply(this,arguments)},p,function(e,t){this._listeners&&this[u]&&this[u](t),f.apply(this,arguments)}),i.define(o,d,function(e){this.__block||v.call(this,l,e),h.apply(this,arguments)},p,function(e,t){this.__block||v.call(this,u,t),f.apply(this,arguments)})},{"../../../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../../../data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","../../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/url.js":[function(e,t,n){function s(e){var t;r.hashUrl&&n.blocks===d?d++:(d++,t="u"+d,n.clearCache(),n.string.clearCache(),n.string._update(n.string.val,t),n.params._update(n.string.val,t),n._update(n.string.val,t),n._lstamp=null)}var o=e("../../util"),i=e("../../value"),r=e("../../util/config"),a=(e("../../value/flags/process"),e("../../browser/animation/raf")),l=e("../../browser/events/util").postpone,u=(e("../../browser/ua"),e("../../browser/cases"));t.exports=n=new i,u.crawler&&(r.hashUrl=!1),console.log("config.hashUrl",r.hashUrl);var c=!r.hashUrl,d=0,p=l(c?function(e){window.history.pushState({},"","/"+e.replace(/ /g,"+").replace(/^#\//,"").toLowerCase())}:function(e){n.block=!0,window.location.href="#/"+e.replace(/ /g,"+").toLowerCase(),n.block=!1}),g=(i.prototype._set,function(){if(c){var e=window.location.href;return e&&(t=h(e),e=e.replace(t,"")),String(window.location.href).replace(String(window.location.origin)+"/","").replace(/^#\//,"").replace(/\+/g," ")||""}var e=window.location.href.split("#"),t="";return e&&1===e.length&&(t=h(e[0]),e[0]=e[0].replace(t,"")),(e.length>1?e[1].replace(/\+/g," "):" ").slice(1)+t}),h=function(e){e||(e=g()||"");var t=e.split("?"),n=t.length;return e=n>1&&t[t.length-1]?"?"+t[t.length-1]:"";
};n.parse=g,n.val={string:function(){var e=g();return e.replace(h(e),"")},params:{val:function(){return h()},defer:function(e,t){this.clearCache();var n,s,o,i=this.val;if(i&&i!==this._last){this._last=i,n=i.slice(1).split("&"),s={};for(var r in n)o=n[r].split("="),o.length>1?s[o[0]]=o[1]:console.error("url: no [key]=[value] format -- not implemented yet");this.val=s}a(function(){e()})}},transform:function(e,t){return t},defer:function(e,t){if(!t[1]||"u"!==t[1][0]){this.clearCache();var s="string"==typeof t[0]?t[0]:t[0]&&t[0].val||this.val;return s&&(n.blocks=d,p(s+this.params.val)),!0}this.clearCache(),a(function(){e()})}},o.define(n,"update",function(){s()}),o.define(n.string,"raw",{get:function(){return this.val.replace(/ /g,"+")}}),r.hashUrl?window.onhashchange=s:window.onpopstate=s},{"../../browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js","../../browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","../../browser/events/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/events/util.js","../../browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../util/config":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js","../../value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js":[function(e,t,n){var s=e("../util"),o=n.test=function(e,t){for(var n=s.arg(arguments,1),o=n.length-1,i=n[o][0];i!==!0&&!new RegExp(i).test(e);i=n[--o][0]);(t.slice||t.call(this,i,n[o]))&&(this[t]=n[o][1])},i=n.parse=function(e,t){e||(t=n,e="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"no navigator"),e=e.toLowerCase(),t||(t={});var i="firefox",r="android",a=".+mobile",l="webkit",u="playstation",c="xbox",d="linux",p="crkey",g="chromecast",h="tablet",f="windows",v="phone";o.call(t,e,function(n,s){t.browser=s[2]||n;var o=e.match(new RegExp("((([\\/ ]version|"+s[0]+"(?!.+version))[/ ])| rv:)([0-9]{1,4}\\.[0-9]{0,2})"));t.version=o?Number(o[4]):0,t.prefix=s[1]},[!0,l],["\\(windows","ms","ie"],["safari",l],[i,"Moz"],["opera","O"],["msie","ms","ie"],["chrome|crios/",l,"chrome"]),o.call(t,e,"platform",[!0,f],[d,d],["lg.{0,3}netcast","lg"],[i+a,i],["mac os x","mac"],["iphone|ipod|ipad","ios"],[c,c],[u,u],[r,r],[f,f],[p,g],["smart-tv;|;samsung;smarttv","samsung"]),o.call(t,e,"device",[!0,"desktop"],[f+".+touch|ipad|"+r,h],["iphone|("+r+a+")|("+i+a+")|"+f+" phone|iemobile",v],[c+"|"+u,"console"],["tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv|webos.+large","tv"],[p,g],["amazon-fireos",h]);var m=304704;return t.platform===r&&!s.isNode&&t.device===v&&window.innerWidth*window.innerHeight>m&&(t.device="tablet"),t};if(!s.isNode&&(i(),window.__ua__))for(var r in window.__ua__)n[r]=window.__ua__[r]},{"../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/data/base.js":[function(e,t,n){var s=e("./"),o=(e("../base"),e("../util")),i=(e("../value/flags/data"),e("../object"));n.extend=o.extend(function(e,t,n){var r=o.compareArrays,a={_dUpdate:function(e,t,n,i,a,l,u,c,d,p){if(this.model){if("$ndata"===e&&(t=i,n=a,i=l,a=u,l=c,u=d,c=p),!this._d&&this.parent)for(var g=this.parent;!this._d&&g;)g._d?this._dSet(g._d,!0):g=g.parent;var h=this,f=h.model,v=f.flags,m=h._d&&h._d._path||[],b=(i||(i=h._d&&h._d._updateOrigin)&&!(i===h._d&&(i=!1)))&&i.updatePath,w=i&&i._path,_=function(n,s){var d,p,g,f;if(!s._flag.data)return void console.error("NO DATA FLAG",b,s._flag,t,e,a,l,u);if(s=s._flag.data[2],"collection"!==n||!h._colFilter){if(s===!0)p=!0;else if(s.pop){s=s.concat();for(var v=s.length-1;v>=0;v--)void 0!==!f&&(d=o.get(h._d,s[v]),void 0!==d&&(f=!0)),s[v]=s[v].split(".")}else s=s.split("."),d=o.get(h._d,s),!d&&h._d&&h._d.from&&s&&(d=o.get(h._d.from,s)),d&&i&&4===i.__t&&(f=!0);if(!p&&i){g=!0;var _;if(i===d||(_=i.from)===d)p=!0;else if(h._d._filter&&d&&d._ancestor(i))p=!0;else if(f)for(var y=0;y<s.length;y++){if(b&&r(b,s[y])||s[y][0]===b[0]&&o.get(t,s[y].concat().shift())){g=!1;break}if(r(m.concat(s[y]),w)||r(s[y],w)){g=!1;break}if(d&&null!==i._val&&t&&(t[s[y]]||t.$path||4===t.__t)&&(d._ancestor(i)||d.from._ancestor(_))){p=!0;break}}else if(null===t);else if(void 0===t);else if(b&&r(b,s)||s[0]===b&&b[0]&&o.get(t,s.concat().shift()))g=!1;else if(m&&(r(m.concat(s),w)||r(s,w)))g=!1;else if(d&&t[s[0]]&&d._ancestor(i))p=!0;else if(h.__checkKeys__)for(var j in h.__checkKeys__)(s===h.__checkKeys__[j]||s[0]===h.__checkKeys__[j])&&(p=!0)}return p||a||(c||a||void 0!==d)&&(!g||1===a)?(h[n]._update(t,!1,i,a,l,u,!c,h),!0):void 0}},y=function(){if(this._d){var e,t=this;t.model.val,f.field&&(e=o.get(t._d,f.field.val)),f._val&&(e=f._val.call(t,e||t._d)||e),e&&t._d!==e&&(f.parsing=!0,f.field&&(f.parsed=f.field.val),this._dSet(e),f.parsing=!1)}};if(y.call(h),c&&h.eachInstance(y,"model"),v&&(c||h._d))for(var j in v)if(v[j].__t)_(j,v[j]);else for(var k=0,x=v[j].length;x>k&&!_(j,v[j][k]);k++);this.model.complete&&this.model.complete._val.call(this,s)}},_dSet:function(e,t){return this.model._flag&&this.model._flag.defer&&!this.__processing?void(this.__pFlag=[e,t]):(this._d&&this._d.__t&&this._d.removeListener(!0,this),this._d=e,t&&(this._dfrom=!0),this._dListen(),e)},_dListen:function(){var e;if(this.model&&this._d&&this._d instanceof i)this._d.addListener([this._dUpdate,this]),e=this,this._d.cloud||this._d.each(function(){e.__checkKeys__=!0,4===this.__t&&this.addListener([e._dUpdate,e,"$ndata",this])});else if(this.model&&this._d)for(var t in this._d)this.__checkKeys__&&this.__checkKeys__!==!0||(this.__checkKeys__=[]),this._d[t]instanceof i&&(this.__checkKeys__.push||console.error("xxxxxx",this,this.__checkKeys__,t,this._d),this.__checkKeys__.push(t),this._d[t].addListener([this._dUpdate,this,"$ndata",t]))},updateData:function(e){return this.model._flag&&this.model._flag.defer&&!this.__processing?(this.__pFlagU=[e],void this.model._update()):void this._dUpdate(this._d,void 0,!1,!1,!1,!1,!1,e)}},l=function(n){e.extend({name:n,type:!1,value:t&&t[n]?function(){a[n].apply(this,arguments),t[n].apply(this,arguments)}:a[n]})};for(var u in a)l(u);e.extend({name:"model",cache:!1,set:function(e){if((this.__pFlag||this.__pFlagU)&&(this.__processing=!0,this.model.parsing=!1,this.__pFlag&&this._dSet.apply(this,this.__pFlag),this.__pFlagU&&this.updateData.apply(this,this.__pFlagU),this.__pFlagU=null,this.__pFlag=null,this.__processing=null),e.field&&e.field.val!==e.parsed){var t,n=e.parsed&&e.parsed.split(".");if(e.parsed=null,this._d)if(t=this._d,n){for(var s=n.length-1;s>=0;s--)t=t._parent;t&&(this._dSet(t),this.updateData(!0))}else this.updateData(!0);e.parsed=null}},remove:function(){if(this._d)if(this._d.__t){if(this._d.removeListener(void 0,this),!this._d.cloud){var e=this;this._d.each(function(){4===this.__t&&this.removeListener(void 0,e)})}}else if(this.__checkKeys__)for(var t in this.__checkKeys__)this._d[this.__checkKeys__[t]]instanceof i&&this._d[this.__checkKeys__[t]].removeListener(void 0,this)}},{name:"data",type:!1,set:function(e){if(this._d!==e){if(this.model._flag&&this.model._flag.defer)return this.__pFlag=[e],void(this.__pFlagU=[!0]);this.model.parsing=!1,this._dSet(e),this.updateData(!0)}},get:function(){return this._d}})})},{"../base":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js","../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../value/flags/data":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/data.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/data/conditions.js":[function(e,t,n){function s(e,t,n){var s;switch(e){case"$not":if(t instanceof Object){var r=l(t,n);s=function(e){return r(e)===!1}}else s=function(e){return e!==t};break;case"$ne":s=function(e){return e!==t};break;case"$and":var u=o(t,n);s=i(u);break;case"$nand":var u=o(t,n);s=function(e){for(var t=0,n=u.length;n>t;t++)if(u[t](e)===!1)return!0;return!1};break;case"$or":var u=o(t,n);s=function(e){for(var t=0,n=u.length;n>t;t++)if(u[t](e))return!0;return!1};break;case"$nor":var u=o(t,n);s=function(e){for(var t=0,n=u.length;n>t;t++)if(u[t](e))return!1;return!0};break;case"$every":n.set("$",{});var r=l(t,n.$);s=function(e){if(e&&e.__t<3){var t=!0;return e.each(function(){return r(this)?void 0:!(t=!1)}),t}return!1};break;case"$nevery":n.set("$",{});var r=l(t,n.$);s=function(e){if(e&&e.__t<3){var t=!1;return e.each(function(){return r(this)?void 0:t=!0}),t}return!0};break;case"$":case"$some":if(n.set("$",{}),t instanceof Object){var r=l(t,n.$);s=function(e){if(e&&e.__t<3){var t;return e.each(function(){return r(this)?t=!0:void 0}),t||!1}return!1}}else s=function(e){if(e&&e.__t<3){var n;return e.each(function(){return this===t?n=!0:void 0}),n||!1}return!1},n.$._check=function(e){return e===t};break;case"$nsome":n.set("$",{});var r=l(t,n.$);s=function(e){if(e&&e.__t<3){var t=!0;return e.each(function(){return r(this)?!(t=!1):void 0}),t}return!0};break;case"$lt":s=function(e){return t>e};break;case"$lte":s=function(e){return t>=e};break;case"$gt":s=function(e){return e>t};break;case"$gte":s=function(e){return e>=t};break;case"$contains":var c=new RegExp(t,"i");s=function(e){return c.test(e)};break;case"$ncontains":var c=new RegExp(t,"i");s=function(e){return!c.test(e)};break;case"$containsall":break;case"$ncontainsall":break;case"$has":s=function(e){return e&&void 0!==e[t]};break;case"$nhas":s=function(e){return!e||void 0===e[t]};break;case"$exists":s=function(e){return(void 0!==e&&null!==e)===t};break;case"$in":s=function(e){for(var n=0,s=t.length;s>n;n++)if(e===t[n])return!0;return!1};break;case"$nin":s=function(e){for(var n=0,s=t.length;s>n;n++)if(e===t[n])return!1;return!0};break;case"$regex":s=function(e){return t.test(e)};break;default:if(t instanceof Object){var d=n[e];d||(n.set(e,{}),d=n[e]);var r=l(t,d);s=function(t){return t=a(t,e),r(t)}}else s=function(n){return n=a(n,e),n===t},n.set(e,{}),n[e]._check=s}return n?n._check=s:s}function o(e,t){for(var n=[],s=0,o=e.length;o>s;s++)n.push(l(e[s],t));return n}function i(e,t){return function(t){for(var n=r(t),s=0,o=e.length;o>s;s++)if(e[s](n)===!1)return!1;return!0}}function r(e){var t=e&&e.from&&e.from.val;return void 0!==t?t:e}function a(e,t){return e=r(e),e?r(e[t]):void 0}var l=(e("./"),t.exports=function(e,t){if(e instanceof Object){var n=Object.keys(e);if(1===n.length){var o=n[0],a=s(o,e[o],t);return t._check=function(e){var t=r(e);return a(t)}}for(var o,l=[],u=0,c=n.length;c>u;u++)o=n[u],l.push(s(o,e[o],t));return t._check=i(l)}return t._check=function(t){return r(t)===e}})},{"./":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js":[function(e,t,n){var s=e("vigour-js"),o=e("vigour-js/object"),i=e("vigour-js/util");t.exports=n=s.Data=o["new"](),n.prototype._blacklist.push("__sub","__block"),i.define(n,"_hook",function(e,t){t.subscription&&(this.__sub=t.subscription,delete t.subscription),t.block&&(this.__block=!0,delete t.block)})},{"vigour-js":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/data/selection.js":[function(e,t,n){function s(e,t){var n=e.val;return n&&n[t]&&n[t].val}function o(e,t){var n=e.path(t);return n&&n.val}var i=e("./conditions"),r=e("../util/hash"),a=e("../object"),l=e("../util");n.SubsObj=a["new"](),n.SubsObj.prototype._blacklist.push("_root","_check","_sort","_uid"),n.extend=l.extend(function(e){e.prototype._blacklist.push("_filter","_uid","_hash","_indexCache","_subscnt");var t=e.prototype._update,s=e.prototype._hook,o=e.prototype.remove;l.define(e,"remove",function(){var e;if(this._filter&&(e=this.length))for(var t=0;e>t;t++)delete this[t];return o.apply(this,arguments)},"filter",{get:function(){return this._filter},set:function(e){this._filter=e,this._build(void 0,!0),t.call(this,void 0,this.stamp(),void 0,!1,!1,void 0)}},"_hook",function(e,t){if(s&&s.call(this,e,t),!l.empty(t)&&e){var n=this;n._subscnt=0,n._filter=t,n._hash=r(e._path+JSON.stringify([t.condition,t.range,t.sort])),n._uid||(n._uid=n._hash)}},"_build",function(e,s){var o=this;if(e||(e=o._val),e){o.length&&o._clear();var r,a,l=[],p=this._itemsHandler,g=o._filter,h=g.subsObj||new n.SubsObj({},o),f=this.stamp();if(4!==e.__t||e._filter||(e=e.from),g.sort&&("string"==typeof g.sort&&(g.sort={field:g.sort}),r=g.sort,r.fn||(r.type||(r.type="string"),r.fn=d[r.type](r)),h.path(r.field.split("."),{}).set("_sort",!0)),g.condition){var v=0,m=0,b=g.check||(g.check=i(g.condition,h));g.subsObj=h,e.each(function(e){a=this,p&&p(a,h,o),b(a)?(v++,l.push(a)):void 0!==o._has(a)?(c(a,o),s||t.call(o,a,f,o,a,!1,null),m++):m++})}else e.each(function(){p&&p(this,h,o),l.push(this)});g.subsObj=h,r&&l.length>1&&l.sort(g.sort.fn);var w,a,_=g.range;if(_&&(_ instanceof Array||(_=g.range=[0,g.range]),l.length)){var y=l.splice(_[0],_[1]);for(w=l.length;a=l[--w];)void 0!==o._has(a)&&c(a,o);l=y}for(var a,w=l.length;a=l[--w];){o[w]=a;void 0===o._has(a);u(a,o,w)}o.length=l.length}},"_update",function(e,n,s,o,i,r){if(this._filter){var a=this,l=a.updatePath;if(void 0!==l[0]){var u=1===l.length,c=u&&o,d=c?a._lfrom:a.val[l[0]];if(a._val._filter&&void 0===a._val._has(d))return void(void 0!==a._has(d)&&a._checkItem(d,!1,e,n));var p=c?!1:u&&i?void 0:l;a._checkItem(d,p,e,n)===!0&&t.apply(a,arguments)}else s||(o?a.length&&a._clear():a._build()),t.apply(this,arguments)}else t.apply(this,arguments)},"_has",function(e){var t,n=e._indexCache,s=this._uid;return n&&s&&(t=n[s])?t[0]:void 0},"_clear",function(){var e=this;e.each(function(t){e[t]=void 0,delete e[t]}),e.length=0},"_checkItem",function(e,t,n,s){if(e){var o,i,r,a=this,d=e,p=a._filter,g=p.sort,h=p.range,f=h&&!(0===h[0]&&h[1]>=a._val.length||a.length<h[1]-h[0]),v=t===!1||e._removed,m=r=void 0!==(i=a._has(e)),b=p.check,w=v?!1:f||1!==t?!b||b(e):r;if(r!==w)if(r){m=1,c(e,a),v=e;for(var _;_=a[++i];)a[i-1]=_,u(_,a,i-1);var y=i-1;a[y]=null,delete a[y];var j;f&&(g?a._val.each(function(){void 0!==a._has(this)||a[y]&&!(g.fn(this,a[y])<0)||b&&!b(this)||(j=a[y]=this)}):a._val.each(function(){return void 0!==a._has(this)||b&&!b(this)?void 0:j=a[y]=this})),j?(u(j,a,i-1),o=j):a.length--}else{var k;if(g){var x=g.fn;if(a.length&&a.each(function(t){return x(e,this)<0?k=t:void 0}),void 0!==k){m=1,k=Number(k),u(e,a,k),o=e,f?(v=a[a.length-1],c(v,a)):this.length++;for(var i=a.length-2;i>=k;)u(a[i],a,i+1),a[i+1]=a[i--];a[k]=e}else f||(m=1,k=a.length++,a[k]=e,u(e,a,k),o=e)}else f||(m=1,k=a.length++,a[k]=e,u(e,a,k),o=e)}else if(r&&g){if(t.length&&g.field)if(~g.field.indexOf(".")){var U=g.field.split(".");if(!l.compareArrays(t.slice(1),U))return m}else if(t[1]!==g.field)return m;var k;if(a.each(function(t){if(t!=i){var n=g.fn(e,this);if(-1===n)return t==i+1?!0:(k=i>t?t:t-1,!0);if(t>=i+1&&0===n)return!0;t>i&&(k=t)}}),void 0!==k){m=1;var W;if(i>k)for(;i>k;)W=a[i]=a[--i],W&&u(W,a,i+1);else for(;k>i;)W=a[i]=a[++i],W&&u(W,a,i-1);a[k]=e}var y=a.length-1;if(f&&(k==y||void 0===k&&i==y)){var C;a._val.each(function(){void 0!==a._has(this)||-1!==g.fn(this,e)||b&&!b(this)||(C||(C=e),a[y]=e=this)}),u(e,a,y),C&&(c(C,a),v=C,o=e,m=1)}else void 0!==k&&u(e,a,Number(k))}return 1===m&&a.__update(n,s,d,v,o),m}})});var u=n.storeIndex=function(e,t,n){var s,o=e._indexCache;o?(s=o[t._uid],s?(s[1]=s[0],s[0]=n):o[t._uid]=[n]):(e._indexCache={},e._indexCache[t._uid]=[n])},c=n.unstoreIndex=function(e,t){var n=e._indexCache;if(n){var s=n[t._uid];s[1]=s[0],s[0]=void 0}},d={number:function(e){var t=e.field;return function(n,s){var o=n[t]&&n[t].val,i=s[t]&&s[t].val;return void 0===o||void 0===i?o===i?0:void 0===o?1:-1:e.order?-1*(o-i):o-i}},string:function(e){var t=e.field;if(~t.indexOf(".")){var n=t.split(".");return function(t,s){if(t=o(t,n),s=o(s,n),void 0===t||void 0===s)return t===s?0:void 0===t?1:-1;var i=t>s?1:t===s?0:-1;return e.order?-1*i:i}}return function(n,o){n=s(n,t),o=s(o,t);var i=void 0===n||null===n,r=void 0===o||null===o;if(i||r)return n===o?0:i?1:-1;var a=n>o?1:n===o?0:-1;return e.order?-1*a:a}}}},{"../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../util/hash":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/hash.js","./conditions":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/conditions.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js":[function(e,t,n){},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/colors/colors.js":[function(e,t,n){function s(e,t){var s;if("console"===n.mode)s={bold:["[1m","[22m"],italic:["[3m","[23m"],underline:["[4m","[24m"],inverse:["[7m","[27m"],strikethrough:["[9m","[29m"],white:["[37m","[39m"],grey:["[90m","[39m"],black:["[30m","[39m"],blue:["[34m","[39m"],cyan:["[36m","[39m"],green:["[32m","[39m"],magenta:["[35m","[39m"],red:["[31m","[39m"],yellow:["[33m","[39m"],whiteBG:["[47m","[49m"],greyBG:["[49;5;8m","[49m"],blackBG:["[40m","[49m"],blueBG:["[44m","[49m"],cyanBG:["[46m","[49m"],greenBG:["[42m","[49m"],magentaBG:["[45m","[49m"],redBG:["[41m","[49m"],yellowBG:["[43m","[49m"]};else if("browser"===n.mode)s={bold:["<b>","</b>"],italic:["<i>","</i>"],underline:["<u>","</u>"],inverse:['<span style="background-color:black;color:white;">',"</span>"],strikethrough:["<del>","</del>"],white:['<span style="color:white;">',"</span>"],grey:['<span style="color:gray;">',"</span>"],black:['<span style="color:black;">',"</span>"],blue:['<span style="color:blue;">',"</span>"],cyan:['<span style="color:cyan;">',"</span>"],green:['<span style="color:green;">',"</span>"],magenta:['<span style="color:magenta;">',"</span>"],red:['<span style="color:red;">',"</span>"],yellow:['<span style="color:yellow;">',"</span>"],whiteBG:['<span style="background-color:white;">',"</span>"],greyBG:['<span style="background-color:gray;">',"</span>"],blackBG:['<span style="background-color:black;">',"</span>"],blueBG:['<span style="background-color:blue;">',"</span>"],cyanBG:['<span style="background-color:cyan;">',"</span>"],greenBG:['<span style="background-color:green;">',"</span>"],magentaBG:['<span style="background-color:magenta;">',"</span>"],redBG:['<span style="background-color:red;">',"</span>"],yellowBG:['<span style="background-color:yellow;">',"</span>"]};else{if("none"===n.mode)return e+"";console.log('unsupported mode, try "browser", "console" or "none"')}return s[t][0]+e+s[t][1]}function o(e){var t=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(e).forEach(function(s){-1!==t.indexOf(s)?console.log("warn: ".red+("String.prototype"+s).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof e[s]?l(s,function(){return n[e[s]](this)}):l(s,function(){for(var t=this,o=0;o<e[s].length;o++)t=n[e[s][o]](t);return t})})}function i(e){return function(){if(!a)return this.replace(/( )/,"$1");var t=this.split("");return t=t.map(e),t.join("")}}function r(e,t){function n(e){var t=Math.floor(Math.random()*e);return t}function s(e){var t=!1;return r.filter(function(n){t=n===e}),t}function o(e,t){var o,r,a="";t=t||{},t.up=t.up||!0,t.mid=t.mid||!0,t.down=t.down||!0,t.size=t.size||"maxi",e=e.split("");for(r in e)if(!s(r)){switch(a+=e[r],o={up:0,down:0,mid:0},t.size){case"mini":o.up=n(8),o.min=n(2),o.down=n(8);break;case"maxi":o.up=n(16)+3,o.min=n(4)+1,o.down=n(64)+3;break;default:o.up=n(8)+1,o.mid=n(6)/2,o.down=n(8)+1}var l=["up","mid","down"];for(var u in l)for(var c=l[u],d=0;d<=o[c];d++)t[c]&&(a+=i[c][n(i[c].length)])}return a}var i={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},r=[].concat(i.up,i.down,i.mid);return o(e)}var a=!1;if("undefined"!=typeof t&&(a=!0),a)n.mode="console";else{var n={},t={};n.mode="browser"}var l=function(e,t){n[e]=function(e){return t.apply(e)},String.prototype.__defineGetter__(e,t)},u=["bold","underline","strikethrough","italic","inverse","grey","black","yellow","red","green","blue","white","cyan","magenta","greyBG","blackBG","yellowBG","redBG","greenBG","blueBG","whiteBG","cyanBG","magentaBG"];u.forEach(function(e){l(e,function(){return s(this,e)})});var c=function(){var e=["red","yellow","green","blue","magenta"];return function(t,n,o){return" "===t?t:s(t,e[n++%e.length])}}();n.themes={},n.addSequencer=function(e,t){l(e,i(t))},n.addSequencer("rainbow",c),n.addSequencer("zebra",function(e,t,n){return t%2===0?e:e.inverse}),n.setTheme=function(t){if("string"==typeof t)try{return n.themes[t]=e(t),o(n.themes[t]),n.themes[t]}catch(s){return console.log(s),s}else o(t)},l("stripColors",function(){return(""+this).replace(/\x1B\[\d+m/g,"")}),l("zalgo",function(){return r(this)})},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/index.js":[function(e,t,n){t.exports=e("./lib/")},{"./lib/":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/index.js":[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/socket.js","engine.io-parser":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/socket.js":[function(e,t,n){(function(n){function s(e,t){if(!(this instanceof s))return new s(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=c(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var o=t.host.split(":");t.hostname=o.shift(),o.length?t.port=o.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized||null,this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var i=e("./transports"),r=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),u=e("engine.io-parser"),c=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=s,s.priorWebsocketSuccess=!1,r(s.prototype),s.protocol=u.protocol,s.Socket=s,s.Transport=e("./transport"),s.transports=e("./transports"),s.parser=e("engine.io-parser"),s.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},s.prototype.open=function(){var e;if(this.rememberUpgrade&&s.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},s.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},s.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",c),!c)return;s.priorWebsocketSuccess="websocket"==c.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&(a("changing transport and sending upgrade packet"),u(),p.setTransport(c),c.send([{type:"upgrade"}]),p.emit("upgrade",c),c=null,p.upgrading=!1,p.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=c.name,p.emit("upgradeError",n)}}))}function n(){d||(d=!0,u(),c.close(),c=null)}function o(t){var s=new Error("probe error: "+t);s.transport=c.name,n(),a('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",s)}function i(){o("transport closed")}function r(){o("socket closed")}function l(e){c&&e.name!=c.name&&(a('"%s" works - aborting "%s"',e.name,c.name),n())}function u(){c.removeListener("open",t),c.removeListener("error",o),c.removeListener("close",i),p.removeListener("close",r),p.removeListener("upgrading",l)}a('probing transport "%s"',e);var c=this.createTransport(e,{probe:1}),d=!1,p=this;s.priorWebsocketSuccess=!1,c.once("open",t),c.once("error",o),c.once("close",i),this.once("close",r),this.once("upgrading",l),c.open()},s.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",s.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},s.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},s.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},s.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},s.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},s.prototype.ping=function(){this.sendPacket("ping")},s.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},s.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},s.prototype.write=s.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},s.prototype.sendPacket=function(e,t,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var s={type:e,data:t};this.emit("packetCreate",s),this.writeBuffer.push(s),this.callbackBuffer.push(n),this.flush()}},s.prototype.close=function(){function e(){s.onClose("forced close"),a("socket closing - telling transport to close"),s.transport.close()}function t(){s.removeListener("upgrade",t),s.removeListener("upgradeError",t),e()}function n(){s.once("upgrade",t),s.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var s=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},s.prototype.onError=function(e){a("socket error %j",e),s.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},s.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},s.prototype.filterUpgrades=function(e){for(var t=[],n=0,s=e.length;s>n;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transport.js","./transports":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/index.js","component-emitter":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js",
indexof:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/indexof/index.js",parsejson:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/parsejson/index.js",parseqs:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/parseqs/index.js",parseuri:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/parseuri/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transport.js":[function(e,t,n){function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var o=e("engine.io-parser"),i=e("component-emitter");t.exports=s,i(s.prototype),s.timestamps=0,s.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},s.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-emitter/index.js","engine.io-parser":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/index.js":[function(e,t,n){(function(t){function s(e){var n,s=!1,a=!1,l=!1!==e.jsonp;if(t.location){var u="https:"==location.protocol,c=location.port;c||(c=u?443:80),s=e.hostname!=location.hostname||c!=e.port,a=e.secure!=u}if(e.xdomain=s,e.xscheme=a,n=new o(e),"open"in n&&!e.forceJSONP)return new i(e);if(!l)throw new Error("JSONP disabled");return new r(e)}var o=e("xmlhttprequest"),i=e("./polling-xhr"),r=e("./polling-jsonp"),a=e("./websocket");n.polling=s,n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/polling-jsonp.js","./polling-xhr":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/polling-xhr.js","./websocket":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/websocket.js",xmlhttprequest:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/polling-jsonp.js":[function(e,t,n){(function(n){function s(){}function o(e){i.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=s)},!1)}var i=e("./polling"),r=e("component-inherit");t.exports=o;var a,l=/\n/g,u=/\\n/g;r(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t;var s="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);s&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){s(),t()}function s(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(e){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,r=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=c,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}this.form.action=this.uri(),s(),e=e.replace(u,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/polling.js","component-inherit":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/polling-xhr.js":[function(e,t,n){(function(n){function s(){}function o(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,s=location.port;s||(s=t?443:80),this.xd=e.hostname!=n.location.hostname||s!=e.port,this.xs=e.secure!=t}}function i(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.create()}function r(){for(var e in i.requests)i.requests.hasOwnProperty(e)&&i.requests[e].abort()}var a=e("xmlhttprequest"),l=e("./polling"),u=e("component-emitter"),c=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,c(o,l),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,new i(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,s=this.request({method:"POST",data:e,isBinary:n}),o=this;s.on("success",t),s.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=s},o.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(i.prototype),i.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),s=this;try{if(d("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){s.onLoad()},t.onerror=function(){s.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?s.onLoad():setTimeout(function(){s.onError(t.status)},0))},d("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){s.onError(o)},0)}n.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},i.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},i.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s,e)try{this.xhr.abort()}catch(t){}n.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},i.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},n.document&&(i.requestsCount=0,i.requests={},n.attachEvent?n.attachEvent("onunload",r):n.addEventListener&&n.addEventListener("beforeunload",r,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/polling.js","component-emitter":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-emitter/index.js","component-inherit":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js",xmlhttprequest:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/polling.js":[function(e,t,n){function s(e){var t=e&&e.forceBase64;(!u||t)&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("parseqs"),r=e("engine.io-parser"),a=e("component-inherit"),l=e("debug")("engine.io-client:polling");t.exports=s;var u=function(){var t=e("xmlhttprequest"),n=new t({xdomain:!1});return null!=n.responseType}();a(s,o),s.prototype.name="polling",s.prototype.doOpen=function(){this.poll()},s.prototype.pause=function(e){function t(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var s=0;this.polling&&(l("we are currently polling - waiting to pause"),s++,this.once("pollComplete",function(){l("pre-pause polling complete"),--s||t()})),this.writable||(l("we are currently writing - waiting to pause"),s++,this.once("drain",function(){l("pre-pause writing complete"),--s||t()}))}else t()},s.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},s.prototype.onData=function(e){var t=this;l("polling got data %s",e);var n=function(e,n,s){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};r.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},s.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},s.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},s.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transport.js","component-inherit":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js",parseqs:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/parseqs/index.js",xmlhttprequest:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transports/websocket.js":[function(e,t,n){function s(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),i=e("engine.io-parser"),r=e("parseqs"),a=e("component-inherit"),l=e("debug")("engine.io-client:websocket"),u=e("ws");t.exports=s,a(s,o),s.prototype.name="websocket",s.prototype.supportsBinary=!0,s.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new u(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},s.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(s.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),s.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var s=0,o=e.length;o>s;s++)i.encodePacket(e[s],this.supportsBinary,function(e){try{n.ws.send(e)}catch(t){l("websocket closed before onclose event")}});setTimeout(t,0)},s.prototype.onClose=function(){o.prototype.onClose.call(this)},s.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},s.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=r.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},s.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===s.prototype.name)}},{"../transport":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/transport.js","component-inherit":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js",parseqs:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/parseqs/index.js",ws:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/ws/lib/browser.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js":[function(e,t,n){var s=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||s))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(i){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{"has-cors":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/has-cors/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-emitter/index.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/emitter.js"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js":[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js":[function(e,t,n){function s(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var s="color: "+this.color;e=[e[0],s,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,s),e}function i(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function r(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(t){}}function a(){var e;try{e=localStorage.debug}catch(t){}return e}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=r,n.load=a,n.useColors=s,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/debug.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/debug.js":[function(e,t,n){function s(){return n.colors[c++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=s());var r=Array.prototype.slice.call(arguments);r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var a=0;r[0]=r[0].replace(/%([a-z%])/g,function(t,s){if("%%"===t)return t;a++;var o=n.formatters[s];if("function"==typeof o){var i=r[a];t=o.call(e,i),r.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(r=n.formatArgs.apply(e,r));var l=o.log||n.log||console.log.bind(console);l.apply(e,r)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),s=t.length,o=0;s>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function r(){n.enable("")}function a(e){var t,s;for(t=0,s=n.skips.length;s>t;t++)if(n.skips[t].test(e))return!1;for(t=0,s=n.names.length;s>t;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=l,n.disable=r,n.enable=i,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,c=0},{ms:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/node_modules/ms/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/debug/node_modules/ms/index.js":[function(e,t,n){function s(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"y":return n*d;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"h":return n*u;case"minutes":case"minute":case"m":return n*l;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function o(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return r(e,c,"day")||r(e,u,"hour")||r(e,l,"minute")||r(e,a,"second")||e+" ms"}function r(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,l=60*a,u=60*l,c=24*u,d=365.25*c;t.exports=function(e,t){return t=t||{},"string"==typeof e?s(e):t["long"]?i(e):o(e)}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js":[function(e,t,n){(function(t){function s(e,t){var s="b"+n.packets[e.type]+e.data.data;return t(s)}function o(e,t,s){if(!t)return n.encodeBase64Packet(e,s);var o=e.data,i=new Uint8Array(o),r=new Uint8Array(1+o.byteLength);r[0]=m[e.type];for(var a=0;a<i.length;a++)r[a+1]=i[a];return s(r.buffer)}function i(e,t,s){if(!t)return n.encodeBase64Packet(e,s);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,s)},o.readAsArrayBuffer(e.data)}function r(e,t,s){if(!t)return n.encodeBase64Packet(e,s);if(v)return i(e,t,s);var o=new Uint8Array(1);o[0]=m[e.type];var r=new _([o.buffer,e.data]);return s(r)}function a(e,t,n){for(var s=new Array(e.length),o=p(e.length,n),i=function(e,n,o){t(n,function(t,n){s[e]=n,o(t,s)})},r=0;r<e.length;r++)i(r,e[r],o)}var l=e("./keys"),u=e("has-binary"),c=e("arraybuffer.slice"),d=e("base64-arraybuffer"),p=e("after"),g=e("utf8"),h=navigator.userAgent.match(/Android/i),f=/PhantomJS/i.test(navigator.userAgent),v=h||f;n.protocol=3;var m=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=l(m),w={type:"error",data:"parser error"},_=e("blob");n.encodePacket=function(e,n,i,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof i&&(a=i,i=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return o(e,n,a);if(_&&l instanceof t.Blob)return r(e,n,a);if(l&&l.base64)return s(e,a);var u=m[e.type];return void 0!==e.data&&(u+=i?g.encode(String(e.data)):String(e.data)),a(""+u)},n.encodeBase64Packet=function(e,s){var o="b"+n.packets[e.type];if(_&&e.data instanceof _){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];s(o+e)},i.readAsDataURL(e.data)}var r;try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),u=new Array(l.length),c=0;c<l.length;c++)u[c]=l[c];r=String.fromCharCode.apply(null,u)}return o+=t.btoa(r),s(o)},n.decodePacket=function(e,t,s){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(s)try{e=g.decode(e)}catch(o){return w}var i=e.charAt(0);return Number(i)==i&&b[i]?e.length>1?{type:b[i],data:e.substring(1)}:{type:b[i]}:w}var r=new Uint8Array(e),i=r[0],a=c(e,1);return _&&"blob"===t&&(a=new _([a])),{type:b[i],data:a}},n.decodeBase64Packet=function(e,n){var s=b[e.charAt(0)];if(!t.ArrayBuffer)return{type:s,data:{base64:!0,data:e.substr(1)}};var o=d.decode(e.substr(1));return"blob"===n&&_&&(o=new _([o])),{type:s,data:o}},n.encodePayload=function(e,t,s){function o(e){return e.length+":"+e}function i(e,s){n.encodePacket(e,r?t:!1,!0,function(e){s(null,o(e))})}"function"==typeof t&&(s=t,t=null);var r=u(e);return t&&r?_&&!v?n.encodePayloadAsBlob(e,s):n.encodePayloadAsArrayBuffer(e,s):e.length?void a(e,i,function(e,t){return s(t.join(""))}):s("0:")},n.decodePayload=function(e,t,s){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,s);"function"==typeof t&&(s=t,t=null);var o;if(""==e)return s(w,0,1);for(var i,r,a="",l=0,u=e.length;u>l;l++){var c=e.charAt(l);if(":"!=c)a+=c;else{if(""==a||a!=(i=Number(a)))return s(w,0,1);if(r=e.substr(l+1,i),a!=r.length)return s(w,0,1);if(r.length){if(o=n.decodePacket(r,t,!0),w.type==o.type&&w.data==o.data)return s(w,0,1);var d=s(o,l+i,u);if(!1===d)return}l+=i,a=""}}return""!=a?s(w,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function s(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,s,function(e,n){var s=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(s),i=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var s=new Uint8Array(e.length),r=0;r<e.length;r++)s[r]=e.charCodeAt(r);n=s.buffer}t?o[i++]=0:o[i++]=1;for(var a=n.byteLength.toString(),r=0;r<a.length;r++)o[i++]=parseInt(a[r]);o[i++]=255;for(var s=new Uint8Array(n),r=0;r<s.length;r++)o[i++]=s[r]}),t(o.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function s(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var s=new Uint8Array(e.length),o=0;o<e.length;o++)s[o]=e.charCodeAt(o);e=s.buffer,n[0]=0}for(var i=e instanceof ArrayBuffer?e.byteLength:e.size,r=i.toString(),a=new Uint8Array(r.length+1),o=0;o<r.length;o++)a[o]=parseInt(r[o]);if(a[r.length]=255,_){var l=new _([n.buffer,a.buffer,e]);t(null,l)}})}a(e,s,function(e,n){return t(new _(n))})},n.decodePayloadAsBinary=function(e,t,s){"function"==typeof t&&(s=t,t=null);for(var o=e,i=[],r=!1;o.byteLength>0;){for(var a=new Uint8Array(o),l=0===a[0],u="",d=1;255!=a[d];d++){if(u.length>310){r=!0;break}u+=a[d]}if(r)return s(w,0,1);o=c(o,2+u.length),u=parseInt(u);var p=c(o,0,u);if(l)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(g){var h=new Uint8Array(p);p="";for(var d=0;d<h.length;d++)p+=String.fromCharCode(h[d])}i.push(p),o=c(o,u)}var f=i.length;i.forEach(function(e,o){s(n.decodePacket(e,t,!0),o,f)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/keys.js",after:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/after/index.js","arraybuffer.slice":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/arraybuffer.slice/index.js","base64-arraybuffer":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js",blob:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/blob/index.js","has-binary":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/index.js",utf8:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/utf8/utf8.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/keys.js":[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var s in e)n.call(e,s)&&t.push(s);return t}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/after/index.js":[function(e,t,n){function s(e,t,n){function s(e,o){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(i=!0,t(e),t=n):0!==s.count||i||t(null,o)}var i=!1;return n=n||o,s.count=e,0===e?t():s}function o(){}t.exports=s},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/arraybuffer.slice/index.js":[function(e,t,n){t.exports=function(e,t,n){var s=e.byteLength;if(t=t||0,n=n||s,e.slice)return e.slice(t,n);if(0>t&&(t+=s),0>n&&(n+=s),n>s&&(n=s),t>=s||t>=n||0===s)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),r=t,a=0;n>r;r++,a++)i[a]=o[r];return i.buffer}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,s=new Uint8Array(t),o=s.length,i="";for(n=0;o>n;n+=3)i+=e[s[n]>>2],i+=e[(3&s[n])<<4|s[n+1]>>4],i+=e[(15&s[n+1])<<2|s[n+2]>>6],i+=e[63&s[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(t){var n,s,o,i,r,a=.75*t.length,l=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),d=new Uint8Array(c);for(n=0;l>n;n+=4)s=e.indexOf(t[n]),o=e.indexOf(t[n+1]),i=e.indexOf(t[n+2]),r=e.indexOf(t[n+3]),d[u++]=s<<2|o>>4,d[u++]=(15&o)<<4|i>>2,d[u++]=(3&i)<<6|63&r;return c}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/blob/index.js":[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var s=n.buffer;if(n.byteLength!==s.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(s,n.byteOffset,n.byteLength)),s=o.buffer}e[t]=s}}}function s(e,t){t=t||{};var s=new i;n(e);for(var o=0;o<e.length;o++)s.append(e[o]);return t.type?s.getBlob(t.type):s.getBlob()}function o(e,t){return n(e),new Blob(e,t||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),a=r&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),l=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return r?a?e.Blob:o:l?s:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/index.js":[function(e,t,n){(function(n){function s(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var s=0;s<e.length;s++)if(t(e[s]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/node_modules/isarray/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/node_modules/isarray/index.js":[function(e,t,n){
t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/utf8/utf8.js":[function(e,t,n){(function(e){!function(s){function o(e){for(var t,n,s=[],o=0,i=e.length;i>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&i>o?(n=e.charCodeAt(o++),56320==(64512&n)?s.push(((1023&t)<<10)+(1023&n)+65536):(s.push(t),o--)):s.push(t);return s}function i(e){for(var t,n=e.length,s=-1,o="";++s<n;)t=e[s],t>65535&&(t-=65536,o+=w(t>>>10&1023|55296),t=56320|1023&t),o+=w(t);return o}function r(e){if(e>=55296&&57343>=e)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function a(e,t){return w(e>>t&63|128)}function l(e){if(0==(4294967168&e))return w(e);var t="";return 0==(4294965248&e)?t=w(e>>6&31|192):0==(4294901760&e)?(r(e),t=w(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=w(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=w(63&e|128)}function u(e){for(var t,n=o(e),s=n.length,i=-1,r="";++i<s;)t=n[i],r+=l(t);return r}function c(){if(b>=m)throw Error("Invalid byte index");var e=255&v[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,t,n,s,o;if(b>m)throw Error("Invalid byte index");if(b==m)return!1;if(e=255&v[b],b++,0==(128&e))return e;if(192==(224&e)){var t=c();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=c(),n=c(),o=(15&e)<<12|t<<6|n,o>=2048)return r(o),o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=c(),n=c(),s=c(),o=(15&e)<<18|t<<12|n<<6|s,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function p(e){v=o(e),m=v.length,b=0;for(var t,n=[];(t=d())!==!1;)n.push(t);return i(n)}var g="object"==typeof n&&n,h="object"==typeof t&&t&&t.exports==g&&t,f="object"==typeof e&&e;(f.global===f||f.window===f)&&(s=f);var v,m,b,w=String.fromCharCode,_={version:"2.0.0",encode:u,decode:p};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return _});else if(g&&!g.nodeType)if(h)h.exports=_;else{var y={},j=y.hasOwnProperty;for(var k in _)j.call(_,k)&&(g[k]=_[k])}else s.utf8=_}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/has-cors/index.js":[function(e,t,n){var s=e("global");try{t.exports="XMLHttpRequest"in s&&"withCredentials"in new s.XMLHttpRequest}catch(o){t.exports=!1}},{global:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/has-cors/node_modules/global/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/has-cors/node_modules/global/index.js":[function(e,t,n){t.exports=function(){return this}()},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/indexof/index.js":[function(e,t,n){var s=[].indexOf;t.exports=function(e,t){if(s)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/parsejson/index.js":[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,s=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(r,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(s,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/parseqs/index.js":[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),s=0,o=n.length;o>s;s++){var i=n[s].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/parseuri/index.js":[function(e,t,n){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var r=s.exec(e||""),a={},l=14;l--;)a[o[l]]=r[l]||"";return-1!=n&&-1!=i&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/ws/lib/browser.js":[function(e,t,n){function s(e,t,n){var s;return s=t?new i(e,t):new i(e)}var o=function(){return this}(),i=o.WebSocket||o.MozWebSocket;t.exports=i?s:null,i&&(s.prototype=i.prototype)},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/index.js":[function(e,t,n){t.exports=e("./lib/")},{"./lib/":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/index.js":[function(e,t,n){function s(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,s=o(e),i=s.source,u=s.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",i),n=r(i,t)):(l[u]||(a("new io instance for %s",i),l[u]=r(i,t)),n=l[u]),n.socket(s.path)}var o=e("./url"),i=e("socket.io-parser"),r=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=s;var l=n.managers={};n.protocol=i.protocol,n.connect=s,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/manager.js","./socket":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/socket.js","./url":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/url.js",debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js","socket.io-parser":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/manager.js":[function(e,t,n){function s(e,t){return this instanceof s?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new s(e,t)}var o=(e("./url"),e("engine.io-client")),i=e("./socket"),r=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),u=e("component-bind"),c=(e("object-component"),e("debug")("socket.io-client:manager")),d=e("indexof"),p=e("backo2");t.exports=s,s.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},s.prototype.updateSocketIds=function(){for(var e in this.nsps)this.nsps[e].id=this.engine.id},r(s.prototype),s.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},s.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},s.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},s.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},s.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},s.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},s.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},s.prototype.open=s.prototype.connect=function(e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=o(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var s=l(t,"open",function(){n.onopen(),e&&e()}),i=l(t,"error",function(t){if(c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var s=new Error("Connection error");s.data=t,e(s)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;c("connect attempt will timeout after %d",r);var a=setTimeout(function(){c("connect attempt timed out after %d",r),s.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(s),this.subs.push(i),this},s.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",u(this,"ondata"))),this.subs.push(l(this.decoder,"decoded",u(this,"ondecoded"))),this.subs.push(l(e,"error",u(this,"onerror"))),this.subs.push(l(e,"close",u(this,"onclose")))},s.prototype.ondata=function(e){this.decoder.add(e)},s.prototype.ondecoded=function(e){this.emit("packet",e)},s.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},s.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new i(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){t.id=n.engine.id,~d(n.connected,t)||n.connected.push(t)})}return t},s.prototype.destroy=function(e){var t=d(this.connected,e);~t&&this.connected.splice(t,1),this.connected.length||this.close()},s.prototype.packet=function(e){c("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},s.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},s.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},s.prototype.close=s.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},s.prototype.onclose=function(e){c("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},s.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},s.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/on.js","./socket":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/socket.js","./url":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/url.js",backo2:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/backo2/index.js","component-bind":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/component-bind/index.js","component-emitter":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js","engine.io-client":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/index.js",indexof:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/indexof/index.js","object-component":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/object-component/index.js","socket.io-parser":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/on.js":[function(e,t,n){function s(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=s},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/socket.js":[function(e,t,n){function s(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var o=e("socket.io-parser"),i=e("component-emitter"),r=e("to-array"),a=e("./on"),l=e("component-bind"),u=e("debug")("socket.io-client:socket"),c=e("has-binary");t.exports=n=s;var d={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},p=i.prototype.emit;i(s.prototype),s.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]}},s.prototype.open=s.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},s.prototype.send=function(){var e=r(arguments);return e.unshift("message"),this.emit.apply(this,e),this},s.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=r(arguments),n=o.EVENT;c(t)&&(n=o.BINARY_EVENT);var s={type:n,data:t};return"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),s.id=this.ids++),this.connected?this.packet(s):this.sendBuffer.push(s),this},s.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},s.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},s.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},s.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},s.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},s.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var s=r(arguments);u("sending ack %j",s);var i=c(s)?o.BINARY_ACK:o.ACK;t.packet({type:i,id:e,data:s})}}},s.prototype.onack=function(e){u("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},s.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},s.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},s.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},s.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},s.prototype.close=s.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/on.js","component-bind":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/component-bind/index.js","component-emitter":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js","has-binary":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/has-binary/index.js","socket.io-parser":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/index.js","to-array":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/to-array/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/lib/url.js":[function(e,t,n){(function(n){function s(e,t){var s=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.hostname+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),s=o(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/",s.id=s.protocol+"://"+s.host+":"+s.port,s.href=s.protocol+"://"+s.host+(t&&t.port==s.port?"":":"+s.port),s}var o=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js",parseuri:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/parseuri/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/backo2/index.js":[function(e,t,n){function s(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=s,s.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},s.prototype.reset=function(){this.attempts=0},s.prototype.setMin=function(e){this.ms=e},s.prototype.setMax=function(e){this.max=e},s.prototype.setJitter=function(e){this.jitter=e}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/component-bind/index.js":[function(e,t,n){var s=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=s.call(arguments,2);return function(){return t.apply(e,n.concat(s.call(arguments)))}}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/cloud/emitter.js"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js":[function(e,t,n){function s(e){return s.enabled(e)?function(t){t=o(t);var n=new Date,i=n-(s[e]||n);s[e]=n,t=e+" "+t+" +"+s.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(e){return e instanceof Error?e.stack||e.message:e}t.exports=s,s.names=[],s.skips=[],s.enable=function(e){try{localStorage.debug=e}catch(t){}for(var n=(e||"").split(/[\s,]+/),o=n.length,i=0;o>i;i++)e=n[i].replace("*",".*?"),"-"===e[0]?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$"))},s.disable=function(){s.enable("")},s.humanize=function(e){var t=1e3,n=6e4,s=60*n;return e>=s?(e/s).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},s.enabled=function(e){for(var t=0,n=s.skips.length;n>t;t++)if(s.skips[t].test(e))return!1;for(var t=0,n=s.names.length;n>t;t++)if(s.names[t].test(e))return!0;return!1};try{window.localStorage&&s.enable(localStorage.debug)}catch(i){}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/has-binary/index.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/index.js"][0].apply(n,arguments)},{isarray:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/has-binary/node_modules/isarray/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/has-binary/node_modules/isarray/index.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/node_modules/isarray/index.js"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/indexof/index.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/indexof/index.js"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/object-component/index.js":[function(e,t,n){var s=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/parseuri/index.js":[function(e,t,n){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=s.exec(e||""),n={},i=14;i--;)n[o[i]]=t[i]||"";return n}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js":[function(e,t,n){(function(t){var s=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(s(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t(e[a]);return r}if("object"==typeof e&&!(e instanceof Date)){var r={};for(var l in e)r[l]=t(e[l]);return r}return e}var n=[],i=e.data,r=e;return r.data=t(i),r.attachments=n.length,{packet:r,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(s(e)){for(var i=0;i<e.length;i++)e[i]=n(e[i]);return e}if(e&&"object"==typeof e){for(var r in e)e[r]=n(e[r]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function i(e,l,u){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){r++;var c=new FileReader;c.onload=function(){u?u[l]=this.result:a=this.result,--r||n(a)},c.readAsArrayBuffer(e)}else if(s(e))for(var d=0;d<e.length;d++)i(e[d],d,e);else if(e&&"object"==typeof e&&!o(e))for(var p in e)i(e[p],p,e)}var r=0,a=e;i(a),r||n(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js",isarray:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/isarray/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/index.js":[function(e,t,n){function s(){}function o(e){var t="",s=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(s=!0,t+=e.nsp),null!=e.id&&(s&&(t+=",",s=!1),t+=e.id),null!=e.data&&(s&&(t+=","),t+=d.stringify(e.data)),c("encoded %j as %s",e,t),t}function i(e,t){function n(e){var n=g.deconstructPacket(e),s=o(n.packet),i=n.buffers;i.unshift(s),t(i)}g.removeBlobs(e,n)}function r(){this.reconstructor=null}function a(e){var t={},s=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return u();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var o="";"-"!=e.charAt(++s)&&(o+=e.charAt(s),s!=e.length););if(o!=Number(o)||"-"!=e.charAt(s))throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(s+1))for(t.nsp="";++s;){var i=e.charAt(s);if(","==i)break;if(t.nsp+=i,s==e.length)break}else t.nsp="/";var r=e.charAt(s+1);if(""!==r&&Number(r)==r){for(t.id="";++s;){var i=e.charAt(s);if(null==i||Number(i)!=i){--s;break}if(t.id+=e.charAt(s),s==e.length)break}t.id=Number(t.id)}if(e.charAt(++s))try{t.data=d.parse(e.substr(s))}catch(a){return u()}return c("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:n.ERROR,data:"parser error"}}var c=e("debug")("socket.io-parser"),d=e("json3"),p=(e("isarray"),e("component-emitter")),g=e("./binary"),h=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=s,n.Decoder=r,s.prototype.encode=function(e,t){if(c("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)i(e,t);else{var s=o(e);t([s])}},p(r.prototype),r.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=g.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js","./is-buffer":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js","component-emitter":"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js",isarray:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/isarray/index.js",json3:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/json3/lib/json3.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js":[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/isarray/index.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/node_modules/isarray/index.js"][0].apply(n,arguments)},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/json3/lib/json3.js":[function(e,t,n){!function(e){function t(e){if(t[e]!==i)return t[e];var n;if("bug-string-char-index"==e)n="a"!="a"[0];else if("json"==e)n=t("json-stringify")&&t("json-parse");else{var s,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var a=u.stringify,l="function"==typeof a&&c;if(l){(s=function(){return 1}).toJSON=s;try{l="0"===a(0)&&"0"===a(new Number)&&'""'==a(new String)&&a(r)===i&&a(i)===i&&a()===i&&"1"===a(s)&&"[1]"==a([s])&&"[null]"==a([i])&&"null"==a(null)&&"[null,null,null]"==a([i,r,null])&&a({a:[s,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===a(null,s)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new Date(-1))}catch(d){l=!1}}n=l}if("json-parse"==e){var p=u.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){s=p(o);var g=5==s.a.length&&1===s.a[0];if(g){try{g=!p('"	"')}catch(d){}if(g)try{g=1!==p("01")}catch(d){}if(g)try{g=1!==p("1.")}catch(d){}}}}catch(d){g=!1}n=g}}return t[e]=!!n}var s,o,i,r={}.toString,a="function"==typeof define&&define.amd,l="object"==typeof JSON&&JSON,u="object"==typeof n&&n&&!n.nodeType&&n;u&&l?(u.stringify=l.stringify,u.parse=l.parse):u=e.JSON=l||{};var c=new Date(-0xc782b5b800cec);try{c=-109252==c.getUTCFullYear()&&0===c.getUTCMonth()&&1===c.getUTCDate()&&10==c.getUTCHours()&&37==c.getUTCMinutes()&&6==c.getUTCSeconds()&&708==c.getUTCMilliseconds()}catch(d){}if(!t("json")){var p="[object Function]",g="[object Date]",h="[object Number]",f="[object String]",v="[object Array]",m="[object Boolean]",b=t("bug-string-char-index");if(!c)var w=Math.floor,_=[0,31,59,90,120,151,181,212,243,273,304,334],y=function(e,t){
return _[t]+365*(e-1970)+w((e-1969+(t=+(t>1)))/4)-w((e-1901+t)/100)+w((e-1601+t)/400)};(s={}.hasOwnProperty)||(s=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=r?s=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,s=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,s.call(this,e)});var j={"boolean":1,number:1,string:1,undefined:1},k=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!j[n]};if(o=function(e,t){var n,i,a,l=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(a in i)s.call(i,a)&&l++;return n=i=null,l?o=2==l?function(e,t){var n,o={},i=r.call(e)==p;for(n in e)i&&"prototype"==n||s.call(o,n)||!(o[n]=1)||!s.call(e,n)||t(n)}:function(e,t){var n,o,i=r.call(e)==p;for(n in e)i&&"prototype"==n||!s.call(e,n)||(o="constructor"===n)||t(n);(o||s.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],o=function(e,t){var n,o,a=r.call(e)==p,l=!a&&"function"!=typeof e.constructor&&k(e,"hasOwnProperty")?e.hasOwnProperty:s;for(n in e)a&&"prototype"==n||!l.call(e,n)||t(n);for(o=i.length;n=i[--o];l.call(e,n)&&t(n));}),o(e,t)},!t("json-stringify")){var x={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},U="000000",W=function(e,t){return(U+(t||0)).slice(-e)},C="\\u00",S=function(e){var t,n='"',s=0,o=e.length,i=o>10&&b;for(i&&(t=e.split(""));o>s;s++){var r=e.charCodeAt(s);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=x[r];break;default:if(32>r){n+=C+W(2,r.toString(16));break}n+=i?t[s]:b?e.charAt(s):e[s]}}return n+'"'},E=function(e,t,n,a,l,u,c){var d,p,b,_,j,k,x,U,C,$,O,A,T,P,L,D;try{d=t[e]}catch(I){}if("object"==typeof d&&d)if(p=r.call(d),p!=g||s.call(d,"toJSON"))"function"==typeof d.toJSON&&(p!=h&&p!=f&&p!=v||s.call(d,"toJSON"))&&(d=d.toJSON(e));else if(d>-1/0&&1/0>d){if(y){for(j=w(d/864e5),b=w(j/365.2425)+1970-1;y(b+1,0)<=j;b++);for(_=w((j-y(b,0))/30.42);y(b,_+1)<=j;_++);j=1+j-y(b,_),k=(d%864e5+864e5)%864e5,x=w(k/36e5)%24,U=w(k/6e4)%60,C=w(k/1e3)%60,$=k%1e3}else b=d.getUTCFullYear(),_=d.getUTCMonth(),j=d.getUTCDate(),x=d.getUTCHours(),U=d.getUTCMinutes(),C=d.getUTCSeconds(),$=d.getUTCMilliseconds();d=(0>=b||b>=1e4?(0>b?"-":"+")+W(6,0>b?-b:b):W(4,b))+"-"+W(2,_+1)+"-"+W(2,j)+"T"+W(2,x)+":"+W(2,U)+":"+W(2,C)+"."+W(3,$)+"Z"}else d=null;if(n&&(d=n.call(t,e,d)),null===d)return"null";if(p=r.call(d),p==m)return""+d;if(p==h)return d>-1/0&&1/0>d?""+d:"null";if(p==f)return S(""+d);if("object"==typeof d){for(P=c.length;P--;)if(c[P]===d)throw TypeError();if(c.push(d),O=[],L=u,u+=l,p==v){for(T=0,P=d.length;P>T;T++)A=E(T,d,n,a,l,u,c),O.push(A===i?"null":A);D=O.length?l?"[\n"+u+O.join(",\n"+u)+"\n"+L+"]":"["+O.join(",")+"]":"[]"}else o(a||d,function(e){var t=E(e,d,n,a,l,u,c);t!==i&&O.push(S(e)+":"+(l?" ":"")+t)}),D=O.length?l?"{\n"+u+O.join(",\n"+u)+"\n"+L+"}":"{"+O.join(",")+"}":"{}";return c.pop(),D}};u.stringify=function(e,t,n){var s,o,i,a;if("function"==typeof t||"object"==typeof t&&t)if((a=r.call(t))==p)o=t;else if(a==v){i={};for(var l,u=0,c=t.length;c>u;l=t[u++],a=r.call(l),(a==f||a==h)&&(i[l]=1));}if(n)if((a=r.call(n))==h){if((n-=n%1)>0)for(s="",n>10&&(n=10);s.length<n;s+=" ");}else a==f&&(s=n.length<=10?n:n.slice(0,10));return E("",(l={},l[""]=e,l),o,i,s,"",[])}}if(!t("json-parse")){var $,O,A=String.fromCharCode,T={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw $=O=null,SyntaxError()},L=function(){for(var e,t,n,s,o,i=O,r=i.length;r>$;)switch(o=i.charCodeAt($)){case 9:case 10:case 13:case 32:$++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?i.charAt($):i[$],$++,e;case 34:for(e="@",$++;r>$;)if(o=i.charCodeAt($),32>o)P();else if(92==o)switch(o=i.charCodeAt(++$)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=T[o],$++;break;case 117:for(t=++$,n=$+4;n>$;$++)o=i.charCodeAt($),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||P();e+=A("0x"+i.slice(t,$));break;default:P()}else{if(34==o)break;for(o=i.charCodeAt($),t=$;o>=32&&92!=o&&34!=o;)o=i.charCodeAt(++$);e+=i.slice(t,$)}if(34==i.charCodeAt($))return $++,e;P();default:if(t=$,45==o&&(s=!0,o=i.charCodeAt(++$)),o>=48&&57>=o){for(48==o&&(o=i.charCodeAt($+1),o>=48&&57>=o)&&P(),s=!1;r>$&&(o=i.charCodeAt($),o>=48&&57>=o);$++);if(46==i.charCodeAt($)){for(n=++$;r>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==$&&P(),$=n}if(o=i.charCodeAt($),101==o||69==o){for(o=i.charCodeAt(++$),(43==o||45==o)&&$++,n=$;r>n&&(o=i.charCodeAt(n),o>=48&&57>=o);n++);n==$&&P(),$=n}return+i.slice(t,$)}if(s&&P(),"true"==i.slice($,$+4))return $+=4,!0;if("false"==i.slice($,$+5))return $+=5,!1;if("null"==i.slice($,$+4))return $+=4,null;P()}return"$"},D=function(e){var t,n;if("$"==e&&P(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=L(),"]"!=e;n||(n=!0))n&&(","==e?(e=L(),"]"==e&&P()):P()),","==e&&P(),t.push(D(e));return t}if("{"==e){for(t={};e=L(),"}"!=e;n||(n=!0))n&&(","==e?(e=L(),"}"==e&&P()):P()),(","==e||"string"!=typeof e||"@"!=(b?e.charAt(0):e[0])||":"!=L())&&P(),t[e.slice(1)]=D(L());return t}P()}return e},I=function(e,t,n){var s=R(e,t,n);s===i?delete e[t]:e[t]=s},R=function(e,t,n){var s,i=e[t];if("object"==typeof i&&i)if(r.call(i)==v)for(s=i.length;s--;)I(i,s,n);else o(i,function(e){I(i,e,n)});return n.call(e,t,i)};u.parse=function(e,t){var n,s;return $=0,O=""+e,n=D(L()),"$"!=L()&&P(),$=O=null,t&&r.call(t)==p?R((s={},s[""]=n,s),"",t):n}}}a&&define(function(){return u})}(this)},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/socket.io-client/node_modules/to-array/index.js":[function(e,t,n){function s(e,t){var n=[];t=t||0;for(var s=t||0;s<e.length;s++)n[s-t]=e[s];return n}t.exports=s},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/object/array.js":[function(e,n,s){var o=e("../util"),i=e("./");o.define(i,"push",function(){if(1===this.__t){void 0===this.length&&(this.length=0);for(var e=0,t=arguments.length;t>e;e++)this._push(arguments[e]);return this.length}},"_push",function(e,t,n,s,o){return this.length++,this.set(this.length-1,e,t,n,s,o),this[this.length-1]},"pop",function(){if(1===this.__t){var e=this.length;0!==e&&(t=this[e-1],this.length--,t.remove())}},"splice",function(e,t){if(e>-1&&1===this.__t)for(var n,s=0,o=this.length;o>s;s++)n?s===o-1?this[s]=null:(this[s]=this[s+1],this[s]._name=s):s===e&&(s===o-1?this.pop():(n=!0,this.length--,this[s].remove(),this[s]=this[s+1],this[s]._name=s))},"include",function(e,t,n){return o.include(this,e,t,n)},"concat",function(e){for(var t=this,n=(t.length,0),s=e.length;s>n;n++)t._push(e[n],!1,!1,!0);return t._update(e),t},"moveItem",function(e,t){var n=this;if(void 0===t&&(t=n.length-1),e!==t){var s=n[e];if(s){var o=t>e?1:-1;do n[e]=null,n.set(e,n[e+o],!0),e+=o;while(e!==t);n[t]=null,n.set(t,s,!0)}}})},{"../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/object/compound.js":[function(e,t,n){function s(e,t){var n=this;n._parent=e,t&&(t instanceof Array||(t=[t]),this.push.apply(this,t))}var o=e("vigour-js/object").inject(e("vigour-js/value/length")),i=e("vigour-js/util"),r=e("vigour-js/util/id"),a=o["new"](void 0,function(e){var t=this;return t.$sources=new s(t,e),this.__t=2,!1});i.define(a,"_class",o),t.exports=a,a.prototype._blacklist.push("$sources"),i.define(a,"_absorb",function(e){for(var t=this,n=e.source,s=e.name,o=n;o&&4===o.__t&&!o._filter;)o=o._val;e.endpoint=o,o&&o.each(function(){t.set(s+"-"+this._name,this)}),t.each(function(){var e=this,n=e._val;if(t.$sources){var s,o=e._name.split("-")[0],i=t.$sources[o].endpoint;i.each(function(){return this===n?s=!0:void 0}),s||e.remove()}})},"_addCompoundListener",function(e){var t=this;e.source.on(function(){t._absorb(e)})}),s.prototype.push=function(){for(var e,t=this,n=t._parent,s=(arguments.length,0);e=arguments[s];s++){var o=r(),i=t[o]={name:o,source:e};n._absorb(i),n._addCompoundListener(i)}}},{"vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/util/id":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/id.js","vigour-js/value/length":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/length.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/object/flags.js":[function(e,t,n){var s=e("../util");n.extend=s.extend(function(e,t){var n=e.prototype,o=n.convert,i=n._set,r=n._remove,a=function(t){var n;for(var s in e.flags.dynamic)if(n=e.flags.dynamic[s](t))break;return n},l=function(t){for(var n in t)if(e.flags[n]||a(n))return!0};t||(t=n.set),n._blacklist.push("_flag"),s.define(e,"convert",function(e){var t=o.call(this,e);if(this._flag&&(!e||!s.isObj(e)||e.val||l(e)))for(var n in this._flag){var i=this._flag[n];i[4]&&i[4].stack||(t===i[1]&&(t={}),t.val===i[1]&&delete t.val,t[i[0]]=i[2])}return t},"__flags__",{},"_remove",function(t,n,s){if(this._flag){for(var o in this._flag){var i=this._flag[o];i&&(e.flags[i[0]]?e.flags[i[0]].remove&&e.flags[i[0]].remove.call(this,i):i[4].remove.call(this,i))}this._flag=null}r.call(this,t,n,s)},"_set",function(t,n,o,r,a){if(i.call(this,t,n,o,r,a),this._flag)for(var l in this._flag){var u=this._flag[l];if(u){var c=e.flags[u[0]]||u[4];this._val!==u[1]&&c.useVal?e.flags[u[0]]?(e.flags[u[0]].remove&&e.flags[u[0]].remove.call(this,u),delete this._flag[l],s.empty(this._flag)&&delete this._flag):u[5]||(u[4].remove.call(this,u),delete this._flag[l],s.empty(this._flag)&&delete this._flag):e.flags[u[0]]&&e.flags[u[0]].reset&&u[3]!==this&&e.flags[u[0]].set.call(this,u[2],n,!0,this._name)}}},"set",function(n,o,i,r,l){var u,c,d=e.flags[n]||a(n);if(d){if(o===!1){var p=d.stack||n,g=this._flag&&this._flag[p];if(g&&d.remove){var h=d.remove.call(this,g,n);h||(delete this._flag[p],s.empty(this._flag)&&delete this._flag)}u=!0}else{if(this._flag)for(var p in this._flag){var g=this._flag[p];if(g&&d.remove)if(d.stack||n!==g[0]){if(!d.stack||d.stack!==g[0]){var f=e.flags[g[0]]||g[4];f.useVal&&d.useVal&&(f.remove.call(this,g),delete this._flag[p],s.empty(this._flag)&&delete this._flag)}}else o!==g[2]?d.remove.call(this,g):c=!0}c||(d.set.call(this,o,r,!1,n),u=!0)}this[n]&&this[n].remove(!1,!1,!1,!1,!1,!0)}else u=t.call(this,n,o,i,r,l);return u}),e.flags=n.__flags__,s.define(e.flags,"dynamic",{})})},{"../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/object/hashpath.js":[function(e,t,n){var s=e("../util"),o=e("../util/hash");n.extend=s.extend(function(e){e.prototype._blacklist.push("__hp"),s.define(e,"_hashpath",{get:function(){return this.__hp||(this.__hp=o(this._path.toString()))}})})},{"../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../util/hash":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/hash.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js":[function(e,t,n){var s=e("../util"),o=e("../"),i=e("../util/inject"),r=t.exports=n=o.Object=function(e,t,n){n&&(this._parent=n),t&&this._hook&&this._hook(e,t),void 0!==e&&(this.val=e)};r.inject=i;var a=function(e,t,n,i,a){if(null===e&&(t||(t=this.stamp()),this.remove(!1,!1,!1,n,t,i)),!(!this.__t||this.__t<3||e!==this._val||this._ignoreValue))return!1;if(!this.stamp)return void console.error("ERROR in vigour-js/object,  OBJECT no .stamp",this);t||(t=this.stamp());var l,u,c,d,p,g=this._val;if(this._changevobj&&(this.__t<4&&e instanceof r||4===this.__t&&(!this._mixed||4===this._mixed||e instanceof Array||e instanceof Object&&(e instanceof r||e.val)))&&(this._changevobj(e,t),4===this._mixed&&(this._val=null)),o.Base&&e instanceof o.Base)this.remove(!0,!0,!1,!1,t),this.__t=5,this._val=e;else if(e instanceof r)(this.__t<3&&!this._mixed||1===this.__t)&&this.remove(!0,!0,!1,void 0,t),this._val=e,this.__t=4,this._setvobj&&this._setvobj(e);else if(e instanceof Object&&"function"!=typeof e)if(e instanceof Array){this._val=void 0,this.__t=1,this.length=e.length,u=this.remove(!0,!0,e,!1,t);for(var h=0,f=this.length;f>h;h++)u=this.set(h,e[h],!1,t,i,!0)||u===!1?!1:!0}else{e.clear?(u=this.remove(!0,!0,!1,!1,t),delete e.clear):1===this.__t?1!==this._mixed&&4!==this._mixed?this.remove(!0,!0,!1,!1,t):d=!0:this._merge||this._mixed&&2!==this.__t||(u=this.remove(!0,!0,e,!1,t)),e.val&&s.isObj(e.val)?(p=!0,this._$setVal(new this._class(e.val,!1,this),t,n,!0),this._val._contained=!0):this._mixed||(this._val=void 0),d||(this.__t=2);for(var v in e)s.checkArray(this._blacklist,v)||("val"===v?(p||(c=this._$setVal(e.val,t,n,!0)),l=!0):u=this.set(v,e[v],!1,t,i,!0)||u===!1?!1:!0)}else if((this.__t<3&&!this._mixed||1===this.__t)&&(this.remove(!0,!0,!1,!1,t),1===this.__t&&delete this.length),e!==this._val||this._ignoreValue)this._val=e,this.__t=3;else if(u!==!1)return this.__t=3,!1;if(l)!this._set||c===!1&&u!==!1||this._set(e,t,n,!1,i,a,g);else if(this._set){if(u)return!1;this._set(e,t,n,!1,i,a,g)}},l=0,u=function(e,t){for(var n,o=t.length-1;o>=0;o--)e&&void 0!==e[t[o]]&&(n="_"+t[o],s.define(this,n,e[t[o]]))};n.stamp=function(){return l++},n.set=a,r["new"]=function(e,t){var n=function(e,n,s){s&&(this._parent=s);var o;t&&(o=t.apply(this,arguments)),n&&this._hook&&this._hook(e,n),this._onConstruct&&this._onConstruct(e,n),void 0!==e&&o!==!1&&(this.val=e)},o=n.prototype=new this;return n["new"]=r["new"],n.inject=i,s.define(n,"_blacklist",o._blacklist.concat()),u.call(n,e,["mixed","merge"]),s.define(n,"_class",n),n},s.define(r,"_$setVal",a,"_blacklist",["_","__","__t","_val","length","_name","_parent","_contained","_removed","extensions","__cachedPath","_ignoreValue","_indexCache"],"_class",r,"stamp",r.stamp,"_get",function(){var e,t=this,n=t.__t;return 3>n?t:(e=t._val,4!==n?e:e&&e._get())},"val",{set:function(e){return this._$setVal(e)},get:function(){return this._get()}},"set",function(e,t,n,s,o,i){if(i=i&&this,!n&&this[e]instanceof r){if(this._$setVal.call(this[e],t,s,i,o)===!1&&s)return!1}else n?(this[e]&&this[e].remove(),this[e]=t,this[e]._name=e,this[e]._parent=this,o||t._update(t,s||this.stamp(),i,void 0,!0)):(this[e]=new this._class(void 0,!1,this),this[e]._name=e,this._$setVal.call(this[e],t,s,i,o,!0)),1===this.__t&&this._setArrayItem&&this._setArrayItem(this[e],t);return!0},"remove",function(e,t,n,o,i,a){e||(this._removed=!0);var l,u,c;i||(i=this.stamp()),e||(this._parent&&(this._parent[this._name]=null,delete this._parent[this._name]),void 0!==this._val&&(this._val instanceof r&&this._val._contained&&this._val.remove(!1,!1,!1,o||this,i,a),c=this._val,this._val=null));for(u in this)n&&n[u]||s.checkArray(this._blacklist,u)||(this[u]instanceof r&&(l=!1,this[u].remove(!1,!1,!1,o||this,i,a)),this[u]=null,delete this[u]);if(!e){if(this._remove&&(this._remove(o,a?!1:o,i,c),!t))for(var d in this)void 0!==this[d]&&("_parent"!==d&&this[d]instanceof r&&this[d]._contained&&this[d].remove(),this[d]=null,delete this[d]);this._removed=!0}return l}),n.listen=e("./listen"),e("./array"),e("./util")},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../util/inject":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/inject.js","./array":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/array.js","./listen":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/listen.js","./util":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/util.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/object/listen.js":[function(e,t,n){function s(e,t,n,s){n?e.addListener([t,n],!0,!1,!1,s):e.addListener(t,!1,!1,!1,s)}var o=e("../util"),i=e("./"),r=e("../"),a=e("vigour-js/browser/animation/raf"),l=e("promise"),u=n._update=function(e,t,n,s,o,r,a){var l,u,c=this._listeners;if(c)for(l=c.length;u=c[--l];)if(u instanceof i)u._lfrom=n||this,u._update(e,t,!1,s,o,r),u&&(u._lfrom=null);else if(u[0]){if(!a||!a(u))if(u.length>2){for(var d=u.length-2,p=arguments.length,g=[],h=-1,f=d+p;f>h;g[++h]=d>h?u[h+2]:h===d?this:arguments[h-d-1]);u[0].apply(u[1],g)}else u[0].call(u[1],this,e,t,n,s,o,r)}else u.call(this,e,t,n,s,o,r)};i.prototype._blacklist.push("_listeners","_listens","_lfrom","_listenMap"),o.define(i,"_set",function(e,t,n,s,o,i,r){o||this._update(e,t,n,s,i,r)},"is",function(e,t,n){if(t&&"function"==typeof t){var s=n?function(){var e=(o.arg(arguments),this);a(function(){t.call(e)})}:t;if("loaded"===e)this.$loaded||this.from.$loaded?s.call(this):this.once("loaded",s);else{var i;if(this.val==e)return s.call(this);if(i="function"==typeof e&&e.call(this))return i instanceof l?i:s.call(this);"function"==typeof e?this.once(e,s):this.once({$val:e},s)}return this}var r=this;return n=t,new l(function(t,n){r.is(e,function(){t.apply(this,arguments)})})},"__update",u,"_update",function(e,t,n,s,o,i,r){for(var a=this,l=!0;a;)a.__update(e,t,n||l!==!0?this:!1,s,o,i,r),a=n?!1:a._parent,l=!1,s&&(s=1)},"_remove",function(e,t,n,s){t!==!1&&this._update(null,n,e,!0,!1,s),this.removeListener();var o,i=this._listens;if(i)for(o=i.length-1;o>=0;i[o--].removeListener(this,void 0,!1,!0));},"_setvobj",function(e){e.addListener(this)},"_changevobj",function(e){if(4===this.__t){var t,n=this._listens,s=this._val;if(n)for(t=n.length;t>=0;n[--t]&&n[t].removeListener(this,this));s instanceof i&&s._contained&&s.remove()}},"addListener",function(e,t,n,s,r){var a,l,u=this._listeners||(this._listeners=[]);if(r&&(this._listenMap||(this._listenMap=[])),t){if(l=o.checkArray(u,e[1],1),!(l===!1||!s&&o.checkArray(u,e[0],0)===!1||t!==!0&&t.call(this,u[l],u,l,e)===!0))return u[l];r&&e!==orginal&&this._listenMap.push([orginal,e]),u.push(e)}else e.__t&&o.checkArray(u,e)||(r&&e!==r&&this._listenMap.push([r,e]),u.push(e));(t||e instanceof i)&&(a=t?e[1]:e,a instanceof i&&(_li=a._listens||(a._listens=[]),(n||!o.checkArray(_li,this))&&(r&&e!==r&&this._listenMap.push([r,e]),_li.push(this))))},"once",function(e,t,n){var s,o=function(){this.removeListener(s,n),s.apply(this,arguments)};return t?(s=t,this.on(e,o,!1,s)):(s=e,this.on(o,!1,!1,s)),this},"on",function(e,t,n,i){return r.Base&&t instanceof r.Base&&(n=t,t=null),i||(i=t),t?o.isObj(e)?e.$val?s(this,function(n){this.val===e.$val&&t.apply(this,arguments)},n,i):console.warn("this will become a condition later on for now its not supported!, conditions will be used eveyrwhere"):"function"==typeof e?s(this,function(n){e.apply(this,arguments)&&t.apply(this,arguments)},n,i):o.isObj(t)?(n=e,console.warn("untested -- add as mark"),s(this,function(e,n,s,o,i,r){o&&t.apply(this,arguments)},n,i)):"remove"===e?s(this,function(e,n,s,o,i,r){o&&t.apply(this,arguments)},n,i):"loaded"===e?s(this,function(e,n,s,o,i,r){(this.$loaded||this.from.$loaded)&&t.apply(this,arguments)},n,i):"added"===e?s(this,function(e,n,s,o,i,r){i&&t.apply(this,arguments)},n,i):"self"===e?s(this,function(n,s,o,i,r,a){(this._val===n||!e&&this._updateOrigin===this)&&t.apply(this,arguments)},n,i):s(this,function(n){(n===e||this.val===e||this._val===e)&&t.apply(this,arguments)},n,i):s(this,e,n,i),this},"removeListener",function(e,t,n,s){var o,r=this._listeners;if(r){for(o=r.length-1;o>=0;o--){var a=r[o];if(!t&&!e||e&&a===e||t!==!1&&a instanceof Array&&(t&&a[1]===t&&(!e||a[0]===e)||e&&a[1]===e)&&(!n||(n===!0?a[0]===e:n.call(this,a,t)))){var l=t?t:a instanceof i?a:a instanceof Array?a[1]:!1,u=l&&l._listens;if(u)for(var c=u.length-1;c>=0;c--)if(u[c]===this){u.splice(c,1),0===u.length&&(l._listens=null),4===l.__t&&a._val===this&&(a._val=void 0);break}if(r.splice(o,1),0===r.length&&(this._listeners=null),e&&!s)break}}if(this._listenMap&&e){for(var d,o=0,p=this._listenMap.length;p>o;o++)if(this._listenMap[o][0]===e){this.removeListener(this._listenMap[o][1]),d=o;break}void 0!==d&&(this._listenMap.splice(d,1),0===this._listenMap.length&&(this._listenMap=!1))}}})},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js",promise:"/Users/shawn/Work/buggin/node_modules/promise/index.js","vigour-js/browser/animation/raf":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/animation/raf.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/object/util.js":[function(e,t,n){var s=e("../util"),o=e("./");e("../");_c=s.checkArray;var i=o.set,r=this.from=function(e){for(var t,n=e;n instanceof o;)n._filter,t=n,n=n._val;return t!==e?t:!1},a=function(e){for(;e&&4===e.__t;){if(e._lfrom)return e._lfrom;e=e._val}},l=function(e,t){for(var n,o=this,i=[];o&&(void 0!==o._name||t);){if(n=o._lfrom||a(o)){var r=l.call(n),u=o.from._name;s.add(r,i),i=r,u&&(u=r.indexOf(u),r.splice(u,r.length-u))}o!==e?(i.push(o._name),o=o._parent):o=!1}return e?i.reverse():i};s.define(o,"toString",function(e){return e?JSON.stringify(this.raw):JSON.stringify(this.raw,!1,2)},"referenceLevel",function(e){for(var t=this,n=0;t&&t.__t;){if(t===e)return n;t=t._val,n++}return!1},"destroy",function(e,t,n,s,o,i){o||(o=this.stamp()),this._removed=!0,this.destroyReferences(e,t,n,s,o,i),this.remove(e,t,n,s,o,i)},"destroyReferences",function(e,t,n,s,i,r){i||(i=this.stamp());var a,l=this._listeners;if(l)for(var u,c=l.length;u=l[--c];)u instanceof o&&(a=u._parent,a&&1===a.__t?a.splice(u._name,1):u.remove(e,t,n,s,i,r))},"each",function(e,t,n){var o,i;if(void 0!==n){n=s.arg(arguments,2);for(o in this)if(!_c(this._blacklist,o)){if(i=this[o],e.apply(i,n))return!0;if(t&&(4!==i.__t||i._contained)&&i.each.apply(i,n))return!0}}else for(o in this)if(!_c(this._blacklist,o)){if(i=this[o],e.call(i,o))return!0;if(t&&(4!==i.__t||i._contained)&&i.each(e,t,n))return!0}},"_path",{get:function(){for(var e=this,t=[];e&&void 0!==e._name;)t.push(e._name),e=e._parent;return t.reverse()}},"_cachedPath",{get:function(){return this.__cachedPath||(this.__cachedPath=this._path.join("."))}},"updatePath",{get:function(){var e=l.call(this,this,!0),t=this._name;return void 0!==t&&e.unshift(t),e}},"keys",{get:function(){var e,t=[];for(e in this)_c(this._blacklist,e)||t.push(e);return t}},"_ancestor",function(e){for(var t=this;t;){if(e===t)return!0;t=t._parent}},"checkParent",s.checkParentFactory("_parent"),"convert",function(e){var t={},n=0;if((!e||e.val)&&(t.val=this._val),1===this.__t){t=[];for(var s=0;s<this.length;s++)n++,t[s]=this[s].convert()}else this.each(function(s){e&&void 0===e[s]||(n++,t[s]=this.convert())});if(e)for(var s in e)void 0===t[s]&&(t[s]=void 0),n++;return n||e&&!e.val||(t=t.val),t},"raw",{get:function(){var e,t,n,s=this,o=s._filter?2:s.__t;if(4===o)return s._val&&s._val.raw;if(3===o)return s.val;if(1===o)for(e=[],t=-1,n=s.length-1;n>t;s[++t]&&e.push(s[t].raw));else{e={};for(t in s)!_c(s._blacklist,t)&&s[t]&&(e[t]=s[t].raw)}return e}},"from",{set:function(e){var t=r(this);i.call(t||this,e)},get:function(){return r(this)||this}},"merge",function(e,t,n,o,r,a,l){var u,c,d,p,g,h,f,v=this._mergeArray;if(l||(f=!0,l=[]),n||(n=this.stamp()),1===this.__t)if(v)v(e,n,o);else for(var m in e)g=e[m],h=this[m],(m=Number(m))>-1&&(u=!0,h?h.merge(g,!1,n,!0,r,a,l):(m>this.length-1&&(this.length=m+1),this.set(m,g,!1,n,!0,!0)));else{for(c in e)d=!0,g=e[c],h=this[c],"val"===c||_c(this._blacklist,c)||(!t&&h&&s.isObj(g)?g.clear?(i.call(h,g,n,!1,!0),u=!0):(p=h.merge(g,!1,n,!0,r,a,l),u!==!0&&(u=p),p||(e[c]=void 0)):h&&h._val===g?(u!==!0&&(u=!1),e[c]=void 0):(null===g&&this[c]?this[c].remove(!1,!1,!1,void 0,n):(this.set(c,g,!1,n,!0),this[c]&&this[c]._listeners&&l.push([this[c],g])),u||(u=p),p||(u=!0)));e.val?(p=i.call(this,e.val,n,!1,!0),u||(u=p),p||(e.val=void 0)):d||u||(u=!1),u=u!==!1||u}if(u&&(r||(o?f?this._update(e,n):(this.__update(e,n),l.push([this,e])):this._update(e,n))),f&&l)for(var b in l)l[b][0]&&l[b][0].__update&&l[b][0].__update(l[b][1],n);return u},"clone",function(e,t,n,i){var r,a=new this._class,l=this._val;if(i&&(a._parent=i),a.__t=this.__t,1===this.__t&&(a.length=this.length),n)for(var u,c=n.length-1;c>=0;c--)u=n[c],u instanceof Array&&this[u[0]]?u[1]===!0?a[u[0]]=s.clone(this[u[0]],!1,!0):a[u[0]]=u[1]:this[u]&&(a[u]=this[u]);l&&l instanceof o&&l._contained?(a.val=l.clone(a,!1,n,a),a._val._contained=!0):o.set.call(a,l,!1,!1,!0);for(r in this)_c(this._blacklist,r)||(t?a.set(r,this[r],!1,!1,!0):this[r]instanceof o?a.set(r,this[r].clone(void 0,!1,n,a),!0,!1,!0):a[r]=s.clone(this[r]));return void 0!==e&&(s.isObj(e)?a.merge(e,t):o.set.call(a,e,!1,!1,!0)),a.__t=this.__t,a},"path",function(e,t,n,o,i,r,a,l){return e instanceof Array||(e=e.split(".")),s.path(this,e,t,n,o,i,r,a,l)},"get",function(e,t){return s.get(this,e,t)},"empty",{get:function(){return s.empty(this,this._blacklist)}},"$empty",function(e,t){var n=this;this.each(function(t){(e&&"string"!=typeof e?s.checkArray(e,t):t===e)||(this.remove?this.remove(!1,!1,!1,!1,!1,!0):n[t]=null)}),this.clearCache&&this.clearCache(),t&&this._update("empty")},"_updateOrigin",{get:function(){for(var e=this;e._lfrom;)e=e._lfrom;return e}},"_origin",{get:function(){for(var e=this;e&&4===e.__t;)e=e._val;return e}})},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/index.js":[function(e,t,n){(function(s){var o,i=e("../"),r="/package.json";t.exports=n=function(e,s,o,r){o=o||(i.isNode?{}:window["package"]);var a={},l=t.exports,u=e&&function(n){a=n.vigour,l.parse(a,o,l._checks),r||(t.exports=a),e(a)};return s?n.options[s]?n.options[s](a,u,!1,o):n.options.val(a,u,s,o):n.options.val(a,u,!1,o),a},i.isNode?n.options={val:function(e,t,n,s){t(s)}}:(o=e("../../browser/network/ajax"),n.options={val:function(e,t,n){if(window["package"])t&&t(window["package"]);else{var i=!window.cordova&&String(window.location).match(/https?:\/\/([^\/]+)/);i&&(i=i[0]),o({url:n&&n.url?n.url:i+r,fallback:[{url:r},n&&n.fallback?n.fallback:{url:s+r},{url:"../"+r},{url:"../../"+r},{url:"../../../"+r}],complete:function(e){window["package"]=e,t&&t(e)}})}}}),n.inject=function(){return n._checks=i.arg(arguments),n},n.loop=function(e,t,n,s,o,r){if(o){var a=t(e,n,s,r);a&&i.merge(e,a)}else for(var l in e[t])if(n===l){i.merge(e,s[l]);break}},n.parse=function(e,t,s,o){s instanceof Array||(s=[s]);for(var r in s)for(var a in s[r]){var l=i.get(t,a),u=s[r][a];n.loop(e,u,l,e[s[r][a]],"function"==typeof u,o)}return e}}).call(this,"/node_modules/vigour-js/util/config")},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../browser/network/ajax":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/ajax.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/config/ua.js":[function(e,t,n){var s=e("../../browser/ua"),o=e("../"),i=e("../../data").inject(e("../../data/selection"));bla=n,n.parse=function(e,t,n,r){var a=s;r&&r.ua&&(a=s.parse(r.ua.toLowerCase(),{}));var l,u=new i({bla:o.clone(a)});if(e.ua)for(var c in e.ua){if(a.platform===c||a.device===c||a.browser===c)return e.ua[c];if(e.ua[c].condition&&(l?l.filter=e.ua[c]:l=new i(u,e.ua[c]),l.length))return delete e.ua[c].condition,l.remove(),e.ua[c]}delete e.subsObj,l&&l.remove()}},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../browser/ua":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/ua.js","../../data":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/index.js","../../data/selection":"/Users/shawn/Work/buggin/node_modules/vigour-js/data/selection.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/debug/index.js":[function(e,t,n){(function(s){function o(e,t,n){function s(){o.parentNode.removeChild(o)}var o=document.createElement("div"),i=document.createElement("p"),r=document.createElement("input"),a=document.createElement("button"),l=document.createElement("button");i.appendChild(document.createTextNode(e)),r.type="text",r.value=t,r.style.display="block",a.appendChild(document.createTextNode("OK")),l.appendChild(document.createTextNode("Cancel")),a.addEventListener("click",function(){s(),n(r.value)}),l.addEventListener("click",function(){s(),n(null)}),o.appendChild(i),o.appendChild(r),o.appendChild(a),o.appendChild(l),o.style.position="absolute",o.style.top="25px",o.style.left="50px",o.style.zIndex=1e3,o.style.fontSize="24px",o.style.backgroundColor="white",document.body.appendChild(o)}var i=n;DEBUG$=i;var r=e("../"),a=r.isNode,l=(e("../../"),i.log=e("./log"));l.logger("DEBUG$","rainbow");if(i.perf=i.performance=e("./performance"),a){var u=s.env.DEBUG;if(u){var c=u.split(",");for(var d in c){var p=c[d].split(":");DEBUG$.level[p[0]]=p[1]?Number(p[1]):3}}}else i.cases=e("../../browser/cases/"),n.body=document.body.base,Object.defineProperty(t.exports,"domain",{get:function(){return String(window.location).match(/https?:\/\/([^\/]+)/)[1].replace(/:.+/,"")}});n["int"]=function(e,t){function n(){return e=e||1e3,~~Math.floor(Math.random()*e)}return t?n():n},n.text=function(e,t,s,o,i){if(t)return function(){return n.text(Math.round(Math.random()*e)+1,!1,s,o,i)};var r=[".",".",".",";",","],a=["ab","able","zo","x","lax","bur","rem","lur","fur","jur","lex","rex","wurd","shur","burn","heps","a","i","y","u","e","p","l","splurf"],l="",u=0;s&&(a=s),s=function(){return a[Math.round(Math.random()*(a.length-1))]},e||(e=~~(101*Math.random()));for(var c,d=0;e>d;d++)if(i||l[l.length-1]&&"."!==l[l.length-2]&&"\n"!==l[l.length-2]?l+=s():(c=s(),l+=c[0].toUpperCase()+c.slice(1)),u++,!i&&~~(Math.random()*(u/2))){var p,g=!1;!o&&~~(21*Math.random())>17&&(p=r[~~(Math.random()*(r.length-1))],l+=p,"."===p&&~~(11*Math.random())>6&&(g=!0,l+="\n",~~(11*Math.random())>7&&(l+="\n"))),g||(l+=" "),u=0}return l},n.data=function(e,t,s,o,i){s||(s={}),o||(o=0),t||(t=0);for(var r in e)if(e[r]instanceof Object&&e[r].length&&e[r].val){if(e&&e[r]){s[r]=[];for(var a=0;a<e[r].length;a++)s[r][a]="function"==typeof e[r].val?e[r].val():n.data(e[r].val,t+1,!1,a+1,s)}}else e[r]instanceof Object&&"function"!=typeof e[r]?s[r]=n.data(e[r],t+1,s[r],!1,o,s):e&&e[r]&&(s[r]="function"==typeof e[r]?e[r].call(s,o,i):e[r]);return s},i.download=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.click()},i.remote=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","http://jsconsole.com/remote.js?"+e),document.getElementsByTagName("head")[0].appendChild(t)},i.findScript=function(e,t,n){var s=e.childNodes,o=t.match(/\.([a-zA-Z0-9]{1,30})$/)[1],i=!n&&new RegExp(t+"$"),r="js"===o?"src":"href";for(var a in s)if(n?s[a][r]===t:i.test(s[a][r]))return s[a]},i["native"]=function(e,t,n,s){if(!document.getElementById("dev")){var i=document.createElement("div");i.id="dev",i.style.zIndex=9999999,i.style.position="absolute",i.style.left="2px",i.style.top="80px",i.style.padding="15px",i.style.backgroundColor="rgba(50,50,50,0.8)",i.style.borderRadius="50%",i.addEventListener("click",function(){o("IP",localStorage.getItem("devip")||e||"http://10.0.1.2:8080",function(e){e?(localStorage.setItem("devip",e),window.location.reload()):(localStorage.removeItem("devip"),window.location.reload())})}),document.body.appendChild(i)}return s||(s="build"),localStorage.getItem("devip")&&(DEBUG$.remoteResource(localStorage.getItem("devip")+"/bundle.css",s+".css",!1),DEBUG$.remoteResource(localStorage.getItem("devip")+"/bundle.js",s+".js",!1))?(document.getElementById("dev").style.backgroundColor="rgba(0,255,0,0.8)",n&&n(localStorage.getItem("devip")),!0):void 0},i.remoteResource=function(e,t,n){console.log("remote resource",e);var s,o,n=void 0!==n?n:!0,r=e.match(/\.([a-zA-Z0-9]{1,30})$/)[1],a=document.createElement("js"===r?"script":"link"),l=document.getElementsByTagName("head")[0],u=document.body;if(t||(n=!1,t=e.match("js"===r?/(\/)([a-zA-Z0-9-_+$]){0,30}\.js$/:/(\/)([a-zA-Z0-9-_+$]){0,30}\.css$/)[0].slice(1)),o=e+"?"+~~(9999999*Math.random()),
"js"===r?(a.setAttribute("type","text/javascript"),a.setAttribute("src",o)):(a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",o),a.setAttribute("id",o)),s=i.findScript(l,t,n),s||(console.log(u,s,"!@!@#!@#JS"),s=i.findScript(u,t,n)),s){console.log("remote resource found:",s,s.src,o,e);var c=s.parentNode;if(String(s.src).indexOf(e)>-1)return;return c.removeChild(s),c.appendChild(a),!0}}}).call(this,e("_process"))},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../../browser/cases/":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js","./log":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/debug/log.js","./performance":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/debug/performance.js",_process:"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/process/browser.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/debug/log.js":[function(e,t,n){function s(e){e||(e=1);for(var t,n=(new Error).stack.split("\n"),s=3,o=[];e--;)line=n[s++],t=")"===line[line.length-1]?line.length-1:line.length,o.push(line.slice(line.indexOf("/"),t));return o.join("\n").grey}function o(e,t){void 0===a.level[e]&&(a.level[e]=t)}var i,r,a=e("./"),l=e("../"),u=l.isNode,r=(e("../../"),console,{green:"#56db68",red:"#ff0000",grey:"#ccc",yellow:"#e0e67c",cyan:"#00ffff",magenta:"#ff00ff",blue:"#1111ff",white:"#fff"});a.level={DEBUG$:1/0,test:2};var c,d,p,g,h,f;if(u){i=e("repl"),r=e("colors"),p="log  ".grey,g="info ".green,h="error".red,f="-----".grey,a.repl=function(){return i.start(">"),a},i.context&&(i.context.DEBUG$=DEBUG$),console.group=function(){console.log("\n____________________________________________________".grey)},console.groupEnd=function(){console.log("____________________________________________________\n".grey)};var v=e("util");d=function(e){return v.inspect(e,{colors:!0,depth:50})},c=function(e){console.log(d(e))}}else{p=":",g="::",h="ERREX!",f=":::";var m=function(e,t,n){this.color=(n?t:"color: "+t)+";",this.val=new String("%c"+e)};d=function(e){if("string"==typeof e)return e;var t="";for(var n in e)t+=n+" : "+("string"==typeof e[n]?e[n]:JSON.stringify(e[n],!1,2))+"\n";return t.inverse.green},c=function(e){console.log(d(e))}}l.define(Object,"DEBUG$log",function(e,t){console.group&&console.group(),e="string"==typeof e?e:!1;var n="JSON "+(e||" normal");return a.log.header(n),a.level.test>1&&console.log(JSON.stringify(this,!1,2)),t&&(console.log("\n"),a.log.fn.apply(this,l.arg(arguments,1))),console.group&&console.groupEnd(),JSON.stringify(this,!1,2)}),!u&&localStorage&&l.define(localStorage,"DEBUG$log",function(e,t){console.group&&console.group(),e="string"==typeof e?e:!1;var n="localStorage "+(e||" normal");a.log.header(n);var s={};for(var o in this)try{s[o]=JSON.parse(this[o])}catch(i){s[o]=this[o]}return a.level.test>1&&console.log(JSON.stringify(s,!1,2)),t&&(console.log("\n"),a.log.fn.apply(this,l.arg(arguments,1))),console.group&&console.groupEnd(),s});var b=t.exports=n={stack:!1,i:function(e){e=this.indent;var t="";for(var n in e)t+="  ";return t},parse:d,object:c,"default":function(e,t){if(e instanceof Object)for(var n in e)o(n,e[n]);else o(e,t)},logger:function(e,t,n){function o(){var t=void 0!==a.level.global?a.level.global:a.level[e];t>2&&b.stack&&console.log(s(b.stack).grey)}return b["default"](e,n||1),o.info=function(){var n=void 0!==a.level.global?a.level.global:a.level[e];n>1&&(console.log.apply(null,[e[t].bold,g].concat(l.arg(arguments))),b.stack&&console.log(s(b.stack).grey))},o.error=function(){var n=void 0!==a.level.global?a.level.global:a.level[e];n>0&&(console.log.apply(null,[e[t].bold,h].concat(l.arg(arguments))),b.stack&&console.log(s(b.stack).grey))},o.detail=function(){var n=void 0!==a.level.global?a.level.global:a.level[e];n>3&&(console.log.apply(null,[e[t].bold,f].concat(l.arg(arguments))),b.stack&&console.log(s(b.stack).grey))},o.parse=d,o},label:function(e,t,n){u?console.log.apply(null,n):console.log.apply(null,["%c "+e+" ",t].concat(n))},header:function(e){this._lh=e,console.log(e.inverse)},header2:function(e){this._lh=e,console.log(e.grey.inverse)},end:function(e){console.log(("end ["+e+"]").grey.inverse)},level:function(e,t){(e>=a.level.test||a.level[e]||t&&a.level[e]>=t)&&console.log.apply(this,l.arg(arguments,1))},fn:function(e){a.log.indent++,"function"==typeof e?e.call(this,l.arg(arguments,1)):console.log(arguments),a.log.indent--},indent:0};setTimeout(function(){},0),l.define(a,"localStorageSize",{get:function(){var e=0;for(var t in localStorage){var n=(t.length+localStorage[t].length)/1024;e+=n}return console.log("LOCAL STORAGE SIZE TOTAL".inverse.green,(e/1024).toFixed(5)+" MB"),1024*e}}),l.define(a,"localStorageKeysSize",{get:function(){var e=0;for(var t in localStorage){var n=t.length/1024;e+=n}return console.log("LOCAL STORAGE KEY SIZE TOTAL".inverse.green,(e/1024).toFixed(5)+" MB"),1024*e}})},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/debug/index.js",colors:"/Users/shawn/Work/buggin/node_modules/vigour-js/node_modules/colors/colors.js",repl:"/Users/shawn/Work/gaston/node_modules/browserify/lib/_empty.js",util:"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/util/util.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/debug/performance.js":[function(e,t,n){(function(s){function o(e,t,s,o,i,r){var a,u,c,d,p,g=n.now(),h=n.memory();return t||(t="TEST PERFORMANCE"),p=o?e.apply(o,i):e.apply(this,i),d=n.now(),a=n.memory(),u=a-h,c=d-g-(p||0),s?s(c/1e3,a-h):r||l.level.test>0&&console.log(t.inverse,"\nparse time: "+(d-g)/1e3+" sec"+(u?"\nmemory used (approximate): "+u+" bytes":"")),c}function i(e,t,s){e.complete?e.complete(t,s,e,n.average(t)[0],n.average(t)[1]):l.level.test>0&&console.log(e.name.inverse," n="+e.loop+"\nparse time:"+(e.extensive?" \n\n"+t.join(" sec\n")+" sec\n\n":"")+"average: "+n.average(t)[1]+" sec\ntotal: "+n.average(t)[0]+" sec")}var r,a=e("../"),l=e("./"),u=a.isNode;u?r=e("os"):console.log('DEBUG \n\nif you want to check memory usage start chrome using: \n\n open -a Google\\ Chrome --args --enable-memory-info --js-flags="--expose-gc"\n'.grey);var c=[];l.countNewListeners=function(e,t){t={val:0};var n=[];l.countListeners(e,t,n);var s=[];for(var o in n)a.checkArray(c,n[o])===!1&&s.push(n[o]);return c=n,{amount:t.val,newchecks:s}},l.countListeners=function(e,t,n){var t,n;if(n||(n=[]),a.checkArray(n,e)!==!1||!e)return t.val;if(n.push(e),t||(t={val:0}),e._listeners&&(t.val+=e._listeners.length),e.each)e.each(function(e){l.countListeners(this,t,n)});else if(e instanceof Object)for(var s in e)e[s]&&(e[s].__t||e[s]._from||e._from&&"cloud"===s)&&l.countListeners(e[s],t,n);return t.val},l.countSubs=function(e,t,n){var t;return t||(t={val:0}),e._subs&&(console.log("!!!!!SUB",e._path,e._subs),t.val+=e._subs.length),e.each||console.log("no EACH!",n),e.each(function(e){l.countSubs(this,t,e)}),t.val},t.exports=n=function(e,t){if(t&&"string"==typeof e)return o(t,e);if("function"==typeof e)return o(e);if(e instanceof Object){if(e.name||(e.name="performance test"),e.loop){var s=[],r=[],a=function(e,t){s.push(e),t&&r.push(t)};if(e.interval)var l=0,u=setInterval(function(){l++,l===e.loop-1?(clearInterval(u),i(e,s,r)):o(e.method,!1,a)},e.interval);else{for(var c=e.loop;c>0;c--)o(e.method,!1,a);i(e,s,r)}return n.average(s)}return o(e.method,e.name,e.complete,e.call,e.args,e.nolog)}},l.log&&l.log["default"]("test",4),n.now=function(){return u?1e3*s.hrtime()[0]+1e-6*s.hrtime()[1]:window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},n.memory=function(){return u?s.memoryUsage().heapUsed:window&&window.performance&&window.performance.memory?976562e-9*window.performance.memory.usedJSHeapSize:0},n.average=function(e){for(var t=0,n=e.length-1;n>=0;n--)t+=e[n];return[t,t/e.length]}}).call(this,e("_process"))},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/debug/index.js",_process:"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/process/browser.js",os:"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/os-browserify/browser.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/encode64.js":[function(e,t,n){var s={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,o,i,r,a,l,u="",c=0;for(e=s._utf8_encode(e);c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),o=e.charCodeAt(c++),i=t>>2,r=(3&t)<<4|n>>4,a=(15&n)<<2|o>>6,l=63&o,isNaN(n)?a=l=64:isNaN(o)&&(l=64),u=u+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return u},decode:function(e){var t,n,o,i,r,a,l,u="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)i=this._keyStr.indexOf(e.charAt(c++)),r=this._keyStr.indexOf(e.charAt(c++)),a=this._keyStr.indexOf(e.charAt(c++)),l=this._keyStr.indexOf(e.charAt(c++)),t=i<<2|r>>4,n=(15&r)<<4|a>>2,o=(3&a)<<6|l,u+=String.fromCharCode(t),64!=a&&(u+=String.fromCharCode(n)),64!=l&&(u+=String.fromCharCode(o));return u=s._utf8_decode(u)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var s=e.charCodeAt(n);128>s?t+=String.fromCharCode(s):s>127&&2048>s?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t},_utf8_decode:function(e){for(var t="",n=0,s=c1=c2=0;n<e.length;)s=e.charCodeAt(n),128>s?(t+=String.fromCharCode(s),n++):s>191&&224>s?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&s)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),n+=3);return t}};t.exports=n=s},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/global.js":[function(e,t,n){(function(e,n){function s(e,t,n,s,o){return e?void 0===n?s?e[s](t):e[t]:o?(e[o](t,n),n):e[t]=n:void 0}var o="undefined"!=typeof window?window:"undefined"!=typeof n?n:!1,i="undefined"!=typeof localStorage,r="undefined"!=typeof e;t.exports={session:function(e,t){return s(o,e,t)},env:function(t,n){return i?s(localStorage,t,n,"getItem","setItem"):r?s(e.env,t,n):void 0}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/process/browser.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/hash.js":[function(e,t,n){n=t.exports=function(e,t){var n,s,o,i,r,a,l,u;for(t=1,n=3&e.length,s=e.length-n,o=t,r=3432918353,a=461845907,u=0;s>u;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,o^=l,o=o<<13|o>>>19,i=5*(65535&o)+((5*(o>>>16)&65535)<<16)&4294967295,o=(65535&i)+27492+(((i>>>16)+58964&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:l^=255&e.charCodeAt(u),l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,o^=l}return o^=e.length,o^=o>>>16,o=2246822507*(65535&o)+((2246822507*(o>>>16)&65535)<<16)&4294967295,o^=o>>>13,o=3266489909*(65535&o)+((3266489909*(o>>>16)&65535)<<16)&4294967295,o^=o>>>16,(o>>>0).toString(36)},n.encode=function s(e,t){return t=t||"",~~e?s(e/62,String.fromCharCode(((e%=62)>9?e>35?29:87:48)+e)+t):t},n.decode=function(e,t,n,s){for(t=n=0;s=e.charCodeAt(n++);t=62*t+s-[,48,29,87][s>>5]);return t}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/id.js":[function(e,t,n){function s(){return Number(String(Math.random()).slice(2)).toString(36)}t.exports=function(e,t){var n=s();if(t)for(;t--;)n+=s();return e?e+n:n}},{}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js":[function(e,t,n){e("./object"),e("./prop"),n.isNode="undefined"==typeof window?!0:!1,n.add=function(e,t){return t&&e.push.apply(e,t),e},n.checkArray=function(e,t,s,o){var i=s instanceof Array;if(!e)return!1;for(var r,a=0,l=e.length;l>a;a++)if(r=e[a],void 0!==s){if(s===!0){if(r===t)return a}else if(i?n.path(r,s)===t:r[s]===t)return o?r:a}else if(r===t)return!0;return!1},n.arg=function(e,t){return Array.prototype.slice.call(e,t?t:0)},n.empty=function(e,t){for(var n in e)if(!t||!this.checkArray(t,n))return!1;return!0},n.inject=e("./inject")},{"./inject":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/inject.js","./object":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/object.js","./prop":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/prop.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/inject.js":[function(e,t,n){function s(e,t){if(r&&console.log("9",t,e),t.extend)r&&console.log("9.1",e),t.extend(e);else if(t instanceof Array){var n=t.concat(),s=n[0];n[0]=e,r&&console.log("9.2"),s.extend.apply(s,n)}}function o(){r&&console.log("5");for(var e,t,n=[],o=[this],a=0,l=arguments,u=l.length;u>a;a++)if(t=l[a],"function"==typeof t){e||(e=function(){for(var e=0,t=o.length;t>e;e++)o[e].apply(this,arguments)},i(e,this)),o.push(t);for(var c in t.prototype)if({}.hasOwnProperty.call(t.prototype,c)){if("constructor"===c)continue;e.prototype[c]=t.prototype[c]}}else r&&console.log("6"),e?(r&&console.log("7"),s(e,t)):n.push(t);e||(e=this);for(var d in n)s(e,n[d]);return e}function i(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var r,a=e("../"),l=e("./");l.isNode||(r=window.$TEST),t.exports=n=function(e){var t=arguments;if(t[0]&&t[0].$TEST&&(r=window.$TEST=!0),"function"==typeof this||a.Base&&this instanceof a.Base||"object"==typeof this){if(!a.Base||!(this===a.Base||this.prototype instanceof a.Base||this instanceof a.Base))return o.apply(this,t);t=l.arg(t),t.unshift(this),e=this}for(var n=1;n<t.length;n++)s(e,t[n]);return e}},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/object.js":[function(e,t,n){function s(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var o=t.exports=n=e("./"),i=e("../"),r=".";n.lookup=Object.__lookupSetter__||function(e){for(var t,n=this;n;){if(t=Object.getOwnPropertyDescriptor(n,e),t&&t.set)return!0;n=Object.getPrototypeOf(n)}return!1},n.set=function(e,t,n,s,o,r){return i.Object&&e instanceof i.Object?e.set(t,n,s,o,r):e[t]=n},n.path=function(e,t,s,o,i,r,a,l,u,c,d){d||(d=0);var p,g,h=t[d],f=!u&&e&&4===e.__t?e.from[h]:e&&e[h],v=d<t.length-1;return!v||f instanceof Object||(f=void 0),void 0!==s&&(void 0===f||!v&&o)&&(g=!0,n.set(e,h,v?{}:s,v?!1:r,a,l),f=e[h]),v?p=f?this.path(f,t,s,o,i,r,a,l,u,c,++d):f:(p=!u&&f&&4===f.__t?f.from:f,g&&i&&i(p)),p},n.dotField=function(e,t){if(~t.indexOf(r)){var n=t.split(r),s=n.shift(),o={};this.path(o,n,e[t]),delete e[t],e[s]=o,t=s}return t},n.compareArrays=function(e,t,n){var s=n?Object.keys(t).length:t.length;if(e.length!==s)return!1;for(var o=e.length-1;o>=0;o--)if(e[o]!=t[o])return!1;return!0},n.get=function(e,t,n){if(e&&t){if(n||4!==e.__t||e._filter||(e=e.from),!(t instanceof Array)){if(!~t.indexOf(r))return!n&&e[t]&&e[t].from||e[t];t=t.split(r)}return this.path(e,t,void 0,!1,!1,!1,!1,!1,n)}},n.isObj=function(e){return!(!(e instanceof Object&&"function"!=typeof e)||i.Object&&e instanceof i.Object||i.Base&&e instanceof i.Base)},n.clone=function(e,t,n){if(this.isObj(e)){var s=new e.constructor;for(var o in e)t&&t[o]||(s[o]=n?e[o]:this.clone(e[o],t));return s}return e},n.merge=function(e,t,n,s){for(var i in t){var r=o.isObj(e[i]),a=o.isObj(t[i]);r&&a?o.merge(e[i],t[i],n,s):n&&a?(e[i]=t[i]instanceof Array?[]:{},o.merge(e[i],t[i],n,s)):(void 0===s||!(i in e)||"function"==typeof s&&s(e[i],t[i]))&&(e[i]=t[i])}return e},n.resolve=function(e,t,s,o){var i=!0;if(t instanceof Object){for(var r in t)void 0!==e[r]&&n.resolve(e[r],t[r],void 0!==s&&null!==s?s[r]:t[r],r)?void 0!==s&&null!==s&&(null===s[r]?i=!1:delete s[r]):i=!1;if(i){if(!s||void 0===o)return!0;delete s[o]}return i}return e==t?(s&&void 0!==o&&delete s[o],!0):void 0},n.include=function(e,t,s,o){if(o&&t instanceof Array){for(var i=!1,r=0,a=t.length;a>r;r++)i=n.include(e,t[r],s);return i}var l,u,r=0,c=e.length;if(1===e.__t){for(;c>r;r++)if(l=u=e[r],4===u.__t&&(u=u.from),u===t||u.val===t)return s&&s(l),!1;return e.push(t),!0}if(e instanceof Array){for(;c>r;r++)if(e[r]===t)return!1;return e.push(t),!0}},n.changeType=function(e){var t;if(e instanceof Array){t={};for(var n=0,s=e.length;s>n;n++)t[n]=e[n]}else{t=[];for(var n in e)t.push(e[n])}return t},n.raw=function(e,t){if(e instanceof Object){if(e instanceof i.Object)return e.raw;var n;if(e instanceof Array){n=[];for(var s=0,o=e.length;o>s;s++)n[s]=this.raw(e[s],t)}else{n={};for(var r in e)n[r]=this.raw(e[r],t)}return n}return e},n.walk=function(e,t){for(var s in e)if(e[s]instanceof Object){if(t(s,e[s],e,!0))return!0;if(n.walk(e[s],t))return!0}else if(t(s,e[s],e))return!0},n.checkParentFactory=function(e){return function(t,s,o,r){s&&s!==!0&&(r=s,s=!1);for(var a,l=t instanceof i.Object?!1:t,u=this;u;){if(a=l===!1?u===t:n.get(u,l,!o)){if(!r)return!s&&l?u:a;if(r===a||a instanceof i.Object&&a.val===r)return!s&&l?u:a}u=u[e]}}},n.disjoin=function(e,t,n){var o="function"==typeof n;e=s(e),t=s(t),e.each(function(){var e,s=this,i=s.from;t.each(function(){var t=this,s=t.from;return e=o?n(i,s):n===!0?i===s:i[n]&&s[n]&&i[n].val===s[n].val}),e&&s.remove()})}},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/process.js":[function(e,t,n){e("../object");t.exports={}},{"../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/util/prop.js":[function(e,t,n){function s(e,t,n,s,r){if(window.$TEST&&console.log(12,e),e.extensions||(n?e.extensions=[]:i.Object&&e instanceof i.Object?o.define(e,"extensions",[]):o.define(e,"extensions",{val:[],setClass:!0})),o.checkArray(e.extensions,this)===!1){r||(e.extensions=[this].concat(e.extensions));var a=o.arg(s);n&&!r&&(a[0]=n),window.$TEST&&console.error("??xxx?",a,t,this);var l=t.apply(this,a);if(window.$TEST,l)return l}else window.$TEST&&console.error("???")}var o=t.exports=n=e("./"),i=e("../");n.setstore=function(){this.__||(this.__={})},n.getStore=function(e){return this.__?void 0!==this.__[e]?this.__[e]:this._[e]:this._&&this._[e]},n.extend=function(){var e=o.arg(arguments);return function(t){window.$TEST&&console.log("10 --->",t);var n,r;"function"==typeof t?i.Base&&t.prototype instanceof i.Base?(n=t.base,r=!0):r=t.prototype:i.Base&&t instanceof i.Base&&(r=t);for(var a,l,u,c=o.arg(arguments),d=0,p=e.length;p>d;d++)e[d]instanceof Array?(l=e[d][0],u=o.arg(e[d],1),u.unshift(t)):(u=c,l=e[d]),window.$TEST&&console.log("11",l.extend?l:this,n||r),a=s.call(l.extend?l:this,n||r||t,l.extend||l,n,u,l.extend?!0:!1)||t;return a}},n.define=function(e,t,s,i,r,a){if("string"==typeof i)for(var l=o.arg(arguments),u=1,c=l.length;c>u;u+=2)n.define(e,l[u],l[u+1]);else if(t instanceof Array)for(var u=0,c=t.length;c>u;u++)n.define(e,t[u],s);else{if("function"==typeof s||s instanceof Array)s={enumerable:!1,value:s,configurable:!0};else if(s&&s instanceof Object&&!s.setClass)s.enumerable||(o.empty(s)&&(s.value={}),s.configurable=!0,s.enumerable=!1);else{s&&s.setClass&&(s=s.val);var d=e.prototype||e;a?(d.__||(d.__={}),d.__[t]=s):(d._||(d._={}),d._[t]=s);var p=function(e){n.setstore.call(this),(e||0===e||e===!1)&&(this.__[t]=e)},g=function(e){e=i.call(this,e),p.call(this,e)},h=function(){return n.getStore.call(this,t)},f=function(){var e=h.call(this);return r.call(this,e)};s={enumerable:!1,configurable:!0,get:r?f:h,set:i?g:p}}Object.defineProperty(e.prototype||e,t,s)}}},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/base.js":[function(e,t,n){function s(e,t,n,s){e&&(e._bind===s&&4===e.__t?e.val=t:e._bind||(4===e.__t&&e._val===n?(e.val=t,console.log("----------",e.__t)):t.addListener(e)))}var o=(e("../base"),e("./")),i=e("../object").set,r=e("../util");n.clonelist=[["_base",!1],"_caller","_prop","_name","_skip"],n.type={type:o,create:function(e,t,n,s){var r=new o;return r._base=this,r._caller=r._base,r._prop=n,i.call(r,e,!1,!1,!0),this._class&&(this._class.prototype._[n.name]=r),n.set&&(n._vset||(n._vset=function(e,t,s,o){n.set.call(this._caller||this._base||this,this,e,t,s,o)}),s||r._update(e)),r},set:function(e,t,i){if(t){if(t._caller=this,t._bind=!1,this!==t._base){var a,l=t._listeners,u=(t._base,this);if(r.setstore.call(this),n.clonelist[0][1]=this,void 0===e||e.clear){var c=new o;c._base=this,c._prop=i,c._caller=this,e&&delete e.clear,c.val=e,e=c}else e=t.clone(e,!1,n.clonelist);if(this.__[i.name]=e,this._class&&(this._class.prototype._[i.name]=e),t.each(function(n){if(this._listeners){for(a=this._listeners.length-1;a>=0;a--)s(this._listeners[a],e[n],t,u);e[n].val!==this.val}}),l)for(a=l.length-1;a>=0;a--)s(l[a],e,t,u);e=null,this[i.name]._update(e)}return e}},get:function(e,t){return e&&(e._caller=this),t.get?t.get.call(this,e):e}}},{"../base":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js","../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/data.js":[function(e,t,n){var s=t.exports=e("./"),o=e("../../util"),i=e("../../object"),r=function(e){return e.__&&e.__.model||(e.model={},e._.model||e._dListen()),e.model};s.data={useVal:!0,set:function(e,t,n){var s=this.checkParent("_prop.name"),i=s._prop.name,a=s._base,l=r(a);l.flags&&l.flags[i]?(l.flags[i]instanceof Array||(l.flags[i]=[l.flags[i]]),o.checkArray(l.flags[i],this)||l.flags[i].push(this)):(a.model.flags||(a.model.flags={}),a.model.flags[i]=this);var u=function(){var e=this._d;if(void 0===e)for(var t=this;void 0===e&&t;)t._d?e=this._dSet(t._d,!0):(t=t.node.parentNode,t&&(t=t.base));return e};if(e instanceof Object){var c=e.val||e;this._val=function(){var e=u.call(this);return e&&c.call(this,e)},e=e.listen||!0}else this._val=function(){var t,n=u.call(this);return n=e===!0?n:o.get(n,e),void 0!==n?(t=n.__t&&!n._filter&&n.val,t||0===t||""===t||(t=n)):t="",t};this._flag||(this._flag={}),this._flag.data=["data",this._val,e,i]},remove:function(){var e=this.checkParent("_prop.name"),t=r(e._base),n=this;if(t&&t.flags)for(var s in t.flags)if(s===e._prop.name){var a=t.flags[s];a instanceof i||1===a.length?(t.flags[s]=null,delete t.flags[s]):t.flags[s].splice(o.checkArray(a,n),1)}this._update(),setTimeout(function(){n._update()},0)}}},{"../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js":[function(e,t,n){var s=e("../"),o=e("../base"),i=e("../../object/flags");o.clonelist.push(["_flag",!0]),i.extend(s),t.exports=s.flags},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../../object/flags":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/flags.js","../base":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/base.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/parent.js":[function(e,t,n){function s(e,t){e&&e.node&&(("x"===t||"y"===t)&&e.cleanCoordinates(t),e[t]&&e[t]._prop._vset.call(e[t]))}function o(e,t,n,o,i,r,a,l,u,c,d,p,g,h,f){if(f&&this.parent instanceof o||!f&&this.parent===o||h){var v,m=this._from.base.node&&this._from.base,b=t._prop.name;t._caller=this,e.call(t,l,u,c,a),m&&m[b]&&m[b+"__p"]!==l&&(t._caller=m,t._caller[b+"__p"]=l,e.call(t,l,u,c,a),t._caller=this,v=!0);for(var w in t._listeners)t._listeners[w].pop&&"parent"===t._listeners[w][2]&&(t._listeners[w][1]._lstamp===l&&(t._listeners[w][1]._lstamp=null),t._listeners[w][0].call(t._listeners[w][1],n,this,m,r,a,l,u,c,d,p,!0));v&&s(m,b)}}function i(e,t,n,s,r,a,l,u,c,d,g,h){var f=this;this._parentStore[0]=t,this._update(r,l?this.stamp():a,l,u,c,d,!1,!1,function(){var v,m=this.checkParent("_prop._vset",!0),b=this.checkParent("_base",!0);t===b.parent&&l&&(v=!0),o.call(b,m,f,e,t,n,s,r,a,!1,u,c,d,!0,g),b.eachInstance(function(){o.call(this,m,f,e,t,n,s,r,a,!1,u,c,d,!1,v)},f._prop.name),p.prototype._update.call(this,r,a,!1,u,c,d,function(e){return"parent"===e[2]}),!h&&s._caller&&t!==s._caller&&i.call(this,e,s._caller,n,s,r,a,!1,u,c,d,g,!0)})}function r(e,t,n,o,r){var a,l,u=n._parentStore[0],c=o[2],d=e[c],g=this._from.base;d&&(d.addListener([i,n,"parent",e,this],function(t,s,o){t[3]!==e&&u!==e&&t[4]!==g&&(n._parentStore[0]=e,t[4]=g,a=!0)},!1,!0),(a||!u||u!==e&&u[c]!==d)&&(n._parentStore[0]=e,t||(n._caller=l=g.node&&g||n._base,n._prop._vset.call(n,n),n._caller=this,i.call(n,"parent",e,g,d,!1,p.stamp(),!1,!1,!1,!1,!0,!0),s(l,n._prop.name))))}function a(e,t,n){var s=this.parent;s&&r.call(this,s,!0,e,t,n)}function l(e){var t=this.parent||e.checkParent("_parentStore.0",!0);return t&&!e._flag.parent?void console.error("NO PARENT FLAG!"):t?t[e._flag.parent[2]].val:void 0}var u=t.exports=e("./"),c=e("../"),d=e("../../util"),p=e("../../object");c.prototype._blacklist.push("_parentStore"),u.parent={reset:!0,useVal:!0,set:function(e,t,n){var s=this.checkParent("_prop.name"),o=s._prop.name;this._flag||(this._flag={}),this._flag.parent=["parent",l,e,this],s._parentStore||(s._parentStore=[!1]),s._parentStore.push(this),s._caller.setSetting({name:o,parent:function(e){for(var t=this[o]._parentStore,n=t?t.length-1:0;n>0;n--)t[n]._flag.parent?r.call(this,e,!1,this[o],t[n]._flag.parent):console.error("2 NO PARENT FLAG!")}}),this._val=l,this._skip=!0,a.call(s._base,s,this._flag.parent,n),s._base.eachInstance(a,o,s,this._flag.parent)},remove:function(e){var t=this.checkParent("_prop.name"),n=t._base,s=t._listens,o=t._prop.name,i=e[2],r=t._parentStore,a=function(){var e=this.parent;if(e&&e[i]){if(!(s.length>0))return!0;d.checkArray(s,e[i])&&e[i].removeListener(!1,t)}};this._val=0,s&&!a.call(n)&&n.eachInstance(a,o),r.splice(d.checkArray(r,this,!0),1),1===r.length&&(n.removeSetting(o,"parent"),t._parentStore=null)}}},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/process.js":[function(e,t,n){var s=t.exports=e("./"),o=e("../../util/process"),i=e("../"),r=e("../../util"),a=e("../../browser/network/ajax"),l=e("../../object");n.create=function(e,t,n,a){a||(a=s),n||(n=i);var l,u,c="__temp"+e+"__",d="__inprogress"+e+"__",p=n.prototype._update,g=t&&t.once,h=t&&t.deferMethod,f={reset:!0,set:function(t,n,s){this._flag||(this._flag={}),this._flag[e]=[e,!1,t,this]},remove:function(){var t,n=this._flag&&this._flag[e];if(n&&n[1])if(t="string"==typeof n[2]?o[n[2]]:"function"!=typeof n[2]&&n[2],t&&t.removeListener)t.removeListener(n[1]);else if(t&&t!==!0)for(var s in t)t.removeListener(t[s])}};if(n.prototype._blacklist.push(c,d,"_history"),h&&(t.deferMethod=null),g&&(t.once=null,n.prototype._blacklist.push(g)),t)for(var v in t)"set"===v?(l=f.set,f.set=function(e,n,s){t.set.call(this,l,arguments)}):"remove"===v?(u=f.remove,f.remove=function(e,n,s){t.remove.call(this,u,arguments)}):f[v]=t[v];a[e]=f,r.define(n,"_update",function(t,s){if(!this._flag||!this._flag[e]||g&&this[g])p.apply(this,arguments);else{var i,a,l,u,f,v=this,m=v._flag&&v._flag[e],b=v[c];if(b){if(s&&b[0][1]!==s){var w=r.arg(arguments);for(var _ in w)b[0][_]=w[_]}return}if(v[c]=b=[],i=!0,a=r.arg(arguments),b.push(a),i&&(l=h?h.call(v,a,m[2],c,p,n,d):"string"==typeof m[2]?o[m[2]]:m[2])){if(u=function(){g&&(v[g]=!0);for(var e=0;e<b.length;e++)p.apply(v,b[e]);this.removeListener&&this.removeListener(u),v[c]=null},"function"==typeof l)v[d]||(f=function(e){e!==!0&&v[d]&&v[d](),v[d]=null,v[c]=null},v[d]=u,l.call(this,f,a,b)===!0&&(v[c]=null,v[d]=null));else if(l===!0)this.val||0===this.val?(p.apply(v,a),v[c]=null):console.error("no value! from defer type:",e);else if(l.addListener)l.addListener(u);else for(var y in l)l[y].addListener(u);m[1]=u}}})},n.create("$bubble",{deferMethod:function(e,t,n,s){var o,i,r=this;r[n]=null,t?((i=t.references)?i instanceof Object?i.$lte&&r.referenceLevel(r._updateOrigin)<=i.$lte&&(o=!0):i>-1?r.referenceLevel(r._updateOrigin)===i&&(o=!0):i===!0&&r.referenceLevel(r._updateOrigin)!==!1&&(o=!0):t&&t.self===!0&&(void 0===e[2]||this._val===e[0]||!e[0]&&this._updateOrigin===this)&&(o=!0),o?s.apply(r,e):r.clearReferencesCache()):s.apply(r,e)}}),n.create("defer"),i.operators.responseData=function(e,t){return t===!1?e:t},n.create("ajax",{remove:function(e,t){e.apply(this,t)},set:function(e,t){this.loading||this.set("loading",!1,!1,!1,!0),e.apply(this,t)},deferMethod:function(e,t,n,s,o){var i=this;return t&&function(e,n){var s=e;if(e=function(e,t){i.clearCache(),i._skip=!0,i._ignoreValue=!0,e&&(n[0]=e,i._val instanceof l||(i.val=e)),i.loading&&(i.loading.val=!1),s(t),i._ignoreValue=null},"object"==typeof t){var r=t;t={};for(var u in r)if("defer"===u)t[u]=r[u];else if(!t[u]){if("complete"!==u&&"error"!==u&&"function"==typeof r[u]){if(t[u]=r[u].call(i,t,n[0],n),!t[u])return!0}else t[u]=r[u];t[u]instanceof l&&(t[u]=t[u].val)}}if("function"==typeof t&&(t=t.call(i,t,n[0],n),!t))return!0;if("string"==typeof t&&(t={url:t}),t.url instanceof l&&(t.url=t.url.val),!t||!t.url&&!t.api)return!0;var c=t.complete,d=t.error;t.complete=function(s){t.defer?t.defer.call(i,e,n,null,s,t):(i.responseData?i.responseData.merge(s):i.set("responseData",s),c&&c(s),e("success"))},t.error=function(s){t.defer?t.defer.call(i,e,n,s,t):(i.responseData&&i.responseData.each(function(e){o.operators[e]||o.flags[e]||this.remove()}),i.set("responseData",void 0),d&&d(data),e("error"))},i.loading&&(i.loading.val=!0),a(t)}}}),n.create("apiDefer",{remove:function(e,t){e.apply(this,t)},set:function(e,t){this.loading||this.set("loading",!1,!1,!1,!0),e.apply(this,t)},deferMethod:function(e,t,n,s,o,i){var r=this;return t&&function(e,n){if(!n[0]||n[0].apiDefer)return!0;var s=function(t,s){if(r.loading.val=!1,t&&t!==!0){r.val=n[0]=t;try{e(t)}catch(o){r.type=o,e("error")}r.clearCache(),r._val=!1}else e(t)};r.loading.val=!0;var o=r.checkParent("api",!0);o&&o.val!==!0?(o.once(function(e){"error"===e?(r.clearCache(),r.val=n[0]="error",r.type=this.type||"api",r.loading.val=!1,s()):e===!0&&t.call(r,s,n)}),o.val=!0):t.call(r,s,n)}}}),n.create("init",{set:function(e,t){this.initialised||e.apply(this,t)},remove:function(e,t){e.apply(this,t),this.initialised=null},once:"initialised"}),t.exports=n},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js","../../browser/network/ajax":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/network/ajax.js","../../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","../../util/process":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/process.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/self.js":[function(e,t,n){var s=t.exports=e("./");s.self={reset:!0,useVal:!0,set:function(e,t,n){
var s=this.checkParent("_prop.name");s._base&&s._base[e]&&(s._base[e].addListener(this),this._val=function(){return this[e]&&this[e].val},this._flag||(this._flag={}),this._flag.self=["self",this._val,e,this])}}},{"./":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/util.js":[function(e,t,n){var s=t.exports=e("./");s.listen={reset:!0,set:function(e,t,n){if(!e)return void console.error("no val in flags listen!");if(this._flag||(this._flag={}),this._flag.listen=["listen",!1,e,this],e instanceof Array)for(var s=e.length-1;s>=0;e[s--].addListener(this));else{e.addListener(this)}},remove:function(){if(this._flag&&this._flag.listen){var e=this._flag.listen[2];if(e instanceof Array)for(var t=e.length-1;t>=0;e[t--].removeListener(this));else e.removeListener(this)}}}},{"./":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js":[function(e,t,n){var s=e("../object"),o=e("../util"),i=e("../");t.exports=n=i.Value=s["new"]({mixed:!0,merge:!0});var r=function(e,t,n,s,o,i){var r=s[n]._get(o,t,e);return void 0!==r&&null!==r&&(e=i[n](e||("string"==typeof r?"":0),r)),e};n.prototype._blacklist.push("_lstamp","_clearCache","_lval","__lval","___lval","_base","_caller","_bind","_prop","_instances","_skip","_overwrite"),o.define(n,"clearCache",function(){this.___lval=null,this.__lval=null,this._lval=null},"clearReferencesCache",function(){for(from=this._val;from;)from.clearCache&&from.clearCache(),from&&from._val?from=from._val:from=null},"ignoreCache",{get:function(){for(var e=this;e;){if(e._prop&&e._prop.cache===!1)return!0;e=e._parent}}},"_get",function(e,t,n){if(this._clearCache&&this.clearCache(),this._overwrite)return this._overwrite;if(!this._lval&&0!==this._lval||t){var o,i=this._val,a=this.operators;if(i instanceof s)i=i._get(this._bind||e,t,n);else if("function"==typeof i){var l=this;if(!e)for(;l._parent&&!l._caller;)l=l._parent;i=i.call(e||l._caller||l._base||this,this,n),o=!0}if(a)if(1===this.__t&&a[this._name]){i=0;for(var u=0,c=this.length;c>u;u++)this[u]&&(vj=this[u]._get(e,!1,(n||0)+i),vj||(vj=0),"string"==typeof vj&&0===i&&(i=""),i+=vj,this[u]._lval||(o=!0))}else{var d;for(var p in this)if(a[p])if(a[p].order)if(d){d.pop||(d=[d]);for(var g=a[p].order,h=d.length-1,f=0;f!==!0&&h>=f;f++)if(f===h){if(g<a[d[f]].order){var l=d[f];d[h]=p,d.push(l)}else d.push(p);f=!0}else f===h&&g>a[d[f]].order&&(d.push(p),f=!0)}else d=p;else t||this[p]._lstamp===this._lstamp||1!==this[p].__t||(t=!0),i=r(i,t,p,this,e,a),o||this[p]._lval||(o=!0);if(d){var v;for(p=d.pop?(v=1)&&d[0]:d;p&&this[p];)t||this[p]._lstamp===this._lstamp||1!==this[p].__t||(t=!0),i=r(i,t,p,this,e,a),o||this[p]._lval||(o=!0),p=d[v++]}}return o||t?this._base&&this._base.instances||(this.__lval=i):(this._lval=i,this.__lval=i),i}return this.__lval},"update",function(e,t,n,s,o,i,r){return this._update.call(this,void 0,s||this.stamp(),o,i,!1,!1,t,e,n),this},"_update",function(e,t,o,i,r,a,l,u,c){var d=this,p=d._base;if(e instanceof n&&!d._bind&&e._caller&&(d._bind=e._caller),(!d._lstamp||d._lstamp!==t)&&(d._lval=!1,p&&p.instances||d._skip||void 0===d.__lval||d.___lval!==d.val)){var g=d._prop,h=d._parent,f=g&&g._vset,v=d.operators;if((!o||!i)&&v&&(v[d._name]||h&&1===h.__t&&v[h._name]&&(!o||d._name==h.length-1))){for(var m=this._parent;v[m._name];)m._lval=!1,m=m._parent;m&&m._update(e,t,this,i,r,a,l,u,c)}c?c.call(d,e,t,o,i,r,a,l,u,c):(u&&(p=u),f&&(d._caller=p,f.call(d,t,o,i,e)),p&&f&&p.instances&&!l&&g.updateinstances!==!1&&(p.eachInstance(function(){d._caller=this,f.call(d,t,o,i,e)},g.name,d),d._caller=p),s.prototype._update.call(d,e,t,o||d,i,r,a)),d._lstamp=t}}),o.define(n,"operators",{value:n.operators=e("./operators")})},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./operators":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/operators.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/length.js":[function(e,t,n){function s(e){var t=new i({val:function(){return o(e)}});return e.on(function(e){t._update.apply(t,arguments)}),t}function o(e){return e?e._filter?e.length:4===e.__t?o(e._val):e.__t<3?e.keys.length:"string"==typeof e._val?e._val.length:0:0}var i=e("vigour-js/value"),r=e("vigour-js/util"),a=e("vigour-js/object");n.extend=r.extend(function(e){if(!(e.prototype instanceof a||e===a))throw new Error('cannot extend "$length" on non VObject Class');e.prototype._blacklist.push("_$length"),r.define(e,"$length",{get:function(){return r.include(this._blacklist,"_$length"),this._$length||(this._$length=s(this))}})})},{"vigour-js/object":"/Users/shawn/Work/buggin/node_modules/vigour-js/object/index.js","vigour-js/util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","vigour-js/value":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/on.js":[function(e,t,n){var s=(e("./"),e("../util")),o=e("../base");n.extend=s.extend(function(e){if(!(e instanceof o))throw new Error('cannot extend "on" on non Base Class');e.extend({name:"on",set:function(e){},remove:function(e){this.on.$remove&&this.on.$remove.update()},"new":function(e){this.on.$new&&this.on.$new.update()},parent:function(e){this.on.$parent&&this.on.$parent.update()},render:function(e){this.on.$render&&this.on.$render.update()}})})},{"../base":"/Users/shawn/Work/buggin/node_modules/vigour-js/base/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js","./":"/Users/shawn/Work/buggin/node_modules/vigour-js/value/index.js"}],"/Users/shawn/Work/buggin/node_modules/vigour-js/value/operators.js":[function(e,t,n){e("../util"),e("../");n.add=function(e,t){return e+t},n.sub=function(e,t){return e-t},n.multiply=function(e,t){return e*t},n.divide=function(e,t){return e/t},n.max=function(e,t){return e>t?t:e},n.min=function(e,t){return t>e?t:e},n.transform=function(e,t){return t===!1?e:t},n.abs=function(e,t){return t?Math.abs(e):e},n.floor=function(e,t){return 0|e},n.ceil=function(e,t){return Math.ceil(e)},n.$convertType=function(e,t){return"boolean"===t?e?!0:!1:"number"===t?Number(e):void 0},n["default"]=function(e,t){return!e&&0!==e||e._val===!1||"error"===e||"success"===e?t:e},n["default"].order=1e3},{"../":"/Users/shawn/Work/buggin/node_modules/vigour-js/index.js","../util":"/Users/shawn/Work/buggin/node_modules/vigour-js/util/index.js"}],"/Users/shawn/Work/buggin/platform/all.js":[function(e,t,n){var s,o=e("../app"),i=e("../components/switcher"),r=e("vigour-js/browser/cases"),a=e("../components/cookiebar");if(o.set({switcher:new i({on:{navigation:o.user.navigation,play:o.playing,receiver:o.user.receiver,favourites:o.user.favourites,usage:o.user.usage,content:o.content,highlight:o.user.highlight,search:o.user.search,scroll:o.user.scroll,carousel:o.user.carousel,volume:o.volume,notification:o.notification,watched:o.user.watched.from,state:o.state,popup:o.popup,overlay:o.overlay,loading:o.loading,profilepic:o.user.profilepic,activeClient:o.user.activeClient},display:"none"})}),o.ready.once(!0,function(){o.switcher.display="block",r.desktop&&!localStorage.getItem("cookieApproved")&&o.set({cookiewall:new a})}),r.phone&&!r["native"]){var l=function(){var t=window.innerWidth,n=window.innerHeight;t>n?o.set({message:new(s||(s=e("../components/rotate-message")))}):o.message&&o.message.remove()};o.w.on(l),l()}o.initialised.val=!0},{"../app":"/Users/shawn/Work/buggin/app/index.js","../components/cookiebar":"/Users/shawn/Work/buggin/components/cookiebar/index.js","../components/rotate-message":"/Users/shawn/Work/buggin/components/rotate-message/index.js","../components/switcher":"/Users/shawn/Work/buggin/components/switcher/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/platform/cast.js":[function(e,t,n){var s=e("../app"),o=e("../components/switcher");e("vigour-js/browser/cases");s.state.val={defer:function(e,t){"first"===this._val&&(this._val="second"),e()}},s.set({switcher:new o({on:{navigation:s.user.navigation,play:s.playing,receiver:s.user.receiver,favourites:s.user.favourites,usage:s.user.usage,content:s.content,fullscreen:s.fullscreen,highlight:s.user.highlight,search:s.user.search,scroll:s.user.scroll,carousel:s.user.carousel,volume:s.volume,notification:s.notification,usage:s.user.usage,watched:s.user.watched.from,state:s.state,popup:s.popup,overlay:s.overlay,loading:s.loading,profilepic:s.user.profilepic,activeClient:s.user.activeClient}})}),s.initialised.val=!0},{"../app":"/Users/shawn/Work/buggin/app/index.js","../components/switcher":"/Users/shawn/Work/buggin/components/switcher/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/buggin/platform/tv.js":[function(e,t,n){var s=(e("vigour-js/app/ui/tv"),e("../app")),o=e("../components/switcher");e("vigour-js/browser/cases");s.set({switcher:new o({on:{navigation:s.user.navigation,play:s.playing,receiver:s.user.receiver,favourites:s.user.favourites,usage:s.user.usage,content:s.content,fullscreen:s.fullscreen,highlight:s.user.highlight,search:s.user.search,scroll:s.user.scroll,carousel:s.user.carousel,volume:s.volume,notification:s.notification,usage:s.user.usage,watched:s.user.watched.from,state:s.state,popup:s.popup,overlay:s.overlay,loading:s.loading,profilepic:s.user.profilepic,activeClient:s.user.activeClient}})}),s.initialised.val=!0},{"../app":"/Users/shawn/Work/buggin/app/index.js","../components/switcher":"/Users/shawn/Work/buggin/components/switcher/index.js","vigour-js/app/ui/tv":"/Users/shawn/Work/buggin/node_modules/vigour-js/app/ui/tv/index.js","vigour-js/browser/cases":"/Users/shawn/Work/buggin/node_modules/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/gaston/node_modules/browserify/lib/_empty.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/buggin/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/inherits/inherits_browser.js":[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/os-browserify/browser.js":[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/process/browser.js":[function(e,t,n){function s(){c=!1,a.length?u=a.concat(u):d=-1,u.length&&o()}function o(){if(!c){var e=setTimeout(s);c=!0;for(var t=u.length;t;){for(a=u,u=[];++d<t;)a&&a[d].run();d=-1,t=u.length}a=null,c=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function r(){}var a,l=t.exports={},u=[],c=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new i(e,t)),1!==u.length||c||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=r,l.addListener=r,l.once=r,l.off=r,l.removeListener=r,l.removeAllListeners=r,l.emit=r,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/util/support/isBufferBrowser.js":[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/util/util.js":[function(e,t,n){(function(t,s){function o(e,t){var s={seen:[],stylize:r};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),f(t)?s.showHidden=t:t&&n._extend(s,t),y(s.showHidden)&&(s.showHidden=!1),y(s.depth)&&(s.depth=2),y(s.colors)&&(s.colors=!1),y(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=i),l(s,e,s.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function r(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,s){if(e.customInspect&&t&&W(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(s,e);return w(o)||(o=l(e,o,s)),o}var i=u(e,t);if(i)return i;var r=Object.keys(t),f=a(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(t)),U(t)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return c(t);if(0===r.length){if(W(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(j(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(U(t))return c(t)}var m="",b=!1,_=["{","}"];if(h(t)&&(b=!0,_=["[","]"]),W(t)){var y=t.name?": "+t.name:"";m=" [Function"+y+"]"}if(j(t)&&(m=" "+RegExp.prototype.toString.call(t)),x(t)&&(m=" "+Date.prototype.toUTCString.call(t)),U(t)&&(m=" "+c(t)),0===r.length&&(!b||0==t.length))return _[0]+m+_[1];if(0>s)return j(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var k;return k=b?d(e,t,s,f,r):r.map(function(n){return p(e,t,s,f,n,b)}),e.seen.pop(),g(k,m,_)}function u(e,t){if(y(t))return e.stylize("undefined","undefined");if(w(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,s,o){for(var i=[],r=0,a=t.length;a>r;++r)O(t,String(r))?i.push(p(e,t,n,s,String(r),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,s,o,!0))}),i}function p(e,t,n,s,o,i){var r,a,u;if(u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),O(s,o)||(r="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=v(n)?l(e,u.value,null):l(e,u.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),y(r)){if(i&&o.match(/^\d+$/))return a;r=JSON.stringify(""+o),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=e.stylize(r,"string"))}return r+": "+a}function g(e,t,n){var s=0,o=e.reduce(function(e,t){return s++,t.indexOf("\n")>=0&&s++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function b(e){return"number"==typeof e}function w(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function y(e){return void 0===e}function j(e){return k(e)&&"[object RegExp]"===S(e)}function k(e){return"object"==typeof e&&null!==e}function x(e){return k(e)&&"[object Date]"===S(e)}function U(e){return k(e)&&("[object Error]"===S(e)||e instanceof Error)}function W(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function S(e){return Object.prototype.toString.call(e)}function E(e){return 10>e?"0"+e.toString(10):e.toString(10)}function $(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;n.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,s=arguments,i=s.length,r=String(e).replace(A,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(s[n++]);case"%d":return Number(s[n++]);case"%j":try{return JSON.stringify(s[n++])}catch(t){return"[Circular]"}default:return e}}),a=s[n];i>n;a=s[++n])r+=v(a)||!k(a)?" "+a:" "+o(a);return r},n.deprecate=function(e,o){function i(){if(!r){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),r=!0}return e.apply(this,arguments)}if(y(s.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var r=!1;return i};var T,P={};n.debuglog=function(e){if(y(T)&&(T=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(T)){var s=t.pid;P[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,s,t)}}else P[e]=function(){};return P[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=f,n.isNull=v,n.isNullOrUndefined=m,n.isNumber=b,n.isString=w,n.isSymbol=_,n.isUndefined=y,n.isRegExp=j,n.isObject=k,n.isDate=x,n.isError=U,n.isFunction=W,n.isPrimitive=C,n.isBuffer=e("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",$(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),s=n.length;s--;)e[n[s]]=t[n[s]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/util/support/isBufferBrowser.js",_process:"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/process/browser.js",inherits:"/Users/shawn/Work/gaston/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"package.json":[function(e,t,n){t.exports={name:"mtv-play",version:"1.2.76",description:"mtv's multiscreen adventure",main:"index.js",scripts:{start:"gaston -d",test:"test/test.js",build:"gaston build -s ./index.js -o . -i",release:"packer -r -c package.json,.package.json"},repository:{type:"git",url:"https://github.com/vigour-io/mtv-play",branch:"develop"},keywords:["multiscreen","play","shows","smart","tv","js"],dependencies:{lodash:"3.2.0","monotonic-timestamp":"0.0.9","package-branch-config":"^1.2.2",promise:"6.1.0",through2:"^2.0.0","vigour-js":"git+ssh://git@github.com:vigour-io/vigour-js.git#mtvplay","zepto-browserify":"x"},devDependencies:{"vigour-packer-server":"git+ssh://git@github.com:vigour-io/vigour-packer-server.git#master"},author:"Jim de Beer",license:"other",bugs:{url:"https://github.com/vigour-io/mtv-play/issues"},homepage:"https://github.com/vigour-io/mtv-play",vigour:{ga:"UA-43955457-3",hashUrl:!0,defaultRegion:!1,regionOverride:!1,availableRegions:["DE","NL","CH","PL","RO","BE","NO"],geo:"https://wwwmtvplay-a.akamaihd.net/geo/",development:{button:!0},cloud:"http://mtvtest.dev.vigour.io:80",othercloud:"http://localhost:10001",languages:["en","de","nl","pl","ro","it","fr","no"],mtvmobile:["de","ch","ro"],roles:["free","premium","mtv","trial"],countrycodes:{de:49,ch:41,ro:40,nl:31},dictionary:"http://mtv-staging.vigour.io/translations/lang_$language.json",webtranslateit:{files:{de:374130,en:374126,nl:374128,pl:374129,ro:374131,fr:404562,it:404563},token:"-rN-CdCWmgh4IDxFRT-MEg"},epg:"https://wwwmtvplay-a.akamaihd.net/xhr/index.html",img:"https://imgmtvplay-a.akamaihd.net",imgOrigin:"http://images.mtvnn.com/",api:{type:"staging",url:"http://utt-staging.mtvnn.com/",acceptHeader:"application/json",key:"4e99c9381b74354fbae9f468497912f0"},player:{debug:!1,web:"http://player.mtvnn.com/html5player/development/player.js",settings:{ad_playpostrolls:!0,domain:"mtv",tld:"de",localization:{language:"de",country:"DE"},ads:{autoSID:!1,context:null,defaultAssetID:41349526,defaults:{interval:0},enabled:!0,engine:"Freewheel",fallbackID:41349526,midroll_intervals:{longer_than_15:null,longer_than_20:null,longer_than_30:null},networkID:174975,profileID:"174975:MTVNE_live_HTML5",server:"http://2ab7f.v.fwmrm.net/ad/p/1",viralSID:"mtvplaytv/test"},controls:!1,blankVideo:"http://player.mtvnn.com/codebase/blank.m4v",simulcastApiKey:"c153f28d950ae49a"}},chromecast:{id:"30C914C1",web:"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"},facebook:{id:"720547754665171",web:"https://connect.facebook.net/de_DE/sdk.js"},wrapper:{assets:{"build.html":!0,"build.js":!0,"build.css":!0,"bundle.css":!0,"fonts.css":!0,fonts:"*",img:"*",assets:"*",translations:"*",cast:"*","cast.html":!0,xhr:"*","googleebecff275dd42f4a.html":!0,"google2c4a46fac7686373.html":!0,"sitemap.xml":!0}},packer:{language:"https://wwwmtvplay-a.akamaihd.net/translations/",url:"https://wwwmtvplay-a.akamaihd.net/",domain:"http://mtv-develop.vigour.io",assets:{"build.html":!0,"build.js":!0,"build.css":!0,"bundle.css":!0,"fonts.css":!0,fonts:"*",img:"*",assets:"*",translations:"*",cast:"*","cast.html":!0,xhr:"*","googleebecff275dd42f4a.html":!0,"google2c4a46fac7686373.html":!0,"sitemap.xml":!0},transforms:{"build.js":["inform"],"bundle.css":["rebase"],"build.css":["rebase"]},main:"build.js",web:"build.html",fbDefaults:{title:"MTV Play",description:"Mtv's new app to view shows on all devices",image:"http://img.mtvutt.com/image/180/180?url=http://play.mtvutt.com/apple-touch-icon-180x180.png"}},store:{ios:{monthly:"$region_subscription_monthly",yearly:"$region_subscription_annual",single:"$region_single_purchase"},android:{monthly:"mtvplay_subscription_monthly",yearly:"mtvplay_subscription_annually",single:"mtvplay_single_purchase"},windows:{monthly:"mtvplay_subscription_monthly",yearly:"mtvplay_subscription_annual",single:"mtvplay_single_purchase"}}},gaston:{transforms:{"package-branch-config":{section:"vigour"}},"source-maps":!0,"package":!0,"index-path":"index.html"},sha:"1.2.76"}},{}]},{},["/Users/shawn/Work/buggin/index.js"]);