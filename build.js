require=function e(t,n,i){function o(r,a){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){var n=t[r][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({"/Users/shawn/Work/mtv-play/api/email.js":[function(e,t,n){var i=e("old-vigour-js/value"),o=(e("old-vigour-js/util/config"),e("old-vigour-js/browser/cases")),s=window.location;t.exports=n=new i({send:{apiDefer:function(e,t){if(this.body||this.address||this.subject){var n=this.body&&this.body.val,i=this.subject&&this.subject.val,r=this.address&&this.address.val,a=this;if(o.android&&window.cordova&&window.plugins.socialsharing)window.plugins.socialsharing.shareViaEmail(n,i,r?[r]:[],null,null,null,function(t){e("success"),this.$empty("loading")},function(t){a.type=t,e("error"),this.$empty("loading")});else{var l="mailto:"+(r||"")+"?subject="+(i||"")+"&body="+(n||"");if(o.android)s.replace(l);else{s.href;s.href=l}e("success"),this.$empty("loading")}}else e(!0)}},share:{apiDefer:function(e,t){var n=this._parent;this.val===!0||t[0]===!0?(n.send.once(function(t){e(t)}),n.send.val={address:this.address.val,body:this.body.val,subject:this.subject.val,val:!0}):e(!0)}}})},{"old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/facebook/index.js":[function(e,t,n){var i,o=e("old-vigour-js/value"),s=e("old-vigour-js/util/config");e("old-vigour-js/value/flags/process");t.exports=n=new o({api:{defer:function(e,t){if(t[0]!==!0||i)return!0;if(window.cordova&&!i)i=!0,e();else{if(t[0]!==!0||i)return!0;var n=document.createElement("script"),o=this,r=n.onerror=function(){o.clearCache(),o.val=t[0]="error",e()};n.src=s.facebook.web,n.id="facebook-jssdk",window.fbAsyncInit=function(){try{window.FB.init({appId:s.facebook.id,xfbml:!0,version:"v2.1"}),i=!0,e()}catch(e){o.type=e.message,r()}},document.getElementsByTagName("head")[0].appendChild(n)}}}}),n._name="facebook",e("./login"),e("./share")},{"./login":"/Users/shawn/Work/mtv-play/api/facebook/login.js","./share":"/Users/shawn/Work/mtv-play/api/facebook/share.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","old-vigour-js/value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/api/facebook/login.js":[function(e,t,n){var i=(e("old-vigour-js/value"),e("old-vigour-js/util/config"),e("old-vigour-js/util"),e("./index.js")),o=e("old-vigour-js/browser/ua");e("old-vigour-js/browser/network/url"),e("old-vigour-js/app/");i.val={login:{apiDefer:function(e,t){var n=this;t[0]!==!0?(e("error"),this.type="type"):!window.cordova||"windows"===o.platform&&"phone"===o.device?window.FB.login(function(t){"connected"===t.status?(n.set("token",t.authResponse.accessToken),n.set("id",t.authResponse.userID),e("success")):(n.type=t,e("error"))},{scope:"public_profile,email"}):facebookConnectPlugin.login(["public_profile","email"],function(t){"connected"===t.status?n.token&&n.token.val===t.authResponse.accessToken?e("error"):(n.set("token",t.authResponse.accessToken),n.set("id",t.authResponse.userID),e("success")):(n.type=t,e("error"))},function(t){n.type=t,e("error")})}}}},{"./index.js":"/Users/shawn/Work/mtv-play/api/facebook/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/network/url":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/url.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/facebook/share.js":[function(e,t,n){var i,o=(e("old-vigour-js/value"),e("old-vigour-js/util/config"),e("old-vigour-js/util"),e("./index.js")),s=e("old-vigour-js/browser/cases"),r=(e("old-vigour-js/browser/network/url"),e("old-vigour-js/browser/ua"));e("old-vigour-js/app/");o.val={share:{apiDefer:function(e,t){var n=this,o=this.url&&this.url.val;o?window.cordova?"windows"===r.platform&&"phone"===r.device?window.plugins.socialsharing.share(null,this.title&&this.title.val,null,this.url&&this.url.val,function(t){e("success")},function(o){o&&(i?i.call(n,e,t):(n.type="no cordovaFallback",e("error")))}):window.plugins.socialsharing.shareViaFacebook(null,null,this.url?this.url.val:null,function(t){e("success")},function(o){o&&(i?i.call(n,e,t):(n.type="no cordovaFallback",e("error")))}):FB.ui({method:"share",href:o},function(t){!t||t&&t.error_code?(t&&4201==t.error_code&&(n.type="cancelled"),e("error")):e("success")}):e(!0)}}},window.cordova&&!function(){i=function(e,t){function n(){window.facebookConnectPlugin.showDialog({method:"share",href:o,link:o},function(t){"string"!=typeof t?e("success"):~t.indexOf("User cancelled")&&(r.type="cancelled",e("error"))},function(t){"string"==typeof t&&t.indexOf("User cancelled")&&(r.type="cancelled"),e("error")})}function i(){window.facebookConnectPlugin.login(["public_profile"],n,function(t){r.type="login",e("error")})}var o=this.url&&this.url.val,r=this;s.android?window.facebookConnectPlugin.getLoginStatus(function(e){"connected"===e.status?n():i()},i):n()}}()},{"./index.js":"/Users/shawn/Work/mtv-play/api/facebook/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/network/url":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/url.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/index.js":[function(e,t,n){n.login=e("./login"),n.verify=e("./verify"),n.register=e("./register"),n.facebook=e("./facebook"),n.email=e("./email"),n.network=e("./network"),n.password=e("./password"),n.mobile=e("./mobile"),n.user=e("./user"),n.purchase=e("./purchase"),n.receipt=e("./receipt"),n.url=e("./url"),n.player=e("./player"),n.price=e("./purchase/pricing"),n.operator=e("./operator"),n.info=e("./info")},{"./email":"/Users/shawn/Work/mtv-play/api/email.js","./facebook":"/Users/shawn/Work/mtv-play/api/facebook/index.js","./info":"/Users/shawn/Work/mtv-play/api/info.js","./login":"/Users/shawn/Work/mtv-play/api/login.js","./mobile":"/Users/shawn/Work/mtv-play/api/mobile.js","./network":"/Users/shawn/Work/mtv-play/api/network.js","./operator":"/Users/shawn/Work/mtv-play/api/operator.js","./password":"/Users/shawn/Work/mtv-play/api/password.js","./player":"/Users/shawn/Work/mtv-play/api/player.js","./purchase":"/Users/shawn/Work/mtv-play/api/purchase/index.js","./purchase/pricing":"/Users/shawn/Work/mtv-play/api/purchase/pricing.js","./receipt":"/Users/shawn/Work/mtv-play/api/receipt.js","./register":"/Users/shawn/Work/mtv-play/api/register.js","./url":"/Users/shawn/Work/mtv-play/api/url.js","./user":"/Users/shawn/Work/mtv-play/api/user.js","./verify":"/Users/shawn/Work/mtv-play/api/verify.js"}],"/Users/shawn/Work/mtv-play/api/info.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=i.api.url;t.exports=n=new o({episode_pass_available:0,ajax:{url:function(){var e=this._val instanceof o?this._val:this;if("string"==typeof e.val){var t=s+"api/v1/utt_info/c153f28d950ae49a/"+e.val+".json";return this._cached=e.val,t}},defer:function(e,t,n,i){if(i.country_info)for(var o in i.country_info)this[o]&&(this[o].val=i.country_info[o]);e()}}})},{"old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/login.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=e("./util"),r=i.api.url;e("old-vigour-js/value/flags/process");t.exports=n=new o({ajax:{condition:function(e,t){return this.email&&this.password?(e.url=r+"api/v2/sessions.json",e.data={user:{email:this.email.val,password:this.password.val,app_version:window.package.version}},!0):this.region&&this.facebook&&this.facebook.token?(e.url=r+"api/v2/sessions.json",e.data={auth_method:1,user:{oauth_token:this.facebook.token.val,accept_data_protection_tcs:!0,accept_mtv_country_tcs_for:this.region.val,app_version:window.package.version}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,n,i){!n&&i&&i.success?(this.set("token",i.authentication_token),i.new_record?this.set("new_record",i.new_record):this.new_record&&this.new_record.remove(),e("success")):(this.type=n?n.message:s.findError(i),e("error"),this.$empty(["loading","region"]))}}}),n._name="_mtvlogin"},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","old-vigour-js/value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/api/mobile.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=e("./util"),r=i.api.url;t.exports=n=new o({verify:{ajax:{url:r+"api/v2/mbl_verifications.json",encode:"json",method:"POST",headers:{Accept:"*/*",redirectUrl:i.packer.domain+"/?m=$data"},data:function(e,t){if(this.token&&this.token.val&&this.phonenumber&&this.phonenumber.val&&this.country&&this.country.val)return{auth_token:this.token.val,user:{mobile_number:Number(this.phonenumber.val),mobile_country_prefix:Number(this.country.val),app_version:window.package.version}}},defer:function(e,t,n,i){!n&&i&&i.valid?e("success"):(this.type=n?n.message:s.findError(i),e("error"),this.$empty(["loading","token"]))}}},sms:{ajax:{url:function(e,t){return"string"==typeof t&&r+"api/v2/mblconfirmation/"+t+".json"},method:"GET",defer:function(e,t,n,i){i.success?(this.set("token",i.authentication_token),e("success")):(this.type=n?n.message:s.findError(i),e("error"))}}},available:{ajax:{url:function(){var e=this._val instanceof o?this._val:this;if("string"==typeof e.val){var t=r+"api/v1/utt_info/c153f28d950ae49a/"+e.val;return this._cached=e.val,t}},defer:function(e,t,n,i){var s=this._val instanceof o?this._val:this;s.val!==this._cached?(e(!0),this._update()):i&&i.success?(this.set("transform",i&&i.country_info&&i.country_info.mbl_available&&!0||!1),e()):e(!0)}}}})},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/network.js":[function(e,t,n){var i=e("old-vigour-js/value");t.exports=n=new i,window.cordova&&(document.addEventListener("offline",function(){n.val=!1},!1),document.addEventListener("online",function(){n.val=navigator.connection.type},!1))},{"old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/operator.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=e("old-vigour-js/app"),r=e("./util"),a=i.api.url;n.login=new o({ajax:{condition:function(e,t){if(this.email&&this.password)return console.warn("[operator] put back operator check"),e.url=a+"api/v2/sessions.json",e.data={auth_method:3,operator_name:"boxer",operator_credentials:{email:this.email.val,password:this.password.val},user:{accept_mtv_country_tcs:["de"],language_code:"de"}},!0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,n,i){!n&&i&&i.success?(this.set("token",i.authentication_token),i.new_record?(console.log("new recored"),this.set("new_record",i.new_record)):this.new_record&&this.new_record.remove(),e("success")):(this.type=n?n.message:r.findError(i),e("error"),this.$empty(["loading","region"]),"wrong_credentials"===i.errors[0]&&(s.notification.val="operatorWrongCredentials"),"credentials_used_too_often"===i.errors[0]&&(s.notification.val="operatorCredentialsTooOften"),"email_already_taken"===i.errors[0]&&(s.notification.val="operatorEmailTaken"))}}}),n.upgrade=new o({ajax:{condition:function(e,t){if(this.username&&this.password&&this.operator){var n={};return s.cases.$hasOperatorRegistration.val?(console.log("hiero"),n={email:this.username.val,password:this.password.val}):n={username:this.username.val,password:this.password.val},e.url=a+"api/v2/operators/upgrade.json",e.data={auth_token:s.user.token.val,operator_name:this.operator.val,operator_credentials:n},!0}},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,n,i){!n&&i&&i.success?e("success"):(e("error"),this.$empty("loading"),i.errors&&(console.log("??",i.errors[0]),"wrong_credentials"===i.errors[0]&&(s.notification.val="operatorWrongCredentials"),"credentials_used_too_often"===i.errors[0]&&(s.notification.val="operatorCredentialsTooOften"),"email_already_taken"===i.errors[0]&&(s.notification.val="operatorEmailTaken")))}}})},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/password.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=e("./util"),r=(e("old-vigour-js/browser/cases"),i.api.url);t.exports=n=new o({reset:{ajax:{url:function(e,t){return t="string"==typeof t?t:this.token&&this.token.val,"string"==typeof t&&r+"api/v1/password_resets/"+t+".json"},data:function(e,t){return this.password&&this.password.val&&{user:{password:this.password.val,password_confirmation:this.password.val,app_version:window.package.version}}},encode:"json",method:"PUT",defer:function(e,t,n,i){i.success?(this.set("token",i.authentication_token),e("success")):(this.type=n?n.message:s.findError(i),e("error"))}}},forgot:{ajax:{url:r+"api/v1/password_resets.json",method:"POST",encode:"uri",headers:{appVersion:3,redirectUrl:i.packer.domain+"/?reset=$data"},data:function(e,t){if("string"==typeof t)return{email:t}},defer:function(e,t,n,i){i.success?e("success"):(this.type=n?n.message:s.findError(i),e("error"))}}}}),n._name="password"},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/player.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value");window.jQuery=window.$=e("jquery"),e("mediaplayer/dist/mediaplayer-bundle.min.js"),t.exports=n=new o({api:{defer:function(e,t){return this._parent.debug=i.player.debug,this._parent.settings=i.player.settings,!0}},apiDefer:function(e,t){e("success")}})},{jquery:"/Users/shawn/Work/mtv-play/node_modules/jquery/dist/jquery.js","mediaplayer/dist/mediaplayer-bundle.min.js":"/Users/shawn/Work/mtv-play/node_modules/mediaplayer/dist/mediaplayer-bundle.min.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/purchase/index.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=(e("../util"),i.api.url,e("old-vigour-js/browser/cases")),i=e("old-vigour-js/util/config"),r=e("old-vigour-js/browser/ua"),a=r.platform;"android"===a&&window.AmazonIapV2&&(a="amazon");i.store[a];t.exports=n=new o({apiDefer:function(e){function t(t,i){if(i&&(t=null),t)n.type=t,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(i))}catch(e){n.type=e}n.set("packageName",i.packageName),n.set("subscriptionId",i.productId),n.set("orderId",i.orderId),n.set("purchaseTime",i.purchaseTime),n.set("purchaseState",i.purchaseState),n.set("developerPayload",i.developerPayload),n.set("signature",i.signature),n.set("token",i.purchaseToken),e("success")}n.subscription&&(n.subscription.val=!1),n.product&&(n.product.val=!1)}var n=this;if(window.Store){var i=this.subscription&&this.subscription.val||this.product&&this.product.val;i?s.ios?Store.buy(i,function(t,i){if(i&&(t=null),t)n.type=t.description,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(i))}catch(t){n.type=t,e("error")}n.set("token",window.atob(i.restoreTransaction?i.restoreTransaction.transactionReceipt:i.completeTransaction.transactionReceipt)),e("success")}n.subscription&&(n.subscription.val=!1),n.product&&(n.product.val=!1)}):s.windowsMobile?Store.buy(i,function(t,i){if(i&&(t=null),t)n.type=t,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(i))}catch(t){n.type=t,e("error")}i.purchaseResults&&"Succeeded"===i.purchaseResults.status?(n.set("token",i.purchaseResults.receiptXml),n.set("transactionId",i.purchaseResults.transactionId),e("success")):(n.type=i.purchaseResults,e("error"))}n.subscription&&(n.subscription.val=!1),n.product&&(n.product.val=!1)}):this.subscription&&this.subscription.val?Store.subscribe(i,t):Store.buy(i,t):(e(!0),this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1))}else if(window.AmazonIapV2){var i=this.subscription&&this.subscription.val||this.product&&this.product.val;if(i){var o="",r={sku:i},a=window.AmazonIapV2;a.addListener("purchaseResponse",function(t){var i=t.response;i&&i.requestId===o&&("SUCCESSFUL"===i.status?(window.purchaseValue=n,n.set("amazonUserData",i.amazonUserData),n.set("purchaseReceipt",i.purchaseReceipt),n.set("token",i.purchaseReceipt.receiptId),e("success")):e("error")),t.requestId==o}),a.purchase(function(e){o=e.requestId},function(e){console.error("[pay] error buying!",e)},[r])}else e(!0),this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1)}else this.type="no store available",this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1)}}),n._name="purchase"},{"../util":"/Users/shawn/Work/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/purchase/pricing.js":[function(e,t,n){function i(e){var t=e.split("=")[1];return v[t]||t}function o(e){for(var t=e.length-1;t>=0;t--){var n=h&&h[e[t]];n?f[e[t]]=e[t]=n.replace("$region",(l.region.val||"").toLowerCase()):e.splice(t,1)}}function s(e){for(var t in f)if(f[t]===e)return t}function r(e,t){n._fetching=null;try{}catch(e){}if(e||!t)return console.error(e),n.single._fetching=null,n.monthly._fetching=null,void(n.yearly._fetching=null);var o,r,l,c,u=t.validProducts;if(a.ios)for(c=u.length-1;c>=0;c--)o=u[c],r=o.productIdentifier,l=s(r),n[l]?n[l].val=i(o.priceLocale)+o.price:console.error("[pay]can not find type ",l);else for(c=u.length-1;c>=0;c--){o=u[c];for(l in f)r=f[l],o[r]?n[l].val=o[r].price:console.error("[pay] can not find type ",l)}}var a=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/app"),c=e("old-vigour-js/util/config"),u=e("old-vigour-js/browser/ua"),d=e("old-vigour-js/value"),p=u.platform;"android"===p&&window.AmazonIapV2&&(p="amazon");var h=c.store[p],f={},v={EUR:"€",PLN:"zł",RON:"Lei"};t.exports=n=function(e){if(e?e instanceof Array||(e=[e]):e=["single","yearly","monthly"],o(e),e.length&&(window.cordova&&window.Store||window.AmazonIapV2)&&!n._fetching)if(n._fetching=!0,window.Store)Store.fetch(e,r);else{var t,i=window.AmazonIapV2,s=function(e){var t=e.response&&e.response.productDataMap;if(t){var n=[t];r(null,{validProducts:n})}i.removeListener("getProductDataResponse",s)};i.addListener("getProductDataResponse",s);var a={skus:e};i.getProductData(function(e){var n=e.requestId;t=n},function(e){console.error("[pay] error getting products",e)},[a])}!n._fetching&&window.cordova&&window.Store&&e.length&&(n._fetching=!0)},n.single=new d({val:function(){this._fetching||n(),this._fetching=!0}}),n.monthly=new d({val:function(){this._fetching||n(),this._fetching=!0}}),n.yearly=new d({val:function(){this._fetching||n(),this._fetching=!0}})},{"old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/receipt.js":[function(e,t,n){function i(){var e;s&&(clearTimeout(s),s=null),e=f+.08*h,f=e<=6e4?e:0,s=setTimeout(function(){s=null,o()},e)}function o(){function e(){t&&(n.token.val=t)}var t,i=localStorage.getItem(p);if(!i)return!0;t=n.token&&n.token._val,n.once("success",e).once("error",e);try{n.val=JSON.parse(i)}catch(e){}}var s,r=e("old-vigour-js/util/config"),a=e("old-vigour-js/value"),l=e("./util"),c=r.api.url,u=e("old-vigour-js/browser/cases"),d=e("old-vigour-js/util/encode64.js"),p="receiptData",h=1e4,f=0;t.exports=n=new a({ajax:{url:c+"api/v2/subscriptions",encode:"json",method:"POST",headers:{Accept:"*/*"},data:function(e,t){var n;if(this.token&&this.token.val&&this.receipt&&this.receipt.val){try{localStorage.setItem(p,JSON.stringify(this.raw))}catch(e){this.type=e,update("error")}if(u.ios)n={receipt:this.receipt.val,vendor:"apple"},this.episodeId&&(n.episode=this.episodeId.val);else if(u.android)if(window.AmazonIapV2)window.receiptValue=this,n={auth_token:this.token.val,receipt:{user_id:this.userId.val,receipt_id:this.receiptId.val},vendor:"amazon"};else{if(!this.packageName)return;n={packageName:this.packageName.val,token:this.receipt.val,orderId:this.orderId.val,purchaseTime:this.purchaseTime.val,purchaseState:this.purchaseState.val,developerPayload:this.developerPayload.val,signature:this.signature.val,vendor:"google"},this.episodeId&&(n.episode=this.episodeId.val),this.subscriptionId&&(n.subscriptionId=this.subscriptionId.val)}else u.windowsMobile&&(n={receipt:d.encode(this.receipt.val),vendor:"microsoft"},this.episodeId&&(n.episode=this.episodeId.val));n&&(n.auth_token=this.token.val,i())}return n},defer:function(e,t,n,i){localStorage.removeItem(p),!n&&i&&i.success?(f=0,e("success")):(this.type=n?n.message:l.findError(i),e("error"),this.$empty("loading"))}}}),n._name="receipt",u.native&&(document.addEventListener("resume",o,!1),o())},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/util/encode64.js":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/encode64.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/register.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=e("old-vigour-js/browser/cases"),r=e("./util"),a=i.api.url;t.exports=n=new o({ajax:{url:a+"api/v1/users.json",headers:{appVersion:3,redirectUrl:i.packer.domain+"/?e=$data"},method:"POST",encode:"json",data:function(){if(this.email&&this.password){var e=s.iphone&&"iphone"||s.android&&"android",t=this.region.val;"AT"===t&&(t="DE");var n={user:{email:this.email.val,password:this.password.val,password_confirmation:this.password.val,accept_data_protection_tcs:!0,accept_mtv_country_tcs_for:t,app_version:window.package.version}};return this.gender&&(n.user.gender=this.gender.val),this.newsletter&&(n.user.accept_newsletter=this.newsletter.val),this.age&&this.age.min_age&&(n.user.min_age=this.age.min_age.val,n.user.max_age=this.age.max_age.val),e&&(n.user.device_type=e),n}},defer:function(e,t,n,i){!n&&i&&i.success?e("success"):(this.type=n?n.message:r.findError(i),e("error"),this.$empty("region"))}}}),n._name="register"},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/context.js":[function(e,t,n){var i=e("./map"),o=e("old-vigour-js/browser/ua"),s=e("old-vigour-js/util/config"),r=e("./omniture"),a=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/app/");t.exports=function(e,t,n){var c,u,d,p,h=r.user,f=window.package,v=h&&h.data&&h.data.from.cloud&&h.data.from,m=h?h.role.val:0,g=new Date,y=f?f.repository&&f.repository.branch:"master",_=v&&v._name||"not available";"userData"===_&&(_="unregistered"),"master"===y&&(y="dev"),t?(c=0,u="prop"):(c=1,u="eVar"),m=0===m?"free":1===m?"premium":2===m?"mtv mobile":3===m?"trial":"unregistered","ios"===o.platform&&(p="phone"===o.device?"iPhone":"iPad"),d={branch:y,title:e,version:window.package&&window.package.version,role:m,device:p||o.platform+" "+o.device,region:l.country||s.region.val,lang:s.language.val,weekDay:i.weekDays[g.getDay()],hour:g.getHours()||24,age:v&&v.get&&v.get("birthday",!1).val||"not available",gender:v&&v.get&&v.get("gender",!1).val||"not available",native:window.cordova||"tv"===o.device||"cast"===o.device?"native":"web",userId:_||"unregistered",connected:String(a.$hasReceiver.val)||"none",secondscreen:String(!a.$isActive.val)||"none",devicesPresent:String(a.$hasDevices.val)||"none",loginStyle:a.$isLoggedIn.val&&v?v.facebook_id&&v.facebook_id.val?"facebook":"email":"none",network:l.network.val||"not available",networkOperator:"not available"},n||(d.title="none");for(var w in d)r[u+i.vars[w][c]]=d[w]}},{"./map":"/Users/shawn/Work/mtv-play/api/tracking/map.js","./omniture":"/Users/shawn/Work/mtv-play/api/tracking/omniture.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/dataform.js":[function(e,t,n){var i=e("old-vigour-js/browser/network/ajax");e("old-vigour-js/browser/events/util").postpone;e("./ga");var o;window.device?o=window.device.uuid:ga(function(e){o=e.get("clientId")});var s=function(e){e.an="MTV Play",e.tid="UA-43955457-6",e.cid=o,i({url:"https://www.google-analytics.com/collect?v=1",method:"POST",headers:{accept:"text/plain"},data:e})},r=function(e,t,n){s({t:"event",ec:e,ea:t,el:n})},a=function(e){s({uid:e})},l=function(e){var t={};t.cm1=e,s(t)};n.sendData=s,n.sendEvent=r,n.setUserid=a,n.setDimension=l},{"./ga":"/Users/shawn/Work/mtv-play/api/tracking/ga.js","old-vigour-js/browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js","old-vigour-js/browser/network/ajax":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/ajax.js"}],"/Users/shawn/Work/mtv-play/api/tracking/dfp.js":[function(e,t,n){function i(e){if(a=!0,u&&u.apiReady)if(l.phone)u.cmd.push(function(){u.defineSlot("/7869/intl_mtvplay.tv/discover",[[1,2]],"interstitial").setTargeting("pos",["atf"]).setTargeting("slot",["3"]).addService(u.pubads()),u.pubads().enableSingleRequest(),u.pubads().collapseEmptyDivs(!0),u.pubads().setCentering(!0),u.enableServices(),u.display("interstitial")});else{var t=s(e).section;u.cmd.push(function(){u.defineSlot("/7869/intl_mtvplay.tv/"+t,[[728,90],[970,90],[970,250]],"leaderboard").setTargeting("pos",["atf"]).setTargeting("slot",["1"]).addService(u.pubads()),u.pubads().enableSingleRequest(),u.pubads().collapseEmptyDivs(!0),u.pubads().setCentering(!0),u.enableServices(),u.display("leaderboard")})}}function o(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}function s(e){var t,n,i,s,r,a;return e.title?(t=e.name.split(" > "),"tv"===t[0]&&(t[0]="channels"),n=t[3],i=o(t[1]),s=t[5],r=t[0],a="video"):r=e.name,{season:n,episode:s,subject:i,section:r,content:a}}function r(e){var t=s(e);u.pubads().setTargeting("show_season",[t.season||"none"]).setTargeting("subject_schema",["none"]).setTargeting("content_type",[t.content||"none"]).setTargeting("subject",[t.subject||"none"]).setTargeting("show_episode",[t.episode||"none"]).setTargeting("section",[t.section])}var a,l=e("old-vigour-js/browser/cases"),c=l.$isUpgraded.val,u=window.googletag||{};u.cmd=u.cmd||[],function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}(),l.$isUpgraded.on(function(e){u&&e===!0&&u.cmd.push(function(){u.destroySlots().clear()})}),l.$hasMobile.on(function(e){u&&e===!0&&u.cmd.push(function(){u.destroySlots().clear()})}),t.exports=function(e){if((!c||!l.$hasMobile.val)&&u&&u.apiReady&&(a?(u.pubads().refresh(),u.pubads().updateCorrelator()):i(e),r(e),e.title&&!l.tablet.val)){var t=document.getElementById("div-gpt-ad-1445622141110-2");t.childNodes[1]||(section=s(e).section,u.cmd.push(function(){u.defineSlot("/7869/intl_mtvplay.tv/"+section,[[300,250],[300,600]],"div-gpt-ad-1445622141110-2").setTargeting("pos",["atf"]).setTargeting("slot",["2"]).addService(u.pubads()),u.display("div-gpt-ad-1445622141110-2")}))}}},{"old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/ga.js":[function(e,t,n){var i=e("old-vigour-js/browser/cases");!function(e,t,n,i,o,s,r){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,s=t.createElement(n),r=t.getElementsByTagName(n)[0],s.async=1,s.src=i,r.parentNode.insertBefore(s,r)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),i.native?ga("set",{checkProtocolTask:null,storage:"none"
}):ga("create","UA-43955457-6","auto"),t.exports=window.ga},{"old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/index.js":[function(e,t,n){function i(e){var t=f.token.val,n=c.api.url+"api/v1/users/"+t+"/activities",i=v.$isOnChannel.val,o={activity:{action:"watch",resource_type:i?"simulcast":"episode",resource_id:e,repository:"sensei",environment:"production"}};g("event","video","watch"),t&&h({url:n,method:"POST",headers:{accept:"application/json"},encode:"json",data:o,error:function(e){console.error("POST",n,o,e)}})}function o(){var e=f.token.val;c.api.url+"/api/v1/users/"+e+"/activities";g("event","sharing","facebook")}var s,r,a=e("./omniture"),l=e("old-vigour-js/browser/events/util").postpone,c=(e("old-vigour-js/browser/ua"),e("old-vigour-js/util/config")),u=(e("old-vigour-js/browser/network/url"),e("./map")),d=e("./context"),p=e("./pagename"),h=e("old-vigour-js/browser/network/ajax"),f=e("../../app/user"),v=e("old-vigour-js/browser/cases"),m=e("./dataform").sendData,g=e("./dataform").sendEvent,y=e("./infoOnline"),_=e("./nuggad"),w=e("./dfp");y.init(),n.omniture=a,a.account=c.omniture;var b=l(function(){a.tl.apply(this,arguments),delete a.events},1e3);n.setSearchProp=l(function(e){e&&(a["prop"+u.vars.search[0]]=e)},1e3),n.video=function(e,t,n){if(n||(n=t),t.from&&(n=t.from._cachedPath),"string"==typeof n){var o,s="videoPlay"===e||"videoPause"===e?e:"",l={videostart:[0,.1],video25:[.25,.26],video50:[.5,.51],video75:[.75,.76],videofinished:[.9,.95]};if(e=-1*e,!s)for(var c in l)if(e>l[c][0]&&e<l[c][1]){if(s=c,o=s+n,r&&s+n===r)return;r=s+n;break}if(s&&t.from._parent._parent){var h=p(t.from._parent._parent._parent._cachedPath),f="video > "+h.name;d(h.title,!1,!0),f.split(">").length<7&&(f+=" > seasons 1 > episodes 1"),f+=(" : "+t.get("title","").val).toLowerCase(),v.$isOnChannel.val&&(f=t.get("title","").val),a["eVar"+u.vars.videoName[1]]=f,a.events="event"+u.events[s],"videostart"===s&&(i(t.id.val),y.sendData(h,!0)),a.tl(!0,"o",s)}}},n.event=l(function(e,t,n,i){"swipeUp"===e&&g("event","multiscreen","swipe-up"),a.events="event"+u.events[e],d(),"upgradeMtvFailed"===e&&(a["eVar"+u.events.mtvMobileFailed]=t),"search"===e?b(!0,"o",e):(a.tl(!0,"o",e),delete a.events),"sharingFacebookSucces"===e&&o()},1e3),n.popup=l(function(e){if(e){var t="";d(e,!0,!1),a.pageName=(t+"other > "+e).toLowerCase(),a.t()}},1e3),n.pageView=l(function(e){if(e.from&&(e=e.from._cachedPath),"string"==typeof e){var t=p(e),n=t.title;a.pageName=t.name.toLowerCase(),d(n,!0,~e.lastIndexOf(".")),a.t(),y.sendData(t),window&&window.nuggad&&_.sendData(),window&&w(t);var i={t:"appview",aip:1,cd:t.name};s&&(i.uid=s),m(i)}},1e3),v.$isLoggedIn.on(function(){s=!!v.$isLoggedIn.val&&f.id.val})},{"../../app/user":"/Users/shawn/Work/mtv-play/app/user.js","./context":"/Users/shawn/Work/mtv-play/api/tracking/context.js","./dataform":"/Users/shawn/Work/mtv-play/api/tracking/dataform.js","./dfp":"/Users/shawn/Work/mtv-play/api/tracking/dfp.js","./infoOnline":"/Users/shawn/Work/mtv-play/api/tracking/infoOnline.js","./map":"/Users/shawn/Work/mtv-play/api/tracking/map.js","./nuggad":"/Users/shawn/Work/mtv-play/api/tracking/nuggad.js","./omniture":"/Users/shawn/Work/mtv-play/api/tracking/omniture.js","./pagename":"/Users/shawn/Work/mtv-play/api/tracking/pagename.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js","old-vigour-js/browser/network/ajax":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/ajax.js","old-vigour-js/browser/network/url":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/url.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/infoOnline.js":[function(e,t,n){var i=e("old-vigour-js/browser/cases"),o=e("old-vigour-js/app");n.init=function(){var e=document.createElement("script");e.onerror=function(e){console.error(e)},e.src="https://script.ioam.de/iam.js",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)},n.sendData=function(e,t){var n=o.region.val;if(!i.native&&"DE"===n){var s={st:"mtv",cp:"mtvplay/",sv:"",co:"kommentar"};if(i.phone&&(s.st="mobmtv"),t)s.cp="mtvplay/videostarted",s.sv="in";else if("discover"===e.name&&(s.cp+="homepage",s.sv="ke"),e.title||"shows"===e.name||"channels"===e.name)if(e.title){var r=e.name.split(">")[0];"tv "===r&&(s.cp="mtvplay/channels"),"shows "===r&&(s.cp="mtvplay/shows")}else s.cp="mtvplay/"+e.name;window.iom.h(s,1)}}},{"old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/lib/AppMeasurement.js":[function(e,t,n){function i(){var e=this;e.version="1.4.1";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.sb;n||(n=null);var i,o,s=t;try{for(i=s.parent,o=s.location;i&&i.location&&o&&""+i.location!=""+o&&s.location&&""+i.location!=""+s.location&&i.location.host==o.host;)s=i,i=s.parent}catch(e){}e.eb=function(e){try{console.log(e)}catch(e){}},e.ta=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||e.indexOf(t)<0?e:e.split(t).join(n)},e.escape=function(t){var n,i;if(!t)return t;for(t=encodeURIComponent(t),n=0;n<7;n++)i="+~!*()'".substring(n,n+1),t.indexOf(i)>=0&&(t=e.replace(t,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=t.indexOf("+")>=0?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(e){}return unescape(t)},e.Va=function(){var n,i=t.location.hostname,o=e.fpCookieDomainPeriods;if(o||(o=e.cookieDomainPeriods),i&&!e.cookieDomain&&!/^[0-9.]+$/.test(i)&&(o=o?parseInt(o):2,o=o>2?o:2,n=i.lastIndexOf("."),n>=0)){for(;n>=0&&o>1;)n=i.lastIndexOf(".",n-1),o--;e.cookieDomain=n>0?i.substring(n):i}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,i=n.indexOf(" "+t+"="),o=i<0?i:n.indexOf(";",i);return t=i<0?"":e.unescape(n.substring(i+2+t.length,o<0?n.length:o)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,i){var o,s=e.Va(),r=e.cookieLifetime;return n=""+n,r=r?(""+r).toUpperCase():"",i&&"SESSION"!=r&&"NONE"!=r&&((o=""!=n?parseInt(r?r:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*o)):1==i&&(i=new Date,o=i.getYear(),i.setYear(o+5+(o<1900?1900:0)))),t&&"NONE"!=r?(e.d.cookie=t+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(i&&"SESSION"!=r?" expires="+i.toGMTString()+";":"")+(s?" domain="+s+";":""),e.cookieRead(t)==n):0},e.C=[],e.B=function(t,n,i){if(e.ma)return 0;e.maxDelay||(e.maxDelay=250);var o=0,s=(new Date).getTime()+e.maxDelay,r=e.d.qb,a=["webkitvisibilitychange","visibilitychange"];if(r||(r=e.d.rb),r&&"prerender"==r){if(!e.X)for(e.X=1,i=0;i<a.length;i++)e.d.addEventListener(a[i],function(){var t=e.d.qb;t||(t=e.d.rb),"visible"==t&&(e.X=0,e.delayReady())});o=1,s=0}else i||e.q("_d")&&(o=1);return o&&(e.C.push({m:t,a:n,t:s}),e.X||setTimeout(e.delayReady,e.maxDelay)),o},e.delayReady=function(){var t,n=(new Date).getTime(),i=0;for(e.q("_d")&&(i=1);e.C.length>0;){if(t=e.C.shift(),i&&!t.t&&t.t>n){e.C.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ma=1,e[t.m].apply(e,t.a),e.ma=0}},e.setAccount=e.sa=function(t){var n,i;if(!e.B("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),i=0;i<n.length;i++)(0==i||n[i-1]!=n[i])&&e.allAccounts.push(n[i]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var i,o,s,r,a="";for(s=o="",e.lightProfileID?(i=e.H,(a=e.lightTrackVars)&&(a=","+a+","+e.ba.join(",")+",")):(i=e.c,(e.pe||e.linkType)&&(a=e.linkTrackVars,o=e.linkTrackEvents,e.pe&&(s=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[s])&&(a=e[s].pb,o=e[s].ob)),a&&(a=","+a+","+e.z.join(",")+","),o&&a&&(a+=",events,")),n&&(n=","+n+","),o=0;o<i.length;o++)s=i[o],(r=e[s])&&(!a||a.indexOf(","+s+",")>=0)&&(!n||n.indexOf(","+s+",")>=0)&&t(s,r)},e.J=function(t,n,i,o,s){var r,a,l,c,u="",d=0;if("contextData"==t&&(t="c"),n){for(r in n)if(!Object.prototype[r]&&(!s||r.substring(0,s.length)==s)&&n[r]&&(!i||i.indexOf(","+(o?o+".":"")+r+",")>=0)){if(l=!1,d)for(a=0;a<d.length;a++)r.substring(0,d[a].length)==d[a]&&(l=!0);if(!l&&(""==u&&(u+="&"+t+"."),a=n[r],s&&(r=r.substring(s.length)),r.length>0))if(l=r.indexOf("."),l>0)a=r.substring(0,l),l=(s?s:"")+a+".",d||(d=[]),d.push(l),u+=e.J(a,n,i,o,l);else if("boolean"==typeof a&&(a=a?"true":"false"),a){if("retrieveLightData"==o&&s.indexOf(".contextData.")<0)switch(l=r.substring(0,4),c=r.substring(4),r){case"transactionID":r="xact";break;case"channel":r="ch";break;case"campaign":r="v0";break;default:e.ta(c)&&("prop"==l?r="c"+c:"eVar"==l?r="v"+c:"list"==l?r="l"+c:"hier"==l&&(r="h"+c,a=a.substring(0,255)))}u+="&"+e.escape(r)+"="+e.escape(a)}}""!=u&&(u+="&."+t)}return u},e.Xa=function(){var t,n,i,o,s,r,a,l,c="",u="",d="",p=n="";for(e.lightProfileID?(t=e.H,(u=e.lightTrackVars)&&(u=","+u+","+e.ba.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(u=e.linkTrackVars,d=e.linkTrackEvents,e.pe&&(n=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[n])&&(u=e[n].pb,d=e[n].ob)),u&&(u=","+u+","+e.z.join(",")+","),d&&(d=","+d+",",u&&(u+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.AudienceManagement&&e.AudienceManagement.isReady()&&(c+=e.J("d",e.AudienceManagement.getEventCallConfigParams())),n=0;n<t.length;n++){if(o=t[n],s=e[o],i=o.substring(0,4),r=o.substring(4),!s&&"events"==o&&p&&(s=p,p=""),s&&(!u||u.indexOf(","+o+",")>=0)){switch(o){case"supplementalDataID":o="sdid";break;case"timestamp":o="ts";break;case"dynamicVariablePrefix":o="D";break;case"visitorID":o="vid";break;case"marketingCloudVisitorID":o="mid";break;case"analyticsVisitorID":o="aid";break;case"audienceManagerLocationHint":o="aamlh";break;case"audienceManagerBlob":o="aamb";break;case"authState":o="as";break;case"pageURL":o="g",s.length>255&&(e.pageURLRest=s.substring(255),s=s.substring(0,255));break;case"pageURLRest":o="-g";break;case"referrer":o="r";break;case"vmk":case"visitorMigrationKey":o="vmt";break;case"visitorMigrationServer":o="vmf",e.ssl&&e.visitorMigrationServerSecure&&(s="");break;case"visitorMigrationServerSecure":o="vmf",!e.ssl&&e.visitorMigrationServer&&(s="");break;case"charSet":o="ce";break;case"visitorNamespace":o="ns";break;case"cookieDomainPeriods":o="cdp";break;case"cookieLifetime":o="cl";break;case"variableProvider":o="vvp";break;case"currencyCode":o="cc";break;case"channel":o="ch";break;case"transactionID":o="xact";break;case"campaign":o="v0";break;case"latitude":o="lat";break;case"longitude":o="lon";break;case"resolution":o="s";break;case"colorDepth":o="c";break;case"javascriptVersion":o="j";break;case"javaEnabled":o="v";break;case"cookiesEnabled":o="k";break;case"browserWidth":o="bw";break;case"browserHeight":o="bh";break;case"connectionType":o="ct";break;case"homepage":o="hp";break;case"events":if(p&&(s+=(""!=s?",":"")+p),d)for(r=s.split(","),s="",i=0;i<r.length;i++)a=r[i],l=a.indexOf("="),l>=0&&(a=a.substring(0,l)),l=a.indexOf(":"),l>=0&&(a=a.substring(0,l)),d.indexOf(","+a+",")>=0&&(s+=(s?",":"")+r[i]);break;case"events2":s="";break;case"contextData":c+=e.J("c",e[o],u,o),s="";break;case"lightProfileID":o="mtp";break;case"lightStoreForSeconds":o="mtss",e.lightProfileID||(s="");break;case"lightIncrementBy":o="mti",e.lightProfileID||(s="");break;case"retrieveLightProfiles":o="mtsr";break;case"deleteLightProfiles":o="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(c+=e.J("mts",e[o],u,o)),s="";break;default:e.ta(r)&&("prop"==i?o="c"+r:"eVar"==i?o="v"+r:"list"==i?o="l"+r:"hier"==i&&(o="h"+r,s=s.substring(0,255)))}s&&(c+="&"+o+"="+("pev"!=o.substring(0,3)?e.escape(s):s))}"pev3"==o&&e.g&&(c+=e.g)}return c},e.u=function(e){var t=e.tagName;return""+e.wb!="undefined"||""+e.ib!="undefined"&&"HTML"!=(""+e.ib).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.oa=function(e){var t,n,i,o=e.href?e.href:"";return t=o.indexOf(":"),n=o.indexOf("?"),i=o.indexOf("/"),o&&(t<0||n>=0&&t>n||i>=0&&t>i)&&(n=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),o=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,t<0?0:t)+"/":"")+o),o},e.D=function(t){var n,i,o=e.u(t),s="",r=0;return o&&(n=t.protocol,i=t.onclick,!t.href||"A"!=o&&"AREA"!=o||i&&n&&!(n.toLowerCase().indexOf("javascript")<0)?i?(s=e.replace(e.replace(e.replace(e.replace(""+i,"\r",""),"\n",""),"\t","")," ",""),r=2):"INPUT"==o||"SUBMIT"==o?(t.value?s=t.value:t.innerText?s=t.innerText:t.textContent&&(s=t.textContent),r=3):t.src&&"IMAGE"==o&&(s=t.src):s=e.oa(t),s)?{id:s.substring(0,100),type:r}:0},e.tb=function(t){for(var n=e.u(t),i=e.D(t);t&&!i&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.u(t),i=e.D(t));return i&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",n.indexOf(".tl(")>=0||n.indexOf(".trackLink(")>=0)&&(t=0),t},e.hb=function(){var n,i,o,s,r=e.linkObject,a=e.linkType,l=e.linkURL;if(e.ca=1,r||(e.ca=0,r=e.clickObject),r){for(n=e.u(r),i=e.D(r);r&&!i&&"BODY"!=n;)(r=r.parentElement?r.parentElement:r.parentNode)&&(n=e.u(r),i=e.D(r));if(i&&"BODY"!=n||(r=0),r){var c=r.onclick?""+r.onclick:"";(c.indexOf(".tl(")>=0||c.indexOf(".trackLink(")>=0)&&(r=0)}}else e.ca=1;if(!l&&r&&(l=e.oa(r)),l&&!e.linkLeaveQueryString&&(o=l.indexOf("?"),o>=0&&(l=l.substring(0,o))),!a&&l){var u,d=0,p=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(c=l.toLowerCase(),o=c.indexOf("?"),s=c.indexOf("#"),o>=0?s>=0&&s<o&&(o=s):o=s,o>=0&&(c=c.substring(0,o)),o=e.linkDownloadFileTypes.toLowerCase().split(","),s=0;s<o.length;s++)(u=o[s])&&c.substring(c.length-(u.length+1))=="."+u&&(a="d");if(e.trackExternalLinks&&!a&&(c=l.toLowerCase(),e.ra(c))&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),o=0,e.linkExternalFilters?(o=e.linkExternalFilters.toLowerCase().split(","),d=1):e.linkInternalFilters&&(o=e.linkInternalFilters.toLowerCase().split(",")),o)){for(s=0;s<o.length;s++)u=o[s],c.indexOf(u)>=0&&(p=1);p?d&&(a="e"):d||(a="e")}}e.linkObject=r,e.linkURL=l,e.linkType=a,(e.trackClickMap||e.trackInlineStats)&&(e.g="",r&&(a=e.pageName,l=1,r=r.sourceIndex,a||(a=e.pageURL,l=0),t.s_objectID&&(i.id=t.s_objectID,r=i.type=1),a&&i&&i.id&&n&&(e.g="&pid="+e.escape(a.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+n+(r?"&oi="+r:""))))},e.Ya=function(){var t=e.ca,n=e.linkType,i=e.linkURL,o=e.linkName;if(n&&(i||o)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=i?e.escape(i):"",e.pev2=o?e.escape(o):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){n={},i=0;var s,r,a,l=e.cookieRead("s_sq"),c=l?l.split("&"):0;if(l=0,c)for(s=0;s<c.length;s++)r=c[s].split("="),o=e.unescape(r[0]).split(","),r=e.unescape(r[1]),n[r]=o;if(o=e.account.split(","),t||e.g){t&&!e.g&&(l=1);for(r in n)if(!Object.prototype[r])for(s=0;s<o.length;s++)for(l&&(a=n[r].join(","),a==e.account&&(e.g+=("&"!=r.charAt(0)?"&":"")+r,n[r]=[],i=1)),c=0;c<n[r].length;c++)a=n[r][c],a==o[s]&&(l&&(e.g+="&u="+e.escape(a)+("&"!=r.charAt(0)?"&":"")+r+"&u=0"),n[r].splice(c,1),i=1);if(t||(i=1),i){l="",s=2,!t&&e.g&&(l=e.escape(o.join(","))+"="+e.escape(e.g),s=1);for(r in n)!Object.prototype[r]&&s>0&&n[r].length>0&&(l+=(l?"&":"")+e.escape(n[r].join(","))+"="+e.escape(r),s--);e.cookieWrite("s_sq",l)}}}return t},e.Za=function(){if(!e.nb){var t,n,i=new Date,o=s.location,r=n=t="",a="",l="",c="1.2",u=e.cookieWrite("s_cc","true",0)?"Y":"N",d="",p="";if(i.setUTCDate&&(c="1.3",(0).toPrecision&&(c="1.5",i=[],i.forEach))){c="1.6",n=0,t={};try{n=new Iterator(t),n.next&&(c="1.7",i.reduce&&(c="1.8",c.trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(e){}}t=screen.width+"x"+screen.height,r=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,a=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),d=e.b.ub(o)?"Y":"N"}catch(e){}try{e.b.addBehavior("#default#clientCaps"),p=e.b.connectionType}catch(e){}e.resolution=t,e.colorDepth=n,e.javascriptVersion=c,e.javaEnabled=r,e.cookiesEnabled=u,e.browserWidth=a,e.browserHeight=l,e.connectionType=p,e.homepage=d,e.nb=1}},e.I={},e.loadModule=function(n,i){var o=e.I[n];if(!o){o=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.I[n]=e[n]=o,o.Fa=function(){return o.Ja},o.Ka=function(t){(o.Ja=t)&&(e[n+"_onLoad"]=t,e.B(n+"_onLoad",[e,o],1)||t(e,o))};try{Object.defineProperty?Object.defineProperty(o,"onLoad",{get:o.Fa,set:o.Ka}):o._olc=1}catch(e){o._olc=1}}i&&(e[n+"_onLoad"]=i,e.B(n+"_onLoad",[e,o],1)||i(e,o))},e.q=function(t){var n,i;for(n in e.I)if(!Object.prototype[n]&&(i=e.I[n])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(e,i)),i[t]&&i[t]()))return 1;return 0},e.bb=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,i=e.visitorSamplingGroup;i="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(i?"_"+i:"");var o=e.cookieRead(i);if(n){if(o&&(o=parseInt(o)),!o){if(!e.cookieWrite(i,t))return 0;o=t}if(o%1e4>v)return 0}return 1},e.K=function(t,n){var i,o,s,r,a,l;for(i=0;i<2;i++)for(o=i>0?e.ia:e.c,s=0;s<o.length;s++)if(r=o[s],(a=t[r])||t["!"+r]){if(!n&&("contextData"==r||"retrieveLightData"==r)&&e[r])for(l in e[r])a[l]||(a[l]=e[r][l]);e[r]=a}},e.Aa=function(t,n){var i,o,s,r;for(i=0;i<2;i++)for(o=i>0?e.ia:e.c,s=0;s<o.length;s++)r=o[s],t[r]=e[r],!n&&!t[r]&&(t["!"+r]=1)},e.Ua=function(e){var t,n,i,o,s,r,a=0,l="",c="";if(e&&e.length>255&&(t=""+e,n=t.indexOf("?"),n>0&&(r=t.substring(n+1),t=t.substring(0,n),o=t.toLowerCase(),i=0,"http://"==o.substring(0,7)?i+=7:"https://"==o.substring(0,8)&&(i+=8),n=o.indexOf("/",i),n>0&&(o=o.substring(i,n),s=t.substring(n),t=t.substring(0,n),o.indexOf("google")>=0?a=",q,ie,start,search_key,word,kw,cd,":o.indexOf("yahoo.co")>=0&&(a=",p,ei,"),a&&r)))){if((e=r.split("&"))&&e.length>1){for(i=0;i<e.length;i++)o=e[i],n=o.indexOf("="),n>0&&a.indexOf(","+o.substring(0,n)+",")>=0?l+=(l?"&":"")+o:c+=(c?"&":"")+o;l&&c?r=l+"&"+c:c=""}n=253-(r.length-c.length)-t.length,e=t+(n>0?s.substring(0,n):"")+"?"+r}return e},e.U=!1,e.O=!1,e.Ia=function(t){e.marketingCloudVisitorID=t,e.O=!0,e.k()},e.R=!1,e.L=!1,e.Ca=function(t){e.analyticsVisitorID=t,e.L=!0,e.k()},e.T=!1,e.N=!1,e.Ea=function(t){e.audienceManagerLocationHint=t,e.N=!0,e.k()},e.S=!1,e.M=!1,e.Da=function(t){e.audienceManagerBlob=t,e.M=!0,e.k()},e.isReadyToTrack=function(){var t=!0,n=e.visitor;return n&&n.isAllowed()&&(!e.U&&!e.marketingCloudVisitorID&&n.getMarketingCloudVisitorID&&(e.U=!0,e.marketingCloudVisitorID=n.getMarketingCloudVisitorID([e,e.Ia]),e.marketingCloudVisitorID)&&(e.O=!0),!e.R&&!e.analyticsVisitorID&&n.getAnalyticsVisitorID&&(e.R=!0,e.analyticsVisitorID=n.getAnalyticsVisitorID([e,e.Ca]),e.analyticsVisitorID)&&(e.L=!0),!e.T&&!e.audienceManagerLocationHint&&n.getAudienceManagerLocationHint&&(e.T=!0,e.audienceManagerLocationHint=n.getAudienceManagerLocationHint([e,e.Ea]),e.audienceManagerLocationHint)&&(e.N=!0),!e.S&&!e.audienceManagerBlob&&n.getAudienceManagerBlob&&(e.S=!0,e.audienceManagerBlob=n.getAudienceManagerBlob([e,e.Da]),e.audienceManagerBlob)&&(e.M=!0),(e.U&&!e.O&&!e.marketingCloudVisitorID||e.R&&!e.L&&!e.analyticsVisitorID||e.T&&!e.N&&!e.audienceManagerLocationHint||e.S&&!e.M&&!e.audienceManagerBlob)&&(t=!1)),t},e.j=n,e.l=0,e.callbackWhenReadyToTrack=function(t,i,o){var s;s={},s.Oa=t,s.Na=i,s.La=o,e.j==n&&(e.j=[]),e.j.push(s),0==e.l&&(e.l=setInterval(e.k,100))},e.k=function(){var t;if(e.isReadyToTrack()&&(e.l&&(clearInterval(e.l),e.l=0),e.j!=n))for(;e.j.length>0;)t=e.j.shift(),t.Na.apply(t.Oa,t.La)},e.Ga=function(t){var i,o,s=n,r=n;if(!e.isReadyToTrack()){if(i=[],t!=n)for(o in s={},t)s[o]=t[o];return r={},e.Aa(r,!0),i.push(s),i.push(r),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.Wa=function(){var t,n=e.cookieRead("s_fid"),i="",o="";t=8;var s=4;if(!n||n.indexOf("-")<0){for(n=0;n<16;n++)t=Math.floor(Math.random()*t),i+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*s),o+="0123456789ABCDEF".substring(t,t+1),t=s=16;n=i+"-"+o}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,i){var o,r=new Date,a="s"+Math.floor(r.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=r.getYear();l="t="+e.escape(r.getDate()+"/"+r.getMonth()+"/"+(l<1900?l+1900:l)+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+" "+r.getDay()+" "+r.getTimezoneOffset()),e.visitor&&(e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData))),e.q("_s"),e.B("track",arguments)||(e.Ga(n)||(i&&e.K(i),n&&(o={},e.Aa(o,0),e.K(n)),e.bb()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.Wa()),e.hb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(r.getTime()/1e3)),r=t.location,e.pageURL||(e.pageURL=r.href?r.href:r),e.referrer||e.Ba||(e.referrer=s.document.referrer,e.Ba=1),e.referrer=e.Ua(e.referrer),e.q("_g")),e.Ya()&&!e.abort&&(e.Za(),l+=e.Xa(),e.gb(a,l),e.q("_t"),e.referrer=""))),n&&e.K(o,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.vb=e.pe=e.pev1=e.pev2=e.pev3=e.g=0)},e.tl=e.trackLink=function(t,n,i,o,s){return e.linkObject=t,e.linkType=n,e.linkName=i,s&&(e.i=t,e.p=s),e.track(o)},e.trackLight=function(t,n,i,o){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=i,e.track(o)},e.clearVars=function(){var t,n;for(t=0;t<e.c.length;t++)n=e.c[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.tagContainerMarker="",e.gb=function(t,n){var i,o=e.trackingServer;i="";var s=e.dc,r="sc.",a=e.visitorNamespace;o?e.trackingServerSecure&&e.ssl&&(o=e.trackingServerSecure):(a||(a=e.account,o=a.indexOf(","),o>=0&&(a=a.substring(0,o)),a=a.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),s=s?(""+s).toLowerCase():"d1","2o7.net"==i&&("d1"==s?s="112":"d2"==s&&(s="122"),r=""),o=a+"."+s+"."+r+i),i=e.ssl?"https://":"http://",s=e.AudienceManagement&&e.AudienceManagement.isReady(),i+=o+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(s?"10":"1")+"/JS-"+e.version+(e.mb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(s?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+n+"&AQE=1",e.Sa(i),e.Y()},e.Sa=function(t){e.e||e.$a(),e.e.push(t),e.aa=e.r(),e.za()},e.$a=function(){e.e=e.cb(),e.e||(e.e=[])},e.cb=function(){var n,i;if(e.fa()){try{(i=t.localStorage.getItem(e.da()))&&(n=t.JSON.parse(i))}catch(e){}return n}},e.fa=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.pa=function(){var t=0;return e.e&&(t=e.e.length),e.v&&t++,t},e.Y=function(){if(!e.v)if(e.qa=n,e.ea)e.aa>e.G&&e.xa(e.e),e.ha(500);else{var t=e.Ma();t>0?e.ha(t):(t=e.na())&&(e.v=1,e.fb(t),e.jb(t))}},e.ha=function(t){e.qa||(t||(t=0),e.qa=setTimeout(e.Y,t))},e.Ma=function(){var t;return!e.trackOffline||e.offlineThrottleDelay<=0?0:(t=e.r()-e.wa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.na=function(){if(e.e.length>0)return e.e.shift()},e.fb=function(t){if(e.debugTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var i;for(i=0;i<t.length;i++)n+="\n\t"+e.unescape(t[i]);e.eb(n)}},e.Ha=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Q=!1;var r;try{r=JSON.parse('{"x":"y"}')}catch(e){r=null}r&&"y"==r.x?(e.Q=!0,e.P=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.P=function(e){return t.$.parseJSON(e)},e.Q=!0):e.P=function(){return null},e.jb=function(n){var i,o,s;if(e.Ha()&&n.length>2047&&("undefined"!=typeof XMLHttpRequest&&(i=new XMLHttpRequest,"withCredentials"in i?o=1:i=0),!i&&"undefined"!=typeof XDomainRequest&&(i=new XDomainRequest,o=2),i&&e.AudienceManagement&&e.AudienceManagement.isReady())&&(e.Q?i.ja=!0:i=0),!i&&e.ab&&(n=n.substring(0,2047)),!i&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(i=e.d.createElement("SCRIPT"))&&"async"in i&&((s=(s=e.d.getElementsByTagName("HEAD"))&&s[0]?s[0]:e.d.body)?(i.type="text/javascript",i.setAttribute("async","async"),o=3):i=0),i||(i=new Image,i.alt=""),i.la=function(){try{e.ga&&(clearTimeout(e.ga),e.ga=0),i.timeout&&(clearTimeout(i.timeout),i.timeout=0)}catch(e){}},i.onload=i.lb=function(){if(i.la(),e.Ra(),e.V(),e.v=0,e.Y(),i.ja){i.ja=!1;try{var t=e.P(i.responseText);AudienceManagement.passData(t)}catch(e){}}},i.onabort=i.onerror=i.Ta=function(){i.la(),(e.trackOffline||e.ea)&&e.v&&e.e.unshift(e.Qa),e.v=0,e.aa>e.G&&e.xa(e.e),e.V(),e.ha(500)},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?i.lb():i.Ta())},e.wa=e.r(),1==o||2==o){var r=n.indexOf("?");s=n.substring(0,r),r=n.substring(r+1),r=r.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==o?(i.open("POST",s,!0),i.send(r)):2==o&&(i.open("POST",s),i.send(r))}else if(i.src=n,3==o){if(e.ua)try{s.removeChild(e.ua)}catch(e){}s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),e.ua=e.Pa}i.abort&&(e.ga=setTimeout(i.abort,5e3)),e.Qa=n,e.Pa=t["s_i_"+e.replace(e.account,",","_")]=i,(e.useForcedLinkTracking&&e.A||e.p)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.W=setTimeout(e.V,e.forcedLinkTrackingTimeout))},e.Ra=function(){if(e.fa()&&!(e.va>e.G))try{t.localStorage.removeItem(e.da()),e.va=e.r()}catch(e){}},e.xa=function(n){if(e.fa()){e.za();try{t.localStorage.setItem(e.da(),t.JSON.stringify(n)),e.G=e.r()}catch(e){}}},e.za=function(){if(e.trackOffline)for((!e.offlineLimit||e.offlineLimit<=0)&&(e.offlineLimit=10);e.e.length>e.offlineLimit;)e.na()},e.forceOffline=function(){e.ea=!0},e.forceOnline=function(){e.ea=!1},e.da=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.r=function(){return(new Date).getTime()},e.ra=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},e.setTagContainer=function(t){var n,i,o;for(e.mb=t,n=0;n<e._il.length;n++)if((i=e._il[n])&&"s_l"==i._c&&i.tagContainerName==t){if(e.K(i),i.lmq)for(n=0;n<i.lmq.length;n++)o=i.lmq[n],e.loadModule(o.n);if(i.ml)for(o in i.ml)if(e[o])for(n in t=e[o],o=i.ml[o])!Object.prototype[n]&&("function"!=typeof o[n]||(""+o[n]).indexOf("s_c_il")<0)&&(t[n]=o[n]);if(i.mmq)for(n=0;n<i.mmq.length;n++)o=i.mmq[n],e[o.m]&&(t=e[o.m],t[o.f]&&"function"==typeof t[o.f]&&(o.a?t[o.f].apply(t,o.a):t[o.f].apply(t)));if(i.tq)for(n=0;n<i.tq.length;n++)e.track(i.tq[n]);i.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,i,o){var s;return i||(i=e.pageURL?e.pageURL:t.location),o||(o="&"),n&&i&&(i=""+i,s=i.indexOf("?"),s>=0&&(i=o+i.substring(s+1)+o,s=i.indexOf(o+n+"="),s>=0&&(i=i.substring(s+o.length+n.length+1),s=i.indexOf(o),s>=0&&(i=i.substring(0,s)),i.length>0)))?e.unescape(i):""}},e.z=["supplementalDataID","timestamp","dynamicVariablePrefix","visitorID","marketingCloudVisitorID","analyticsVisitorID","audienceManagerLocationHint","authState","fid","vmk","visitorMigrationKey","visitorMigrationServer","visitorMigrationServerSecure","charSet","visitorNamespace","cookieDomainPeriods","fpCookieDomainPeriods","cookieLifetime","pageName","pageURL","referrer","contextData","currencyCode","lightProfileID","lightStoreForSeconds","lightIncrementBy","retrieveLightProfiles","deleteLightProfiles","retrieveLightData","pe","pev1","pev2","pev3","pageURLRest"],e.c=e.z.concat(["purchaseID","variableProvider","channel","server","pageType","transactionID","campaign","state","zip","events","events2","products","audienceManagerBlob","tnt"]),e.ba=["timestamp","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","contextData","lightProfileID","lightStoreForSeconds","lightIncrementBy"],e.H=e.ba.slice(0),e.ia=["account","allAccounts","debugTracking","visitor","trackOffline","offlineLimit","offlineThrottleDelay","offlineFilename","usePlugins","doPlugins","configURL","visitorSampling","visitorSamplingGroup","linkObject","clickObject","linkURL","linkName","linkType","trackDownloadLinks","trackExternalLinks","trackClickMap","trackInlineStats","linkLeaveQueryString","linkTrackVars","linkTrackEvents","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","useForcedLinkTracking","forcedLinkTrackingTimeout","trackingServer","trackingServerSecure","ssl","abort","mobile","dc","lightTrackVars","maxDelay","expectSupplementalData","AudienceManagement"];for(i=0;i<=250;i++)i<76&&(e.c.push("prop"+i),e.H.push("prop"+i)),e.c.push("eVar"+i),e.H.push("eVar"+i),i<6&&e.c.push("hier"+i),i<4&&e.c.push("list"+i);i=["latitude","longitude","resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage"],e.c=e.c.concat(i),e.z=e.z.concat(i),e.ssl=t.location.protocol.toLowerCase().indexOf("https")>=0,e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.wa=0,e.aa=0,e.G=0,e.va=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{e.ab="Microsoft Internet Explorer"==navigator.appName}catch(e){}e.V=function(){e.W&&(t.clearTimeout(e.W),e.W=n),e.i&&e.A&&e.i.dispatchEvent(e.A),e.p&&("function"==typeof e.p?e.p():e.i&&e.i.href&&(e.d.location=e.i.href)),e.i=e.A=e.p=0},e.ya=function(){e.b=e.d.body,e.b?(e.o=function(n){var i,o,s,r,a;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n["s_fe_"+e._in])){if(e.ka){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.o,!0),void(e.ka=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.o,!1)}else e.useForcedLinkTracking=0;e.clickObject=n.srcElement?n.srcElement:n.target;try{if(!e.clickObject||e.F&&e.F==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.F=e.clickObject;if(e.Z&&(clearTimeout(e.Z),e.Z=0),e.Z=setTimeout(function(){e.F==l&&(e.F=0)},1e4),s=e.pa(),e.track(),s<e.pa()&&e.useForcedLinkTracking&&n.target){for(r=n.target;r&&r!=e.b&&"A"!=r.tagName.toUpperCase()&&"AREA"!=r.tagName.toUpperCase();)r=r.parentNode;if(r&&(a=r.href,e.ra(a)||(a=0),o=r.target,n.target.dispatchEvent&&a&&(!o||"_self"==o||"_top"==o||"_parent"==o||t.name&&o==t.name))){try{i=e.d.createEvent("MouseEvents")}catch(e){i=new t.MouseEvent}if(i){try{i.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(e){i=0}i&&(i["s_fe_"+e._in]=i.s_fe=1,n.stopPropagation(),n.kb&&n.kb(),n.preventDefault(),e.i=n.target,e.A=i)}}}}}catch(t){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.o):e.b&&e.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&e.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&t.MouseEvent)&&(e.ka=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.o,!0)),e.b.addEventListener("click",e.o,!1))):setTimeout(e.ya,30)},e.ya()}function o(e){var t,n,o,s,r,a=window.s_c_il,l=e.split(","),c=0;if(a)for(n=0;!c&&n<a.length;){if(t=a[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)c=1;else for(o=t.account?t.account:t.oun,
o=t.allAccounts?t.allAccounts:o.split(","),s=0;s<l.length;s++)for(r=0;r<o.length;r++)l[s]==o[r]&&(c=1);n++}return c||(t=new i),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function s(){var e,t,n,i=window,s=i.s_giq;if(s)for(e=0;e<s.length;e++)t=s[e],n=o(t.oun),n.setAccount(t.un),n.setTagContainer(t.tagContainerName);i.s_giq=0}i.getInstance=o,window.s_objectID||(window.s_objectID=0),s(),window.AppMeasurement=i},{}],"/Users/shawn/Work/mtv-play/api/tracking/map.js":[function(e,t,n){n.vars={branch:[13,13],title:[49,49],version:[3,3],role:[4,4],device:[5,5],region:[6,6],lang:[7,7],age:[19,19],gender:[20,20],weekDay:[8,8],hour:[9,9],native:[21,21],userId:[10,10],connected:[16,16],network:[11,11],networkOperator:[12,12],secondscreen:[17,17],devicesPresent:[18,18],search:[14,14],mtvMobileFailed:[null,22],loginStyle:[15,15],teaserCollection:[null,23],teaserClicked:[null,24],videoName:[null,33],franchiseName:[49,49],subscriptionFailure:[null,25]},n.events={appstart:8,menu:9,enable3g:10,disable3g:11,favoAdded:12,favoRemoved:13,sharingFacebookStart:34,sharingFacebookSucces:35,swipeUp:32,swipeDown:33,sharingEmailStart:16,sharingEmailSucces:17,search:18,upgradeMonthFailed:26,upgradeMonthSucces:25,upgradeAnFailed:28,upgradeAnSucces:27,upgradeMtvFailed:30,upgradeMtvSucces:29,loginSucces:23,loginFailed:24,signupSucces:21,signupFailed:22,introSkipped:20,introCompleted:19,teaserClick:31,videofinished:76,videoPlay:6,videoPause:7,videostart:15,video25:2,video50:3,video75:4,purchaseFailed:35,receiptFailed:36},n.weekDays=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]},{}],"/Users/shawn/Work/mtv-play/api/tracking/nuggad.js":[function(e,t,n){n.sendData=function(){var e=encodeURIComponent(""),t=187535816,n=1864594024,i=("https:"==document.location.protocol?"https://":"http://")+"mtv.nuggad.net";"undefined"!=typeof window&&window.nuggad&&window.nuggad.init&&window.nuggad.init({"rptn-url":i},function(i){i.rc({nuggn:t,nuggsid:n,nuggtg:e})})}},{}],"/Users/shawn/Work/mtv-play/api/tracking/omniture.js":[function(e,t,n){e("./lib/AppMeasurement.js"),e("./map");t.exports=new AppMeasurement},{"./lib/AppMeasurement.js":"/Users/shawn/Work/mtv-play/api/tracking/lib/AppMeasurement.js","./map":"/Users/shawn/Work/mtv-play/api/tracking/map.js"}],"/Users/shawn/Work/mtv-play/api/tracking/pagename.js":[function(e,t,n){var i=e("./omniture"),o=(e("old-vigour-js/browser/events/util").postpone,e("old-vigour-js/browser/ua"),e("old-vigour-js/util/config"),e("old-vigour-js/browser/network/url"));e("old-vigour-js/util"),e("./map"),e("old-vigour-js/util/config"),e("./context");t.exports=function(e){"string"!=typeof e&&(e="");var t,n,s,r,a=i.user,l=a.cloud,c=e.split("."),u="";return c.length>1?(n=c[4],~e.indexOf("shows")?(t=l.data.get(e).checkParent("_parent._name","shows").get("title","").val,c[4]=t,c[6]&&c[6]++,c[8]&&c[8]++):(t=l.data.get(e+".title","").val,c[4]=t),c[4]||(s=o.val&&o.val.match(/\-(.*?)$/),s&&s[1]?(r=s[1].indexOf("/"),t=c[4]=r!==-1?s[1].slice(0,r):s[1]):c[4]=n),u+=~e.indexOf(".channels.")?"tv > "+c.slice(4).join(" > "):c.slice(3).join(" > ")):u+=e,{current:e,name:u,title:t}}},{"./context":"/Users/shawn/Work/mtv-play/api/tracking/context.js","./map":"/Users/shawn/Work/mtv-play/api/tracking/map.js","./omniture":"/Users/shawn/Work/mtv-play/api/tracking/omniture.js","old-vigour-js/browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js","old-vigour-js/browser/network/url":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/url.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/api/url.js":[function(e,t,n){var i=e("old-vigour-js/value"),o=e("old-vigour-js/browser/cases");t.exports=n=new i({apiDefer:function(e,t){if(this.clearCache(),"string"!=typeof this.val)e(!0);else if(o.native)navigator.app&&navigator.app.loadUrl?(navigator.app.loadUrl(this.val,{openExternal:!0}),e("success")):o.windowsMobile?(window.open(this.val,"_system"),e("success")):o.ios?(window.open(this.val,"_system"),e("success")):(this.type="can not find navigator.app.loadUrl",e("error"));else{var n=window.open(this.val,this.val);n?(n.focus(),e("success")):e("error")}}}),n._name="_urlApi"},{"old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/user.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=i.api.url;t.exports=n=new o({newsletter:{ajax:{url:function(e,t){if(this._parent.token&&this._parent.token.val)return s+"api/v1/users/"+this._parent.token.val+".json"},method:"PUT",encode:"json",data:function(e,t){return this.clearCache(),(this.val===!0||this.val===!1)&&{user:{accept_newsletter:this.val,app_version:window.package.version}}}}},role:{poll:!1,ajax:{url:function(e,t){return this._parent.token&&this._parent.token.val&&s+"api/v1/users/"+this._parent.token.val+".json"},defer:function(e,t,n,i){i.user?(this.val=t[0]=i.user.role,e()):e(!0)}}}}),n.role.poll.on(function(e){e===!0&&(e=1e3),e>0?(this._d&&clearInterval(this._id),this._id=setInterval(function(){n.role._update()},e)):(clearInterval(this._id),this._d=null)}),n._name="userApi"},{"old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/util.js":[function(e,t,n){var i=(e("old-vigour-js/util/config"),{emailExists:"Email has already been taken",invalid:"Username or password is invalid",expired:"Your confirmation link expired. Please sign up again using the app.",mobileTimeout:"Timeout error",terms:"MTV country terms and conditions must be accepted",email:"Email can't be blank",password:"Password can't be blank",privacy:"Data protection terms and conditions must be accepted",numberExists:"Mobile number has already been taken",subscription:"Subscription is not verified",resetTokenExpired:"Outdated password reset token.",invalidPasswordToken:"Invalid password reset token.",invalidEmail:"Email is invalid"});n.findError=function(e){if(e){var t=e&&e.errors;if(e.error_message)for(var n in i)if(e.error_message===i[n])return n;if(t instanceof Array)for(var o,s=t.length;o=t[--s];)for(var n in i)if(o.description===i[n])return n;return"invalid"}}},{"old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/api/verify.js":[function(e,t,n){var i=e("old-vigour-js/util/config"),o=e("old-vigour-js/value"),s=e("./util"),r=(e("old-vigour-js/browser/cases"),i.api.url);t.exports=n=new o({email:{ajax:{url:function(e,t){return"string"==typeof t&&r+"api/v2/confirmations/"+t+".json"},method:"GET",defer:function(e,t,n,i){i.success?(this.set("token",i.authentication_token),e("success")):(this.type=n?n.message:s.findError(i),e("error"))}}}}),n._name="verify"},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/config.js":[function(e,t,n){t.exports=n=e("old-vigour-js/util/config");var i,o,s=e("old-vigour-js/browser/cases"),r=e("old-vigour-js/value"),a=n.dictionary,l=n.cloud;n.language=new r,n.region=new r,n.dictionary="webtranslateit"===a?function(e){return"https://webtranslateit.com/api/projects/"+n.webtranslateit.token+"/files/"+n.webtranslateit.files[e]+"/locales/"+e}:function(e){return a.replace("$language",e)},l&&"-"===l[0]&&(i=s.tv?"http://":"https://",o="https://"===i?443:80,n.cloud=new r({val:n.region,transform:function(e,t){return"PL"===t&&(t="po"),!!t&&i+t.toLowerCase()+l+":"+o}})),s.native||(n.hashUrl=!1)},{"old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/index.js":[function(e,t,n){var i,o=t.exports=e("old-vigour-js/app").inject(e("old-vigour-js/app/content"),e("old-vigour-js/app/user")),s=o.config=e("./config"),r=e("old-vigour-js/value"),a=e("old-vigour-js/object"),l=o.cases,c=e("./user"),u=e("old-vigour-js/util");o.cloud={api:{auth:s.api.url+"api/v1/users/"},url:s.cloud},o.state.val={default:"first"},o.frame=e("old-vigour-js/browser/animation/frame"),o.ua=e("old-vigour-js/browser/ua"),o.util=e("./util"),o.versionData.on(function(){o.notification.val="appUpgrade"}),o.telCode=new r({default:{val:o.region,transform:function(e,t){return t&&t.toLowerCase()}}});var d=document.referrer;if(d)for(var p=["mtv.de","at.mtv.de","mtv.ch","mtv.nl","mtv.be","fr.mtv.be","nl.mtv.be","mtv.dk","mtv.no","mtv.se","musictelevision.fi","mtv.pl"],h=p.length-1;h>=0;h--){var f=p[h];if(d.indexOf(f)!==-1){o.fromMtvSite=d;break}}o.cloud.subscribe({mtvData:{operators:{$:{$:!0}}}}),l.$allowPlayback=new r({val:!0,transform:function(e,t){return!!l.native||t}}),l.native||(l.$allowPlayback.on(function(){this.val||(o.popup.val="comingSoon")}),e("../components/smartbanner")),l.$hasOperator=new r((!1)),l.$hasOperatorRegistration=new r((!1)),o.operators=new a({}),o.region.on(function(){var e=o.region.val;if("string"==typeof e){var t=o.country||o.region.val;t&&~s.availableRegions.indexOf(t.toUpperCase())?l.$allowPlayback.val=!0:l.$allowPlayback.val=!1;var n=o.cloud.data.get(["mtvData","operators"]),i=function(){var t=!1;this.$length.val&&this.each(function(n){this.region.val.toLowerCase()===e.toLowerCase()&&(t=!0,o.operators.set(n,this),this.support_classic_registration.val||(l.$hasOperatorRegistration.val=!0))}),l.$hasOperator.val=t};n.$length.val?i.call(n):n.once(i)}}),l.$fromMtvSite=new r((!!o.fromMtvSite)),l.$storeAvailable=new r(l.native&&(l.ios||l.android||l.windowsMobile)),l.$hasMobile=new r({val:function(){return u.checkArray(s.mtvmobile,o.region.val.toLowerCase())!==!1},listen:o.region}),e("./intro"),e("./localisation"),i=o.api=e("../api"),i.user.val={token:c.token,newsletter:c.accept_newsletter},l.$hasEpisodePass=new r({val:i.info.episode_pass_available}),i.info.val=o.region,e("./login"),e("./share"),e("./register"),e("./upgrade"),e("./playback"),e("./popup"),e("./tracking"),e("./init")},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","../components/smartbanner":"/Users/shawn/Work/mtv-play/components/smartbanner/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","./init":"/Users/shawn/Work/mtv-play/app/init.js","./intro":"/Users/shawn/Work/mtv-play/app/intro.js","./localisation":"/Users/shawn/Work/mtv-play/app/localisation.js","./login":"/Users/shawn/Work/mtv-play/app/login.js","./playback":"/Users/shawn/Work/mtv-play/app/playback.js","./popup":"/Users/shawn/Work/mtv-play/app/popup.js","./register":"/Users/shawn/Work/mtv-play/app/register.js","./share":"/Users/shawn/Work/mtv-play/app/share.js","./tracking":"/Users/shawn/Work/mtv-play/app/tracking.js","./upgrade":"/Users/shawn/Work/mtv-play/app/upgrade.js","./user":"/Users/shawn/Work/mtv-play/app/user.js","./util":"/Users/shawn/Work/mtv-play/app/util.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/content":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/content.js","old-vigour-js/app/user":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/index.js","old-vigour-js/browser/animation/frame":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/frame.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/init.js":[function(e,t,n){var i=e("old-vigour-js/app"),o=i.user,s=i.cases,r=e("promise"),a=e("./config"),l=e("../components/password");i.css={addClass:"preload"},!s.chromecast&&!s.tv||o.token.val||(o.token=!0),i.region.is(function(){return"string"==typeof this.val}).then(function(){var e=a.protected&&~a.protected.indexOf(i.region.val.toLowerCase());return!e||new r(function(e){window.requestAnimationFrame(function(){window.clearPackerLoader&&window.clearPackerLoader();var t=new l({container:{field:{events:{change:function(t){"viacomnorth"===this.node.value?(this.remove(),e()):window.alert("Incorrect password. Please try again.")}}}}});window.requestAnimationFrame(function(){t.container.opacity=1}),i.set({passwordInput:t})})})}).then(function(){return i.cloud.connected.is(!0)}).then(function(){return o.token.val===!0?new r(function(e){var t=o.data.is("loaded"),n=setTimeout(function(){r.reject(t),e()},500);t.done(function(){clearTimeout(n),e()})}):o.token.val?o.data.is("loaded"):void 0}).then(function(){return i.ready.val=!0,s.chromecast||o.$execUrl("discover"),i.css={removeClass:"preload"},window.clearPackerLoader&&window.clearPackerLoader(),s.touch&&(i.node.style.backgroundColor="black"),i.content.is("loaded")}).done(function(){i.css={removeClass:"preload"},window.clearPackerLoader&&window.clearPackerLoader(),s.touch&&(i.node.style.backgroundColor="black")})},{"../components/password":"/Users/shawn/Work/mtv-play/components/password/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js",promise:"/Users/shawn/Work/mtv-play/node_modules/promise/index.js"}],"/Users/shawn/Work/mtv-play/app/intro.js":[function(e,t,n){var i=t.exports=e("old-vigour-js/app"),o=i.cases;o.native&&!localStorage.getItem("haveSeenIntro")&&i.ready.on(!0,function(){setTimeout(function(){i.popup.val="intro"},1e3),localStorage.setItem("haveSeenIntro",!0)})},{"old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js"}],"/Users/shawn/Work/mtv-play/app/localisation.js":[function(e,t,n){var i=e("old-vigour-js/app"),o=i.config=e("./config"),s=e("old-vigour-js/app/dictionary"),r=e("old-vigour-js/util"),a=e("old-vigour-js/browser/ua"),l=e("old-vigour-js/value");i.dictionary=s;var c=o.regionOverride;if(c){if("url"===c){var u=o.availableRegions,d=window.location.href,p=d.indexOf("r=");c=d.slice(p+2,p+4),u.indexOf(c)===-1&&(c="DE"),o.regionOverride=c}i.region.val={ajax:o.geo,transform:function(e,t){return o.regionOverride||0}}}else i.region.val={responseData:function(e,t){var n=this.country_code&&this.country_code.val;return i.country=n,r.checkArray(o.availableRegions,n)!==!1&&n},ajax:o.geo,transform:function(e,t){return t&&"string"==typeof t&&"error"!==t&&r.checkArray(o.availableRegions,t)!==!1?t:o.defaultRegion||("lg"===a.platform&&"tv"===a.device?"DE":0)||t&&"DE"}};o.language.val=i.language,o.region.val=i.region,i.dictionary.val={ajax:function(e,t){var n=this.val;if(n){if(this._cached===n)return;return this._cached=n,n&&o.dictionary(n)}},val:i.language},i.localDictionary=new l({ajax:function(e,t){var n=i.region.val,s=i.country;if(s&&n!==s&&(n="en"),"CH"!==n&&"AT"!==n||(n="de"),n){"BE"===n&&(n="NL");var r=n.toLowerCase();if(this._cached===r)return;return this._cached=r,o.dictionary(r)}},val:i.region})},{"./config":"/Users/shawn/Work/mtv-play/app/config.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/login.js":[function(e,t,n){var i=e("./config"),o=e("old-vigour-js/browser/cases"),s=e("old-vigour-js/app/"),r=s.user,a=e("../api");a.user.role.val={token:s.user.token},a.login.val={region:i.region},a.user.role.on(function(){r.role.$userOrigin.cloud&&(r.role.$userOrigin=a.user.role.val)}),r.token.on(function(){r.token.val||(a.login.$empty(["loading","region"]),s.state.val="empty",s.state.val="first")}).on(function(){a.user.role.poll.val=!!r.token.val&&6e5}),a.login.on("error",function(){a.timeout||(s.notification.type=this.type,s.notification.val="loginError")}).on("success",function(){if(s.notification.val="loginSuccess",this.facebook&&this.facebook.token&&this.facebook.token.val){var e=this.facebook.token.val,t=this.facebook.id.val;r.token.once(function(n){this.val&&(r.FB_token.$userOrigin=e,r.facebook_id.$userOrigin=t)})}r.token=this.token.val;var n=window.localStorage.getItem("registerOperator");if(n){var i=n.toLowerCase();"get"===i&&(n="__$ESCAPED_"+i),s.popup.data=s.cloud.data.get(["mtvData","operators",n]),s.popup.val="operatorAuthUpgrade",window.localStorage.removeItem("registerOperator")}else o.$hasMobile.val&&this.new_record?s.popup.val="getStarted":"login"!==s.popup.val&&"loginEmail"!==s.popup.val&&"register"!==s.popup.val||(s.popup.val=!1)}).loading.on(function(e){e!==!0||a.timeout?"login"===s.loading.val&&(s.loading.val=!1):s.loading.val="login"}),a.operator.login.on("error",function(){a.timeout||(s.notification.type=this.type,s.notification.val="loginError")}).on("success",function(){s.notification.val="loginSuccess",r.token=this.token.val,s.popup.val=!1}).loading.on(function(e){e!==!0||a.timeout?"login"===s.loading.val&&(s.loading.val=!1):s.loading.val="login"}),a.facebook.login.on("success",function(e){a.login.val={facebook:{token:this.token.val,id:this.id.val}}}).on("error",function(){s.notification.val="facebookError"}).loading.on(s.loading)},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/app/playback.js":[function(e,t,n){var i=e("old-vigour-js/app"),o=i.config=e("./config"),s=e("old-vigour-js/value"),r=i.cases,a=i.user;if(r.$playing=i.playing,r.$isFullscreen=new s({val:function(){return"player"===i.state.val},listen:i.state}),r.$isPlayingAd=new s,r.$isLoadingVideo=new s({val:!1,defer:function(e){var t=this;this._timer&&(clearTimeout(this._timer),this._timer=null),this._val&&(this._timer=setTimeout(function(){t.val=!1,t._timer=null},2e3)),e()}}),r.$isOnChannel=new s,i.wifiOnly=new s({val:localStorage.getItem("wifiOnly")||!1,defer:function(e){this._val?localStorage.setItem("wifiOnly",!0):localStorage.removeItem("wifiOnly"),e()}}),i.restrictPlayback.val={val:i.wifiOnly,transform:function(e,t){return!(!t||!r.native||"wifi"===api.network.val)}},i.playing.on(function(e){if(r.$isLoggedIn.val&&e===!0){var t=i.user.navigation.media.from;if("channels"!==t._parent._name){var n=i.user.usage.from.get(t._contentPath),o=n._parent._parent._parent._parent;o&&o.set("media",t)}}}),i.playing.val={defer:function(e,t){var n=a.navigation.media.from,o=n&&n.access&&n.access.val,s=n&&n.id&&n.id.val,l=3===a.role.val;this.val&&!r.$allowPlayback.val?i.notification.val="Oops! Playback is not allowed in your region...":t[0]===!0&&i.wifiOnly.val&&i.api.network.val?(this.val=t[0]=!1,i.notification.from.val="enable4g"):!r.$accessForEveryone.val&&t[0]===!0&&o&&this.val&&(r.$isLoggedIn.val?"channels"!==n._parent._name||!l&&r.$isUpgraded.val?(!r.$isUpgraded.val&&!a.purchases.$userOrigin[s]||"channels"===n._parent._name&&l||l&&2===o)&&(this.val=t[0]=!1,i.popup.from.data=n,i.popup.from.val=r.$hasEpisodePass.val?"roadblockMedia":"roadblock"):(this.val=t[0]=!1,i.popup.from.val="upgrade"):(this.val=t[0]=!1,i.popup.from.val="roadblock")),e()}},o.player&&"production"===o.player.settings.ads.viralSID){var l=o.player.settings.ads;r.tv?(l.viralSID="mtvplaytv/smarttv/de/free",i.user.role.on(function(){var e=this.val,t=l.viralSID.split("/");e=e&&3!==e?2===e?"b2b":"b2c":"free",t[3]=e,l.viralSID=t.join("/")}),i.region.on(function(){var e=this.val;if(e){var t=l.viralSID.split("/");t[2]=e.toLowerCase(),l.viralSID=t.join("/")}})):(l.viralSID="mtvplaytv/de/free",i.user.role.on(function(){var e=this.val,t=l.viralSID.split("/");e=e&&3!==e?2===e?"b2b":"b2c":"free",t[2]=e,l.viralSID=t.join("/")}),i.region.on(function(){var e=this.val;if(e){var t=l.viralSID.split("/");t[1]=e.toLowerCase(),l.viralSID=t.join("/")}}))}},{"./config":"/Users/shawn/Work/mtv-play/app/config.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/popup.js":[function(e,t,n){var i=e("old-vigour-js/app"),o=i.cases;i.popup.val={defer:function(e,t){var n=t[0];o.windows&&o.native&&"share"===t[0]?(i.api.facebook.share.val={val:!0,url:!0},this._val=t[0]=!1):"upgrade"!==n||o.$hasMobile.val||o.$storeAvailable.val?"devices"!==n||o.$isLoggedIn.val||(this._val=t[0]="roadblock"):this._val=t[0]="roadblockUpgrade",e()}}},{"old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js"}],"/Users/shawn/Work/mtv-play/app/register.js":[function(e,t,n){var i=e("./config"),o=e("old-vigour-js/app/"),s=o.user,r=e("../api"),a=e("old-vigour-js/browser/cases");r.register.val={age:{defer:function(e,t){var n=t[0];!n||n.defer?e(!0):(1==n?this.val={min_age:1,max_age:20}:2==n?this.val={min_age:20,max_age:30}:3==n&&(this.val={min_age:30,max_age:40}),e())}},region:i.region},r.register.on("error",function(){o.notification.type=this.type,o.notification.val="registerError"}).on("success",function(){if(o.notification.val="registerSuccess",o.popup.val=!1,this.email&&this.email.val)var e=this.email.val,t=this.password.val;r.timeout&&clearInterval(r.timeout),a.native&&(r.timeout=setInterval(function(){r.login.val={email:e,password:t}},500),r.login.once("success",function(){clearInterval(r.timeout),r.timeout=!1}))}).loading.on(o.loading),r.verify.email.on("success",function(e){var t=window.localStorage.getItem("registerOperator");if(t){var n=t.toLowerCase();"get"===n&&(t="__$ESCAPED_"+n),o.popup.data=o.cloud.data.get(["mtvData","operators",t]),o.popup.val="operatorAuthUpgrade",window.localStorage.removeItem("registerOperator")}else(a.phone||a.tablet)&&(o.popup.val="getApp");s.token.val=this.token.val,o.notification.val="verifyEmailSuccess"}).on("error",function(e){o.notification.type=this.type,o.notification.val="verifyEmailError"}).loading.on(o.loading),o.url.params.on(function(e){this.e&&(r.verify.email.val=this.e.val,this.val="")}),r.password.forgot.on("success",function(){o.notification.val="passwordForgot",o.popup.val=!1}).on("error",function(){o.notification.type=this.type,o.notification.val="passwordForgotError"}).loading.on(o.loading),r.password.reset.on("success",function(){o.notification.val="passwordResetSuccess",o.popup.val=!1,s.token.val=this.token.val}).on("error",function(){o.notification.type=this.type,o.notification.val="passwordResetError"}).loading.on(o.loading),o.url.params.on(function(e){this.reset&&(r.password.reset.val={token:this.reset.val},o.popup.from.val="passwordReset",this.val="")})},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/app/share.js":[function(e,t,n){var i=e("./config"),o=e("old-vigour-js/app/dictionary"),s=e("old-vigour-js/app/"),r=e("old-vigour-js/object"),a=s.user,l=e("../api");l.facebook.share.val={url:{transform:function(e,t){if(!t)return!1;var n,o,s,l,c=t instanceof r?t.from:a.navigation.media.from,u=a.$parse(c),d=i.fburl+u.url,p=c,h="";return p&&u.title&&(u.episode<10&&(u.episode="0"+u.episode),n=u.season+u.episode,o=u.title?"og:title="+encodeURIComponent((u.show.title.val?u.show.title.val+(n?"#"+n:"")+" | ":"")+u.title+" - MTV Play")+"&":"",s=p.img?"og:image="+encodeURIComponent(p.img.val)+"&":"",l=p.description?"og:description="+encodeURIComponent(p.description.val):"",h="?"+o+s+l),d+h},init:s.ready}},l.facebook.share.on("success",function(){}).on("error",function(){s.notification.type=this.type,s.notification.val="shareError",l.facebook.share.url.val=!1,l.facebook.share.$empty(["url","loading"])}).loading.on(s.loading),l.email.share.val={address:"",subject:o.get("text.mailShare.title"),body:function(e,t){var n=a.$parse(a.navigation.media).url,e=n&&n.replace(/&/g,"and");return!!e&&"http://mtvplay.tv/#/"+e}}},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/app/spotlight.js":[function(e,t,n){var i=(e("old-vigour-js/util/config"),e("old-vigour-js/app/")),o=e("old-vigour-js/value"),s=i.user,r=e("old-vigour-js/data");t.exports=n=s.spotlight=new o({transform:function(e,t){return this._parent.map&&this._parent.map[t]},defer:function(e,t){if(this.clearCache(),this.val||0===this.val&&i.cases.$isLoggedIn.val){var n=s.data.from.get("spotlight_sub.list.0"),o=this;this.selected&&this.selected.from!==n&&(this.selected.remove(),this.selected=null),this.selected||(this.set("selected",new r(n,{subscription:{time:!0,title:!0,text:!0,img:!0,mtvid:!0}})),this.selected.on(function(e){var t,n=this.from.title&&this.from.title.val;this.from.mtvid&&this.from.mtvid.val;n&&i.cases.$isLoggedIn.val&&this.from.mtvid&&(hashed=this.from.mtvid.val,t=s.notification_stamp.from,t.val&&t.val===hashed||(t.val=hashed,o._update("success")))}),this.selected._update.apply(this.selected,t))}"success"===t[0]?e():e(!0)}}),n.map={0:"spotlight_sub",1:"spotlight_sub",2:"spotlight_mbl"},n.val=s.role},{"old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/tracking.js":[function(e,t,n){function i(){var e;if(e="player"===o.state.val&&o.state.video?o.state.video.val:o.user.navigation.media.from,!e||e.val!==!1)return e}var o=e("./index"),s=e("../api/tracking"),r=e("../api"),a=e("old-vigour-js/browser/cases"),l=e("../api/tracking/dataform").sendEvent,c=e("../api/tracking/dataform").setDimension,u=e("old-vigour-js/value");o.mediaTime=new u,s.omniture.user=o.user,o.popup.on(function(){s.popup(this.val)}),o.user.navigation.page.on(function(){s.pageView(this.val)}),o.user.navigation.show.on(function(){s.pageView(this.val)}),o.user.navigation.media.on(function(){s.pageView(this.val)}),o.user.navigation.season.on(function(){s.pageView(this.val)}),o.popup.on("intro",function(){o.popup.once(function(e){s.event(e===!1?"introSkipped":"introCompleted",!0)})}),r.login.on("success",function(){this.new_record?(s.event("signupSucces",!0),l("event","login","signup")):(s.event("loginSucces",!0),l("event","login","login"))}).on("error",function(){s.event("loginFailed",!0)}),r.register.on("success",function(){s.event("signupSucces",!0),l("event","login","signup")}).on("error",function(){s.event("signupFailed",!0)}),r.facebook.share.on(function(){s.event("sharingFacebookStart",!0)}).on("success",function(){s.event("sharingFacebookSucces",!0)}),r.email.share.on(function(){s.event("sharingEmailStart",!0)}).on("success",function(){s.event("sharingEmailSucces",!0),l("event","sharing","email")});var d=!0;o.user.search.on(function(){var e=o.user.search.val;e&&"string"==typeof e&&(s.event("search",e),d&&(d=!1,l("event","search","query"),o.user.navigation.page.on(function(){d=!0})))}),r.mobile.verify.on("error",function(){s.event("upgradeMtvFailed")}),o.menu.on(function(){this.val&&s.event("menu",this.val)}),o.ready.once(!0,function(){s.event("appstart",!0)}),o.notification.on("favourite",function(){s.event("favoAdded",!0),l("event","favourite","added")}).on("unFavourite",function(){s.event("favoRemoved",!0),l("event","favourite","removed")}),o.user.receiver.media.on(function(e){this.from&&"media"===this.from._name||s.event(e?"swipeUp":"swipeDown",this.from&&this.from._cachedPath)}),a.$hasReceiver.on(function(){if(this.val){var e=o.user.receiverClient.val,t=e.device&&e.device.val;t&&c(t)}}),r.purchase.on("success",function(){s.event("monthly"===this.subscription.val?"upgradeMonthSucces":"upgradeAnSucces",!0),l("event","purchase","month")}).on("error",function(){s.event("monthly"===this.subscription.val?"upgradeMonthError":"upgradeAnError",!0)}),r.mobile.sms.on("success",function(e){s.event("upgradeMtvSucces",!0)}).on("error",function(e){s.event("upgradeMtvFailed",!0)}),o.mediaTime.on(function(e){var t=i();e&&e>0||t&&s.video(e,t)}),o.playing.on(function(e){var t=i();t&&s.video(e?"videoPlay":"videoPause",t)})},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","../api/tracking":"/Users/shawn/Work/mtv-play/api/tracking/index.js","../api/tracking/dataform":"/Users/shawn/Work/mtv-play/api/tracking/dataform.js","./index":"/Users/shawn/Work/mtv-play/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/upgrade.js":[function(e,t,n){function i(e,t){if(t){var n=l.platform;"android"===n&&window.AmazonIapV2&&(n="amazon");var i=o.store[n],r=i&&i[t];if(r)return r.replace("$region",(s.region.val||"").toLowerCase())}return 0}var o=e("./config"),s=e("old-vigour-js/app/"),r=s.user,a=e("../api"),l=e("old-vigour-js/browser/ua");a.mobile.verify.val={token:r.token},a.mobile.verify.on("success",function(e){2!==r.role.val?(a.user.role.poll.val=500,s.loading.val=!0,r.role.once(function(){s.notification.val="mobileUpgradeSuccess",a.user.role.poll.val=!1,s.loading.val=!1})):a.user.role.poll.val=!1,s.popup.val=!1,s.notification.val="mobileVerifySuccess"}).on("error",function(e){s.notification.val="mobileVerifyError"}).loading.on(s.loading),a.mobile.sms.on("success",function(e){r.token.val=this.token.val,s.notification.val="mobileUpgraded"}).on("error",function(e){s.notification.val="mobileUpgradeError"}).loading.on(s.loading),s.url.params.on(function(e){this.m&&(a.mobile.sms.val=this.m.val,this.val="")}),a.purchase.val={subscription:{transform:i},product:{transform:function(e,t){var n=t?i(e,"single"):0;return n}}},a.purchase.on("success",function(){var e={receipt:this.token.val};if(window.AmazonIapV2&&(e.userId=this.amazonUserData.userId.val,e.receiptId=this.purchaseReceipt.receiptId.val),this.packageName&&(e.packageName=this.packageName.val),this.subscriptionId&&(e.subscriptionId=this.subscriptionId.val),this.orderId&&(e.orderId=this.orderId.val),this.purchaseTime&&(e.purchaseTime=this.purchaseTime.val),this.purchaseState&&(e.purchaseState=this.purchaseState.val),
this.developerPayload&&(e.developerPayload=this.developerPayload.val),this.signature&&(e.signature=this.signature.val),this.product.val){if(!this.product.from.cloud)throw new Error("trying to buy something else then an episode");this.product.from.get("id").is("loaded",function(){e.episodeId=this.val,a.receipt.val=e})}else e.episodeId=!1,a.receipt.val=e}).on("error",function(){s.notification.type=this.type,s.notification.val="purchaseError"}).loading.on(s.loading),a.receipt.val={token:r.token},a.receipt.on("success",function(){var e=this.episodeId&&this.episodeId.val;e?(r.purchases.$userOrigin.set(e,!0),s.popup.val=!1,s.notification.val="singleEpisodePurchased"):(s.notification.val="upgraded",s.user.role.$userOrigin=1,s.popup.val="profile")}).on("error",function(){s.notification.type=this.type,s.notification.val="purchaseError"}).loading.on(s.loading),a.operator.upgrade.on("success",function(){s.notification.val="upgraded",s.user.role.$userOrigin=2,s.user.operator_name.val=a.operator.upgrade.operator.val,s.popup.val="profile"}).on("error",function(){s.notification.type=this.type,s.notification.val="purchaseError"}).loading.on(s.loading)},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/app/user.js":[function(e,t,n){var i=e("old-vigour-js/app"),o=i.cases,s=e("old-vigour-js/value"),r=i.config,a=t.exports=i.user.inject(e("old-vigour-js/app/user/token"),e("old-vigour-js/app/user/usage"),e("old-vigour-js/app/user/navigation"),e("old-vigour-js/app/user/multiscreen"),e("old-vigour-js/app/user/multiscreen/cast"),e("old-vigour-js/app/user/url"));a.set({profilepic:!1,first_name:!1,email:!1,language:!1,role:!1,highlight:!1,carousel:!1,search:!1,accept_newsletter:!1,FB_token:!1,scroll:!1,facebook_id:!1,url:e("old-vigour-js/browser/network/url"),localStorageToken:r.api.type+"userToken"}),a.extend({name:"purchases",mock:{purchases:{}},subscription:{purchases:{$:!0}},on:{mock:function(){this.purchases=this.mockdata.purchases},user:function(){this.purchases=this.data.from.get("purchases",{})}}}),a.extend({name:"operator_name",mock:{operator_name:!1},subscription:{operator_name:!0},on:{mock:function(){this.operator_name=this.mockdata.operator_name},user:function(){this.operator_name=this.data.from.get("operator_name",!1)}}}),o.$isActive.on(function(){"player"!==i.state.val&&(i.state.val=this.val?"first":"second")}),i.language.val=i.user.language,i.content.on("self",function(e,t){var n=i.state.val;i.state.val="empty",i.state.val=n}),a.spotlight=e("./spotlight"),a.spotlight.on(function(e){i.popup.from.data=a.spotlight.selected.from,i.popup.from.val="article"}),a.role.set("text",{val:a.role,transform:function(e,t){return i.user.operator_name.val?"operatorPremium":r.roles[t]||""},listen:i.user.operator_name}),o.$isUpgraded=new s({val:a.role,transform:function(e,t){return t>0||0}}),o.$accessForEveryone=new s((!1)),a.receiver.media.on(function(){o.$isReceiver.val&&(this.val?(i.state.clearCache(),i.state._ignoreValue=!0,i.state.val={val:"player",video:this.from},i.state._ignoreValue=null):i.state.val=o.$isActive.val?"first":"second")}),o.$isReceiver.on(function(){this.val?(i.volume.val=a.receiver.volume,i.playing.val=a.receiver.playing,a.receiver.media.clearCache(),a.receiver.media._update()):(i.volume.val=i.volume.from.val||1,i.playing.val=i.playing.from.val,i.state.val=o.$isActive.val?"first":"second")}),o.$isReceiver.on(function(){this.val?i.css.val={addClass:"isReceiver"}:i.css.val={removeClass:"isReceiver"}})},{"./spotlight":"/Users/shawn/Work/mtv-play/app/spotlight.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/user/multiscreen":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/multiscreen/index.js","old-vigour-js/app/user/multiscreen/cast":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/multiscreen/cast/index.js","old-vigour-js/app/user/navigation":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/navigation.js","old-vigour-js/app/user/token":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/token.js","old-vigour-js/app/user/url":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/url.js","old-vigour-js/app/user/usage":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/usage.js","old-vigour-js/browser/network/url":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/url.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/util.js":[function(e,t,n){var i=e("old-vigour-js/app/"),o=e("old-vigour-js/browser/cases"),s=o.phone?"play":"playAlt";n.access=function(e,t){if(t){var n=3===i.user.role.val,r=t.id&&t.id.val,a=t&&!(t._parent&&"channels"===t._parent._name&&3===i.user.role.val)&&(!e||o.$isUpgraded.val&&(!n||n&&e<2));return r&&i.user.purchases.$userOrigin[r]&&(a=!0),o.$allowPlayback.val&&a?s:"lockedContent"}}},{"old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/common.less":[function(e,t,n){},{}],"/Users/shawn/Work/mtv-play/components/ad/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element");n.Billboard=new i({css:"ad-billboard",attr:{id:"leaderboard"}}).Class,n.Medium=new i({css:"ad-medium",attr:{id:"div-gpt-ad-1445622141110-2"}}).Class,n.Interstitial=new i({css:"ad-interstitial",attr:{id:"interstitial"}}).Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/ad/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/ad/style.less":[function(e,t,n){e("../../common.less")},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/button/index.js":[function(e,t,n){e("./style.less");var i,o=e("old-vigour-js/app/ui/element"),s=e("../icon");e("old-vigour-js/util");t.exports=n=new o({node:"button",css:"ui-button",text:"this is a button",righticon:new s({icon:"arrowright"})}).Class,i=new o({css:function(){return"ui-switch"+(this.switchOn&&this.switchOn.val===!0?" ui-switch-on":"")},btn:{}}),i.extend({switchOn:function(e){this.css="ui-switch"+(e.val&&e.val===!0?" ui-switch-on":"")}}),n.Switcher=i.Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/button/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/components/button/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/cookiebar/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app"),o=e("old-vigour-js/browser/cases"),s=e("old-vigour-js/app/ui/element"),r=e("../icon"),a=new s({css:"cookie-button",text:{val:i.localDictionary,transform:function(e,t){var n=i.localDictionary.responseData;if(n&&n.text.cookieBar)return n.text.cookieBar.close.val}},events:{down:function(e){e.prevent=!0;var t=i.cookiewall||this.parent.parent.parent;t.remove()}}}),l=new s({moreinfo:{text:{val:i.localDictionary,transform:function(e,t){var n=i.localDictionary.responseData;if(n&&n.text.cookieBar)return"> "+n.text.cookieBar.link.val}},"events.click":function(){var e=i.popup,t=i.region.val;"DE"===t||"BE"===t||"NO"===t?(e.data=i.content.get(["privacy","list","0"]),e.val="article"):(e.data=i.content.get(["legal_cookies","list","0"]),e.val="articleCookie")}}}),c=new s({title:{text:{val:i.localDictionary,transform:function(e,t){var n=i.localDictionary.responseData;if(n&&n.text.cookieBar)return n.text.cookieBar.text.val}}}}),u=new s({text:{val:i.localDictionary,transform:function(e,t){var n=i.localDictionary.responseData;if(n&&n.text.privacy)return"> "+n.text.privacy.val}},"events.click":function(){var e=i.popup;e.data=i.content.get(["privacy","list","0"]),e.val="article"}});t.exports=new s({on:{$new:{defer:function(e){var t=this._parent._caller,n="NL"===i.region.val;n?(l.set({legal:u}),o.phone?(l.add(a,"moreinfo"),t.set({css:"cookie-bar-nl",container:{message:c,info:l}})):(l.add(a,"moreinfo"),t.set({css:"cookie-bar-nl",container:{logo:{},message:c.set({body:{text:{val:i.localDictionary,transform:function(e,t){var n=i.localDictionary.responseData;if(n&&n.text.cookieBar)return n.text.cookieBar.nl.text.val}}}}),info:l}}))):(a.set({exit:new r({icon:"close"})}),t.set({css:"cookie-bar",container:{message:c,info:l,button:a}})),i.set({h:{sub:{val:i.w,transform:function(){return t.node.offsetHeight}}},position:"relative"}),window.requestAnimationFrame(function(){i.h._update(),window.requestAnimationFrame(function(){i.h._update()})}),e()}},$remove:{defer:function(e){i.h={sub:null},i.menu._update(),window.localStorage.setItem("cookieApproved",!0),e()}}}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/cookiebar/style.less","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/cookiebar/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/epg_temp.js":[function(e,t,n){function i(e){return["mtvData",s.region.val,s.language.val,"channels",e].join(".")}var o=e("old-vigour-js/data"),s=e("old-vigour-js/app/"),r=e("old-vigour-js/util/config"),a=e("old-vigour-js/browser/network/ajax"),l=new o,c=[];t.exports=n=function(e,t){if(~c.indexOf(e))return void(t&&t());var i=n.getDate(),o=s.region.val.toLowerCase()+"/channels/"+e+"/"+i;return l[i]||(l.empty,l.set(i,{})),l[i][o]&&l[i][o].val||(l[i].set(o,!1),a({url:"https://api.mtvnn.com/v2/airings.json/?channel_id="+e+"&filter=today&bust="+~~(1e6*Math.random()),headers:{Accept:"*/*"},iframe:r.epg,method:"GET",complete:function(n){if(n instanceof Array){var s=[];n.forEach(function(e,t){var i=e.airing,o=n[t+1];i.duration=(o?o.airing.minutes_since_midnight:n[0].airing.minutes_since_midnight)-i.minutes_since_midnight||1440,i.endtime=i.minutes_since_midnight+i.duration,s.push(i)}),l[i].set(o,s)}else c.push(e),l[i][o].removeListener(),t&&t()},error:function(n){c.push(e),t&&t()}})),l[i][o]},n.now=function(e,t){function i(){if(this.minutes_since_midnight){var e=this.minutes_since_midnight.val,t=e+this.duration.val;if(e<=a&&t>a)return s?s.val=this:s=this,void(r&&l.removeListener(r))}}var s,r,a=n.minutesSinceMidnight(),l=n(e);if(l){if(l.val)l.each(i);else{var s=new o;r=function e(){this.each(i),l.removeListener(e)},l.addListener(r)}return s}},n.anyNow=function(e){if("channels"===e._name){var t=e.keys,s=t.length,r=this;if(!s)return;for(this._findNow=new o,s--;s>=0;s--){var a=e[t[s]].epgid;if(void 0!==a){this.model=!1;var l=n.now(a.val);l&&(l.title?(this.data=l,this._link=i(t[s])):(this._findNow[s]=l,this._findNow[s]._index=t[s],this._findNow[s].addListener(function(){void 0!==this._index&&(r.model=!1,r.data=this.from.val,r._link=i(this._index),setTimeout(function(){r._findNow&&r._findNow.remove()}))})))}}}},n.getDate=function(e){e||(e="-");var t=new Date,n=t.getDate(),i=t.getMonth()+1,o=t.getFullYear();return n<10&&(n="0"+n),i<10&&(i="0"+i),o+e+i+e+n},n.minutesSinceMidnight=function(){var e=new Date,t=new Date(e),n=t-e.setHours(0,0,0,0);return n/6e4},n.clockTime=function(e,t){var n=~~(t/60),i=~~(t%60);return n>23?n-=24:n<10&&(n="0"+n),i<10&&(i="0"+i),n+":"+i}},{"old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/network/ajax":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/ajax.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/first/channels/index.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/element"),e("../overview")),o=e("../../icon"),s=e("old-vigour-js/app/"),r=new i.Items({pageheader:{"text.dictionary":"text.nav.channels"},collection:{data:"channels",element:i.Item.Tv?new i.Item.Tv:new i.Item({righticon:new o({on:{data:"id"},icon:{data:"access",transform:function(e,t){var n=s.util.access(t,this.data);return"lockedContent"===n?"lockedContentAlt":"arrowright"},listen:s.user.role}}),events:{click:function(){this.checkParent("on.media",!0).$userOrigin=this.data.from}}})},model:{complete:function(){this.parent.node.scrollTop||(this.parent.node.scrollTop=1),this.model=!1}}});t.exports=new i({items:r}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../overview":"/Users/shawn/Work/mtv-play/components/first/overview/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/discover/carousel.js":[function(e,t,n){function i(e){clearTimeout(a),a=setTimeout(function(){e._pos!==-e.children.length+1?e._pos-1:0;i(e)},5e3)}function o(e){if(!e._i)for(var t=e.parent.children,n=t.length-1;n>=0;)t[n]._i=n--;return e._i}function s(e,t,n){var i=120,o=10,s=this.children.length,a=this._pos||(this._pos=0),c=a;Math.abs(n.x)>o?(n.x<0&&!(t.x>i)&&(c=Math.max(a-1,-s+1)),n.x>0&&!(t.x<-i)&&(c=Math.min(a+1,0))):(t.x<-i&&(c=Math.max(a-1,-s+1)),t.x>i&&(c=Math.min(a+1,0))),this.x._e&&(this.x={_esub:this.x._e._val}),l=!1,r(this,c)}function r(e,t){var n=e._pos||(e._pos=0),o=e.parent.dotholder.dots;(o||e.parent.parent.parent.parent.topbar.txt.dotholder.dots).children;t!==n&&(e.data.carousel.from=t,e._pos=t),o&&a&&i(e)}e("./style.less");var a,l,c=e("old-vigour-js/app/ui/element"),u=(e("old-vigour-js/app/dictionary"),e("../../img")),d=e("../../icon"),p=e("../../text").Title,h=e("old-vigour-js/app/"),f=e("old-vigour-js/browser/cases"),v=(e("old-vigour-js/util/config"),e("old-vigour-js/browser/animation/frame"),new c({img:new u.Carousel({teaser:{title:new p},background:{range:100},events:{active:"clicked",click:function(){var e=this.data,t=e.type&&e.type.val,n=e.link&&e.link.val,i=e.url&&e.url.val;i?h.api.url.val=i:"Article"===t?(h.popup.from.data=e.from,h.popup.from.val="article"):n?(n=n.split("."),t=n[n.length-2],"episodes"===t||"extras"===t||"channels"===t?h.user.navigation.media.$userOrigin=h.content.from.get(n.slice(3)):"shows"===t?h.user.navigation.show.$userOrigin=h.content.from.get(n.slice(3)):"seasons"===t&&(h.user.navigation.season.$userOrigin.val=h.content.from.get(n.slice(3)),h.user.navigation.show.$userOrigin=h.content.from.get(n.slice(3,5)))):console.warn("There is no behaviour defined for this slide.")}}}),model:{subscription:{url:!0,link:!0,type:!0}}})),m=new c({css:"ui-roll",x:{data:"carousel",transform:function(e,t){return isNaN(t)&&(t=t._val||0),this._pos=t,t*this.node.offsetWidth||0},animation:{time:{val:36,phone:18},easing:"outCubic"},listen:h.w},collection:{data:"marquee",element:v},touch:{events:{grab:{x:!0,pass:function(e,t){if(Math.abs(t.x)>Math.abs(t.y))return l=!0,!0},up:s}}},model:{complete:function(){var e=this;e.x._p=!0,window.requestAnimationFrame(function(){e.x&&(e.x.update(),e.x._p=null)}),this.model={complete:null}}}}),g=new c({css:"ui-car-buttons",prevBtn:new d({icon:"leftnav",events:{click:function(){var e=this.parent.parent.roll,t=e._pos;t<0&&r(e,t+1)}}}),nextBtn:new d({icon:"rightnav",events:{click:function(){var e=this.parent.parent.roll,t=0|e._pos;t-1>-e.children.length&&r(e,t-1)}}})}),y=new c({css:"ui-dots",collection:{data:"marquee",element:new c({events:{click:function(){r(this.checkParent("roll",!0),-o(this))}}})}});y.extend({dotFocus:function(e){for(var t=-e.val||0,n=this.children,i=n.length-1;i>=0;i--){var o=n[i];i===t?o.css="dot-focus":o.css=!1}}});var _=new c({on:{$remove:{defer:function(e){clearTimeout(a)}}},tablet:{bgTeaser:{}},roll:m,"desktop.buttons":g,dotholder:{dots:new y.Class({dotFocus:{data:"carousel"}})}});f.tablet&&(_.h={val:h.w,multiply:9/16,max:{val:h.h,multiply:.5}}),t.exports=n=_,n.Dots=y.Class,n.Buttons=g.Class,n.Roll=m.Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/discover/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/frame":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/frame.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/first/discover/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("./carousel"),s=e("old-vigour-js/browser/cases"),r=e("./lists"),a=e("../../ad").Billboard,l=new i({css:"first-discover",x:{translate:!0},"!phone.ad":new a,carousel:new o.Class,touch:{scrollbar:"y",on:{$render:{defer:function(e){var t=this._parent._caller;n.scrollTop&&window.requestAnimationFrame(function(){t._node&&(t.node.scrollTop=n.scrollTop||s.touch&&1)}),e()}}},model:{complete:function(){this.node.scrollTop=n.scrollTop||s.touch&&1,this.model={complete:null}}}},lists:r,"events.scroll":function(){var e=this.node,t=n.scrollTop=e.scrollTop;if(s.$hasReceiver.val){var i=e.getBoundingClientRect();this.data.scroll.$userOrigin=t/(e.scrollHeight-i.height)}}});t.exports=l.Class},{"../../ad":"/Users/shawn/Work/mtv-play/components/ad/index.js","./carousel":"/Users/shawn/Work/mtv-play/components/first/discover/carousel.js","./lists":"/Users/shawn/Work/mtv-play/components/first/discover/lists.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/discover/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/discover/lists.js":[function(e,t,n){function i(){var e,t=this.data.link.val;this.parent.header&&this.parent.header.text.val||this.parent.parent.header&&this.parent.parent.header.text.val;t&&(this._stayActive=!0,t=t.split("."),e=t[t.length-2],"episodes"===e||"extras"===e||"channels"===e?o.user.navigation.media.$userOrigin=o.content.from.get(t.slice(3)):"shows"===e?o.user.navigation.show.$userOrigin=o.content.from.get(t.slice(3)):"seasons"===e&&(o.user.navigation.season.$userOrigin.val=o.content.from.get(t.slice(3)),o.user.navigation.show.$userOrigin=o.content.from.get(t.slice(3,5))))}var o=e("old-vigour-js/app/"),s=e("old-vigour-js/browser/cases"),r=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/app/ui/element")),a=e("../../icon"),l=e("../../img"),c=e("../../item"),u=e("../../text"),d=e("../../epg_temp"),p=(u.Title,c.TitleSubtitle),h=s.phone?150:220,f=new r({x:{translate:!0},img:new l({h:{val:152,phone:100},w:{val:220,phone:150}}),txt:new p}),v=new f.Class({model:{subscription:{link:!0}},txt:{subtitle:{text:{data:"subtitle"}}},events:{active:"ui-item-clicked",click:i}}),m=new r({css:"list",on:{$render:{defer:function(e){var t=this._parent._caller,n=t.scroller.children.length;t.display=n?"block":"none",e()}}},header:{},scroller:{css:"preload",scrollbar:"x",x:{translate:!0},y:{translate:!0},collection:{data:!0,element:v},touch:{events:{scroll:function(){this.css=""}}}},"model.complete":function(){if(this.scroller){var e=this.scroller.children.length;this.display=e?"block":"none"}}}).Class;t.exports=new r({action:new c({ontv:{"text.dictionary":"text.onTv"},program:{text:{data:"title"}},arrow:new a({icon:"arrowright"}),events:{active:"action-clicked",click:function(){this._link&&(this._stayActive=!0,this.checkParent("on.media",!0).$userOrigin=o.cloud.data.get(this._link))}},model:{subscription:{$:{epgid:!0}},val:function(e){e.channels&&d.anyNow.call(this,e.channels)}}}),allshows:{"text.dictionary":"text.nav.allShows",events:{active:"ui-item-clicked",click:function(){this._stayActive=!0,this.checkParent("on.page",!0).$userOrigin="shows"}}},watched:new m({css:"list watched",header:{text:{dictionary:"text.showsYouWatch"}},scroller:{collection:{data:"watched",element:new v.Class({events:{active:"ui-item-clicked",click:function(){o.user.navigation.media.$userOrigin=this.data.media.from}},model:function(e){var t=e.media&&e.media.from._contentPath;t&&(this.img.cover.data=o.user.usage.from.get(t),this.txt.subtitle.data=e.media.from,this.model=!1)},img:{background:{data:"show.img"},cover:{model:{inherit:!1},desktop:{percentage:{text:{data:"time",transform:function(e,t){var n=Math.floor(100*t);return n?Math.abs(n)+"%":""}}}},bar:{y:{tablet:147,phone:95},w:{data:"time",transform:function(e,t){return isNaN(t)?0:Math.abs(t)*h}}}}},txt:{title:{text:{data:"show.title"}},subtitle:new u.Subtitle({model:{inherit:!1}})}})}}}),releases:new m({header:{text:{dictionary:function(){var e=o.region.val;if(e){var t=o.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row1."+t}},listen:o.user.role}},scroller:{collection:{data:"releases",desktop:{element:new c.Large({info:{txt:{title:{text:{data:"title"}},subtitle:{text:{data:"subtitle"}}}},events:{active:"ui-item-clicked",click:i},crawler:{href:{data:"link",transform:function(e,t){if(t){var n,i,o,s=t.split("."),r=s.length,a=s[r-2];return"episodes"===a||"extras"===a?(n=s[4],i=s[6]+1,o=s[8]+1,"shows/"+n+"/"+i+"/"+o||""):"seasons"===a?(n=s[4],i=s[6]+1,"shows/"+n+"/"+i):"shows"===a?(n=s[4],"shows/"+n):"channels"===a?(n=s[4],"channels/"+n):void 0}}},attr:{onclick:"return false"}}})}}}}),recommended:new m({header:{text:{dictionary:function(){var e=o.region.val;if(e){var t=o.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row2."+t}},listen:o.user.role}},scroller:{collection:{data:"recommended"}}}),free:new m({header:{text:{dictionary:function(){var e=o.region.val;if(e){var t=o.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row3."+t}},listen:o.user.role}},scroller:{collection:{data:"free"}}})})},{"../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/discover/style.less":[function(e,t,n){e("../../../common.less")},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/epg/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/data"),s=e("old-vigour-js/app/"),r=e("../../icon"),a=e("../../item"),l=e("../../player/seekbar"),c=e("../../epg_temp"),u=(e("old-vigour-js/browser/cases"),e("old-vigour-js/value")),d=c.clockTime,p=c.minutesSinceMidnight,h=(new u({val:360,phone:s.w,sub:30}),new i({holder:{txt:new a.TitleSubtitle({subcontainer:{subtitle:{text:{data:"minutes_since_midnight",transform:d}},seekbar:{text:" - ",css:"subtitle"},endtime:{css:"subtitle",text:{data:"endtime",transform:d}}}})},border:{}}).Class);t.exports=n=new i({message:{icon:new r({icon:"empty"})},container:{list:{touch:{scrollbar:"y",h:{val:s.h,sub:{val:40,iosFull:60,add:{phone:{val:s.w,divide:16/9}}}}},collection:{data:!0,element:new h,filter:{condition:{endtime:{$gt:p}}}},model:{complete:function(){var e=this,t=this.children[0],n=this.parent.parent.message;if(!t)return n.icon.icon="warning",void(n.text={dictionary:"text.noEPG"});n.icon.icon="",n.text="";var i=t.data.minutes_since_midnight.val,s=t.data.endtime.val,r=t.data.duration.val,a=~~(6e4*(s-p()))+3e3,c=t.holder.txt.subcontainer.seekbar;if(!c.seek&&r){t.set({"holder.txt.subcontainer.seekbar":new l({seek:{w:{data:"time"}},button:!1,data:new o({time:(p()-i)/r})})}),this._interval&&clearInterval(this._interval);var e=this;this._interval=setInterval(function(){if(t&&t.holder&&t.holder.txt){var n=p()-i;t.holder.txt.subcontainer.seekbar.data.time.val=n/r}else clearInterval(e._interval),e._interval=null},1e3)}a>0&&(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){e.updateData(),e._timer=null},a+2e3))}}},model:{inherit:!1}},phone:{position:"absolute"},model:{field:"media",subscription:{epgid:!0},val:function(e){var t,n=e.epgid&&e.epgid.val;void 0!==n&&(t=c(n),this.container.data=t,this.model=!1)}}}).Class,n.base.container.list.setSetting({name:"remove",remove:function(){this._timer&&clearTimeout(this._timer),this._interval&&clearInterval(this._interval)}})},{"../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../../player/seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/epg/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/components/first/epg/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/favourite/index.js":[function(e,t,n){e("./style.less");var i=e("../../icon"),o=e("old-vigour-js/browser/cases"),s=e("old-vigour-js/app/");t.exports=new i({icon:{data:"showusage.favourite",transform:function(e,t){return!t||"true"!==t&&t!==!0?(this.css="ui-icon","favoriteadd"):(this.css="ui-icon favorited","favorite")}},"events.click":function(){if(o.$isLoggedIn.val){var e=this.data.showusage.$userOrigin;e.favourite&&e.favourite.val?e.val={favourite:!1}:e.val={favourite:!0}}else s.popup.from.val="roadblock"}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/favourite/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/favourite/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/index.js":[function(e,t,n){function i(e){var t=this._parent,n=t._caller,i=this.$userOrigin;return!i.val||(n.miniplayer||(n.miniplayer=new y({on:{usage:t.usage.from,msmedia:i,volume:t.volume.from},data:{media:i,mediausage:t.usage.from.get(i.from._contentPath),volume:t.volume.from},play:{icon:t.play},y:d.phone&&"channels"===i.from._parent._name?24:0}),n.add(n.miniplayer,d.phone&&"topmenu")),void e())}function o(t,n){var i=this._parent._caller;if(this.val&&!i.popupWindow){g||(g=e("../popup"));var o=new g({name:"popupWindow",on:{user:u.user,language:u.user.language,token:u.user.token,newsletter:u.user.newsletter,overlay:u.overlay,loading:u.loading,popup:u.popup}});i.add(o,i.notification),i.popupWindow.on.popup._update()}t()}function s(e,t){var n=this._parent._caller;this.val&&!n.notification&&(n.set({notification:new m({on:{notification:u.notification}})}),n.notification.on.notification._update()),e()}function r(e,t){var n=this._parent._caller,i=n.loader,o=n.cancel,s=n.checkParent("on.overlay",!0),r=this;this.clearCache(),n._cancelTimer&&(clearTimeout(n._cancelTimer),n._cancelTimer=null),this.val?(s.val||(s.from.val="loading"),i||(n.set({loader:new _}),n._cancelTimer=setTimeout(function(){n.set({cancel:{btn:{text:"cancel"},events:{click:function(){r.from.val=!1}}}}),n._cancelTimer=null},8e3))):this.val||(o&&o.remove(),i&&i.remove(),"loading"===s.val&&(s.from.val=!1)),e()}function a(e){var t=this._parent._caller;t._cancelTimer&&clearTimeout(t._cancelTimer),e()}e("./style.less");var l,c=e("old-vigour-js/app/ui/element"),u=e("old-vigour-js/app/"),d=e("old-vigour-js/browser/cases"),p=e("./menu"),h=e("../icon"),f=e("../ad"),v=f.Interstitial;f.Billboard;if(d.tv)l=e("./tv"),t.exports=n=new c({css:"first-state",sidemenu:new p.Sidemenu,w:{parent:"w"},h:{parent:"h"},switcher:new l({position:"absolute",h:{parent:"h"}})}).Class;else{var m=e("./notification");l=e("./switcher");var g,y=e("./miniplayer"),_=(e("../player"),e("./watch"),e("../loader")),w=e("old-vigour-js/browser/events/util").postpone,b=w(function(e,t){e.topbar&&(e.topbar.display=t?"block":"none",e.switcher.y=t?40:0,e._block=!0,e.w.update())},100);d.phone?t.exports=n=new c({css:"first-state",ad:new v,on:{popup:{defer:o},notification:{defer:s},loading:{defer:r},$remove:{defer:a},$render:{defer:function(e){var t=this._parent._caller,n=t.section;n.on.msmedia._update(),t.on.popup._update(t.on.popup.val),e()}}},w:{parent:"w"},h:{parent:"h"},section:{on:{msmedia:{init:i}},w:{parent:"w"},h:{parent:"h"},switcher:new l({position:"absolute",y:{translate:!0,val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}},h:{parent:"h",sub:{val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}}}}),linkback:{position:"absolute",y:{translate:!0,val:p.Topbar.base.h,sub:{val:30,$fromMtvSite:0}},title:{text:{dictionary:"text.backlink"}},close:new h({icon:"close","events.click":function(e){e.prevent=!0,e.preventDefault(),d.$fromMtvSite.val=!1}}),"events.click":function(){document.location.href=u.fromMtvSite}},topmenu:new p.Topmenu({on:{menu:u.menu}}),topbar:new p.Topbar({display:{desktop:"none"}})}}).Class:t.exports=n=new c({css:"first-state",on:{state:{defer:function(e){var t=this.from.val,n=this._parent._caller,l=n.section;"first"!==t||n.w||(n.set({on:{popup:{
defer:o},notification:{defer:s},loading:{defer:r},$remove:{defer:a},fullscreen:{val:d.$isFullscreen,defer:function(e){var t=this._parent._caller.section;t.x._p=!0,window.requestAnimationFrame(function(){t&&t.x&&(t.x._p=null)}),e()}}},w:{parent:"w"},h:{parent:"h"},sidemenu:new p.Sidemenu({data:u.user.navigation}),section:{on:{msmedia:{init:i}},x:{val:d.tablet?{val:0,$isFullscreen:0}:{val:200,$isFullscreen:0},animation:{time:18,easing:"outCubic"}},w:{parent:"w",desktop:{sub:{self:"x"}}},h:{parent:"h"},switcher:{position:"absolute",h:{parent:"h"},touch:{y:{translate:!0,val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30,$isFullscreen:0},$isFullscreen:0},h:{sub:{val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}}}}}}}),l.on.msmedia._update(),n.on.popup._update(n.on.popup.val),d.desktop&&(l.x._p=!0,l.x={val:u.w,defer:function(e,t){t[0]?(this._p=!0,e(),this._p=null):e()},transform:function(e,t){if(d.$isFullscreen.val)return 0;var n=u.w.val<1300;return this._block?this._block=null:b(this,n),n&&!u.menu.val?0:200}},l.x._p=null)),l.x._p=!0,window.requestAnimationFrame(function(){l.x&&(l.x._p=null)}),e()}},$parent:{defer:function(e){this._parent.state._update(),e()}}},sidemenu:{},section:{x:{translate:!0},switcher:new l,tablet:{linkback:{position:"absolute",y:{translate:!0,val:p.Topbar.base.h,sub:{val:30,$fromMtvSite:0}},title:{text:{dictionary:"text.backlink"}},close:new h({icon:"close","events.click":function(e){e.prevent=!0,e.preventDefault(),d.$fromMtvSite.val=!1}}),"events.click":function(){document.location.href=u.fromMtvSite}}},topbar:new p.Topbar({display:{desktop:"none"}})}}).Class,n.base.set({overlay:{display:"none","events.click":function(){var e=this.parent.on.loading,t=this.parent.on.popup;e.val||(t.from=!1)}},on:{overlay:{defer:function(e,t){var n=this.from;return!n||(n.val?this._parent._caller.overlay.display.val="block":n.val||(this._parent._caller.overlay.display.val="none"),void e())}}}})}},{"../ad":"/Users/shawn/Work/mtv-play/components/ad/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../loader":"/Users/shawn/Work/mtv-play/components/loader/index.js","../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../popup":"/Users/shawn/Work/mtv-play/components/popup/index.js","./menu":"/Users/shawn/Work/mtv-play/components/first/menu/index.js","./miniplayer":"/Users/shawn/Work/mtv-play/components/first/miniplayer/index.js","./notification":"/Users/shawn/Work/mtv-play/components/first/notification/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/style.less","./switcher":"/Users/shawn/Work/mtv-play/components/first/switcher/index.js","./tv":"/Users/shawn/Work/mtv-play/components/first/tv/index.js","./watch":"/Users/shawn/Work/mtv-play/components/first/watch/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js"}],"/Users/shawn/Work/mtv-play/components/first/menu/casticon.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=(e("../../item"),e("../../img"),e("../../icon")),s=(e("../../text"),e("old-vigour-js/app/")),r=e("../../loader"),a=new i({css:"relative-size",text:s.user.devices.$length,display:"relative",opacity:{val:0,$isLoggedIn:1}}).Class;t.exports=n=new i({content:new o({icon:"cast",scale:{val:1,animation:{start:1,time:18,easing:"outCubic",done:function(){this.scale.val=1}}},display:"block",number:new a,css:{$hasReceiver:"ui-icon hasReceiver"},opacity:{val:.5,$hasDevices:{val:.5,$isLoggedIn:1}},"events.click":function(e){e.prevent=!0;var t=this.checkParent("on.popup",!0);t.from="devices"}}),css:"ui-icon cast","!$connected":{content:{display:"none"},loader:new r.Simple}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../../loader":"/Users/shawn/Work/mtv-play/components/loader/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/menu/index.js":[function(e,t,n){function i(e){return l.phone?function(){this.checkParent("topmenu",!0).hide(),c.user.navigation.page.$userOrigin=e}:l.tablet?function(){this.checkParent("section",!0).x=0,c.user.navigation.page.$userOrigin=e}:function(){c.user.navigation.page.$userOrigin=e}}function o(e){if(e.prevent=!0,l.touch){var t=this._d,n=void 0===t||t&&!t.__t;if(n)if(l.phone){var i=this.checkParent("topmenu",!0);i.toggle()}else{var o=this.checkParent("section",!0),s=o.x.val,r=this.parent.caret,a="closeMenu";s?(o.x=0,r.rotate=-90):(o.x=200,r.rotate=90,o.node.style.pointerEvents="none",c.addEvent("click",function(e){o.x=0,r.rotate=-90,c.removeEvent(!1,a),o.node.style.pointerEvents="auto"},a))}else this.checkParent("switcher",!0).back()}else{var o=this.checkParent("section",!0),s=o.x.val,r=this.parent.caret,a="closeMenu";s?(c.menu.val=!1,o.x.update(),r.rotate=-90):(c.menu.val=!0,r.rotate=90,o.x.update(),o.node.style.pointerEvents="none",c.addEvent("click",function(e){c.menu.val=!1,o.x.update(),r.rotate=-90,c.removeEvent(!1,a),o.node.style.pointerEvents="auto"},a))}}e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("../../icon"),a=e("../../text"),l=e("old-vigour-js/browser/cases"),c=e("old-vigour-js/app/"),u=e("./casticon"),d=e("old-vigour-js/app/dictionary"),p=d.get("text.nav.television"),h=d.get("text.nav.shows"),f=new a.Title({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.data=c.content.get([this._name,"list","0"]),e.val="article"},css:"term"}).Class,v=new a.Title({mtv:new f({display:{val:function(){var e="DE"===c.region.val||"DK"===c.region.val||"NO"===c.region.val;return e&&!c.cases.native?"block":"none"}},css:"menu-item",lefticon:new r({icon:"music"}),title:new f({text:{val:"MTV."+c.region.val},node:"a",css:"menu-item",href:{transform:function(e,t){var n=c.region.val.toLowerCase();return"http://mtv."+n}},"events.click":function(e){e.prevent=!0,window.open(this.href.val,"_system")},attr:{onclick:"return false"}})})}).Class,m=new s({append:[new s({tv:{text:{data:"page",transform:function(e,t){return t===this.name&&"menu"===c.focusState.val&&this.$focus(),"menu"!==c.focusState.val&&this._$focused&&this.$focus(!1,!0),""},listen:c.focusState},css:"menu-item"},events:{arrowUp:function(){this.$prev.val&&this.$prev.val.events.click._val.call(this.$prev.val)},arrowRight:function(){"settings"!==this.name&&(c.focusState.from.val="grid")},$focus:function(e){if(e){var t,n=this.parent&&this.parent.children;if(n){for(var i=n.length-1;i>=0;i--)t=n[i],t!==this&&(t.css.val="menu-item");this.css.val="menu-item current"}}},arrowDown:function(){this.$next.val&&this.$next.val.events.click._val.call(this.$next.val)}},"!tv":{css:{data:"page",transform:function(e,t){var n="menu-item",i=n+" current";return"string"==typeof t?t===this.name?i:n:"shows"===this.name?i:n}},lefticon:new r},title:{crawler:{node:"a",attr:{onclick:"return false"}}}}).Class,{name:"discover","!tv.lefticon.icon":"discover","title.text.dictionary":"text.nav.discover","events.click":i("discover"),"title.href":"discover"},{name:"shows","!tv.lefticon.icon":"shows","title.text.dictionary":"text.nav.shows","events.click":i("shows"),"title.href":"shows"},{name:"channels","!tv.lefticon.icon":"tv","title.text.dictionary":"text.nav.television","events.click":i("channels"),"title.href":"channels"},{name:"settings","!tv.lefticon.icon":"settings","title.text.dictionary":l.tv?"text.account.signin.title":"text.nav.settings","tv.display":{val:"table",$isLoggedIn:"none"},"events.click":function(){if(l.tv){this.$focus(!0);var e=this.checkParent("switcher",!0);e&&e.on.signin.update()}else this.checkParent("on.popup",!0).from.val="settings"}}]}).Class;n.Sidemenu=new s({css:l.tv?{val:c.focusState,transform:function(e,t){var n="menu"!==t?" unfocus":"";return"first-menu first-sidemenu"+n}}:"first-menu first-sidemenu","desktop.$fromMtvSite.linkback":{arrow:new r({icon:"leftnav"}),title:{text:{dictionary:"text.backlink"}},"events.click":function(){document.location.href=c.fromMtvSite}},"!tv.logo":new r({icon:"logo"}),items:new m({y:{tv:c.h.val/5-28}}),"!tv.bottom":{button:{display:{val:"block",tv:"none",$isUpgraded:"none"},css:"register",text:{dictionary:{val:"text.account.signup.title",$isLoggedIn:"text.upgrade"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?!l.$isUpgraded.val&&"upgrade":"register"}},login:{css:"button",display:{val:"block",$isLoggedIn:"none"},text:{dictionary:"text.account.signin.title"},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from="login"}},profile:{"!tv.icon":new r({y:-34,icon:{val:"profile",transform:{val:function(e,t){if(c.user.profilepic.val)return"empty"},listen:c.user.profilepic}}}),img:{background:{val:c.user.profilepic,display:{val:function(){return c.user.profilepic.val?"block":"none"},listen:c.user.profilepic}}},"events.click":function(){this.checkParent("on.popup",!0).from.val="profile"}},"!tv.cast":new u({opacity:{"!phone":{"!$isLoggedIn":0}}})},"!tv.terms":{display:{val:function(){return c.h.val<=600?"none":"block"},listen:c.h},mtv:new v({}),imprint:new f({"text.dictionary":"text.imprint"}),privacy:new f({"text.dictionary":"text.privacy"}),terms:new f({"text.dictionary":"text.terms"})}}).Class,n.Topbar=new s({css:"first-menu first-topbar",on:{page:{defer:function(e,t){var n=this._parent._caller,i=this.from.val,o="first-menu first-topbar toplevel";"discover"===i?(n.css=o+" logo",n.holder.title.text.val={transform:""}):(n.css=o,n.holder.title.text.val={transform:"channels"===i?p:h}),n.data={title:i,icon:i},e()}},show:{defer:function(e,t){var n=this._parent._caller;n.parent.topmenu;n.holder.title.text.val={transform:!1},n.data=this.from.val,n.css="first-menu first-topbar",e()}},media:{defer:function(e,t){var n=this._parent._caller;n.parent.topmenu;n.holder.title.text.val={transform:!1},n.data=this.from.val,n.css="first-menu first-topbar",e()}},$parent:function(e,t){e()}},h:{val:40,iosFull:60},holder:{lefticon:new r({icon:l.desktop?"menu":{data:"title",transform:l.phone?function(e,t){var n=this._d,i=n&&!n.__t;return void 0===n?"menu":i?"channels"===t?"tv":t:"arrowleft"}:function(e,t){var n=this._d,i=n&&!n.__t;return i?"menu":"arrowleft"}},"events.click":o}),caret:new r({icon:"dropdown","!phone":{rotate:-90},"events.click":o}),title:{text:{data:"title",default:""}},righticon:new u},"events.click":function(e){e.prevent=!0;var t=this._d,n=void 0===t||t&&!t.__t;if(n&&l.touch){var i=this.holder.lefticon;i.events.click._val.call(i,e)}}}).Class,n.Topmenu=new s({css:"first-menu first-topmenu",position:"absolute",h:{parent:"h",sub:n.Topbar.base.h},on:{menu:{defer:function(e,t){var n=this._parent._caller;this.clearCache(),this.val?n.show():n.hide(),e()}},$render:{defer:function(e){this._parent.menu._update(),e()}}},y:{translate:!0,val:-c.h.val,add:n.Topbar.base.h},bottom:{position:"absolute",y:256,h:{parent:"h",sub:256},terms:{imprint:new f({"text.dictionary":"text.imprint"}),privacy:new f({"text.dictionary":"text.privacy"}),terms:new f({"text.dictionary":"text.terms"}),mtv:new v({})}},top:{items:new m,account:{css:"menu-item",left:{css:{val:"profile",$isUpgraded:"$isUpgraded"},picture:{display:{val:"none",$isLoggedIn:"block"},icon:new r({icon:{val:"profile",transform:{val:function(e,t){if(c.user.profilepic.val)return"empty"},listen:c.user.profilepic}}}),img:{background:{val:c.user.profilepic,display:{val:function(){return c.user.profilepic.val?"block":"none"},listen:c.user.profilepic}}}},text:{dictionary:{val:"text.account.signin.title",$isLoggedIn:"text.profile"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?"profile":"login"}},right:{css:{val:"register",$isLoggedIn:"upgrade"},display:{val:"table-cell",$isUpgraded:"none"},text:{dictionary:{val:"text.account.signup.title",$isLoggedIn:"text.upgrade"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?"upgrade":"register"}}}}}).Class,n.Topmenu.base.define({hide:function(){this.y=-this.h.val,this.parent.topbar.holder?this.parent.topbar.holder.caret.rotate=0:console.error("!ERROR this.parent.topbar.holder.caret",this)},show:function(){this.y=0,this.parent.topbar.holder.caret.rotate=180},toggle:function(){var e=this.y.val<0;e?this.show():this.hide()}})},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","./casticon":"/Users/shawn/Work/mtv-play/components/first/menu/casticon.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/menu/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/menu/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/miniplayer/index.js":[function(e,t,n){function i(e){var t=this.node.getBoundingClientRect(),n=t.left,i=(e.x-n)/(t.right-n);r.user.receiver.volume.from.val=i>1?1:i<0?0:i}e("./style.less");var o=e("../../icon"),s=e("../../img"),r=e("old-vigour-js/app/"),a=e("old-vigour-js/app/ui/element"),l=e("../../player/controls"),c=e("../../player/volume"),u=e("old-vigour-js/browser/cases"),d=new o({icon:{val:!1,transform:function(e,t){return t?"pause":"play"}},"events.click":function(e){e.prevent=!0;var t=this.checkParent("on.play",!0).from;t.val=!t.val}});t.exports=new a({css:"mini-player",position:"absolute",on:{msmedia:{defer:function(e){var t=this._parent,n=t._caller,i=this.$userOrigin,o=i.val&&"channels"===i.from._parent._name;if(i.val&&(n.data={media:i,mediausage:t.usage.from.get(i.from._contentPath),volume:t.volume.from}),n.y=i.val?u.phone&&o?24:0:u.phone?82:58,!u.phone){var s=n.controls.node.style;o?(s.visibility="hidden",s.pointerEvents="none"):(s.visibility="visible",s.pointerEvents="auto ")}e()}}},y:{translate:!0,val:u.phone?82:58,animation:{time:18,easing:"outCubic"},transform:function(e,t){return u.$hasReceiver.val?t:u.phone?82:58},listen:u.$hasReceiver},clickable:{img:new s({background:{data:"media.img"},h:58,w:{val:115,phone:58}}),info:{title:{text:{data:"media.show.title",default:{dictionary:"text.nowOnTv"}}},subtitle:{text:{data:"media.title"}}},events:{click:function(){var e=this.parent.data.media.from,t=this.checkParent("on.navigation._val",!0);t.media.$userOrigin=e}}},phone:{slider:new o({icon:"volume","events.click":function(e){e.prevent=!0;var t=this.checkParent("section",!0);t.volumepopup?t.volumepopup.remove():t.set({volumepopup:{h:r.h,modal:{css:"move-in",title:{text:"volume"},bar:{css:"ui-seekbar",bg:{},seek:{w:{data:"volume",transform:function(e,t){return t=isNaN(t)||!t&&0!==t?1:t,100*Math.abs(t)+"%"}},data:r.user.receiver},button:{},events:{down:i,drag:i,up:i}},done:{text:"done",events:{click:function(){t.volumepopup.remove()}}},events:{click:function(e){e.prevent=!0}}},events:{click:function(){t.volumepopup.remove()}}}})}})},play:d,controls:new l,"!phone":{volume:new c({bars:{data:"volume"}})},model:{subscription:{epgid:!0}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../player/controls":"/Users/shawn/Work/mtv-play/components/player/controls/index.js","../../player/volume":"/Users/shawn/Work/mtv-play/components/player/volume/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/miniplayer/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/miniplayer/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/notification/config.js":[function(e,t,n){t.exports={timeout:1e4,map:{favourite:{lefticon:{icon:"favoriteadd",css:{addClass:"favorite"}},css:{addClass:"success"},txt:{title:{text:{dictionary:"text.favoriteAdded"}}}},unfavourite:{lefticon:{icon:"favoriteremove",css:{addClass:"unfavorite"}},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.favoriteRemoved"}}}},loginSuccess:{lefticon:{icon:"right"},css:{addClass:"success"},txt:{title:{text:{dictionary:"text.account.signin.success"}}}},loginError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.signin.wrong"}}}},facebookError:{lefticon:{icon:"facebook"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.signin.facebookError"}}}},registerSuccess:{lefticon:{icon:"email"},css:{addClass:""},duration:5e5,txt:{title:{text:{dictionary:"text.verifyEmail.title"}},subtitle:{text:{dictionary:"text.verifyEmail.subtitle"}}}},email:{"txt.title.text.dictionary":"text.account.invalid.email"},emailExists:{"txt.title.text.dictionary":"text.account.signup.already"},registerError:{"txt.title.text.dictionary":"text.account.signin.wrong"},registerErrorExists:{"txt.title.text.dictionary":"text.account.signup.already"},registerErrorInvalid:{"txt.title.text.dictionary":"text.account.signin.wrong"},blankEmail:{"txt.title.text.dictionary":"text.account.signin.wrong"},password:{"txt.title.text.dictionary":"text.account.passwordResetError"},passwordShort:{"txt.title.text.dictionary":"text.account.invalid.password"},noMatchPassword:{"txt.title.text.dictionary":"text.noMatchPassword"},verifyEmailSuccess:{lefticon:{icon:"email"},css:{addClass:"success"},duration:5e5,txt:{title:{text:{dictionary:"text.account.verifyEmailSuccess.title"}},subtitle:{text:{dictionary:"text.account.verifyEmailSuccess.subtitle"}}}},verifyEmailError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.verifyEmailError"}}}},operatorUpgradeError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.operator.credentials.wrong"}}}},operatorWrongCredentials:{lefticon:{icon:"wrong"},css:{addClass:"error"},"txt.title.text.dictionary":"text.operator.credentials.wrong"},operatorCredentialsTooOften:{lefticon:{icon:"wrong"},css:{addClass:"error"},"txt.title.text.dictionary":"text.operator.credentials.used"},operatorEmailTaken:{lefticon:{icon:"wrong"},css:{addClass:"error"},"txt.title.text.dictionary":"text.operator.credentials.account"},appUpgrade:{lefticon:{icon:"warning"},duration:5e8,txt:{title:{text:{dictionary:"text.versionAvailable"}},"events.click":function(e){window.location.reload()}}},enable4g:{txt:{title:{text:{dictionary:"modal.warning.cellular.title"}},subtitle:{text:{dictionary:"modal.warning.cellular.subtitle"}}}},passwordForgot:{"txt.title.text.dictionary":"text.account.forgot.success"},passwordForgotError:{"txt.title.text.dictionary":"text.account.forgot.wrong"},passwordReset:{"txt.title.text.dictionary":"text.account.passwordReset"},passwordResetError:{"txt.title.text.dictionary":"text.account.passwordResetError"},invalidPasswordToken:{"txt.title.text.dictionary":"text.account.passwordResetError"},resetTokenExpired:{"txt.title.text.dictionary":"text.account.passwordResetError"},shareSuccess:{"txt.title.text.dictionary":"share.success"},shareError:{"txt.title.text.dictionary":"share.failed"},mobileUpgradeSuccess:{"txt.title.text.dictionary":"text.hoorayMobileTitle"},mobileUpgradeError:{"txt.title.text.dictionary":"modal.warning.unabletoverify"},mobileVerifySuccess:{"txt.title.text.dictionary":"text.verifysuccess"},mobileVerifyError:{"txt.title.text.dictionary":"text.verifyfail"},invalidNumber:{"txt.title.text.dictionary":"text.verifyfail"},numberExists:{"txt.title.text.dictionary":"text.verifytaken"},purchaseError:{"txt.title.text.dictionary":"text.account.purchaseError"},upgraded:{"txt.title.text.dictionary":"text.upgradedMessage"},subscription:{"txt.title.text.dictionary":"text.account.purchaseError"},singleEpisodePurchased:{"txt.title.text.dictionary":"singleEpisodePurchased"},invalid:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.invalidEntry"}}}},expired:{"txt.title.text.dictionary":"text.invalidEntry"},terms:{"txt.title.text.dictionary":"text.invalidEntry"},privacy:{"txt.title.text.dictionary":"text.invalidEntry"},invalidEmail:{"txt.title.text.dictionary":"text.account.forgot.wrong"},mobileTimeout:{"txt.title.text.dictionary":"text.mobileTimeout"}}}},{}],"/Users/shawn/Work/mtv-play/components/first/notification/index.js":[function(e,t,n){e("./style.less");var i=e("../../icon"),o=e("../../item"),s=e("old-vigour-js/app/ui/switcher"),r=e("./config"),a=e("old-vigour-js/browser/cases"),l=r.map,c=new o({on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},position:"absolute",y:{val:40,iosFull:64,animation:{start:0,time:18,easing:"outCubic",complete:function(){var e=this.duration;if(e){var t=this;this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t&&t.parent&&(t.parent.remove(),t.css={addClass:"fade-out"}),this._timer=null},e)}}}},lefticon:new i({icon:"warning"}),txt:{title:{text:""},subtitle:{text:{val:"",defer:function(e){this._caller.display=this._val?"block":"none",e()}}}},"events.click":function(){var e=this.checkParent("on.notification",!0).from;e.val=!1},righticon:new i({icon:"close",events:{click:function(e){e.prevent=!0;var t=this.checkParent("on.notification",!0).from;t.val=!1}}})}).Class;t.exports=new s({css:"first-notification",y:{val:-40,iosFull:-64},iosFull:{},on:{notification:{defer:function(e,t){var n,i=this._parent._caller,o=this.from,s=o.val;if("appUpgrade"===s&&!a.native)return void e();if(t[0]===!1){var u=i.node.childNodes[i.node.childNodes.length-1].base;u.css={addClass:"fade-out"},u._timer=setTimeout(function(){i.remove()},500)}else{n=o.type,n&&"api"!==n&&(s=n,o.type=null);var d=l[s]&&l[s].duration||r.timeout;i.transition={element:c,$params:l[s]||{txt:{title:{text:s}}},$options:{force:!0,duration:d}},this._timer&&(clearTimeout(this._timer),this._timer=null),setTimeout(function(){o.val===s&&(o.val=!1),this._timer=null},d)}e()}}},onTransition:function(e,t,n,i){this.add(e),e.duration=i.duration,t&&(t.css={addClass:"fade-out"})}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./config":"/Users/shawn/Work/mtv-play/components/first/notification/config.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/notification/style.less","old-vigour-js/app/ui/switcher":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/notification/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/overview/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("./item"),s=e("../../ad").Billboard;t.exports=n=new i({css:"first-overview","touch.scrollbar":"y",x:{translate:!0},"!phone.ad":new s({attr:{id:"leaderboard"}})}).Class,n.Items=new i({pageheader:{}}).Class,n.Item=o},{"../../ad":"/Users/shawn/Work/mtv-play/components/ad/index.js","./item":"/Users/shawn/Work/mtv-play/components/first/overview/item.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/overview/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/overview/item.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/"),o=e("old-vigour-js/app/ui/element"),s=e("../../icon"),r=e("../../img"),a=e("old-vigour-js/browser/cases"),l=e("../../epg_temp"),c=e("../../item"),u=e("../../player/seekbar"),d=(c.TitleSubtitle,l.clockTime),p=e("old-vigour-js/app/dictionary"),h=a.touch?new c.Thumb({display:"table"}):new c.Large({display:"inline-block"});if(a.slow||((a.touch?h.thumb.img:h.thumb).background={load:function(e){e.opacity=1}}),t.exports=n=h.set({events:{active:"ui-item-clicked"}}).Class,!a.touch){var f=p.get("text.noEPG");n.Tv=new o({css:"ui-item-large tv",display:"inline-block",thumb:new r.Overlay({w:310,h:221,access:new s({on:{data:"id"},icon:{data:"access",transform:function(e,t){var n=i.util.access(t,this.data);return"playAlt"===n?"empty":n},listen:i.user.role}})}),info:{title:{css:"ui-item-text",text:{data:"title"}},"now.text.dictionary":"text.now",epg:{showtitle:{text:{data:"title"}},time:{text:{val:{data:"minutes_since_midnight",transform:d,add:[" - ",{data:"endtime",transform:d}]},transform:function(e,t){var n=this.data;return n&&n.val?t:f.val},listen:p}},bar:new u({w:{val:221,clear:!0},seek:{w:{val:221,multiply:{val:l.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"}},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.info.epg.data=l.now(t),this.model=!1)}},events:{click:function(){this.checkParent("on.media",!0).$userOrigin=this.data.from}}}).Class}},{"../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../../player/seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/overview/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/overview/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/seasons/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("../../icon"),s=e("../../img"),r=e("../../text"),a=e("../favourite"),l=e("old-vigour-js/app/"),c=e("old-vigour-js/browser/cases"),u="dropDownEventId",d=e("old-vigour-js/app/dictionary"),p=d.get("text.season"),h=d.get("text.episode"),f=d.get("text.min"),v=d.get("text.specials"),m=new i({collection:{data:"season.episodes",filter:!0,element:new i({model:function(e){var t=e._contentPath;t&&!~t.indexOf("channels")&&(this.holder.thumb.cover.data=l.user.usage.from.get(t),this.model=!1)},holder:{crawler:{node:"a",href:{data:function(e){return l.user.$parse(e).url||""}},attr:{onclick:"return false"}},thumb:{w:100,img:new s({w:100,h:75}),cover:{y:c.desktop?-75:-5,h:c.desktop?75:5,model:{inherit:!1},desktop:{percentage:{text:{data:"time",transform:function(e,t){var n=Math.floor(100*t);return n?Math.abs(n)+"%":""}}}},bar:{w:{data:"time",transform:function(e,t){return isNaN(t)?0:100*Math.abs(t)}}}}},txt:{title:new r.Title,subtitle:{text:{data:"number",transform:function(e,t){return t>9e3?"":h.val+" "+t+" - "},add:{data:"duration",transform:function(e,t){return t?~~(t/60)+" "+f.val:""},listen:d}}}},righticon:new o({on:{data:"id"},icon:{data:"access",transform:function(e,t){var n=l.util.access(t,this.data),i="playAlt"===n?c.desktop?"empty":"arrowright":n;return"lockedContent"===i?"lockedContentAlt":i},listen:[l.user.role,l.user.purchases]}})},border:{},"events.click":function(){l.user.navigation.media.$userOrigin=this.data.from}})}}).Class;t.exports=new i({on:{media:{defer:function(e,t){var n=l.user.navigation.media.from.val;if(n){var i=this._parent._caller,o=i.list.find("data",n);o&&!o.css.val&&(i.prev&&(i.prev.css=!1),o.css="current",i.prev=o)}e()}}},title:{text:{val:{dictionary:"text.episodes"},tablet:{data:"show.title"}}},tablet:{favourite:new a},list:{tablet:{scrollbar:"y",h:{val:l.h,sub:{val:99,iosFull:119}}},eps:new m({display:{val:!0,transform:function(e,t){return t===!1?"none":"block"}},model:{complete:function(e){this.parent&&this.parent.parent.on.media._update()}}}),extrasHeader:{display:{data:"season.extras",transform:function(e,t){return t&&t[0]?"block":"none"}},text:{dictionary:"text.extras"}},extras:new m({collection:{data:"season.extras"}})},dropdown:{h:30,on:{$remove:{defer:function(e){l.removeEvent(!1,u),e()}}},current:{text:{data:"season.number",transform:function(e,t){return 9e3!==t?p.val+" "+t:v.val},listen:d},caret:new o({icon:"dropdown"})},collection:{data:"show.seasons",filter:!0,element:new i({crawler:{node:"a",attr:{onclick:"return false"},href:{data:function(e){return"shows/"+e._parent._parent._name+"/"+e.number+"/1"||""}},attr:{onclick:"return false"}},text:{data:"number",transform:function(e,t){return 9e3!==t?p.val+" "+t:v.val},listen:d},"events.click":function(){var e=this.data.from;l.user.navigation.season.$userOrigin=e,e.get("episodes")}})},"events.click":function(){var e=this.children.length,t=this;30===this.h.val&&e>2?(this.h=30*e+4,l.addEvent("click",function(){t.h&&(t.h=30),l.removeEvent(!1,u)},u)):this.h=30},"model.complete":function(){this.children.length<=2?this.css={addClass:"inactive"}:this.css={removeClass:"inactive"}}},model:function(e){e.media&&(this.model=!1)}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","../favourite":"/Users/shawn/Work/mtv-play/components/first/favourite/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/seasons/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/seasons/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/show/cover.js":[function(e,t,n){e("./style.less");var i=e("../../img"),o=(e("../../text").TitleSubtitle,
e("old-vigour-js/app/ui/element"),e("old-vigour-js/browser/cases"),e("./switcher"),e("../favourite")),s=(e("old-vigour-js/app/"),new i({background:{data:"show.img"},h:{val:220,ios:{animation:{time:24,easing:"outCubic"}}},w:{parent:"w"},info:{position:"absolute",y:{translate:!0},opacity:{parent:"h",transform:function(e,t){return 440/t-1}},box:{star:new o,description:{model:{subscription:{description:!0}},text:{data:"show.description",transform:function(e,t){if(!t.length)return t;var n=t.slice(0,300),i=Math.max(Math.max(n.lastIndexOf("."),n.lastIndexOf("!")),n.lastIndexOf("?"));return~i?n.slice(0,i+1):n+".."}}}}}}).Class);t.exports=n=s},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","../favourite":"/Users/shawn/Work/mtv-play/components/first/favourite/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/show/style.less","./switcher":"/Users/shawn/Work/mtv-play/components/first/show/switcher.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/show/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/browser/cases");if(i.phone){var o=e("old-vigour-js/app/ui/element"),s=e("./switcher"),r=(e("./list"),e("./cover")),a=e("old-vigour-js/browser/events"),i=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/app/"),c=(a.document,e("../overview/item"),e("../favourite")),u=(e("../../player"),new o({css:"show",x:{translate:!0},model:function(e){if(e.show){var t=e.show._cachedPath;t&&(n.state&&n.state.path===t&&this.set(n.state.params),this.model=!1)}},on:{$remove:{defer:function(e){var t=this._parent._caller;n.state={path:t.data.show&&t.data.show._cachedPath,params:{cover:{h:t.cover.h.val},switcher:{y:t.switcher.y.val}}},e()}},season:{defer:function(e){var t=this._parent._caller,n=this._val.from;s.set(t.switcher,n._parent,n._name),e()}}},phone:{cover:new r},desktop:{header:{css:"ui-header",append:new o({text:{data:"title"},display:"inline"}),star:c}},switcher:new s({w:l.w}),events:{down:i.ios?function(e){var t=this,n=t.cover,i="seasonmove",o=n.h.val,r=this.switcher._currentList,l=r.node.scrollTop>1;t._y=e.y,n.h._p=!0,t.addEvent("move",function(e){var i=e.y,r=e.x,c=t._y-i,u=!o&&c>0||l;!s.block&&!l&&Math.abs(t._x-r)<Math.abs(c)&&(a.click.block=!0,n.h=n.h.val-c),u||e.preventDefault(),t._y=i,t._x=r},i),t.addEvent("up",function(){a.click.block=!1,n.h._p=!1,n.h=n.h.val>110?220:0,t._y=null,t._x=null,t.removeEvent(!1,i)},i)}:i.slow?function(e){function t(){a.click.block=!1,o.y._p=!1,n._y=null,n._x=null,n.removeEvent(!1,i)}var n=this,i=(n.cover,"seasonmove"),o=this.switcher,r=o.y.val!==-220,l=o._currentList,c=l.node.style,u=l.node.scrollTop>1;n._y=e.y,o.y._p=!0,n.addEvent("move",function(e){var i=e.y,l=e.x,d=n._y-i,p=!r&&d>0||u;!s.block&&!u&&Math.abs(n._x-l)<Math.abs(d)&&(a.click.block=!0,d>0?o.y.val=-220:o.y=0,t()),p?c.overflow="scroll":(c.overflow="hidden",e.preventDefault()),n._y=i,n._x=l},i),n.addEvent("up",t,i)}:function(e){var t,n=this,i=(n.cover,"seasonmove"),o=this.switcher,r=o.y.val!==-220,l=o._currentList,c=l.node.scrollTop>1;n._y=e.y,o.y._p=!0,n.addEvent("move",function(e){var i=e.y,l=e.x,u=n._y-i,d=!r&&u>0||c;!s.block&&!c&&Math.abs(n._x-l)<Math.abs(u)&&(a.click.block=!0,t=o.y.val-u,o.y=Math.min(Math.max(t,-220),0)),d||e.preventDefault(),n._y=i,n._x=l},i),n.addEvent("up",function(){a.click.block=!1,o.y._p=!1,o.y=o.y.val<-110?-220:0,n._y=null,n._x=null,n.removeEvent(!1,i)},i)}}}));t.exports=n=u.Class}else t.exports=e("../watch")},{"../../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../favourite":"/Users/shawn/Work/mtv-play/components/first/favourite/index.js","../overview/item":"/Users/shawn/Work/mtv-play/components/first/overview/item.js","../watch":"/Users/shawn/Work/mtv-play/components/first/watch/index.js","./cover":"/Users/shawn/Work/mtv-play/components/first/show/cover.js","./list":"/Users/shawn/Work/mtv-play/components/first/show/list.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/show/style.less","./switcher":"/Users/shawn/Work/mtv-play/components/first/show/switcher.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/components/first/show/list.js":[function(e,t,n){var i=e("old-vigour-js/browser/cases"),o=e("old-vigour-js/app/ui/element"),s=e("old-vigour-js/app/"),r=e("../../img").Basic,a=e("../../item").Indicator,l=e("old-vigour-js/app/dictionary"),c=new o({collection:{data:"episodes",filter:!0,element:new a({model:function(e){var t=e._contentPath;t&&(this.thumb.bar.w=s.user.usage.from.get(t.concat(["time"])),this.model=!1)},thumb:{img:new r({w:70,h:45}),bar:{w:{transform:function(e,t){return isNaN(t)?0:70*Math.abs(t)}}}},txt:{"subtitle.text.data":{val:function(e){var t,n="";if((t=e.number&&e.number.val)&&t<=9e3&&(n+=l.get("text.episode").val+" "+t),e.duration)return n&&(n+=" - "),n+=Math.round(e.duration.val/60)+" "+l.get("text.min").val},listen:["number","duration"]}},events:{active:!i.desktop&&"ui-item-clicked",click:function(){n.block||(this.checkParent("on.media",!0).$userOrigin=this.data.from)}}})},model:{complete:function(){var e=this.parent;if(n.state){var t=this.data&&this.data._cachedPath;t&&(n.state.path===t&&(e._scrollTop=n.state.scrollTop,e.node.scrollTop=n.state.scrollTop||1),n.state=null)}else e&&i.touch&&(e.node.scrollTop=1);this.model=!1}}}).Class,u=new o({eps:new c,extrasHeader:{display:{data:"extras",transform:function(e,t){return t&&t[0]?"block":"none"}},text:{dictionary:"text.extras"}},extras:new c({collection:{data:"extras"}})}),d=new o({css:"list",scroller:u,on:{$render:{defer:function(e){var t=this._parent._caller;t.node.scrollTop=t._scrollTop||i.touch&&1,e()}}},h:{val:s.h,sub:{val:89,iosFull:109}},scrollbar:"y",model:{inherit:!1}});t.exports=n=d.Class},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/show/seasons.js":[function(e,t,n){var i=(e("old-vigour-js/browser/cases"),e("old-vigour-js/browser/events"),e("old-vigour-js/app/ui/element")),o=(e("../../icon"),e("old-vigour-js/app/")),s=e("old-vigour-js/app/dictionary"),r=s.get("text.season"),a=s.get("text.specials"),l=new i({text:{data:"number",transform:function(e,t){return 9e3!==t?r.val+" "+t:a.val},listen:s}}).Class;t.exports=new i({items:{collection:{data:"show.seasons",filter:!0,element:new l({node:"a","events.click":function(){this.checkParent("on.season",!0).$userOrigin=this.data.from}})}},x:{translate:!0,parent:"w",multiply:0,"!slow":{animation:{time:Math.min(o.w.val/14,32),easing:"outCubic"}}},highlight:{x:{translate:!0}}})},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/components/first/show/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/show/switcher.js":[function(e,t,n){function i(){n.block=!1;var e=this.parent,t=e.parent.data.show.seasons,i=this._current||(this._current=0),o=this._keys||(this._keys=t.keys);if(o&&t){var s=this._l||(this._l=o.length),r=this.children,a=r[i-1],l=r[i+1];i<s&&!l&&(l=new p,this.add(l)),a&&!a.data&&(a.data=t[i-1]),l&&!l.data&&(l.data=t[i+1])}}function o(e,t){var i=Math.abs(t.x)>Math.abs(t.y);return i&&(n.block=!0),i}function s(e,t){var n=this.parent,i=n.seasons,o=this._l||this._keys.length,s=t.x,r=s/(o-1)/(3/(o-3))+this._start,a=this.x.val,l=this._current,c=this._focus||0,u=120;if(o>3&&a<0&&a>this._max&&(i.x={_e:r}),s<-u&&l!==o-1?l+=1:s>u&&0!==l&&(l-=1),c!==l){var d=i.items.children,p=n.w.val/3;i.highlight.x=p*l,d[c].css="",d[l].css="focus",this._focus=l}}function r(e,t,n){var i,o=this.parent.seasons,s=120,r=3,a=-this._current,l=this._keys.length,c=t.x||t,u=n.x||n;Math.abs(u)>r?(u<0&&!(c>s)&&(i=Math.max(a-1,-l+1)),u>0&&!(c<-s)&&(i=Math.min(a+1,0))):(c<-s&&(i=Math.max(a-1,-l+1)),c>s&&(i=Math.min(a+1,0))),void 0!==this.x._e?this.x={_esub:this.x._e.val}:void 0!==o.x._e&&(o.x={_esub:o.x._e.val}),void 0!==i&&(this.checkParent("switcher.on.season",!0).$userOrigin=o.items.children[-i].data.from)}e("./style.less");var a=e("old-vigour-js/app/ui/element"),l=e("old-vigour-js/app/"),c=e("old-vigour-js/browser/cases"),u=e("old-vigour-js/browser/events"),d=u.document,p=e("./list"),h=e("./seasons"),f=new a({on:{$remove:{defer:function(e){var t=this._parent._caller,i=t._currentList;p.state={path:i.data._cachedPath,scrollTop:i.node.scrollTop},n.block=!1,e()}}},y:{translate:!0,"!ios":{"!slow":{animation:{time:24,easing:"outCubic"}}}},touch:{line:{}},seasons:h,roll:{w:{parent:"w"},x:{translate:!0,parent:"w",multiply:0,"!slow":{animation:{time:Math.min(l.w.val/14,32),easing:"outCubic",init:function(){n.block=!0},complete:i}}},events:c.touch&&c.slow&&{down:function(e){var t,n=e.x,i=n,o=n,s=e.y,a="swipe",l=this;d.addEvent("move",function(e){n=e.x,t=n-i,i=n,t&&(u.click.block=!0)},a),d.addEvent("up",function(e){var n=e.x-o;u.click.block=!1,Math.abs(n)>Math.abs(s-e.y)&&r.call(l,e,n,t),d.removeEvent(!1,a)},a)}}},model:function(e){if(e=e.show&&e.show.seasons){var t=e.keys,i=t.length;i&&i!==this._l&&(this._keys=t,this._l=i,n.set(this,e))}},events:c.touch&&!c.slow&&{grab:{x:!0,bind:function(){return this.roll},down:function(){if(this._keys){var e=this.parent.seasons.x._e,t=this._keys.length;this._start=e?e.val:0,this._max=-l.w.val*(t-1)}},pass:o,move:s,up:r}}});t.exports=n=f.Class,n.set=function(e,t,n){for(var o=0|n,s=e.roll,r=s.children.length-1,a=e._keys||(e._keys=t.keys),l=e._l||(e._l=a.length),u=s._current,d=-o,h=e.seasons,f=h.items,v=f.children[c.desktop?o+1:o];o>r++;)s.add(new p);var m=s.children[o];if(void 0!==u){var g=f.children[c.desktop?u+1:u];h.x._p=!1,l>3&&(h.x={multiply:d/(l-1)/(3/(l-3))}),g&&(g.css=""),e.parent.x.val?s.x.preventSet({multiply:d}):s.x={multiply:d}}else l>3&&(h.x._p=!0,h.x={multiply:d/(l-1)/(3/(l-3))},h.x._p=!1),s.x.preventSet({multiply:d});e._current=s._current=o,e._currentList=m,e._keys=s._keys=a,c.touch&&(h.highlight.x=s.w.val/3*o),m.data||(m.data=t[o]),i.call(s),v&&(v.css="focus",c.desktop&&(f.current.data=v.data))}},{"./list":"/Users/shawn/Work/mtv-play/components/first/show/list.js","./seasons":"/Users/shawn/Work/mtv-play/components/first/show/seasons.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/show/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/components/first/shows/index.js":[function(e,t,n){function i(e,t){var n=t&&t.keys,i="block"===e._parent._parent._val;return n&&n.length&&i?"block":"none"}function o(e,t,n,i){var o=e/t,s=n/t,r=i.length,a=Math.round(r*s),l=a+Math.round(r*o);return a<0&&(l+=-a,a=0),i.slice(a,l).join(".")}var s=e("../overview"),r=e("old-vigour-js/browser/cases"),a=e("../../icon"),l=e("old-vigour-js/browser/element/properties/collection/display"),c=new s.Items({pageheader:{text:{dictionary:"text.nav.shows",touch:"a - z"}},collection:{data:"shows",filter:{condition:{title:{$contains:""}},sort:"title"},option:l,element:new s.Item({"events.click":function(){this.checkParent("on.show",!0).$userOrigin=this.data.from}})},model:{subscription:{$:{$:!0}}}}),u=new s.Items({pageheader:{"text.dictionary":"text.favorites"},collection:{data:"favourites",option:l,element:new s.Item({desktop:{css:{addClass:"favo-item"},thumb:{w:{sub:15,multiply:.5},h:{self:"w",divide:4/3}},info:!1},"events.click":function(){this.checkParent("on.show",!0).$userOrigin=this.data.from}})},"!touch":{display:{val:"block",transform:{data:"favourites",transform:i}}},touch:{pageheader:{display:{val:"block",transform:{data:"favourites",transform:i}}},message:new a({icon:"favoriteadd","text.dictionary":"text.noFavos",display:{data:"favourites",transform:function(e,t){var n=t&&t.keys&&t.keys.length;return n?"none":"block"}}})}});t.exports=new s({container:{position:"relative",search:e("../../text/search"),on:{$render:{defer:function(e){var t=this._parent._caller;r.desktop?(t._parent=t.parent).addEvent("scroll",function(){},"overviewScroll"):window.requestAnimationFrame(function(){t._node&&(t.node.scrollTop=n.scrollTop||r.touch&&1,t.events.scroll._val.call(t,!1))}),t.set({on:{connect:r.$hasReceiver}}),e()}},$remove:r.desktop&&{defer:function(e){var t=this._parent._caller;t._parent.removeEvent(!1,"overviewScroll"),e()}},connect:{defer:function(e){var t=this._parent._caller;t.events.scroll._val.call(t,!1),e()}}},favos:u,items:c,events:{scroll:function(e){var t=this.node.scrollTop;if(e!==!1&&(n.scrollTop=t),r.$hasReceiver.val&&this&&this.items){var i=this.items.children,s=i.length;if(void 0===this._k||this._l!==s){for(var a=[],l=i.length-1;l>=0;l--){var c=i[l].data;c&&a.unshift(c._name)}this._k=a,this._h=this.node.offsetHeight,this._s=i[1]&&i[1].node.offsetTop,this._sh=this.node.scrollHeight-this._s,this._l=s}var u=this._h,d=this._s,p=this._sh,h=this._k;d>t&&(u-=d-t),this.data.highlight.$userOrigin=o(u,p,t-d,h)}}},model:{complete:function(){this.model={complete:null},this.node.scrollTop=n.scrollTop||r.touch&&1,this.events.scroll._val.call(this,!1)}}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../text/search":"/Users/shawn/Work/mtv-play/components/text/search.js","../overview":"/Users/shawn/Work/mtv-play/components/first/overview/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/element/properties/collection/display":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/collection/display.js"}],"/Users/shawn/Work/mtv-play/components/first/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/switcher/index.js":[function(e,t,n){function i(e){var t=this._parent,n=t.ms._val,i=c.$isReceiver.val?n.media.$userOrigin.val:t.media.$userOrigin.val;t._caller.transition={element:p.getElement(),$params:p.getParams(t.media,i,!0)},s.state.video={val:i.from},e()}function o(){var e=this.previous;this.current;if(e){if("page"===e)return void(this.on.page.$userOrigin=this.on.page.val||("show"===this.current||"episode"===this.current)&&"shows"||"channel"===this.current&&"channels"||"discover");if(this.on[e]){var t=this.on[e].from,n=this.on.media.from;if("navigation"===t._parent._name&&("show"===e&&"navigation"!==n._parent._name?(t=n._parent._parent._parent._parent,"show"!==t._name&&(t=null)):t=null),t)return void(this.on[e].$userOrigin=t)}}this.on.page.$userOrigin="string"==typeof this.on.page.val?this.on.page.val:"discover"}e("./style.less");var s=e("old-vigour-js/app/"),r=e("old-vigour-js/app/ui/element"),a=e("old-vigour-js/app/ui/switcher"),l=e("old-vigour-js/app/ui/switcher/transitions"),c=e("old-vigour-js/browser/cases"),u=e("../../icon"),d=e("./page"),p=e("./media"),h=e("./show");t.exports=n=new a({css:"first-switcher",desktop:{scrollbar:{val:s.w,transform:function(e,t){return t<1300||"y"}},transition:{defer:function(e){this._caller.node.scrollTop=0,e()}}},on:{page:{defer:function(){(c.$isFullscreen.val?i:d).apply(this,arguments)}},show:{defer:function(){(c.$isFullscreen.val?i:h).apply(this,arguments)}},season:{defer:function(e,t){t[0]&&this._parent.show._update(),e()}},media:{defer:function(){(c.$isFullscreen.val?i:p).apply(this,arguments)}}},onTransition:{val:"fade",touch:"slide"},backFallback:o,loader:new r({css:"first-loader",x:{translate:!0},loadicon:new u({icon:"logo"})})}).inject(l).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./media":"/Users/shawn/Work/mtv-play/components/first/switcher/media.js","./page":"/Users/shawn/Work/mtv-play/components/first/switcher/page.js","./show":"/Users/shawn/Work/mtv-play/components/first/switcher/show.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/switcher/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js","old-vigour-js/app/ui/switcher/transitions":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/transitions.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/switcher/media.js":[function(e,t,n){var i,o=e("old-vigour-js/browser/cases"),s=e("old-vigour-js/app/");t.exports=n=function(e){var t=this._parent._caller,i=this.$userOrigin.val||(i=this.$userOrigin.val=this.from);if(!n.isEpisode(i)){var o,r,a=i.from._path,l=a.indexOf("seasons");~l&&(o=a.lastIndexOf("channels"),r=a.slice(o,l),i=this.$userOrigin.val=s.content.get(r))}t.transition={element:n.getElement(),direction:n.getDirection(t,i),$params:n.getParams(this,i),$options:n.getOptions(i)},n.setStatus(t,i),e()},n.isEpisode=function(e){return!~e._contentPath.indexOf("channels")},n.getDirection=function(e,t){var i=e.current;return n.isEpisode(t)?"episode"!==i?1:0:"channel"!==i?1:0},n.getElement=function(){return i||(i=e("../watch"))},n.getOptions=function(e){var t=n.isEpisode(e)&&e._parent._parent,i=o.tablet&&t&&t.from,s=e.from,r=i||s;if(r)return{loader:r}},n.getParams=function(e,t,i){var r,a=e._parent,l=a.usage,c=a.ms._val.media.$userOrigin,u=n.isEpisode(t),d={media:t,volume:a.volume.from,msmedia:c};if(u){var p=t._parent._parent;i?d.season=p:(o.phone?a.season.$userOrigin.val=p:a.season.$userOrigin=p,d.season=a.season.$userOrigin),d.show=r=s.user.navigation.show.$userOrigin.val=p._parent._parent,d.showusage=l.from.get(r.from._contentPath),d.mediausage=l.from.get(t.from._contentPath,{time:0})}o.$isOnChannel.val=!u;var h={media:{player:{on:{msmedia:c,media:t}}},on:{channel:{val:o.$isOnChannel,listen:t},resize:o.tablet&&s.w},data:d};return h},n.setStatus=function(e,t){var i,s=e.current,r=n.isEpisode(t);i=o.phone&&r?"page"===s?s:"show":"page",e.previous=i,e.current=r?"episode":"channel"}},{"../watch":"/Users/shawn/Work/mtv-play/components/first/watch/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/switcher/page.js":[function(e,t,n){var i=e("old-vigour-js/browser/cases"),o=e("old-vigour-js/app").user;t.exports=function(t){var s,r,a,l=this.$userOrigin.val,c=this._parent,u=c._caller,d=c.content.from;if(l){if("discover"===l){void 0===n[l]&&(n[l]=e("../discover"));var p=o.role.val;p&&3!==p?(r={marquee:d.get("discover_marquee_premium.list"),releases:s=d.get("discover_row1_premium.list"),recommended:d.get("discover_row2_premium.list"),free:d.get("discover_row3_premium.list")},a={val:o.role,defer:function(e){p=this.from.val,p&&3!==p||(o.navigation.page.$userOrigin="discover"),e()}}):(r={marquee:d.get("discover_marquee_free.list"),releases:s=d.get("discover_row1_free.list"),recommended:d.get("discover_row2_free.list"),free:d.get("discover_row3_free.list")},a={val:o.role,defer:function(e){p=this.from.val,p&&3!==p&&(o.navigation.page.$userOrigin="discover"),e()}}),r.channels=d.get("channels"),r.watched=c.watched.from,r.scroll=c.scroll.from,r.carousel=c.carousel.from}else"shows"===l?(void 0===n[l]&&(n[l]=e("../shows")),r={shows:s=d.get("shows"),favourites:c.favourites.from,search:c.search._val,highlight:c.highlight.from}):"channels"===l&&(void 0===n[l]&&(n[l]=e("../channels")),r={channels:s=d.get("channels")});u.transition={element:n[l],$params:{data:r,on:a},$options:{loader:!(!i.tablet||"page"!==u.current||u._last===l)||s&&s.from,animation:!(i.tablet&&"page"===u.current),delay:i.tablet&&"page"===u.current&&350},direction:"page"!==u.current&&-1},u.current="page",u._last=l}t()}},{"../channels":"/Users/shawn/Work/mtv-play/components/first/channels/index.js","../discover":"/Users/shawn/Work/mtv-play/components/first/discover/index.js","../shows":"/Users/shawn/Work/mtv-play/components/first/shows/index.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/switcher/show.js":[function(e,t,n){var i,o=e("old-vigour-js/browser/cases");e("old-vigour-js/app/"),e("./media");o.phone?(t.exports=n=function(e){var t=this._parent,i=t._caller,o=this.$userOrigin.val;i.transition={element:n.getElement(),$params:n.getParams(this,o),$options:n.getOptions(this,o),direction:n.getDirection(i,o)},t.season.$userOrigin._update(),i.previous="page",i.current="show",e()},n.getDirection=function(e,t){var n=e.current;return"page"===n?1:"episode"===n&&-1},n.getElement=function(){return i||(i=e("../show"))},n.getOptions=function(e,t){var n=e._parent.season.from;t.from;return{loader:n}},n.getParams=function(e,t){var n,i=e._parent,o=t._name,s=i.season,r=i.usage;return s.$userOrigin.val&&s.from.checkParent("_name",o)||(s.$userOrigin.val=t.from.get("seasons.0")),n={on:{season:s.$userOrigin,show:t},data:{show:t,showusage:r.from.get(t.from._contentPath)}}}):t.exports=function(e){var t=this.$userOrigin.val,n=t._name,i=this._parent.season,o=i.from._parent._parent===t.from&&i.from._name,s=this._parent,r=s.media;if(r.from.checkParent("_name",n)&&r.$userOrigin.val)r._update(),e();else{o=!o||isNaN(o)?0:o,i=t.get("seasons."+o),i.subscribe({episodes:{0:{title:!0}}}),i.subscribe({episodes:!0});var a=i.get("episodes");a.is("loaded",function(){i.unsubscribe({episodes:{0:{title:!0}}}),i.unsubscribe({episodes:!0}),r.from.checkParent("_name",n)&&r.$userOrigin.val||(r.$userOrigin=a.val?a.get("0"):i.get("extras.0")),e()})}}},{"../show":"/Users/shawn/Work/mtv-play/components/first/show/index.js","./media":"/Users/shawn/Work/mtv-play/components/first/switcher/media.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/switcher/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/tv/grid.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("../../img"),s=e("old-vigour-js/app/"),r=new o({css:"tv-grid-item",h:{val:s.h,divide:3},w:{self:"h",multiply:4/3},display:"inline-block"}).Class,a=new r({w:{self:"h",multiply:8/3,add:{val:s.w.val,multiply:.016}}}).Class,l=new i({category:{text:"this is the field",h:{val:s.h,divide:3},w:{self:"h",multiply:5/6},css:"tv-grid-category"},display:{data:function(e){return 0===e.length?"none":"block"}},events:{arrowUp:function(){this.$prev.val&&this.$prev.val.$focus()},arrowDown:function(){this.$next.val&&this.$next.val.$focus()},arrowRight:function(){s.focusState.prev=this._name,s.focusState.from.val="row"},click:function(){this.events.arrowRight._val.call(this)},arrowLeft:function(){this.checkParent("sidemenu",!0);s.focusState.val="menu"},back:function(e){e.preventDefault(),s.focusState.val="menu"},$focus:function(e){var t,n=this.category,i=n.node,o=this.parent,r=s.h.val,a=r-80,l=r/5;s.focusState.prev=this._name,n.css=e?"tv-grid-category current":"tv-grid-category",e&&(t=i.getBoundingClientRect(),t.bottom>a?o.y=o.y.val-(t.bottom-a):t.top<l&&(o.y=o.y.val+(l-t.top)),o.y._p=null)}},css:"tv-row",collection:{data:!0,element:r}}).Class;t.exports=n=new i({css:"tv-grid",y:{val:s.h.val/5,animation:{easing:"outCubic",time:18}},on:{$new:{defer:function(e){this._parent._caller.y._p=!0,e()}},focusState:{defer:function(e,t){var n=this;if("grid"===n.from.val){var i=n._parent;if(i){var o=i.focusState.from.prev,r=i._caller,a=o&&r[o]||r.children[0];a.$focus()}}else"row"===n.from.val&&s.user.updateNavigation();e()}},$parent:{defer:function(e,t){var n,i,o=this._parent._caller;if(o&&o.data){for(var s in o.data){var c=s;s="$$"+s,o[s]||(i||(i={}),"marquee"===s?i[s]=new l({"category.text":c.length>2?{dictionary:"text."+c}:c,bigItem:new a({data:o.data[c].get(0)}),item:new r({data:o.data[c].get(1)})}):i[s]=new l({"category.text":c.length>2?{dictionary:"text."+c}:c,data:o.data[c]}),n||(n=s))}n&&(o.set(i),this._parent.focusState._update())}e()}}}}).Class;n.Row=l,n.Item=r},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/tv/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/index.js":[function(e,t,n){function i(e,t){return Math.ceil(e/t)*t}var o=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/app/")),s=(e("old-vigour-js/browser/cases"),e("old-vigour-js/app/ui/switcher")),r=e("old-vigour-js/app/ui/switcher/transitions"),a=e("old-vigour-js/util/config"),l=e("./message"),c=(e("../../icon"),e("old-vigour-js/browser/events")),u=new l({css:{addClass:"tv-signin"},container:{holder:{title:{text:{dictionary:"text.login.tvTitle"}},subtitle:{text:{dictionary:"text.login.tvSubtitle"}},bottomimage:{}}}}).Class,d=new l({css:{addClass:"tv-roadblock"},container:{holder:{topimage:{},title:{text:{dictionary:"text.login.tvTitle"}},subtitle:{text:{dictionary:"text.login.tvSubtitle"}},bottomimage:{}}},events:{$focus:function(){}}}).Class;t.exports=n=new s({css:"first-switcher ui-img",x:{val:o.w,multiply:.2,animation:{easing:"outCubic",time:18}},w:{val:o.w},onTransition:"fade",desktop:{scrollbar:"y"},on:{page:{defer:e("./page")},show:{defer:e("./show")},media:{defer:function(e,t){this._parent.show.update(),e()}},signin:{defer:function(e,t){var n=this._parent._caller;n.transition={element:u},e()}},roadblock:{defer:function(e,t){if(this._val){var n=this,i=this._parent._caller,o=c.$focused.val,s=new d({events:{click:function(){this.events.back._val.call(this)},back:function(){o.$focus(),n.val=!1,this.remove()}}});i.parent.set({roadblock:s}),s.$focus()}e()}}},background:{data:"img",transform:function(e,t){if(!t)return" ";var n=Math.ceil((this.w||this.checkParent("w",!0)).val)||o.w.val,s=Math.ceil((this.h||this.checkParent("h",!0)).val)||o.h.val;return n=i(n,100),s=i(s,100),a.img+"/image/"+t+"/"+n+"/"+s+"?effect=overlayBlur&overlay=overlayDarkpurple3&radius="+(s/15.67|0)+"&sigma="+(s/20|0)},load:function(e){e&&(e.opacity=1)}}}).inject(r).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./message":"/Users/shawn/Work/mtv-play/components/first/tv/message.js","./page":"/Users/shawn/Work/mtv-play/components/first/tv/page.js","./show":"/Users/shawn/Work/mtv-play/components/first/tv/show.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js","old-vigour-js/app/ui/switcher/transitions":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/transitions.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/message.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element");t.exports=new i({css:"tv-message",container:{holder:{topimage:{}}}}).Class},{"old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/page.js":[function(e,t,n){var i,o,s=(e("old-vigour-js/app/ui/element"),e("./grid")),r=e("old-vigour-js/app/"),a=e("./row/page"),l=e("./row/channel"),c=e("old-vigour-js/data").inject(e("old-vigour-js/data/selection")),u="#abcdefghijklmnopqrstuvwxyz".split("");t.exports=n=function(e,t){function d(){n[h]&&n.stamp===t[1]&&(v.transition={element:n[h],$params:{data:p,on:{focusState:r.focusState}},$options:{force:!0},direction:"page"!==v.current&&-1},v.current="page")}var p,h=this.$userOrigin.val,f=this._parent,v=f._caller;if(v.x={multiply:"row"===r.focusState.val?0:.2},v.data=null,"discover"===h)n[h]="row"===r.focusState.val?a:s,p={spotlight:r.content.get("marquee.list"),free:r.content.get("free.list"),recommended:r.content.get("recommended.list")};else if("shows"===h){if(n[h]="row"===r.focusState.val?a:s,!i){i={},o=new c(r.content.get("shows"),{subscription:{$:{title:!0,img:!0}},block:!0});for(var m=0,g=u.length;m<g;m++)i[u[m]]=new c(r.content.get("shows"),{sort:"title",block:!0,range:[0,5],condition:{title:{$contains:"#"===u[m]?"^\\d":"^["+u[m]+"]"}}})}p=i}else"channels"===h&&(n[h]=l,p=r.content.from.get("channels"));n.stamp=t[1],"shows"===h&&"row"!==r.focusState.val?r.content.get("shows").is(function(){return i.a.length>0&&i["#"].length>0&&i.g.length>3},d):d(),e()}},{"./grid":"/Users/shawn/Work/mtv-play/components/first/tv/grid.js","./row/channel":"/Users/shawn/Work/mtv-play/components/first/tv/row/channel.js","./row/page":"/Users/shawn/Work/mtv-play/components/first/tv/row/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js",
"old-vigour-js/data/selection":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/selection.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/channel.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/app/")),o=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/object"),e("../../../epg_temp")),s=e("../../../player/seekbar"),r=o.clockTime,a=e("./item"),l=e("./elements"),c=new a({background:{gone:!1},information:{channeltitle:{css:"ui-item-text",text:{data:"title"}},now:{w:80,text:{dictionary:"text.now"}},epg:{w:{parent:"w",sub:110},showtitle:{text:{data:"title"}},time:{text:{data:"minutes_since_midnight",transform:r,add:[" - ",{data:"endtime",transform:r}]}},bar:new s({seek:{w:{val:o.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"},transform:function(e,t){return isNaN(parseInt(t))?0:100*t+"%"},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.information.epg.data=o.now(t),this.model=!1)}},events:{arrowRight:function(){var e=i.focusState.val;"row"===e||this.$prev.val&&this.$prev.val.cover?this.$next.val&&this.$next.val.$focus():i.focusState.val="row"},arrowLeft:function(){var e=i.focusState.val;"grid"===e?i.focusState.val="menu":this.$prev.val&&this.$prev.val.cover?this.$prev.val.$focus():i.focusState.val="grid"},back:function(e){e.preventDefault();var t=this.checkParent("rows",!0);t.x._p=!0,i.focusState.val="row"===i.focusState.val?"grid":"menu"},click:function(){if("lockedContent"===this.cover.icon.val){var e=this.checkParent("on.roadblock",!0);e&&(e.val=!0)}else i.user.navigation.media.$userOrigin.val=this.data.from,i.state.val={val:"player",video:this.data.from}}}}).Class;t.exports=n=new l.BasicRowView({css:{addClass:"tv-channels"},indicator:{display:{val:i.focusState,transform:function(e,t){return"row"===t?"block":"none"}},title:{text:{dictionary:"text.nav.channels"}}},rows:{css:"tv-row",collection:{element:c,data:!0}},on:{focusState:{defer:function(e,t){var n=this.from.val,i=this._parent._caller;"grid"===n?i.parent.x={multiply:.2}:"row"===n&&(i.parent.x={multiply:0}),i.rows&&i.rows.children[0]&&("menu"!==n||"$parent"!==t[0])&&i.rows.children[0].$focus(),e()}},$parent:{defer:function(e,t){this._parent.focusState._update("$parent"),e()}}}}).Class},{"../../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../../player/seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","./elements":"/Users/shawn/Work/mtv-play/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/mtv-play/components/first/tv/row/item.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/elements.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/app/");e("old-vigour-js/app/dictionary");n.Indicator=new i({css:"tv-row-indicator",text:{data:!0,dictionary:function(e,t){if(t)return t instanceof Object&&t.number?{text:t.number&&t.number.val}:(t=String(t),t.length>2?"text."+t:{text:t})}},display:"inline-block"}).Class;var s=n.BasicRowView=new i({css:"tv-row-view",indicator:{title:{}},rows:{on:{$new:{defer:function(e){this._parent._caller.x._p=!0,e()}}},y:o.h.val/5,x:{val:0,animation:{easing:"outCubic",time:18}}}}).Class;n.RowView=new s({indicator:{list:{text:"",collection:{element:n.Indicator,data:!0,filter:!0}}},info:{on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},opacity:{data:"description",transform:function(e,t){return t?(this.css="",1):(this.css="dontAnimate",0)}},title:{text:{data:"title"}},showsubtitle:{css:"subtitle",display:{data:"episodeCount",transform:function(e,t){return t?"block":"none"}},text:{val:{data:"seasonCount"},add:[" ",{dictionary:"text.seasons"}," ",{data:"episodeCount"}," ",{dictionary:"text.episodes"}]}},episodesubtitle:{css:"subtitle",display:{data:"duration",transform:function(e,t){return t?"block":"none"}},text:{data:"duration",transform:function(e,t){return~~(t/60)+" "},add:{dictionary:"text.min"}}},description:{text:{data:"description"}}}}).Class},{"old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/item.js":[function(e,t,n){function i(e,t){t=t?this:this.parent;var n=t&&t.node.nextSibling;if(n&&n.base)return n.base.children[0]?n.base.children[0]:i.call(n.base,!1,!0)}function o(e,t){t=t?this:this.parent;var n=t&&t.node.previousSibling;if(n&&n.base){var i=n.base.children[void 0===e?n.base.children.length-1:e];return i?i:o.call(n.base,e,!0)}}var s=(e("old-vigour-js/app/ui/element"),e("../../../img")),r=e("old-vigour-js/app/"),a=e("old-vigour-js/browser/cases"),l=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/object"),e("../../../icon"));t.exports=new s({on:{data:"link"},define:{$selectIndicator:function(e){var t=this.checkParent("indicator.list",!0),n=t&&t.find("data",e);n||(n=t&&t.find("data._val",e)),n&&t&&t._focused!==n&&(t._focused&&(t._focused.css="tv-row-indicator"),n.css="tv-row-indicator current",t._focused=n)},$focusCommon:function(e){var t,n,i,o=this.checkParent("rows",!0),s=o.parent,r=this.node,a=40,l=this,c=4;if(e){for(rect=r.getBoundingClientRect(),o.x=o.x.val+(a-rect.left)+s.parent.x.val,n=s.info,t=this.$prev.val;c--&&l;)l.background.gone.val&&(l.background={gone:!1}),l=l.$next.val;t&&t.background.gone&&t.background.gone.val&&(t.background={gone:!1}),n&&(i=this.data,n.data={},n._timer&&(clearTimeout(n._timer),n._timer=null),n._timer=setTimeout(function(){n.data=i,n._timer=null},500)),o.x._p=null}this.css=e?"tv-row-item current":"tv-row-item"}},css:"tv-row-item",h:{val:r.h,divide:3,multiply:1.25},w:{self:"h",multiply:4/3},background:{gone:!0},cover:new l({css:"ui-icon relative-size",icon:{data:"access",transform:function(e,t){return(1!==t||a.$isUpgraded.val)&&(2!==t||a.$isUpgraded.val)&&(3!==t||a.$isUpgraded.val&&3!==r.user.role.val)?"empty":"lockedContent"}}}),display:"inline-block",events:{click:function(e){var t=this.data&&this.data.from;if(t)if(t.link){var n,i=t.link.val.split("."),o="shows"===i[3],s="episodes"===i[i.length-2];s?(n=r.content.from.get(i.slice(3)),r.user.navigation.media.$userOrigin.val=n,r.state.val={val:"player",video:n}):o?r.user.navigation.show.$userOrigin=r.content.get(i.slice(3)):console.error("other type of link!")}else if("shows"===t._parent._name)r.user.navigation.show.$userOrigin=t;else if("episodes"===t._parent._name)if("lockedContent"===this.cover.icon.val){var a=this.checkParent("on.roadblock",!0);a&&(a.val=!0)}else r.user.navigation.media.$userOrigin.val=t,r.state.val={val:"player",video:t}},arrowRight:function(){this.$next.val&&this.$next.val.$focus()},arrowDown:function(){var e=o.call(this,0);e&&e.$focus()},arrowUp:function(){var e=i.call(this);e&&e.$focus()},$focus:function(e){var t,n,i=this.parent._name;i?t=i.slice(2):(i=this.data._parent._parent._name,t=this.data._parent._parent,n=!0),n||(r.focusState.prev=i),this.$selectIndicator(t),this.$focusCommon(e)}},"$next.transform":function(e,t){if(!t)return i.call(this)},"$prev.transform":function(e,t){if(!t)return o.call(this)}}).Class},{"../../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/page.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=(e("../../../img"),e("old-vigour-js/app/")),s=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/object"),e("./item")),r=e("./elements"),a=e("old-vigour-js/data"),l=new i({css:"tv-row",collection:{data:!0,element:new s({events:{arrowLeft:function(){if(this.$prev.val)this.$prev.val.$focus();else{var e=o.focusState.from;e.val="grid"}},back:function(e){e.preventDefault(),o.focusState.val="grid"}}})}}).Class;t.exports=n=new r.RowView({"indicator.list.model.inherit":!1,on:{focusState:{defer:function(e,t){var n=this,i=n._parent;if("row"===n.from.val){if(i){var s=i.focusState.from.prev,r=i._caller.rows;if(r.children.length){var a=s&&r[s]&&r[s].children[0]||r.children[0].children[0];!a&&r.children[1]&&(a=r.children[1].children[0]),a&&!a._$focused&&a.$focus()}}}else"grid"===n.from.val&&o.user.updateNavigation();e()}},$parent:{defer:function(e,t){var n=this._parent._caller;if(n&&n.data&&this._cachedData!==n.data){this._cachedData=n.data;var i=new a([]),s=o.user.navigation.page.val,r={rows:{}};for(var c in n.data)n[c]||(r.rows["$$"+c]=new l({data:n.data[c]})),i.push(c);n.indicator.title.text={dictionary:"text.nav."+s},n.indicator.list.data=i,n.set(r),this._parent.focusState._update()}e()}}}}).Class},{"../../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./elements":"/Users/shawn/Work/mtv-play/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/mtv-play/components/first/tv/row/item.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/show.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/app/"),s=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/object"),e("./item")),r=e("./elements"),a=e("old-vigour-js/browser/animation/raf"),l=new i({css:"tv-row",collection:{data:"episodes",element:new s({events:{arrowLeft:function(){if(this.$prev.val)this.$prev.val.$focus();else{var e=o.focusState.from;this.parent&&this.parent.data._parent&&"seasons"===this.parent.data._parent._name&&(e._val="row",o.user.navigation.page.$userOrigin=o.user.navigation.page.val||"shows")}},back:function(){var e=o.focusState.from;e._val="row",o.user.navigation.page.$userOrigin=o.user.navigation.page.val||"shows"}}})}}).Class;t.exports=n=new r.RowView({indicator:{title:{text:{data:"title"}},list:{text:{dictionary:"text.season",add:" "},collection:{data:"seasons"}}},rows:{model:{subscription:{title:!0,seasons:{$:{number:!0,episodes:{$:{img:!0,title:!0}}}}},block:!0},collection:{element:l,data:"seasons"}},on:{$remove:{defer:function(e,t){this._deferRafid&&window.cancelAnimationFrame(this._deferRafid)}},$parent:{defer:function(e,t){var n=this._parent._caller;if(n._deferRafid&&window.cancelAnimationFrame(n._deferRafid),n&&n.data){o.user.navigation.page.val;"shows"===n.data._parent._name&&n.data.get("seasons").is("loaded",function(){n.rows&&n.rows.children[0]?n.rows.children[0].children[0].$focus():n._deferRafid=a(function(){n.rows&&n.rows.children[0]&&n.rows.children[0].children[0].$focus()})})}e()}}}}).Class},{"./elements":"/Users/shawn/Work/mtv-play/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/mtv-play/components/first/tv/row/item.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/show.js":[function(e,t,n){var i;e("old-vigour-js/app/ui/element"),e("old-vigour-js/data").inject(e("old-vigour-js/data/selection")),e("old-vigour-js/app/");t.exports=function(t,n){var o,s=this.$userOrigin,r=this._parent,a=r._caller,l={};if(a.x={multiply:0},s){a.data=s,i||(i=e("./row/show"));s.get("seasons");o=i,l=s.from}if(!o)throw t(!0),new Error("wrong tv - show.js , no element!");a.transition={element:o,$params:{data:l,info:{data:{}}},$options:{force:!0}},t()}},{"./row/show":"/Users/shawn/Work/mtv-play/components/first/tv/row/show.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/data/selection":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/selection.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/watch/index.js":[function(e,t,n){function i(e){var t=this._parent,n=t._caller,i=window.innerWidth,s=window.innerHeight,r=n.data,a="side";o=i>s,this.from.val&&(o?n[a]||(n.media[a]&&n.media[a].remove(),n.node.style.tableLayout="auto",n.add(new v({name:a,data:r}),"media"),n.media.info.set({display:"block",h:{val:c.h,sub:[d.base.h.val,{val:c.w,sub:400,multiply:9/16}]}}),t.channel._update()):n.media[a]||(n[a]&&n[a].remove(),n.media.add(new v({name:a,data:r}),"info"),n.node.style.tableLayout="fixed",n.media.info.set({display:"table-cell",h:{val:c.h,sub:[d.base.h.val,{val:c.w,sub:0,multiply:9/16}]}}),t.channel._update()),n.on.resize.val||n.set({on:{resize:c.w}}),e())}e("./style.less");var o,s=e("old-vigour-js/app/ui/element"),r=e("../../icon"),a=e("../../player"),l=e("../favourite"),c=e("old-vigour-js/app/"),u=e("../seasons"),d=e("../menu").Topbar,p=e("../../text"),h=e("../epg"),f=e("old-vigour-js/browser/cases"),v=e("old-vigour-js/app/ui/switcher"),m=e("old-vigour-js/app/dictionary"),g=m.get("text.season"),y=m.get("text.specials"),_=e("../../ad"),w=_.Medium,b=_.Billboard;v=new v({onTransition:function(e,t){t&&t.remove(),this.add(e)}}).Class;var k=new s({touch:{scrollbar:"y"},phone:{h:c.h.val-d.base.h.val-9*c.w.val/16},header:{title:new p.Title({text:{data:"media.title"}})},description:new p.Description({"!phone.ad":new w})}).Class,E=(new k).Class,x=new k({header:{add:[new r({icon:"share",name:"share",events:{click:function(){var e=this.checkParent("on.popup",!0).from;e.data=this.checkParent("data",!0).media.from,e.val="share"}}}),"title"],subtitle:{text:{val:{data:"season.number",transform:function(e,t){return 9e3!==t?g.val+" ":y.val},listen:m},add:[" ",{data:"season.number",transform:function(e,t){return 9e3!==t?t:" "}}," ",{dictionary:"text.episode"}," ",{data:"media.number"}]}}}}).Class,T=new p.Title({text:{data:"media.title"}}).Class,j=new p.Title({text:{data:"show.title"},favourite:new l}).Class;t.exports=new s({css:"first-watch",x:{translate:!0},model:{subscription:{title:!0,number:!0,description:!0}},on:{channel:{val:!1,defer:function(e){var t=this._parent._caller,n=t.media.info,i=t.side||t.media.side,s=t.pageheader&&t.pageheader.container,r={},a=f.$isOnChannel.val;t.data&&(r.data=t.data,r.data.media=c.user.navigation.media),a===!1?(n.transition={element:x,$params:r},s&&(s.transition={element:j,$params:r}),i&&(r.on={media:c.user.navigation.media.$userOrigin},o||(r.list={h:{sub:{add:{val:c.w,divide:16/9}}}}),i.transition={element:u,$params:r},i.css="first-seasons seasons-only")):a===!0&&(f.phone&&(n.css="first-seasons first-epg"),n.transition={element:f.phone?h:E,$params:r},s&&(s.transition={element:T,$params:r}),i&&(o||(r.list={h:{sub:{add:{val:c.w,divide:16/9}}}}),i.transition={element:h,$params:r},i.css="first-seasons first-epg")),e()}},$render:{defer:function(e){var t=this._parent;f.tablet&&t.resize._update(),t.channel._update(),e()}}},tablet:{on:{resize:{defer:i}}},media:{player:new a.Holder,info:new v},desktop:{add:[new s({name:"pageheader",ad:new b,container:new v}),"media"],margin:{},side:new v}}).Class},{"../../ad":"/Users/shawn/Work/mtv-play/components/ad/index.js","../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","../epg":"/Users/shawn/Work/mtv-play/components/first/epg/index.js","../favourite":"/Users/shawn/Work/mtv-play/components/first/favourite/index.js","../menu":"/Users/shawn/Work/mtv-play/components/first/menu/index.js","../seasons":"/Users/shawn/Work/mtv-play/components/first/seasons/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/watch/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/watch/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/icon/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=(e("old-vigour-js/browser/cases"),new i({css:"ui-icon"})),s={discover:"",shows:"",tv:"",settings:"",cast:"",play:"",pause:"",fullscreen:"",pullback:"",swipeup:"",close:"",closesmall:"",dropdown:"",arrowright:"",search:"",cart:"",email:"",favorite:"",favoriteadd:"",favoriteremove:"",locked:"",logout:"",profile:"",share:"",arrowleft:"",exitfullscreen:"",right:"",wrong:"",logo:"",scan:"",facebook:"",twitter:"",phone:"",iphone:"",android:"",tablet:"",desktop:"",laptop:"",menu:"",leftnav:"",rightnav:"",noresult:"",music:"",volume:"",rewind:"",fastforward:"",disconnect:"",monster:"",lockedRight:"",watching:"",notWatched:"",airplay:"",gender:"",age:"",newsletter:"",warning:"",whatsapp:"",loader1:"",loader2:"",loader3:"",loader4:"",lockedContent:"",fullscreenAlt:"",exitfullscreenAlt:"",playAlt:"",pauseAlt:"",lockedContentAlt:"",empty:" "};o.extend({icon:function(e){var t="<span>"+(s[e.val]||"")+"</span>",n=this.node.innerHTML,i=n.indexOf("<div");~i&&(t+=n.slice(i)),this.html=t}}),t.exports=n=o.Class,n.map=s},{"./style.less":"/Users/shawn/Work/mtv-play/components/icon/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/icon/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/mtv-play/components/img/index.js":[function(e,t,n){function i(e,t,n){var i=t/e,o=Math.ceil(e/n)*n,s=Math.ceil(o*i);return{w:o,h:s}}e("./style.less");var o=e("old-vigour-js/app/ui/element"),s=e("old-vigour-js/app/"),r=(e("old-vigour-js/browser/animation/frame"),new o),a=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/util/config"),c=a.retina?2:1,u=l.imgOrigin;t.exports=n=new r.Class({opacity:{val:0},background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(t){var n,o=Math.ceil((this.w||this.checkParent("w",!0)).val)||s.w.val,r=Math.ceil((this.h||this.checkParent("h",!0)).val)||s.h.val,a=e._parent.range;return a&&(n=i(o,r,a.val),o=n.w,r=n.h),l.img+"/image/"+o*c+"/"+r*c+"?url="+u+t+"/original"}}},slow:{opacity:1,"background.load":null},css:"ui-img"}).Class,n.density=c,n.Basic=new o({css:"ui-img",background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(t)return l.img+"/image/"+this.w.val*c+"/"+this.h.val*c+"?url="+u+t+"/original"}},opacity:{val:0},slow:{opacity:1,"background.load":null}}).Class,n.Relative=new o({css:"ui-img",background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(!t)return"";var n,o,s=this.node,r=s.offsetWidth,a=this,d=e._parent.range;return r?(n=s.offsetHeight,d&&(o=i(r,n,d.val),r=o.w,n=o.h),l.img+"/image/"+r*c+"/"+n*c+"?url="+u+t+"/original"):(a.rafId||(a.rafId=window.requestAnimationFrame(function(){a.rendered&&a.background.update(a)})),"")}},opacity:{val:0},slow:{opacity:1,"background.load":null}}).Class,n.Carousel=new n.Relative({background:{transform:function(e,t){if(!t)return"";var n,o,s=this.node,r=s.offsetHeight,a=this,d=e._parent.range;return r?(n=Math.ceil(Math.min(s.offsetWidth,r/9*16)),d&&(o=i(n,r,d.val),n=o.w,r=o.h),l.img+"/image/"+n*c+"/"+r*c+"?url="+u+t+"/original"):(a.rafId||(a.rafId=window.requestAnimationFrame(function(){a.rendered&&a.background.update(a)})),"")}}}).Class,n.Overlay=new n({background:{transform:function(e,t){if(!t)return"";var n=Math.ceil((this.w||this.checkParent("w",!0)).val)||s.w.val,i=Math.ceil((this.h||this.checkParent("h",!0)).val)||s.h.val;return l.img+"/image/"+n*c+"/"+i*c+"?url="+u+t+"/original&effect=overlayBlur&overlay=overlay_lightest&radius=0&sigma=0"}}}).Class,n.Intro=new n({background:{transform:function(e,t){if(!t)return"";var n=this.node,i=n.offsetWidth,o=this;return i?l.img+"/image/"+i*c+"/"+n.offsetHeight*c+"?url=https://wwwmtvplay-a.akamaihd.net/img/intro/"+t:(o.rafId||(o.rafId=window.requestAnimationFrame(function(){o.rendered&&o.background.update(o)})),"")}}}).Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/img/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/frame":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/frame.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/img/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/item/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("../icon"),s=e("../img"),r=e("../text"),a=e("old-vigour-js/browser/cases"),l=(r.Input,e("../button").Switcher),c=r.Title,u=new r.TitleSubtitle({css:"ui-item-text"}).Class,d=e("old-vigour-js/app/");d.user;t.exports=n=new i({css:"ui-item"}).Class,n.Basic=new n({txt:new c}).Class,n.IconRight=new n.Basic({righticon:new o({icon:"arrowright"})}).Class,n.IconRightSub=new n.Basic({righticon:new o({icon:"arrowright"}),css:{addClass:"ui-item-sub"},txt:new u}).Class,n.IconLeft=new n({lefticon:new o({icon:{data:"icon"}}),txt:new c}).Class,n.Block=new n({left:{"title.text.dictionary":"text.all","subtitle.text.dictionary":"text.nav.shows"},center:{"title.text.dictionary":"text.all","subtitle.text.dictionary":"text.nav.channels"},right:{"title.text.dictionary":"text.every","subtitle.text.dictionary":"text.episode"},css:{addClass:"block"}}).Class,n.Menu=new n.IconLeft({h:55,css:{addClass:"ui-item-menu"},righticon:new o}).Class,n.Thumb=new n({thumb:{w:{val:100,phone:70},h:{val:71,phone:45},img:new s.Basic({w:{val:100,phone:70},h:{val:71,phone:45}})},txt:new u,righticon:new o({icon:"arrowright"})}).Class,n.Large=new i({crawler:{node:"a",href:{data:function(e){return d.user.$parse(e).url||""}},attr:{onclick:"return false"}},css:"ui-item-large",display:"inline-block",thumb:new s({w:310,h:220}),info:{txt:new u,description:{text:{data:"description"}}}}).Class,n.Indicator=new n.Thumb({righticon:new o({on:{data:"id"},icon:{data:"access",transform:function(e,t){var n=d.util.access(t,this.data),i=n&&~n.indexOf("play")?a.desktop?"empty":"arrowright":n;return"lockedContent"===i?"lockedContentAlt":i},listen:[d.user.role,d.user.purchases]}})}).Class,n.Topbar=new n.Menu({position:"absolute",name:"topbar",h:44,css:{addClass:"ui-item-topbar"},y:{val:0,translate:!0},iosFull:{h:{add:20}},txt:{x:{translate:!0,val:1}}}).Class,n.TitleSubtitle=u,n.Switcher=new n.IconRightSub({righticon:new i({hold:new l})}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../text":"/Users/shawn/Work/mtv-play/components/text/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/item/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/item/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/loader/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/sprite"),o=e("old-vigour-js/app/ui/element"),s=e("old-vigour-js/browser/cases");t.exports=n=new o({css:"ui-loader",append:new i({w:31,h:31,params:{cols:1,rows:19}})}).Class,n.Simple=new i({css:"ui-loader-simple","w,h":21,params:{cols:1,rows:19}}).Class,s.ios||s.desktop?n.Logo=new i({css:"loader logo",w:110,h:110,params:{cols:1,rows:26}}).Class:n.Logo=new o({css:"loader logo noanim",w:110,h:110}).Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/loader/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/sprite":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/sprite/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/loader/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/mtv-play/components/password/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element");t.exports=new i({css:"password-input",container:{logo:{},header:{text:"MTV Play is currently in BETA"},subtitle:{text:"Enter password to continue"},field:{node:"input",attr:{type:"password",placeholder:"password"}}}}).Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/password/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/password/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/player/backdrop.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app"),o=e("old-vigour-js/app/ui/element"),s=e("../img"),r=e("../icon");t.exports=new o({name:"backdrop",css:"relative-size",img:new s.Relative({css:"relative-size",background:{data:"show.img",load:function(e){e.opacity=.3}}}),holder:{info:{title:{"text.dictionary":"text.sender.remotePlaybackTitle"},txt:{"text.dictionary":"text.sender.remotePlaybackSubtitle"}},pullback:new r({icon:"pullback",pulltext:{"text.dictionary":"text.pullBack"}})},events:{click:function(){i.user.receiver.media.$userOrigin=!1}}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/player/style.less","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/player/controls/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=(e("old-vigour-js/app/"),e("../seekbar")),s=e("old-vigour-js/browser/element/video/util");e("old-vigour-js/browser/cases");t.exports=new i({css:"player-controls",container:{progress:{text:{data:"mediausage.time",multiply:{data:"media.duration"},transform:function(e,t){return s.time(Math.abs(t))}}},seekbar:new o({w:{sub:200}}),duration:{text:{data:"media.duration",transform:function(e,t){return s.time(t)}}}}}).Class},{"../seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/player/controls/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/element/video/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/video/util.js"}],"/Users/shawn/Work/mtv-play/components/player/controls/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/player/index.js":[function(e,t,n){function i(e){var t=e.node||e;(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(t.requestFullscreen?e.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():e.msRequestFullscreen?t.msRequestFullscreen():(t=e.video&&e.video.jqHandle)&&(t=t.proxy.player&&t.proxy.player.video,(t&&t.webkitEnterFullscreen||t&&t.requestFullscreen)&&(g||(g=!0,t.addEventListener("webkitendfullscreen",function(){_.$isFullscreen.val=!1},!1),t.addEventListener("webkitbeginfullscreen",function(){_.$isFullscreen.val=!0},!1)),t.requestFullscreen())))}function o(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}function s(){var e=y.user.navigation.media.from,t=y.user.receiver.media.from,n=_.$hasReceiver.val&&t._cachedPath===e._cachedPath;return n}function r(){var e=this._parent._caller,t=e.parent;if(t)if(_.$isReceiver.val){if(e.__ready&&!s)return!0;
}else{if(e._cachedW=null,s())return e._fullscreen?e.x=y.w:e.y={multiply:-1},S(function(){s()&&(y.playing.from.val=!1)}),t.backdrop.empty&&t.set({backdrop:new x({data:e.video.data})}),!0;e.y.multiply.val&&(e.x=0,e.y={multiply:0})}}function a(e){var t=this._parent._caller,n=t.video,i=n&&n.data,o=i&&i.mediausage&&i.mediausage.from,s=n&&n.time.from.val,a=r.call(this);!_.$isOnChannel.val&&a&&o&&(s||0===s)&&o.set("time",Math.abs(s)),e()}function l(e){if(!_.tv&&!_.$isReceiver.val){var t=this._parent._caller;t.y._p=!0,r.call(this),t.y._p=null}e()}function c(e){var t=this._parent,n=t._caller;y.playing.from.val=!!(_.tv||!_.$isActive.val&&_.$isReceiver.val)||y.playing.val,t.msmedia.val={val:y.user.receiver.media,listen:[_.$hasReceiver]},t.media.val=y.user.navigation.media,t.fullscreen.val=_.$isFullscreen,S(function(){n.video&&(n.__ready=!0,n.video.$play=y.playing,n.overlay.on.volume.val=y.volume)}),window.player=n,_.desktop?y.addEvent("keydown",function(e){if(!(y.popup.val||!_.$isReceiver.val&&s())){var t=!0;32===e.keyCode||13===e.keyCode?n.togglePlay():37===e.keyCode?n.seekBackward():39===e.keyCode?n.seekForward():38===e.keyCode?n.volumeUp():40===e.keyCode?n.volumeDown():70===e.keyCode?n.goFullscreen():t=!1,t&&e.preventDefault()}},A):_.tv&&n.$focus(),e()}function u(e){y.playing.from.val=!1,y.removeEvent(!1,A),e()}function d(e){var t=this.from.val,n=this._parent._caller,s="ms"===C?I<=11?"MSFullscreenChange":"fullscreenChange":C+"fullscreenchange";t?(window.statusBar?window.statusBar.hide():_.desktop?i(n):_.touch&&i(n),n._exitFullscreen=function(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;t||(y.state.val="first")},document.addEventListener(s,n._exitFullscreen)):(window.statusBar&&window.statusBar.show(),o(),document.removeEventListener(s,n._exitFullscreen)),S.repeat(function(){n.background&&n.background._update()},2),e()}function p(){var e=this.data&&this.data.mediausage;e&&e.time&&!_.$isOnChannel.val&&(e.time.from.val=Math.max(0,Math.abs(e.time.from.val)-.01))}function h(){var e=this.data&&this.data.mediausage;e&&e.time&&!_.$isOnChannel.val&&(e.time.from.val=Math.min(1,Math.abs(e.time.from.val)+.01))}function f(){y.playing.from.val=!y.playing.val}function v(){y.volume.val<=.9&&(y.volume.from.val+=.1)}function m(){y.volume.val>=.1&&(y.volume.from.val-=.1)}e("./style.less");var g,y=e("old-vigour-js/app/"),_=e("old-vigour-js/browser/cases"),w=e("old-vigour-js/browser/ua"),b=e("old-vigour-js/app/ui/element"),k=e("./video"),E=e("./overlay"),x=e("./backdrop"),T=e("old-vigour-js/util/config"),j=_.retina?2:1,A="keyUpID",S=e("old-vigour-js/browser/animation/raf"),C=w.prefix,I=w.version;document.cookie="_L1Nl9uK_DJGt_RDAVBq_=_L1Nl9uK_DJGt_RDAVBq_; domain=.mtvplay.tv",t.exports=n=new b({on:{fullscreen:{defer:d},msmedia:{defer:a},media:{defer:l},$render:{defer:c},$remove:{defer:u}},tv:{css:"base-player fullscreen-player",events:{back:function(){y.state.val="first"},click:f,arrowLeft:p,arrowRight:h,$focus:function(e){}}},chromecast:{css:"base-player fullscreen-player"},x:{val:0,animation:{time:24,easing:"outCubic",done:function(e){e&&(this.y._p=!0,this.y={multiply:-1},this.y._p=null,this.x._p=!0,this.x=0,this.x._p=null,R.exit.call(this))}}},y:{translate:!0,val:y.w,defer:function(e,t){var n=this;return this._caller.rendered?void(t[2]===!1?S(function(){n._p=!0,e(),n._p=null}):e()):(e(!0),!0)},transform:function(e,t){this._cachedW!==t&&(this._cachedW=t,this._cachedY=this.node.offsetHeight);var n=this._cachedY||(this._cachedY=this.node.offsetHeight);if(n)return n},multiply:{val:0,animation:{time:24,easing:"outCubic"}}},video:new k,overlay:new E,adMessage:{text:{dictionary:"text.advertisement"},display:{val:"none",$isPlayingAd:"block"},touch:{events:{click:function(){var e=this.parent.video.jqHandle;if(e&&(!_.native||!_.ios||window.device)){var t=window.open;window.open=function(e){window.open=t,y.api.url.val=e},e.invokeAd()}}}}},background:{data:"media.img",$bubble:{self:!0},transform:function(e,t){if(!t)return"";var n=this.node,i=n.offsetWidth,o=this;return i?T.img+"/image/"+t+"/"+i*j+"/"+n.offsetHeight*j:(o.rafId||(o.rafId=S(function(){o.rendered&&o.background.update(o)})),"")}}}).Class;var R=_.phone?_.native?e("./phone-fullscreen"):function(){_.$isFullscreen.val=!_.$isFullscreen.val}:function(){if(_.$isFullscreen.val){var e,t=y.user,n=_.$isReceiver.val,i=this.checkParent("data.media",!0);n?(i&&("episodes"===i._parent._name&&(e=i._parent._parent,t.navigation.season.$userOrigin.val=e,t.navigation.show.$userOrigin.val=e._parent._parent),t.navigation.media.$userOrigin=i.from),t.activeClient.$userOrigin=t.cloud.client.from,t.receiver.media.$userOrigin=!1):y.state.val="first"}else y.state.val="player"};n.base.define({seekBackward:p,seekForward:h,togglePlay:f,volumeUp:v,volumeDown:m,goFullscreen:R}),n.Holder=new b({css:"player-holder",backdrop:{empty:!0},player:new n({css:{val:"base-player windowed-player",$isFullscreen:!_.phone&&"base-player fullscreen-player"}})}).Class},{"./backdrop":"/Users/shawn/Work/mtv-play/components/player/backdrop.js","./overlay":"/Users/shawn/Work/mtv-play/components/player/overlay/index.js","./phone-fullscreen":"/Users/shawn/Work/mtv-play/components/player/phone-fullscreen.js","./style.less":"/Users/shawn/Work/mtv-play/components/player/style.less","./video":"/Users/shawn/Work/mtv-play/components/player/video/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/player/overlay/index.js":[function(e,t,n){function i(e){var t=this.checkParent("_d",!0);e.prevent=!0,o.user.receiver.media.$userOrigin.val=t.media.from}var o=e("old-vigour-js/app/"),s=e("old-vigour-js/browser/cases"),r=e("old-vigour-js/app/ui/element"),a=e("../controls"),l=e("../../icon"),c=e("../../img"),u=e("./play"),d=e("../volume"),p=e("old-vigour-js/app/dictionary"),h=p.get("text.specials"),f=new r({on:{data:"media.id"},buttons:{play:new u({display:!s.phone&&{data:"media.access",transform:function(e,t){var n=o.util.access(t,this.data&&this.data.media&&this.data.media.from);return n&&~n.indexOf("play")?"none":"inline-block"}}}),swipe:new l({icon:"swipeup",display:{data:"media.access",transform:function(e){var t=this.data&&this.data.media&&this.data.media.from,n=t&&!(t._parent&&"channels"===t._parent._name&&3===o.user.role.val)&&(s.$isUpgraded.val||t.access&&!t.access.val||t.val&&t.val.access&&!t.val.access.val),i=s.$hasReceiver.val&&n;return i?"inline-block":"none"},listen:[s.$hasReceiver,o.user.role,o.user.purchases]},events:{click:i}})},events:{click:s.touch?function(){var e=this.parent.opacity;e.val=e.val?0:1}:function(){o.playing.from.val=!o.playing.val}}}).Class,v=(new r).Class;v.base.extend({pointerEvents:function(e){this.node.style.pointerEvents=e.val}}),t.exports=new v({on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}},volume:{defer:function(e){var t=this._parent._caller;t.opacity.val=1,e()}}},opacity:{val:1,defer:function(e,t){var n=this._caller;return!!this._block||(1===this._val&&(n._timer&&clearTimeout(n._timer),n._timer=setTimeout(function(){o.playing.val&&(n.opacity.val=0),n._timer=null},2500)),void e())},listen:o.playing},infoholder:{display:{val:"table",$isPlayingAd:"none",$isOnChannel:"none"},"!phone.thumb":new c({h:{val:50,$isFullscreen:110},w:{self:"h",defer:function(e){this._caller.background._update(),e()}},background:{data:"show.img"}}),titles:{showtitle:{text:{data:"media.title"}},showsubtitle:{text:{val:{dictionary:"text.season",transform:function(e,t){return t&&t[0]},add:{data:"season.number",transform:function(e,t){var n=this.data&&this.data.media.from._parent._parent.number,i=n&&n.val;return i&&(t=i),(t>9?t:"0"+t)+" "}}},add:[{val:{dictionary:"text.episode",transform:function(e,t){return t&&t[0]}}},{data:"media.number",transform:function(e,t){return t>9?t:"0"+t}}],transform:function(e,t){var n=this.text._val;return n&&9e3==n.add.__lval?h.val:t}}}}},clickable:new f,"!iPhoneBrowser.controls":{css:{val:"",$isOnChannel:{val:"on-channel",$isPlayingAd:""}},on:{data:"media.id"},left:new u,display:{data:"media.access",transform:function(e,t){return"lockedContent"===o.util.access(t,this.data&&this.data.media&&this.data.media.from)?"none":"table"},listen:[o.user.role,o.user.purchases]},center:new a({container:{display:{val:"block",$isOnChannel:"none",$isPlayingAd:"none"},seekbar:{bg:{seekLoader:{opacity:{val:0,$isLoadingVideo:1}}}}},adMessage:{text:{dictionary:"text.countdown"},display:{val:"none",$isPlayingAd:"block"}}}),"!tv.right":{volume:{holder:new d({bars:{data:"volume"}})},fullscreen:new l({icon:{val:"fullscreen",$isFullscreen:"exitfullscreen"},events:{click:function(){var e=this.checkParent("player",!0);e&&e.goFullscreen()}}})}},events:{down:function(e){var t=this.opacity;s.$isFullscreen.val&&!t.val&&(e.prevent=!0,t.val=1)}},desktop:{pointerEvents:{val:"auto",$isPlayingAd:"none"},events:{move:function(){var e=this.opacity;e.val||(e.val=1,e._block=!0,setTimeout(function(){e._block=null},1e3))}}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../controls":"/Users/shawn/Work/mtv-play/components/player/controls/index.js","../volume":"/Users/shawn/Work/mtv-play/components/player/volume/index.js","./play":"/Users/shawn/Work/mtv-play/components/player/overlay/play.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/player/overlay/play.js":[function(e,t,n){var i=e("../../icon"),o=e("old-vigour-js/browser/cases"),s=e("old-vigour-js/app/");t.exports=n=new i({on:{data:"media.id"},icon:{val:{data:"media.access",transform:function(e,t){var n=s.util.access(t,this.data&&this.data.media&&this.data.media.from);return n}},$playing:o.phone?"pause":"pauseAlt",transform:function(e,t){return this._loading||(this.rotate=0),this._loading?"loader2":t},listen:[s.user.role,s.user.purchases.from]},rotate:{val:0,animation:{complete:function(){var e=this.rotate;e._p=!0,e=0,e._p=!1,this._loading=!1,this.icon.update(this)}}},events:{click:function(e){e.prevent=!0,s.playing.from.val=!s.playing.val}}}).Class,n.base.define({load:function(){this._loading=!0,this.icon.update(this),this.rotate=this.rotate.val+360}})},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/player/phone-fullscreen.js":[function(e,t,n){function i(e){var t=this.checkParent("media",!0),s=t.checkParent("switcher",!0),r=t.player.player,a=s.checkParent("topbar",!0),l=r.overlay.controls,c=l.right.fullscreen,u=l.center.container.seekbar,d=(this.checkParent("miniplayer",!0),r.node.style);window.StatusBar&&(e?window.StatusBar.show():window.StatusBar.hide(),void 0===r._fullscreen&&r.setSetting({name:"StatusBar",remove:function(){window.StatusBar.show(),this._listener&&o.h.removeListener(this._listener)}}));var p=a.node.offsetHeight;r.set({rotate:e?0:90,x:0}),r.adMessage.node.style.zIndex=e?null:"1",r.overlay.node.style.zIndex=e?null:"1",s.node.style.zIndex=e?null:"1",d.zIndex=e?null:"1",d.margin=e?"0":"-"+p+"px "+o.w.val+"px",d.width=e?null:o.h.val+"px",d.height=e?null:o.w.val+"px",t.node.style.overflow=e?null:"visible",r._listener&&o.h.removeListener(r._listener),e||(r._listener=function(){d.width=o.h.val+"px"},o.h.on(r._listener)),c.set({icon:e?"fullscreen":"exitfullscreen",events:{click:e?n:function(){i.call(this,!0)}}}),u._left=!e,r._fullscreen=!e}var o=e("old-vigour-js/app/");e("old-vigour-js/browser/cases");t.exports=n=function(){i.call(this)},n.exit=function(){i.call(this,!0)}},{"old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/player/players/viacom.js":[function(e,t,n){function i(e,t){this._correctTime=e,!this.channel&&this._ready&&this._time!==e&&(!this.jqHandle||this.__paused&&!t?this.tset=!0:(this.tset=null,this.out=null,this.cnt=null,this.jqHandle.setCurrentTime(Math.abs(Math.round(e))),this._time=e))}function o(e,t){var i=c.country||c.region.val;if(c.api.player.settings.siteKey="mtvplay."+i,!i||!~d.availableRegions.indexOf(i.toUpperCase()))return u.$allowPlayback.val=!1,void(c.playing.from.val=!1);if(!r&&"undefined"==typeof VIACOM)return c.api.player.once("success",function(){r||(n.settings=c.api.player.settings,n.adsEnabled=n.settings.ads.enabled,e.rendered&&o(e,t)),r=!0}),void(c.api.player.val=!0);if(r=!0,e.addEvent("down",function(e){u.$isPlayingAd.val||e.preventDefault()}),e.data&&e.data.media)if(e.data.media.from.videolang)n.settings.localization.language=e.data.media.from.videolang.val;else if(!~e.data.media.from._path.indexOf("channels"))return void e.data.media.from.once(function(){o(e,t)});u.tv?(n.settings.force="html5",n.settings.html5smartTVMode="Samsung"):u.chromecast&&(n.settings.force="html5",n.settings.html5smartTVMode="Chromecast",n.settings.ads.enabled=!1),n.settings.ads.fw_ssid=n.settings.ads.viralSID,e.jqHandle=new window.VIACOM.Mediaplayer(".video",n.settings,{controls:!1,"webkit-playsinline":!0},c.api.player.debug),e.jqHandle.addEventListener("error",function(e){console.error(e)}),e.jqHandle.addEventListener("ended",function(e){c.playing.from.val=!1}),e.jqHandle.addEventListener("ads:rollPlaying",function(e){u.$isPlayingAd.val=!0}),e.jqHandle.addEventListener("ads:rollEnded",function(e){u.$isPlayingAd.val=!1});var s=e.jqHandle.proxy.player&&e.jqHandle.proxy.player.video;s&&(s.setAttribute("webkit-playsinline",'"true"'),s.setAttribute("controls",!1),console.warn("check if correct"),l&&s.addEventListener("webkitendfullscreen",function(){window.requestAnimationFrame(function(){document.body.scrollTop=0}),e.pause(),c.playing.from.val=!1},!1),e.video=s,e.setEvents()),e.node.style.backgroundColor="black",n.protoNew.call(e),t&&t()}function s(e,t){var o;e._correctTime=Math.abs(e.time.val)*e.duration.from.val,t&&"string"==typeof t&&(o=e.data.media&&~e.data.media.from._path.indexOf("channels")?"simulcast_stream":"local_playlist",e._correctTime=void 0,e.jqHandle.load(o,t,{startTime:Math.abs(e.time.val)*e.duration.from.val||void 0,simulcastApiKey:n.settings.simulcastApiKey},function(t){e._ready=!0,c.playing.from.val=!u.mobileBrowser,void 0!==e._correctTime&&i.call(e,Math.abs(e._correctTime),!0)},"http://api.mtvnn.com/v2/mrss.xml?uri=mgid:sensei:video:mtvnn.com:"+o+"-"+t))}var r,a=e("old-vigour-js/browser/ua"),l="ios"===a.platform,c=e("old-vigour-js/app/"),u=e("old-vigour-js/browser/cases"),d=e("old-vigour-js/util/config");t.exports=n=e("old-vigour-js/browser/element/video/html5"),n.settings=c.api.player.settings,n.protoNew=n.new,n.new=function(){},n.setEvents=!1,n.play=function(e){var t,n=this;e?(n.jqHandle&&n.__src?n.jqHandle&&(n.tset&&i.call(n,Math.abs(n.time.val)*n.duration.from.val,!0),n.jqHandle.play()):(t=n.src.val,n.__src=t,n.jqHandle?s(n,t):o(n,function(){s(n,t)})),n.tset=null):n.jqHandle&&n.jqHandle.pause()},n.volume=function(e){var t=e.val;this.jqHandle&&!isNaN(t)&&this.jqHandle.setVolume(t)},n.time={set:i,get:function(e){var t=this.jqHandle&&this.jqHandle.getCurrentTime();return t/this.duration.from.val||e.val}},n.remove=function(e){this.jqHandle&&this.jqHandle.destroy(),this.jqHandle=null,this.video=null},n.src=function(e){var t=e.val;if(this.__src!==t)if(this.__src=null,this.jqHandle)this.node.style.backgroundColor=null,this.jqHandle.destroy(),this.jqHandle=null,this._ready=null;else if(u.mobileBrowser&&this.rendered){var n=this;o(n)}else{var i=this.data&&this.data.media.from,s=i&&i.access,r=s&&c.util.access(s.val,i);r&&"lockedContent"!==r&&(c.playing.from.val=!u.mobileBrowser)}}},{"old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/element/video/html5":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/video/html5.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=(e("old-vigour-js/app/"),e("old-vigour-js/browser/ua")),s=e("old-vigour-js/browser/cases"),r=(e("old-vigour-js/browser/element/video/util"),e("../../icon"),"ios"===o.platform||"android"===o.platform,"ms"===o.prefix?function(e){if(!s.$isPlayingAd.val){var t,n,i=this.node.getBoundingClientRect();this._left?(t=i.top,n=(e.pageY-t)/i.height):this._right?(t=i.top,n=(i.height-(e.pageY-t))/i.height):(t=i.left,n=(e.pageX-t)/(i.right-t));var o=n>1?1:n<0?0:n;o!==this._prevVal&&(this.seek.data.mediausage.$userOrigin.set("time",o),this._prevVal=o)}}:function(e){if(!s.$isPlayingAd.val){var t,n,i=this.node.getBoundingClientRect();this._left?(t=i.top,n=(e.y-t)/i.height):this._right?(t=i.top,n=(i.height-(e.y-t))/i.height):(t=i.left,n=(e.x-t)/(i.right-t));var o=n>1?1:n<0?0:n;o!==this._prevVal&&(this.seek.data.mediausage.$userOrigin.set("time",o),this._prevVal=o)}}),a=new i({css:"ui-seekbar",bg:{},seek:{w:{data:"mediausage.time",transform:function(e,t){if(t)return 100*Math.abs(t)+"%"}}},"!tv.button":{display:{val:"inline-block",$isPlayingAd:"none",$isReceiver:"none"}},events:{down:s.touch?function(e){var t=this.parent.parent.parent.opacity;t&&1!==t.val?this._skipUp=!0:r.call(this,e)}:r,drag:r,up:s.touch?function(e){this.parent.parent.parent.opacity;this._skipUp?this._skipUp=null:r.call(this,e)}:r}});t.exports=n=a.Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/player/seekbar/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/element/video/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/video/util.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/components/player/seekbar/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/player/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/player/video/index.js":[function(e,t,n){function i(){return this._overlay||(this._overlay=this.parent&&this.parent.overlay)}var o=e("old-vigour-js/app/"),s=e("old-vigour-js/browser/cases"),r=e("old-vigour-js/browser/element/video"),a=e("../players/viacom"),l=e("old-vigour-js/browser/events/util").postpone,c=l(function(e){o.playing.val&&e.play(!0)},501);t.exports=new r({node:"div",player:a,src:{data:"media.mrss"},duration:0,css:"video-container",time:{data:"mediausage.time",defer:function(e,t){return!(!s.$isOnChannel.val&&!s.$isPlayingAd.val)||void e()}},volume:{data:"volume"},$play:{defer:function(e){var t=this._caller;return"second"===o.state.val||void(s.desktop?window.requestAnimationFrame(function(){t.rendered?e():e(!0)}):e())}},model:{subscription:{videolang:!0,access:!0,video:!0,mrss:!0,duration:!0}},events:{src:function(e){if(this.duration=this.data.media.from.get("duration"),s.$isPlayingAd.val=!1,e.val&&this.rendered){var t=this.data&&this.data.media.from,n=t&&t.access,i=n&&o.util.access(n.val,t);if(i&&"lockedContent"!==i){var r=this.data&&this.data.mediausage;o.playing.from.val=!0,r&&!s.$isOnChannel.val&&r.from.set("time",Math.abs(this.time.from.val)),this.play()}}else o.playing.from.val=!1},progress:function(e,t){var n=-Math.abs(e),i=this.data&&this.data.mediausage;s.$isPlayingAd.val||s.$isOnChannel.val||i&&(o&&o.mediaTime&&(o.mediaTime.val=n),i.from.set("time",n))},play:function(){var e=i.call(this);e&&(e.opacity=this.playing?0:1),s.$isOnChannel.val&&this.playing&&o&&o.mediaTime&&(o.mediaTime.val=-.01)},stalled:function(){var e=i.call(this);e&&!s.chromecast&&(e.opacity=1),s.$isLoadingVideo.val=!0},seeking:function(e){if(!this._notRendered&&this.rendered){var t=i.call(this);t&&(t.opacity=1),o.playing.val&&(this.__paused||this.pause(!0),c(this)),s.$isLoadingVideo.val=!0}else this._notRendered=!0},canplay:function(){}}}).Class},{"../players/viacom":"/Users/shawn/Work/mtv-play/components/player/players/viacom.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/element/video":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/video/index.js","old-vigour-js/browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js"}],"/Users/shawn/Work/mtv-play/components/player/volume/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/browser/ua"),s="ms"===o.prefix?function(e){var t=this.node.getBoundingClientRect(),n=t.left,i=(e.pageX-n)/this.w.val;this.data.volume.from=i>1?1:i<0?0:i}:function(e){var t=this.node.getBoundingClientRect(),n=t.left,i=(e.x-n)/this.w.val;this.data.volume.from=i>1?1:i<0?0:i},r=new i({css:"player-volume",w:50,events:{down:s,drag:s,up:s}});r.extend({bars:function(e){var e=e.val,t=this.children,n=33,i=n*(isNaN(e)?1:e)+5;for(var o in t)i-=n/5,t[o].nested.x=-3+Math.min(i,3)}});for(var a=5;a--;)r.add(new i({nested:{}}));t.exports=r.Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/player/volume/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/components/player/volume/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/popup/article.js":[function(e,t,n){var i=e("../img"),o=e("./page"),s=e("autolinker"),r=e("old-vigour-js/browser/cases");t.exports=n=new o({css:"popup-article",img:new i.Relative({h:190,display:{data:"img",transform:function(e,t){return t?"block":"none"}}}),title:{text:{data:"title"}},body:{html:{data:"text",transform:function(e,t){return r.ios?t&&s.link(t,{className:"popup-article-link",replaceFn:function(e,t){if(t.url){var n=e.getTagBuilder().build(t);return n.setAttr("onclick","event.preventDefault(); window.open(this.href, '_system')"),n}}}):t&&s.link(t,{className:"popup-article-link"})}}}}).Class,n.Cookie=new n({body:{html:{data:"text",transform:function(e,t){return t&&s.link(t.replace("Klik HIER","<span class=\"popup-article-link\" onclick=\"var app = document.body.base, p = app.popup;p.data = app.content.get(['legal_cookies_extended', 'list', '0']);p.val = 'article'\">Klik HIER</span>"),{className:"popup-article-link"})}}}}).Class},{"../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js",autolinker:"/Users/shawn/Work/mtv-play/node_modules/autolinker/dist/Autolinker.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/auth.js":[function(e,t,n){function i(){d.dropdown._remove=!0,d.dropdown.y={sub:0},d.dropdownBackdrop.remove()}var o=e("old-vigour-js/app/ui/element"),s=e("../icon"),r=e("old-vigour-js/browser/cases"),a=e("../button"),l=e("../text/input"),c=e("../item"),u=e("./page"),d=e("old-vigour-js/app/"),p=new o({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=d.content.get([this._name,"list","0"]),e.val="article"},css:"term"}).Class;n.FbButton=new a({"events.click":function(){var e=this.checkParent("api",!0);e.facebook.login.val=!0}}).Class,n.GetApp=new u({css:"getapp",on:{$parent:{defer:function(e){var t=this._parent._caller.checkParent("topbar",!0);t&&(t.empty(),t.node.style.backgroundColor="#3a1a58"),e()}}},info:{title:{"text.dictionary":"text.register.redirectTitle"},subtitle:{"text.dictionary":"text.register.redirectSubtitle"},freepass:{display:{val:"block",$hasEpisodePass:"none"}},freepassAlt:{display:{val:"none",$hasEpisodePass:"block"}}},"ios.teleport":new a({text:{dictionary:"text.register.redirectTeleport"},"events.click":function(){window.location.href="fb709421825777638://"}})}).Class;var h=new o({top:{text:{dictionary:"text.signInTOS"}},items:{privacy:new p({text:{dictionary:"text.privacy"}}),terms:new p({text:{dictionary:"text.terms"}})}}).Class;n.Login=new u({css:"login",logo:{},"!windowsMobile.facebook":new n.FbButton({"text.dictionary":"text.account.signin.facebook"}),email:new a({text:{dictionary:"text.account.signin.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="loginEmail"}}),operator:new a({text:{dictionary:"text.account.signin.operator"},display:{val:"none",$hasOperatorRegistration:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;1===d.operators.$length.val?(e.val="operatorList",console.warn("[operators] for time being redirect to list when available_from")):(console.warn("[operators] not integrated"),e.val="operatorList")}}),conditions:new h({css:"alignedTop"})}).Class,n.Login.Email=new l.Form({css:"login",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),"desktop.confirm":new a({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new h,verify:["email","password"],bottom:{"text.dictionary":"text.account.forgot.title","events.click":function(){var e=this.checkParent("api",!0);e.password.forgot.val=this.parent.email.val}},define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.login.val={email:this.email.val,password:this.password.val}}else d.notification.val="invalid"}}}).Class,n.Login.Operator=new l.Form({css:"login",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),"desktop.confirm":new a({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new h,verify:["email","password"],define:{done:function(){if(this.verified){console.log("[operator] verified!");var e=this.checkParent("api",!0).operator;1===d.operators.$length.val?e.login.val={email:this.email.val,password:this.password.val,operator:d.operators.keys[0]}:(console.warn("[operator] selection not implemented"),e.login.val={email:this.email.val,password:this.password.val,operator:this.operator.val})}else d.notification.val="invalid"}}}).Class;var f=n.RegisterConditions=new h({top:{text:{dictionary:"text.termsOfService"}}}).Class;n.Register=new u({css:"register",logo:{},"!windowsMobile.facebook":new n.FbButton({"text.dictionary":"text.account.signup.facebook"}),email:new a({text:{dictionary:"text.account.signup.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="registerEmail"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new a({display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.account.signup.operator"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="operatorList"}}),conditions:new f({css:"alignedTop"})}).Class,n.Register.Email=new l.Form({css:"register",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),repeatPassword:new l({input:{val:"password",text:"text.repeatPassword"}}),verify:["email","password","repeatPassword"],"desktop.confirm":new a({text:{dictionary:"text.next"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new f,define:{done:function(){if(this.verified)if(this.password.val===this.repeatPassword.val){var e=this.checkParent("on.popup",!0).from;e.data={type:this.data&&this.data._name,email:this.email.val,password:this.password.val},e.val="registerNewsletter"}else d.notification.val="noMatchPassword";else d.notification.type=this.verificationError&&this.verificationError.val,d.notification.val="invalid"}}}).Class;var v,m=new c.Switcher({txt:{"title.text.dictionary":"text.newsletterTitle","subtitle.text.dictionary":"text.newsletterSubtitle"},"events.click":function(){this.parent.data||(this.parent.data={});var e=this.parent.data;e.newsletter=!this.righticon.hold.switchOn.val,this.righticon.hold.switchOn=e.newsletter},add:[new s({name:"lefticon",icon:"newsletter"}),"txt"]}).Class;if(r.phone&&r.native){var g=new o({css:"auth-dropdown",position:"absolute",y:{animation:{time:18,easing:"outCubic",done:function(){this._remove&&this.remove()}}},model:{complete:function(){var e=this;window.requestAnimationFrame(function(){e.y={sub:e.node.offsetHeight}})}}}).Class;v=new c.IconLeft({lefticon:{icon:"newsletter"},txt:{css:{data:"value",transform:function(e,t){return"txt"===t.trim()?"inactive":" "}},text:{dictionary:{data:"dictionary"}},model:{inherit:!1}},model:function(e){e instanceof Array&&(this.txt.data=e[0])},"events.click":function(){if(!d.dropdown){var e=this.parent,t=this._name,n=this.data;this._dData||(this._dData=n.splice(1)),d.set({dropdownBackdrop:{css:"relative-size","events.click":i},dropdown:new g({y:d.h,collection:{data:!0,element:new o({text:{dictionary:{data:"dictionary"}},"events.click":function(){e.data||(e.data={}),e.data[t]=this.data.value,e[t].txt.data=this.data,i()}})},data:this._dData})})}}}).Class}else v=new c({select:{node:"select",collection:{data:!0,element:new o({node:"option",attr:{value:{data:"value"}},text:{dictionary:{data:"dictionary"}}})}},"events.change":function(e){this.parent.data||(this.parent.data={}),this.parent.data[this._name]=e.target.value},add:[new s({name:"lefticon",icon:"newsletter"}),"select"]}).Class;n.Register.Newsletter=new l.Form({css:"register newsletter",scrollbar:"y",x:{translate:!0},age:new v({"on.$render.defer":function(e){this._parent._caller.data=[{value:"",dictionary:"text.age"},{dictionary:"options.age.0.text",value:"1"},{dictionary:"options.age.1.text",value:"2"},{dictionary:"options.age.2.text",value:"3"}],e()},lefticon:{icon:"age"}}),gender:new v({"on.$render.defer":function(e){
this._parent._caller.data=[{value:"",dictionary:"text.gender"},{value:"male",dictionary:"options.gender.0.text"},{value:"female",dictionary:"options.gender.1.text"},{value:"other",dictionary:"options.gender.2.text"}],e()},lefticon:{icon:"gender"}}),newsletter:new m,"desktop.confirm":new a({text:{dictionary:"text.account.signup.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new f,define:{done:function(){var e=this.checkParent("api",!0);this.data||(this.data={}),this.data.type&&localStorage.setItem("registerOperator",this.data.type),e.register.val=this.data}}}).Class,n.PasswordReset=new l.Form({css:"register",scrollbar:"y",x:{translate:!0},password:new l({input:"password"}),repeatPassword:new l({input:{val:"password",text:"text.repeatPassword"}}),"desktop.confirm":new a({text:{dictionary:"text.account.passwordReset"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),define:{done:function(){if(this.password.val===this.repeatPassword.val){var e=this.checkParent("api",!0);e.password.reset.val={password:this.password.val}}else d.notification.val="noMatchPassword"}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/buy.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/app"),s=e("../button");t.exports=n=new i({css:"upgrade",block:{img:{}},"bottom.text.dictionary":"text.legalContainer",continue:new s({"text.dictionary":"text.continue"})}).Class,n.Monthly=new n({block:{"title.text.dictionary":"text.purchase.monthlyPass.title","txt.text":{dictionary:"text.purchase.monthlyPass.body",add:[" ",o.api.price.monthly]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={subscription:"monthly"}}}).Class,n.Single=new n({block:{"title.text.dictionary":"text.purchase.singlePass.title","txt.text":{dictionary:"text.purchase.singlePass.body",add:[" ",o.api.price.single]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={product:o.user.navigation.media.from}}}).Class,n.Yearly=new n({block:{"title.text.dictionary":"text.purchase.yearlyPass.title","txt.text":{dictionary:"text.purchase.yearlyPass.body",add:[" ",o.api.price.yearly]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={subscription:"yearly"}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/comingSoon.js":[function(e,t,n){var i=e("./page"),o=e("old-vigour-js/app"),s=e("old-vigour-js/app/dictionary");t.exports=n=new i({css:"popup-coming-soon",logo:{},img:{},container:{title:{text:{dictionary:"text.notAvailable.title"}},body:{text:{dictionary:"text.notAvailable.text"}},email:{text:"helpme@mtvplay.tv","events.click":function(){o.api.email.send.val={address:"helpme@mtvplay.tv",subject:s.get("text.mailHelp.title").val,body:s.get("text.mailHelp.body").val}}}}}).Class},{"./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/devices.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/util"),e("../icon")),o=e("../item"),s=e("old-vigour-js/browser/cases"),r=e("../button"),a=(e("old-vigour-js/util/config"),e("old-vigour-js/browser/ua")),l=e("old-vigour-js/browser/animation/raf"),c=e("./page");e("old-vigour-js/app/");t.exports=n=new c({css:"devices",myDevice:{icon:new i({icon:a.device}),dInfo:{dTitle:{"text.dictionary":"text.thisDevice"},dSubtitle:{text:s.touch?a.device+" "+("ios"===a.platform?"iOS":a.platform)+(a.version?" "+a.version:""):a.platform+" "+a.browser+" "+a.version}}},middle:{display:{val:"block",$hasDevices:"none"},icon:new i({icon:"monster"})},listTitle:{"text.dictionary":"text.available",display:{val:"none",$hasDevices:"block"}},list:{display:{val:"none",$hasDevices:"block"},collection:{element:new o.IconLeft({model:function(e){e&&e.from&&e.from.device&&!/(desktop)|(tv)|(cast)|(tablet)|(airplay)/.test(e.from.device.val)&&(this.opacity=.5)},events:{click:function(){var e=this.checkParent("on.user",!0)._val,t=this.data.from;/(desktop)|(tv)|(cast)|(tablet)|(airplay)/.test(t.device.val)&&e.setReceiver(t)}},display:{data:"title",transform:function(e,t){return t?"table":"none"}},lefticon:{icon:{data:{val:function(e){var t=e&&e.from&&e.from.device&&e.from.device.val;return"chromecast"===t?"cast":t},listen:"device"}}}}),data:!0}},info:{display:{val:"block",$hasDevices:"none"},"title.text.dictionary":"text.watchBigger","description.text.dictionary":"text.watchBig"},learn:new r({display:{val:"block",$hasDevices:"none"},"text.dictionary":"text.learnMore","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="devices",e.val="faq"}}),on:{$render:{defer:function(){var e=this._parent._caller;e.on.devices._val._update()}},devices:{defer:function(e){var t=this._parent._caller;t.on.receiver._update(),t.data=this.from,e()}},receiver:{defer:function(e){var t=this;l(function(){if(t._parent){var n=t._parent._caller,i=n.checkParent("on.user",!0)._val.receiverClient,o=n.list.find("_d.from",i.from);o?(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=o,o.css={addClass:"current"}):t.focus&&t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"},t.focus=null)}e()})}}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/faq.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/element"),e("../icon"),e("../item")),o=e("./page"),s=e("old-vigour-js/app/");t.exports=new o({css:"faq",scrollbar:"y",on:{$parent:{defer:function(e){this._parent._caller.data=s.content.from.get("faq.list"),console.log(this._parent._caller.data),e()}}},collection:{data:!0,element:new i.IconRight({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="faq",e.data=this.data,e.val="article"}})}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/util"),s=e("old-vigour-js/app/"),r=e("../icon"),a=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/app/ui/switcher"),c=e("./auth"),u=e("./operator"),d=e("./settings"),p=e("./profile"),h=e("./share"),f=e("./devices"),v=e("./roadblock"),m=e("./article"),g=e("./languages"),y=e("./faq"),_=e("./wifi"),w=e("./newsletter"),b=e("./mobile"),k=e("./intro"),E=e("./upgrade"),x=e("./buy"),T=c.GetApp,j=e("./comingSoon"),A=a.phone?s.w.val:400;e("old-vigour-js/util/config"),e("old-vigour-js/browser/network/ajax");n=new i({css:"popup-window",on:{$new:{defer:function(e){var t=this._parent._caller;"languages"===s.popup.val&&(t.y._p=!0),window.requestAnimationFrame(function(){t.y&&(t.y._p=!1)}),e()}},loading:{defer:function(e,t){return!this._parent._caller||(!t[0]||t[0]!==!0&&"string"!=typeof t[0]?this._parent._caller.overlay.display="none":this._parent._caller.overlay.display="block",void e())}},popup:{defer:function(e){var t,n=this.from.val,i=this._parent,r=i._caller,l=i.overlay._val,A=i.user._val,S=A.receiverClient,C={comingSoon:{dictionary:"text.comingSoon",element:j},verifyMobile:{dictionary:"text.mtvMobile",element:b.Verify},countryCodes:{dictionary:"text.chooseTelCode",element:b.CountryCodes,previous:"verifyMobile"},share:{dictionary:"text.share",element:h},wifi:{dictionary:"settings.connectivity",element:_,previous:"settings"},newsletter:{dictionary:"text.newsletterTitle",element:w,previous:"settings"},roadblock:{dictionary:"text.oops",element:v},roadblockUpgrade:{dictionary:"text.buyPremium",element:v},roadblockMedia:{dictionary:"text.lockedEpisode",element:v.Media},article:{title:"faq"!==this.val,element:m,dictionary:"settings.help"},articleCookie:{title:"faq"!==this.val,element:m.Cookie,dictionary:"settings.help"},getApp:{dictionary:"text.getapp",element:T},operatorList:{dictionary:"text.operator.choose",element:u.List,previous:"register"},operatorAuth:{title:!0,element:u.Register,previous:"operatorList",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},operatorAuthAlt:{previous:"operatorList",title:!0,element:u.RegisterAlternative},operatorListUpgrade:{previous:"upgrade",dictionary:"text.operator.deals",element:u.ListUpgrade},operatorAuthUpgrade:{title:!0,element:u.Upgrade,righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},upgradeOperator:{dictionary:"text.operator.choose",element:c.Register.ChooseOperator,previous:"upgrade"},loginOperator:{dictionary:"text.operator.choose",element:c.Login.Operator,previous:"login",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},devices:{dictionary:"text.devices",element:f,params:{on:{receiver:S,devices:A.devices}}},loginEmail:{dictionary:"text.account.signin.title",element:c.Login.Email,previous:"login",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},passwordReset:{dictionary:"text.account.passwordReset",element:c.PasswordReset},login:{dictionary:"text.account.signin.title",element:c.Login},registerEmail:{dictionary:"text.account.signup.title",element:c.Register.Email,previous:"register",righticon:{icon:{icon:"empty"},text:{dictionary:"text.next"}}},registerSuccess:{dictionary:"text.account.signup.success",element:c.Register.Success},registerNewsletter:{dictionary:"text.account.signup.title",element:c.Register.Newsletter,previous:"registerEmail",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},register:{dictionary:"text.account.signup.title",element:c.Register},upgrade:{dictionary:"text.upgrade",element:E},settings:{dictionary:"text.nav.settings",element:d},profile:{dictionary:"text.profile",element:p,params:{data:{email:A.email,pic:A.profilePic}}},languages:{dictionary:"text.settings.languages.title",element:g,previous:"settings",params:{on:{language:s.language}}},faq:{dictionary:"settings.help",element:y,previous:"settings"},intro:{dictionary:!1,element:k},getStarted:{dictionary:"text.mtvMobile",element:k.getStarted},getStartedContinue:{dictionary:"text.account.signup.title",element:k.getStartedContinue,previous:"intro"},buyMonthly:{dictionary:"text.upgrade",element:x.Monthly,previous:"upgrade"},buySingle:{dictionary:"text.lockedEpisode",element:x.Single,previous:"roadblockMedia"},buyYearly:{dictionary:"text.upgrade",element:x.Yearly,previous:"upgrade"}};if(n)if(l.val="popup",t=C[this.from.val]){if(this.from.previous&&(t.previous=this.from.previous,this.from.previous=null),t.title&&this.from.data)r.topbar.holder.title.text=this.from.data.get("title");else{if(null===r.topbar.holder.title)return;r.topbar.holder.title.text=t.dictionary!==!1?{dictionary:t.dictionary||this.from.val}:""}var I={element:t.element};this.from.data?(I.$params={data:this.from.data},t.params&&o.merge(I.$params,t.params)):t.params?(I.$params=t.params,this.from.data=null):this.from.data=null,t.previous?(r.topbar.holder.lefticon.icon="arrowleft",r.switcher.previous=t.previous):r.topbar.holder.lefticon.icon="empty",a.desktop||(t.righticon?r.topbar.holder.righticon.set(t.righticon):r.topbar.holder.righticon.set({icon:{icon:"close"},text:"",css:""})),r.switcher.transition=I,e()}else console.error("cannot find popup-type",this.from.val),e(!0);else l.val=!1,a.phone?r.y=s.h:r.remove(),e(!0)}}},position:"absolute",phone:{w:s.w,h:s.h,y:{val:0,animation:{time:s.h.val/30,start:s.h,easing:"outCubic",done:function(e){var t=this;e>=100&&t.remove()}}}},"!phone":{w:{val:s.w,sub:30,max:400},h:{val:s.h,sub:30,max:600},x:{val:s.w,sub:{self:"w"},divide:2},y:{val:s.h,sub:{self:"h"},divide:3,min:15},"!android.opacity":{val:1,animation:{time:15,start:0,easing:"outCubic"}}},topbar:{css:"first-topbar",h:{val:40,phone:{iosFull:60}},holder:{lefticon:new r({icon:"arrowleft","events.click":function(){this.checkParent("switcher",!0).back()}}),title:{text:""},righticon:{icon:new r({icon:"close"}),text:"","events.click":a.desktop?function(e){e.preventDefault(),this.checkParent("on.popup",!0).from=!1}:function(e){e.preventDefault();var t=this.checkParent("switcher",!0)._swElem;t&&t.done?t.done.call(t):this.checkParent("on.popup",!0).from=!1}}}},switcher:new l({node:"div",on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},h:{parent:"h",sub:{val:40,phone:{iosFull:60}}},onTransition:a.slow?function(e,t,n){t&&t.remove(),this.add(e)}:function(e,t,n,i){n=void 0!==s.popup.direction?s.popup.direction:1,s.popup.direction=void 0,n&&t?(e.x={val:0,animation:{start:1===n?A:-A,time:20,delay:1,easing:"outCubic",done:function(){t&&t.remove()}}},t.x={val:1===n?-A:A,animation:{time:20,delay:1,easing:"outCubic"}},n===-1?this.add(e,t):this.add(e)):(t&&t.remove(),this.add(e))},backFallback:function(){this.previous&&(s.popup.direction=-1,this.previous instanceof Object?(s.popup.data=this.previous.data,s.popup.val=this.previous.val):s.popup.val=this.previous)}}),overlay:{display:"none"}}),n.topbar.holder.righticon.extend({fn:function(){}}),t.exports=n.Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./article":"/Users/shawn/Work/mtv-play/components/popup/article.js","./auth":"/Users/shawn/Work/mtv-play/components/popup/auth.js","./buy":"/Users/shawn/Work/mtv-play/components/popup/buy.js","./comingSoon":"/Users/shawn/Work/mtv-play/components/popup/comingSoon.js","./devices":"/Users/shawn/Work/mtv-play/components/popup/devices.js","./faq":"/Users/shawn/Work/mtv-play/components/popup/faq.js","./intro":"/Users/shawn/Work/mtv-play/components/popup/intro.js","./languages":"/Users/shawn/Work/mtv-play/components/popup/languages.js","./mobile":"/Users/shawn/Work/mtv-play/components/popup/mobile.js","./newsletter":"/Users/shawn/Work/mtv-play/components/popup/newsletter.js","./operator":"/Users/shawn/Work/mtv-play/components/popup/operator.js","./profile":"/Users/shawn/Work/mtv-play/components/popup/profile.js","./roadblock":"/Users/shawn/Work/mtv-play/components/popup/roadblock.js","./settings":"/Users/shawn/Work/mtv-play/components/popup/settings.js","./share":"/Users/shawn/Work/mtv-play/components/popup/share.js","./style.less":"/Users/shawn/Work/mtv-play/components/popup/style.less","./upgrade":"/Users/shawn/Work/mtv-play/components/popup/upgrade.js","./wifi":"/Users/shawn/Work/mtv-play/components/popup/wifi.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/network/ajax":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/ajax.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/intro.js":[function(e,t,n){function i(e,t,n){var i=120,s=10,r=this.children.length,a=this._pos||(this._pos=0),l=a;Math.abs(n.x)>s?(n.x<0&&!(t.x>i)&&(l=Math.max(a-1,-r+1)),n.x>0&&!(t.x<-i)&&(l=Math.min(a+1,0))):(t.x<-i&&(l=Math.max(a-1,-r+1)),t.x>i&&(l=Math.min(a+1,0))),this.x._e&&(this.x={_esub:this.x._e._val}),o(this,l)}function o(e,t){var n=e._pos||(e._pos=0);e._dots;t!==n&&(e.x={multiply:t},e._pos=t)}var s=e("old-vigour-js/app/ui/element"),r=e("../button"),a=e("../img"),l=e("./page"),c=e("old-vigour-js/app/"),u=new s({img:new a.Intro({on:{$new:{defer:function(e){this._parent._caller.background.update(),e()}}}})}).Class;t.exports=n=new l({on:{$parent:{defer:function(e){var t,i=this._parent,o=i._caller,s=o.checkParent("topbar",!0);s&&(t=o.roll,o._topbar=s,t._dots=new n.Dots,s.node.style.backgroundColor="#3a1a58",s.set({holder:{title:{dots:t._dots}}}),t.x=o.parent.parent.w.val-15,i.popup.val=c.popup),e()}},popup:{defer:function(e,t){var n=this._val._val;if("intro"!==n){var i=this._parent._caller._topbar;i&&("settings"===n&&(i.node.style.backgroundColor="#5d4078"),console.log("gaat hier helemaal wrong"),i.holder.title.dots.remove())}e()}}},roll:{css:"intro-roll",x:{val:0,multiply:0,animation:{time:18,easing:"outCubic",complete:function(e){for(var t=this._dots.children,n=t.length-1;n>=0;n--)t[n].css=n===-this._pos?"focus":""}}},append:[u,{"img.background":"1.png","title.text.dictionary":"intro.welcome.title","subtitle.text.dictionary":"intro.welcome.body"},{"img.background":"2.png","title.text.dictionary":"intro.devices.title","subtitle.text.dictionary":"intro.devices.body"},{"img.background":"3.png","title.text.dictionary":"intro.connect.title","subtitle.text.dictionary":"intro.connect.body"},{"img.background":"4.png?1","subtitle.text.dictionary":"intro.free.body",button:new r({"text.dictionary":"intro.free.button","events.click":function(){this.checkParent("on.popup",!0).from="getStartedContinue"}})}],events:{grab:{x:!0,up:i}}}}).Class,n.getStarted=new s({css:"get-started",on:{$parent:{defer:function(e){var t=this._parent,n=t._caller,i=n.checkParent("topbar",!0);i&&(i.node.style.backgroundColor="#5d4078",n._topbar=i),e()}}},"title.text.dictionary":"intro.mobile.title","subtitle.text.dictionary":"intro.mobile.body",append:[r,{css:{addClass:"yes"},"text.dictionary":"intro.mobile.button","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="verifyMobile"}},{css:{addClass:"skip"},"text.dictionary":"button.skip","events.click":function(){this.checkParent("on.popup",!0).from=!1}}]}).Class,n.getStartedContinue=new s({css:"get-started",on:{$parent:{defer:function(e){var t=this._parent,n=t._caller,i=n.checkParent("topbar",!0);i&&(i.node.style.backgroundColor="#5d4078",n._topbar=i),e()}}},"title.text.dictionary":"intro.register.title","subtitle.text.dictionary":"intro.register.body",append:[r,{css:{addClass:"facebook"},"text.dictionary":"text.account.signup.facebook","events.click":function(){var e=this.checkParent("api",!0);e.facebook.login.val=!0}},{css:{addClass:"email"},"text.dictionary":"text.account.signup.email","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="registerEmail"}},{css:{addClass:"operator"},display:{val:"none",$hasOperator:"block"},"text.dictionary":"text.account.signup.operator","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="operatorList"}}],"or.text.dictionary":"text.or",signin:new r({"text.dictionary":"text.account.signin.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="login"}})}).Class,n.Dots=new s({css:"intro-dots",append:[s,{css:"focus"},{},{},{}]}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/languages.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/util"),e("../icon"),e("../item")),o=(e("old-vigour-js/browser/cases"),e("old-vigour-js/util/config")),s=e("old-vigour-js/browser/animation/raf"),r=e("./page");t.exports=new r({css:"languages",on:{$parent:{defer:function(e){this._parent._caller.data=o.languages,this._parent.language._update(),e()}},language:{defer:function(e){var t=this;s(function(){if(t._parent){var n=t._parent._caller,i=t._parent._val||n.checkParent("on.language",!0),o=n.find("_d",i.val);o&&(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=o,o.css={addClass:"current"}),e()}else e(!0)})}}},collection:{data:!0,element:new i({"title.text":{data:!0,dictionary:function(e,t){return t&&"text.languages."+t+".title"}},"events.click":function(){var e=this.checkParent("on.language",!0),t=this.checkParent("on.popup",!0).from;e.$userOrigin.val=String(this.data),t.direction=-1,t.val="settings"}})}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/mobile.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=(e("old-vigour-js/util"),e("../icon"),e("old-vigour-js/browser/cases"),e("../button")),s=e("../text/input"),r=e("../item"),a=e("old-vigour-js/util/config"),l=e("old-vigour-js/browser/animation/raf"),c=e("./page"),u=e("old-vigour-js/app/");n.Verify=new c({css:"verifymobile","on.$parent.defer":function(e){this._parent._caller.data={code:u.telCode},e()},top:{"text.dictionary":"text.enterYourNumber"},country:new r.IconRight({txt:{text:{data:"code",dictionary:function(e,t){return t&&t.slice&&"text.countries."+t.slice(0,2)+".title"},add:[" (+",{data:"code",transform:function(e,t){return t&&a.countrycodes[t]}},")"]}},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="countryCodes"}}),phonenumber:new s({input:"phone","lefticon.html":{data:"code",transform:function(e,t){return t&&("+"+a.countrycodes[t]||t)}}}),verify:new o({text:{dictionary:"text.verify"},"events.click":function(){var e=this.checkParent("api",!0);e.mobile.verify.val={phonenumber:this.parent.phonenumber.val,country:a.countrycodes[this.parent.data.code.val]}}})}).Class,n.CountryCodes=new i({css:"languages codes",on:{$parent:{defer:function(e){this._parent._caller.data=a.mtvmobile,this._parent.language.val=u.telCode,this._parent.language._update(),e()}},language:{defer:function(e){var t=this;l(function(){if(t._parent){var n=t._parent._caller,i=(t._parent._val||n.checkParent("on.language",!0)).from,o=n.find("_d",i.val);o&&(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=o,o.css={addClass:"current"}),e()}else e(!0)})}}},collection:{data:!0,element:new r({"title.text":{data:!0,dictionary:function(e,t){return t&&t.slice&&"text.countries."+t.slice(0,2)+".title"},add:function(e,t){return" (+"+a.countrycodes[String(this.data)]+")"}},"events.click":function(){var e=this.checkParent("on.popup",!0).from;u.telCode.val=String(this.data),e.val="verifyMobile"}})}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/newsletter.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/element"),e("../icon"),e("../item")),o=e("./page"),s=e("old-vigour-js/app/");t.exports=new o({css:"newsletter",newsletterSwitcher:new i.Switcher({css:"ui-item switch","on.$render.defer":function(e){this._parent._caller.righticon.hold.switchOn=s.user.accept_newsletter.from,e()},txt:{"title.text.dictionary":"text.newsletterTitle","subtitle.text.dictionary":"text.newsletterSubtitle"},"events.click":function(){var e=s.user.accept_newsletter.from;e.val=!e.val}})}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/operator.js":[function(e,t,n){function i(e){var t=e.split("__$ESCAPED_");return t[1]||t[0]}var o=e("../button"),s=e("../text/input"),r=e("../item"),a=e("./page"),l=e("./auth"),c=l.RegisterConditions,u=e("old-vigour-js/app/"),d=e("old-vigour-js/app/dictionary"),p=d.get("text.operator.future");n.List=new a({css:"operator",on:{$parent:{defer:function(e){this._parent._caller.data=u.operators,e()}}},top:{text:{dictionary:"text.operator.select"}},collection:{data:!0,element:new r.IconRightSub({extend:{support_classic_registration:function(){},available_from:function(){},available:function(){}},support_classic_registration:{data:"support_classic_registration"},available_from:{data:"available_from"},available:{data:"available"},"events.click":function(){if(this.available.val===!0)if(this.available_from.val)u.notification.val=p.val+" "+this.available_from.val;else{var e=this.checkParent("on.popup",!0).from;e.previous={val:"operatorList",data:this.parent.data},e.data=this.data,e.val=this.support_classic_registration.val===!0?"operatorAuthAlt":"operatorAuth"}else u.notification.val=p.val+" "+this.available_from.val}})}}).Class,n.ListUpgrade=new n.List({collection:{data:!0,element:new r.IconRightSub({extend:{support_classic_registration:function(){},available_from:function(){},available:function(){}},support_classic_registration:{data:"support_classic_registration"},available_from:{data:"available_from"},available:{data:"available"},"events.click":function(){if(this.available.val===!0)if(this.available_from.val)u.notification.val=p.val+" "+this.available_from.val;else{var e=this.checkParent("on.popup",!0).from;e.previous={val:"operatorListUpgrade",data:this.parent.data},e.data=this.data,u.cases.$isLoggedIn.val?e.val="operatorAuthUpgrade":e.val="operatorAuth"}else u.notification.val=p.val+" "+this.available_from.val}})}}).Class,n.Register=new s.Form({css:"login operator",scrollbar:"y",x:{translate:!0},top:{text:{data:!0,dictionary:function(){var e=this.checkParent("data",!0);if(e&&e._name)return"text.operator."+e._name}}},username:new s({input:function(){return u.cases.$hasOperatorRegistration.val?"email":"user"}}),password:new s({input:"password"}),"desktop.confirm":new o({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){console.log("[operator] Register");var e=this.parent;e.done.call(e)}}),getInTouch:{text:{dictionary:"text.operator.help"},button:{on:{url:{data:"url"},faq_url:{data:"faq_url"}},text:{data:"title"},"events.click":function(){u.api.url.val=this.on.faq_url.val||this.on.url.val}}},conditions:new c,verify:["password"],define:{done:function(){if(this.verified){var e={};console.log("[operator] Register verified");var t=this.checkParent("api",!0);e=u.cases.$hasOperatorRegistration.val?{email:this.username.val,password:this.password.val,operator:"boxer"}:{email:this.username.val,password:this.password.val},t.operator.login.val=e}else u.notification.val="invalid"}}}).Class,n.RegisterAlternative=new a({css:"register operator",top:{text:{dictionary:"text.operator.register"}},"!windowsMobile.facebook":new l.FbButton({"text.dictionary":"text.account.signup.facebook","events.click":function(){var e=i(this.parent.data._name);window.localStorage.setItem("registerOperator",e);var t=this.checkParent("api",!0);t.facebook.login.val=!0}}),email:new o({text:{dictionary:"text.account.signup.email"},"events.click":function(){console.log("[operator] RegisterAlternative");var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=this.parent.data,e.val="registerEmail"}}),conditions:new c({css:"alignedTop"})}).Class,n.Upgrade=new n.Register({top:{text:{data:!0,dictionary:function(){var e=this.checkParent("data",!0);if(e&&e._name)return"text.operator."+e._name}}},define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.operator.upgrade.val={operator:i(this.data._name),username:this.username.val,password:this.password.val}}else u.notification.val="invalid"}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./auth":"/Users/shawn/Work/mtv-play/components/popup/auth.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/page.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element");t.exports=new i({x:{translate:!0},scrollbar:"y"}).Class},{"old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"
}],"/Users/shawn/Work/mtv-play/components/popup/profile.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=e("../icon"),s=e("../item"),r=e("old-vigour-js/browser/cases"),a=e("old-vigour-js/app/dictionary"),l=e("old-vigour-js/app/"),c=new i({append:[new s({css:"ui-item",lefticon:new o,title:{}}).Class,{"lefticon.icon":"logout","title.text.dictionary":"text.account.logout","events.click":function(){var e=this.checkParent("on.popup",!0);e.from.val="login",l.user.token.val=!1}}]}).Class;t.exports=n=new i({css:"profile",pic:{icon:new o({icon:"profile",display:{val:function(){return l.user.profilepic.val?"none":"block"},listen:l.user.profilepic}}),img:{background:l.user.profilepic,display:{val:function(){return l.user.profilepic.val?"block":"none"},listen:l.user.profilepic}}},username:{text:{val:l.user.first_name,transform:function(e,t){if(t)return t;var n=l.user.email&&l.user.email.val;return n?n.split("@")[0]:""},listen:l.user.email}},email:{text:l.user.email},holder:{display:{val:l.user.operator_name,transform:function(e,t){return t?"none":"block"}},blocks:{allshows:{bold:{text:{dictionary:"text.all"}},light:{text:{dictionary:"text.nav.shows"}}},allchannels:{display:{val:l.user.role,transform:function(e,t){return 3===t?"none":"table-cell"}},bold:{text:{dictionary:"text.all"}},light:{text:{dictionary:"text.nav.channels"}}},everyepisode:{bold:{text:{dictionary:"text.every"}},light:{text:{dictionary:"text.episode"}}}},unlock:{display:{val:"block",$isUpgraded:"none"},text:{dictionary:"text.purchase.getMore"}}},button:{text:{val:l.user.role,transform:function(e,t){var n=l.user.operator_name.val;return n?a.get("text.premium").val:l.user.role.val?1===l.user.role.val?a.get("text.premium").val:2===l.user.role.val?a.get("text.mtvMobile").val:3===l.user.role.val?a.get("text.trial").val:t:a.get("text.upgrade").val},listen:l.user.operator_name},css:{val:l.user.role.text},"events.click":function(){if(0===l.user.role.val){var e=this.checkParent("on.popup",!0).from;e.previous="profile",e.val=r.$storeAvailable.val||r.$hasMobile.val?"upgrade":"roadblock"}}},operatorSponsor:{display:{val:l.user.operator_name,transform:function(e,t){return t?"block":"none"}},text:"brought to you by",operatorLogo:{background:{val:l.user.operator_name,transform:function(e,t){var n=t&&l.operators;if(n)for(var i in n){var o=n[i];if(o&&(o=o._val)){var s=o.title;if(s&&s.val.toLowerCase()===t.toLowerCase())return o.image._val}}return""}}}},items:new c}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/roadblock.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/app"),s=(e("old-vigour-js/util"),e("../icon"),e("../item")),r=e("old-vigour-js/browser/cases"),a=e("../button"),l=(e("../text/input"),e("old-vigour-js/util/config"),e("../img"),e("./article"),e("./page"));t.exports=n=new l({css:"roadblock",logo:{display:{val:"block",$isLoggedIn:"none"}},"!native.mockup":{display:{val:"none",$isLoggedIn:"block"}},append:[new i({css:"info"}).Class,{"title.text.dictionary":"text.needToRegister","description.text.dictionary":"text.easyRegister",display:{val:"block",$isLoggedIn:"none"}},{"title.text.dictionary":"text.upgradeRequired","description.text.dictionary":"text.upgradeRequired",display:{val:"none",$isLoggedIn:"block",transform:{val:"none",$storeAvailable:!1}}},{"title.text.dictionary":"text.mobileUpgrade","description.text.dictionary":"text.mobileUpgradeInfo","!native.stores":{windowsstore:{},applestore:{},googlestore:{},googlecast:{},samsungtv:{},lgtv:{}},display:{val:"none",$isLoggedIn:"block",transform:{val:!1,$storeAvailable:"none"}}}],signup:new a({display:{val:"block",$isLoggedIn:"none"},"text.dictionary":"text.account.signup.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="register"}}),signin:new a({display:{val:"block",$isLoggedIn:"none"},"text.dictionary":"text.account.signin.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="login"}}),upgrade:new a({display:{val:"none",$isLoggedIn:"block",transform:{val:"none",$storeAvailable:function(){if(r.$isLoggedIn.val)return"block"}}},"text.dictionary":"text.upgrade","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="upgrade"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new a({"text.dictionary":"text.purchase.operator",display:{val:"none",$hasOperator:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=o.cloud.data.get(["mtvData","operators"]),e.val="operatorListUpgrade"}})}).Class,n.Media=new l({css:"roadblock media share","holder.thumb":new s.Thumb({thumb:{h:60,img:{h:60}},righticon:!1}),buy:new a({display:{val:"none",$storeAvailable:"block","!$hasEpisodePass":"none"},text:{dictionary:"text.unlockPrice",add:[" ",o.api.price.single]},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buySingle"}}),or:{display:{val:"none",$storeAvailable:"block","!$hasEpisodePass":"none"},text:{val:"- ",add:[{dictionary:"text.or"}," -"]}},upgrade:new a({"text.dictionary":"text.upgrade","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous={val:"roadblockMedia",data:this.parent.data},e.val="upgrade"}}),mobile:new a({"text.dictionary":"text.purchase.freeWithMTV",display:{val:"none",$hasMobile:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="verifyMobile"}})}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./article":"/Users/shawn/Work/mtv-play/components/popup/article.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/settings.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=(e("old-vigour-js/util"),e("../icon"),e("../item")),s=e("old-vigour-js/browser/cases"),r=(e("../button"),e("../text/input"),e("old-vigour-js/util/config"),e("old-vigour-js/browser/animation/raf"),e("./page"),e("old-vigour-js/app/dictionary")),a=e("old-vigour-js/app/");t.exports=new i({css:"settings",scroller:{language:new o.IconRightSub({txt:{"title.text.dictionary":"text.settings.languages.title","subtitle.text.dictionary":"text.settings.languages.subtitle"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="languages"}}),FAQ:new o.IconRightSub({txt:{"title.text.dictionary":"settings.help","subtitle.text.dictionary":"settings.helpSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="faq"}}),help:new o.IconRightSub({txt:{"title.text.dictionary":"settings.feedback","subtitle.text.dictionary":"settings.feedbackSub"},"events.click":function(){var e=this.checkParent("api",!0);e.email.send.val={address:"helpme@mtvplay.tv",subject:r.get("text.mailHelp.title").val,body:r.get("text.mailHelp.body").val}}}),"$hasMobile.about":new o.IconRightSub({txt:{"title.text.dictionary":"settings.about","subtitle.text.dictionary":"settings.aboutSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from,t=a.user;e.previous="settings",e.data=t.data.from.get(["about","list","0"]),e.val="article"}}),newsletter:new o.IconRightSub({txt:{"title.text.dictionary":"settings.enableNewsletter.title","subtitle.text.dictionary":"settings.enableNewsletter.subtitle"},display:{val:"none",$isLoggedIn:"table"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="newsletter"}}),"native.wifi":new o.IconRightSub({txt:{"title.text.dictionary":"settings.connectivity","subtitle.text.dictionary":"settings.connectivitySub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="wifi"}}),verifyMobile:new o.IconRightSub({display:{val:s.$hasMobile,transform:function(e,t){return t&&s.$isLoggedIn.val?"table":"none"},listen:s.$isLoggedIn},txt:{"title.text.dictionary":"settings.verifyMobile","subtitle.text.dictionary":"settings.verifyMobileSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="settings",e.val="verifyMobile"}}),"native.intro":new o.IconRightSub({txt:{"title.text.dictionary":"settings.intro","subtitle.text.dictionary":"settings.introSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="settings",e.val="intro"}})},version:{text:{val:"MTV Play -",add:[" ",window.package&&window.package.version]}},phone:{h:{parent:"h"},scroller:{scrollbar:"y",h:{parent:"h",sub:80}}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/share.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/util"),e("../icon"),e("../item")),o=(e("old-vigour-js/browser/cases"),e("../button"),e("../text/input"),e("old-vigour-js/util/config"),e("../img"),e("./page"));t.exports=n=new o({css:"share","holder.thumb":new i.Thumb({thumb:{h:60,img:{h:60}},righticon:!1}),facebook:new i.IconLeft({lefticon:{icon:"facebook"},"txt.text.dictionary":"text.shareFacebook","events.click":function(){var e=this.checkParent("api",!0);e.facebook.share.val={val:!0,url:!0}}}),email:new i.IconLeft({lefticon:{icon:"email"},"txt.text.dictionary":"text.shareEmail","events.click":function(){var e=this.checkParent("api",!0);e.email.share.val=!0}})}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/popup/upgrade.js":[function(e,t,n){var i=e("old-vigour-js/app"),o=e("../button"),s=e("./page");n=t.exports=new s({css:"upgrade",block:{img:{},"title.text.dictionary":"text.purchase.goPremium","txt.text.dictionary":"text.purchase.getMore"},bottom:{"text.container":"text.legalContainer"},monthlyFee:new o({text:{dictionary:"text.purchase.monthlyPass.title",add:[" ",i.api.price.monthly]},display:{val:"none",$storeAvailable:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buyMonthly"}}),annualFee:new o({text:{dictionary:"text.purchase.yearlyPass.title",add:[" ",i.api.price.yearly]},display:{val:"none",$storeAvailable:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buyYearly"}}),upgradeUsingPhone:new o({text:{dictionary:"tex.buyPremiumPhoneButton"},display:{val:"block",$storeAvailable:"none"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="roadblockUpgrade"}}),mobile:new o({"text.dictionary":"text.purchase.freeWithMTV",display:{val:"none",$hasMobile:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="verifyMobile"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new o({"text.dictionary":"text.purchase.operator",display:{val:"none",$hasOperator:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.data=i.cloud.data.get(["mtvData","operators"]),e.val="operatorListUpgrade"}})}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/wifi.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/element"),e("../icon"),e("../item")),o=e("./page"),s=e("old-vigour-js/app/");t.exports=new o({css:"wifi",wifiSwitcher:new i.Switcher({css:"ui-item switch","on.$render.defer":function(e){this._parent._caller.righticon.hold.switchOn=s.wifiOnly,e()},txt:{"title.text.dictionary":"settings.enableCellular.title","subtitle.text.dictionary":"settings.enableCellular.subtitle"},"events.click":function(){var e=s.wifiOnly;e.val=!e.val}})}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/rotate-message/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("../icon");t.exports=new i({css:"rotate-message",holder:{icon:new o({icon:"phone"}),message:{text:{dictionary:"text.rotateDevice"}}}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/rotate-message/style.less","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/rotate-message/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/mtv-play/components/second/bar/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/app/dictionary"),s=e("../../icon"),r=e("../../text"),a=o.get("connect.active"),l=o.get("connect.waiting");e("old-vigour-js/browser/cases");t.exports=new i({css:"second-bar",device:new s({icon:{data:"activeClient.device"}}),info:{html:{data:"activeClient.device",transform:function(e,t){return t?a.val+" "+r.highlight(t):l.val},listen:a}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/bar/style.less","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/bar/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/channel/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/"),o=e("old-vigour-js/app/ui/element"),s=e("../../icon"),r=e("../../img"),a=e("../grid"),l=new o({w:{val:a.colWidth,add:10,multiply:2,sub:10},y:{val:a.rowHeight,divide:2,add:40},title:{text:{data:"media.title"}},img:new r({background:{data:"media.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),extratitle:{text:{data:"media.title"}},description:{text:{data:"media.description"}}}),c=new r({h:i.h,w:{val:i.w,sub:[l.w,160]},background:{data:"media.img",range:100},overlay:{message:{swipeicon:new s({icon:"swipeup"}),text:"Press Watch Big your device to start playing!"}}});t.exports=new o({css:"second-channel",information:l,cover:c}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/channel/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/second/channel/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/channels/index.js":[function(e,t,n){e("./style.less");var i=e("../grid"),o=e("old-vigour-js/app/ui/element"),s=e("../../img"),r=e("old-vigour-js/app/"),a=e("../../epg_temp"),l=e("../../player/seekbar"),c=a.clockTime,u=new o({w:{parent:"itemWidth",sub:10},css:"grid-item",img:new s({w:{parent:"w",sub:2},h:{parent:"w",multiply:.75},background:{range:100}}),information:{channeltitle:{css:"ui-item-text",text:{data:"title"}},now:{text:{dictionary:"text.now"}},epg:{showtitle:{text:{data:"title"}},time:{text:{data:"minutes_since_midnight",transform:c,add:[" - ",{data:"endtime",transform:c}]}},bar:new l({seek:{w:{val:a.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"},transform:function(e,t){return isNaN(parseInt(t))?0:100*t+"%"},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.information.epg.data=a.now(t),this.model=!1)}}}).Class;i=new i({css:"second-channels",itemWidth:{val:r.w,sub:160,divide:{val:4,min:4},clear:!0},title:{text:"channels"},y:{val:i.rowHeight,divide:2,add:40},collection:{data:"channels",element:new u},model:function(e){var t=e.channels&&e.channels.keys,n=t&&t.length;n!==this._length&&(this.itemWidth={divide:n},this._length=n)}}),t.exports=i.Class},{"../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../player/seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/channels/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/second/channels/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/discover/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/"),o=e("old-vigour-js/app/ui/element"),s=e("../grid"),r=e("../../img"),a=e("old-vigour-js/browser/cases"),l=new s({itemHeight:s.rowHeight,title:{},w:{self:"itemWidth",add:10,multiply:1},collection:{data:!0},model:{val:function(e){e=e[this.collection._flag.data[2]];var t=e&&e.keys,n=t&&t.length;if(t&&n!==this._length){var i=this.parent;this.w={multiply:Math.ceil(n/4)||1},this._length=n,i._index=null,i.horizontalScroll.update()}}}}).Class,c=new o({title:{text:{dictionary:"text.nav.discover"}},holder:{h:{val:s.rowHeight,add:10,multiply:2,sub:10},w:{val:s.colWidth,add:10,multiply:3,sub:10},roll:{w:{parent:"w"},h:{parent:"h"},x:{parent:"w",multiply:{data:"carousel"},animation:!a.chromecast&&{easing:"outCubic",time:36}},collection:{data:"marquee",element:new r({w:{parent:"w"},h:{parent:"h"},background:{range:100}})}}}}).Class,u=new o;u.extend({horizontalScroll:function(e){var t=e.val,n=.25,i=Math.min(~~(t/n),3);if(i!==this._index){var o=this.children;0===i?this.x=0:1===i?this.x=-o[0].holder.w.val-80:2===i?this.x=-o[0].holder.w.val-80-o[1].w.val-80:this.x=-o[0].holder.w.val-80-o[1].w.val-80-o[2].w.val-80;for(var s,r,a=o.length-1;a>=0;a--)r=o[a],s?r.opacity=0:a!==i?r.opacity=.3:(r.opacity=1,s=!0);this._index=i}}}),t.exports=new u.Class({css:"second-discover","!chromecast.x.animation":{easing:"outCubic",time:36},y:{val:s.rowHeight,divide:2,add:40},horizontalScroll:{data:"scroll"},spotlight:new c,releases:new l({title:{text:{dictionary:function(){var e=i.region.val;if(e){var t=i.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row1."+t}},listen:i.user.role}},collection:{data:"releases"}}),recommended:new l({title:{text:{dictionary:function(){var e=i.region.val;if(e){var t=i.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row2."+t}},listen:i.user.role}},collection:{data:"recommended"}}),free:new l({title:{text:{dictionary:function(){var e=i.region.val;if(e){var t=i.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row3."+t}},listen:i.user.role}},collection:{data:"free"}})}).Class},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/discover/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/discover/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/episode/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/"),o=e("old-vigour-js/app/ui/element"),s=e("../../icon"),r=e("../../img"),a=e("../grid"),l=new o({w:{val:a.colWidth,add:10,multiply:2,sub:10},y:{val:a.rowHeight,divide:2,add:40},title:{text:{data:"show.title"}},holder:{w:{parent:"w"},img:new r({background:{data:"media.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),extratitle:{text:{data:"media.title"}},opacity:{data:"media.number",transform:function(e,t){return t?(this.css="",1):(this.css="dontAnimate",0)}},subtitle:{text:{val:{dictionary:"text.season"},add:[" ",{data:"season.number"}," ",{dictionary:"text.episode"}," ",{data:"media.number"}]}},description:{text:{data:"media.description"}}}}),c=new r({h:i.h,w:{val:i.w,sub:[l.w,160]},background:{data:"show.img",range:100},overlay:{message:{swipeicon:new s({icon:{val:"cast",$isReceiver:"swipeup"}}),text:{dictionary:"text.recieveSecondScreen",transform:!1,$isReceiver:{transform:{dictionary:"text.recieveMainScreen"}}}}}});t.exports=new o({css:"second-episode",information:l,cover:c}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/episode/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/second/episode/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/grid/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/"),o=e("old-vigour-js/app/ui/element"),s=e("old-vigour-js/value"),r=e("../../img"),a=new o,l=new o({w:{parent:"itemWidth"},h:{parent:"itemHeight"},css:"grid-item",img:new r({w:{parent:"w"},h:{parent:"h"},background:{range:100}})}).Class;a.extend({itemWidth:function(){},itemHeight:function(){}}),a.set({itemHeight:{},itemWidth:{self:"itemHeight",divide:.75},collection:{element:new l}}),t.exports=n=a.Class,n.Item=l,n.rowHeight=new s({val:i.h,sub:80,divide:6}),n.colWidth=new s({val:n.rowHeight,divide:.75})},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/grid/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/components/second/grid/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=(e("old-vigour-js/app/"),e("old-vigour-js/browser/cases")),s=e("./switcher"),r=e("./screensaver"),a=e("./bar");t.exports=new i({css:"second-state",switcher:o.phone?new r:new s,"!phone.bar":new a,"phone.button.title.text.dictionary":"text.returnTap"}).Class},{"./bar":"/Users/shawn/Work/mtv-play/components/second/bar/index.js","./screensaver":"/Users/shawn/Work/mtv-play/components/second/screensaver/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/style.less","./switcher":"/Users/shawn/Work/mtv-play/components/second/switcher/index.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/screensaver/index.js":[function(e,t,n){e("./style.less");var i=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/app/ui/switcher")),o=e("old-vigour-js/app/"),s=(e("old-vigour-js/browser/cases"),e("../../img")),r=new s({w:o.w,h:o.h}).Class,a=new r({model:{subscription:{$:{img:!0}},val:function(e){if(e._name){var t=e.keys;if(t){var n=t.length;if(n){var i=t[~~(Math.random()*n)];this.model=!1,this.data=e[i]}}}}}}).Class;t.exports=n=new i({css:"second-screensaver",on:{page:{defer:function(e){var t,n=this.$userOrigin.val,i=this._parent,o=i._caller,s=i.content.from;"discover"===n?t=s.get("marquee.list"):"shows"===n?t=s.get("shows"):"channels"===n&&(t=s.get("channels")),o.transition={element:a,$params:{data:t},$options:{force:!0}},e()}},show:{defer:function(e){var t=this.$userOrigin.val,n=this._parent,i=n._caller;i.transition={element:r,$params:{data:t},$options:{force:!0}},e()}},media:{defer:function(e){var t=this.$userOrigin.val,n=this._parent,i=n._caller;i.transition={element:r,$params:{data:t},$options:{force:!0}},e()}}},onTransition:function(e,t,n,i){t&&(t.opacity={val:0,animation:{start:1,time:12}}),e.opacity={val:1,animation:{start:0,time:12,delay:12,done:function(){t&&t.remove()}}},this.add(e)}}).Class},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/screensaver/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/screensaver/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/show/index.js":[function(e,t,n){e("./style.less");var i=(e("old-vigour-js/app/"),e("old-vigour-js/app/ui/element")),o=e("../grid"),s=e("../../img"),r=e("old-vigour-js/browser/cases"),a=new i({x:{val:0,add:{val:o.colWidth,add:50,multiply:2},animation:!r.chromecast&&{easing:"outCubic",time:36}},collection:{data:"seasons",element:new o({itemHeight:o.rowHeight,title:{text:{val:"season",add:[" ",{data:"number"}]}},w:{self:"itemWidth",add:10,multiply:1},collection:{data:"episodes"},model:{val:function(e){if(e.episodes){var t=e.episodes.keys,n=t.length;n!==this._length&&(this.w={multiply:Math.ceil(n/4)},this._length=n)}}}})}});a.extend({pos:function(e){var t=0|e.val,n=this.children;if(n[1]){t?n[t-1]&&(this.x=this.x.val-n[t-1].node.getBoundingClientRect().right):this.x.val=0;for(var i,o,s=n.length-1;s>=0;s--)o=n[s],i?o.opacity=0:s!==t?o.opacity=.3:(o.opacity=1,i=!0)}}}),t.exports=new i({css:"second-show",on:{show:{defer:function(e){var t=this._parent._caller;t.data=this.from.val,e()}},season:{defer:function(e){var t=this._parent._caller,n=this.from.val;if(n){var i=n&&n._name;t.data||(this._parent.show.val=n._parent._parent),void 0!==i&&(t.roll.pos.val=i)}e()}}},y:{val:o.rowHeight,divide:2,add:40},roll:a.set({pos:0,model:{field:"show",complete:function(){var e=this;window.requestAnimationFrame(function(){e.pos.update(),e.model=!1})}}}),information:{title:{text:{data:"show.title"}},holder:{h:{val:o.rowHeight,add:10,multiply:4,sub:10},w:{val:o.colWidth,add:10,multiply:2,
sub:10},img:new s({background:{data:"show.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),description:{text:{data:"show.description"}}}}}).Class},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/show/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/show/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/shows/index.js":[function(e,t,n){function i(e,t,n,i){for(var o,s,r=e.length-1;r>=0;r--)~t.indexOf(o=e[r])||(s=n[o])&&(s.img.opacity=i)}function o(e,t,n){if(e=n[e],t=n[t],e&&t){var i=s.h.val-80,o=t.node.getBoundingClientRect().bottom;if(o>=i)n.y.val-=o-i+20;else{var r=e.node.getBoundingClientRect().top;r<=0&&(n.y.val-=r)}n.y.val>0&&(n.y.val=0)}}e("./style.less");var s=e("old-vigour-js/app/"),r=e("old-vigour-js/app/ui/element"),a=e("../../icon"),l=e("../grid"),c=e("old-vigour-js/browser/element/properties/collection/display"),u=new l({y:{translate:!0,add:10},"!chromecast.y.animation":{time:36,easing:"outCubic"},itemWidth:{val:s.w,sub:70,divide:6,clear:!0},itemHeight:{self:"itemWidth",divide:4/3,clear:!0},user:{},collection:{data:"shows",options:c,element:new l.Item({display:"inline-block",img:{background:{load:function(e){e.opacity&&e.opacity.val||(e.opacity=.3)}}},model:{val:function(e){var t=e._name;t&&(this.name=t,this.model=!1)}}}),filter:{condition:{title:{$contains:""}},sort:"title"}},model:{subscription:{$:{img:!0,title:!0}}}});u.user.extend({highlight:function(e){var t=e.val,n=this._parent||(this._parent=this.parent);if(t[0]){var s=t.split("."),r=n._old||(n._old=[]);s[0]&&(i(r,s,n,.3),i(s,r,n,1),o(s[0],s[s.length-1],n),n._old=s)}},search:function(e){for(var t=e.val,n=this._parent||(this._parent=this.parent),i="",o=0,s=t&&t.length;o<s;o++)i+="\\s*"+t[o];i+="\\s*",n.filter&&(n.filter.filter={condition:{title:{$contains:i}},sort:"title"})}}),u.user.set({highlight:{data:"highlight"},search:{data:"search"}});var d=new r({searchicon:new a({icon:"search"}),text:{data:"search",transform:function(e,t){return t}}});d.extend({paddingRight:function(e){this.node.style.paddingRight=e.val+"px"}}),t.exports=new r({css:"second-shows",grid:u,search:{searchholder:{searchbox:new d.Class({paddingRight:{self:"text",transform:function(e,t){return t[0]?20:0}},opacity:{self:"text",transform:function(e,t){return t[0]?1:0}}})}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/shows/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/element/properties/collection/display":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/collection/display.js"}],"/Users/shawn/Work/mtv-play/components/second/shows/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/switcher/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/app/ui/switcher"),s=(e("old-vigour-js/browser/cases"),e("../../icon")),r=e("old-vigour-js/app"),a=r.user;t.exports=n=new o({css:"second-switcher",on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}},page:{defer:function(t){var i,o,s,r=this.$userOrigin.val,l=this._parent,c=l._caller,u=l.content.from;if(r){if("discover"===r){void 0===n[r]&&(n[r]=e("../discover"));var d=a.role.val;i=d&&3!==d?{marquee:u.get("discover_marquee_premium.list"),releases:o=u.get("discover_row1_premium.list"),recommended:u.get("discover_row2_premium.list"),free:u.get("discover_row3_premium.list")}:{marquee:u.get("discover_marquee_free.list"),releases:o=u.get("discover_row1_free.list"),recommended:u.get("discover_row2_free.list"),free:u.get("discover_row3_free.list")},i.channels=u.get("channels"),i.watched=l.watched.from,i.scroll=l.scroll.from,i.carousel=l.carousel.from}else"shows"===r?(void 0===n[r]&&(n[r]=e("../shows")),i={shows:o=u.get("shows"),search:l.search.from,highlight:l.highlight.from}):"channels"===r&&(void 0===n[r]&&(n[r]=e("../channels")),i={channels:o=u.get("channels")});o&&(c.transition={element:n[r],$params:{data:i,on:s},$options:{loader:o.from}}),c.current="page"}t()}},show:{defer:function(t){var i,o,s=this.$userOrigin.val,r=this._parent,a=r._caller,l=s._name,c=r.season,u=r.media,d=r.usage;c.from.checkParent("_name",l)||(c.$userOrigin.val=s.from.get("seasons.0")),u.from.checkParent("_name",l)||(u.$userOrigin.val=s.from.get("seasons.0.episodes.0")),o=u.$userOrigin,i=c.$userOrigin,a.transition={element:n.show||(n.show=e("../show")),$params:{on:{season:i},data:{show:s,season:i,media:o,showusage:d.from.get(s.from._contentPath),mediausage:d.from.get(o.from._contentPath),volume:r.volume}},$options:{loader:s.from.seasons}},t()}},season:{defer:function(e,t){t[0]&&this._parent.show._update(),e()}},media:{defer:function(t){var i=this._parent,o=i._caller,s=this.$userOrigin.val;if(s||(s=this.$userOrigin.val=this.from),"episodes"===s._parent._name){var r=s._parent._parent,a=r._parent._parent;o.transition={element:n.episode||(n.episode=e("../episode")),$params:{data:{show:a,season:r,media:s}},$options:{loader:s.from},direction:"page"===o.current?1:"media"===o.current&&-1}}else"channels"===s._parent._name&&(o.transition={element:n.channel||(n.channel=e("../channel")),$params:{data:{media:s}},$options:{loader:s.from},direction:"channel"!==o.current&&1});t()}}},onTransition:function(e,t,n,i){t?(this.add(e,t),t.opacity=0,t.node.pointerEvents="none",this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t&&t.remove(),this._timer=null,i.done&&i.done()},200)):(this.add(e),i.done&&i.done())},loader:new i({css:"second-loader",x:{translate:!0},loadicon:new s({icon:"logo"})})}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../channel":"/Users/shawn/Work/mtv-play/components/second/channel/index.js","../channels":"/Users/shawn/Work/mtv-play/components/second/channels/index.js","../discover":"/Users/shawn/Work/mtv-play/components/second/discover/index.js","../episode":"/Users/shawn/Work/mtv-play/components/second/episode/index.js","../show":"/Users/shawn/Work/mtv-play/components/second/show/index.js","../shows":"/Users/shawn/Work/mtv-play/components/second/shows/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/switcher/style.less","old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/switcher/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(n,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/smartbanner/index.js":[function(e,t,n){(function(t){e("./style.less"),function(e,t,n,i,o,s,r,a,l,c){if(!e[i]||!e[i]._q){for(;a<r.length;)o(s,r[a++]);l=t.createElement(n),l.async=1,l.src="https://cdn.branch.io/branch-latest.min.js",c=t.getElementsByTagName(n)[0],c.parentNode.insertBefore(l,c),e[i]=s}}(window,document,"script","branch",function(e,t){e[t]=function(){e._q.push([t,arguments])}},{_q:[],_v:1},"addListener applyCode banner closeBanner creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setIdentity track validateCode".split(" "),0),t.branch.init("key_live_iam6tXXsY1WSGWH8onTU8hocxDmjmvJJ"),t.branch.banner({icon:"./img/branding/apple-touch-icon-114x114.png",title:"MTV Play",description:"MTV Play – any show, anywhere, anytime!",showDesktop:!1,forgetHide:1},{})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./style.less":"/Users/shawn/Work/mtv-play/components/smartbanner/style.less"}],"/Users/shawn/Work/mtv-play/components/smartbanner/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/mtv-play/components/switcher/index.js":[function(e,t,n){e("./style.less");var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/app/ui/switcher"),s=e("old-vigour-js/browser/cases"),r=e("old-vigour-js/app/");t.exports=n=new o({css:"app-switcher",w:{parent:"w"},h:{parent:"h"},on:{state:{defer:function(t){var o,a,l,c,u,d,p=this._parent,h=p._caller,f=this.from.val,v=p.content._val,m=p.favourites._val,g=p.navigation._val,y=p.receiver._val,_=p.highlight._val,w=p.overlay._val,b=p.watched._val,k=p.search._val,E=p.usage._val,x=p.volume._val,T=p.scroll._val,j=p.carousel._val,A=p.notification._val,S=p.popup._val,C=p.play._val,I=p.loading._val,R=p.activeClient._val;"player"===f?window.StatusBar&&window.StatusBar.hide&&window.StatusBar.hide():window.StatusBar&&window.StatusBar.show&&window.StatusBar.show(),"empty"===f?c=(new i).Class:"first"===f||"player"===f&&(s.desktop||s.tablet)?(c=n.first||(n.first=e("../first")),s.tv?(u={switcher:{on:{content:v,page:g.page,show:g.show,media:g.media}}},u.sidemenu={data:{page:g.page}}):(u={on:{overlay:w,popup:S,notification:A,loading:I,state:this.from},section:{on:{msmedia:y.media,usage:E,play:y.playing,volume:y.volume},topbar:{on:{page:g.page,show:g.show,media:g.media}},switcher:{on:{content:v,favourites:m,page:g.page,show:g.show,season:g.season,media:g.media,highlight:_,scroll:T,search:k,usage:E,volume:x,watched:b,carousel:j,play:C,ms:y}}}},s.phone?u.section.topmenu={data:{page:g.page}}:u.sidemenu={data:{page:g.page}})):"second"===f?(c=n[f]||(n[f]=e("../second")),u={switcher:{on:{content:p.content,page:g.page,show:g.show,season:g.season,channel:g.channel,media:g.media,highlight:_,scroll:T,search:k,usage:E,watched:b,carousel:j}},bar:{data:{activeClient:R}}}):"player"===f&&(c=n[f]||(n[f]=e("../player")),o=this._val.video?this._val.video.from:g.media.from,"episodes"===o._parent._name?(a=o._parent._parent,l=a._parent._parent,u={data:{show:l,season:a,media:o,mediausage:E.from.get(o._contentPath),volume:x}}):"channels"===o._parent._name&&(u={data:{media:o,mediausage:E.from.get(o._contentPath),volume:x}})),c&&(h.transition={element:c,$params:u,$options:{force:d}},r.user.updateNavigation()),t()}}},onTransition:function(e,t){t&&t.remove(),this.add(e)}}).Class},{"../first":"/Users/shawn/Work/mtv-play/components/first/index.js","../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../second":"/Users/shawn/Work/mtv-play/components/second/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/switcher/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/switcher/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/text/index.js":[function(e,t,n){var i=e("old-vigour-js/app/ui/element"),o=e("old-vigour-js/app/dictionary"),s=o.get("text.season"),r=o.get("text.seasons"),a=o.get("text.episode"),l=o.get("text.episodes");n.Title=new i({text:{data:"title"}}).Class,n.Subtitle=new i({text:{data:{val:function(e){if(e&&(e=e.from),!e)return"";if(e.subtitle)return e.subtitle.val||"";if(e.number){var t=e._parent._parent,n=t.number?t.number.val:e.season&&e.season.val||(0|t._name)+1;if("seasons"===e._parent._name)return s.val+" "+e.number.val;if(!isNaN(n))return s.val+" "+n+" "+a.val+" "+e.number.val}if(e.seasonCount&&e.episodeCount){var i=e.seasonCount.val,o=e.seasonCount.val>1?r.val:s.val,c=e.episodeCount.val,u=e.episodeCount.val>1?l.val:a.val;return i+" "+o+" "+c+" "+u||""}return""},listen:["seasonCount","episodeCount","subtitle","number","season"]},listen:o}}).Class,n.TitleSubtitle=new i({title:new n.Title,subtitle:new n.Subtitle}).Class,n.Description=new i({text:{data:"media.description",default:{dictionary:"text.noDescription"}}}).Class,n.highlight=function(e){var t=e.charAt(0),n=e.slice(1),i="i"!==t?t.toUpperCase()+n:t+n.charAt(0).toUpperCase()+n.slice(1);return'<span class="text-highlight">'+i+"</span>"}},{"old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/text/input.js":[function(e,t,n){function i(e,t){t.focused=e,t.corrected||(t.corrected=c.h.val);var n=p.y(e),i=t.corrected-380;n>i&&(d.ios||(t.focusing=!0),t.y.animation||d.ios||(t.y={animation:{time:10,easing:"outCubic",complete:function(){this.focusing=!1}}}),t.y={sub:n-i-10})}function o(e){var t=this.node;document.body.scrollTop=0,window.requestAnimationFrame(function(){document.body.scrollTop=0});var n=this.parent.input;if(c.blockResize=!0,this.parent.css="ui-item ui-input active focus",t.value===this.text.val&&(t.value=""),n&&"password"===n.val&&(t.setAttribute("type","password"),t.setAttribute("autocapitalize","off")),v){var i=this,o=function(){s.call(i),t.removeEventListener("blur",o,!0)};t.addEventListener("blur",o,!0)}}function s(){if(!this.focusing){window.scrollTo(0,0),c.blockResize=!1;var e,t=this.parent.input;d.touch&&t&&t.holder&&(e=t.holder.val,e&&!e.focusing&&(e.y={sub:0})),""===this.node.value?(this.node.value=this.text.val,this.parent.css="ui-item ui-input",t&&"password"===t.val&&this.node.setAttribute("type","text")):this.parent.css="ui-item ui-input active"}}function r(e){var t,n=this.node.type,i=this.parent,o=this.node.value;if("text"!==n||i.input){t=i.input.val,"password"===t?i.verified=o.length>3:"email"===n||"email"===t?(i.verified=/^[a-zA-Z0-9._%+-]+@[A-Za-z0-9.-]+\.[a-zA-Z]{2,4}$/.test(o),this.node.value=o.trim()):i.input&&"phone"===i.input.val?i.verified=/^(\d){6,12}$/.test(o):i.input&&i.input.verify&&1===i.input.verify.__t?i.verified=o>i.input.verify[0]&&o<i.input.verify[1]:i.verified=o.length>2,i.input&&i.input.keyup&&"function"==typeof i.input.keyup._val&&i.input.keyup._val.call(i,i.verified);var s,r,a,l=this._form!==!1&&(this._form||(this._form=this.checkParent("verify"))||!1),c=l&&l.verify;if(c){for(r=this._righticon||(this._righticon=this.checkParent("topbar.holder.righticon",!0)),a=c.length-1;a>=0;a--)l[c[a]._val].verified||(s=!0,l.verificationError=c[a]);r.css=s?"pointer":"pointer verified",r.verified=!s,l.verified=!s}}}e("./style.less");var a=e("old-vigour-js/app/ui/element"),l=e("../icon"),c=e("old-vigour-js/app/"),u=e("old-vigour-js/browser/events"),d=e("old-vigour-js/browser/cases"),p=e("old-vigour-js/browser/events/offset"),h=e("old-vigour-js/browser/ua"),f=new a({css:"ui-item ui-input",lefticon:new l({icon:"email"})}),v="firefox"===h.browser;f.extend({input:function(e){var t,n=e.val,i=e&&e.text&&e.text.val;n&&(t={user:{text:i||"text.username",icon:"profile"},email:{text:i||"text.email",msg:"text.account.invalid.email"},password:{text:i||"text.password",msg:"text.invalid.password",icon:"locked"},phone:{text:"text.cellphone",msg:"text.invalid.phoneWord"}},this.txt.text=t[n]?{dictionary:t[n].text}:n,this.lefticon.icon=t[n].icon||n),"phone"===n?this.txt.attr={type:"tel",pattern:"d*"}:"age"===n&&(this.txt.attr={type:"tel",pattern:"d*"})}},{name:"key",get:function(){return this.input&&this.input.val||this.txt.attr&&this.txt.attr.type.val}},{name:"val",get:function(){return this.txt.node.value}}),t.exports=n=f.set({txt:{node:"input",attr:{type:"text",autocapitalize:"off"},text:"search",css:"inactive",events:{focusin:o,focusout:s,keyup:v&&o,input:r,move:function(e){e.preventDefault()},click:function(e){e&&e.preventDefault(),c.blockResize=!0,this.node.focus(),v&&o.call(this)},down:function(e){if(!u.click.block){var t=this,n=t.parent.input&&t.parent.input.holder;d.touch&&n&&n.val&&i(t,n.val)}}}},events:{out:function(e){"INPUT"!==e.target.tagName&&this.txt.node.blur()}}}).Class,u.confirm={val:{up:function(e,t,n){e.preventDefault(),t.call(this,e,n)}}},n.Form=new a({node:"form",submitfix:{node:"input","attr.type":"submit"},events:{submit:function(e){e.preventDefault(),d.touch&&!this.fDown||!this.done||this.done()},down:function(e){this.fDown=!0}}}).Class,n.Form.base.extend({verify:function(){}})},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/text/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js","old-vigour-js/browser/events/offset":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/offset.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/components/text/search.js":[function(e,t,n){function i(e,t){d.touch&&(u.click.block=1!==t,e.items.opacity=t,e.favos.opacity=t)}function o(e,t){if(e&&2===e.__t)throw new Error("object in search");if(e=e&&e.trim()||"",e.length)t.favos.display="none",t.search.clear.icon="closesmall";else{t.favos.display="block",t.search.clear.icon="empty";var n=e?e.trim():"";t.search.field.data.search.$userOrigin=n}for(var i="",o=0,s=e.length;o<s;o++){var r=e[o];"$"!==r&&"S"!==r.toUpperCase()||(r="(\\$|s)"),i+="\\s*"+r}i+="\\s*",t.items.filter&&(t.items.filter.filter={condition:{title:{$contains:i}},sort:"title"})}function s(e,t,n){this.css="ui-search focus",n||(p.blockResize=!0,i(this.parent,.5),this.field.node.focus(),this._active=!0)}function r(e,t){var n=t?"":e.field.node.value.trim();n.length||(e.css="ui-search",e.clear.icon="empty",e.field.node.value=n,o(n,e.parent)),i(e.parent,1),e._active=!1,p.blockResize=!1}e("./style.less");var a=e("old-vigour-js/app/ui/element"),l=e("../icon"),c=e("old-vigour-js/app/dictionary"),u=e("old-vigour-js/browser/events"),d=e("old-vigour-js/browser/cases"),p=e("old-vigour-js/app/");t.exports=new a({node:"form",css:"ui-search",name:"search",w:{val:210,touch:{val:p.w,sub:30}},icon:new l({icon:"search",h:30,placeholder:{"text.dictionary":"text.search"}}),field:{node:"input",attr:{type:"text",name:"search",listen:c.get("text.search"),placeholder:c.get("text.search")},text:{data:function(e){if(e){var t=e.search.val;return(this.first||t)&&(this.first=!0),this.first&&(o(t,this.parent.parent),void 0===t||t===!1?r(this.parent):this.parent.fromDown?this.parent.fromDown=!1:s.call(this.parent,!1,!1,!0)),t||""}return""}},events:{keydown:function(e){13==e.keyCode&&e.preventDefault()},keyup:function(e){if(9!==e.keyCode){var t=this.node.value.length?this.node.value.trim():"";this.data.search.$userOrigin=t}}}},clear:new l({node:"form",icon:"empty",events:{down:function(e){if(e.prevent=!0,this.parent.fromDown=!0,this.parent.field.data.search.$userOrigin="",d.touch){var t="",n=this.parent.field.node;n.value=t,s.call(this.parent),o(t,this.parent.parent)}else r(this.parent,!0)}}}),cancel:{"text.dictionary":"text.cancel",events:{down:function(e){e.prevent=!0,r(this.parent,!0),this.parent.field.data.search.$userOrigin=""}}},events:{click:s,out:function(e){this._active&&r(this)}}})},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/text/style.less","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/components/text/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/components/ad/style.less"][0].apply(n,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/config.js":[function(e,t,n){window.name="mtvplay",t.exports=n=e("old-vigour-js/util/config").inject({"repository.branch":"branches"},e("old-vigour-js/util/config/ua")),n(function(e){for(var t in e)n[t]=e[t];n.parsed=!0},!1,window.package,!0)},{"old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/util/config/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/ua.js"}],"/Users/shawn/Work/mtv-play/index.js":[function(e,t,n){window.package=e("package.json");var i,o=e("./config");if(o.development&&o.development.button&&(i=e("old-vigour-js/util/debug").native(!1,!1,function(e){},"build")),!i){var s=e("old-vigour-js/browser/cases"),r=e("old-vigour-js/browser/ua");if(~window.location.href.indexOf("$tv")&&(s.tv=!0,r.device="tv"),~window.location.href.indexOf("$chromecast")&&(s.chromecast=!0,r.device="chromecast"),"tv"===r.device&&"linux"===r.platform&&(r.platform="lg"),e("old-vigour-js/app/"),(s.tv||s.chromecast)&&(s.$iplogin=!0),s.chromecast)e("./platform/cast.js");else if(s.tv)e("./platform/tv.js");else{var a=s.native||s.$isIosFull,l="phone"===r.device,c="tablet"===r.device;s.mobileBrowser=(l||c)&&!a,s.iPhoneBrowser=s.ios&&l&&!a,e("./platform/all.js")}}},{"./config":"/Users/shawn/Work/mtv-play/config.js","./platform/all.js":"/Users/shawn/Work/mtv-play/platform/all.js","./platform/cast.js":"/Users/shawn/Work/mtv-play/platform/cast.js","./platform/tv.js":"/Users/shawn/Work/mtv-play/platform/tv.js","old-vigour-js/app/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/util/debug":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/debug/index.js","package.json":"package.json"}],"/Users/shawn/Work/mtv-play/node_modules/after/index.js":[function(e,t,n){function i(e,t,n){function i(e,o){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(s=!0,t(e),t=n):0!==i.count||s||t(null,o)}var s=!1;return n=n||o,i.count=e,0===e?t():i}function o(){}t.exports=i},{}],"/Users/shawn/Work/mtv-play/node_modules/arraybuffer.slice/index.js":[function(e,t,n){t.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var o=new Uint8Array(e),s=new Uint8Array(n-t),r=t,a=0;r<n;r++,a++)s[a]=o[r];return s.buffer}},{}],"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js":[function(e,t,n){(function(e){function n(){for(;o.next;){o=o.next;var e=o.task;o.task=void 0;var t=o.domain;t&&(o.domain=void 0,t.enter());try{e()}catch(e){if(l)throw t&&t.exit(),setTimeout(n,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}r=!1}function i(t){s=s.next={task:t,domain:l&&e.domain,next:null},r||(r=!0,a())}var o={task:void 0,next:null},s=o,r=!1,a=void 0,l=!1;if("undefined"!=typeof e&&e.nextTick)l=!0,a=function(){e.nextTick(n)};else if("function"==typeof setImmediate)a="undefined"!=typeof window?setImmediate.bind(window,n):function(){setImmediate(n)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=n,a=function(){c.port2.postMessage(0)}}else a=function(){setTimeout(n,0)};t.exports=i}).call(this,e("_process"))},{_process:"/Users/shawn/git/gaston/node_modules/process/browser.js"}],"/Users/shawn/Work/mtv-play/node_modules/autolinker/dist/Autolinker.js":[function(e,t,n){!function(e,i){"function"==typeof define&&define.amd?define([],function(){return e.Autolinker=i()}):"object"==typeof n?t.exports=i():e.Autolinker=i()}(this,function(){var e=function(t){e.Util.assign(this,t);var n=this.hashtag;if(n!==!1&&"twitter"!==n&&"facebook"!==n&&"instagram"!==n)throw new Error("invalid `hashtag` cfg - see docs")};return e.prototype={constructor:e,urls:!0,email:!0,twitter:!0,phone:!0,hashtag:!1,newWindow:!0,stripPrefix:!0,truncate:void 0,className:"",htmlParser:void 0,matchParser:void 0,tagBuilder:void 0,link:function(e){if(!e)return"";for(var t=this.getHtmlParser(),n=t.parse(e),i=0,o=[],s=0,r=n.length;s<r;s++){var a=n[s],l=a.getType(),c=a.getText();if("element"===l)"a"===a.getTagName()&&(a.isClosing()?i=Math.max(i-1,0):i++),o.push(c);else if("entity"===l||"comment"===l)o.push(c);else if(0===i){var u=this.linkifyStr(c);o.push(u)}else o.push(c)}return o.join("")},linkifyStr:function(e){return this.getMatchParser().replace(e,this.createMatchReturnVal,this)},createMatchReturnVal:function(t){var n;if(this.replaceFn&&(n=this.replaceFn.call(this,this,t)),"string"==typeof n)return n;if(n===!1)return t.getMatchedText();if(n instanceof e.HtmlTag)return n.toAnchorString();var i=this.getTagBuilder(),o=i.build(t);return o.toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchParser:function(){var t=this.matchParser;return t||(t=this.matchParser=new e.matchParser.MatchParser({urls:this.urls,email:this.email,twitter:this.twitter,phone:this.phone,hashtag:this.hashtag,stripPrefix:this.stripPrefix})),t},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.link=function(t,n){var i=new e(n);return i.link(t)},e.match={},e.htmlParser={},e.matchParser={},e.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},extend:function(t,n){var i=t.prototype,o=function(){};o.prototype=i;var s;s=n.hasOwnProperty("constructor")?n.constructor:function(){i.constructor.apply(this,arguments)};var r=s.prototype=new o;return r.constructor=s,r.superclass=i,delete n.constructor,e.Util.assign(r,n),s},ellipsis:function(e,t,n){return e.length>t&&(n=null==n?"..":n,e=e.substring(0,t-n.length)+n),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,i=[],o=0;n=t.exec(e);)i.push(e.substring(o,n.index)),i.push(n[0]),o=n.index+n[0].length;return i.push(e.substring(o)),i},trim:function(e){return e.replace(this.trimRegex,"")}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){var n=this.getAttrs();return n[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var n=this.getAttrs();return e.Util.assign(n,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var n,i=this.getClass(),o=this.whitespaceRegex,s=e.Util.indexOf,r=i?i.split(o):[],a=t.split(o);n=a.shift();)s(r,n)===-1&&r.push(n);return this.getAttrs().class=r.join(" "),this},removeClass:function(t){for(var n,i=this.getClass(),o=this.whitespaceRegex,s=e.Util.indexOf,r=i?i.split(o):[],a=t.split(o);r.length&&(n=a.shift());){var l=s(r,n);l!==-1&&r.splice(l,1)}return this.getAttrs().class=r.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return(" "+this.getClass()+" ").indexOf(" "+e+" ")!==-1},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return t=t?" "+t:"",["<",e,t,">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")}}),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},build:function(t){var n=new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t.getType(),t.getAnchorHref()),innerHtml:this.processAnchorText(t.getAnchorText())});return n},createAttrs:function(e,t){var n={href:t},i=this.createCssClass(e);return i&&(n.class=i),this.newWindow&&(n.target="_blank"),n},createCssClass:function(e){var t=this.className;return t?t+" "+t+"-"+e:""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){return e.Util.ellipsis(t,this.truncate||Number.POSITIVE_INFINITY)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/!--([\s\S]+?)--/,t=/[0-9a-zA-Z][0-9a-zA-Z:]*/,n=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,i=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,o=n.source+"(?:\\s*=\\s*"+i.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",o,"|",i.source+")",")*",">",")","|","(?:","<(/)?","(?:",e.source,"|","(?:","("+t.source+")","(?:","\\s+",o,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,n,i=this.htmlRegex,o=0,s=[];null!==(t=i.exec(e));){var r=t[0],a=t[3],l=t[1]||t[4],c=!!t[2],u=e.substring(o,t.index);u&&(n=this.parseTextAndEntityNodes(u),s.push.apply(s,n)),a?s.push(this.createCommentNode(r,a)):s.push(this.createElementNode(r,l,c)),o=t.index+r.length}if(o<e.length){var d=e.substring(o);d&&(n=this.parseTextAndEntityNodes(d),s.push.apply(s,n))}return s},parseTextAndEntityNodes:function(t){for(var n=[],i=e.Util.splitAndCapture(t,this.htmlCharacterEntitiesRegex),o=0,s=i.length;o<s;o+=2){var r=i[o],a=i[o+1];r&&n.push(this.createTextNode(r)),a&&n.push(this.createEntityNode(a))}return n},createCommentNode:function(t,n){return new e.htmlParser.CommentNode({text:t,comment:e.Util.trim(n)})},createElementNode:function(t,n,i){return new e.htmlParser.ElementNode({text:t,tagName:n.toLowerCase(),closing:i})},createEntityNode:function(t){return new e.htmlParser.EntityNode({text:t})},createTextNode:function(t){
return new e.htmlParser.TextNode({text:t})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{text:"",constructor:function(t){e.Util.assign(this,t)},getType:e.Util.abstractMethod,getText:function(){return this.text}}),e.htmlParser.CommentNode=e.Util.extend(e.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.matchParser.MatchParser=e.Util.extend(Object,{urls:!0,email:!0,twitter:!0,phone:!0,hashtag:!1,stripPrefix:!0,matcherRegex:function(){var e=/(^|[^\w])@(\w{1,15})/,t=/(^|[^\w])#(\w{1,139})/,n=/(?:[\-;:&=\+\$,\w\.]+@)/,i=/(?:\+?\d{1,3}[-\s.])?\(?\d{3}\)?[-\s.]?\d{3}[-\s.]\d{4}/,o=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,s=/(?:www\.)/,r=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,a=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|press|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,l=/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/;return new RegExp(["(",e.source,")","|","(",n.source,r.source,a.source,")","|","(","(?:","(",o.source,r.source,")","|","(?:","(.?//)?",s.source,r.source,")","|","(?:","(.?//)?",r.source,a.source,")",")","(?:"+l.source+")?",")","|","(",i.source,")","|","(",t.source,")"].join(""),"gi")}(),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,constructor:function(t){e.Util.assign(this,t),this.matchValidator=new e.MatchValidator},replace:function(e,t,n){var i=this;return e.replace(this.matcherRegex,function(e,o,s,r,a,l,c,u,d,p,h,f,v){var m=i.processCandidateMatch(e,o,s,r,a,l,c,u,d,p,h,f,v);if(m){var g=t.call(n,m.match);return m.prefixStr+g+m.suffixStr}return e})},processCandidateMatch:function(t,n,i,o,s,r,a,l,c,u,d,p,h){var f,v=l||c,m="",g="";if(r&&!this.urls||s&&!this.email||u&&!this.phone||n&&!this.twitter||d&&!this.hashtag||!this.matchValidator.isValidMatch(r,a,v))return null;if(this.matchHasUnbalancedClosingParen(t))t=t.substr(0,t.length-1),g=")";else{var y=this.matchHasInvalidCharAfterTld(r,a);y>-1&&(g=t.substr(y),t=t.substr(0,y))}if(s)f=new e.match.Email({matchedText:t,email:s});else if(n)i&&(m=i,t=t.slice(1)),f=new e.match.Twitter({matchedText:t,twitterHandle:o});else if(u){var _=t.replace(/\D/g,"");f=new e.match.Phone({matchedText:t,number:_})}else if(d)p&&(m=p,t=t.slice(1)),f=new e.match.Hashtag({matchedText:t,serviceName:this.hashtag,hashtag:h});else{if(v){var w=v.match(this.charBeforeProtocolRelMatchRegex)[1]||"";w&&(m=w,t=t.slice(1))}f=new e.match.Url({matchedText:t,url:t,protocolUrlMatch:!!a,protocolRelativeMatch:!!v,stripPrefix:this.stripPrefix})}return{prefixStr:m,suffixStr:g,match:f}},matchHasUnbalancedClosingParen:function(e){var t=e.charAt(e.length-1);if(")"===t){var n=e.match(/\(/g),i=e.match(/\)/g),o=n&&n.length||0,s=i&&i.length||0;if(o<s)return!0}return!1},matchHasInvalidCharAfterTld:function(e,t){if(!e)return-1;var n=0;t&&(n=e.indexOf(":"),e=e.slice(n));var i=/^((.?\/\/)?[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.[A-Za-z]+)/,o=i.exec(e);return null===o?-1:(n+=o[1].length,e=e.slice(o[1].length),/^[^.A-Za-z:\/?#]/.test(e)?n:-1)}}),e.MatchValidator=e.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(e,t,n){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)||this.isInvalidProtocolRelativeMatch(n))},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||e.indexOf(".")!==-1)},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)},isInvalidProtocolRelativeMatch:function(e){return!!e&&this.invalidProtocolRelMatchRegex.test(e)}}),e.match.Match=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod}),e.match.Email=e.Util.extend(e.match.Match,{getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Hashtag=e.Util.extend(e.match.Match,{getType:function(){return"hashtag"},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),e.match.Phone=e.Util.extend(e.match.Match,{getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+this.number},getAnchorText:function(){return this.matchedText}}),e.match.Twitter=e.Util.extend(e.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),e.match.Url=e.Util.extend(e.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getUrl();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix&&(e=this.stripUrlPrefix(e)),e=this.removeTrailingSlash(e)},stripUrlPrefix:function(e){return e.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}}),e})},{}],"/Users/shawn/Work/mtv-play/node_modules/backo2/index.js":[function(e,t,n){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}},{}],"/Users/shawn/Work/mtv-play/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,i=new Uint8Array(t),o=i.length,s="";for(n=0;n<o;n+=3)s+=e[i[n]>>2],s+=e[(3&i[n])<<4|i[n+1]>>4],s+=e[(15&i[n+1])<<2|i[n+2]>>6],s+=e[63&i[n+2]];return o%3===2?s=s.substring(0,s.length-1)+"=":o%3===1&&(s=s.substring(0,s.length-2)+"=="),s},n.decode=function(t){var n,i,o,s,r,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(n=0;n<l;n+=4)i=e.indexOf(t[n]),o=e.indexOf(t[n+1]),s=e.indexOf(t[n+2]),r=e.indexOf(t[n+3]),d[c++]=i<<2|o>>4,d[c++]=(15&o)<<4|s>>2,d[c++]=(3&s)<<6|63&r;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],"/Users/shawn/Work/mtv-play/node_modules/blob/index.js":[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=o.buffer}e[t]=i}}}function i(e,t){t=t||{};var i=new s;n(e);for(var o=0;o<e.length;o++)i.append(e[o]);return t.type?i.getBlob(t.type):i.getBlob()}function o(e,t){return n(e),new Blob(e,t||{})}var s=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),a=r&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),l=s&&s.prototype.append&&s.prototype.getBlob;t.exports=function(){return r?a?e.Blob:o:l?i:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/mtv-play/node_modules/colors/colors.js":[function(e,t,n){function i(e,t){var i;if("console"===n.mode)i={bold:["[1m","[22m"],italic:["[3m","[23m"],underline:["[4m","[24m"],inverse:["[7m","[27m"],strikethrough:["[9m","[29m"],white:["[37m","[39m"],grey:["[90m","[39m"],black:["[30m","[39m"],blue:["[34m","[39m"],cyan:["[36m","[39m"],green:["[32m","[39m"],magenta:["[35m","[39m"],red:["[31m","[39m"],yellow:["[33m","[39m"],whiteBG:["[47m","[49m"],greyBG:["[49;5;8m","[49m"],blackBG:["[40m","[49m"],blueBG:["[44m","[49m"],cyanBG:["[46m","[49m"],greenBG:["[42m","[49m"],magentaBG:["[45m","[49m"],redBG:["[41m","[49m"],yellowBG:["[43m","[49m"]};else if("browser"===n.mode)i={bold:["<b>","</b>"],italic:["<i>","</i>"],underline:["<u>","</u>"],inverse:['<span style="background-color:black;color:white;">',"</span>"],strikethrough:["<del>","</del>"],white:['<span style="color:white;">',"</span>"],grey:['<span style="color:gray;">',"</span>"],black:['<span style="color:black;">',"</span>"],blue:['<span style="color:blue;">',"</span>"],cyan:['<span style="color:cyan;">',"</span>"],green:['<span style="color:green;">',"</span>"],magenta:['<span style="color:magenta;">',"</span>"],red:['<span style="color:red;">',"</span>"],yellow:['<span style="color:yellow;">',"</span>"],whiteBG:['<span style="background-color:white;">',"</span>"],greyBG:['<span style="background-color:gray;">',"</span>"],blackBG:['<span style="background-color:black;">',"</span>"],blueBG:['<span style="background-color:blue;">',"</span>"],cyanBG:['<span style="background-color:cyan;">',"</span>"],greenBG:['<span style="background-color:green;">',"</span>"],magentaBG:['<span style="background-color:magenta;">',"</span>"],redBG:['<span style="background-color:red;">',"</span>"],yellowBG:['<span style="background-color:yellow;">',"</span>"]};else{if("none"===n.mode)return e+"";console.log('unsupported mode, try "browser", "console" or "none"')}return i[t][0]+e+i[t][1]}function o(e){var t=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(e).forEach(function(i){t.indexOf(i)!==-1?console.log("warn: ".red+("String.prototype"+i).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof e[i]?l(i,function(){return n[e[i]](this)}):l(i,function(){for(var t=this,o=0;o<e[i].length;o++)t=n[e[i][o]](t);return t})})}function s(e){return function(){if(!a)return this.replace(/( )/,"$1");var t=this.split("");return t=t.map(e),t.join("")}}function r(e,t){function n(e){var t=Math.floor(Math.random()*e);return t}function i(e){var t=!1;return r.filter(function(n){t=n===e}),t}function o(e,t){var o,r,a="";t=t||{},t.up=t.up||!0,t.mid=t.mid||!0,t.down=t.down||!0,t.size=t.size||"maxi",e=e.split("");for(r in e)if(!i(r)){switch(a+=e[r],o={up:0,down:0,mid:0},t.size){case"mini":o.up=n(8),o.min=n(2),o.down=n(8);break;case"maxi":o.up=n(16)+3,o.min=n(4)+1,o.down=n(64)+3;break;default:o.up=n(8)+1,o.mid=n(6)/2,o.down=n(8)+1}var l=["up","mid","down"];for(var c in l)for(var u=l[c],d=0;d<=o[u];d++)t[u]&&(a+=s[u][n(s[u].length)])}return a}var s={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},r=[].concat(s.up,s.down,s.mid);return o(e)}var a=!1;if("undefined"!=typeof t&&(a=!0),a)n.mode="console";else{var n={},t={};n.mode="browser"}var l=function(e,t){n[e]=function(e){return t.apply(e)},String.prototype.__defineGetter__(e,t)},c=["bold","underline","strikethrough","italic","inverse","grey","black","yellow","red","green","blue","white","cyan","magenta","greyBG","blackBG","yellowBG","redBG","greenBG","blueBG","whiteBG","cyanBG","magentaBG"];c.forEach(function(e){l(e,function(){return i(this,e)})});var u=function(){var e=["red","yellow","green","blue","magenta"];return function(t,n,o){return" "===t?t:i(t,e[n++%e.length])}}();n.themes={},n.addSequencer=function(e,t){l(e,s(t))},n.addSequencer("rainbow",u),n.addSequencer("zebra",function(e,t,n){return t%2===0?e:e.inverse}),n.setTheme=function(t){if("string"==typeof t)try{return n.themes[t]=e(t),o(n.themes[t]),n.themes[t]}catch(e){return console.log(e),e}else o(t)},l("stripColors",function(){return(""+this).replace(/\x1B\[\d+m/g,"")}),l("zalgo",function(){return r(this)})},{}],"/Users/shawn/Work/mtv-play/node_modules/component-bind/index.js":[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],"/Users/shawn/Work/mtv-play/node_modules/component-emitter/index.js":[function(e,t,n){function i(e){if(e)return o(e)}function o(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===t||i.fn===t){n.splice(o,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,o=n.length;i<o;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],"/Users/shawn/Work/mtv-play/node_modules/component-inherit/index.js":[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js":[function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(s=o))}),e.splice(s,0,i),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function r(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function a(){var e;try{e=n.storage.debug}catch(e){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=s,n.formatArgs=o,n.save=r,n.load=a,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{"./debug":"/Users/shawn/Work/mtv-play/node_modules/debug/debug.js"}],"/Users/shawn/Work/mtv-play/node_modules/debug/debug.js":[function(e,t,n){function i(){return n.colors[u++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,s=t-(c||t);e.diff=s,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());var r=Array.prototype.slice.call(arguments);r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var a=0;r[0]=r[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;a++;var o=n.formatters[i];if("function"==typeof o){var s=r[a];t=o.call(e,s),r.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(r=n.formatArgs.apply(e,r));var l=o.log||n.log||console.log.bind(console);l.apply(e,r)}t.enabled=!1,o.enabled=!0;var s=n.enabled(e)?o:t;return s.namespace=e,s}function s(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,o=0;o<i;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function r(){n.enable("")}function a(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=l,n.disable=r,n.enable=s,n.enabled=a,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,u=0},{ms:"/Users/shawn/Work/mtv-play/node_modules/ms/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/index.js":[function(e,t,n){t.exports=e("./lib/")},{"./lib/":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/index.js":[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/socket.js","engine.io-parser":"/Users/shawn/Work/mtv-play/node_modules/engine.io-parser/lib/browser.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/socket.js":[function(e,t,n){(function(n){function i(e,t){if(!(this instanceof i))return new i(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized;var o="object"==typeof n&&n;o.global===o&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var s=e("./transports"),r=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=i,i.priorWebsocketSuccess=!1,r(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=e("./transport"),i.transports=e("./transports"),i.parser=e("engine.io-parser"),i.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new s[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",u),!u)return;i.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&(a("changing transport and sending upgrade packet"),c(),p.setTransport(u),u.send([{type:"upgrade"}]),p.emit("upgrade",u),u=null,p.upgrading=!1,p.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,p.emit("upgradeError",n)}}))}function n(){d||(d=!0,c(),u.close(),u=null)}function o(t){var i=new Error("probe error: "+t);i.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",i)}function s(){o("transport closed")}function r(){o("socket closed")}function l(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),n())}function c(){u.removeListener("open",t),u.removeListener("error",o),u.removeListener("close",s),p.removeListener("close",r),p.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,p=this;i.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",o),u.once("close",s),this.once("close",r),this.once("upgrading",l),u.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},i.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},i.prototype.onError=function(e){a("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transport.js","./transports":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/index.js","component-emitter":"/Users/shawn/Work/mtv-play/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/mtv-play/node_modules/engine.io-parser/lib/browser.js",indexof:"/Users/shawn/Work/mtv-play/node_modules/indexof/index.js",parsejson:"/Users/shawn/Work/mtv-play/node_modules/parsejson/index.js",parseqs:"/Users/shawn/Work/mtv-play/node_modules/parseqs/index.js",parseuri:"/Users/shawn/Work/mtv-play/node_modules/parseuri/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transport.js":[function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var o=e("engine.io-parser"),s=e("component-emitter");t.exports=i,s(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){
if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":"/Users/shawn/Work/mtv-play/node_modules/component-emitter/index.js","engine.io-parser":"/Users/shawn/Work/mtv-play/node_modules/engine.io-parser/lib/browser.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/index.js":[function(e,t,n){(function(t){function i(e){var n,i=!1,a=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),i=e.hostname!=location.hostname||u!=e.port,a=e.secure!=c}if(e.xdomain=i,e.xscheme=a,n=new o(e),"open"in n&&!e.forceJSONP)return new s(e);if(!l)throw new Error("JSONP disabled");return new r(e)}var o=e("xmlhttprequest-ssl"),s=e("./polling-xhr"),r=e("./polling-jsonp"),a=e("./websocket");n.polling=i,n.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/polling-jsonp.js","./polling-xhr":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/polling-xhr.js","./websocket":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/websocket.js","xmlhttprequest-ssl":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/polling-jsonp.js":[function(e,t,n){(function(n){function i(){}function o(e){s.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=i)},!1)}var s=e("./polling"),r=e("component-inherit");t.exports=o;var a,l=/\n/g,c=/\\n/g;r(o,s),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';s=document.createElement(e)}catch(e){s=document.createElement("iframe"),s.name=o.iframeId,s.src="javascript:0"}s.id=o.iframeId,o.form.appendChild(s),o.iframe=s}var o=this;if(!this.form){var s,r=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=u,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}this.form.action=this.uri(),i(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/polling.js","component-inherit":"/Users/shawn/Work/mtv-play/node_modules/component-inherit/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/polling-xhr.js":[function(e,t,n){(function(n){function i(){}function o(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,i=location.port;i||(i=t?443:80),this.xd=e.hostname!=n.location.hostname||i!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function s(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function r(){for(var e in s.requests)s.requests.hasOwnProperty(e)&&s.requests[e].abort()}var a=e("xmlhttprequest-ssl"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=s,u(o,l),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new s(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),o=this;i.on("success",t),i.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=i},o.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(s.prototype),s.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),i=this;try{d("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0))},d("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}n.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},s.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},s.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(e){}n.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),i=[],o=0,s=n.length;o<s;o++)i.push(n[o]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},s.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},n.document&&(s.requestsCount=0,s.requests={},n.attachEvent?n.attachEvent("onunload",r):n.addEventListener&&n.addEventListener("beforeunload",r,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/polling.js","component-emitter":"/Users/shawn/Work/mtv-play/node_modules/component-emitter/index.js","component-inherit":"/Users/shawn/Work/mtv-play/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js","xmlhttprequest-ssl":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/polling.js":[function(e,t,n){function i(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),s=e("parseqs"),r=e("engine.io-parser"),a=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:polling");t.exports=i;var u=function(){var t=e("xmlhttprequest-ssl"),n=new t({xdomain:!1});return null!=n.responseType}();a(i,o),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||t()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||t()}))}else t()},i.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,i){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};r.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transport.js","component-inherit":"/Users/shawn/Work/mtv-play/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/mtv-play/node_modules/engine.io-parser/lib/browser.js",parseqs:"/Users/shawn/Work/mtv-play/node_modules/parseqs/index.js","xmlhttprequest-ssl":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/xmlhttprequest.js",yeast:"/Users/shawn/Work/mtv-play/node_modules/yeast/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transports/websocket.js":[function(e,t,n){(function(n){function i(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,o.call(this,e)}var o=e("../transport"),s=e("engine.io-parser"),r=e("parseqs"),a=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:websocket"),u=n.WebSocket||n.MozWebSocket,d=u;if(!d&&"undefined"==typeof window)try{d=e("ws")}catch(e){}t.exports=i,a(i,o),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.ws=u?new d(e):new d(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),i.prototype.write=function(e){function t(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}var i=this;this.writable=!1;for(var o=e.length,r=0,a=o;r<a;r++)!function(e){s.encodePacket(e,i.supportsBinary,function(s){if(!u){var r={};if(e.options&&(r.compress=e.options.compress),i.perMessageDeflate){var a="string"==typeof s?n.Buffer.byteLength(s):s.length;a<i.perMessageDeflate.threshold&&(r.compress=!1)}}try{u?i.ws.send(s):i.ws.send(s,r)}catch(e){c("websocket closed before onclose event")}--o||t()})}(e[r])},i.prototype.onClose=function(){o.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=r.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e},i.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===i.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/transport.js","component-inherit":"/Users/shawn/Work/mtv-play/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/mtv-play/node_modules/engine.io-parser/lib/browser.js",parseqs:"/Users/shawn/Work/mtv-play/node_modules/parseqs/index.js",ws:"/Users/shawn/git/gaston/node_modules/browser-resolve/empty.js",yeast:"/Users/shawn/Work/mtv-play/node_modules/yeast/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/lib/xmlhttprequest.js":[function(e,t,n){var i=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":"/Users/shawn/Work/mtv-play/node_modules/has-cors/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-parser/lib/browser.js":[function(e,t,n){(function(t){function i(e,t){var i="b"+n.packets[e.type]+e.data.data;return t(i)}function o(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var o=e.data,s=new Uint8Array(o),r=new Uint8Array(1+o.byteLength);r[0]=g[e.type];for(var a=0;a<s.length;a++)r[a+1]=s[a];return i(r.buffer)}function s(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,i)},o.readAsArrayBuffer(e.data)}function r(e,t,i){if(!t)return n.encodeBase64Packet(e,i);if(m)return s(e,t,i);var o=new Uint8Array(1);o[0]=g[e.type];var r=new w([o.buffer,e.data]);return i(r)}function a(e,t,n){for(var i=new Array(e.length),o=p(e.length,n),s=function(e,n,o){t(n,function(t,n){i[e]=n,o(t,i)})},r=0;r<e.length;r++)s(r,e[r],o)}var l=e("./keys"),c=e("has-binary"),u=e("arraybuffer.slice"),d=e("base64-arraybuffer"),p=e("after"),h=e("utf8"),f=navigator.userAgent.match(/Android/i),v=/PhantomJS/i.test(navigator.userAgent),m=f||v;n.protocol=3;var g=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=l(g),_={type:"error",data:"parser error"},w=e("blob");n.encodePacket=function(e,n,s,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof s&&(a=s,s=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return o(e,n,a);if(w&&l instanceof t.Blob)return r(e,n,a);if(l&&l.base64)return i(e,a);var c=g[e.type];return void 0!==e.data&&(c+=s?h.encode(String(e.data)):String(e.data)),a(""+c)},n.encodeBase64Packet=function(e,i){var o="b"+n.packets[e.type];if(w&&e.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];i(o+e)},s.readAsDataURL(e.data)}var r;try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),l=new Array(a.length),c=0;c<a.length;c++)l[c]=a[c];r=String.fromCharCode.apply(null,l)}return o+=t.btoa(r),i(o)},n.decodePacket=function(e,t,i){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(i)try{e=h.decode(e)}catch(e){return _}var o=e.charAt(0);return Number(o)==o&&y[o]?e.length>1?{type:y[o],data:e.substring(1)}:{type:y[o]}:_}var s=new Uint8Array(e),o=s[0],r=u(e,1);return w&&"blob"===t&&(r=new w([r])),{type:y[o],data:r}},n.decodeBase64Packet=function(e,n){var i=y[e.charAt(0)];if(!t.ArrayBuffer)return{type:i,data:{base64:!0,data:e.substr(1)}};var o=d.decode(e.substr(1));return"blob"===n&&w&&(o=new w([o])),{type:i,data:o}},n.encodePayload=function(e,t,i){function o(e){return e.length+":"+e}function s(e,i){n.encodePacket(e,!!r&&t,!0,function(e){i(null,o(e))})}"function"==typeof t&&(i=t,t=null);var r=c(e);return t&&r?w&&!m?n.encodePayloadAsBlob(e,i):n.encodePayloadAsArrayBuffer(e,i):e.length?void a(e,s,function(e,t){return i(t.join(""))}):i("0:")},n.decodePayload=function(e,t,i){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,i);"function"==typeof t&&(i=t,t=null);var o;if(""==e)return i(_,0,1);for(var s,r,a="",l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(s=Number(a)))return i(_,0,1);if(r=e.substr(l+1,s),a!=r.length)return i(_,0,1);if(r.length){if(o=n.decodePacket(r,t,!0),_.type==o.type&&_.data==o.data)return i(_,0,1);var d=i(o,l+s,c);if(!1===d)return}l+=s,a=""}}return""!=a?i(_,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,i,function(e,n){var i=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(i),s=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);n=i.buffer}t?o[s++]=0:o[s++]=1;for(var a=n.byteLength.toString(),r=0;r<a.length;r++)o[s++]=parseInt(a[r]);o[s++]=255;for(var i=new Uint8Array(n),r=0;r<i.length;r++)o[s++]=i[r]}),t(o.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);e=i.buffer,n[0]=0}for(var s=e instanceof ArrayBuffer?e.byteLength:e.size,r=s.toString(),a=new Uint8Array(r.length+1),o=0;o<r.length;o++)a[o]=parseInt(r[o]);if(a[r.length]=255,w){var l=new w([n.buffer,a.buffer,e]);t(null,l)}})}a(e,i,function(e,n){return t(new w(n))})},n.decodePayloadAsBinary=function(e,t,i){"function"==typeof t&&(i=t,t=null);for(var o=e,s=[],r=!1;o.byteLength>0;){for(var a=new Uint8Array(o),l=0===a[0],c="",d=1;255!=a[d];d++){if(c.length>310){r=!0;break}c+=a[d]}if(r)return i(_,0,1);o=u(o,2+c.length),c=parseInt(c);var p=u(o,0,c);if(l)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var h=new Uint8Array(p);p="";for(var d=0;d<h.length;d++)p+=String.fromCharCode(h[d])}s.push(p),o=u(o,c)}var f=s.length;s.forEach(function(e,o){i(n.decodePacket(e,t,!0),o,f)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":"/Users/shawn/Work/mtv-play/node_modules/engine.io-parser/lib/keys.js",after:"/Users/shawn/Work/mtv-play/node_modules/after/index.js","arraybuffer.slice":"/Users/shawn/Work/mtv-play/node_modules/arraybuffer.slice/index.js","base64-arraybuffer":"/Users/shawn/Work/mtv-play/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js",blob:"/Users/shawn/Work/mtv-play/node_modules/blob/index.js","has-binary":"/Users/shawn/Work/mtv-play/node_modules/has-binary/index.js",utf8:"/Users/shawn/Work/mtv-play/node_modules/utf8/utf8.js"}],"/Users/shawn/Work/mtv-play/node_modules/engine.io-parser/lib/keys.js":[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},{}],"/Users/shawn/Work/mtv-play/node_modules/has-binary/index.js":[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:"/Users/shawn/Work/mtv-play/node_modules/isarray/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/has-cors/index.js":[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],"/Users/shawn/Work/mtv-play/node_modules/indexof/index.js":[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],"/Users/shawn/Work/mtv-play/node_modules/isarray/index.js":[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],"/Users/shawn/Work/mtv-play/node_modules/jquery/dist/jquery.js":[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=se.type(e);return"function"!==n&&!se.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){if(se.isFunction(t))return se.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return se.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ve.test(t))return se.filter(t,e,n);t=se.filter(t,e)}return se.grep(e,function(e){return Z.call(t,e)>-1!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return se.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function r(){G.removeEventListener("DOMContentLoaded",r),e.removeEventListener("load",r),se.ready()}function a(){this.expando=se.expando+a.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Se,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ae.test(n)?se.parseJSON(n):n)}catch(e){}je.set(e,t,n)}else n=void 0;return n}function c(e,t,n,i){var o,s=1,r=20,a=i?function(){return i.cur()}:function(){return se.css(e,t,"")},l=a(),c=n&&n[3]||(se.cssNumber[t]?"":"px"),u=(se.cssNumber[t]||"px"!==c&&+l)&&Ie.exec(se.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do s=s||".5",u/=s,se.style(e,t,u+c);while(s!==(s=a()/l)&&1!==s&&--r)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function u(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&se.nodeName(e,t)?se.merge([e],n):n}function d(e,t){for(var n=0,i=e.length;n<i;n++)Te.set(e[n],"globalEval",!t||Te.get(t[n],"globalEval"))}function p(e,t,n,i,o){for(var s,r,a,l,c,p,h=t.createDocumentFragment(),f=[],v=0,m=e.length;v<m;v++)if(s=e[v],s||0===s)if("object"===se.type(s))se.merge(f,s.nodeType?[s]:s);else if(Le.test(s)){for(r=r||h.appendChild(t.createElement("div")),a=(Oe.exec(s)||["",""])[1].toLowerCase(),l=De[a]||De._default,r.innerHTML=l[1]+se.htmlPrefilter(s)+l[2],p=l[0];p--;)r=r.lastChild;se.merge(f,r.childNodes),r=h.firstChild,r.textContent=""}else f.push(t.createTextNode(s));for(h.textContent="",v=0;s=f[v++];)if(i&&se.inArray(s,i)>-1)o&&o.push(s);else if(c=se.contains(s.ownerDocument,s),r=u(h.appendChild(s),"script"),c&&d(r),n)for(p=0;s=r[p++];)Ne.test(s.type||"")&&n.push(s);return h}function h(){return!0}function f(){return!1}function v(){try{return G.activeElement}catch(e){}}function m(e,t,n,i,o,s){var r,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)m(e,a,n,i,t[a],s);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=f;else if(!o)return e;return 1===s&&(r=o,o=function(e){return se().off(e),r.apply(this,arguments)},o.guid=r.guid||(r.guid=se.guid++)),e.each(function(){se.event.add(this,t,o,i,n)})}function g(e,t){return se.nodeName(e,"table")&&se.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _(e){var t=He.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,i,o,s,r,a,l,c;if(1===t.nodeType){if(Te.hasData(e)&&(s=Te.access(e),r=Te.set(t,s),c=s.events)){delete r.handle,r.events={};for(o in c)for(n=0,i=c[o].length;n<i;n++)se.event.add(t,o,c[o][n])}je.hasData(e)&&(a=je.access(e),l=se.extend({},a),je.set(t,l))}}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function k(e,t,n,i){t=Q.apply([],t);var o,s,r,a,l,c,d=0,h=e.length,f=h-1,v=t[0],m=se.isFunction(v);if(m||h>1&&"string"==typeof v&&!ie.checkClone&&$e.test(v))return e.each(function(o){var s=e.eq(o);m&&(t[0]=v.call(this,o,s.html())),k(s,t,n,i)});if(h&&(o=p(t,e[0].ownerDocument,!1,e,i),s=o.firstChild,1===o.childNodes.length&&(o=s),s||i)){for(r=se.map(u(o,"script"),y),a=r.length;d<h;d++)l=o,d!==f&&(l=se.clone(l,!0,!0),a&&se.merge(r,u(l,"script"))),n.call(e[d],l,d);if(a)for(c=r[r.length-1].ownerDocument,se.map(r,_),d=0;d<a;d++)l=r[d],Ne.test(l.type||"")&&!Te.access(l,"globalEval")&&se.contains(c,l)&&(l.src?se._evalUrl&&se._evalUrl(l.src):se.globalEval(l.textContent.replace(qe,"")))}return e}function E(e,t,n){for(var i,o=t?se.filter(t,e):e,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||se.cleanData(u(i)),i.parentNode&&(n&&se.contains(i.ownerDocument,i)&&d(u(i,"script")),i.parentNode.removeChild(i));return e}function x(e,t){var n=se(t.createElement(e)).appendTo(t.body),i=se.css(n[0],"display");return n.detach(),i}function T(e){var t=G,n=ze[e];return n||(n=x(e,t),"none"!==n&&n||(Ye=(Ye||se("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ye[0].contentDocument,t.write(),t.close(),n=x(e,t),Ye.detach()),ze[e]=n),n}function j(e,t,n){var i,o,s,r,a=e.style;return n=n||Xe(e),r=n?n.getPropertyValue(t)||n[t]:void 0,""!==r&&void 0!==r||se.contains(e.ownerDocument,e)||(r=se.style(e,t)),n&&!ie.pixelMarginRight()&&Ge.test(r)&&Ke.test(t)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s),void 0!==r?r+"":r}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e){if(e in it)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in it)return e}function C(e,t,n){var i=Ie.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function I(e,t,n,i,o){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,r=0;s<4;s+=2)"margin"===n&&(r+=se.css(e,n+Re[s],!0,o)),i?("content"===n&&(r-=se.css(e,"padding"+Re[s],!0,o)),"margin"!==n&&(r-=se.css(e,"border"+Re[s]+"Width",!0,o))):(r+=se.css(e,"padding"+Re[s],!0,o),"padding"!==n&&(r+=se.css(e,"border"+Re[s]+"Width",!0,o)));return r}function R(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=Xe(e),r="border-box"===se.css(e,"boxSizing",!1,s);if(o<=0||null==o){if(o=j(e,t,s),(o<0||null==o)&&(o=e.style[t]),Ge.test(o))return o;i=r&&(ie.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+I(e,t,n||(r?"border":"content"),i,s)+"px"}function U(e,t){for(var n,i,o,s=[],r=0,a=e.length;r<a;r++)i=e[r],i.style&&(s[r]=Te.get(i,"olddisplay"),n=i.style.display,t?(s[r]||"none"!==n||(i.style.display=""),""===i.style.display&&Ue(i)&&(s[r]=Te.access(i,"olddisplay",T(i.nodeName)))):(o=Ue(i),"none"===n&&o||Te.set(i,"olddisplay",o?n:se.css(i,"display"))));for(r=0;r<a;r++)i=e[r],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[r]||"":"none"));return e}function P(e,t,n,i,o){return new P.prototype.init(e,t,n,i,o)}function O(){return e.setTimeout(function(){ot=void 0}),ot=se.now()}function N(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)n=Re[i],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function D(e,t,n){for(var i,o=(M.tweeners[t]||[]).concat(M.tweeners["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,t,e))return i}function L(e,t,n){var i,o,s,r,a,l,c,u,d=this,p={},h=e.style,f=e.nodeType&&Ue(e),v=Te.get(e,"fxshow");n.queue||(a=se._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,se.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=se.css(e,"display"),u="none"===c?Te.get(e,"olddisplay")||T(e.nodeName):c,"inline"===u&&"none"===se.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],rt.exec(o)){if(delete t[i],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!v||void 0===v[i])continue;f=!0}p[i]=v&&v[i]||se.style(e,i)}else c=void 0;if(se.isEmptyObject(p))"inline"===("none"===c?T(e.nodeName):c)&&(h.display=c);else{v?"hidden"in v&&(f=v.hidden):v=Te.access(e,"fxshow",{}),s&&(v.hidden=!f),f?se(e).show():d.done(function(){se(e).hide()}),d.done(function(){var t;Te.remove(e,"fxshow");for(t in p)se.style(e,t,p[t])});for(i in p)r=D(f?v[i]:0,i,d),i in v||(v[i]=r.start,f&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function W(e,t){var n,i,o,s,r;for(n in e)if(i=se.camelCase(n),
o=t[i],s=e[n],se.isArray(s)&&(o=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),r=se.cssHooks[i],r&&"expand"in r){s=r.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=o)}else t[i]=o}function M(e,t,n){var i,o,s=0,r=M.prefilters.length,a=se.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=ot||O(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,r=0,l=c.tweens.length;r<l;r++)c.tweens[r].run(s);return a.notifyWith(e,[c,s,n]),s<1&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:se.extend({},t),opts:se.extend(!0,{specialEasing:{},easing:se.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=se.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(W(u,c.opts.specialEasing);s<r;s++)if(i=M.prefilters[s].call(c,e,u,c.opts))return se.isFunction(i.stop)&&(se._queueHooks(c.elem,c.opts.queue).stop=se.proxy(i.stop,i)),i;return se.map(u,D,c),se.isFunction(c.opts.start)&&c.opts.start.call(e,c),se.fx.timer(se.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function V(e){return e.getAttribute&&e.getAttribute("class")||""}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,s=t.toLowerCase().match(be)||[];if(se.isFunction(n))for(;i=s[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function B(e,t,n,i){function o(a){var l;return s[a]=!0,se.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||r||s[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var s={},r=e===jt;return o(t.dataTypes[0])||!s["*"]&&o("*")}function $(e,t){var n,i,o=se.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&se.extend(!0,e,i),e}function H(e,t,n){for(var i,o,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)s=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),n[s]}function q(e,t,n,i){var o,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=c[l+" "+s]||c["* "+s],!r)for(o in c)if(a=o.split(" "),a[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[o]:c[o]!==!0&&(s=a[0],u.unshift(a[1]));break}if(r!==!0)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function Y(e,t,n,i){var o;if(se.isArray(t))se.each(t,function(t,o){n||It.test(e)?i(e,o):Y(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)});else if(n||"object"!==se.type(t))i(e,t);else for(o in t)Y(e+"["+o+"]",t[o],n,i)}function z(e){return se.isWindow(e)?e:9===e.nodeType&&e.defaultView}var K=[],G=e.document,X=K.slice,Q=K.concat,J=K.push,Z=K.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,ie={},oe="2.2.4",se=function(e,t){return new se.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,le=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};se.fn=se.prototype={jquery:oe,constructor:se,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=se.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return se.each(this,e)},map:function(e){return this.pushStack(se.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:K.sort,splice:K.splice},se.extend=se.fn.extend=function(){var e,t,n,i,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||se.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=r[t],i=e[t],r!==i&&(c&&i&&(se.isPlainObject(i)||(o=se.isArray(i)))?(o?(o=!1,s=n&&se.isArray(n)?n:[]):s=n&&se.isPlainObject(n)?n:{},r[t]=se.extend(c,s,i)):void 0!==i&&(r[t]=i));return r},se.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===se.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!se.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==se.type(e)||e.nodeType||se.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=se.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(le,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,o=0;if(n(e))for(i=e.length;o<i&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?se.merge(i,"string"==typeof e?[e]:e):J.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],s=0,r=e.length,a=!n;s<r;s++)i=!t(e[s],s),i!==a&&o.push(e[s]);return o},map:function(e,t,i){var o,s,r=0,a=[];if(n(e))for(o=e.length;r<o;r++)s=t(e[r],r,i),null!=s&&a.push(s);else for(r in e)s=t(e[r],r,i),null!=s&&a.push(s);return Q.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),se.isFunction(e))return i=X.call(arguments,2),o=function(){return e.apply(t||this,i.concat(X.call(arguments)))},o.guid=e.guid=e.guid||se.guid++,o},now:Date.now,support:ie}),"function"==typeof Symbol&&(se.fn[Symbol.iterator]=K[Symbol.iterator]),se.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,i){var o,s,r,a,l,c,d,h,f=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!i&&((t?t.ownerDocument||t:V)!==U&&R(t),t=t||U,O)){if(11!==v&&(c=ge.exec(e)))if(o=c[1]){if(9===v){if(!(r=t.getElementById(o)))return n;if(r.id===o)return n.push(r),n}else if(f&&(r=f.getElementById(o))&&W(t,r)&&r.id===o)return n.push(r),n}else{if(c[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&b.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(b.qsa&&!q[e+" "]&&(!N||!N.test(e))){if(1!==v)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(_e,"\\$&"):t.setAttribute("id",a=M),d=T(e),s=d.length,l=pe.test(a)?"#"+a:"[id='"+a+"']";s--;)d[s]=l+" "+p(d[s]);h=d.join(","),f=ye.test(e)&&u(t.parentNode)||t}if(h)try{return J.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{a===M&&t.removeAttribute("id")}}}return A(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[M]=!0,e}function o(e){var t=U.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var o,s=e([],n.length,t),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,o=n&&"parentNode"===i,s=B++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,s)}:function(t,n,r){var a,l,c,u=[F,s];if(r){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,r))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if(c=t[M]||(t[M]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(a=l[i])&&a[0]===F&&a[1]===s)return u[2]=a[2];if(l[i]=u,u[2]=e(t,n,r))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function v(e,n,i){for(var o=0,s=n.length;o<s;o++)t(e,n[o],i);return i}function m(e,t,n,i,o){for(var s,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(n&&!n(s,i,o)||(r.push(s),c&&t.push(a)));return r}function g(e,t,n,o,s,r){return o&&!o[M]&&(o=g(o)),s&&!s[M]&&(s=g(s,r)),i(function(i,r,a,l){var c,u,d,p=[],h=[],f=r.length,g=i||v(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?g:m(g,p,e,a,l),_=n?s||(i?e:f||o)?[]:r:y;if(n&&n(y,_,a,l),o)for(c=m(_,h),o(c,[],a,l),u=c.length;u--;)(d=c[u])&&(_[h[u]]=!(y[h[u]]=d));if(i){if(s||e){if(s){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(y[u]=d);s(null,_=[],c,l)}for(u=_.length;u--;)(d=_[u])&&(c=s?ee(i,d):p[u])>-1&&(i[c]=!(r[c]=d))}}else _=m(_===r?_.splice(f,_.length):_),s?s(null,r,_,l):J.apply(r,_)})}function y(e){for(var t,n,i,o=e.length,s=k.relative[e[0].type],r=s||k.relative[" "],a=s?1:0,l=h(function(e){return e===t},r,!0),c=h(function(e){return ee(t,e)>-1},r,!0),u=[function(e,n,i){var o=!s&&(i||n!==S)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,o}];a<o;a++)if(n=k.relative[e[a].type])u=[h(f(u),n)];else{if(n=k.filter[e[a].type].apply(null,e[a].matches),n[M]){for(i=++a;i<o&&!k.relative[e[i].type];i++);return g(a>1&&f(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&y(e.slice(a,i)),i<o&&y(e=e.slice(i)),i<o&&p(e))}u.push(n)}return f(u)}function _(e,n){var o=n.length>0,s=e.length>0,r=function(i,r,a,l,c){var u,d,p,h=0,f="0",v=i&&[],g=[],y=S,_=i||s&&k.find.TAG("*",c),w=F+=null==y?1:Math.random()||.1,b=_.length;for(c&&(S=r===U||r||c);f!==b&&null!=(u=_[f]);f++){if(s&&u){for(d=0,r||u.ownerDocument===U||(R(u),a=!O);p=e[d++];)if(p(u,r||U,a)){l.push(u);break}c&&(F=w)}o&&((u=!p&&u)&&h--,i&&v.push(u))}if(h+=f,o&&f!==h){for(d=0;p=n[d++];)p(v,g,r,a);if(i){if(h>0)for(;f--;)v[f]||g[f]||(g[f]=X.call(l));g=m(g)}J.apply(l,g),c&&!i&&g.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(F=w,S=y),v};return o?i(r):r}var w,b,k,E,x,T,j,A,S,C,I,R,U,P,O,N,D,L,W,M="sizzle"+1*new Date,V=e.document,F=0,B=0,$=n(),H=n(),q=n(),Y=function(e,t){return e===t&&(I=!0),0},z=1<<31,K={}.hasOwnProperty,G=[],X=G.pop,Q=G.push,J=G.push,Z=G.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",re=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(se),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ke=function(){R()};try{J.apply(G=Z.call(V.childNodes),V.childNodes),G[V.childNodes.length].nodeType}catch(e){J={apply:G.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},R=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:V;return i!==U&&9===i.nodeType&&i.documentElement?(U=i,P=U.documentElement,O=!x(U),(n=U.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),b.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=o(function(e){return e.appendChild(U.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=me.test(U.getElementsByClassName),b.getById=o(function(e){return P.appendChild(e).id=M,!U.getElementsByName||!U.getElementsByName(M).length}),b.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}},k.filter.ID=function(e){var t=e.replace(we,be);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,be);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=b.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},k.find.CLASS=b.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&O)return t.getElementsByClassName(e)},D=[],N=[],(b.qsa=me.test(U.querySelectorAll))&&(o(function(e){P.appendChild(e).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+M+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+M+"+*").length||N.push(".#.+[+~]")}),o(function(e){var t=U.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(b.matchesSelector=me.test(L=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(e){b.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),D.push("!=",se)}),N=N.length&&new RegExp(N.join("|")),D=D.length&&new RegExp(D.join("|")),t=me.test(P.compareDocumentPosition),W=t||me.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return I=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===U||e.ownerDocument===V&&W(V,e)?-1:t===U||t.ownerDocument===V&&W(V,t)?1:C?ee(C,e)-ee(C,t):0:4&n?-1:1)}:function(e,t){if(e===t)return I=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!o||!s)return e===U?-1:t===U?1:o?-1:s?1:C?ee(C,e)-ee(C,t):0;if(o===s)return r(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?r(a[i],l[i]):a[i]===V?-1:l[i]===V?1:0},U):U},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==U&&R(e),n=n.replace(ue,"='$1']"),b.matchesSelector&&O&&!q[n+" "]&&(!D||!D.test(n))&&(!N||!N.test(n)))try{var i=L.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,U,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==U&&R(e),W(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==U&&R(e);var n=k.attrHandle[t.toLowerCase()],i=n&&K.call(k.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:b.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(I=!b.detectDuplicates,C=!b.sortStable&&e.slice(0),e.sort(Y),I){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return C=null,e},E=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=E(t);return n},k=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,be),e[3]=(e[3]||e[4]||e[5]||"").replace(we,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var s=t.attr(o,e);return null==s?"!="===n:!n||(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,v=s!==r?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(s){for(;v;){for(p=t;p=p[v];)if(a?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;f=v="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?m.firstChild:m.lastChild],r&&y){for(p=m,d=p[M]||(p[M]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===F&&c[1],_=h&&c[2],p=h&&m.childNodes[h];p=++h&&p&&p[v]||(_=h=0)||f.pop();)if(1===p.nodeType&&++_&&p===t){u[e]=[F,h,_];break}}else if(y&&(p=t,d=p[M]||(p[M]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===F&&c[1],_=h),_===!1)for(;(p=++h&&p&&p[v]||(_=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++_||(y&&(d=p[M]||(p[M]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[F,_]),p!==t)););return _-=o,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(e,n){var o,s=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[M]?s(n):s.length>1?(o=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=s(e,n),r=o.length;r--;)i=ee(e,o[r]),e[i]=!(t[i]=o[r])}):function(e){return s(e,0,o)}):s}},pseudos:{not:i(function(e){var t=[],n=[],o=j(e.replace(ae,"$1"));return o[M]?i(function(e,t,n,i){for(var s,r=o(e,null,i,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))}):function(e,i,s){return t[0]=e,o(t,null,s,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,be),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,be).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===U.activeElement&&(!U.hasFocus||U.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,T=t.tokenize=function(e,n){var i,o,s,r,a,l,c,u=H[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=k.preFilter;a;){i&&!(o=le.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),i=!1,(o=ce.exec(a))&&(i=o.shift(),s.push({value:i,type:o[0].replace(ae," ")}),a=a.slice(i.length));for(r in k.filter)!(o=he[r].exec(a))||c[r]&&!(o=c[r](o))||(i=o.shift(),s.push({value:i,type:r,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):H(e,l).slice(0)},j=t.compile=function(e,t){var n,i=[],o=[],s=q[e+" "];if(!s){for(t||(t=T(e)),n=t.length;n--;)s=y(t[n]),s[M]?i.push(s):o.push(s);s=q(e,_(o,i)),s.selector=e}return s},A=t.select=function(e,t,n,i){var o,s,r,a,l,c="function"==typeof e&&e,d=!i&&T(e=c.selector||e);if(n=n||[],1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&b.getById&&9===t.nodeType&&O&&k.relative[s[1].type]){if(t=(k.find.ID(r.matches[0].replace(we,be),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=he.needsContext.test(e)?0:s.length;o--&&(r=s[o],!k.relative[a=r.type]);)if((l=k.find[a])&&(i=l(r.matches[0].replace(we,be),ye.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(o,1),e=i.length&&p(s),!e)return J.apply(n,i),n;break}}return(c||j(e,d))(i,t,!O,n,!t||ye.test(e)&&u(t.parentNode)||t),n},b.sortStable=M.split("").sort(Y).join("")===M,b.detectDuplicates=!!I,R(),b.sortDetached=o(function(e){return 1&e.compareDocumentPosition(U.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);se.find=ue,se.expr=ue.selectors,se.expr[":"]=se.expr.pseudos,se.uniqueSort=se.unique=ue.uniqueSort,se.text=ue.getText,se.isXMLDoc=ue.isXML,se.contains=ue.contains;var de=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&se(e).is(n))break;i.push(e)}return i},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},he=se.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ve=/^.[^:#\[\.,]*$/;se.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?se.find.matchesSelector(i,e)?[i]:[]:se.find.matches(e,se.grep(t,function(e){return 1===e.nodeType}))},se.fn.extend({find:function(e){var t,n=this.length,i=[],o=this;if("string"!=typeof e)return this.pushStack(se(e).filter(function(){for(t=0;t<n;t++)if(se.contains(o[t],this))return!0}));for(t=0;t<n;t++)se.find(e,o[t],i);return i=this.pushStack(n>1?se.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&he.test(e)?se(e):e||[],!1).length}});var me,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=se.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||me,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ge.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof se?t[0]:t,se.merge(this,se.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),fe.test(i[1])&&se.isPlainObject(t))for(i in t)se.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return o=G.getElementById(i[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):se.isFunction(e)?void 0!==n.ready?n.ready(e):e(se):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),se.makeArray(e,this))};ye.prototype=se.fn,me=se(G);var _e=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};se.fn.extend({has:function(e){var t=se(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(se.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,o=this.length,s=[],r=he.test(e)||"string"!=typeof e?se(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&se.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?se.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?Z.call(se(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(se.uniqueSort(se.merge(this.get(),se(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),se.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,n){return de(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,n){return de(e,"nextSibling",n)},prevUntil:function(e,t,n){return de(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||se.merge([],e.childNodes)}},function(e,t){se.fn[e]=function(n,i){var o=se.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=se.filter(i,o)),this.length>1&&(we[e]||se.uniqueSort(o),_e.test(e)&&o.reverse()),this.pushStack(o)}});var be=/\S+/g;se.Callbacks=function(e){e="string"==typeof e?s(e):se.extend({},e);var t,n,i,o,r=[],a=[],l=-1,c=function(){for(o=e.once,i=t=!0;a.length;l=-1)for(n=a.shift();++l<r.length;)r[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!t&&(l=r.length-1,a.push(n)),function t(n){se.each(n,function(n,i){se.isFunction(i)?e.unique&&u.has(i)||r.push(i):i&&i.length&&"string"!==se.type(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return se.each(arguments,function(e,t){for(var n;(n=se.inArray(t,r,n))>-1;)r.splice(n,1),n<=l&&l--}),this},has:function(e){return e?se.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=a=[],n||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},se.extend({Deferred:function(e){var t=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return se.Deferred(function(n){se.each(t,function(t,s){var r=se.isFunction(e[t])&&e[t];o[s[1]](function(){var e=r&&r.apply(this,arguments);e&&se.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[s[0]+"With"](this===i?n.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?se.extend(e,i):i}},o={};return i.pipe=i.then,se.each(t,function(e,s){var r=s[2],a=s[3];i[s[1]]=r.add,a&&r.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?i:this,arguments),this},o[s[0]+"With"]=r.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,s=X.call(arguments),r=s.length,a=1!==r||e&&se.isFunction(e.promise)?r:0,l=1===a?e:se.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?X.call(arguments):o,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(r>1)for(t=new Array(r),n=new Array(r),i=new Array(r);o<r;o++)s[o]&&se.isFunction(s[o].promise)?s[o].promise().progress(c(o,n,t)).done(c(o,i,s)).fail(l.reject):--a;
return a||l.resolveWith(i,s),l.promise()}});var ke;se.fn.ready=function(e){return se.ready.promise().done(e),this},se.extend({isReady:!1,readyWait:1,holdReady:function(e){e?se.readyWait++:se.ready(!0)},ready:function(e){(e===!0?--se.readyWait:se.isReady)||(se.isReady=!0,e!==!0&&--se.readyWait>0||(ke.resolveWith(G,[se]),se.fn.triggerHandler&&(se(G).triggerHandler("ready"),se(G).off("ready"))))}}),se.ready.promise=function(t){return ke||(ke=se.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?e.setTimeout(se.ready):(G.addEventListener("DOMContentLoaded",r),e.addEventListener("load",r))),ke.promise(t)},se.ready.promise();var Ee=function(e,t,n,i,o,s,r){var a=0,l=e.length,c=null==n;if("object"===se.type(n)){o=!0;for(a in n)Ee(e,t,a,n[a],!0,s,r)}else if(void 0!==i&&(o=!0,se.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(se(e),n)})),t))for(;a<l;a++)t(e[a],n,r?i:i.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):l?t(e[0],n):s},xe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!xe(e))return{};var t=e[this.expando];return t||(t={},xe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[t]=n;else for(i in t)o[i]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,se.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,o,s=e[this.expando];if(void 0!==s){if(void 0===t)this.register(e);else{se.isArray(t)?i=t.concat(t.map(se.camelCase)):(o=se.camelCase(t),t in s?i=[t,o]:(i=o,i=i in s?[i]:i.match(be)||[])),n=i.length;for(;n--;)delete s[i[n]]}(void 0===t||se.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!se.isEmptyObject(t)}};var Te=new a,je=new a,Ae=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/[A-Z]/g;se.extend({hasData:function(e){return je.hasData(e)||Te.hasData(e)},data:function(e,t,n){return je.access(e,t,n)},removeData:function(e,t){je.remove(e,t)},_data:function(e,t,n){return Te.access(e,t,n)},_removeData:function(e,t){Te.remove(e,t)}}),se.fn.extend({data:function(e,t){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(o=je.get(s),1===s.nodeType&&!Te.get(s,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=se.camelCase(i.slice(5)),l(s,i,o[i])));Te.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){je.set(this,e)}):Ee(this,function(t){var n,i;if(s&&void 0===t){if(n=je.get(s,e)||je.get(s,e.replace(Se,"-$&").toLowerCase()),void 0!==n)return n;if(i=se.camelCase(e),n=je.get(s,i),void 0!==n)return n;if(n=l(s,i,void 0),void 0!==n)return n}else i=se.camelCase(e),this.each(function(){var n=je.get(this,i);je.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&je.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){je.remove(this,e)})}}),se.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Te.get(e,t),n&&(!i||se.isArray(n)?i=Te.access(e,t,se.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=se.queue(e,t),i=n.length,o=n.shift(),s=se._queueHooks(e,t),r=function(){se.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete s.stop,o.call(e,r,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Te.get(e,n)||Te.access(e,n,{empty:se.Callbacks("once memory").add(function(){Te.remove(e,[t+"queue",n])})})}}),se.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?se.queue(this[0],e):void 0===t?this:this.each(function(){var n=se.queue(this,e,t);se._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&se.dequeue(this,e)})},dequeue:function(e){return this.each(function(){se.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=se.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)n=Te.get(s[r],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Ue=function(e,t){return e=t||e,"none"===se.css(e,"display")||!se.contains(e.ownerDocument,e)},Pe=/^(?:checkbox|radio)$/i,Oe=/<([\w:-]+)/,Ne=/^$|\/(?:java|ecma)script/i,De={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.optgroup=De.option,De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td;var Le=/<|&#?\w+;/;!function(){var e=G.createDocumentFragment(),t=e.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var We=/^key/,Me=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ve=/^([^.]*)(?:\.(.+)|)/;se.event={global:{},add:function(e,t,n,i,o){var s,r,a,l,c,u,d,p,h,f,v,m=Te.get(e);if(m)for(n.handler&&(s=n,n=s.handler,o=s.selector),n.guid||(n.guid=se.guid++),(l=m.events)||(l=m.events={}),(r=m.handle)||(r=m.handle=function(t){return"undefined"!=typeof se&&se.event.triggered!==t.type?se.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(be)||[""],c=t.length;c--;)a=Ve.exec(t[c])||[],h=v=a[1],f=(a[2]||"").split(".").sort(),h&&(d=se.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=se.event.special[h]||{},u=se.extend({type:h,origType:v,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&se.expr.match.needsContext.test(o),namespace:f.join(".")},s),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,f,r)!==!1||e.addEventListener&&e.addEventListener(h,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),se.event.global[h]=!0)},remove:function(e,t,n,i,o){var s,r,a,l,c,u,d,p,h,f,v,m=Te.hasData(e)&&Te.get(e);if(m&&(l=m.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(a=Ve.exec(t[c])||[],h=v=a[1],f=(a[2]||"").split(".").sort(),h){for(d=se.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,p=l[h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=p.length;s--;)u=p[s],!o&&v!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(s,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));r&&!p.length&&(d.teardown&&d.teardown.call(e,f,m.handle)!==!1||se.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)se.event.remove(e,h+t[c],n,i,!0);se.isEmptyObject(l)&&Te.remove(e,"handle events")}},dispatch:function(e){e=se.event.fix(e);var t,n,i,o,s,r=[],a=X.call(arguments),l=(Te.get(this,"events")||{})[e.type]||[],c=se.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(r=se.event.handlers.call(this,e,l),t=0;(o=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(s.namespace)||(e.handleObj=s,e.data=s.data,i=((se.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,s,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],n=0;n<a;n++)s=t[n],o=s.selector+" ",void 0===i[o]&&(i[o]=s.needsContext?se(o,this).index(l)>-1:se.find(o,this,null,[l]).length),i[o]&&i.push(s);i.length&&r.push({elem:l,handlers:i})}return a<t.length&&r.push({elem:this,handlers:t.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||G,i=n.documentElement,o=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[se.expando])return e;var t,n,i,o=e.type,s=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Me.test(o)?this.mouseHooks:We.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new se.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==v()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===v()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&se.nodeName(this,"input"))return this.click(),!1},_default:function(e){return se.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},se.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},se.Event=function(e,t){return this instanceof se.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:f):this.type=e,t&&se.extend(this,t),this.timeStamp=e&&e.timeStamp||se.now(),void(this[se.expando]=!0)):new se.Event(e,t)},se.Event.prototype={constructor:se.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){se.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,s=e.handleObj;return o&&(o===i||se.contains(i,o))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),se.fn.extend({on:function(e,t,n,i){return m(this,e,t,n,i)},one:function(e,t,n,i){return m(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,se(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=f),this.each(function(){se.event.remove(this,e,n,t)})}});var Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Be=/<script|<style|<link/i,$e=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^true\/(.*)/,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;se.extend({htmlPrefilter:function(e){return e.replace(Fe,"<$1></$2>")},clone:function(e,t,n){var i,o,s,r,a=e.cloneNode(!0),l=se.contains(e.ownerDocument,e);if(!(ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||se.isXMLDoc(e)))for(r=u(a),s=u(e),i=0,o=s.length;i<o;i++)b(s[i],r[i]);if(t)if(n)for(s=s||u(e),r=r||u(a),i=0,o=s.length;i<o;i++)w(s[i],r[i]);else w(e,a);return r=u(a,"script"),r.length>0&&d(r,!l&&u(e,"script")),a},cleanData:function(e){for(var t,n,i,o=se.event.special,s=0;void 0!==(n=e[s]);s++)if(xe(n)){if(t=n[Te.expando]){if(t.events)for(i in t.events)o[i]?se.event.remove(n,i):se.removeEvent(n,i,t.handle);n[Te.expando]=void 0}n[je.expando]&&(n[je.expando]=void 0)}}}),se.fn.extend({domManip:k,detach:function(e){return E(this,e,!0)},remove:function(e){return E(this,e)},text:function(e){return Ee(this,function(e){return void 0===e?se.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(se.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return se.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!De[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=se.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(se.cleanData(u(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return k(this,arguments,function(t){var n=this.parentNode;se.inArray(this,e)<0&&(se.cleanData(u(this)),n&&n.replaceChild(t,this))},e)}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){se.fn[e]=function(e){for(var n,i=[],o=se(e),s=o.length-1,r=0;r<=s;r++)n=r===s?this:this.clone(!0),se(o[r])[t](n),J.apply(i,n.get());return this.pushStack(i)}});var Ye,ze={HTML:"block",BODY:"block"},Ke=/^margin/,Ge=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),Xe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Qe=function(e,t,n,i){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];o=n.apply(e,i||[]);for(s in t)e.style[s]=r[s];return o},Je=G.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Je.appendChild(r);var t=e.getComputedStyle(a);n="1%"!==t.top,s="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",o="4px"===t.marginRight,Je.removeChild(r)}var n,i,o,s,r=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",r.appendChild(a),se.extend(ie,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),o},reliableMarginLeft:function(){return null==i&&t(),s},reliableMarginRight:function(){var t,n=a.appendChild(G.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Je.appendChild(r),t=!parseFloat(e.getComputedStyle(n).marginRight),Je.removeChild(r),a.removeChild(n),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],it=G.createElement("div").style;se.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=j(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=se.camelCase(t),l=e.style;return t=se.cssProps[a]||(se.cssProps[a]=S(a)||a),r=se.cssHooks[t]||se.cssHooks[a],void 0===n?r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:l[t]:(s=typeof n,"string"===s&&(o=Ie.exec(n))&&o[1]&&(n=c(e,t,o),s="number"),null!=n&&n===n&&("number"===s&&(n+=o&&o[3]||(se.cssNumber[a]?"":"px")),ie.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var o,s,r,a=se.camelCase(t);return t=se.cssProps[a]||(se.cssProps[a]=S(a)||a),r=se.cssHooks[t]||se.cssHooks[a],r&&"get"in r&&(o=r.get(e,!0,n)),void 0===o&&(o=j(e,t,i)),"normal"===o&&t in tt&&(o=tt[t]),""===n||n?(s=parseFloat(o),n===!0||isFinite(s)?s||0:o):o}}),se.each(["height","width"],function(e,t){se.cssHooks[t]={get:function(e,n,i){if(n)return Ze.test(se.css(e,"display"))&&0===e.offsetWidth?Qe(e,et,function(){return R(e,t,i)}):R(e,t,i)},set:function(e,n,i){var o,s=i&&Xe(e),r=i&&I(e,t,i,"border-box"===se.css(e,"boxSizing",!1,s),s);return r&&(o=Ie.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=se.css(e,t)),C(e,n,r)}}}),se.cssHooks.marginLeft=A(ie.reliableMarginLeft,function(e,t){if(t)return(parseFloat(j(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),se.cssHooks.marginRight=A(ie.reliableMarginRight,function(e,t){if(t)return Qe(e,{display:"inline-block"},j,[e,"marginRight"])}),se.each({margin:"",padding:"",border:"Width"},function(e,t){se.cssHooks[e+t]={expand:function(n){for(var i=0,o={},s="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+Re[i]+t]=s[i]||s[i-2]||s[0];return o}},Ke.test(e)||(se.cssHooks[e+t].set=C)}),se.fn.extend({css:function(e,t){return Ee(this,function(e,t,n){var i,o,s={},r=0;if(se.isArray(t)){for(i=Xe(e),o=t.length;r<o;r++)s[t[r]]=se.css(e,t[r],!1,i);return s}return void 0!==n?se.style(e,t,n):se.css(e,t)},e,t,arguments.length>1)},show:function(){return U(this,!0)},hide:function(){return U(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ue(this)?se(this).show():se(this).hide()})}}),se.Tween=P,P.prototype={constructor:P,init:function(e,t,n,i,o,s){this.elem=e,this.prop=n,this.easing=o||se.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(se.cssNumber[n]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,n=P.propHooks[this.prop];return this.options.duration?this.pos=t=se.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=se.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){se.fx.step[e.prop]?se.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[se.cssProps[e.prop]]&&!se.cssHooks[e.prop]?e.elem[e.prop]=e.now:se.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},se.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},se.fx=P.prototype.init,se.fx.step={};var ot,st,rt=/^(?:toggle|show|hide)$/,at=/queueHooks$/;se.Animation=se.extend(M,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return c(n.elem,e,Ie.exec(t),n),n}]},tweener:function(e,t){se.isFunction(e)?(t=e,e=["*"]):e=e.match(be);for(var n,i=0,o=e.length;i<o;i++)n=e[i],M.tweeners[n]=M.tweeners[n]||[],M.tweeners[n].unshift(t)},prefilters:[L],prefilter:function(e,t){t?M.prefilters.unshift(e):M.prefilters.push(e)}}),se.speed=function(e,t,n){var i=e&&"object"==typeof e?se.extend({},e):{complete:n||!n&&t||se.isFunction(e)&&e,duration:e,easing:n&&t||t&&!se.isFunction(t)&&t};return i.duration=se.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in se.fx.speeds?se.fx.speeds[i.duration]:se.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){se.isFunction(i.old)&&i.old.call(this),i.queue&&se.dequeue(this,i.queue)},i},se.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ue).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=se.isEmptyObject(e),s=se.speed(t,n,i),r=function(){var t=M(this,se.extend({},e),s);(o||Te.get(this,"finish"))&&t.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",s=se.timers,r=Te.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&at.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(n),t=!1,s.splice(o,1));!t&&n||se.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Te.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],s=se.timers,r=i?i.length:0;for(n.finish=!0,se.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),se.each(["toggle","show","hide"],function(e,t){var n=se.fn[t];se.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(N(t,!0),e,i,o)}}),se.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){se.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),se.timers=[],se.fx.tick=function(){var e,t=0,n=se.timers;for(ot=se.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||se.fx.stop(),ot=void 0},se.fx.timer=function(e){se.timers.push(e),e()?se.fx.start():se.timers.pop()},se.fx.interval=13,se.fx.start=function(){st||(st=e.setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){e.clearInterval(st),st=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fn.delay=function(t,n){return t=se.fx?se.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),n=t.appendChild(G.createElement("option"));e.type="checkbox",ie.checkOn=""!==e.value,ie.optSelected=n.selected,t.disabled=!0,ie.optDisabled=!n.disabled,e=G.createElement("input"),e.value="t",e.type="radio",ie.radioValue="t"===e.value}();var lt,ct=se.expr.attrHandle;se.fn.extend({attr:function(e,t){return Ee(this,se.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){se.removeAttr(this,e)})}}),se.extend({attr:function(e,t,n){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?se.prop(e,t,n):(1===s&&se.isXMLDoc(e)||(t=t.toLowerCase(),o=se.attrHooks[t]||(se.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void se.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=se.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&se.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,o=0,s=t&&t.match(be);if(s&&1===e.nodeType)for(;n=s[o++];)i=se.propFix[n]||n,se.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),lt={set:function(e,t,n){return t===!1?se.removeAttr(e,n):e.setAttribute(n,n),n}},se.each(se.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ct[t]||se.find.attr;ct[t]=function(e,t,i){var o,s;return i||(s=ct[t],ct[t]=o,o=null!=n(e,t,i)?t.toLowerCase():null,ct[t]=s),o}});var ut=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;se.fn.extend({prop:function(e,t){return Ee(this,se.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[se.propFix[e]||e]})}}),se.extend({prop:function(e,t,n){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&se.isXMLDoc(e)||(t=se.propFix[t]||t,o=se.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=se.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ie.optSelected||(se.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;se.fn.extend({addClass:function(e){var t,n,i,o,s,r,a,l=0;if(se.isFunction(e))return this.each(function(t){se(this).addClass(e.call(this,t,V(this)))});if("string"==typeof e&&e)for(t=e.match(be)||[];n=this[l++];)if(o=V(n),i=1===n.nodeType&&(" "+o+" ").replace(pt," ")){for(r=0;s=t[r++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");a=se.trim(i),o!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,s,r,a,l=0;if(se.isFunction(e))return this.each(function(t){se(this).removeClass(e.call(this,t,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(be)||[];n=this[l++];)if(o=V(n),i=1===n.nodeType&&(" "+o+" ").replace(pt," ")){for(r=0;s=t[r++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");a=se.trim(i),o!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):se.isFunction(e)?this.each(function(n){se(this).toggleClass(e.call(this,n,V(this),t),t)}):this.each(function(){var t,i,o,s;if("string"===n)for(i=0,o=se(this),s=e.match(be)||[];t=s[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=V(this),t&&Te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Te.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+V(n)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g,ft=/[\x20\t\r\n\f]+/g;se.fn.extend({val:function(e){var t,n,i,o=this[0];{if(arguments.length)return i=se.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,se(this).val()):e,null==o?o="":"number"==typeof o?o+="":se.isArray(o)&&(o=se.map(o,function(e){return null==e?"":e+""})),t=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=se.valHooks[o.type]||se.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(ht,""):null==n?"":n)}}}),se.extend({valHooks:{option:{get:function(e){var t=se.find.attr(e,"value");return null!=t?t:se.trim(se.text(e)).replace(ft," ")}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,s="select-one"===e.type||o<0,r=s?null:[],a=s?o+1:i.length,l=o<0?a:s?o:0;l<a;l++)if(n=i[l],(n.selected||l===o)&&(ie.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!se.nodeName(n.parentNode,"optgroup"))){if(t=se(n).val(),s)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,s=se.makeArray(t),r=o.length;r--;)i=o[r],(i.selected=se.inArray(se.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(e,t){if(se.isArray(t))return e.checked=se.inArray(se(e).val(),t)>-1}},ie.checkOn||(se.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var vt=/^(?:focusinfocus|focusoutblur)$/;se.extend(se.event,{trigger:function(t,n,i,o){var s,r,a,l,c,u,d,p=[i||G],h=ne.call(t,"type")?t.type:t,f=ne.call(t,"namespace")?t.namespace.split("."):[];if(r=a=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!vt.test(h+se.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[se.expando]?t:new se.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:se.makeArray(n,[t]),d=se.event.special[h]||{},o||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!o&&!d.noBubble&&!se.isWindow(i)){for(l=d.delegateType||h,vt.test(l+h)||(r=r.parentNode);r;r=r.parentNode)p.push(r),a=r;a===(i.ownerDocument||G)&&p.push(a.defaultView||a.parentWindow||e)}for(s=0;(r=p[s++])&&!t.isPropagationStopped();)t.type=s>1?l:d.bindType||h,u=(Te.get(r,"events")||{})[t.type]&&Te.get(r,"handle"),u&&u.apply(r,n),u=c&&r[c],u&&u.apply&&xe(r)&&(t.result=u.apply(r,n),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!xe(i)||c&&se.isFunction(i[h])&&!se.isWindow(i)&&(a=i[c],a&&(i[c]=null),se.event.triggered=h,i[h](),se.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=se.extend(new se.Event,n,{type:e,isSimulated:!0});se.event.trigger(i,null,t)}}),se.fn.extend({trigger:function(e,t){return this.each(function(){se.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return se.event.trigger(e,t,n,!0)}}),se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){se.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),se.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ie.focusin="onfocusin"in e,ie.focusin||se.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){se.event.simulate(t,e.target,se.event.fix(e))};se.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=Te.access(i,t);o||i.addEventListener(e,n,!0),Te.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Te.access(i,t)-1;o?Te.access(i,t,o):(i.removeEventListener(e,n,!0),Te.remove(i,t))}}});var mt=e.location,gt=se.now(),yt=/\?/;se.parseJSON=function(e){return JSON.parse(e+"")},se.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;
try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+t),n};var _t=/#.*$/,wt=/([?&])_=[^&]*/,bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Et=/^(?:GET|HEAD)$/,xt=/^\/\//,Tt={},jt={},At="*/".concat("*"),St=G.createElement("a");St.href=mt.href,se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:kt.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$($(e,se.ajaxSettings),t):$(se.ajaxSettings,e)},ajaxPrefilter:F(Tt),ajaxTransport:F(jt),ajax:function(t,n){function i(t,n,i,a){var c,d,y,_,b,E=n;2!==w&&(w=2,l&&e.clearTimeout(l),o=void 0,r=a||"",k.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(_=H(p,k,i)),_=q(p,_,k,c),c?(p.ifModified&&(b=k.getResponseHeader("Last-Modified"),b&&(se.lastModified[s]=b),b=k.getResponseHeader("etag"),b&&(se.etag[s]=b)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=_.state,d=_.data,y=_.error,c=!y)):(y=E,!t&&E||(E="error",t<0&&(t=0))),k.status=t,k.statusText=(n||E)+"",c?v.resolveWith(h,[d,E,k]):v.rejectWith(h,[k,E,y]),k.statusCode(g),g=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[k,p,c?d:y]),m.fireWith(h,[k,E]),u&&(f.trigger("ajaxComplete",[k,p]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,s,r,a,l,c,u,d,p=se.ajaxSetup({},n),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?se(h):se.event,v=se.Deferred(),m=se.Callbacks("once memory"),g=p.statusCode||{},y={},_={},w=0,b="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=bt.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=_[n]=_[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)g[t]=[g[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||b;return o&&o.abort(t),i(0,t),this}};if(v.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,p.url=((t||p.url||mt.href)+"").replace(_t,"").replace(xt,mt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=se.trim(p.dataType||"*").toLowerCase().match(be)||[""],null==p.crossDomain){c=G.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=St.protocol+"//"+St.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=se.param(p.data,p.traditional)),B(Tt,p,n,k),2===w)return k;u=se.event&&p.global,u&&0===se.active++&&se.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Et.test(p.type),s=p.url,p.hasContent||(p.data&&(s=p.url+=(yt.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wt.test(s)?s.replace(wt,"$1_="+gt++):s+(yt.test(s)?"&":"?")+"_="+gt++)),p.ifModified&&(se.lastModified[s]&&k.setRequestHeader("If-Modified-Since",se.lastModified[s]),se.etag[s]&&k.setRequestHeader("If-None-Match",se.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+At+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(h,k,p)===!1||2===w))return k.abort();b="abort";for(d in{success:1,error:1,complete:1})k[d](p[d]);if(o=B(jt,p,n,k)){if(k.readyState=1,u&&f.trigger("ajaxSend",[k,p]),2===w)return k;p.async&&p.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},p.timeout));try{w=1,o.send(y,i)}catch(e){if(!(w<2))throw e;i(-1,e)}}else i(-1,"No Transport");return k},getJSON:function(e,t,n){return se.get(e,t,n,"json")},getScript:function(e,t){return se.get(e,void 0,t,"script")}}),se.each(["get","post"],function(e,t){se[t]=function(e,n,i,o){return se.isFunction(n)&&(o=o||i,i=n,n=void 0),se.ajax(se.extend({url:e,type:t,dataType:o,data:n,success:i},se.isPlainObject(e)&&e))}}),se._evalUrl=function(e){return se.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},se.fn.extend({wrapAll:function(e){var t;return se.isFunction(e)?this.each(function(t){se(this).wrapAll(e.call(this,t))}):(this[0]&&(t=se(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return se.isFunction(e)?this.each(function(t){se(this).wrapInner(e.call(this,t))}):this.each(function(){var t=se(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=se.isFunction(e);return this.each(function(n){se(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}}),se.expr.filters.hidden=function(e){return!se.expr.filters.visible(e)},se.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Ct=/%20/g,It=/\[\]$/,Rt=/\r?\n/g,Ut=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;se.param=function(e,t){var n,i=[],o=function(e,t){t=se.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(e)||e.jquery&&!se.isPlainObject(e))se.each(e,function(){o(this.name,this.value)});else for(n in e)Y(n,e[n],t,o);return i.join("&").replace(Ct,"+")},se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=se.prop(this,"elements");return e?se.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!se(this).is(":disabled")&&Pt.test(this.nodeName)&&!Ut.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var n=se(this).val();return null==n?null:se.isArray(n)?se.map(n,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:n.replace(Rt,"\r\n")}}).get()}}),se.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ot={0:200,1223:204},Nt=se.ajaxSettings.xhr();ie.cors=!!Nt&&"withCredentials"in Nt,ie.ajax=Nt=!!Nt,se.ajaxTransport(function(t){var n,i;if(ie.cors||Nt&&!t.crossDomain)return{send:function(o,s){var r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(r in o)a.setRequestHeader(r,o[r]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ot[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return se.globalEval(e),e}}}),se.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),se.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=se("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Dt=[],Lt=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||se.expando+"_"+gt++;return this[e]=!0,e}}),se.ajaxPrefilter("json jsonp",function(t,n,i){var o,s,r,a=t.jsonp!==!1&&(Lt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=se.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Lt,"$1"+o):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||se.error(o+" was not called"),r[0]},t.dataTypes[0]="json",s=e[o],e[o]=function(){r=arguments},i.always(function(){void 0===s?se(e).removeProp(o):e[o]=s,t[o]&&(t.jsonpCallback=n.jsonpCallback,Dt.push(o)),r&&se.isFunction(s)&&s(r[0]),r=s=void 0}),"script"}),se.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var i=fe.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=p([e],t,o),o&&o.length&&se(o).remove(),se.merge([],i.childNodes))};var Wt=se.fn.load;se.fn.load=function(e,t,n){if("string"!=typeof e&&Wt)return Wt.apply(this,arguments);var i,o,s,r=this,a=e.indexOf(" ");return a>-1&&(i=se.trim(e.slice(a)),e=e.slice(0,a)),se.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&se.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){s=arguments,r.html(i?se("<div>").append(se.parseHTML(e)).find(i):e)}).always(n&&function(e,t){r.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){se.fn[t]=function(e){return this.on(t,e)}}),se.expr.filters.animated=function(e){return se.grep(se.timers,function(t){return e===t.elem}).length},se.offset={setOffset:function(e,t,n){var i,o,s,r,a,l,c,u=se.css(e,"position"),d=se(e),p={};"static"===u&&(e.style.position="relative"),a=d.offset(),s=se.css(e,"top"),l=se.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1,c?(i=d.position(),r=i.top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),se.isFunction(t)&&(t=t.call(e,n,se.extend({},a))),null!=t.top&&(p.top=t.top-a.top+r),null!=t.left&&(p.left=t.left-a.left+o),"using"in t?t.using.call(e,p):d.css(p)}},se.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){se.offset.setOffset(this,e,t)});var t,n,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s)return t=s.documentElement,se.contains(t,i)?(o=i.getBoundingClientRect(),n=z(s),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===se.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),se.nodeName(e[0],"html")||(i=e.offset()),i.top+=se.css(e[0],"borderTopWidth",!0),i.left+=se.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-se.css(n,"marginTop",!0),left:t.left-i.left-se.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===se.css(e,"position");)e=e.offsetParent;return e||Je})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;se.fn[e]=function(i){return Ee(this,function(e,i,o){var s=z(e);return void 0===o?s?s[t]:e[i]:void(s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):e[i]=o)},e,i,arguments.length)}}),se.each(["top","left"],function(e,t){se.cssHooks[t]=A(ie.pixelPosition,function(e,n){if(n)return n=j(e,t),Ge.test(n)?se(e).position()[t]+"px":n})}),se.each({Height:"height",Width:"width"},function(e,t){se.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){se.fn[i]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||o===!0?"margin":"border");return Ee(this,function(t,n,i){var o;return se.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?se.css(t,n,r):se.style(t,n,i,r)},t,s?i:void 0,s,null)}})}),se.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),se.fn.andSelf=se.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return se});var Mt=e.jQuery,Vt=e.$;return se.noConflict=function(t){return e.$===se&&(e.$=Vt),t&&e.jQuery===se&&(e.jQuery=Mt),se},t||(e.jQuery=e.$=se),se})},{}],"/Users/shawn/Work/mtv-play/node_modules/json3/lib/json3.js":[function(e,t,n){(function(e){(function(){function i(e,t){function n(e){if(n[e]!==m)return n[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,u="function"==typeof l&&_;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===l(0)&&"0"===l(new o)&&'""'==l(new r)&&l(y)===m&&l(m)===m&&l()===m&&"1"===l(s)&&"[1]"==l([s])&&"[null]"==l([m])&&"null"==l(null)&&"[null,null,null]"==l([m,y,null])&&l({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===l(null,s)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==l(new c((-1)))}catch(e){u=!1}}i=u}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){s=d(a);var p=5==s.a.length&&1===s.a[0];if(p){try{p=!d('"\t"')}catch(e){}if(p)try{p=1!==d("01")}catch(e){}if(p)try{p=1!==d("1.")}catch(e){}}}}catch(e){p=!1}i=p}}return n[e]=!!i}e||(e=a.Object()),t||(t=a.Object());var o=e.Number||a.Number,r=e.String||a.String,l=e.Object||a.Object,c=e.Date||a.Date,u=e.SyntaxError||a.SyntaxError,d=e.TypeError||a.TypeError,p=e.Math||a.Math,h=e.JSON||a.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var f,v,m,g=l.prototype,y=g.toString,_=new c((-0xc782b5b800cec));try{_=_.getUTCFullYear()==-109252&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(e){}if(!n("json")){var w="[object Function]",b="[object Date]",k="[object Number]",E="[object String]",x="[object Array]",T="[object Boolean]",j=n("bug-string-char-index");if(!_)var A=p.floor,S=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return S[t]+365*(e-1970)+A((e-1969+(t=+(t>1)))/4)-A((e-1901+t)/100)+A((e-1601+t)/400)};if((f=g.hasOwnProperty)||(f=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?f=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,f=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,f.call(this,e)}),v=function(e,t){var n,i,o,r=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(o in i)f.call(i,o)&&r++;return n=i=null,r?v=2==r?function(e,t){var n,i={},o=y.call(e)==w;for(n in e)o&&"prototype"==n||f.call(i,n)||!(i[n]=1)||!f.call(e,n)||t(n)}:function(e,t){var n,i,o=y.call(e)==w;for(n in e)o&&"prototype"==n||!f.call(e,n)||(i="constructor"===n)||t(n);(i||f.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],v=function(e,t){var n,o,r=y.call(e)==w,a=!r&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)r&&"prototype"==n||!a.call(e,n)||t(n);for(o=i.length;n=i[--o];a.call(e,n)&&t(n));}),v(e,t)},!n("json-stringify")){var I={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},R="000000",U=function(e,t){return(R+(t||0)).slice(-e)},P="\\u00",O=function(e){for(var t='"',n=0,i=e.length,o=!j||i>10,s=o&&(j?e.split(""):e);n<i;n++){var r=e.charCodeAt(n);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=I[r];break;default:if(r<32){t+=P+U(2,r.toString(16));break}t+=o?s[n]:e.charAt(n)}}return t+'"'},N=function(e,t,n,i,o,s,r){var a,l,c,u,p,h,g,_,w,j,S,I,R,P,D,L;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if(l=y.call(a),l!=b||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=k&&l!=E&&l!=x||f.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(C){for(p=A(a/864e5),c=A(p/365.2425)+1970-1;C(c+1,0)<=p;c++);for(u=A((p-C(c,0))/30.42);C(c,u+1)<=p;u++);p=1+p-C(c,u),h=(a%864e5+864e5)%864e5,g=A(h/36e5)%24,_=A(h/6e4)%60,w=A(h/1e3)%60,j=h%1e3}else c=a.getUTCFullYear(),u=a.getUTCMonth(),p=a.getUTCDate(),g=a.getUTCHours(),_=a.getUTCMinutes(),w=a.getUTCSeconds(),j=a.getUTCMilliseconds();a=(c<=0||c>=1e4?(c<0?"-":"+")+U(6,c<0?-c:c):U(4,c))+"-"+U(2,u+1)+"-"+U(2,p)+"T"+U(2,g)+":"+U(2,_)+":"+U(2,w)+"."+U(3,j)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(l=y.call(a),l==T)return""+a;if(l==k)return a>-1/0&&a<1/0?""+a:"null";if(l==E)return O(""+a);if("object"==typeof a){for(P=r.length;P--;)if(r[P]===a)throw d();if(r.push(a),S=[],D=s,s+=o,l==x){for(R=0,P=a.length;R<P;R++)I=N(R,a,n,i,o,s,r),S.push(I===m?"null":I);L=S.length?o?"[\n"+s+S.join(",\n"+s)+"\n"+D+"]":"["+S.join(",")+"]":"[]"}else v(i||a,function(e){var t=N(e,a,n,i,o,s,r);t!==m&&S.push(O(e)+":"+(o?" ":"")+t)}),L=S.length?o?"{\n"+s+S.join(",\n"+s)+"\n"+D+"}":"{"+S.join(",")+"}":"{}";return r.pop(),L}};t.stringify=function(e,t,n){var i,o,r,a;if(s[typeof t]&&t)if((a=y.call(t))==w)o=t;else if(a==x){r={};for(var l,c=0,u=t.length;c<u;l=t[c++],a=y.call(l),(a==E||a==k)&&(r[l]=1));}if(n)if((a=y.call(n))==k){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else a==E&&(i=n.length<=10?n:n.slice(0,10));return N("",(l={},l[""]=e,l),o,r,i,"",[])}}if(!n("json-parse")){var D,L,W=r.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},V=function(){throw D=L=null,u()},F=function(){for(var e,t,n,i,o,s=L,r=s.length;D<r;)switch(o=s.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=j?s.charAt(D):s[D],D++,e;case 34:for(e="@",D++;D<r;)if(o=s.charCodeAt(D),o<32)V();else if(92==o)switch(o=s.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[o],D++;break;case 117:for(t=++D,n=D+4;D<n;D++)o=s.charCodeAt(D),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||V();e+=W("0x"+s.slice(t,D));break;default:V()}else{if(34==o)break;for(o=s.charCodeAt(D),t=D;o>=32&&92!=o&&34!=o;)o=s.charCodeAt(++D);e+=s.slice(t,D)}if(34==s.charCodeAt(D))return D++,e;V();default:if(t=D,45==o&&(i=!0,o=s.charCodeAt(++D)),o>=48&&o<=57){for(48==o&&(o=s.charCodeAt(D+1),o>=48&&o<=57)&&V(),i=!1;D<r&&(o=s.charCodeAt(D),o>=48&&o<=57);D++);if(46==s.charCodeAt(D)){for(n=++D;n<r&&(o=s.charCodeAt(n),o>=48&&o<=57);n++);n==D&&V(),D=n}if(o=s.charCodeAt(D),101==o||69==o){for(o=s.charCodeAt(++D),43!=o&&45!=o||D++,n=D;n<r&&(o=s.charCodeAt(n),o>=48&&o<=57);n++);n==D&&V(),D=n}return+s.slice(t,D)}if(i&&V(),"true"==s.slice(D,D+4))return D+=4,!0;if("false"==s.slice(D,D+5))return D+=5,!1;if("null"==s.slice(D,D+4))return D+=4,null;V()}return"$"},B=function(e){var t,n;if("$"==e&&V(),"string"==typeof e){if("@"==(j?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=F(),"]"!=e;n||(n=!0))n&&(","==e?(e=F(),"]"==e&&V()):V()),","==e&&V(),t.push(B(e));return t}if("{"==e){for(t={};e=F(),"}"!=e;n||(n=!0))n&&(","==e?(e=F(),"}"==e&&V()):V()),","!=e&&"string"==typeof e&&"@"==(j?e.charAt(0):e[0])&&":"==F()||V(),t[e.slice(1)]=B(F());return t}V()}return e},$=function(e,t,n){var i=H(e,t,n);i===m?delete e[t]:e[t]=i},H=function(e,t,n){var i,o=e[t];if("object"==typeof o&&o)if(y.call(o)==x)for(i=o.length;i--;)$(o,i,n);else v(o,function(e){$(o,e,n)});return n.call(e,t,o)};t.parse=function(e,t){var n,i;return D=0,L=""+e,n=B(F()),"$"!=F()&&V(),D=L=null,t&&y.call(t)==w?H((i={},i[""]=n,i),"",t):n}}}return t.runInContext=i,t}var o="function"==typeof define&&define.amd,s={function:!0,object:!0},r=s[typeof n]&&n&&!n.nodeType&&n,a=s[typeof window]&&window||this,l=r&&s[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(a=l),r&&!o)i(a,r);else{var c=a.JSON,u=a.JSON3,d=!1,p=i(a,a.JSON3={noConflict:function(){return d||(d=!0,a.JSON=c,a.JSON3=u,c=u=null),p}});a.JSON={parse:p.parse,stringify:p.stringify}}o&&define(function(){return p})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/mtv-play/node_modules/mediaplayer/dist/mediaplayer-bundle.min.js":[function(require,module,exports){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["mediaplayer-bundle.min"]=t():e["mediaplayer-bundle.min"]=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(module,exports,__webpack_require__){!function(e,t){module.exports=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){window.swfobject=n(15),n(16)},function(e,t,n){var i,o,s,r,a=function(e,t){return function(){return e.apply(t,arguments)}},l=[].slice;n(2),s=n(3),o=n(4),i=n(7),r=function(){function e(e,t){this.parseMetadata=a(this.parseMetadata,this),this.feedloadFail=a(this.feedloadFail,this),this.feedloadComplete=a(this.feedloadComplete,this);var n,r,l,c,u,d,p,h,f;if(arguments.length>2&&console.warn("[DEPRECATION] Use @settings object to pass customVideoAttributes, debug and shinobi."),t)this.settings=t;else{if(null==(null!=(d=$("#mediaplayerSettings"))?d.text:void 0)||""===$("#mediaplayerSettings").text()||"{}"===$("#mediaplayerSettings").text())throw"no settings found";this.settings=JSON.parse($("#mediaplayerSettings").text())}for(null!=(null!=(p=this.settings)&&null!=(h=p.reporting)?h.googleanalytics:void 0)&&console.warn("[DEPRECATION] googleanalytics found in reporting, players will send GA tracking calls on top of events sent through Shinobi."),this.options={},this.tryProxyLoad=!1,this.shinobi=this.settings.shinobi||arguments[4],n=this.settings.customVideoAttributes||arguments[2]||{},this.mobile=navigator.userAgent.match(/iPhone|iPod|Symbian|MIDP|Windows CE|BlackBerry|Opera Mini|PSP|Android/)||navigator.userAgent.match(/iPad|RIM Tablet/),this.html5="html5"===this.settings.force,this.html5&&(this.mobile=!0),null!=this.settings.shinobi&&delete this.settings.shinobi,this.settings.reporting&&this.settings.reporting.enabled&&this.settings.reporting.homad&&this.settings.reporting.homad.enabled&&(r=new s),this.html5||this.mobile?this.proxy=new o(e,this.settings,n,(!1)):this.proxy=new i(e,this.settings),this.proxy.addEventListener("track",function(t){return function(n){var i,o;return n.container=e,$.extend(n,t.metadata),t.metadata.title&&null==n.contentTitle&&(n.contentTitle=t.metadata.title),t.metadata.feedduration&&null==n.contentDuration&&(n.contentDuration=t.metadata.feedduration),n.contentMGID||(n.contentMGID=t.metadata.mediaid),n.mediaplayerInstance=t,null!=(null!=(i=t.shinobi)?i.track:void 0)?t.shinobi.track(n):null!=(null!=(o=window.VIACOM.Shinobi)?o.track:void 0)?window.VIACOM.Shinobi.track(n):void 0}}(this)),f=["addEventListener","removeEventListener","play","pause","getDuration","getCurrentTime","setCurrentTime","getVolume","setVolume","setAutoPlay","getAutoPlay","requestFullscreen","invokeAd","destroy"],l=0,c=f.length;c>l;l++)u=f[l],this[u]=this.proxy[u].bind(this.proxy)}return e.prototype.metadata={},e.prototype.load=function(e,t,n,i,o){var s;return null==n&&(n={}),null==i&&(i=null),null==o&&(o=null),this.log("load",e,t,n,i,o),null!=o&&(o=this.addSiteKey(o),o.indexOf("http:")>-1&&this.settings.forceSSL&&(o=o.split("http://").join("https://"))),this.embedInfo={type:""+e,token:""+t},null!=o&&""!==o&&(this.embedInfo.mrss=""+o),this.embedInfo.image=(null!=n?n.image:void 0)||this.settings.image||null,null!=(null!=n?n.debug:void 0)&&n.debug&&(this.settings.debug||(this.settings.debug=n.debug),this.tryProxyLoad=!0,this.log(this.getEmbedPath())),this.currentToken=t,"arc"===e?(this.callback=i,this.options=n,this.loadFeedFromTokenOrURL(e,t,o)):"akamai_httpstream"===e?(s="http://unilivemtveu-lh.akamaihd.net/","object"==typeof t?s=t[this.mobile?1:0]:s+=this.mobile?"i/"+t+"/master.m3u8":"z/"+t+"/manifest.f4m",this.proxy.load(e,s,n,i,o)):(this.proxy.load(e,t,n,i,o),"music_video"!==e&&"local_playlist"!==e&&"local_playlist_video"!==e||o||(o=this.addSiteKey(this.api()+e+"-"+t),"music_video"===e&&(o+="&umaSite="+this.settings.domain+"."+this.settings.tld)),null!=o?("music_video"===e&&o.indexOf("umaSite=")<0&&(o+="&umaSite="+this.settings.domain+"."+this.settings.tld),this.loadMetadata(o)):void 0)},e.prototype.loadFeedFromTokenOrURL=function(e,t,n){var i;if(n&&""!==n)return this.loadFeed(this.addSiteKey(n));if(t&&""!==t){if("http"===t.substr(0,4))return this.loadFeed(this.addSiteKey(t));if("arc"===e){if(null==this.settings.tld)throw"If no mrss is provided for "+e+", a tld must be provided in the player @settings.";return i=this.settings.arcSite||"mtv.de",this.loadFeed(this.addSiteKey(this.api()+"music_video-"+t+"-"+this.settings.tld.toUpperCase()+"&arcSite="+i))}return this.loadFeed(this.addSiteKey(this.api()+e+"-"+t))}},e.prototype.addSiteKey=function(e){var t;return e.indexOf("siteKey=")<0?(t=this.settings.siteKey||this.settings.domain+"."+this.settings.tld,e+"&siteKey="+t):e},e.prototype.loadFeed=function(e){return this.loadFeedXML(e,this.feedloadComplete)},e.prototype.feedloadComplete=function(e){var t;if(null!=e)return this.$feed=$(e),this.parseMetadata(e),t=this.mobile?this.buildMediagenURL(this.$feed.xpath("//*:content/@url").val()):this.xmlToString(e),this.proxy.load("arc",t,this.options,this.callback,this.source)},e.prototype.feedloadFail=function(e){return this.tryProxyLoad?(this.log("Failed to load feed. Trying to load through local server"),this.tryProxyLoad=!1,this.loadFeedXML("/feedloader/?source="+encodeURIComponent(this.source),this.feedloadComplete)):void 0},e.prototype.loadFeedXML=function(e,t){return this.source=e,$.ajax({url:e,dataType:"xml",success:t,fail:this.feedloadFail,error:this.feedloadFail})},e.prototype.loadMetadata=function(e){return this.loadFeedXML(e,this.parseMetadata)},e.prototype.buildMediagenURL=function(e){var t;return t=e,t+=e.indexOf("?")>-1?"&":"?",t+="device=iPad&format=json"},e.prototype.xmlToString=function(e){var t,n;try{n=(new XMLSerializer).serializeToString(e)}catch(i){t=i,n=e.xml}return n},e.prototype.getEmbedCode=function(){return null!=this.embedInfo&&'<iframe width="640" height="360" src="'+this.getEmbedPath()+'" allowfullscreen frameborder="0"></iframe>'},e.prototype.getEmbedPath=function(){var e;return e=window.location.protocol+"//"+window.location.host+"/embed/?type="+this.embedInfo.type+"&token="+this.embedInfo.token,this.embedInfo.mrss&&(e+="&mrss="+encodeURIComponent(this.embedInfo.mrss)),this.embedInfo.image&&(e+="&image="+encodeURIComponent(this.embedInfo.image)),e},e.prototype.parseMetadata=function(e){var t,n;return this.log("parseMetadata",e),t=$(e),n=t.find("title").text().split("_"),this.metadata={},this.metadata.title=t.find("title").text(),this.metadata.title_tag=t.find("title").text(),n.length>1&&(this.metadata.franchise=n[1]),this.metadata.feedduration=t.xpath("//*:content/@duration").val(),this.metadata.file=t.xpath("//*:content/@url").val(),n.length>3&&(this.metadata.season=n[3],n.length>4&&(this.metadata.episode=n[4],n.length>5&&n[5].split("part").length>0&&(this.metadata.part=n[5].split("part")[1]))),t.xpath("//*:category/@scheme").each(function(e){return function(n,i){return"urn:mtvn:playlist_uri"===i.value?e.metadata.mediaid=t.xpath("//*:category/@scheme")[n].innerHTML:void 0}}(this)),this.metadata.mediaid?void 0:this.metadata.mediaid=t.find('category[scheme="urn:mtvn:playlist_uri"]:eq(0)').text()},e.prototype.protocolToUse=function(){return null!=this.settings.forceSSL&&this.settings.forceSSL?"https://":-1!==window.location.href.indexOf("http:")?"http://":"https://"},e.prototype.senseiEnv=function(){return"api.mtvnn.com"},e.prototype.api=function(){return this.protocolToUse()+this.senseiEnv()+"/v2/mrss.xml?uri=mgid:sensei:video:mtvnn.com:"},e.prototype.log=function(e){return this.settings.debug?console.log.apply(console,["[プレ]"].concat(l.call(arguments))):void 0},e}(),e.exports=r},function(e,t){!function(){function e(e,t){this.code=e,this.message=t||zn[e]}function t(t){var n=t.match(/\$?(?:(?![0-9-])(?:[\w-]+|\*):)?(?![0-9-])(?:[\w-]+|\*)|\(:|:\)|\/\/|\.\.|::|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?|\.\d+(?:[eE][+-]?\d+)?|"[^"]*(?:""[^"]*)*"|'[^']*(?:''[^']*)*'|<<|>>|[!<>]=|(?![0-9-])[\w-]+:\*|\s+|./g);if(n){for(var i=0,o=0,s=n.length;s>o;o++)"(:"==n[o]?i++:":)"==n[o]&&i?i--:i||/^\s/.test(n[o])||(this[this.length++]=n[o]);if(i)throw new e("XPST0003","Unclosed comment")}}function n(){}function i(e,t,i,o){this.staticContext=e,this.item=t,this.scope=i||{},this.stack={},this.DOMAdapter=o||new n;var s=new In,r=s.getTimezoneOffset();this.dateTime=new Ze(s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()+s.getMilliseconds()/1e3,(-r)),this.timezone=new jt(0,Un.abs(~~(r/60)),Un.abs(r%60),0,r>0)}function o(){this.dataTypes={},this.documents={},this.functions={},this.collations={},this.collections={}}function s(e,t,n){Gn[e]=n,Xn[e]=t}function r(e,t){Qn[e]=t}function a(n,i){var o=new t(n),s=d(o,i);if(!o.eof())throw new e("XPST0003","Unexpected token beyond end of query");if(!s)throw new e("XPST0003","Expected expression");this.internalExpression=s}function l(){}function c(){}function u(){this.items=[]}function d(t,n){var i;if(!t.eof()&&(i=p(t,n))){var o=new u;for(o.items.push(i);","==t.peek();){if(t.next(),t.eof()||!(i=p(t,n)))throw new e("XPST0003","Expected expression");o.items.push(i)}return o}}function p(e,t){return e.eof()?void 0:y(e,t)||f(e,t)||w(e,t)||D(e,t)}function h(){this.bindings=[],this.returnExpr=null}function f(t,n){if("for"==t.peek()&&"$"==t.peek(1).substr(0,1)){t.next();var i,o=new h;do o.bindings.push(m(t,n));while(","==t.peek()&&t.next());if("return"!=t.peek())throw new e("XPST0003","Expected 'return' token in for expression");if(t.next(),t.eof()||!(i=p(t,n)))throw new e("XPST0003","Expected return statement operand in for expression");return o.returnExpr=i,o}}function v(e,t,n,i){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=i}function m(t,n){var i=t.peek().substr(1).match(li);if(!i)throw new e("XPST0003","Expected binding in for expression");if("*"==i[1]||"*"==i[2])throw new e("XPST0003","Illegal use of wildcard in for expression binding variable name");if(t.next(),"in"!=t.peek())throw new e("XPST0003","Expected 'in' token in for expression binding");t.next();var o;if(t.eof()||!(o=p(t,n)))throw new e("XPST0003","Expected in statement operand in for expression binding");return new v(i[1]||null,i[2],i[1]?n.getURIForPrefix(i[1]):null,o)}function g(e,t,n){this.condExpr=e,this.thenExpr=t,this.elseExpr=n}function y(t,n){var i,o,s;if("if"==t.peek()&&"("==t.peek(1)){
if(t.next(2),t.eof()||!(i=d(t,n)))throw new e("XPST0003","Expected if statement operand in conditional expression");if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in for expression");if(t.next(),"then"!=t.peek())throw new e("XPST0003","Expected 'then' token in conditional if expression");if(t.next(),t.eof()||!(o=p(t,n)))throw new e("XPST0003","Expected then statement operand in condional expression");if("else"!=t.peek())throw new e("XPST0003","Expected 'else' token in conditional if expression");if(t.next(),t.eof()||!(s=p(t,n)))throw new e("XPST0003","Expected else statement operand in condional expression");return new g(i,o,s)}}function _(e){this.quantifier=e,this.bindings=[],this.satisfiesExpr=null}function w(t,n){var i=t.peek();if(("some"==i||"every"==i)&&"$"==t.peek(1).substr(0,1)){t.next();var o,s=new _(i);do s.bindings.push(k(t,n));while(","==t.peek()&&t.next());if("satisfies"!=t.peek())throw new e("XPST0003","Expected 'satisfies' token in quantified expression");if(t.next(),t.eof()||!(o=p(t,n)))throw new e("XPST0003","Expected satisfies statement operand in quantified expression");return s.satisfiesExpr=o,s}}function b(e,t,n,i){this.prefix=e,this.localName=t,this.namespaceURI=n,this.inExpr=i}function k(t,n){var i=t.peek().substr(1).match(li);if(!i)throw new e("XPST0003","Expected binding in quantified expression");if("*"==i[1]||"*"==i[2])throw new e("XPST0003","Illegal use of wildcard in quantified expression binding variable name");if(t.next(),"in"!=t.peek())throw new e("XPST0003","Expected 'in' token in quantified expression binding");t.next();var o;if(t.eof()||!(o=p(t,n)))throw new e("XPST0003","Expected in statement operand in quantified expression binding");return new b(i[1]||null,i[2],i[1]?n.getURIForPrefix(i[1]):null,o)}function E(e,t,n){this.left=e,this.right=t,this.operator=n}function x(t,n){var i,o;if(!t.eof()&&(i=xe(t,n))){if(!(t.peek()in ni))return i;var s=t.peek();if(t.next(),t.eof()||!(o=xe(t,n)))throw new e("XPST0003","Expected second operand in comparison expression");return new E(i,o,s)}}function T(e,t){var n=bn(e.left.evaluate(t),t);if(!n.length)return new Ge((!1));var i=bn(e.right.evaluate(t),t);if(!i.length)return new Ge((!1));for(var o,s,r=!1,a=0,l=n.length;l>a&&!r;a++)for(var c,u,d=0,p=i.length;p>d&&!r;d++)s=n[a],u=i[d],o=s instanceof Et,c=u instanceof Et,o&&c?(s=wt.cast(s),u=wt.cast(u)):(o?u instanceof jt?s=jt.cast(s):u instanceof xt?s=xt.cast(s):u.primitiveKind&&(s=Qn[u.primitiveKind].cast(s)):c&&(s instanceof jt?u=jt.cast(u):s instanceof xt?u=xt.cast(u):s.primitiveKind&&(u=Qn[s.primitiveKind].cast(u))),s instanceof ze&&(s=wt.cast(s)),u instanceof ze&&(u=wt.cast(u))),r=ei[Zn[e.operator]](s,u,t).valueOf();return new Ge(r)}function j(e,t){var n=bn(e.left.evaluate(t),t);if(!n.length)return null;we(t,n,"?","first operand of '"+e.operator+"'");var i=bn(e.right.evaluate(t),t);if(!i.length)return null;we(t,i,"?","second operand of '"+e.operator+"'");var o=n[0],s=i[0];return o instanceof Et&&(o=wt.cast(o)),s instanceof Et&&(s=wt.cast(s)),o instanceof ze&&(o=wt.cast(o)),s instanceof ze&&(s=wt.cast(s)),ei[e.operator](o,s,t)}function A(e,t){var n=e.left.evaluate(t);if(!n.length)return null;we(t,n,"?","first operand of '"+e.operator+"'"),_e(t,n,Xt,"first operand of '"+e.operator+"'");var i=e.right.evaluate(t);return i.length?(we(t,i,"?","second operand of '"+e.operator+"'"),_e(t,i,Xt,"second operand of '"+e.operator+"'"),ti[e.operator](n[0],i[0],t)):null}function S(e){this.left=e,this.items=[]}function C(t,n){var i;if(!t.eof()&&(i=R(t,n))){if(!(t.peek()in ii))return i;for(var o,s=new S(i);(o=t.peek())in ii;){if(t.next(),t.eof()||!(i=R(t,n)))throw new e("XPST0003","Expected second operand in additive expression");s.items.push([o,i])}return s}}function I(e){this.left=e,this.items=[]}function R(t,n){var i;if(!t.eof()&&(i=je(t,n))){if(!(t.peek()in oi))return i;for(var o,s=new I(i);(o=t.peek())in oi;){if(t.next(),t.eof()||!(i=je(t,n)))throw new e("XPST0003","Expected second operand in multiplicative expression");s.items.push([o,i])}return s}}function U(e,t){this.operator=e,this.expression=t}function P(t,n){if(!t.eof()){if(!(t.peek()in si))return O(t,n);for(var i,o="+";t.peek()in si;)"-"==t.peek()&&(o="-"==o?"+":"-"),t.next();if(t.eof()||!(i=O(t,n)))throw new e("XPST0003","Expected operand in unary expression");return new U(o,i)}}function O(e,t){return z(e,t)}function N(e){this.left=e,this.items=[]}function D(t,n){var i;if(!t.eof()&&(i=W(t,n))){if("or"!=t.peek())return i;for(var o=new N(i);"or"==t.peek();){if(t.next(),t.eof()||!(i=W(t,n)))throw new e("XPST0003","Expected second operand in logical expression");o.items.push(i)}return o}}function L(e){this.left=e,this.items=[]}function W(t,n){var i;if(!t.eof()&&(i=x(t,n))){if("and"!=t.peek())return i;for(var o=new L(i);"and"==t.peek();){if(t.next(),t.eof()||!(i=x(t,n)))throw new e("XPST0003","Expected second operand in logical expression");o.items.push(i)}return o}}function M(){}function V(e,t){return e.eof()?void 0:he(e,t)||$(e,t)}function F(t,n,i){for(var o;"["==t.peek();){if(t.next(),t.eof()||!(o=d(t,n)))throw new e("XPST0003","Expected expression in predicate");if(i.predicates.push(o),"]"!=t.peek())throw new e("XPST0003","Expected ']' token in predicate");t.next()}}function B(e,t){this.axis=e,this.test=t,this.predicates=[]}function $(t,n){var i,o,s=t.peek();if("::"==t.peek(1)){if(!(s in ri))throw new e("XPST0003","Unknown axis name: "+s);if(t.next(2),t.eof()||!(i=G(t,n)))throw new e("XPST0003","Expected node test expression in axis step");o=new B(s,i)}else if(".."==s)t.next(),o=new B("parent",new X("node"));else if("@"==s){if(t.next(),t.eof()||!(i=G(t,n)))throw new e("XPST0003","Expected node test expression in axis step");o=new B("attribute",i)}else{if(t.eof()||!(i=G(t,n)))return;o=new B(i instanceof X&&"attribute"==i.name?"attribute":"child",i)}return F(t,n,o),o}function H(e,t,n){for(var i;e;e=n(e,"nextSibling"))t.push(e),(i=n(e,"firstChild"))&&H(i,t,n)}function q(e,t,n){for(var i;e;e=n(e,"previousSibling"))(i=n(e,"lastChild"))&&q(i,t,n),t.push(e)}function Y(){this.items=[]}function z(t,n){if(!t.eof()){var i,o="/",s="//",r=new Y,a=t.peek();if(a!=s&&a!=o||(t.next(),r.items.push(new me(null,"root",Hn)),a==s&&r.items.push(new B("descendant-or-self",new X("node")))),!t.eof()&&(i=V(t,n))){for(r.items.push(i);(a=t.peek())==o||a==s;){if(a==s&&r.items.push(new B("descendant-or-self",new X("node"))),t.next(),t.eof()||!(i=V(t,n)))throw new e("XPST0003","Expected path step expression");r.items.push(i)}return 1==r.items.length?r.items[0]:r}if(a==o)return r.items[0];if(a==s)throw new e("XPST0003","Expected path step expression")}}function K(){}function G(e,t){return e.eof()?void 0:Q(e,t)||Z(e,t)}function X(e){this.name=e,this.args=[]}function Q(t,n){var i=t.peek();if("("==t.peek(1)){if(!(i in ai))throw new e("XPST0003","Unknown '"+i+"' kind test");t.next(2);var o=new X(i);if(")"!=t.peek());else{if("schema-attribute"==i)throw new e("XPST0003","Expected attribute declaration in 'schema-attribute' kind test");if("schema-element"==i)throw new e("XPST0003","Expected element declaration in 'schema-element' kind test")}if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in kind test");return t.next(),o}}function J(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function Z(t,n){var i=t.peek().match(li);if(i){if("*"==i[1]&&"*"==i[2])throw new e("XPST0003","Illegal use of *:* wildcard in name test");return t.next(),new J(i[1]||null,i[2],i[1]?"*"==i[1]?"*":n.getURIForPrefix(i[1])||null:n.defaultElementNamespace)}}function ee(e,t){return e.eof()?void 0:oe(e,t)||ne(e,t)||ge(e,t)||ve(e,t)||re(e,t)}function te(e){this.expression=e}function ne(t,n){if("("==t.peek()){t.next();var i=null;if(")"!=t.peek()&&(i=d(t,n)),")"!=t.peek())throw new e("XPST0003","Expected ')' token in parenthesized expression");return t.next(),new te(i)}}function ie(){}function oe(e,t){return"."==e.peek()?(e.next(),new ie):void 0}function se(){}function re(e,t){return e.eof()?void 0:le(e,t)||de(e,t)}function ae(e){this.value=e}function le(e,t){var n=e.peek(),i=ce(n);return i?(e.next(),new ae(i)):void 0}function ce(e){var t=e.match(ci);if(t){var n=St;return t[5]?n=rt:(t[2]||t[3])&&(n=st),new n((+e))}}function ue(e){this.value=e}function de(e,t){var n=e.peek().match(ui);return n?(e.next(),new ue(new wt(n[1]?n[1].replace("''","'"):n[2]?n[2].replace('""','"'):""))):void 0}function pe(e){this.expression=e,this.predicates=[]}function he(e,t){var n;if(!e.eof()&&(n=ee(e,t))){var i=new pe(n);return F(e,t,i),0==i.predicates.length?i.expression:i}}function fe(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function ve(t,n){if("$"==t.peek().substr(0,1)){var i=t.peek().substr(1).match(li);if(i){if("*"==i[1]||"*"==i[2])throw new e("XPST0003","Illegal use of wildcard in var expression variable name");var o=new fe(i[1]||null,i[2],i[1]?n.getURIForPrefix(i[1]):null);return t.next(),o}}}function me(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n,this.args=[]}function ge(t,n){var i=t.peek().match(li);if(i&&"("==t.peek(1)){if(!i[1]&&i[2]in ai)return $(t,n);if("*"==i[1]||"*"==i[2])throw new e("XPST0003","Illegal use of wildcard in function name");var o,s=new me(i[1]||null,i[2],i[1]?n.getURIForPrefix(i[1])||null:n.defaultFunctionNamespace);if(t.next(2),")"!=t.peek()){do{if(t.eof()||!(o=p(t,n)))throw new e("XPST0003","Expected function call argument");s.args.push(o)}while(","==t.peek()&&t.next());if(")"!=t.peek())throw new e("XPST0003","Expected ')' token in function call")}return t.next(),s}}function ye(t,n,i,o,s){for(var r,a,l=o.length,c=n.length,u=0;u<n.length&&!n[u][2];)u++;if(l>c)throw new e("XPST0017","Function "+t+"() must have "+(c?" no more than ":"")+c+" argument"+(c>1||!c?"s":""));if(u>l)throw new e("XPST0017","Function "+t+"() must have "+(u==c?"exactly":"at least")+" "+u+" argument"+(c>1?"s":""));for(var d=0;l>d;d++)a=n[d],r=o[d],we(s,r,a[1],di[d]+" argument of "+t+"()"),_e(s,r,a[0],di[d]+" argument of "+t+"()"),"+"!=a[1]&&"*"!=a[1]&&(o[d]=r.length?r[0]:null)}function _e(t,n,i,o){for(var s,r,a=0,l=n.length;l>a;a++)if(r=n[a],i==Xt||i.prototype instanceof Xt){if(!t.DOMAdapter.isNode(r))throw new e("XPTY0004","Required item type of "+o+" is "+i);if(i!=Xt&&(s=t.DOMAdapter.getProperty(r,"nodeType"),[null,en,Qt,nn,nn,null,null,tn,Jt,Zt,null,null,null][s]!=i))throw new e("XPTY0004","Required item type of "+o+" is "+i)}else if(i==qe||i.prototype instanceof qe){if(r=bn([r],t)[0],i!=qe&&(r instanceof Et?r=i.cast(r):i==wt?r instanceof ze&&(r=wt.cast(r)):i==rt&&Ye(r)&&(r=i.cast(r))),!(r instanceof i))throw new e("XPTY0004","Required item type of "+o+" is "+i);n[a]=r}}function we(t,n,i,o){var s=n.length;if("?"==i){if(s>1)throw new e("XPTY0004","Required cardinality of "+o+" is one or zero")}else if("+"==i){if(1>s)throw new e("XPTY0004","Required cardinality of "+o+" is one or more")}else if("*"!=i&&1!=s)throw new e("XPTY0004","Required cardinality of "+o+" is exactly one")}function be(e){this.left=e,this.items=[]}function ke(t,n){var i,o;if(!t.eof()&&(i=Se(t,n))){if("intersect"!=(o=t.peek())&&"except"!=o)return i;for(var s=new be(i);"intersect"==(o=t.peek())||"except"==o;){if(t.next(),t.eof()||!(i=Se(t,n)))throw new e("XPST0003","Expected second operand in "+o+" expression");s.items.push([o,i])}return s}}function Ee(e,t){this.left=e,this.right=t}function xe(t,n){var i,o;if(!t.eof()&&(i=C(t,n))){if("to"!=t.peek())return i;if(t.next(),t.eof()||!(o=C(t,n)))throw new e("XPST0003","Expected second operand in range expression");return new Ee(i,o)}}function Te(e){this.left=e,this.items=[]}function je(t,n){var i,o;if(!t.eof()&&(i=ke(t,n))){if("|"!=(o=t.peek())&&"union"!=o)return i;for(var s=new Te(i);"|"==(o=t.peek())||"union"==o;){if(t.next(),t.eof()||!(i=ke(t,n)))throw new e("XPST0003","Expected second operand in union expression");s.items.push(i)}return s}}function Ae(e,t){this.expression=e,this.type=t}function Se(t,n){var i,o;if(!t.eof()&&(i=Ie(t,n))){if("instance"!=t.peek()||"of"!=t.peek(1))return i;if(t.next(2),t.eof()||!(o=Ve(t,n)))throw new e("XPST0003","Expected second operand in instance of expression");return new Ae(i,o)}}function Ce(e,t){this.expression=e,this.type=t}function Ie(t,n){var i,o;if(!t.eof()&&(i=Ue(t,n))){if("treat"!=t.peek()||"as"!=t.peek(1))return i;if(t.next(2),t.eof()||!(o=Ve(t,n)))throw new e("XPST0003","Expected second operand in treat expression");return new Ce(i,o)}}function Re(e,t){this.expression=e,this.type=t}function Ue(t,n){var i,o;if(!t.eof()&&(i=Oe(t,n))){if("castable"!=t.peek()||"as"!=t.peek(1))return i;if(t.next(2),t.eof()||!(o=Be(t,n)))throw new e("XPST0003","Expected second operand in castable expression");return new Re(i,o)}}function Pe(e,t){this.expression=e,this.type=t}function Oe(t,n){var i,o;if(!t.eof()&&(i=P(t,n))){if("cast"!=t.peek()||"as"!=t.peek(1))return i;if(t.next(2),t.eof()||!(o=Be(t,n)))throw new e("XPST0003","Expected second operand in cast expression");return new Pe(i,o)}}function Ne(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function De(t,n){var i=t.peek().match(li);if(i){if("*"==i[1]||"*"==i[2])throw new e("XPST0003","Illegal use of wildcard in type name");return t.next(),new Ne(i[1]||null,i[2],i[1]?n.getURIForPrefix(i[1]):null)}}function Le(e){this.test=e}function We(t,n){if(!t.eof()){var i;if("item"==t.peek()&&"("==t.peek(1)){if(t.next(2),")"!=t.peek())throw new e("XPST0003","Expected ')' token in item type expression");return t.next(),new Le}return(i=Q(t,n))?new Le(i):(i=De(t,n))?new Le(i):void 0}}function Me(e,t){this.itemType=e||null,this.occurence=t||null}function Ve(t,n){if(!t.eof()){if("empty-sequence"==t.peek()&&"("==t.peek(1)){if(t.next(2),")"!=t.peek())throw new e("XPST0003","Expected ')' token in sequence type");return t.next(),new Me}var i,o;return!t.eof()&&(i=We(t,n))?(o=t.peek(),"?"==o||"*"==o||"+"==o?t.next():o=null,new Me(i,o)):void 0}}function Fe(e,t){this.itemType=e||null,this.occurence=t||null}function Be(e,t){var n,i;return!e.eof()&&(n=De(e,t))?(i=e.peek(),"?"==i?e.next():i=null,new Fe(n,i)):void 0}function $e(){}function He(){}function qe(){}function Ye(e){return e instanceof dt||e instanceof rt||e instanceof st}function ze(e,t,n,i,o){this.scheme=e,this.authority=t,this.path=n,this.query=i,this.fragment=o}function Ke(e){this.value=e}function Ge(e){this.value=e}function Xe(e,t,n,i,o){this.year=e,this.month=t,this.day=n,this.timezone=i,this.negative=o}function Qe(e,t){return 2==t&&(e%400==0||e%100!=0&&e%4==0)?29:mi[t-1]}function Je(e,t){if(!t){var n=Qe(e.year,e.month);if(e.day>n)for(;e.day>n;)e.month+=1,e.month>12&&(e.year+=1,0==e.year&&(e.year=1),e.month=1),e.day-=n,n=Qe(e.year,e.month);else if(e.day<1)for(;e.day<1;)e.month-=1,e.month<1&&(e.year-=1,0==e.year&&(e.year=-1),e.month=12),n=Qe(e.year,e.month),e.day+=n}return e.month>12?(e.year+=~~(e.month/12),0==e.year&&(e.year=1),e.month=e.month%12):e.month<1&&(e.year+=~~(e.month/12)-1,0==e.year&&(e.year=-1),e.month=e.month%12+12),e}function Ze(e,t,n,i,o,s,r,a){this.year=e,this.month=t,this.day=n,this.hours=i,this.minutes=o,this.seconds=s,this.timezone=r,this.negative=a}function et(e,t){var n=jn(e);return arguments.length<2&&(t=2),(n.length<t+1?new Sn(t+1-n.length).join("0"):"")+n}function tt(e){var t=e.timezone;return null==t?"":t?(t>0?"+":"-")+et(Un.abs(~~(t/60)))+":"+et(Un.abs(t%60)):"Z"}function nt(e){return(e.negative?"-":"")+et(e.year,4)+"-"+et(e.month)+"-"+et(e.day)}function it(e){var t=jn(e.seconds).split(".");return et(e.hours)+":"+et(e.minutes)+":"+et(t[0])+(t.length>1?"."+t[1]:"")}function ot(e){return Je(kt(e))}function st(e){this.value=e}function rt(e){this.value=e}function at(e,t,n,i,o,s,r){this.year=e,this.month=t,this.day=n,this.hours=i,this.minutes=o,this.seconds=s,this.negative=r}function lt(e){return(e.year?e.year+"Y":"")+(e.month?e.month+"M":"")}function ct(e){return(e.day?e.day+"D":"")+(e.hours||e.minutes||e.seconds?"T"+(e.hours?e.hours+"H":"")+(e.minutes?e.minutes+"M":"")+(e.seconds?e.seconds+"S":""):"")}function ut(e){return Tt(At(e))}function dt(e){this.value=e}function pt(e,t){this.day=e,this.timezone=t}function ht(e,t){this.month=e,this.timezone=t}function ft(e,t,n){this.month=e,this.day=t,this.timezone=n}function vt(e,t){this.year=e,this.timezone=t}function mt(e,t,n){this.year=e,this.month=t,this.timezone=n}function gt(e){this.value=e}function yt(){}function _t(e,t,n){this.prefix=e,this.localName=t,this.namespaceURI=n}function wt(e){this.value=e}function bt(e,t,n,i){this.hours=e,this.minutes=t,this.seconds=n,this.timezone=i}function kt(e){return(e.seconds>=60||e.seconds<0)&&(e.minutes+=~~(e.seconds/60)-(e.seconds<0&&e.seconds%60?1:0),e.seconds=e.seconds%60+(e.seconds<0&&e.seconds%60?60:0)),(e.minutes>=60||e.minutes<0)&&(e.hours+=~~(e.minutes/60)-(e.minutes<0&&e.minutes%60?1:0),e.minutes=e.minutes%60+(e.minutes<0&&e.minutes%60?60:0)),(e.hours>=24||e.hours<0)&&(e instanceof Ze&&(e.day+=~~(e.hours/24)-(e.hours<0&&e.hours%24?1:0)),e.hours=e.hours%24+(e.hours<0&&e.hours%24?24:0)),e}function Et(e){this.value=e}function xt(e,t,n){at.call(this,e,t,0,0,0,0,n)}function Tt(e){return e.month>=12&&(e.year+=~~(e.month/12),e.month%=12),e}function jt(e,t,n,i,o){at.call(this,0,0,e,t,n,i,o)}function At(e){return e.seconds>=60&&(e.minutes+=~~(e.seconds/60),e.seconds%=60),e.minutes>=60&&(e.hours+=~~(e.minutes/60),e.minutes%=60),e.hours>=24&&(e.day+=~~(e.hours/24),e.hours%=24),e}function St(e){this.value=e}function Ct(e){this.value=e}function It(e){this.value=e}function Rt(e){this.value=e}function Ut(e){this.value=e}function Pt(e){this.value=e}function Ot(e){this.value=e}function Nt(e){this.value=e}function Dt(e){this.value=e}function Lt(e){this.value=e}function Wt(e){this.value=e}function Mt(e){this.value=e}function Vt(e){this.value=e}function Ft(e){this.value=e}function Bt(e){this.value=e}function $t(e){this.value=e}function Ht(e){this.value=e}function qt(e){this.value=e}function Yt(e){this.value=e}function zt(e){this.value=e}function Kt(e){this.value=e}function Gt(){}function Xt(){}function Qt(){}function Jt(){}function Zt(){}function en(){}function tn(){}function nn(){}function on(e,t,n){var i=hn(e),o=hn(t);return new Ge("lt"==n?o>i:"gt"==n?i>o:i==o)}function sn(e,t,n){return rn(Ze.cast(e),Ze.cast(t),n)}function rn(e,t,n){var i=new jt(0,0,0,0),o=_n(e,i).toString(),s=_n(t,i).toString();return new Ge("lt"==n?s>o:"gt"==n?o>s:o==s)}function an(e,t,n){var i;e instanceof Xe?i=new Xe(e.year,e.month,e.day,e.timezone,e.negative):e instanceof Ze&&(i=new Ze(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative)),i.year=i.year+t.year*("-"==n?-1:1),i.month=i.month+t.month*("-"==n?-1:1),Je(i,!0);var o=Qe(i.year,i.month);return i.day>o&&(i.day=o),i}function ln(e,t,n){var i;if(e instanceof Xe){var o=60*(60*t.hours+t.minutes)+t.seconds;i=new Xe(e.year,e.month,e.day,e.timezone,e.negative),i.day=i.day+t.day*("-"==n?-1:1)-1*(o&&"-"==n),Je(i)}else e instanceof Ze&&(i=new Ze(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative),i.seconds=i.seconds+t.seconds*("-"==n?-1:1),i.minutes=i.minutes+t.minutes*("-"==n?-1:1),i.hours=i.hours+t.hours*("-"==n?-1:1),i.day=i.day+t.day*("-"==n?-1:1),ot(i));return i}function cn(e){return(60*(60*(24*e.day+e.hours)+e.minutes)+e.seconds)*(e.negative?-1:1)}function un(e){var t=(e=Un.round(e))<0,n=~~((e=Un.abs(e))/86400),i=~~((e-=3600*n*24)/3600),o=~~((e-=3600*i)/60),s=e-=60*o;return new jt(n,i,o,s,t)}function dn(e){return(12*e.year+e.month)*(e.negative?-1:1)}function pn(e){var t=(e=Un.round(e))<0,n=~~((e=Un.abs(e))/12),i=e-=12*n;return new xt(n,i,t)}function hn(e){return e.seconds+60*(e.minutes-(null!=e.timezone?e.timezone%60:0)+60*(e.hours-(null!=e.timezone?~~(e.timezone/60):0)))}function fn(e){var t=new In((e.negative?-1:1)*e.year,e.month,e.day,0,0,0,0);return e instanceof Ze&&(t.setHours(e.hours),t.setMinutes(e.minutes),t.setSeconds(e.seconds)),null!=e.timezone&&t.setMinutes(t.getMinutes()-e.timezone),t.getTime()/1e3}function vn(e,t){if(On(e)||Un.abs(e)==Ln||On(t)||Un.abs(t)==Ln)return 0;var n=jn(e).match(ci),i=jn(t).match(ci),o=Un.max(1,(n[2]||n[3]||"").length+(n[5]||0)*("+"==n[4]?-1:1),(i[2]||i[3]||"").length+(i[5]||0)*("+"==i[4]?-1:1));return o+(o%2?0:1)}function mn(e,t,n){return new(e instanceof St&&t instanceof St&&n==Un.round(n)?St:st)(n)}function gn(e,t){if(null==e)return null;var n=e[t]*(e.negative?-1:1);return"seconds"==t?new st(n):new St(n)}function yn(e,t){if(null==e)return null;if("timezone"==t){var n=e.timezone;return null==n?null:new jt(0,Un.abs(~~(n/60)),Un.abs(n%60),0,0>n)}var i=e[t];return e instanceof Xe||"hours"==t&&24==i&&(i=0),e instanceof bt||(i*=e.negative?-1:1),"seconds"==t?new st(i):new St(i)}function _n(e,t){if(null==e)return null;var n;if(n=e instanceof Xe?new Xe(e.year,e.month,e.day,e.timezone,e.negative):e instanceof bt?new bt(e.hours,e.minutes,e.seconds,e.timezone,e.negative):new Ze(e.year,e.month,e.day,e.hours,e.minutes,e.seconds,e.timezone,e.negative),null==t)n.timezone=null;else{var i=cn(t)/60;if(null!=e.timezone){var o=i-e.timezone;e instanceof Xe?0>o&&n.day--:(n.minutes+=o%60,n.hours+=~~(o/60)),ot(n)}n.timezone=i}return n}function wn(t,n){if(!t.length)return!1;var i=t[0];if(n.DOMAdapter.isNode(i))return!0;if(1==t.length){if(i instanceof Ge)return i.value.valueOf();if(i instanceof wt)return!!i.valueOf().length;if(Ye(i))return!(On(i.valueOf())||0==i.valueOf());throw new e("FORG0006","Effective boolean value is defined only for sequences containing booleans, strings, numbers, URIs, or nodes")}throw new e("FORG0006","Effective boolean value is not defined for a sequence of two or more items")}function bn(e,t){for(var n,i,o=[],s=0,r=e.length;r>s;s++){if(n=e[s],i=null,null==n)i=null;else if(t.DOMAdapter.isNode(n)){var a=t.DOMAdapter.getProperty;switch(a(n,"nodeType")){case 1:i=new Et(a(n,"textContent"));break;case 2:i=new Et(a(n,"value"));break;case 3:case 4:case 8:i=new Et(a(n,"data"));break;case 7:i=new Et(a(n,"data"));break;case 9:var l=a(n,"documentElement");i=new Et(l?a(l,"textContent"):"")}}else n instanceof qe&&(i=n);null!=i&&o.push(i)}return o}function kn(e,t){return e.sort(function(e,n){var i=t.DOMAdapter.compareDocumentPosition(e,n);return 2&i?1:4&i?-1:0})}function En(t,n){var i="À-ÖØ-öø-˿",o="Ͱ-ͽͿ-῿‌-‍",s="⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",r="A-Z_a-z\\-.0-9·"+i+"̀-ͯ"+o+"‿-⁀"+s,a="A-Z_a-z"+i+o+s;if(t=t.replace(/\[\\i-\[:\]\]/g,"["+a+"]").replace(/\[\\c-\[:\]\]/g,"["+r+"]").replace(/\\i/g,"[:"+a+"]").replace(/\\I/g,"[^:"+a+"]").replace(/\\c/g,"[:"+r+"]").replace(/\\C/g,"[^:"+r+"]"),n&&!n.match(/^[smix]+$/))throw new e("FORX0001");var l=n.indexOf("s")>=0,c=n.indexOf("x")>=0;if(l||c){n=n.replace(/[sx]/g,"");for(var u,d=[],p=/\s/,h=0,f=t.length,v=!1,m="";f>h;h++)u=t.charAt(h),"\\"!=m&&("["==u?v=!0:"]"==u&&(v=!1)),!v&&c&&p.test(u)||(!v&&l&&"."==u&&"\\"!=m?d[d.length]="(?:.|\\s)":d[d.length]=u),m=u;t=d.join("")}return new Cn(t,n+"g")}function xn(){}function Tn(e,t,n){"undefined"!=typeof t&&null!==t||(t="");var s=e[0];"undefined"==typeof s&&(s=null);var r=s&&"DIV"==(9==s.nodeType?s:s.ownerDocument).createElement("div").tagName?Hi:qi;r.namespaceResolver=n;var l=new a(jn(t),r);r.namespaceResolver=null;var c,u=new Vi,d=Di;Bi?d=r==Hi?Wi:Mi:$i&&r==Hi&&(d=Li),c=l.evaluate(new i(r,s,null,d));for(var p,h=0,f=c.length;f>h;h++)u.push(d.isNode(p=c[h])?p:o.xs2js(p));return u}var jn=window.String,An=(window.Boolean,window.Number),Sn=(window.Object,window.Array),Cn=window.RegExp,In=window.Date,Rn=window.Function,Un=window.Math,Pn=window.Error,On=(window.SyntaxError,window.TypeError,window.isNaN),Nn=window.isFinite,Dn=window.NaN,Ln=window.Infinity,Wn=window.btoa,Mn=window.atob,Vn=window.parseInt,Fn=function(){return jn.prototype.trim?function(e){return jn(e).trim()}:function(e){return jn(e).replace(/^\s+|\s+$/g,"")}}(),Bn=function(){return Sn.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}}(),$n="http://www.w3.org/2001/XMLSchema",Hn="http://www.w3.org/2005/xpath-functions",qn="http://www.w3.org/2000/xmlns/",Yn="http://www.w3.org/XML/1998/namespace";e.prototype=new Pn;var zn={};zn.XPDY0002="Evaluation of an expression relies on some part of the dynamic context that has not been assigned a value.",zn.XPST0003="Expression is not a valid instance of the grammar",zn.XPTY0004="Type is not appropriate for the context in which the expression occurs",zn.XPST0008="Expression refers to an element name, attribute name, schema type name, namespace prefix, or variable name that is not defined in the static context",zn.XPST0010="Axis not supported",zn.XPST0017="Expanded QName and number of arguments in a function call do not match the name and arity of a function signature",zn.XPTY0018="The result of the last step in a path expression contains both nodes and atomic values",zn.XPTY0019="The result of a step (other than the last step) in a path expression contains an atomic value.",zn.XPTY0020="In an axis step, the context item is not a node.",zn.XPST0051="It is a static error if a QName that is used as an AtomicType in a SequenceType is not defined in the in-scope schema types as an atomic type.",zn.XPST0081="A QName used in an expression contains a namespace prefix that cannot be expanded into a namespace URI by using the statically known namespaces.",zn.FORG0001="Invalid value for cast/constructor.",zn.FORG0003="fn:zero-or-one called with a sequence containing more than one item.",zn.FORG0004="fn:one-or-more called with a sequence containing no items.",zn.FORG0005="fn:exactly-one called with a sequence containing zero or more than one item.",zn.FORG0006="Invalid argument type.",zn.FODC0001="No context document.",zn.FORX0001="Invalid regular expression flags.",zn.FOCA0002="Invalid lexical value.",zn.FOCH0002="Unsupported collation.",zn.FONS0004="No namespace found for prefix.",t.prototype.index=0,t.prototype.length=0,t.prototype.reset=function(){this.index=0},t.prototype.peek=function(e){return this[this.index+(e||0)]||""},t.prototype.next=function(e){return(this.index+=e||1)<this.length},t.prototype.back=function(e){return(this.index-=e||1)>0},t.prototype.eof=function(){return this.index>=this.length},n.prototype.isNode=function(e){return e&&!!e.nodeType},n.prototype.getProperty=function(e,t){return e[t]},n.prototype.isSameNode=function(e,t){return e==t},n.prototype.compareDocumentPosition=function(e,t){return e.compareDocumentPosition(t)},n.prototype.lookupNamespaceURI=function(e,t){return e.lookupNamespaceURI(t)},n.prototype.getElementById=function(e,t){return e.getElementById(t)},n.prototype.getElementsByTagNameNS=function(e,t,n){return e.getElementsByTagNameNS(t,n)},i.prototype.item=null,i.prototype.position=0,i.prototype.size=0,i.prototype.scope=null,i.prototype.stack=null,i.prototype.dateTime=null,i.prototype.timezone=null,i.prototype.staticContext=null,i.prototype.pushVariable=function(e,t){this.stack.hasOwnProperty(e)||(this.stack[e]=[]),this.stack[e].push(this.scope[e]),this.scope[e]=t},i.prototype.popVariable=function(e){this.stack.hasOwnProperty(e)&&(this.scope[e]=this.stack[e].pop(),this.stack[e].length||(delete this.stack[e],"undefined"==typeof this.scope[e]&&delete this.scope[e]))},o.prototype.baseURI=null,o.prototype.dataTypes=null,o.prototype.documents=null,o.prototype.functions=null,o.prototype.defaultFunctionNamespace=null,o.prototype.collations=null,o.prototype.defaultCollationName=Hn+"/collation/codepoint",o.prototype.collections=null,o.prototype.namespaceResolver=null,o.prototype.defaultElementNamespace=null;var Kn=/^(?:\{([^\}]+)\})?(.+)$/;o.prototype.setDataType=function(e,t){var n=e.match(Kn);n&&n[1]!=$n&&(this.dataTypes[e]=t)},o.prototype.getDataType=function(e){var t=e.match(Kn);return t?t[1]==$n?Qn[Cn.$2]:this.dataTypes[e]:void 0},o.prototype.setDocument=function(e,t){this.documents[e]=t},o.prototype.setFunction=function(e,t){var n=e.match(Kn);n&&n[1]!=Hn&&(this.functions[e]=t)},o.prototype.getFunction=function(e){var t=e.match(Kn);return t?t[1]==Hn?Gn[Cn.$2]:this.functions[e]:void 0},o.prototype.setCollation=function(e,t){this.collations[e]=t},o.prototype.getCollation=function(e){return this.collations[e]},o.prototype.setCollection=function(e,t){this.collections[e]=t},o.prototype.getURIForPrefix=function(t){var n,i=this.namespaceResolver,o=i&&i.lookupNamespaceURI?i.lookupNamespaceURI:i;if(o instanceof Rn&&(n=o.call(i,t)))return n;if("fn"==t)return Hn;if("xs"==t)return $n;if("xml"==t)return Yn;if("xmlns"==t)return qn;throw new e("XPST0081","Prefix '"+t+"' has not been declared")},o.js2xs=function(e){return e="boolean"==typeof e?new Ge(e):"number"==typeof e?On(e)||!Nn(e)?new rt(e):ce(jn(e)):new wt(jn(e))},o.xs2js=function(e){return e=e instanceof Ge?e.valueOf():Ye(e)?e.valueOf():e.toString()};var Gn={},Xn={},Qn={},Jn={};a.prototype.internalExpression=null,a.prototype.evaluate=function(e){return this.internalExpression.evaluate(e)},l.prototype.equals=function(e,t){throw"Not implemented"},l.prototype.compare=function(e,t){throw"Not implemented"},c.ANYSIMPLETYPE_DT=1,c.STRING_DT=2,c.BOOLEAN_DT=3,c.DECIMAL_DT=4,c.FLOAT_DT=5,c.DOUBLE_DT=6,c.DURATION_DT=7,c.DATETIME_DT=8,c.TIME_DT=9,c.DATE_DT=10,c.GYEARMONTH_DT=11,c.GYEAR_DT=12,c.GMONTHDAY_DT=13,c.GDAY_DT=14,c.GMONTH_DT=15,c.HEXBINARY_DT=16,c.BASE64BINARY_DT=17,c.ANYURI_DT=18,c.QNAME_DT=19,c.NOTATION_DT=20,c.NORMALIZEDSTRING_DT=21,c.TOKEN_DT=22,c.LANGUAGE_DT=23,c.NMTOKEN_DT=24,c.NAME_DT=25,c.NCNAME_DT=26,c.ID_DT=27,c.IDREF_DT=28,c.ENTITY_DT=29,c.INTEGER_DT=30,c.NONPOSITIVEINTEGER_DT=31,c.NEGATIVEINTEGER_DT=32,c.LONG_DT=33,c.INT_DT=34,c.SHORT_DT=35,c.BYTE_DT=36,c.NONNEGATIVEINTEGER_DT=37,c.UNSIGNEDLONG_DT=38,c.UNSIGNEDINT_DT=39,c.UNSIGNEDSHORT_DT=40,c.UNSIGNEDBYTE_DT=41,c.POSITIVEINTEGER_DT=42,c.LISTOFUNION_DT=43,c.LIST_DT=44,c.UNAVAILABLE_DT=45,c.DATETIMESTAMP_DT=46,c.DAYMONTHDURATION_DT=47,c.DAYTIMEDURATION_DT=48,c.PRECISIONDECIMAL_DT=49,c.ANYATOMICTYPE_DT=50,c.ANYTYPE_DT=51,c.XT_YEARMONTHDURATION_DT=-1,c.XT_UNTYPEDATOMIC_DT=-2,u.prototype.items=null,u.prototype.evaluate=function(e){for(var t=[],n=0,i=this.items.length;i>n;n++)t=Jn.concatenate.call(e,t,this.items[n].evaluate(e));return t},h.prototype.bindings=null,h.prototype.returnExpr=null,h.prototype.evaluate=function(e){var t=[];return function(n,i){for(var o=n.bindings[i++],s=o.inExpr.evaluate(e),r=(o.namespaceURI?"{"+o.namespaceURI+"}":"")+o.localName,a=0,l=s.length;l>a;a++)e.pushVariable(r,s[a]),i<n.bindings.length?arguments.callee(n,i):t=t.concat(n.returnExpr.evaluate(e)),e.popVariable(r)}(this,0),t},v.prototype.prefix=null,v.prototype.localName=null,v.prototype.namespaceURI=null,v.prototype.inExpr=null,g.prototype.condExpr=null,g.prototype.thenExpr=null,g.prototype.elseExpr=null,g.prototype.evaluate=function(e){return this[wn(this.condExpr.evaluate(e),e)?"thenExpr":"elseExpr"].evaluate(e)},_.prototype.bindings=null,_.prototype.quantifier=null,_.prototype.satisfiesExpr=null,_.prototype.evaluate=function(e){var t="every"==this.quantifier,n=!!t;return function(i,o){for(var s=i.bindings[o++],r=s.inExpr.evaluate(e),a=(s.namespaceURI?"{"+s.namespaceURI+"}":"")+s.localName,l=0,c=r.length;c>l&&(t?n:!n);l++)e.pushVariable(a,r[l]),o<i.bindings.length?arguments.callee(i,o):n=wn(i.satisfiesExpr.evaluate(e),e),e.popVariable(a)}(this,0),[new Ge(n)]},b.prototype.prefix=null,b.prototype.localName=null,b.prototype.namespaceURI=null,b.prototype.inExpr=null,E.prototype.left=null,E.prototype.right=null,E.prototype.operator=null,E.prototype.evaluate=function(e){var t=ni[this.operator](this,e);return null==t?[]:[t]};var Zn={"=":"eq","!=":"ne",">":"gt","<":"lt",">=":"ge","<=":"le"},ei={};ei.eq=function(t,n,i){var o="";if(Ye(t))Ye(n)&&(o="numeric-equal");else if(t instanceof Ge)n instanceof Ge&&(o="boolean-equal");else if(t instanceof wt){if(n instanceof wt)return Jn["numeric-equal"].call(i,Gn.compare.call(i,t,n),new St(0))}else t instanceof Xe?n instanceof Xe&&(o="date-equal"):t instanceof bt?n instanceof bt&&(o="time-equal"):t instanceof Ze?n instanceof Ze&&(o="dateTime-equal"):t instanceof at?n instanceof at&&(o="duration-equal"):t instanceof mt?n instanceof mt&&(o="gYearMonth-equal"):t instanceof vt?n instanceof vt&&(o="gYear-equal"):t instanceof ft?n instanceof ft&&(o="gMonthDay-equal"):t instanceof ht?n instanceof ht&&(o="gMonth-equal"):t instanceof pt?n instanceof pt&&(o="gDay-equal"):t instanceof _t?n instanceof _t&&(o="QName-equal"):t instanceof gt?n instanceof gt&&(o="hexBinary-equal"):t instanceof Ke&&n instanceof Ke&&(o="base64Binary-equal");
if(o)return Jn[o].call(i,t,n);throw new e("XPTY0004","Cannot compare values of given types")},ei.ne=function(e,t,n){return new Ge((!ei.eq(e,t,n).valueOf()))},ei.gt=function(t,n,i){var o="";if(Ye(t))Ye(n)&&(o="numeric-greater-than");else if(t instanceof Ge)n instanceof Ge&&(o="boolean-greater-than");else if(t instanceof wt){if(n instanceof wt)return Jn["numeric-greater-than"].call(i,Gn.compare.call(i,t,n),new St(0))}else t instanceof Xe?n instanceof Xe&&(o="date-greater-than"):t instanceof bt?n instanceof bt&&(o="time-greater-than"):t instanceof Ze?n instanceof Ze&&(o="dateTime-greater-than"):t instanceof xt?n instanceof xt&&(o="yearMonthDuration-greater-than"):t instanceof jt&&n instanceof jt&&(o="dayTimeDuration-greater-than");if(o)return Jn[o].call(i,t,n);throw new e("XPTY0004","Cannot compare values of given types")},ei.lt=function(t,n,i){var o="";if(Ye(t))Ye(n)&&(o="numeric-less-than");else if(t instanceof Ge)n instanceof Ge&&(o="boolean-less-than");else if(t instanceof wt){if(n instanceof wt)return Jn["numeric-less-than"].call(i,Gn.compare.call(i,t,n),new St(0))}else t instanceof Xe?n instanceof Xe&&(o="date-less-than"):t instanceof bt?n instanceof bt&&(o="time-less-than"):t instanceof Ze?n instanceof Ze&&(o="dateTime-less-than"):t instanceof xt?n instanceof xt&&(o="yearMonthDuration-less-than"):t instanceof jt&&n instanceof jt&&(o="dayTimeDuration-less-than");if(o)return Jn[o].call(i,t,n);throw new e("XPTY0004","Cannot compare values of given types")},ei.ge=function(t,n,i){var o="";if(Ye(t))Ye(n)&&(o="numeric-less-than");else if(t instanceof Ge)n instanceof Ge&&(o="boolean-less-than");else if(t instanceof wt){if(n instanceof wt)return Jn["numeric-greater-than"].call(i,Gn.compare.call(i,t,n),new St((-1)))}else t instanceof Xe?n instanceof Xe&&(o="date-less-than"):t instanceof bt?n instanceof bt&&(o="time-less-than"):t instanceof Ze?n instanceof Ze&&(o="dateTime-less-than"):t instanceof xt?n instanceof xt&&(o="yearMonthDuration-less-than"):t instanceof jt&&n instanceof jt&&(o="dayTimeDuration-less-than");if(o)return new Ge((!Jn[o].call(i,t,n).valueOf()));throw new e("XPTY0004","Cannot compare values of given types")},ei.le=function(t,n,i){var o="";if(Ye(t))Ye(n)&&(o="numeric-greater-than");else if(t instanceof Ge)n instanceof Ge&&(o="boolean-greater-than");else if(t instanceof wt){if(n instanceof wt)return Jn["numeric-less-than"].call(i,Gn.compare.call(i,t,n),new St(1))}else t instanceof Xe?n instanceof Xe&&(o="date-greater-than"):t instanceof bt?n instanceof bt&&(o="time-greater-than"):t instanceof Ze?n instanceof Ze&&(o="dateTime-greater-than"):t instanceof xt?n instanceof xt&&(o="yearMonthDuration-greater-than"):t instanceof jt&&n instanceof jt&&(o="dayTimeDuration-greater-than");if(o)return new Ge((!Jn[o].call(i,t,n).valueOf()));throw new e("XPTY0004","Cannot compare values of given types")};var ti={};ti.is=function(e,t,n){return Jn["is-same-node"].call(n,e,t)},ti[">>"]=function(e,t,n){return Jn["node-after"].call(n,e,t)},ti["<<"]=function(e,t,n){return Jn["node-before"].call(n,e,t)};var ni={"=":T,"!=":T,"<":T,"<=":T,">":T,">=":T,eq:j,ne:j,lt:j,le:j,gt:j,ge:j,is:A,">>":A,"<<":A};S.prototype.left=null,S.prototype.items=null;var ii={};ii["+"]=function(t,n,i){var o="",s=!1;if(Ye(t)?Ye(n)&&(o="numeric-add"):t instanceof Xe?n instanceof xt?o="add-yearMonthDuration-to-date":n instanceof jt&&(o="add-dayTimeDuration-to-date"):t instanceof xt?n instanceof Xe?(o="add-yearMonthDuration-to-date",s=!0):n instanceof Ze?(o="add-yearMonthDuration-to-dateTime",s=!0):n instanceof xt&&(o="add-yearMonthDurations"):t instanceof jt?n instanceof Xe?(o="add-dayTimeDuration-to-date",s=!0):n instanceof bt?(o="add-dayTimeDuration-to-time",s=!0):n instanceof Ze?(o="add-dayTimeDuration-to-dateTime",s=!0):n instanceof jt&&(o="add-dayTimeDurations"):t instanceof bt?n instanceof jt&&(o="add-dayTimeDuration-to-time"):t instanceof Ze&&(n instanceof xt?o="add-yearMonthDuration-to-dateTime":n instanceof jt&&(o="add-dayTimeDuration-to-dateTime")),o)return Jn[o].call(i,s?n:t,s?t:n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},ii["-"]=function(t,n,i){var o="";if(Ye(t)?Ye(n)&&(o="numeric-subtract"):t instanceof Xe?n instanceof Xe?o="subtract-dates":n instanceof xt?o="subtract-yearMonthDuration-from-date":n instanceof jt&&(o="subtract-dayTimeDuration-from-date"):t instanceof bt?n instanceof bt?o="subtract-times":n instanceof jt&&(o="subtract-dayTimeDuration-from-time"):t instanceof Ze?n instanceof Ze?o="subtract-dateTimes":n instanceof xt?o="subtract-yearMonthDuration-from-dateTime":n instanceof jt&&(o="subtract-dayTimeDuration-from-dateTime"):t instanceof xt?n instanceof xt&&(o="subtract-yearMonthDurations"):t instanceof jt&&n instanceof jt&&(o="subtract-dayTimeDurations"),o)return Jn[o].call(i,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},S.prototype.evaluate=function(e){var t=bn(this.left.evaluate(e),e);if(!t.length)return[];we(e,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof Et&&(n=rt.cast(n));for(var i,o,s=0,r=this.items.length;r>s;s++){if(i=bn(this.items[s][1].evaluate(e),e),!i.length)return[];we(e,i,"?","first operand of '"+this.items[s][0]+"'"),o=i[0],o instanceof Et&&(o=rt.cast(o)),n=ii[this.items[s][0]](n,o,e)}return[n]},I.prototype.left=null,I.prototype.items=null;var oi={};oi["*"]=function(t,n,i){var o="",s=!1;if(Ye(t)?Ye(n)?o="numeric-multiply":n instanceof xt?(o="multiply-yearMonthDuration",s=!0):n instanceof jt&&(o="multiply-dayTimeDuration",s=!0):t instanceof xt?Ye(n)&&(o="multiply-yearMonthDuration"):t instanceof jt&&Ye(n)&&(o="multiply-dayTimeDuration"),o)return Jn[o].call(i,s?n:t,s?t:n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},oi.div=function(t,n,i){var o="";if(Ye(t)?Ye(n)&&(o="numeric-divide"):t instanceof xt?Ye(n)?o="divide-yearMonthDuration":n instanceof xt&&(o="divide-yearMonthDuration-by-yearMonthDuration"):t instanceof jt&&(Ye(n)?o="divide-dayTimeDuration":n instanceof jt&&(o="divide-dayTimeDuration-by-dayTimeDuration")),o)return Jn[o].call(i,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},oi.idiv=function(t,n,i){if(Ye(t)&&Ye(n))return Jn["numeric-integer-divide"].call(i,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},oi.mod=function(t,n,i){if(Ye(t)&&Ye(n))return Jn["numeric-mod"].call(i,t,n);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},I.prototype.evaluate=function(e){var t=bn(this.left.evaluate(e),e);if(!t.length)return[];we(e,t,"?","first operand of '"+this.items[0][0]+"'");var n=t[0];n instanceof Et&&(n=rt.cast(n));for(var i,o,s=0,r=this.items.length;r>s;s++){if(i=bn(this.items[s][1].evaluate(e),e),!i.length)return[];we(e,i,"?","second operand of '"+this.items[s][0]+"'"),o=i[0],o instanceof Et&&(o=rt.cast(o)),n=oi[this.items[s][0]](n,o,e)}return[n]},U.prototype.operator=null,U.prototype.expression=null;var si={};si["-"]=function(t,n){if(Ye(t))return Jn["numeric-unary-minus"].call(n,t);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},si["+"]=function(t,n){if(Ye(t))return Jn["numeric-unary-plus"].call(n,t);throw new e("XPTY0004","Arithmetic operator is not defined for provided arguments")},U.prototype.evaluate=function(e){var t=bn(this.expression.evaluate(e),e);if(!t.length)return[];we(e,t,"?","second operand of '"+this.operator+"'");var n=t[0];return n instanceof Et&&(n=rt.cast(n)),[si[this.operator](n,e)]},N.prototype.left=null,N.prototype.items=null,N.prototype.evaluate=function(e){for(var t=wn(this.left.evaluate(e),e),n=0,i=this.items.length;i>n&&!t;n++)t=wn(this.items[n].evaluate(e),e);return[new Ge(t)]},L.prototype.left=null,L.prototype.items=null,L.prototype.evaluate=function(e){for(var t=wn(this.left.evaluate(e),e),n=0,i=this.items.length;i>n&&t;n++)t=wn(this.items[n].evaluate(e),e);return[new Ge(t)]},M.prototype.predicates=null,M.prototype.applyPredicates=function(e,t){for(var n,i=t.item,o=t.position,s=t.size,r=0,a=this.predicates.length;a>r;r++){n=e,e=[];for(var l,c=0,u=n.length;u>c;c++)t.item=n[c],t.position=c+1,t.size=u,l=this.predicates[r].evaluate(t),1==l.length&&Ye(l[0])?l[0].valueOf()==c+1&&e.push(n[c]):wn(l,t)&&e.push(n[c])}return t.item=i,t.position=o,t.size=s,e},B.prototype=new M,B.prototype.axis=null,B.prototype.test=null;var ri={};ri.attribute={},ri.child={},ri.descendant={},ri["descendant-or-self"]={},ri.following={},ri["following-sibling"]={},ri.self={},ri.ancestor={},ri["ancestor-or-self"]={},ri.parent={},ri.preceding={},ri["preceding-sibling"]={},B.prototype.evaluate=function(t){var n=t.item;if(!t.DOMAdapter.isNode(n))throw new e("XPTY0020");var i=[],o=t.DOMAdapter.getProperty,s=o(n,"nodeType");switch(this.axis){case"attribute":if(1==s)for(var r=o(n,"attributes"),a=0,l=r.length;l>a;a++)i.push(r[a]);break;case"child":for(var c=o(n,"firstChild");c;c=o(c,"nextSibling"))i.push(c);break;case"descendant-or-self":i.push(n);case"descendant":H(o(n,"firstChild"),i,o);break;case"following":for(var u,d=n;d;d=o(d,"parentNode"))(u=o(d,"nextSibling"))&&H(u,i,o);break;case"following-sibling":for(var c=n;c=o(c,"nextSibling");)i.push(c);break;case"self":i.push(n);break;case"ancestor-or-self":i.push(n);case"ancestor":for(var c=2==s?o(n,"ownerElement"):n;c=o(c,"parentNode");)i.push(c);break;case"parent":var d=2==s?o(n,"ownerElement"):o(n,"parentNode");d&&i.push(d);break;case"preceding":for(var u,d=n;d;d=o(d,"parentNode"))(u=o(d,"previousSibling"))&&q(u,i,o);break;case"preceding-sibling":for(var c=n;c=o(c,"previousSibling");)i.push(c)}if(i.length&&!(this.test instanceof X&&"node"==this.test.name)){var p=i;i=[];for(var a=0,l=p.length;l>a;a++)this.test.test(p[a],t)&&i.push(p[a])}switch(i.length&&this.predicates.length&&(i=this.applyPredicates(i,t)),this.axis){case"ancestor":case"ancestor-or-self":case"parent":case"preceding":case"preceding-sibling":i.reverse()}return i},Y.prototype.items=null,Y.prototype.evaluate=function(t){for(var n,i=t.item,o=[i],s=0,r=this.items.length;r>s;s++){n=[];for(var a=0,l=o.length;l>a;a++){t.item=o[a];for(var c=0,u=this.items[s].evaluate(t),d=u.length;d>c;c++){if(r-1>s&&!t.DOMAdapter.isNode(u[c]))throw new e("XPTY0019");-1==Bn(n,u[c])&&n.push(u[c])}}o=n}return t.item=i,kn(o,t)},X.prototype=new K,X.prototype.name=null,X.prototype.args=null;var ai={};ai["document-node"]={},ai.element={},ai.attribute={},ai["processing-instruction"]={},ai.comment={},ai.text={},ai.node={},ai["schema-element"]={},ai["schema-attribute"]={},X.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,i=t.DOMAdapter.isNode(e)?n(e,"nodeType"):0;switch(this.name){case"node":return!!i;case"attribute":if(2!=i)return!1;break;case"document-node":return 9==i;case"element":return 1==i;case"processing-instruction":if(7!=i)return!1;break;case"comment":return 8==i;case"text":return 3==i||4==i;case"schema-attribute":throw"KindTest 'schema-attribute' not implemented";case"schema-element":throw"KindTest 'schema-element' not implemented"}return 2==i?"xmlns"!=n(e,"prefix")&&"xmlns"!=n(e,"localName"):7!=i||"xml"!=n(e,"target")},J.prototype=new K,J.prototype.prefix=null,J.prototype.localName=null,J.prototype.namespaceURI=null;var li=/^(?:(?![0-9-])([\w-]+|\*)\:)?(?![0-9-])([\w-]+|\*)$/;J.prototype.test=function(e,t){var n=t.DOMAdapter.getProperty,i=n(e,"nodeType");if(1==i||2==i){if("*"==this.localName)return(1==i||"xmlns"!=n(e,"prefix")&&"xmlns"!=n(e,"localName"))&&(!this.prefix||n(e,"namespaceURI")==this.namespaceURI);if(this.localName==n(e,"localName"))return"*"==this.namespaceURI||2==i&&!this.prefix&&!n(e,"prefix")||n(e,"namespaceURI")==this.namespaceURI}return!1},te.prototype.evaluate=function(e){return this.expression?this.expression.evaluate(e):[]},ie.prototype.evaluate=function(t){if(null==t.item)throw new e("XPDY0002","Dynamic context does not have context item initialized");return[t.item]},se.prototype.value=null,se.prototype.evaluate=function(e){return[this.value]},ae.prototype=new se;var ci=/^[+\-]?(?:(?:(\d+)(?:\.(\d*))?)|(?:\.(\d+)))(?:[eE]([+-])?(\d+))?$/;ue.prototype=new se;var ui=/^'([^']*(?:''[^']*)*)'|"([^"]*(?:""[^"]*)*)"$/;pe.prototype=new M,pe.prototype.expression=null,pe.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return this.predicates.length&&t.length&&(t=this.applyPredicates(t,e)),t},fe.prototype.prefix=null,fe.prototype.localName=null,fe.prototype.namespaceURI=null,fe.prototype.evaluate=function(t){var n=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(t.scope.hasOwnProperty(n))return[t.scope[n]];throw new e("XPST0008","Variable $"+(this.prefix?this.prefix+":":"")+this.localName+" has not been declared")},me.prototype.prefix=null,me.prototype.localName=null,me.prototype.namespaceURI=null,me.prototype.args=null,me.prototype.evaluate=function(t){for(var n,i,o=[],s=0,r=this.args.length;r>s;s++)o.push(this.args[s].evaluate(t));var a=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName;if(this.namespaceURI==Hn){if(i=Gn[this.localName]){(n=Xn[this.localName])&&ye(this.localName,n,i,o,t);var l=i.apply(t,o);return null==l?[]:l instanceof Sn?l:[l]}throw new e("XPST0017","Unknown system function: "+a+"()")}if(this.namespaceURI==$n){if((i=Qn[this.localName])&&"NOTATION"!=this.localName&&"anyAtomicType"!=this.localName)return ye(this.localName,[[qe]],i,o,t),[i.cast(o[0])];throw new e("XPST0017","Unknown type constructor function: "+a+"()")}if(i=t.staticContext.getFunction(a)){var l=i.apply(t,o);return null==l?[]:l instanceof Sn?l:[l]}throw new e("XPST0017","Unknown user function: "+a+"()")};var di=["first","second","third","fourth","fifth"];be.prototype.left=null,be.prototype.items=null,be.prototype.evaluate=function(e){for(var t,n=this.left.evaluate(e),i=0,o=this.items.length;o>i;i++)n=Jn[(t=this.items[i])[0]].call(e,n,t[1].evaluate(e));return n},Ee.prototype.left=null,Ee.prototype.right=null,Ee.prototype.evaluate=function(e){var t=this.left.evaluate(e);if(!t.length)return[];var n="first operand of 'to'";we(e,t,"?",n),_e(e,t,St,n);var i=this.right.evaluate(e);return i.length?(n="second operand of 'to'",we(e,i,"?",n),_e(e,i,St,n),Jn.to.call(e,t[0],i[0])):[]},Te.prototype.left=null,Te.prototype.items=null,Te.prototype.evaluate=function(e){for(var t=this.left.evaluate(e),n=0,i=this.items.length;i>n;n++)t=Jn.union.call(e,t,this.items[n].evaluate(e));return t},Ae.prototype.expression=null,Ae.prototype.type=null,Ae.prototype.evaluate=function(e){var t=this.expression.evaluate(e),n=this.type.itemType,i=this.type.occurence;if(!n)return[new Ge((!t.length))];if(!t.length)return[new Ge("?"==i||"*"==i)];if(1!=t.length&&"+"!=i&&"*"!=i)return[new Ge((!1))];if(!n.test)return[new Ge((!0))];for(var o=!0,s=0,r=t.length;r>s&&o;s++)o=n.test.test(t[s],e);return[new Ge(o)]},Ce.prototype.expression=null,Ce.prototype.type=null,Ce.prototype.evaluate=function(t){var n=this.expression.evaluate(t),i=this.type.itemType,o=this.type.occurence;if(!i){if(n.length)throw new e("XPDY0050","The only value allowed for the value in 'treat as' expression is an empty sequence");return n}if("?"!=o&&"*"!=o&&!n.length)throw new e("XPDY0050","An empty sequence is not allowed as the value in 'treat as' expression");if("+"!=o&&"*"!=o&&1!=n.length)throw new e("XPDY0050","A sequence of more than one item is not allowed as the value in 'treat as' expression");if(!i.test)return n;for(var s=0,r=n.length;r>s;s++)if(!i.test.test(n[s],t))throw new e("XPDY0050","Required item type of value in 'treat as' expression is "+(i.test.prefix?i.test.prefix+":":"")+i.test.localName);return n},Re.prototype.expression=null,Re.prototype.type=null,Re.prototype.evaluate=function(t){var n=this.expression.evaluate(t),i=this.type.itemType,o=this.type.occurence;if(n.length>1)return[new Ge((!1))];if(!n.length)return[new Ge("?"==o)];try{i.cast(bn(n,t)[0])}catch(t){if("XPST0051"==t.code)throw t;if("XPST0017"==t.code)throw new e("XPST0080","No value is castable to "+(i.prefix?i.prefix+":":"")+i.localName);return[new Ge((!1))]}return[new Ge((!0))]},Pe.prototype.expression=null,Pe.prototype.type=null,Pe.prototype.evaluate=function(e){var t=this.expression.evaluate(e);return we(e,t,this.type.occurence,"'cast as' expression operand"),t.length?[this.type.itemType.cast(bn(t,e)[0],e)]:[]},Ne.prototype.prefix=null,Ne.prototype.localName=null,Ne.prototype.namespaceURI=null,Ne.prototype.test=function(t,n){var i=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,o=this.namespaceURI==$n?Qn[this.localName]:n.staticContext.getDataType(i);if(o)return t instanceof o;throw new e("XPST0051","Unknown simple type "+(this.prefix?this.prefix+":":"")+this.localName)},Ne.prototype.cast=function(t,n){var i=(this.namespaceURI?"{"+this.namespaceURI+"}":"")+this.localName,o=this.namespaceURI==$n?Qn[this.localName]:n.staticContext.getDataType(i);if(o)return o.cast(t);throw new e("XPST0051","Unknown atomic type "+(this.prefix?this.prefix+":":"")+this.localName)},Le.prototype.test=null,Me.prototype.itemType=null,Me.prototype.occurence=null,Fe.prototype.itemType=null,Fe.prototype.occurence=null,$e.prototype.builtInKind=c.ANYTYPE_DT,He.prototype=new $e,He.prototype.builtInKind=c.ANYSIMPLETYPE_DT,He.prototype.primitiveKind=null,He.PRIMITIVE_ANYURI="anyURI",He.PRIMITIVE_BASE64BINARY="base64Binary",He.PRIMITIVE_BOOLEAN="boolean",He.PRIMITIVE_DATE="date",He.PRIMITIVE_DATETIME="dateTime",He.PRIMITIVE_DECIMAL="decimal",He.PRIMITIVE_DOUBLE="double",He.PRIMITIVE_DURATION="duration",He.PRIMITIVE_FLOAT="float",He.PRIMITIVE_GDAY="gDay",He.PRIMITIVE_GMONTH="gMonth",He.PRIMITIVE_GMONTHDAY="gMonthDay",He.PRIMITIVE_GYEAR="gYear",He.PRIMITIVE_GYEARMONTH="gYearMonth",He.PRIMITIVE_HEXBINARY="hexBinary",He.PRIMITIVE_NOTATION="NOTATION",He.PRIMITIVE_QNAME="QName",He.PRIMITIVE_STRING="string",He.PRIMITIVE_TIME="time",qe.prototype=new He,qe.prototype.builtInKind=c.ANYATOMICTYPE_DT,qe.cast=function(t){throw new e("XPST0017","Abstract type used in constructor function xs:anyAtomicType")},r("anyAtomicType",qe),ze.prototype=new qe,ze.prototype.builtInKind=c.ANYURI_DT,ze.prototype.primitiveKind=He.PRIMITIVE_ANYURI,ze.prototype.scheme=null,ze.prototype.authority=null,ze.prototype.path=null,ze.prototype.query=null,ze.prototype.fragment=null,ze.prototype.toString=function(){return(this.scheme?this.scheme+":":"")+(this.authority?"//"+this.authority:"")+(this.path?this.path:"")+(this.query?"?"+this.query:"")+(this.fragment?"#"+this.fragment:"")};var pi=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;ze.cast=function(t){if(t instanceof ze)return t;if(t instanceof wt||t instanceof Et){var n;if(n=Fn(t).match(pi))return new ze(n[2],n[4],n[5],n[7],n[9]);throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:anyURI can never succeed")},r("anyURI",ze),Ke.prototype=new qe,Ke.prototype.builtInKind=c.BASE64BINARY_DT,Ke.prototype.primitiveKind=He.PRIMITIVE_BASE64BINARY,Ke.prototype.value=null,Ke.prototype.valueOf=function(){return this.value},Ke.prototype.toString=function(){return this.value};var hi=/^((([A-Za-z0-9+\/]\s*){4})*(([A-Za-z0-9+\/]\s*){3}[A-Za-z0-9+\/]|([A-Za-z0-9+\/]\s*){2}[AEIMQUYcgkosw048]\s*=|[A-Za-z0-9+\/]\s*[AQgw]\s*=\s*=))?$/;Ke.cast=function(t){if(t instanceof Ke)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(hi);if(n)return new Ke(n[0]);throw new e("FORG0001")}if(t instanceof gt){for(var n=t.valueOf().match(/.{2}/g),i=[],o=0,s=n.length;s>o;o++)i.push(jn.fromCharCode(Vn(n[o],16)));return new Ke(Wn(i.join("")))}throw new e("XPTY0004","Casting value '"+t+"' to xs:hexBinary can never succeed")},r("base64Binary",Ke),Ge.prototype=new qe,Ge.prototype.builtInKind=c.BOOLEAN_DT,Ge.prototype.primitiveKind=He.PRIMITIVE_BOOLEAN,Ge.prototype.value=null,Ge.prototype.valueOf=function(){return this.value},Ge.prototype.toString=function(){return jn(this.value)};var fi=/^(0|1|true|false)$/;Ge.cast=function(t){if(t instanceof Ge)return t;if(t instanceof wt||t instanceof Et){var n;if(n=Fn(t).match(fi))return new Ge("1"==n[1]||"true"==n[1]);throw new e("FORG0001")}if(Ye(t))return new Ge(0!=t);throw new e("XPTY0004","Casting value '"+t+"' to xs:boolean can never succeed")},r("boolean",Ge),Xe.prototype=new qe,Xe.prototype.builtInKind=c.DATE_DT,Xe.prototype.primitiveKind=He.PRIMITIVE_DATE,Xe.prototype.year=null,Xe.prototype.month=null,Xe.prototype.day=null,Xe.prototype.timezone=null,Xe.prototype.negative=null,Xe.prototype.toString=function(){return nt(this)+tt(this)};var vi=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Xe.cast=function(t){if(t instanceof Xe)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(vi);if(n){var i=+n[2],o=+n[3],s=+n[4];if(s-1<Qe(i,o))return new Xe(i,o,s,n[5]?"Z"==n[5]?0:("-"==n[6]?-1:1)*(60*n[7]+1*n[8]):null,"-"==n[1]);throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof Ze)return new Xe(t.year,t.month,t.day,t.timezone,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:date can never succeed")};var mi=[31,28,31,30,31,30,31,31,30,31,30,31];r("date",Xe),Ze.prototype=new qe,Ze.prototype.builtInKind=c.DATETIME_DT,Ze.prototype.primitiveKind=He.PRIMITIVE_DATETIME,Ze.prototype.year=null,Ze.prototype.month=null,Ze.prototype.day=null,Ze.prototype.hours=null,Ze.prototype.minutes=null,Ze.prototype.seconds=null,Ze.prototype.timezone=null,Ze.prototype.negative=null,Ze.prototype.toString=function(){return nt(this)+"T"+it(this)+tt(this)};var gi=/^(-?)([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])T(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;Ze.cast=function(t){if(t instanceof Ze)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(gi);if(n){var i=+n[2],o=+n[3],s=+n[4],r=!!n[10];if(s-1<Qe(i,o))return ot(new Ze(i,o,s,r?24:+n[6],r?0:+n[7],An((r?0:n[8])+"."+(r?0:n[9]||0)),n[12]?"Z"==n[12]?0:("-"==n[13]?-1:1)*(60*n[14]+1*n[15]):null,"-"==n[1]));throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof Xe)return new Ze(t.year,t.month,t.day,0,0,0,t.timezone,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:dateTime can never succeed")},r("dateTime",Ze),st.prototype=new qe,st.prototype.builtInKind=c.DECIMAL_DT,st.prototype.primitiveKind=He.PRIMITIVE_DECIMAL,st.prototype.value=null,st.prototype.valueOf=function(){return this.value},st.prototype.toString=function(){return jn(this.value)};var yi=/^[+\-]?((\d+(\.\d*)?)|(\.\d+))$/;st.cast=function(t){if(t instanceof st)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(yi);if(n)return new st((+t));throw new e("FORG0001")}if(t instanceof Ge)return new st(1*t);if(Ye(t)){if(On(t)||!Nn(t))throw new e("FOCA0002","Cannot convert '"+t+"' to xs:decimal");return new st((+t))}throw new e("XPTY0004","Casting value '"+t+"' to xs:decimal can never succeed")},r("decimal",st),rt.prototype=new qe,rt.prototype.builtInKind=c.DOUBLE_DT,rt.prototype.primitiveKind=He.PRIMITIVE_DOUBLE,rt.prototype.value=null,rt.prototype.valueOf=function(){return this.value},rt.prototype.toString=function(){return jn(this.value)};var _i=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;rt.cast=function(t){if(t instanceof rt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(_i);if(n)return new rt(n[7]?+n[7].replace("INF","Infinity"):+t);throw new e("FORG0001")}if(t instanceof Ge)return new rt(1*t);if(Ye(t))return new rt(t.value);throw new e("XPTY0004","Casting value '"+t+"' to xs:double can never succeed")},r("double",rt),at.prototype=new qe,at.prototype.builtInKind=c.DURATION_DT,at.prototype.primitiveKind=He.PRIMITIVE_DURATION,at.prototype.year=null,at.prototype.month=null,at.prototype.day=null,at.prototype.hours=null,at.prototype.minutes=null,at.prototype.seconds=null,at.prototype.negative=null,at.prototype.toString=function(){return(this.negative?"-":"")+"P"+(lt(this)+ct(this)||"T0S")};var wi=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;at.cast=function(t){if(t instanceof xt)return new at(t.year,t.month,0,0,0,0,t.negative);if(t instanceof jt)return new at(0,0,t.day,t.hours,t.minutes,t.seconds,t.negative);if(t instanceof at)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(wi);if(n)return ut(new at(+n[2]||0,+n[3]||0,+n[4]||0,+n[5]||0,+n[6]||0,+n[7]||0,"-"==n[1]));throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:duration can never succeed")},r("duration",at),dt.prototype=new qe,dt.prototype.builtInKind=c.FLOAT_DT,dt.prototype.primitiveKind=He.PRIMITIVE_FLOAT,dt.prototype.value=null,dt.prototype.valueOf=function(){return this.value},dt.prototype.toString=function(){return jn(this.value)};var bi=/^([+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][+\-]?\d+)?|(-?INF)|NaN)$/;dt.cast=function(t){if(t instanceof dt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(bi);if(n)return new dt(n[7]?+n[7].replace("INF","Infinity"):+t);throw new e("FORG0001")}if(t instanceof Ge)return new dt(1*t);if(Ye(t))return new dt(t.value);throw new e("XPTY0004","Casting value '"+t+"' to xs:float can never succeed")},r("float",dt),pt.prototype=new qe,pt.prototype.builtInKind=c.GDAY_DT,pt.prototype.primitiveKind=He.PRIMITIVE_GDAY,pt.prototype.day=null,pt.prototype.timezone=null,pt.prototype.toString=function(){return"---"+et(this.day)+tt(this)};var ki=/^---(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;pt.cast=function(t){if(t instanceof pt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(ki);if(n){var i=+n[1];return new pt(i,n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null)}throw new e("FORG0001")}if(t instanceof Xe||t instanceof Ze)return new pt(t.day,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gDay can never succeed")},r("gDay",pt),ht.prototype=new qe,ht.prototype.builtInKind=c.GMONTH_DT,ht.prototype.primitiveKind=He.PRIMITIVE_GMONTH,ht.prototype.month=null,ht.prototype.timezone=null,ht.prototype.toString=function(){return"--"+et(this.month)+tt(this)};var Ei=/^--(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;ht.cast=function(t){if(t instanceof ht)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(Ei);if(n){var i=+n[1];return new ht(i,n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null)}throw new e("FORG0001")}if(t instanceof Xe||t instanceof Ze)return new ht(t.month,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gMonth can never succeed")},r("gMonth",ht),ft.prototype=new qe,ft.prototype.builtInKind=c.GMONTHDAY_DT,ft.prototype.primitiveKind=He.PRIMITIVE_GMONTHDAY,ft.prototype.month=null,ft.prototype.day=null,ft.prototype.timezone=null,ft.prototype.toString=function(){return"--"+et(this.month)+"-"+et(this.day)+tt(this)};var xi=/^--(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;ft.cast=function(t){if(t instanceof ft)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(xi);if(n){var i=+n[1],o=+n[2];if(o-1<Qe(1976,i))return new ft(i,o,n[3]?"Z"==n[3]?0:("-"==n[4]?-1:1)*(60*n[5]+1*n[6]):null);throw new e("FORG0001","Invalid date '"+t+"' (Non-existent date)")}throw new e("FORG0001")}if(t instanceof Xe||t instanceof Ze)return new ft(t.month,t.day,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gMonthDay can never succeed")},r("gMonthDay",ft),vt.prototype=new qe,vt.prototype.builtInKind=c.GYEAR_DT,vt.prototype.primitiveKind=He.PRIMITIVE_GYEAR,vt.prototype.year=null,vt.prototype.timezone=null,vt.prototype.toString=function(){return et(this.year)+tt(this)};var Ti=/^-?([1-9]\d\d\d+|0\d\d\d)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;vt.cast=function(t){if(t instanceof vt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(Ti);if(n){var i=+n[1];return new vt(i,n[2]?"Z"==n[2]?0:("-"==n[3]?-1:1)*(60*n[4]+1*n[5]):null)}throw new e("FORG0001")}if(t instanceof Xe||t instanceof Ze)return new vt(t.year,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gYear can never succeed")},r("gYear",vt),mt.prototype=new qe,mt.prototype.builtInKind=c.GYEARMONTH_DT,mt.prototype.primitiveKind=He.PRIMITIVE_GYEARMONTH,mt.prototype.year=null,mt.prototype.month=null,mt.prototype.timezone=null,mt.prototype.toString=function(){return et(this.year)+"-"+et(this.month)+tt(this)};var ji=/^-?([1-9]\d\d\d+|0\d\d\d)-(0[1-9]|1[0-2])(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;mt.cast=function(t){if(t instanceof mt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(ji);if(n){var i=+n[1],o=+n[2];return new mt(i,o,n[3]?"Z"==n[3]?0:("-"==n[4]?-1:1)*(60*n[5]+1*n[6]):null)}throw new e("FORG0001")}if(t instanceof Xe||t instanceof Ze)return new mt(t.year,t.month,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:gYearMonth can never succeed")},r("gYearMonth",mt),gt.prototype=new qe,gt.prototype.builtInKind=c.HEXBINARY_DT,gt.prototype.primitiveKind=He.PRIMITIVE_HEXBINARY,gt.prototype.value=null,gt.prototype.valueOf=function(){return this.value},gt.prototype.toString=function(){return this.value};var Ai=/^([0-9a-fA-F]{2})*$/;gt.cast=function(t){if(t instanceof gt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(Ai);if(n)return new gt(n[0].toUpperCase());throw new e("FORG0001")}if(t instanceof Ke){for(var i,o=Mn(t.valueOf()),s=[],r=0,a=o.length;a>r;r++)i=o.charCodeAt(r).toString(16),s.push(new Sn(3-i.length).join("0")+i);return new gt(s.join(""))}throw new e("XPTY0004","Casting value '"+t+"' to xs:hexBinary can never succeed")},r("hexBinary",gt),yt.prototype=new qe,yt.prototype.builtInKind=c.NOTATION_DT,yt.prototype.primitiveKind=He.PRIMITIVE_NOTATION,yt.cast=function(t){throw new e("XPST0017","Abstract type used in constructor function xs:NOTATION")},r("NOTATION",yt),_t.prototype=new qe,_t.prototype.builtInKind=c.QNAME_DT,_t.prototype.primitiveKind=He.PRIMITIVE_QNAME,_t.prototype.prefix=null,_t.prototype.localName=null,_t.prototype.namespaceURI=null,_t.prototype.toString=function(){return(this.prefix?this.prefix+":":"")+this.localName};var Si=/^(?:(?![0-9-])([\w-]+)\:)?(?![0-9-])([\w-]+)$/;_t.cast=function(t){if(t instanceof _t)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(Si);if(n)return new _t(n[1]||null,n[2],null);throw new e("FORG0001")}throw new e("XPTY0004","Casting value '"+t+"' to xs:QName can never succeed")},r("QName",_t),wt.prototype=new qe,wt.prototype.value=null,wt.prototype.builtInKind=c.STRING_DT,wt.prototype.primitiveKind=He.PRIMITIVE_STRING,wt.prototype.valueOf=function(){return this.value},wt.prototype.toString=function(){return this.value},wt.cast=function(e){return new wt(jn(e))},r("string",wt),bt.prototype=new qe,bt.prototype.builtInKind=c.TIME_DT,bt.prototype.primitiveKind=He.PRIMITIVE_TIME,bt.prototype.hours=null,bt.prototype.minutes=null,bt.prototype.seconds=null,bt.prototype.timezone=null,bt.prototype.toString=function(){return it(this)+tt(this)};var Ci=/^(([01]\d|2[0-3]):([0-5]\d):([0-5]\d)(?:\.(\d+))?|(24:00:00)(?:\.(0+))?)(Z|([+\-])(0\d|1[0-4]):([0-5]\d))?$/;bt.cast=function(t){if(t instanceof bt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(Ci);if(n){var i=!!n[6];return new bt(i?0:+n[2],i?0:+n[3],An((i?0:n[4])+"."+(i?0:n[5]||0)),n[8]?"Z"==n[8]?0:("-"==n[9]?-1:1)*(60*n[10]+1*n[11]):null)}throw new e("FORG0001")}if(t instanceof Ze)return new bt(t.hours,t.minutes,t.seconds,t.timezone);throw new e("XPTY0004","Casting value '"+t+"' to xs:time can never succeed")},r("time",bt),Et.prototype=new qe,Et.prototype.builtInKind=c.XT_UNTYPEDATOMIC_DT,Et.prototype.toString=function(){return jn(this.value)},Et.cast=function(e){return e instanceof Et?e:new Et(jn(e))},r("untypedAtomic",Et),xt.prototype=new at,xt.prototype.builtInKind=c.XT_YEARMONTHDURATION_DT,xt.prototype.toString=function(){return(this.negative?"-":"")+"P"+(lt(this)||"0M")};var Ii=/^(-)?P(?:([0-9]+)Y)?(?:([0-9]+)M)?$/;xt.cast=function(t){if(t instanceof xt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(Ii);if(n)return Tt(new xt(+n[2]||0,+n[3]||0,"-"==n[1]));
throw new e("FORG0001")}if(t instanceof jt)return new xt(0,0);if(t instanceof at)return new xt(t.year,t.month,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:yearMonthDuration can never succeed")},r("yearMonthDuration",xt),jt.prototype=new at,jt.prototype.builtInKind=c.DAYTIMEDURATION_DT,jt.prototype.toString=function(){return(this.negative?"-":"")+"P"+(ct(this)||"T0S")};var Ri=/^(-)?P(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:((?:(?:[0-9]+(?:.[0-9]*)?)|(?:.[0-9]+)))S)?)?$/;jt.cast=function(t){if(t instanceof jt)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(Ri);if(n)return At(new jt(+n[2]||0,+n[3]||0,+n[4]||0,+n[5]||0,"-"==n[1]));throw new e("FORG0001")}if(t instanceof xt)return new jt(0,0,0,0);if(t instanceof at)return new jt(t.day,t.hours,t.minutes,t.seconds,t.negative);throw new e("XPTY0004","Casting value '"+t+"' to xs:dayTimeDuration can never succeed")},r("dayTimeDuration",jt),St.prototype=new st,St.prototype.builtInKind=c.INTEGER_DT;var Ui=/^[-+]?[0-9]+$/;St.cast=function(t){if(t instanceof St)return t;if(t instanceof wt||t instanceof Et){var n=Fn(t).match(Ui);if(n)return new St((~~t));throw new e("FORG0001")}if(t instanceof Ge)return new St(1*t);if(Ye(t)){if(On(t)||!Nn(t))throw new e("FOCA0002","Cannot convert '"+t+"' to xs:integer");return new St((~~t))}throw new e("XPTY0004","Casting value '"+t+"' to xs:integer can never succeed")},r("integer",St),Ct.prototype=new St,Ct.prototype.builtInKind=c.NONPOSITIVEINTEGER_DT,Ct.cast=function(e){return new Ct(An(e))},r("nonPositiveInteger",Ct),It.prototype=new Ct,It.prototype.builtInKind=c.NEGATIVEINTEGER_DT,It.cast=function(e){return new It(An(e))},r("negativeInteger",It),Rt.prototype=new St,Rt.prototype.builtInKind=c.LONG_DT,Rt.cast=function(e){return new Rt(An(e))},r("long",Rt),Ut.prototype=new Rt,Ut.prototype.builtInKind=c.INT_DT,Ut.cast=function(e){return new Ut(An(e))},r("int",Ut),Pt.prototype=new Ut,Pt.prototype.builtInKind=c.SHORT_DT,Pt.cast=function(e){return new Pt(An(e))},r("short",Pt),Ot.prototype=new Pt,Ot.prototype.builtInKind=c.BYTE_DT,Ot.cast=function(e){return new Ot(An(e))},r("byte",Ot),Nt.prototype=new St,Nt.prototype.builtInKind=c.NONNEGATIVEINTEGER_DT,Nt.cast=function(e){return new Nt(An(e))},r("nonNegativeInteger",Nt),Dt.prototype=new Nt,Dt.prototype.builtInKind=c.POSITIVEINTEGER_DT,Dt.cast=function(e){return new Dt(An(e))},r("positiveInteger",Dt),Lt.prototype=new Nt,Lt.prototype.builtInKind=c.UNSIGNEDLONG_DT,Lt.cast=function(e){return new Lt(An(e))},r("unsignedLong",Lt),Wt.prototype=new Nt,Wt.prototype.builtInKind=c.UNSIGNEDINT_DT,Wt.cast=function(e){return new Wt(An(e))},r("unsignedInt",Wt),Mt.prototype=new Wt,Mt.prototype.builtInKind=c.UNSIGNEDSHORT_DT,Mt.cast=function(e){return new Mt(An(e))},r("unsignedShort",Mt),Vt.prototype=new Mt,Vt.prototype.builtInKind=c.UNSIGNEDBYTE_DT,Vt.cast=function(e){return new Vt(An(e))},r("unsignedByte",Vt),Ft.prototype=new wt,Ft.prototype.builtInKind=c.NORMALIZEDSTRING_DT,Ft.cast=function(e){return new Ft(jn(e))},r("normalizedString",Ft),Bt.prototype=new Ft,Bt.prototype.builtInKind=c.TOKEN_DT,Bt.cast=function(e){return new Bt(jn(e))},r("token",Bt),$t.prototype=new Bt,$t.prototype.builtInKind=c.NAME_DT,$t.cast=function(e){return new $t(jn(e))},r("Name",$t),Ht.prototype=new $t,Ht.prototype.builtInKind=c.NCNAME_DT,Ht.cast=function(e){return new Ht(jn(e))},r("NCName",Ht),qt.prototype=new Ht,qt.prototype.builtInKind=c.ENTITY_DT,qt.cast=function(e){return new qt(jn(e))},r("ENTITY",qt),Yt.prototype=new Ht,Yt.prototype.builtInKind=c.ID_DT,Yt.cast=function(e){return new Yt(jn(e))},r("ID",Yt),zt.prototype=new Bt,zt.prototype.builtInKind=c.LANGUAGE_DT,zt.cast=function(e){return new zt(jn(e))},r("language",zt),Kt.prototype=new Bt,Kt.prototype.builtInKind=c.NMTOKEN_DT,Kt.cast=function(e){return new Kt(jn(e))},r("NMTOKEN",Kt),Xt.prototype=new Gt,Qt.prototype=new Xt,Jt.prototype=new Xt,Zt.prototype=new Xt,en.prototype=new Xt,tn.prototype=new Xt,nn.prototype=new Xt,Jn["hexBinary-equal"]=function(e,t){return new Ge(e.valueOf()==t.valueOf())},Jn["base64Binary-equal"]=function(e,t){return new Ge(e.valueOf()==t.valueOf())},Jn["boolean-equal"]=function(e,t){return new Ge(e.valueOf()==t.valueOf())},Jn["boolean-less-than"]=function(e,t){return new Ge(e.valueOf()<t.valueOf())},Jn["boolean-greater-than"]=function(e,t){return new Ge(e.valueOf()>t.valueOf())},Jn["yearMonthDuration-less-than"]=function(e,t){return new Ge(dn(e)<dn(t))},Jn["yearMonthDuration-greater-than"]=function(e,t){return new Ge(dn(e)>dn(t))},Jn["dayTimeDuration-less-than"]=function(e,t){return new Ge(cn(e)<cn(t))},Jn["dayTimeDuration-greater-than"]=function(e,t){return new Ge(cn(e)>cn(t))},Jn["duration-equal"]=function(e,t){return new Ge(e.negative==t.negative&&dn(e)==dn(t)&&cn(e)==cn(t))},Jn["dateTime-equal"]=function(e,t){return rn(e,t,"eq")},Jn["dateTime-less-than"]=function(e,t){return rn(e,t,"lt")},Jn["dateTime-greater-than"]=function(e,t){return rn(e,t,"gt")},Jn["date-equal"]=function(e,t){return sn(e,t,"eq")},Jn["date-less-than"]=function(e,t){return sn(e,t,"lt")},Jn["date-greater-than"]=function(e,t){return sn(e,t,"gt")},Jn["time-equal"]=function(e,t){return on(e,t,"eq")},Jn["time-less-than"]=function(e,t){return on(e,t,"lt")},Jn["time-greater-than"]=function(e,t){return on(e,t,"gt")},Jn["gYearMonth-equal"]=function(e,t){return rn(new Ze(e.year,e.month,Qe(e.year,e.month),0,0,0,null==e.timezone?this.timezone:e.timezone),new Ze(t.year,t.month,Qe(t.year,t.month),0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Jn["gYear-equal"]=function(e,t){return rn(new Ze(e.year,1,1,0,0,0,null==e.timezone?this.timezone:e.timezone),new Ze(t.year,1,1,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Jn["gMonthDay-equal"]=function(e,t){return rn(new Ze(1972,e.month,e.day,0,0,0,null==e.timezone?this.timezone:e.timezone),new Ze(1972,t.month,t.day,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Jn["gMonth-equal"]=function(e,t){return rn(new Ze(1972,e.month,Qe(1972,t.month),0,0,0,null==e.timezone?this.timezone:e.timezone),new Ze(1972,t.month,Qe(1972,t.month),0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Jn["gDay-equal"]=function(e,t){return rn(new Ze(1972,12,e.day,0,0,0,null==e.timezone?this.timezone:e.timezone),new Ze(1972,12,t.day,0,0,0,null==t.timezone?this.timezone:t.timezone),"eq")},Jn["add-yearMonthDurations"]=function(e,t){return pn(dn(e)+dn(t))},Jn["subtract-yearMonthDurations"]=function(e,t){return pn(dn(e)-dn(t))},Jn["multiply-yearMonthDuration"]=function(e,t){return pn(dn(e)*t)},Jn["divide-yearMonthDuration"]=function(e,t){return pn(dn(e)/t)},Jn["divide-yearMonthDuration-by-yearMonthDuration"]=function(e,t){return new st(dn(e)/dn(t))},Jn["add-dayTimeDurations"]=function(e,t){return un(cn(e)+cn(t))},Jn["subtract-dayTimeDurations"]=function(e,t){return un(cn(e)-cn(t))},Jn["multiply-dayTimeDuration"]=function(e,t){return un(cn(e)*t)},Jn["divide-dayTimeDuration"]=function(e,t){return un(cn(e)/t)},Jn["divide-dayTimeDuration-by-dayTimeDuration"]=function(e,t){return new st(cn(e)/cn(t))},Jn["subtract-dateTimes"]=function(e,t){return un(fn(e)-fn(t))},Jn["subtract-dates"]=function(e,t){return un(fn(e)-fn(t))},Jn["subtract-times"]=function(e,t){return un(hn(e)-hn(t))},Jn["add-yearMonthDuration-to-dateTime"]=function(e,t){return an(e,t,"+")},Jn["add-dayTimeDuration-to-dateTime"]=function(e,t){return ln(e,t,"+")},Jn["subtract-yearMonthDuration-from-dateTime"]=function(e,t){return an(e,t,"-")},Jn["subtract-dayTimeDuration-from-dateTime"]=function(e,t){return ln(e,t,"-")},Jn["add-yearMonthDuration-to-date"]=function(e,t){return an(e,t,"+")},Jn["add-dayTimeDuration-to-date"]=function(e,t){return ln(e,t,"+")},Jn["subtract-yearMonthDuration-from-date"]=function(e,t){return an(e,t,"-")},Jn["subtract-dayTimeDuration-from-date"]=function(e,t){return ln(e,t,"-")},Jn["add-dayTimeDuration-to-time"]=function(e,t){var n=new bt(e.hours,e.minutes,e.seconds,e.timezone);return n.hours+=t.hours,n.minutes+=t.minutes,n.seconds+=t.seconds,kt(n)},Jn["subtract-dayTimeDuration-from-time"]=function(e,t){var n=new bt(e.hours,e.minutes,e.seconds,e.timezone);return n.hours-=t.hours,n.minutes-=t.minutes,n.seconds-=t.seconds,kt(n)},Jn["is-same-node"]=function(e,t){return new Ge(this.DOMAdapter.isSameNode(e,t))},Jn["node-before"]=function(e,t){return new Ge((!!(4&this.DOMAdapter.compareDocumentPosition(e,t))))},Jn["node-after"]=function(e,t){return new Ge((!!(2&this.DOMAdapter.compareDocumentPosition(e,t))))},Jn["numeric-add"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),o=Un.pow(10,vn(n,i));return mn(e,t,(n*o+i*o)/o)},Jn["numeric-subtract"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),o=Un.pow(10,vn(n,i));return mn(e,t,(n*o-i*o)/o)},Jn["numeric-multiply"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),o=Un.pow(10,vn(n,i));return mn(e,t,n*o*(i*o)/(o*o))},Jn["numeric-divide"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),o=Un.pow(10,vn(n,i));return mn(e,t,e*o/(t*o))},Jn["numeric-integer-divide"]=function(e,t){return new St((~~(e/t)))},Jn["numeric-mod"]=function(e,t){var n=e.valueOf(),i=t.valueOf(),o=Un.pow(10,vn(n,i));return mn(e,t,n*o%(i*o)/o)},Jn["numeric-unary-plus"]=function(e){return e},Jn["numeric-unary-minus"]=function(e){return e.value*=-1,e},Jn["numeric-equal"]=function(e,t){return new Ge(e.valueOf()==t.valueOf())},Jn["numeric-less-than"]=function(e,t){return new Ge(e.valueOf()<t.valueOf())},Jn["numeric-greater-than"]=function(e,t){return new Ge(e.valueOf()>t.valueOf())},Jn["QName-equal"]=function(e,t){return new Ge(e.localName==t.localName&&e.namespaceURI==t.namespaceURI)},Jn.concatenate=function(e,t){return e.concat(t)},Jn.union=function(t,n){for(var i,o=[],s=0,r=t.length;r>s;s++){if(!this.DOMAdapter.isNode(i=t[s]))throw new e("XPTY0004","Required item type of first operand of 'union' is node()");-1==Bn(o,i)&&o.push(i)}for(var i,s=0,r=n.length;r>s;s++){if(!this.DOMAdapter.isNode(i=n[s]))throw new e("XPTY0004","Required item type of second operand of 'union' is node()");-1==Bn(o,i)&&o.push(i)}return kn(o,this)},Jn.intersect=function(t,n){for(var i,o,s=[],r=0,a=t.length;a>r;r++){if(!this.DOMAdapter.isNode(i=t[r]))throw new e("XPTY0004","Required item type of second operand of 'intersect' is node()");o=!1;for(var l=0,c=n.length;c>l&&!o;l++){if(!this.DOMAdapter.isNode(n[l]))throw new e("XPTY0004","Required item type of first operand of 'intersect' is node()");o=this.DOMAdapter.isSameNode(n[l],i)}o&&-1==Bn(s,i)&&s.push(i)}return kn(s,this)},Jn.except=function(t,n){for(var i,o,s=[],r=0,a=t.length;a>r;r++){if(!this.DOMAdapter.isNode(i=t[r]))throw new e("XPTY0004","Required item type of second operand of 'except' is node()");o=!1;for(var l=0,c=n.length;c>l&&!o;l++){if(!this.DOMAdapter.isNode(n[l]))throw new e("XPTY0004","Required item type of first operand of 'except' is node()");o=this.DOMAdapter.isSameNode(n[l],i)}o||-1!=Bn(s,i)||s.push(i)}return kn(s,this)},Jn.to=function(e,t){for(var n=[],i=e.valueOf(),o=t.valueOf();o>=i;i++)n.push(new St(i));return n},s("node-name",[[Xt,"?"]],function(e){if(null!=e){var t=this.DOMAdapter.getProperty;switch(t(e,"nodeType")){case 1:case 2:return new _t(t(e,"prefix"),t(e,"localName"),t(e,"namespaceURI"));case 5:throw"Not implemented";case 6:throw"Not implemented";case 7:return new _t(null,t(e,"target"),null);case 10:return new _t(null,t(e,"name"),null)}}return null}),s("nilled",[[Xt,"?"]],function(e){return null!=e&&1==this.DOMAdapter.getProperty(e,"nodeType")?new Ge((!1)):null}),s("string",[[Gt,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=this.item}return null==t?new wt(""):wt.cast(bn([t],this)[0])}),s("data",[[Gt,"*"]],function(e){return bn(e,this)}),s("base-uri",[[Xt,"?",!0]],function(t){if(!arguments.length){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","base-uri() function called when the context item is not a node");t=this.item}return ze.cast(new wt(this.DOMAdapter.getProperty(t,"baseURI")||""))}),s("document-uri",[[Xt,"?"]],function(e){if(null!=e){var t=this.DOMAdapter.getProperty;if(9==t(e,"nodeType"))return ze.cast(new wt(t(e,"documentURI")||""))}return null}),s("resolve-uri",[[wt,"?"],[wt,"",!0]],function(t,n){var n;if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","resolve-uri() function called when the context item is not a node");n=new wt(this.DOMAdapter.getProperty(this.item,"baseURI")||"")}if(null==t)return null;if(""==t.valueOf()||"#"==t.valueOf().charAt(0))return ze.cast(n);var i=ze.cast(t);if(i.scheme)return i;var o=ze.cast(n);if(i.scheme=o.scheme,!i.authority&&(i.authority=o.authority,"/"!=i.path.charAt(0))){var s=i.path.split("/"),r=o.path.split("/");r.pop();for(var a=""==r[0]?1:0,l=0,c=s.length;c>l;l++)".."==s[l]?r.length>a?r.pop():(r.push(s[l]),a++):"."!=s[l]&&r.push(s[l]);".."!=s[--l]&&"."!=s[l]||r.push(""),i.path=r.join("/")}return i}),s("true",[],function(){return new Ge((!0))}),s("false",[],function(){return new Ge((!1))}),s("not",[[Gt,"*"]],function(e){return new Ge((!wn(e,this)))}),s("position",[],function(){return new St(this.position)}),s("last",[],function(){return new St(this.size)}),s("current-dateTime",[],function(){return this.dateTime}),s("current-date",[],function(){return Xe.cast(this.dateTime)}),s("current-time",[],function(){return bt.cast(this.dateTime)}),s("implicit-timezone",[],function(){return this.timezone}),s("default-collation",[],function(){return new wt(this.staticContext.defaultCollationName)}),s("static-base-uri",[],function(){return ze.cast(new wt(this.staticContext.baseURI||""))}),s("years-from-duration",[[at,"?"]],function(e){return gn(e,"year")}),s("months-from-duration",[[at,"?"]],function(e){return gn(e,"month")}),s("days-from-duration",[[at,"?"]],function(e){return gn(e,"day")}),s("hours-from-duration",[[at,"?"]],function(e){return gn(e,"hours")}),s("minutes-from-duration",[[at,"?"]],function(e){return gn(e,"minutes")}),s("seconds-from-duration",[[at,"?"]],function(e){return gn(e,"seconds")}),s("year-from-dateTime",[[Ze,"?"]],function(e){return yn(e,"year")}),s("month-from-dateTime",[[Ze,"?"]],function(e){return yn(e,"month")}),s("day-from-dateTime",[[Ze,"?"]],function(e){return yn(e,"day")}),s("hours-from-dateTime",[[Ze,"?"]],function(e){return yn(e,"hours")}),s("minutes-from-dateTime",[[Ze,"?"]],function(e){return yn(e,"minutes")}),s("seconds-from-dateTime",[[Ze,"?"]],function(e){return yn(e,"seconds")}),s("timezone-from-dateTime",[[Ze,"?"]],function(e){return yn(e,"timezone")}),s("year-from-date",[[Xe,"?"]],function(e){return yn(e,"year")}),s("month-from-date",[[Xe,"?"]],function(e){return yn(e,"month")}),s("day-from-date",[[Xe,"?"]],function(e){return yn(e,"day")}),s("timezone-from-date",[[Xe,"?"]],function(e){return yn(e,"timezone")}),s("hours-from-time",[[bt,"?"]],function(e){return yn(e,"hours")}),s("minutes-from-time",[[bt,"?"]],function(e){return yn(e,"minutes")}),s("seconds-from-time",[[bt,"?"]],function(e){return yn(e,"seconds")}),s("timezone-from-time",[[bt,"?"]],function(e){return yn(e,"timezone")}),s("adjust-dateTime-to-timezone",[[Ze,"?"],[jt,"?",!0]],function(e,t){return _n(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),s("adjust-date-to-timezone",[[Xe,"?"],[jt,"?",!0]],function(e,t){return _n(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),s("adjust-time-to-timezone",[[bt,"?"],[jt,"?",!0]],function(e,t){return _n(e,arguments.length>1&&null!=t?arguments.length>1?t:this.timezone:null)}),s("name",[[Xt,"?",!0]],function(t){if(arguments.length){if(null==t)return new wt("")}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","name() function called when the context item is not a node");t=this.item}var n=Gn["node-name"].call(this,t);return new wt(null==n?"":n.toString())}),s("local-name",[[Xt,"?",!0]],function(t){if(arguments.length){if(null==t)return new wt("")}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","local-name() function called when the context item is not a node");t=this.item}return new wt(this.DOMAdapter.getProperty(t,"localName")||"")}),s("namespace-uri",[[Xt,"?",!0]],function(t){if(arguments.length){if(null==t)return ze.cast(new wt(""))}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","namespace-uri() function called when the context item is not a node");t=this.item}return ze.cast(new wt(this.DOMAdapter.getProperty(t,"namespaceURI")||""))}),s("number",[[qe,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=bn([this.item],this)[0]}var n=new rt(Dn);if(null!=t)try{n=rt.cast(t)}catch(e){}return n}),s("lang",[[wt,"?"],[Xt,"",!0]],function(t,n){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","lang() function called when the context item is not a node");n=this.item}var i=this.DOMAdapter.getProperty;2==i(n,"nodeType")&&(n=i(n,"ownerElement"));for(var o;n;n=i(n,"parentNode"))if(o=i(n,"attributes"))for(var s=0,r=o.length;r>s;s++)if("xml:lang"==i(o[s],"nodeName"))return new Ge(i(o[s],"value").replace(/-.+/,"").toLowerCase()==t.valueOf().replace(/-.+/,"").toLowerCase());return new Ge((!1))}),s("root",[[Xt,"?",!0]],function(t){if(arguments.length){if(null==t)return null}else{if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","root() function called when the context item is not a node");t=this.item}var n=this.DOMAdapter.getProperty;2==n(t,"nodeType")&&(t=n(t,"ownerElement"));for(var i=t;i;i=n(t,"parentNode"))t=i;return t}),s("abs",[[rt,"?"]],function(e){return new st(Un.abs(e))}),s("ceiling",[[rt,"?"]],function(e){return new st(Un.ceil(e))}),s("floor",[[rt,"?"]],function(e){return new st(Un.floor(e))}),s("round",[[rt,"?"]],function(e){return new st(Un.round(e))}),s("round-half-to-even",[[rt,"?"],[St,"",!0]],function(e,t){var n=arguments.length>1?t.valueOf():0;if(0>n){var i=new St(Un.pow(10,-n)),o=Un.round(Jn["numeric-divide"].call(this,e,i)),s=new St(o);return nDecimal=Un.abs(Jn["numeric-subtract"].call(this,s,Jn["numeric-divide"].call(this,e,i))),Jn["numeric-multiply"].call(this,Jn["numeric-add"].call(this,s,new st(.5==nDecimal&&o%2?-1:0)),i)}var i=new St(Un.pow(10,n)),o=Un.round(Jn["numeric-multiply"].call(this,e,i)),s=new St(o);return nDecimal=Un.abs(Jn["numeric-subtract"].call(this,s,Jn["numeric-multiply"].call(this,e,i))),Jn["numeric-divide"].call(this,Jn["numeric-add"].call(this,s,new st(.5==nDecimal&&o%2?-1:0)),i)}),s("resolve-QName",[[wt,"?"],[en]],function(t,n){if(null==t)return null;var i=t.valueOf(),o=i.match(Si);if(!o)throw new e("FOCA0002","Invalid QName '"+i+"'");var s=o[1]||null,r=o[2],a=this.DOMAdapter.lookupNamespaceURI(n,s);if(null!=s&&!a)throw new e("FONS0004","Namespace prefix '"+s+"' has not been declared");return new _t(s,r,a||null)}),s("QName",[[wt,"?"],[wt]],function(t,n){var i=n.valueOf(),o=i.match(Si);if(!o)throw new e("FOCA0002","Invalid QName '"+i+"'");return new _t(o[1]||null,o[2]||null,null==t?"":t.valueOf())}),s("prefix-from-QName",[[_t,"?"]],function(e){return null!=e&&e.prefix?new Ht(e.prefix):null}),s("local-name-from-QName",[[_t,"?"]],function(e){return null==e?null:new Ht(e.localName)}),s("namespace-uri-from-QName",[[_t,"?"]],function(e){return null==e?null:ze.cast(new wt(e.namespaceURI||""))}),s("namespace-uri-for-prefix",[[wt,"?"],[en]],function(e,t){var n=null==e?"":e.valueOf(),i=this.DOMAdapter.lookupNamespaceURI(t,n||null);return null==i?null:ze.cast(new wt(i))}),s("in-scope-prefixes",[[en]],function(e){throw"Function 'in-scope-prefixes' not implemented"}),s("boolean",[[Gt,"*"]],function(e){return new Ge(wn(e,this))}),s("index-of",[[qe,"*"],[qe],[wt,"",!0]],function(e,t,n){if(!e.length||null==t)return[];var i=t;i instanceof Et&&(i=wt.cast(i));for(var o,s=[],r=0,a=e.length;a>r;r++)o=e[r],o instanceof Et&&(o=wt.cast(o)),o.valueOf()===i.valueOf()&&s.push(new St(r+1));return s}),s("empty",[[Gt,"*"]],function(e){return new Ge((!e.length))}),s("exists",[[Gt,"*"]],function(e){return new Ge((!!e.length))}),s("distinct-values",[[qe,"*"],[wt,"",!0]],function(e,t){if(!e.length)return null;for(var n,i=[],o=0,s=e.length;s>o;o++){n=e[o],n instanceof Et&&(n=wt.cast(n));for(var r,a=0,l=i.length,c=!1;l>a&&!c;a++)r=i[a],r instanceof Et&&(r=wt.cast(r)),r.valueOf()===n.valueOf()&&(c=!0);c||i.push(e[o])}return i}),s("insert-before",[[Gt,"*"],[St],[Gt,"*"]],function(e,t,n){if(!e.length)return n;if(!n.length)return e;var i=e.length,o=t.valueOf();1>o?o=1:o>i&&(o=i+1);for(var s=[],r=0;i>r;r++)o==r+1&&(s=s.concat(n)),s.push(e[r]);return o==r+1&&(s=s.concat(n)),s}),s("remove",[[Gt,"*"],[St]],function(e,t){if(!e.length)return[];var n=e.length,i=t.valueOf();if(1>i||i>n)return e;for(var o=[],s=0;n>s;s++)i!=s+1&&o.push(e[s]);return o}),s("reverse",[[Gt,"*"]],function(e){return e.reverse(),e}),s("subsequence",[[Gt,"*"],[rt,""],[rt,"",!0]],function(e,t,n){var i=Un.round(t),o=arguments.length>2?Un.round(n):e.length-i+1;return e.slice(i-1,i-1+o)}),s("unordered",[[Gt,"*"]],function(e){return e}),s("zero-or-one",[[Gt,"*"]],function(t){if(t.length>1)throw new e("FORG0003");return t}),s("one-or-more",[[Gt,"*"]],function(t){if(!t.length)throw new e("FORG0004");return t}),s("exactly-one",[[Gt,"*"]],function(t){if(1!=t.length)throw new e("FORG0005");return t}),s("deep-equal",[[Gt,"*"],[Gt,"*"],[wt,"",!0]],function(e,t,n){throw"Function 'deep-equal' not implemented"}),s("count",[[Gt,"*"]],function(e){return new St(e.length)}),s("avg",[[qe,"*"]],function(t){if(!t.length)return null;try{var n=t[0];n instanceof Et&&(n=rt.cast(n));for(var i,o=1,s=t.length;s>o;o++)i=t[o],i instanceof Et&&(i=rt.cast(i)),n=ii["+"](n,i,this);return oi.div(n,new St(s),this)}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to avg() contains a mix of types")}}),s("max",[[qe,"*"],[wt,"",!0]],function(t,n){if(!t.length)return null;try{for(var i=t[0],o=1,s=t.length;s>o;o++)ei.ge(t[o],i,this).valueOf()&&(i=t[o]);return i}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to max() contains a mix of not comparable values")}}),s("min",[[qe,"*"],[wt,"",!0]],function(t,n){if(!t.length)return null;try{for(var i=t[0],o=1,s=t.length;s>o;o++)ei.le(t[o],i,this).valueOf()&&(i=t[o]);return i}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to min() contains a mix of not comparable values")}}),s("sum",[[qe,"*"],[qe,"?",!0]],function(t,n){if(!t.length)return arguments.length>1?n:new rt(0);try{var i=t[0];i instanceof Et&&(i=rt.cast(i));for(var o,s=1,r=t.length;r>s;s++)o=t[s],o instanceof Et&&(o=rt.cast(o)),i=ii["+"](i,o,this);return i}catch(t){throw"XPTY0004"!=t.code?t:new e("FORG0006","Input to sum() contains a mix of types")}}),s("id",[[wt,"*"],[Xt,"",!0]],function(t,n){if(arguments.length<2){if(!this.DOMAdapter.isNode(this.item))throw new e("XPTY0004","id() function called when the context item is not a node");n=this.item}var i=Gn.root.call(this,n);if(9!=this.DOMAdapter.getProperty(i,"nodeType"))throw new e("FODC0001");for(var o=[],s=0;s<t.length;s++)for(var r=0,a=Fn(t[s]).split(/\s+/),l=a.length;l>r;r++)(n=this.DOMAdapter.getElementById(i,a[r]))&&-1==Bn(o,n)&&o.push(n);return kn(o,this)}),s("idref",[[wt,"*"],[Xt,"",!0]],function(e,t){throw"Function 'idref' not implemented"}),s("doc",[[wt,"?",!0]],function(e){throw"Function 'doc' not implemented"}),s("doc-available",[[wt,"?",!0]],function(e){throw"Function 'doc-available' not implemented"}),s("collection",[[wt,"?",!0]],function(e){throw"Function 'collection' not implemented"}),s("element-with-id",[[wt,"*"],[Xt,"",!0]],function(e,t){throw"Function 'element-with-id' not implemented"}),s("codepoints-to-string",[[St,"*"]],function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(jn.fromCharCode(e[n]));return new wt(t.join(""))}),s("string-to-codepoints",[[wt,"?"]],function(e){if(null==e)return null;var t=e.valueOf();if(""==t)return[];for(var n=[],i=0,o=t.length;o>i;i++)n.push(new St(t.charCodeAt(i)));return n}),s("compare",[[wt,"?"],[wt,"?"],[wt,"",!0]],function(t,n,i){if(null==t||null==n)return null;var o,s=this.staticContext.defaultCollationName;if(arguments.length>2&&(s=i.valueOf()),o=s==Hn+"/collation/codepoint"?Pi:this.staticContext.getCollation(s),!o)throw new e("FOCH0002","Unknown collation {"+s+"}");return new St(o.compare(t.valueOf(),n.valueOf()))}),s("codepoint-equal",[[wt,"?"],[wt,"?"]],function(e,t){return null==e||null==t?null:new Ge(e.valueOf()==t.valueOf())}),s("concat",null,function(){if(arguments.length<2)throw new e("XPST0017","Function concat() must have at least 2 arguments");for(var t,n=[],i=0,o=arguments.length;o>i;i++)t=arguments[i],we(this,t,"?","each argument of concat()"),t.length&&(n[n.length]=wt.cast(bn(t,this)[0]).valueOf());return new wt(n.join(""))}),s("string-join",[[wt,"*"],[wt]],function(e,t){return new wt(e.join(t))}),s("substring",[[wt,"?"],[rt],[rt,"",!0]],function(e,t,n){var i=null==e?"":e.valueOf(),o=Un.round(t)-1,s=arguments.length>2?o+Un.round(n):i.length;return new wt(s>o?i.substring(o,s):"")}),s("string-length",[[wt,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=wt.cast(bn([this.item],this)[0])}return new St(null==t?0:t.valueOf().length)}),s("normalize-space",[[wt,"?",!0]],function(t){if(!arguments.length){if(!this.item)throw new e("XPDY0002");t=wt.cast(bn([this.item],this)[0])}return new wt(null==t?"":Fn(t).replace(/\s\s+/g," "))}),s("normalize-unicode",[[wt,"?"],[wt,"",!0]],function(e,t){throw"Function 'normalize-unicode' not implemented"}),s("upper-case",[[wt,"?"]],function(e){return new wt(null==e?"":e.valueOf().toUpperCase())}),s("lower-case",[[wt,"?"]],function(e){return new wt(null==e?"":e.valueOf().toLowerCase())}),s("translate",[[wt,"?"],[wt],[wt]],function(e,t,n){if(null==e)return new wt("");for(var i,o=e.valueOf().split(""),s=t.valueOf().split(""),r=n.valueOf().split(""),a=r.length,l=[],c=0,u=o.length;u>c;c++)-1==(i=s.indexOf(o[c]))?l[l.length]=o[c]:a>i&&(l[l.length]=r[i]);return new wt(l.join(""))}),s("encode-for-uri",[[wt,"?"]],function(e){return new wt(null==e?"":window.encodeURIComponent(e))}),s("iri-to-uri",[[wt,"?"]],function(e){return new wt(null==e?"":window.encodeURI(window.decodeURI(e)))}),s("escape-html-uri",[[wt,"?"]],function(e){if(null==e||""==e.valueOf())return new wt("");for(var t,n=e.valueOf().split(""),i=0,o=n.length;o>i;i++)((t=n[i].charCodeAt(0))<32||t>126)&&(n[i]=window.encodeURIComponent(n[i]));return new wt(n.join(""))}),s("contains",[[wt,"?"],[wt,"?"],[wt,"",!0]],function(e,t,n){return new Ge((null==e?"":e.valueOf()).indexOf(null==t?"":t.valueOf())>=0)}),s("starts-with",[[wt,"?"],[wt,"?"],[wt,"",!0]],function(e,t,n){return new Ge(0==(null==e?"":e.valueOf()).indexOf(null==t?"":t.valueOf()))}),s("ends-with",[[wt,"?"],[wt,"?"],[wt,"",!0]],function(e,t,n){var i=null==e?"":e.valueOf(),o=null==t?"":t.valueOf();return new Ge(i.indexOf(o)==i.length-o.length)}),s("substring-before",[[wt,"?"],[wt,"?"],[wt,"",!0]],function(e,t,n){var i,o=null==e?"":e.valueOf(),s=null==t?"":t.valueOf();return new wt((i=o.indexOf(s))>=0?o.substring(0,i):"")}),s("substring-after",[[wt,"?"],[wt,"?"],[wt,"",!0]],function(e,t,n){var i,o=null==e?"":e.valueOf(),s=null==t?"":t.valueOf();return new wt((i=o.indexOf(s))>=0?o.substring(i+s.length):"")}),s("matches",[[wt,"?"],[wt],[wt,"",!0]],function(e,t,n){var i=null==e?"":e.valueOf(),o=En(t.valueOf(),arguments.length>2?n.valueOf():"");return new Ge(o.test(i))}),s("replace",[[wt,"?"],[wt],[wt],[wt,"",!0]],function(e,t,n,i){var o=null==e?"":e.valueOf(),s=En(t.valueOf(),arguments.length>3?i.valueOf():"");return new Ge(o.replace(s,n.valueOf()))}),s("tokenize",[[wt,"?"],[wt],[wt,"",!0]],function(e,t,n){for(var i=null==e?"":e.valueOf(),o=En(t.valueOf(),arguments.length>2?n.valueOf():""),s=[],r=0,a=i.split(o),l=a.length;l>r;r++)s.push(new wt(a[r]));return s}),s("trace",[[Gt,"*"],[wt]],function(e,t){var n=window.console;return n&&n.log&&n.log(t.valueOf(),e),e});var Pi=new l;Pi.equals=function(e,t){return e==t},Pi.compare=function(e,t){return e==t?0:e>t?1:-1};var Oi=function(){};Oi.prototype.nodeType=2,Oi.prototype.nodeName=Oi.prototype.nodeValue=Oi.prototype.ownerDocument=Oi.prototype.localName=Oi.prototype.namespaceURI=Oi.prototype.prefix=Oi.prototype.attributes=Oi.prototype.childNodes=Oi.prototype.firstChild=Oi.prototype.lastChild=Oi.prototype.previousSibling=Oi.prototype.nextSibling=Oi.prototype.parentNode=Oi.prototype.name=Oi.prototype.specified=Oi.prototype.value=Oi.prototype.ownerElement=null,xn.prototype=new n;var Ni=new o;xn.prototype.getProperty=function(e,t){if(t in e)return e[t];if("baseURI"==t){for(var n,i="",o=Ni.getFunction("{http://www.w3.org/2005/xpath-functions}resolve-uri"),s=Ni.getDataType("{http://www.w3.org/2001/XMLSchema}string"),r=e;r;r=r.parentNode)1==r.nodeType&&(n=r.getAttribute("xml:base"))&&(i=o(new s(n),new s(i)).toString());return i}if("textContent"==t){var a=[];return function(e){for(var t,n=0;t=e.childNodes[n];n++)3==t.nodeType||4==t.nodeType?a.push(t.data):1==t.nodeType&&t.firstChild&&arguments.callee(t)}(e),a.join("")}},xn.prototype.compareDocumentPosition=function(e,t){if("compareDocumentPosition"in e)return e.compareDocumentPosition(t);if(t==e)return 0;var n,i,o,s,r,a=null,l=null;if(2==e.nodeType&&(a=e,e=this.getProperty(a,"ownerElement")),2==t.nodeType&&(l=t,t=this.getProperty(l,"ownerElement")),a&&l&&e&&e==t)for(s=0,n=this.getProperty(e,"attributes"),r=n.length;r>s;s++){if(i=n[s],i==a)return 36;if(i==l)return 34}var c,u,d,p,h=[],f=[];for(a&&h.push(a),o=e;o;o=o.parentNode)h.push(o);for(l&&f.push(l),o=t;o;o=o.parentNode)f.push(o);if((e.ownerDocument||e)!=(t.ownerDocument||t)||h[h.length-1]!=f[f.length-1])return 33;for(s=Un.min(c=h.length,d=f.length);s;--s)if((u=h[--c])!=(p=f[--d])){if(2==u.nodeType)return 4;if(2==p.nodeType)return 2;if(!p.nextSibling)return 4;if(!u.nextSibling)return 2;for(o=p.previousSibling;o;o=o.previousSibling)if(o==u)return 4;return 2}return d>c?20:10},xn.prototype.lookupNamespaceURI=function(e,t){if("lookupNamespaceURI"in e)return e.lookupNamespaceURI(t);for(;e&&9!=e.nodeType;e=e.parentNode){if(t==this.getProperty(oChild,"prefix"))return this.getProperty(e,"namespaceURI");if(1==e.nodeType)for(var n=this.getProperty(e,"attributes"),i=0,o=n.length,s="xmlns:"+t;o>i;i++)if(this.getProperty(n[i],"nodeName")==s)return this.getProperty(n[i],"value")}return null},xn.prototype.getElementsByTagNameNS=function(e,t,n){if("getElementsByTagNameNS"in e)return e.getElementsByTagNameNS(t,n);var i=[],o="*"==t,s="*"==n;return function(e){for(var r,a=0;r=e.childNodes[a];a++)1==r.nodeType&&(!s&&n!=this.getProperty(r,"localName")||!o&&t!=this.getProperty(r,"namespaceURI")||(i[i.length]=r),r.firstChild&&arguments.callee(r))}(e),i};var Di=new xn,Li=new xn;Li.getProperty=function(e,t){return"localName"==t&&1==e.nodeType?e.localName.toLowerCase():"namespaceURI"==t?1==e.nodeType?"http://www.w3.org/1999/xhtml":null:xn.prototype.getProperty.call(this,e,t)};var Wi=new xn;Wi.getProperty=function(e,t){if("localName"==t&&1==e.nodeType)return e.nodeName.toLowerCase();if("prefix"==t)return null;if("namespaceURI"==t)return 1==e.nodeType?"http://www.w3.org/1999/xhtml":null;if("textContent"==t)return e.innerText;if("attributes"==t&&1==e.nodeType){for(var n,i,o=[],s=0,r=e.attributes,a=r.length;a>s;s++)n=r[s],n.specified&&(i=new Oi,i.ownerElement=e,i.ownerDocument=e.ownerDocument,i.specified=!0,i.value=i.nodeValue=n.nodeValue,i.name=i.nodeName=i.localName=n.nodeName.toLowerCase(),o[o.length]=i);return o}return xn.prototype.getProperty.call(this,e,t)};var Mi=new xn;Mi.getProperty=function(e,t){if("localName"==t){if(7==e.nodeType)return null;if(1==e.nodeType)return e.baseName}if("prefix"==t||"namespaceURI"==t)return e[t]||null;if("textContent"==t)return e.text;if("attributes"==t&&1==e.nodeType){for(var n,i,o=[],s=0,r=e.attributes,a=r.length;a>s;s++)n=r[s],n.specified&&(i=new Oi,i.nodeType=2,i.ownerElement=e,i.ownerDocument=e.ownerDocument,i.specified=!0,i.value=i.nodeValue=n.nodeValue,i.name=i.nodeName=n.nodeName,i.localName=n.baseName,i.prefix=n.prefix||null,i.namespaceURI=n.namespaceURI||null,o[o.length]=i);return o}return xn.prototype.getProperty.call(this,e,t)},Mi.getElementById=function(e,t){return e.nodeFromID(t)};var Vi=window.jQuery,Fi=window.document,Bi=!!Fi.namespaces&&!Fi.createElementNS,$i=!Bi&&"http://www.w3.org/1999/xhtml"!=Fi.documentElement.namespaceURI,Hi=new o,qi=new o;
Hi.baseURI=Fi.location.href,Hi.defaultFunctionNamespace="http://www.w3.org/2005/xpath-functions",Hi.defaultElementNamespace="http://www.w3.org/1999/xhtml",qi.defaultFunctionNamespace=Hi.defaultFunctionNamespace;var Yi={};Yi.xpath=function(e,t,n){return Tn(e instanceof Vi?e:new Vi(e),t,n)},Vi.extend(Vi,Yi),Yi={},Yi.xpath=function(e,t){return Tn(this,e,t)},Vi.extend(Vi.prototype,Yi)}()},function(e,t){var n;n=function(){function e(){this.assignGlobal()}return e.prototype.assignGlobal=function(){return window.homadPlaybackStart=this.track},e.prototype.track=function(e){return null==window.Kobra||null==Kobra.Models?void console.warn("Kobra not available"):void(e.duration>2&&(console.log("[蛇]H0MAD✔"),Kobra.Models.WatchCount.inc({key:"homad-key",foreign_type:"Homad"})))},e}(),e.exports=n},function(e,t,n){n(5),n(6);var i=function(){function e(e,t,n,i){this.container=e,this.settings=t,t.hasOwnProperty("controls")&&(n.controls=t.controls),this.player=new $.H5P.Player(this.container,this.settings,n,i)}return e.prototype.translateEventName=function(e){var t={play:"playback:started",ended:"playback:ended",timeupdate:"timeElapsed"};for(var n in t)if(t.hasOwnProperty(n)&&e==n)return t[n];return e},e.prototype.addEventListener=function(e,t){return e=this.translateEventName(e),this.player.subscribe(e,t)},e.prototype.removeEventListener=function(e,t){return e=this.translateEventName(e),this.player.unsubscribe(e,t)},e.prototype.load=function(e,t,n,i,o){var s=this.settings.html5smartTVMode;return this.player.loadApiVideo(e,t,n,i,s,o)},e.prototype.play=function(){return this.player.play()},e.prototype.pause=function(){return this.player.pause()},e.prototype.getDuration=function(){return this.player.getDuration()},e.prototype.getCurrentTime=function(){return this.player.timeElapsedWithSegments()},e.prototype.setCurrentTime=function(e){return this.player.skipTo(e)},e.prototype.getVolume=function(){return this.player.getVolume()},e.prototype.setVolume=function(e){return this.player.setVolume(e)},e.prototype.getAutoPlay=function(){return this.player.getAutoPlay()},e.prototype.setAutoPlay=function(e){return this.player.setAutoPlay(e)},e.prototype.requestFullscreen=function(){return this.player.requestFullscreen()},e.prototype.invokeAd=function(){return this.player.invokeAd()},e.prototype.destroy=function(){return this.player.destroy()},e}();e.exports=i},function(module,exports,__webpack_require__){!function(){var Q="SDK_"+"6.6.0-r10939-201601190610".replace(/[^\w]/g,"_"),u="undefined"!=typeof window?window:"undefined"!=typeof GLOBAL?GLOBAL:this;return u.tv=u.tv||{},u.tv.freewheel=u.tv.freewheel||{},u.tv.freewheel[Q]=function(u){var a={version:"js-6.6.0-r10939-201601190610"};return"undefined"!=typeof window&&(window._fw_admanager=window._fw_admanager||{},window._fw_admanager.version=a.version),a.LOG_LEVEL_QUIET=0,a.LOG_LEVEL_INFO=1,a.LOG_LEVEL_DEBUG=2,a.setLogLevel=function(e){"undefined"!=typeof console&&e>a.LOG_LEVEL_QUIET?(a.log=function(){console.log(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))},a.warn=function(){console.warn(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))},a.debug=e>a.LOG_LEVEL_INFO?function(){console.log(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))}:function(){}):a.warn=a.log=a.debug=function(){}},a.setLogLevel(a.LOG_LEVEL_INFO),a.log("FreeWheel Integration Runtime",a.version),function(){var e=navigator.userAgent.toLowerCase();a.PLATFORM_IS_WINDOWSPHONE=-1<e.search("windows phone os"),a.PLATFORM_IS_IPAD=-1<e.search("ipad"),a.PLATFORM_IS_IPHONE_IPOD=-1<e.search("iphone")||-1<e.search("ipod"),a.PLATFORM_IE_MOBILE_VERSION=function(){var t=e.search(/iemobile\/\d\.\d/);if(t>-1){var n=e.substr(t+9,1),t=e.substr(t+11,1);return 1*n+.1*t}return 0}(),a.PLATFORM_IOS_VERSION=function(){var t=e.search(/os \d_\d/);if(t>-1){var n=e.substr(t+3,1),t=e.substr(t+5,1);return 1*n+.1*t}return 0}(),a.PLATFORM_ANDROID_VERSION=function(){var t=e.search(/android \d\.\d/);if(t>-1){var n=e.substr(t+8,1),t=e.substr(t+10,1);return 1*n+.1*t}return-1<e.indexOf("transformer")?3.2:0}(),a.PLATFORM_IS_SAFARI=0<a.PLATFORM_IOS_VERSION&&-1<e.search("applewebkit")||0===a.PLATFORM_ANDROID_VERSION&&0>e.search("chrome")&&-1<e.search("safari"),a.PLATFORM_IS_MOBILE=0<a.PLATFORM_IOS_VERSION||0<a.PLATFORM_ANDROID_VERSION,a.PLATFORM_ID=a.PLATFORM_IS_MOBILE?0<a.PLATFORM_ANDROID_VERSION?"Android"+a.PLATFORM_ANDROID_VERSION:a.PLATFORM_IS_IPAD?"iPad"+a.PLATFORM_IOS_VERSION:a.PLATFORM_IS_IPHONE_IPOD?"iPhone"+a.PLATFORM_IOS_VERSION:"UnknownMobile":"Desktop",a.log("Device:",a.PLATFORM_ID,"PLATFORM_IS_SAFARI:",a.PLATFORM_IS_SAFARI)}(),a.PLATFORM_EVENT_CLICK=a.PLATFORM_IS_MOBILE?"touchend":"click",a.MOBILE_EVENT_DRAG="touchmove",a.PLATFORM_SEND_REQUEST_BY_FORM=!1,a.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_MOVE_POSITION=3.1<=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_SET_DISPLAY=!0,a.PLATFORM_SUPPORT_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT=a.PLATFORM_IS_IPAD||a.PLATFORM_IS_IPHONE_IPOD,a.PLATFORM_AUTO_SEEK_AFTER_MIDROLL=a.PLATFORM_IS_IPAD,a.PLATFORM_NOT_SUPPORT_OVERLAY_AD=a.PLATFORM_IS_IPHONE_IPOD||0<a.PLATFORM_ANDROID_VERSION&&3.1>a.PLATFORM_ANDROID_VERSION||a.PLATFORM_IS_WINDOWSPHONE,a.PLATFORM_FILL_VIDEO_POOL_FOR_MIDROLL=4.2<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_MIDROLL_AD=2.2<=a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION||9<=a.PLATFORM_IE_MOBILE_VERSION,a.PLATFORM_NOT_SUPPORT_VIDEO_AD=0<a.PLATFORM_ANDROID_VERSION&&2.1>=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_DETECT_FULL_SCREEN_FOR_MIDROLL=a.PLATFORM_IS_IPAD&&4.2<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO=a.PLATFORM_IS_IPHONE_IPOD||a.PLATFORM_IS_WINDOWSPHONE,a.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED=3.1<=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT=0<a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE=9<=a.PLATFORM_IE_MOBILE_VERSION,a.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL=0<a.PLATFORM_IOS_VERSION&&4.2>a.PLATFORM_IOS_VERSION&&4<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL=!1,a.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT=0===a.PLATFORM_IOS_VERSION||4<=a.PLATFORM_IOS_VERSION&&4.2>a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_OVERLAY_CLICK_WHEN_CONTROLS_IS_TRUE=a.PLATFORM_IS_IPAD,a.RENDERER_STATE_INIT=1,a.RENDERER_STATE_STARTING=2,a.RENDERER_STATE_STARTED=3,a.RENDERER_STATE_COMPLETING=4,a.RENDERER_STATE_COMPLETED=5,a.RENDERER_STATE_FAILED=6,a.TRANSLATOR_STATE_INIT=a.RENDERER_STATE_INIT,a.TRANSLATOR_STATE_STARTING=a.RENDERER_STATE_STARTING,a.TRANSLATOR_STATE_STARTED=a.RENDERER_STATE_STARTED,a.TRANSLATOR_STATE_COMPLETING=a.RENDERER_STATE_COMPLETING,a.TRANSLATOR_STATE_COMPLETED=a.RENDERER_STATE_COMPLETED,a.TRANSLATOR_STATE_FAILED=a.RENDERER_STATE_FAILED,a.EVENT_AD="adEvent",a.EVENT_SLOT_IMPRESSION="slotImpression",a.EVENT_SLOT_END="slotEnd",a.EVENT_AD_IMPRESSION="defaultImpression",a.EVENT_AD_IMPRESSION_END="adEnd",a.EVENT_AD_QUARTILE="quartile",a.EVENT_AD_FIRST_QUARTILE="firstQuartile",a.EVENT_AD_MIDPOINT="midPoint",a.EVENT_AD_THIRD_QUARTILE="thirdQuartile",a.EVENT_AD_COMPLETE="complete",a.EVENT_AD_CLICK="defaultClick",a.EVENT_AD_MUTE="_mute",a.EVENT_AD_UNMUTE="_un-mute",a.EVENT_AD_COLLAPSE="_collapse",a.EVENT_AD_EXPAND="_expand",a.EVENT_AD_PAUSE="_pause",a.EVENT_AD_RESUME="_resume",a.EVENT_AD_REWIND="_rewind",a.EVENT_AD_ACCEPT_INVITATION="_accept-invitation",a.EVENT_AD_CLOSE="_close",a.EVENT_AD_MINIMIZE="_minimize",a.EVENT_ERROR="_e_unknown",a.EVENT_RESELLER_NO_AD="resellerNoAd",a.EVENT_AD_MEASUREMENT="concreteEvent",a.INFO_KEY_CUSTOM_ID="customId",a.INFO_KEY_MODULE_TYPE="moduleType",a.MODULE_TYPE_EXTENSION="extension",a.MODULE_TYPE_RENDERER="renderer",a.MODULE_TYPE_TRANSLATOR="translator",a.INFO_KEY_ERROR_CODE="errorCode",a.INFO_KEY_ERROR_INFO="errorInfo",a.INFO_KEY_ERROR_MODULE="errorModule",a.ERROR_IO="_e_io",a.ERROR_TIMEOUT="_e_timeout",a.ERROR_NULL_ASSET="_e_null-asset",a.ERROR_ADINSTANCE_UNAVAILABLE="_e_adinst-unavail",a.ERROR_UNKNOWN="_e_unknown",a.ERROR_MISSING_PARAMETER="_e_missing-param",a.ERROR_NO_AD_AVAILABLE="_e_no-ad",a.ERROR_PARSE="_e_parse",a.ERROR_INVALID_VALUE="_e_invalid-value",a.ERROR_INVALID_SLOT="_e_invalid-slot",a.ERROR_NO_RENDERER="_e_no-renderer",a.ERROR_DEVICE_LIMIT="_e_device-limit",a.ERROR_3P_COMPONENT="_e_3p-comp",a.ERROR_UNSUPPORTED_3P_FEATURE="_e_unsupp-3p-feature",a.ERROR_SECURITY="_e_security",a.ERROR_UNMATCHED_SLOT_SIZE="_e_slot-size-unmatch",a.INFO_KEY_URL="url",a.INFO_KEY_SHOW_BROWSER="showBrowser",a.INFO_KEY_CUSTOM_EVENT_NAME="customEventName",a.INFO_KEY_NEED_EMPTY_CT="needEmptyCT",a.INFO_KEY_CONCRETE_EVENT_ID="concreteEventId",a.EVENT_TYPE_CLICK_TRACKING="CLICKTRACKING",a.EVENT_TYPE_IMPRESSION="IMPRESSION",a.EVENT_TYPE_CLICK="CLICK",a.EVENT_TYPE_STANDARD="STANDARD",a.EVENT_TYPE_GENERIC="GENERIC",a.EVENT_TYPE_ERROR="ERROR",a.EVENT_VIDEO_VIEW="videoView",a.SHORT_EVENT_TYPE_IMPRESSION="i",a.SHORT_EVENT_TYPE_CLICK="c",a.SHORT_EVENT_TYPE_STANDARD="s",a.SHORT_EVENT_TYPE_ERROR="e",a.INIT_VALUE_ZERO="0",a.INIT_VALUE_ONE="1",a.INIT_VALUE_TWO="2",a.INFO_KEY_PARAMETERS="parameters",a.URL_PARAMETER_KEY_ET="et",a.URL_PARAMETER_KEY_CN="cn",a.URL_PARAMETER_KEY_INIT="init",a.URL_PARAMETER_KEY_CT="ct",a.URL_PARAMETER_KEY_METR="metr",a.URL_PARAMETER_KEY_CR="cr",a.URL_PARAMETER_KEY_KEY_VALUE="kv",a.URL_PARAMETER_KEY_ERROR_INFO="additional",a.URL_PARAMETER_KEY_ERROR_MODULE="renderer",a.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID="reid",a.URL_PARAMETER_KEY_CONCRETE_EVENT_ID="creid",a.CAPABILITY_SLOT_TEMPLATE="sltp",a.CAPABILITY_DISPLAY_REFRESH="rfnt",a.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS="emcr",a.CAPABILITY_RECORD_VIDEO_VIEW="exvt",a.CAPABILITY_CHECK_COMPANION="cmpn",a.CAPABILITY_CHECK_TARGETING="targ",a.CAPABILITY_FALLBACK_UNKNOWN_ASSET="unka",a.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION="unks",a.CAPABILITY_FALLBACK_ADS="fbad",a.CAPABILITY_SLOT_CALLBACK="slcb",a.CAPABILITY_NULL_CREATIVE="nucr",a.CAPABILITY_AUTO_EVENT_TRACKING="aeti",a.CAPABILITY_RENDERER_MANIFEST="rema",a.CAPABILITY_REQUIRE_VIDEO_CALLBACK="vicb",a.CAPABILITY_SKIP_AD_SELECTION="skas",a.SLOT_TYPE_TEMPORAL="temporal",a.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL="videoPlayerNonTemporal",a.SLOT_TYPE_SITESECTION_NONTEMPORAL="siteSectionNonTemporal",a.TIME_POSITION_CLASS_PREROLL="PREROLL",a.TIME_POSITION_CLASS_MIDROLL="MIDROLL",a.TIME_POSITION_CLASS_POSTROLL="POSTROLL",a.TIME_POSITION_CLASS_OVERLAY="OVERLAY",a.TIME_POSITION_CLASS_DISPLAY="DISPLAY",a.TIME_POSITION_CLASS_PAUSE_MIDROLL="PAUSE_MIDROLL",a.EVENT_REQUEST_COMPLETE="onRequestComplete",a.EVENT_SLOT_STARTED="onSlotStarted",a.EVENT_SLOT_ENDED="onSlotEnded",a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST="contentVideoPauseRequest",a.EVENT_CONTENT_VIDEO_RESUME_REQUEST="contentVideoResumeRequest",a.CAPABILITY_STATUS_OFF=0,a.CAPABILITY_STATUS_ON=1,a.PARAMETER_LEVEL_PROFILE=0,a.PARAMETER_LEVEL_GLOBAL=1,a.PARAMETER_LEVEL_OVERRIDE=5,a.PARAMETER_ENABLE_FORM_TRANSPORT="sdk.enableFormTransport",a.PARAMETER_DESIRED_BITRATE="desiredBitrate",a.PARAMETER_VIDEO_POOL_SIZE="sdk.videoPoolSize",a.PARAMETER_PAGE_SLOT_CONTENT_TYPE="sdk.pageSlotContentType",a.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT="PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT",a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT="extension.ad.control.clickElement",a.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED="extension.contentVideo.enabled",a.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME="extension.contentVideo.respondPauseResume",a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK="extension.contentVideo.autoSeekBack",a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE="extension.contentVideo.autoSourceRestore",a.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED="extension.videoState.enabled",a.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT="renderer.video.startDetectTimeout",a.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT="renderer.video.progressDetectTimeout",a.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY="renderer.video.android.delay",a.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE="renderer.video.displayControlsWhenPause",a.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION="renderer.video.clickDetection",a.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED="renderer.video.playAfterStalled",a.PARAMETER_EXTENSION_SURVEY_ENABLED="extension.survey.enabled",a.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME="renderer.html.coadScriptName",a.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT="renderer.html.isBackgroundTransparent",a.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION="renderer.html.shouldEndAfterDuration",a.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT="renderer.html.adLoadTimeout",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE="renderer.html.placementType",a.PARAMETER_RENDERER_HTML_BOOTSTRAP="renderer.html.bootstrap",a.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR="renderer.html.primaryAnchor",a.PARAMETER_RENDERER_HTML_MARGIN_WIDTH="renderer.html.marginWidth",a.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT="renderer.html.marginHeight",a.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY="renderer.vpaid.creativeTimeoutDelay",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INLINE="inline",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL="interstitial",a.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL="app-interstitial",a.ID_TYPE_FW=1,a.ID_TYPE_CUSTOM=2,a.ID_TYPE_GROUP=3,a.VIDEO_STATE_PLAYING=1,a.VIDEO_STATE_PAUSED=2,a.VIDEO_STATE_STOPPED=3,a.VIDEO_STATE_COMPLETED=4,a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED=1,a.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED=2,a.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE=3,a.VIDEO_ASSET_AUTO_PLAY_TYPE_NON_AUTO_PLAY=3,a.ADUNIT_PREROLL="preroll",a.ADUNIT_MIDROLL="midroll",a.ADUNIT_POSTROLL="postroll",a.ADUNIT_OVERLAY="overlay",a.SLOT_LOCATION_PLAYER="player",a.SLOT_LOCATION_EXTERNAL="external",a.SLOT_OPTION_INITIAL_AD_STAND_ALONE=0,a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL=1,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY=2,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE=3,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE=4,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE=5,a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE=6,a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL=7,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL=8,a.Util={canPlayVideoType:function(e){if(a.PLATFORM_IS_SAFARI&&("video/ogg"==e||"video/webm"==e))return!1;if(1<a.PLATFORM_ANDROID_VERSION&&"video/m4v"==e)return!0;if("video/3gp"==e&&(e="video/3gpp"),3<=a.PLATFORM_ANDROID_VERSION&&"video/3gpp"==e)return!0;var t=document.createElement("video");return!!t.canPlayType&&!(!t.canPlayType(e)&&!t.canPlayType(e.replace("/","/x-")))},str2bool:function(e){return!!e&&(e=a.Util.trim(e).toLowerCase(),"true"==e||"yes"==e||"on"==e||"1"==e)},trim:function(e){return"string"!=typeof e?e.toString():e.replace(/^\s+|\s+$/g,"")},isBlank:function(e){return!e||""===a.Util.trim(e)},encodeToHex:function(e){for(var t="",n=0;n<e.length;n++){for(var i=e.charCodeAt(n).toString(16).toUpperCase();4>i.length;)i="0"+i;t+="\\u"+i.toUpperCase()}return t},forEachOnArray:function(e,t,n){var i;if(null==e)throw new TypeError(" array is null or not defined");var e=Object(e),o=e.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(n&&(i=n),n=0;o>n;){var s;n in e&&(s=e[n],t.call(i,s,n,e)),n++}},mixin:function(e,t){var n,i={};for(n in t)"undefined"!=typeof i[n]&&i[n]==t[n]||(e[n]=t[n]);return e},copy:function(e){return a.Util.mixin({},e)},bind:function(e,t){var n=Array.prototype.slice.call(arguments);return n.shift(),t=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},getObject:function(e,t,n){if(!e)return null;for(var i,e=e.split("."),t=t||window,o=0;t&&(i=e[o]);o++)t=i in t?t[i]:n?t[i]={}:void 0;return t},buildNode:function(b,c,d,f,g){a.debug("Util.buildNode"),d||(d=document);var h=null!=navigator.userAgent.match(/Firefox/);b.innerHTML=c||"";for(var b=b.getElementsByTagName("script"),i=d.getElementsByTagName("head")[0],c=0;c<b.length;++c)if(h||b[c].src){var k=d.createElement("script");b[c].charset&&(k.charset=b[c].charset),b[c].src&&(k.src=b[c].src),b[c].innerHTML&&(k.innerHTML=b[c].innerHTML),k.onload=k.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&i.removeChild(k)};try{i.appendChild(k)}catch(e){a.warn("load script err: "+e)}}else k=b[c].innerHTML,f&&(k=k.replace(/var fw_scope = document;/,"var fw_scope="+f+";")),g&&(k=k.replace(/var fw_scope_window = window;/,"var fw_scope_window="+g+";")),eval(k)},replacePageSlot:function(e,t,n){a.debug("Util.replacePageSlot("+Array.prototype.slice.call(arguments).join(",")+")");var i,o,s;try{i=document.getElementById(e)?document:parent.document.getElementById(e)?parent.document:null,o=document.getElementById(e)?"window":parent.document.getElementById(e)?"parent":null}catch(e){o=i=null}if(!i)for(var r=0;r<window.frames.length;r++)try{window.frames[r].document.getElementById(e)&&(i=window.frames[r].document,o="window.frames["+r+"]")}catch(e){a.warn(e)}if(o&&(s=o+".document"),a.log("replacing slot "+e+" in frame "+s),!i)throw"Slot element not found: "+e;r=n?i.getElementById(n):i.getElementById("_fw_container_"+e),a.Util.buildNode(r,t,i,s,o)},pingURLWithImage:function(e){new Image(1,1).src=e},pingURLWithForm:function(e,t,n){n=n?"_fw_request":"_fw_cb",null==t&&(t=Math.random());var i=document.createElement("iframe");i.name=n+"_iframe_"+t,i.id=n+"_iframe_"+t,i.style.position="absolute",i.style.left="-10000px",i.style.width="1px",i.style.visibility="hidden";var o=document.createElement("form");o.action=e,o.id=n+"_form_"+t,o.target=i.id,o.method="post",o.style.position="absolute",o.style.left="-10000px",o.style.width="1px",o.style.visibility="hidden",document.body&&(document.body.appendChild(i),document.body.appendChild(o),o.submit(),document.body.removeChild(o))},pingURLWithScript:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.src=e,n.onload=n.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&t.removeChild(n)},t.appendChild(n)},pingURL:function(e){a.debug("send callback: "+e),e&&(a.PLATFORM_SEND_REQUEST_BY_FORM?a.Util.pingURLWithForm(e,null,!1):a.Util.pingURLWithImage(e))},pingURLs:function(e){for(var t=0;t<e.length;t++)a.Util.pingURL(e[t])},setParameterInURL:function(e,t,n){if(!e||!t||null==n)return null;var i,o,s=!1,e=e.split("?"),n=encodeURIComponent(n);if(e[1]){o=e[1].split("&");for(var r=0;r<o.length;++r)if(i=o[r].split("="),i[0]==t){o[r]=i[0]+"="+n,s=!0;break}i=o.join("&"),s||(i=t+"="+n+"&"+i)}else i=t+"="+n;return i=e[0]+"?"+i},getParameterInURL:function(e,t){if(!e||!t)return null;var n=e.split("?");if(n[1])for(var n=n[1].split("&"),i=0;i<n.length;++i){var o=n[i].split("=");if(o[0]==t&&!a.Util.isBlank(o[1]))return decodeURIComponent(o[1])}return null},isParameterInURL:function(e,t){if(!e||!t)return!1;var n=e.split("?");if(n[1])for(var n=n[1].split("&"),i=0;i<n.length;++i)if(n[i].split("=")[0]==t)return!0;return!1},flashVersion:function(){var e="0,0,0,0";if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])try{var t=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),n=t[2].split("."),i=n[0],o=n[1],s=t[3];""==s&&(s=t[4]),"d"==s[0]?s=s.substring(1):"r"==s[0]&&(s=s.substring(1),0<s.indexOf("d")&&(s=s.substring(0,s.indexOf("d")))),e=i+","+o+","+s+",0"}catch(e){a.warn("Flash detection failed on navigator method")}}else{var r;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var l=r.GetVariable("$version").split(" ")[1].split(",");3==l.length?e=l.join(",")+",0":4==l.length&&(e=l.join(","))}catch(e){a.warn("Flash detection failed on ActiveX method")}}return e},xmlToJson:function(e){var t={};if(!e)return null;if(1===e.nodeType){if(0<e.attributes.length){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3===e.nodeType?t=e.nodeValue:4===e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes()){for(n=0;n<e.childNodes.length;n++){var i=e.childNodes.item(n),o=i.nodeName;if("undefined"==typeof t[o])t[o]=a.Util.xmlToJson(i);else{if("undefined"==typeof t[o].length||"string"==typeof t[o]){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(a.Util.xmlToJson(i))}}"undefined"!=typeof t["#cdata-section"]?t.value=t["#cdata-section"]:t["#text"]&&(t.value=t["#text"])}return t},lazyJavaScriptLoad:function(e,t){var n=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.type="text/javascript",i.src=e,t&&(i.attachEvent&&!window.opera?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(n.removeChild(i),i.onreadystatechange=null,t())}:i.addEventListener("load",function(){n.removeChild(i),t()},!1)),n.insertBefore(i,n.firstChild)},getViewport:function(){var e=0,t=0;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0]&&(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{width:e,height:t,offsetX:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,offsetY:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},getAbsoluteUrl:function(e,t){if(e=a.Util.trim(e),t=a.Util.trim(t),-1!==t.indexOf("://"))return t;var n=e.substring(0,e.indexOf("://")-1);if(0===t.indexOf("//"))return n+":"+t;var n=e.indexOf("/",e.indexOf("://")+5),i=e;return-1!==n&&(i=e.substring(0,n)),0==t.indexOf("/")?i+t:(n=e.lastIndexOf("#"),i=e,-1!==n&&(i=e.substring(0,n)),0==t.indexOf("#")?i+t:(i=e.indexOf("?"),n=e,-1!==i&&(n=e.substring(0,i)),0==t.indexOf("?")?n+t:(i=-1===i?e.lastIndexOf("/"):n.lastIndexOf("/"),n=-1!==i?e.substring(0,i+1):n+"/",n+t)))}},a.MediaState=function(){},a.MediaState.prototype={},a.MediaState.prototype.constructor=a.MediaState,a.Util.mixin(a.MediaState.prototype,{play:function(e){a.debug(this._name+" play("+e+")")},pause:function(e){a.debug(this._name+" pause("+e+")")},complete:function(e){a.debug(this._name+" complete("+e+")")}}),a.MediaInitState=function(){this._name="MediaInitState"},a.MediaInitState.prototype=new a.MediaState,a.MediaInitState.prototype.constructor=a.MediaInitState,a.Util.mixin(a.MediaInitState.prototype,{play:function(e){a.debug(this._name+" play("+e+")"),e.setMediaState(a.MediaPlayingState.instance),"function"==typeof e.onStartPlaying&&e.onStartPlaying()}}),a.MediaInitState.instance=new a.MediaInitState,a.MediaPlayingState=function(){this._name="MediaPlayingState"},a.MediaPlayingState.prototype=new a.MediaState,a.MediaPlayingState.prototype.constructor=a.MediaPlayingState,a.Util.mixin(a.MediaPlayingState.prototype,{pause:function(e){a.debug(this._name+" pause("+e+")"),e.setMediaState(a.MediaPausedState.instance),"function"==typeof e.onPausePlaying&&e.onPausePlaying()},complete:function(e){a.debug(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompletePlaying&&e.onCompletePlaying()}}),a.MediaPlayingState.instance=new a.MediaPlayingState,a.MediaPausedState=function(){this._name="MediaPausedState"},a.MediaPausedState.prototype=new a.MediaState,a.MediaPausedState.prototype.constructor=a.MediaPausedState,a.Util.mixin(a.MediaPausedState.prototype,{play:function(e){a.debug(this._name+" play("+e+")"),e.setMediaState(a.MediaPlayingState.instance),"function"==typeof e.onResumePlaying&&e.onResumePlaying()},complete:function(e){a.debug(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompletePlaying&&e.onCompletePlaying()}}),a.MediaPausedState.instance=new a.MediaPausedState,a.MediaReplayingState=function(){this._name="MediaReplayingState"},a.MediaReplayingState.prototype=new a.MediaState,a.MediaReplayingState.prototype.constructor=a.MediaReplayingState,a.Util.mixin(a.MediaReplayingState.prototype,{pause:function(e){a.debug(this._name+" pause("+e+")"),e.setMediaState(a.MediaReplayPausedState.instance),"function"==typeof e.onPausePlaying&&e.onPausePlaying()},complete:function(e){a.debug(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompleteReplaying&&e.onCompleteReplaying()}}),a.MediaReplayingState.instance=new a.MediaReplayingState,a.MediaReplayPausedState=function(){this._name="MediaReplayPausedState"},a.MediaReplayPausedState.prototype=new a.MediaState,a.MediaReplayPausedState.prototype.constructor=a.MediaReplayPausedState,a.Util.mixin(a.MediaReplayPausedState.prototype,{play:function(e){a.debug(this._name+" play("+e+")"),e.setMediaState(a.MediaReplayingState.instance),"function"==typeof e.onResumePlaying&&e.onResumePlaying()},complete:function(e){a.debug(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompleteReplaying&&e.onCompleteReplaying()}}),a.MediaReplayPausedState.instance=new a.MediaReplayingState,a.MediaEndState=function(){this._name="MediaEndState"},a.MediaEndState.prototype=new a.MediaState,a.MediaEndState.prototype.constructor=a.MediaEndState,a.Util.mixin(a.MediaEndState.prototype,{play:function(e){a.debug(this._name+" play("+e+")"),e.setMediaState(a.MediaReplayingState.instance),"function"==typeof e.onStartReplaying&&e.onStartReplaying()}}),a.MediaEndState.instance=new a.MediaEndState,a.RendererState=function(){},a.RendererState.prototype={},a.RendererState.prototype.constructor=a.RendererState,a.Util.mixin(a.RendererState.prototype,{start:function(){a.debug(this._name+" start()")},notifyStarted:function(){a.debug(this._name+" notifyStarted()")},stop:function(){a.debug(this._name+" stop()")},complete:function(){a.debug(this._name+" complete()")},notifyCompleted:function(){a.debug(this._name+" notifyCompleted()")},fail:function(e){a.debug(this._name+" fail()"),e.setRendererState(a.RendererFailedState.instance),e.getAdInstance().complete()}}),a.RendererInitState=function(){this._name="RendererInitState"},a.RendererInitState.prototype=new a.RendererState,a.RendererInitState.prototype.constructor=a.RendererInitState,a.RendererInitState.instance=new a.RendererInitState,a.Util.mixin(a.RendererInitState.prototype,{start:function(e){a.debug(this._name+" start()"),e.setRendererState(a.RendererStartingState.instance),e.getRenderer().start(e)},stop:function(e){a.debug(this._name+" stop()"),e.setRendererState(a.RendererCompletingState.instance),e.getRendererState().notifyCompleted()}}),a.RendererStartingState=function(){this._name="RendererStartingState"},a.RendererStartingState.prototype=new a.RendererState,a.RendererStartingState.prototype.constructor=a.RendererStartingState,a.RendererStartingState.instance=new a.RendererStartingState,a.Util.mixin(a.RendererStartingState.prototype,{notifyStarted:function(e){a.debug(this._name+" notifyStarted()"),e.setRendererState(a.RendererStartedState.instance),e.getAdInstance().play()},stop:function(e){a.debug(this._name+" stop()"),"function"==typeof e.getRenderer().stop&&(e.setRendererState(a.RendererCompletingState.instance),e.getRenderer().stop())}}),a.RendererStartedState=function(){this._name="RendererStartedState"},a.RendererStartedState.prototype=new a.RendererState,a.RendererStartedState.prototype.constructor=a.RendererStartedState,a.RendererStartedState.instance=new a.RendererStartedState,a.Util.mixin(a.RendererStartedState.prototype,{complete:function(e){a.debug(this._name+" complete()"),e.setRendererState(a.RendererCompletingState.instance)},stop:function(e){a.debug(this._name+" stop()"),"function"==typeof e.getRenderer().stop&&(e.setRendererState(a.RendererCompletingState.instance),!1===e.getRenderer().stop()&&e.getAdInstance().fakeComplete())}}),a.RendererCompletingState=function(){this._name="RendererCompletingState"},a.RendererCompletingState.prototype=new a.RendererState,a.RendererCompletingState.prototype.constructor=a.RendererCompletingState,a.RendererCompletingState.instance=new a.RendererCompletingState,a.Util.mixin(a.RendererCompletingState.prototype,{notifyCompleted:function(e){a.debug(this._name+" notifyCompleted()"),e.setRendererState(a.RendererCompletedState.instance),e.getAdInstance().complete()}}),a.RendererCompletedState=function(){this._name="RendererCompletedState"},a.RendererCompletedState.prototype=new a.RendererState,a.RendererCompletedState.prototype.constructor=a.RendererCompletedState,a.RendererCompletedState.instance=new a.RendererCompletedState,a.RendererFailedState=function(){this._name="RendererFailedState"},a.RendererFailedState.prototype=new a.RendererState,a.RendererFailedState.prototype.constructor=a.RendererFailedState,a.RendererFailedState.instance=new a.RendererFailedState,a.HTMLRenderer=function(){},a.HTMLRenderer.prototype={start:function(e){this.rendererController=e,e.getAdInstance().getSlot().getBase()?this._setupParameters()&&(this._render(),e.handleStateTransition(a.RENDERER_STATE_STARTED)):e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_SLOT,errorInfo:"slot base is empty"})},pause:function(){this.log("pause")},resume:function(){this.log("resume")},stop:function(){return this.log("stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+this._tpc+" interstitial:"+this.shouldKeepInterstitial),!(!this.isMRAIDAd&&this._tpc==a.TIME_POSITION_CLASS_DISPLAY&&!this.shouldKeepInterstitial)&&(this._cleanup(),void this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED))},_cleanup:function(){if(this.log("_cleanup"),this.timer&&(this.timer.stop(),this.timer=null),this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null),window.removeEventListener?(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),window.removeEventListener("message",this.messageHandlerFunc,!1),window.removeEventListener("resize",this.viewportChangeFunc,!1),window.removeEventListener("scroll",this.viewportChangeFunc,!1)):window.detachEvent&&(window.detachEvent("onmessage",this.messageHandlerFunc),window.detachEvent("onresize",this.viewportChangeFunc),window.detachEvent("onscroll",this.viewportChangeFunc)),this.isMRAIDAd&&(this.mraid.inExpandedState()&&(this.log("stopping with expanded state, invoke close()"),this._mraidClose()),this.mraid.inDefaultState()))return this.log("stopping with default state, invoke close()"),void this._mraidClose();var e;if(this.expandedAdElement&&(e=this.expandedAdElement.parentNode,this.expandedAdElement._fw_closeButton&&e.removeChild(this.expandedAdElement._fw_closeButton),e.removeChild(this.expandedAdElement),this.expandedAdElement===this.defaultAdElement&&(this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null),this.expandedAdElement=null),this.expandedLightbox&&(e=this.expandedLightbox.parentNode,e.removeChild(this.expandedLightbox),this.expandedLightbox=null),this.rendererController.getAdInstance().getSlot().getTimePositionClass(),this.defaultAdElement){e=this.defaultAdElement.parentNode;var t=this.defaultAdElement;t.style.display="none",e!==this.rendererController.getAdInstance().getSlot().getBase()&&window.setTimeout(function(){for(var n=e&&e.childNodes||[],i=0;i<n.length;i++){var o=n[i];o===t&&e.removeChild(o)}},200),this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null}this.defaultAdElementContainer&&(e=this.defaultAdElementContainer.parentNode,e.removeChild(this.defaultAdElementContainer),this.defaultAdElementContainer=null),this.shouldPauseContentWhenStart&&this.rendererController.requestContentStateChange(!1);
},_setupParameters:function(){var e=this.rendererController,t=e.getAdInstance(),n=t.getSlot().getTimePositionClass();this._tpc=n;var i,o=t.getActiveCreativeRendition(),t=o.getBaseUnit(),o=o.getCreativeApi();if(a.PLATFORM_NOT_SUPPORT_OVERLAY_AD&&n===a.TIME_POSITION_CLASS_OVERLAY)return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Overlay not supported on this device."}),!1;if(a.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&(n===a.TIME_POSITION_CLASS_MIDROLL||n===a.TIME_POSITION_CLASS_PAUSE_MIDROLL))return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Midroll, pause_midroll not supported on this device."}),!1;if(a.PLATFORM_IS_IPHONE_IPOD)switch(n){case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_PAUSE_MIDROLL:case a.TIME_POSITION_CLASS_OVERLAY:return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Midroll, pause_midroll and overlay ads are not supported on iPod, iPhone."}),!1;case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF)}if(this.adLoadTimeout=5,(i=e.getParameter(a.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT))&&(this.adLoadTimeout=0<Number(i)?Number(i):this.adLoadTimeout),this.shouldKeepInterstitial=!1,(i=e.getParameter(a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE))?this.shouldKeepInterstitial=i===a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL:"string"==typeof t&&(this.shouldKeepInterstitial=t.toLowerCase()===a.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL),this.isInterstitialNow=this.shouldKeepInterstitial,this.shouldPauseContentWhenStart=!1,this.shouldPauseContentWhenExpandOrClick=!this.shouldKeepInterstitial&&(n===a.TIME_POSITION_CLASS_DISPLAY||n===a.TIME_POSITION_CLASS_OVERLAY),this.shouldBackgroundTransparent=!1,i=e.getParameter(a.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT),"undefined"!=typeof i&&null!==i&&(this.shouldBackgroundTransparent=a.Util.str2bool(i)),this.shouldEndAfterDuration=n!==a.TIME_POSITION_CLASS_DISPLAY,i=e.getParameter(a.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION),"undefined"!=typeof i&&null!==i&&(this.shouldEndAfterDuration=a.Util.str2bool(i)),this.coadScriptName=e.getParameter(a.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME),this.coadScriptName||(this.coadScriptName=e.getParameter("coad_script_name")),this.primaryAnchor=e.getParameter(a.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR)||"bc",this.marginWidth=e.getParameter(a.PARAMETER_RENDERER_HTML_MARGIN_WIDTH)||0,this.marginHeight=e.getParameter(a.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT)||0,this.bootstrap=e.getParameter(a.PARAMETER_RENDERER_HTML_BOOTSTRAP),t=a.Util.getViewport(),this.defaultExpandWidth=t.width,this.defaultExpandHeight=t.height,this.isMRAIDAd="MRAID-1.0"===o,this.mraid=new function(e){this.STATELOADING="loading",this.STATEDEFAULT="default",this.STATEEXPANDED="expanded",this.STATEHIDDEN="hidden",this._renderer=e,this._state=this.STATELOADING,this._useCustomClose=!1,this.viewable=this.expandIsModal=!0,this._baseUrlExpanded=this._baseUrlDefault="",e=Object.defineProperty||function(e,t,n){n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)},e(this,"baseUrl",{get:function(){return this.inExpandedState()?this._baseUrlExpanded||this._baseUrlDefault:this._baseUrlDefault},set:function(e){this.inExpandedState()?this._baseUrlExpanded=e:(this._baseUrlDefault=e,this._baseUrlExpanded="")}}),e(this,"useCustomClose",{get:function(){return this._useCustomClose},set:function(e){this._useCustomClose===!e&&(this._useCustomClose=!!e,this.pushData())}}),e(this,"placementType",{get:function(){return this._renderer.shouldKeepInterstitial?"interstitial":"inline"}}),e(this,"expandWidth",{get:function(){return this._renderer.requestedExpandWidth&&this._renderer.requestedExpandWidth<this._renderer.defaultExpandWidth?this._renderer.requestedExpandWidth:this._renderer.defaultExpandWidth}}),e(this,"expandHeight",{get:function(){return this._renderer.requestedExpandHeight&&this._renderer.requestedExpandHeight<this._renderer.defaultExpandHeight?this._renderer.requestedExpandHeight:this._renderer.defaultExpandHeight}}),e(this,"state",{get:function(){return this._state},set:function(e){this.log("mraid.state change "+this.state+" => "+e),this.state!==e&&(this._renderer.shouldPauseContentWhenExpandOrClick&&(e===this.STATEEXPANDED?this._renderer.rendererController.requestContentStateChange(!0):this.inExpandedState()&&this._renderer.rendererController.requestContentStateChange(!1)),e===this.STATEEXPANDED?(this._renderer.expandedAdElement?this._renderer.rendererController.processEvent({name:a.EVENT_AD_ACCEPT_INVITATION}):(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.rendererController.processEvent({name:a.EVENT_AD_EXPAND})),this._renderer.presentInterstitial(),this._renderer.shouldEndAfterDuration&&this._renderer.timer.pause()):e===this.STATEDEFAULT&&(this._renderer.shouldKeepInterstitial?(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.presentInterstitial()):(this.inExpandedState()&&(this._renderer.expandedAdElement!==this._renderer.defaultAdElement?this._renderer.rendererController.processEvent({name:a.EVENT_AD_CLOSE}):this._renderer.rendererController.processEvent({name:a.EVENT_AD_COLLAPSE})),this._renderer.expandedAdElement=null,this._renderer.presentInline()),this._renderer.shouldEndAfterDuration&&this._renderer.timer.start()),this._state=e,this.pushData(),e===this.STATEHIDDEN&&this._renderer.stop())}}),this.inLoadingState=function(){return this.state===this.STATELOADING},this.inDefaultState=function(){return this.state===this.STATEDEFAULT},this.inExpandedState=function(){return this.state===this.STATEEXPANDED},this.inHiddenState=function(){return this.state===this.STATEHIDDEN},this.pushData=function(){var e='mraid._Update("'+this.state+'", '+this.viewable+', "'+this.placementType+'", '+this.expandWidth+", "+this.expandHeight+", "+this.useCustomClose+", "+this.expandIsModal+")";this.log("mraid.pushData: going to invoke on iframe with "+e),this._renderer.defaultAdElement?(this._renderer.defaultAdElement.contentWindow.postMessage("fwsdk-bounce:"+e,"*"),this._renderer.expandedAdElement&&this._renderer.expandedAdElement!==this._renderer.defaultAdElement&&this._renderer.expandedAdElement.contentWindow.postMessage("fwsdk-bounce:"+e,"*")):this.warn("_mraidPushData: no iframe suitable to send "+e)},this.log=function(e){this._renderer.log(e)},this.warn=function(e){this._renderer.warn(e)}}(this),this.onLoadFunc=a.Util.bind(this,function(){this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null),this.timer&&this.shouldEndAfterDuration&&this.timer.start()}),this.touchMoveDisabler=function(e){e.preventDefault()},this.log("setting parameters, adLoadTimeout: "+this.adLoadTimeout+", isMRAIDAd: "+this.isMRAIDAd+", shouldKeepInterstitial: "+this.shouldKeepInterstitial+", shouldEndAfterDuration: "+this.shouldEndAfterDuration+", shouldPauseContentWhenStart: "+this.shouldPauseContentWhenStart+", shouldPauseContentWhenExpandOrClick: "+this.shouldPauseContentWhenExpandOrClick+", shouldBackgroundTransparent: "+this.shouldBackgroundTransparent+", defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", coadScriptName: "+this.coadScriptName+", primaryAnchor: "+this.primaryAnchor+", marginWidth: "+this.marginWidth+", marginHeight: "+this.marginHeight+", bootstrap: "+this.bootstrap),this.shouldKeepInterstitial){if(n===a.TIME_POSITION_CLASS_OVERLAY)return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_SLOT,errorInfo:"Interstitial ad is not supported on overlay slot."}),!1}else!this.isMRAIDAd||a.PLATFORM_IS_IPHONE_IPOD&&n!==a.TIME_POSITION_CLASS_DISPLAY||(e.setCapability(a.EVENT_AD_ACCEPT_INVITATION,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_CLOSE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_COLLAPSE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_EXPAND,a.CAPABILITY_STATUS_ON));return!0},_render:function(){this.log("_render");var b=this.rendererController,c=b.getAdInstance(),d=c.getSlot(),f=d.getTimePositionClass(),g=d.getBase(),h=c.getActiveCreativeRendition(),i=h.getDuration(),k=h.getPrimaryCreativeRenditionAsset(),c=k.getUrl(),j=k.getContent();if(f===a.TIME_POSITION_CLASS_DISPLAY&&(g.innerHTML=""),this.timer=new a.Timer(i,a.Util.bind(this,this.stop)),this.coadScriptName&&"function"==typeof window[this.coadScriptName])this.defaultAdElement=window[this.coadScriptName](j,c,h.getHeight(),h.getWidth(),k.getMimeType(),d.getCustomId()),this.timer&&this.shouldEndAfterDuration&&this.timer.start();else{if(i=document.createElement("span"),i.id="_fw_ad_container_html_"+d.getCustomId()+"_",i.style.position="relative"===g.style.position?"absolute":"relative",i.style.display="inline-block",i.style.margin="0px",i.style.padding="0px",i.style.width=g.style.width||"100%",i.style.height=g.style.height||"100%",i.style.top=i.style.left="0px",g.appendChild(i),this.defaultAdElementContainer=i,!c&&!j)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),void this.stop();if("text/html_lit_nowrapper"==h.getContentType()||"text/html_lit_js_wc_nw"==h.getContentType()){if(this.isMRAIDAd||this.isInterstitialNow)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_VALUE}),void this.stop();if(!j)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),void this.stop();this.defaultAdElement=i,this.defaultAdElement.innerHTML=j;for(var d=this.defaultAdElement.getElementsByTagName("script"),m=document.getElementsByTagName("head")[0],g=0;g<d.length;++g)if(d[g].src){var l=document.createElement("script");d[g].charset&&(l.charset=d[g].charset),d[g].src&&(l.src=d[g].src),d[g].innerHTML&&(l.innerHTML=d[g].innerHTML),l.onload=l.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&m.removeChild(l)},m.appendChild(l)}else l=d[g].innerHTML,eval(l);return this.presentInline(),void this.onLoadFunc()}h=document.createElement("iframe"),h.id="_fw_ad_container_iframe_"+d.getCustomId()+"_"+Math.random(),h.attachEvent?h.attachEvent("onload",this.onLoadFunc):h.onload=this.onLoadFunc,this.defaultAdElement=h,this.defaultAdElementContainer.appendChild(h),this._fillAdNode(h,c,j),this.isMRAIDAd&&(this.adLoadTimeoutTimer=new a.Timer(this.adLoadTimeout,a.Util.bind(this,function(){b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_TIMEOUT,errorModule:"HTMLRenderer",errorInfo:"Loading element timeout"}),f!==a.TIME_POSITION_CLASS_DISPLAY&&this.isMRAIDAd&&!this.mraid.inLoadingState()?this._mraidClose():this.stop()})),this.adLoadTimeoutTimer.start())}!this.defaultAdElement&&(d=g.getElementsByTagName("iframe"))&&0<d.length&&(this.defaultAdElement=d[d.length-1]),this.defaultAdElement?(this.defaultAdElement.frameBorder="0",this.shouldBackgroundTransparent&&(this.defaultAdElement.allowTransparency="true",this.defaultAdElement.style["background-color"]="rgba(255,255,255,0)"),this.isInterstitialNow?(this.expandedAdElement=this.defaultAdElement,this.presentInterstitial()):this.presentInline(),this.messageHandlerFunc=a.Util.bind(this,this._onWindowMessageReceived),this.viewportChangeFunc=a.Util.bind(this,function(){this.viewportChangeFuncTimer&&window.clearTimeout(this.viewportChangeFuncTimer),this.viewportChangeFuncTimer=window.setTimeout(a.Util.bind(this,this._onViewportResizeScroll),200)}),window.addEventListener?(window.addEventListener("message",this.messageHandlerFunc,!1),window.addEventListener("resize",this.viewportChangeFunc,!1),window.addEventListener("scroll",this.viewportChangeFunc,!1)):window.attachEvent&&(window.attachEvent("onmessage",this.messageHandlerFunc),window.attachEvent("onresize",this.viewportChangeFunc),window.attachEvent("onscroll",this.viewportChangeFunc))):this.isMRAIDAd&&(b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_UNKNOWN,errorModule:"HTMLRenderer",errorInfo:"Failed to find iframe in slotBase for MRAID ad"}),this.stop())},_layoutOverlayAd:function(e){this.log("_layoutOverlayAd");var t=this.rendererController.getAdInstance(),n=t.getSlot(),i=n.getVideoDisplaySize().width,n=n.getVideoDisplaySize().height,o=t.getActiveCreativeRendition(),t=o.getWidth()||240,o=o.getHeight()||50;switch(e.style.width=Math.min(t,i)+"px",e.style.height=Math.min(o,n)+"px",e.style.left=e.style.top=e.style.right=e.style.bottom="",this.primaryAnchor){case"tl":case"lt":e.style.top=this.marginHeight+"px",e.style.left=this.marginWidth+"px";break;case"tr":case"rt":e.style.top=this.marginHeight+"px",e.style.right=this.marginWidth+"px";break;case"bl":case"lb":e.style.bottom=this.marginHeight+"px",e.style.left=this.marginWidth+"px";break;case"br":case"rb":e.style.bottom=this.marginHeight+"px",e.style.right=this.marginWidth+"px";break;case"tc":case"ct":e.style.top=this.marginHeight+"px",e.style.left=.5*Math.max(0,i-t)+"px";break;case"lm":case"ml":e.style.left=this.marginWidth+"px",e.style.top=.5*Math.max(0,n-o)+"px";break;case"rm":case"mr":e.style.right=this.marginWidth+"px",e.style.top=.5*Math.max(0,n-o)+"px";break;case"mc":case"cm":case"c":case"m":e.style.left=.5*Math.max(0,i-t)+"px",e.style.top=.5*Math.max(0,n-o)+"px";break;default:case"bc":case"cb":e.style.bottom=this.marginHeight+"px",e.style.left=.5*Math.max(0,i-t)+"px"}},_fillAdNode:function(e,t,n){this.log("_fillAdNode, url:"+t+", content:"+(n?"<omited>":"<empty>"));var i=this.rendererController;if(t)e.src=t;else{if(!n)return i.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),!1;e=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument,e.open(),e.write(n),e.close()}return!0},presentInline:function(){this.log("presentInline"),this.isInterstitialNow=!1;var e=this.defaultAdElement;if(e){var t=this.rendererController.getAdInstance(),n=t.getSlot(),i=n.getTimePositionClass(),o=n.getWidth(),s=n.getHeight(),r=n.getVideoDisplaySize().width,n=n.getVideoDisplaySize().height,l=t.getActiveCreativeRendition(),t=l.getWidth(),l=l.getHeight();switch(e.scrolling="no",e.style.overflow="hidden",i){case a.TIME_POSITION_CLASS_DISPLAY:e.style.position="",e.style.background=this.shouldBackgroundTransparent?"transparent":"",e.style.left="0px",e.style.top="0px",e.style.width=(o?o:t)+"px",e.style.height=(s?s:l)+"px";break;case a.TIME_POSITION_CLASS_OVERLAY:e.style.position="absolute",e.style.background=this.shouldBackgroundTransparent?"transparent":"white",this._layoutOverlayAd(e);break;default:e.style.position="absolute",e.style.background=this.shouldBackgroundTransparent?"transparent":"white",e.style.left="0px",e.style.top="0px",e.style.width=r+"px",e.style.height=n+"px"}}},presentInterstitial:function(){if(this.log("presentInterstitial, defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", this.mraid.expandWidth: "+this.mraid.expandWidth+", this.mraid.expandHeight: "+this.mraid.expandHeight+", (Math.max(0, this.defaultExpandWidth - this.mraid.expandWidth) / 2) = "+Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+", (Math.max(0, this.defaultExpandHeight - this.mraid.expandHeight) / 2) = "+Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2),this.expandedAdElement){this.isInterstitialNow=!0,document.addEventListener&&(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),document.addEventListener("touchmove",this.touchMoveDisabler,!1));var e=this.expandedAdElement.parentNode;if(this.expandedLightbox||(this.expandedLightbox=document.createElement("div"),this.expandedLightbox.style.background="black",this.expandedLightbox.style.opacity=.8,this.expandedLightbox.style.position="fixed",this.expandedLightbox.style.top="0px",this.expandedLightbox.style.left="0px",this.expandedLightbox.style.zIndex=this.expandedLightbox.style["z-index"]=9999,e.appendChild(this.expandedLightbox)),this.expandedLightbox.style.width=this.defaultExpandWidth+"px",this.expandedLightbox.style.height=this.defaultExpandHeight+"px",this.expandedAdElement.frameBorder="0",this.expandedAdElement.scrolling="no",this.expandedAdElement.style.position="fixed",this.expandedAdElement.style.overflow="hidden",this.expandedAdElement.style.top=this.expandedAdElement.top=Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2+"px",this.expandedAdElement.style.left=this.expandedAdElement.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+"px",this.expandedAdElement.style.width=this.expandedAdElement.width=this.mraid.expandWidth+"px",this.expandedAdElement.style.height=this.expandedAdElement.height=this.mraid.expandHeight+"px",this.expandedAdElement.style.zIndex=this.expandedAdElement.style["z-index"]=1e4,this.log("presentInterstitial, expanded ad element size: (top, left, width, height) = ("+this.expandedAdElement.top+", "+this.expandedAdElement.left+", "+this.expandedAdElement.width+", "+this.expandedAdElement.height+")"),this.isMRAIDAd){var t=this.expandedAdElement._fw_closeButton;t||(t=document.createElement("div"),t.addEventListener?t.addEventListener("click",a.Util.bind(this,function(){this._mraidClose()})):t.attachEvent&&t.attachEvent("onclick",a.Util.bind(this,function(){this._mraidClose()})),t.style.position="fixed",t.style.margin="0px",t.style.padding="0px",t.style.width="25px",t.style.height="25px",t.style.zIndex=t.style["z-index"]=10001,e.appendChild(t),this.expandedAdElement._fw_closeButton=t),t.style.top=this.expandedAdElement.style.top,t.style.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+this.mraid.expandWidth-25+"px",t.innerHTML=this.mraid.useCustomClose?0<a.PLATFORM_ANDROID_VERSION?"   ":"":0<a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION?'<img style="width:25px; height:25px; border:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xJREFUeNrMmjFv2kAUxw/IUAZUw4AqJjIxMAQJ9sIHgDYLUqfSBTowJBudAmOnNCNeAitLyVgxxNlBgk+QTKgb6UQHhr7nniNj8PmM3zk86XQZOPt+ee/e+9+dI4zQms1mGTpsb6EVXH42h/YHmqHrukH17kjAiWvQfYT2gfeH2BjaHfYA9hwqCABkobvik9eI/qkIMYB2A0BPSkG4By44hErrQfvhx0MRn/F/Cy3LwjH0yhfZdRSThOhyCI2FZ/iuRrFYjMxmMyMwCEDc8nB6LSsDTBZg7g4GAYj7ANmI0gpeMDEPTxwDhBRMzAXiGrqv7PgMYTSA+eWZtQACvfCTHbedQzYbu4LwOvHolp3q9TorlUpsuVyyfr/P1us16ezi8TirVqtmP5lMzPcIiuepvc5EHT+4doPIZDImhPV3q9UyX0hl+MxOp2O+I5/Ps1qt5pWat4py1CE7Gm4jnf99Sph9z5Lw9gWf845HhLJjtVqx0WhEDuMGgaElYVdbWYuTDbxGYcwiELreskQiwXK5HFssFmyz2ZBA4PoTrA9nFhtCFnu2PCJdL6bTKYlnCCCYfe4WyGc/I4PCEEK8zD3Cw+rxkPjGDIMp2Rl+otRMDGHZaZRvTQ8yv55RBGEKSwQ5C/IEWRiFEGhnMVj1naCbJa9slk6nVUKg/T2h2iyhZywZ4/RCMplUCWFW+hPBsQ0ZjFMhEEOY9SRKLUv3rRnFEHtFI4nhRPelX1xH2FQYOYjf9EsJ8qQSQqVqth8dkYGI6oQK1awExKvYUQlNL5CFSghq1exiCwQxVEOEAGPEYFPyG2QKniS+CWNTRL05w7DSdf2blX7HYe7siD0ztteRm7B3doQww5c9Ow+vspcKRvHXbrfJBCBBmOH13XdnZe95jcKzJmoVK/KMhPV2JAq/UDG8TgJVCEA3GAlvGG5a61JGpmM4UKtYJ4zEs7fmuu8Qu8vU3xEK12EqlXJV0FZIgTe6QhAOcx/kUEKxYUhVZGX8Oft/sX9sNudz2zHXW13wCm6B71m4F6AiwyuECnhj7mtjxQdUKPcrQdStCELoEZtnNO6ZwiuGU8Xr4wE/HwzgJVDY19T49cOlzA9jsk/EC0iQMQ/cM+9C8MIngOjLDjj0o5oGrzVZBWsBa8TA78Cgnznh3QQe6we9j0cpPnTe1IYG4kgIZR5273mvCdIohg6G6TzI5O32T4ABAPsBS28k7apdAAAAAElFTkSuQmCC">':'<img style="width:25px; height:25px; border:0" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48Y2lyY2xlIGZpbGw9IiM2NjY2NjYiIGN4PSIyMDAuMTM5IiBjeT0iMTk5Ljg2IiByPSIxOTcuODYiLz48cGF0aCBmaWxsPSIjRjBGMEYwIiBzdHJva2U9IiNGMEYwRjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTExNC44NjUsMzAzLjY0NGMtNi4yMjYsNi4yMjctMTUuMzYzLDcuMTg2LTIwLjQwNywyLjE0NGwtMC41MjItMC41MjJjLTUuMDQzLTUuMDQzLTQuMDgzLTE0LjE4LDIuMTQ0LTIwLjQwN0wyODQuODYsOTYuMDc4YzYuMjI2LTYuMjI3LDE1LjM2Mi03LjE4NiwyMC40MDUtMi4xNDRsMC41MjIsMC41MjFjNS4wNDMsNS4wNDIsNC4wODMsMTQuMTc5LTIuMTQ0LDIwLjQwOEwxMTQuODY1LDMwMy42NDR6Ii8+PHBhdGggZmlsbD0iI0YwRjBGMCIgc3Ryb2tlPSIjRjBGMEYwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0zMDcuODE5LDI4OC42NjZjNS4xNTMsNS4xNTgsNS4wNDgsMTMuNjI0LTAuMjQxLDE4LjkxMWwwLDBjLTUuMjg4LDUuMjg5LTEzLjc1Miw1LjM5My0xOC45MDksMC4yNEw5MS45MDYsMTExLjA1NWMtNS4xNTYtNS4xNTYtNS4wNDgtMTMuNjIzLDAuMjQtMTguOTFsMCwwYzUuMjktNS4yODksMTMuNzU1LTUuMzk2LDE4LjkxMS0wLjI0MUwzMDcuODE5LDI4OC42NjZ6Ii8+PC9zdmc+">'}}},_onWindowMessageReceived:function(e){if(this.defaultAdElement&&(e.source===this.defaultAdElement.contentWindow||!!this.expandedAdElement&&e.source===this.expandedAdElement.contentWindow)){this.log("_onWindowMessageReceived, event.data:"+e.data+", event.origin:"+e.origin);var t=e.data.toString().split(":");if(t&&2<=t.length&&"fwsdk-invoke"===t[0]){var n=t[1];if((t=t.slice(2))&&0<t.length){for(var i=0;i<t.length;i++)t[i]=decodeURIComponent(t[i]);1===t.length&&(t=t[0])}else t=null;"iframe_ready"===n?(this.onLoadFunc&&e.source===this.defaultAdElement.contentWindow&&this.defaultAdElement!==this.expandedAdElement&&this.onLoadFunc(),t&&(t=a.Util.trim(t))&&this.isMRAIDAd&&(this.mraid.baseUrl=t),this.bootstrap&&e.source.postMessage("fwsdk-bounce:"+this.bootstrap,e.origin),e.source.postMessage('fwsdk-bounce:mraid._messagingModel = "postMessage"',e.origin),this.isMRAIDAd&&(e.source===this.defaultAdElement.contentWindow&&this.shouldPauseContentWhenStart&&this.rendererController.requestContentStateChange(!0),this.mraid.inLoadingState()?this.mraid.state=this.mraid.STATEDEFAULT:this.expandedAdElement&&e.source===this.expandedAdElement.contentWindow&&this.mraid.pushData())):this.isMRAIDAd?this._mraidMethods(n,t):"close"===n&&this.stop()}}},_mraidMethods:function(e,t){if(e&&this.isMRAIDAd)switch(this.log("_mraidMethods("+e+", "+t+")"),e){case"open":"string"==typeof t?this._mraidOpen(t):2<=t.length&&this._mraidOpen(t[0],a.Util.str2bool(t[1]));break;case"close":this._mraidClose();break;case"expand":this._mraidExpand(t);break;case"useCustomClose":t&&0<t.length?this.mraid.useCustomClose=a.Util.str2bool(t):this.warn("Invalid parameter to useCustomClose");break;case"setExpandProperties":if(!t)break;this.requestedExpandWidth=Number(t[0]),this.requestedExpandHeight=Number(t[1]),this.requestedExpandWidth&&this.requestedExpandHeight&&(this.requestedExpandWidth!==this.defaultExpandWidth||this.requestedExpandHeight!==this.defaultExpandHeight)||(this.requestedExpandHeight=this.requestedExpandWidth=0),this.mraid.useCustomClose=a.Util.str2bool(t[2]),(this.requestedExpandWidth!==this.mraid.expandWidth||this.requestedExpandHeight!==this.mraid.expandHeight)&&this.mraid.pushData();break;case"log":this.log("MRAID log:"+t);break;default:this.warn("Unknown MRAID function call: "+e+" with param:"+t)}},_mraidOpen:function(e,t){this.log("_mraidOpen("+e+"), baseUrl:"+this.mraid.baseUrl+", absolute Url"+(e=a.Util.getAbsoluteUrl(this.mraid.baseUrl,e)));var n=this.rendererController;n.getAdInstance(),e&&"string"==typeof e&&0<e.length?((t||"undefined"==typeof t)&&window.open(e),n.processEvent({name:a.EVENT_AD_CLICK,info:{showBrowser:!1,url:e}})):this.warn("_mraidOpen: url required for open")},_mraidClose:function(){if(this.log("_mraidClose, current state: "+this.mraid.state),this.mraid.inExpandedState()){window.removeEventListener&&document.removeEventListener("touchmove",this.touchMoveDisabler,!1);var e=this.expandedAdElement,t=this.expandedAdElement._fw_closeButton;this.expandedAdElement._fw_closeButton=null;var n=this.expandedAdElement.parentNode;this.mraid.state=this.mraid.STATEDEFAULT,this.expandedLightbox&&(n.removeChild(this.expandedLightbox),this.expandedLightbox=null),e!==this.defaultAdElement&&(e.style.display="hidden",window.setTimeout(function(){n.removeChild(e)},50)),n.removeChild(t)}else this.mraid.inDefaultState()?this.mraid.state=this.mraid.STATEHIDDEN:this.warn("_mraidClose: close() is only valid when in expanded/default state")},_mraidExpand:function(e){if(this.log("_mraidExpand, current state: "+this.mraid.state),this.mraid.inDefaultState())if(this.shouldKeepInterstitial)this.warn("_mraidExpand: expand() is only valid for inline ad");else{if(e){var t=document.createElement("iframe");this.shouldBackgroundTransparent&&(t.allowTransparency="true",t.style["background-color"]="rgba(255,255,255,0)"),(this.defaultAdElementContainer||this.defaultAdElement.parentNode).appendChild(t),this.expandedAdElement=t,this.log("_mraidExpand("+e+"), baseUrl:"+this.mraid.baseUrl+", absolute Url"+(e=a.Util.getAbsoluteUrl(this.mraid.baseUrl,e))),this._fillAdNode(t,e,null)}this.mraid.state=this.mraid.STATEEXPANDED,this.isInterstitialNow=!0,this._onViewportResizeScroll()}else this.warn("_mraidExpand: expand() is only valid when in default state")},_onViewportResizeScroll:function(){var e=a.Util.getViewport();this.defaultExpandWidth=e.width,this.defaultExpandHeight=e.height,this.isInterstitialNow&&this.presentInterstitial()},log:function(e){var t=this.rendererController.getAdInstance().getSlot();a.log("HTMLRenderer["+t+"]\t"+e)},warn:function(e){var t=this.rendererController.getAdInstance().getSlot();a.warn("HTMLRenderer["+t+"]\t"+e)},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return this.timer?this.timer.getPlayheadTime():-1},getDuration:function(){return this.timer?this.timer.getDuration():-1}},a.HTMLRenderer.prototype.constructor=a.HTMLRenderer,a.Ad=function(){var e=null,t=[],n=!1,i=null,o=!1;return{isRequiredToShow:function(){return o},parse:function(s){if(s){e=s.adId||null,n=s.noLoad,i=s.adUnit,s.hasOwnProperty("required")&&(o=s.required);for(var r=0,s=s.creatives||[];r<s.length;r++){var l=s[r],c=new a.Creative;c.parse(l),t.push(c)}}},getSoAdUnit:function(){return i},getId:function(){return e},getNoLoad:function(){return n},getCreative:function(e){for(var n=0;n<t.length;n++)if(t[n].getId()===e)return t[n];return null},addCreativeRendition:function(){var e=new a.Creative;return t.push(e),e}}},a.Creative=function(){var e=null,t=null,n=null,i={},o=[];return{getId:function(){return e},getBaseUnit:function(){return t},getDuration:function(){return n},getParameter:function(e){return i[e]},setParameter:function(e,t){null==t?delete i[e]:i[e]=t},parse:function(s){if(s){e=s.creativeId||null,t=s.baseUnit||null,n=1*s.duration;var r;if(s.parameters)if(s.parameters.constructor===Array)for(var l=0,c=s.parameters||[];l<c.length;l++)r=c[l],i[r.name]=r.value;else"object"==typeof s.parameters&&(i=a.Util.copy(s.parameters));for(l=0,c=s.creativeRenditions||[];l<c.length;l++)r=c[l],s=new a.CreativeRendition,s.parse(r),s.setDuration(n),s.setBaseUnit(t),o.push(s)}},getAllCreativeRenditions:function(){return o},cloneForTranslation:function(){var o=new a.Creative;return o.parse({creativeId:e,baseUnit:t,duration:n,parameters:a.Util.copy(i)}),o}}},a.CreativeRendition=function(){var e=null,t="None",n=null,i=null,o=null,s=null,r=null,l=null,c=null,u=null,d={},p=null,h=[],f=null;return{getId:function(){return e},getCreativeApi:function(){return t},setCreativeApi:function(e){t=e||"None"},getReplicaId:function(){return i},getContentType:function(){return o?o:p&&p.getContentType()?p.getContentType():null},setContentType:function(e){o=e},getWrapperType:function(){return s},setWrapperType:function(e){s=e},getWrapperUrl:function(){return r},setWrapperUrl:function(e){r=e},getBaseUnit:function(){return n},setBaseUnit:function(e){n=e},getPreference:function(){return l},setPreference:function(e){l=e},getWidth:function(){return c},setWidth:function(e){c=e},getHeight:function(){return u},setHeight:function(e){u=e},getDuration:function(){return f},setDuration:function(e){f=e},getParameter:function(e){return d[e]},setParameter:function(e,t){null==t?delete d[e]:d[e]=t},getPrimaryCreativeRenditionAsset:function(){return p},getOtherCreativeRenditionAssets:function(){return h.slice()},addCreativeRenditionAsset:function(e,t){var n=new a.CreativeRenditionAsset;return n.setName(e),t?p=n:h.push(n),n},parse:function(n){if(n){e=n.creativeRenditionId||null,t=n.creativeApi||"None",i=n.hasOwnProperty("adReplicaId")?1*n.adReplicaId:-1,o=n.contentType||null,s=n.wrapperType||null,r=n.wrapperUrl||null,l=1*n.preference,c=1*n.width,u=1*n.height;for(var f,v=0,m=n.parameters||[];v<m.length;v++)f=m[v],d[f.name]=f.value;for(p=new a.CreativeRenditionAsset,p.parse(n.asset),v=0,m=n.otherAssets||[];v<m.length;v++)f=m[v],n=new a.CreativeRenditionAsset,n.parse(f),h.push(n)}}}},a.CreativeRenditionAsset=function(){var e=null,t=null,n=null,i=null,o=null,s=null;return{getName:function(){return e},setName:function(t){e=t},getUrl:function(){return t},setUrl:function(e){t=e},getContent:function(){return n},setContent:function(e){n=e},getContentType:function(){return i},setContentType:function(e){i=e},getMimeType:function(){return o},setMimeType:function(e){o=e},getBytes:function(){return s},setBytes:function(e){s=e},parse:function(r){r&&(e=r.name||null,t=r.url||null,n=r.content||null,i=r.contentType||null,o=r.mimeType||null,s=1*r.bytes)}}},a.AdControlExtension=function(e){this._context=e,this._currentSlot=this._dragEvent=this._clickEvent=this._targetElement=null,this._dragging=!1},a.AdControlExtension.prototype={start:function(){this._clickEvent||(this._clickEvent=a.PLATFORM_EVENT_CLICK,this._dragEvent=a.MOBILE_EVENT_DRAG),this._onAdClicked=a.Util.bind(this,function(){a.log("AdControlExtension","clicked on target element: "+this._targetElement.id);var e=this._currentSlot?this._currentSlot.getCurrentAdInstance():null;e&&"VPAID"==e.getActiveCreativeRendition().getCreativeApi()||(this._dragging?this._dragging=!1:this._currentSlot&&this._currentSlot.getCurrentAdInstance()&&this._currentSlot.getCurrentAdInstance().getRendererController().processEvent({name:a.EVENT_AD_CLICK}))}),this._onAdDragged=a.Util.bind(this,function(){a.log("AdControlExtension","dragging target element: "+this._targetElement.id),this._dragging=!0}),this._onSlotStarted=a.Util.bind(this,function(e){e.slot&&this._isTargetSlot(e.slot)&&(this._clearListener(),this._attachListener(e.slot))}),this._onSlotEnded=a.Util.bind(this,function(e){e.slot&&this._isTargetSlot(e.slot)&&(this._targetElement&&(this._targetElement.style.visibility="hidden"),this._clearListener())}),this._onAdStarted=a.Util.bind(this,function(e){(e=e.adInstance)&&this._isTargetSlot(e.getSlot())&&this._targetElement&&"VPAID"!=e.getActiveCreativeRendition().getCreativeApi()&&(this._targetElement.style.visibility=0<e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK).length?"":"hidden")}),this._context.addEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.addEventListener(a.EVENT_SLOT_STARTED,this._onSlotStarted),this._context.addEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted),this._targetElement&&(this._targetElement.style.visibility="hidden")},_onAdClicked:function(){},_onSlotStarted:function(){},_onSlotEnded:function(){},_attachListener:function(e){a.debug("AdControlExtension._attachListener");var t=this._context.getParameter(a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT);t&&((this._targetElement=document.getElementById(t))?(this._currentSlot=e,this._targetElement.addEventListener(this._clickEvent,this._onAdClicked,!1),this._targetElement.addEventListener(this._dragEvent,this._onAdDragged,!1)):a.warn("Attempted to process click/tap via PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT specified html element: '"+t+"'. The specified element is not available on the current HTML page."))},_clearListener:function(){this._targetElement&&(this._targetElement.removeEventListener(this._clickEvent,this._onAdClicked,!1),this._targetElement.removeEventListener(this._dragEvent,this._onAdDragged,!1),
this._targetElement=null),this._currentSlot=null},_isTargetSlot:function(e){return e.getType()===a.SLOT_TYPE_TEMPORAL&&e.getTimePositionClass()!==a.TIME_POSITION_CLASS_OVERLAY},dispose:function(){a.log("AdControlExtension.dispose()"),this._clearListener(),this._onAdClicked=null,this._context.removeEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.removeEventListener(a.EVENT_SLOT_STARTED,this._onSlotStarted),this._context.removeEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted),this._onAdStarted=this._onSlotEnded=this._onSlotStarted=null}},a.AdControlExtension.prototype.constructor=a.AdControlExtension,a.AdInstance=function(e){this._context=e,this._primaryCreativeRendition=this._creative=this._replicaId=this._creativeRenditionId=this._creativeId=this._soAdUnit=this._adId=this._slot=null,this._creativeRenditions=[],this._noLoad=!1,this._companionAdInstances=[],this._eventCallbacks=[],this._externalEventCallbackUrlsDictionary={},this._rendererController=new a.RendererController(e,this),this._timer=new a.Timer,this._metr=0,this._state=a.MediaInitState.instance,this._isStartSuccessfully=this._translated=this._isImpressionSent=!1,this._lastDurationFromRenderer=-1,this._slotCustomId=this._parentAdInstancesGroup=null},a.AdInstance.prototype={},a.AdInstance.prototype.constructor=a.AdInstance,a.METR_MASK_QUARTILE=0,a.METR_MASK_MIDPOINT=1,a.METR_MASK_COMPLETE=2,a.METR_MASK_VOLUME=3,a.METR_MASK_SIZE=4,a.METR_MASK_CONTROL=5,a.METR_MASK_REWIND=6,a.METR_MASK_ACCEPT_INVITATION=7,a.METR_MASK_CLOSE=8,a.METR_MASK_MINIMIZE=9,a.METR_MASK_CLICK=10,a.AdInstance._metrDictionary={},a.AdInstance._metrDictionary[a.EVENT_AD_FIRST_QUARTILE]=a.AdInstance._metrDictionary[a.EVENT_AD_THIRD_QUARTILE]=a.AdInstance._metrDictionary[a.EVENT_AD_QUARTILE]=1<<a.METR_MASK_QUARTILE|1<<a.METR_MASK_MIDPOINT|1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_MIDPOINT]=1<<a.METR_MASK_MIDPOINT|1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_COMPLETE]=1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_MUTE]=1<<a.METR_MASK_VOLUME,a.AdInstance._metrDictionary[a.EVENT_AD_UNMUTE]=1<<a.METR_MASK_VOLUME,a.AdInstance._metrDictionary[a.EVENT_AD_COLLAPSE]=1<<a.METR_MASK_SIZE,a.AdInstance._metrDictionary[a.EVENT_AD_EXPAND]=1<<a.METR_MASK_SIZE,a.AdInstance._metrDictionary[a.EVENT_AD_PAUSE]=1<<a.METR_MASK_CONTROL,a.AdInstance._metrDictionary[a.EVENT_AD_RESUME]=1<<a.METR_MASK_CONTROL,a.AdInstance._metrDictionary[a.EVENT_AD_REWIND]=1<<a.METR_MASK_REWIND,a.AdInstance._metrDictionary[a.EVENT_AD_ACCEPT_INVITATION]=1<<a.METR_MASK_ACCEPT_INVITATION,a.AdInstance._metrDictionary[a.EVENT_AD_CLOSE]=1<<a.METR_MASK_CLOSE,a.AdInstance._metrDictionary[a.EVENT_AD_MINIMIZE]=1<<a.METR_MASK_MINIMIZE,a.AdInstance._metrDictionary[a.EVENT_AD_CLICK]=1<<a.METR_MASK_CLICK,a.Util.mixin(a.AdInstance.prototype,{getAdId:function(){return this._adId},getSoAdUnit:function(){return this._soAdUnit},getEventCallbackUrls:function(e,t){var n=[],i=t===a.EVENT_TYPE_CLICK,o=t===a.EVENT_TYPE_CLICK_TRACKING,s=a.EventCallback.getEventCallback(this._eventCallbacks,e,o?a.EVENT_TYPE_CLICK:t);if(!s)return n;var r={};return r[a.INFO_KEY_NEED_EMPTY_CT]=!0,i?s._showBrowser&&n.push(s.getUrl(r)):o?s._showBrowser||n.push(s.getUrl(r)):n.push(s.getUrl(r)),i||(n=n.concat(s.getTrackingUrls())),n},addEventCallbackUrls:function(e,t,n){n&&this._isValidEventNameAndType(e,t)&&(this._externalEventCallbackUrlsDictionary[t+"-"+e]=this.getExternalEventCallbackUrls(e,t).concat(n||[]))},setClickThroughUrl:function(e,t){if(t&&this._isValidEventNameAndType(e,a.EVENT_TYPE_CLICK)){var n=this.getEventCallback(e,a.EVENT_TYPE_CLICK);n&&(a.Util.isParameterInURL(n._url,a.URL_PARAMETER_KEY_CR)||(n._url=n._url+"&"+a.URL_PARAMETER_KEY_CR+"="),n._url=a.Util.setParameterInURL(n._url,a.URL_PARAMETER_KEY_CR,t),n._showBrowser=!0)}},addCreativeRendition:function(){var e=new a.CreativeRendition;return e.parse({creativeRenditionId:this._creativeRenditionId,preference:0}),e.setBaseUnit(this._creative.getBaseUnit()),e.setDuration(this._creative.getDuration()),this._creativeRenditions.push(e),this.isPlaceholder()&&(this._noLoad=!1),e},getRendererController:function(){return this._rendererController},getSlot:function(){return this._slot||(this._slot=this._context._adResponse.getSlotByCustomId(this._slotCustomId)),this._slot},getCompanionSlots:function(){for(var e=[],t=0;t<this._companionAdInstances.length;t++)e.push(this._companionAdInstances[t]._slot);return e},getCreativeRendition:function(e,t){for(var n=null,i=0,o=this._creativeRenditions||[];i<o.length;i++)if(o[i].getId()===e){if(o[i].getReplicaId()===t)return o[i];(!n||o[i].getReplicaId()<n.getReplicaId())&&(n=o[i])}return n},getActiveCreativeRendition:function(){return this._primaryCreativeRendition},setActiveCreativeRendition:function(e){e?(-1==this._creativeRenditions.indexOf(e)&&this._creativeRenditions.push(cr),this._primaryCreativeRendition=e,this._creativeRenditionId=e.getId()):a.warn("AdInstance.setActiveCreativeRendition","rendition is null")},getAllCreativeRenditions:function(){var e=this._creativeRenditions.slice();e.sort(function(e,t){return t.getPreference()-e.getPreference()});var t=e.indexOf(this._primaryCreativeRendition);return t>-1&&(e.splice(t,1),e.unshift(this._primaryCreativeRendition)),e},getRenderableCreativeRenditions:function(){var e=this._creativeRenditions.slice().sort(function(e,t){return t.getPreference()-e.getPreference()}).filter(function(e){return this._rendererController.rendererMatch(e)},this),t=e.indexOf(this._primaryCreativeRendition);return t>-1&&(e.splice(t,1),e.unshift(this._primaryCreativeRendition)),e},getPlayheadTime:function(){var e=-1;if(this._rendererController.getRenderer()&&"function"==typeof this._rendererController.getRenderer().getPlayheadTime)try{e=this._rendererController.getRenderer().getPlayheadTime()}catch(e){a.warn("AdInstance.getPlayheadTime",e.description)}return e},getDuration:function(){var e=-1;return this._rendererController.getRenderer()&&"function"==typeof this._rendererController.getRenderer().getDuration&&(this._lastDurationFromRenderer=e=this._rendererController.getRenderer().getDuration()),-1===e&&(e=-1<this._lastDurationFromRenderer?this._lastDurationFromRenderer:this.getActiveCreativeRendition().getDuration()),e},parse:function(e){if(e){this._adId=e.adId,this._creativeId=e.creativeId,this._creativeRenditionId=e.creativeRenditionId,this._replicaId=e.hasOwnProperty("replicaId")?1*e.replicaId:-1,this._noLoad=this._context._adResponse.getAd(this._adId).getNoLoad(),this._soAdUnit=this._context._adResponse.getAd(this._adId).getSoAdUnit(),this._creative=this._context._adResponse.getCreative(this._adId,this._creativeId),this._creativeRenditions=this._creative.getAllCreativeRenditions();for(var t,n=0,i=e.eventCallbacks||[];n<i.length;n++){t=i[n];var o=a.EventCallback.newEventCallback(this._context,t.name,t.type);o&&(o._adInstance=this,o.parse(t),this._eventCallbacks.push(o))}for(n=0,i=e.companionAds||[];n<i.length;++n)(t=i[n])&&t.adSlotCustomId&&(o=new a.AdInstance(this._context),o._slotCustomId=t.adSlotCustomId,o.parse(t),this._companionAdInstances.push(o));for(n=0,i=e.fallbackAds||[];n<i.length;++n)t=i[n],o=new a.AdInstance(this._context),this._parentAdInstancesGroup.push(o),o._slot=this._slot,o._parentAdInstancesGroup=this._parentAdInstancesGroup,o.parse(t);this._primaryCreativeRendition=this.getCreativeRendition(this._creativeRenditionId,this._replicaId)}},play:function(){if(a.log("AdInstance.play "+this._slotCustomId),this._timer.tick(),this.processEvent(a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION),this._isStartSuccessfully||(a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(a.EVENT_AD_IMPRESSION,{adInstance:this,slotCustomId:this._slotCustomId}),this._isStartSuccessfully=!0),this._state.play(this),this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]===a.MODULE_TYPE_RENDERER)for(var e=0;e<this._companionAdInstances.length;e++)this._companionAdInstances[e].isPlaceholder()||this._companionAdInstances[e].getSlot().playCompanionAds(this._companionAdInstances[e])},stop:function(){a.log("AdInstance.stop"),this._rendererController.stop()},fakeComplete:function(){this._slot.getTimePositionClass()===a.TIME_POSITION_CLASS_DISPLAY&&(this._isStartSuccessfully=!1,this._slot.playNextAdInstance())},complete:function(){this._isStartSuccessfully&&(this.processEvent(a.EVENT_AD_IMPRESSION_END,a.EVENT_TYPE_IMPRESSION),a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(a.EVENT_AD_IMPRESSION_END,{adInstance:this})),this._state.complete(this),this._rendererController._restorePlaceholdersForHybrid(),this._rendererController.setRenderer(null),this._isStartSuccessfully=!1,this._slot.playNextAdInstance()},isStarted:function(){return this._isStartSuccessfully},onStartPlaying:function(){a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]?this._isImpressionSent=!0:this._translated=!0},onCompletePlaying:function(){},onStartReplaying:function(){},onCompleteReplaying:function(){},getEventCallback:function(e,t){return a.EventCallback.getEventCallback(this._eventCallbacks,e,t)},processEvent:function(e,t,n){var i=!0,t=this.getEventCallback(e,t);return e===a.EVENT_AD_IMPRESSION&&this._isStartSuccessfully&&(t=this.getEventCallback(a.EVENT_ERROR,a.EVENT_TYPE_ERROR),n={errorInfo:"Trying to send defaultImpression multiple times"},i=!1),t?t.process(n):i=!1,e===a.EVENT_AD_CLICK&&this._context.dispatchEvent(a.EVENT_AD_CLICK,{adInstance:this}),(e!=a.EVENT_AD_IMPRESSION&&e!=a.EVENT_AD_IMPRESSION_END||a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE])&&this._context.dispatchEvent(a.EVENT_AD,{subType:e,adInstance:this,slot:this._slot}),i},setMetr:function(e,t){var n=a.AdInstance._metrDictionary[e];n&&(e===a.EVENT_AD_CLICK&&(t=!t),this._metr=t===a.CAPABILITY_STATUS_ON||!0===t?this._metr|n:this._metr&~n)},getExternalEventCallbackUrls:function(e,t){return(this._externalEventCallbackUrlsDictionary[t+"-"+e]||[]).slice()},reset:function(){this._rendererController.reset();for(var e=0;e<this._companionAdInstances.length;e++){var t=this._companionAdInstances[e];(t._state===a.MediaPlayingState.instance||t._state===a.MediaReplayingState.instance)&&t.stop(),t._rendererController.reset()}},cloneForTranslation:function(){var e=new a.AdInstance(this._context);e._parent=this,e._adId=this._adId,e._creativeId=this._creativeId,e._creative=this._creative.cloneForTranslation(),e._creativeRenditionId=this._creativeRenditionId,e._noLoad=this._noLoad,e._slot=this.getSlot(),e._soAdUnit=this.getSoAdUnit();for(var t=0;t<this._eventCallbacks.length;t++){var n=this._eventCallbacks[t].copy();n._adInstance=e,e._eventCallbacks.push(n)}for(e._externalEventCallbackUrlsDictionary=a.Util.copy(this._externalEventCallbackUrlsDictionary),t=0;t<this._companionAdInstances.length;t++)this._companionAdInstances[t].isPlaceholder()?e._companionAdInstances.push(this._companionAdInstances[t].cloneForTranslation()):e._companionAdInstances.push(this._companionAdInstances[t]);return e},isPlaceholder:function(){return this._noLoad},setMediaState:function(e){this._state=e},_isValidEventNameAndType:function(e,t){return!a.Util.isBlank(e)&&!a.Util.isBlank(t)&&(t===a.EVENT_TYPE_CLICK||t===a.EVENT_TYPE_CLICK_TRACKING||t===a.EVENT_TYPE_IMPRESSION&&(e===a.EVENT_AD_IMPRESSION||e===a.EVENT_AD_FIRST_QUARTILE||e===a.EVENT_AD_MIDPOINT||e===a.EVENT_AD_THIRD_QUARTILE||e===a.EVENT_AD_COMPLETE)||t===a.EVENT_TYPE_STANDARD&&(e===a.EVENT_AD_PAUSE||e===a.EVENT_AD_RESUME||e===a.EVENT_AD_REWIND||e===a.EVENT_AD_MUTE||e===a.EVENT_AD_UNMUTE||e===a.EVENT_AD_COLLAPSE||e===a.EVENT_AD_EXPAND||e===a.EVENT_AD_MINIMIZE||e===a.EVENT_AD_CLOSE||e===a.EVENT_AD_ACCEPT_INVITATION)||t===a.EVENT_TYPE_ERROR&&e===a.EVENT_ERROR)},isPlayable:function(){var e;return(e=!(this._rendererController.getRendererState()==a.RendererFailedState.instance&&!this._isImpressionSent))?((e=e&&!this._translated)||a.debug("AdInstance.isPlayable returning false translated:",this._translated),e):(a.debug("AdInstance.isPlayable returning false isImpressionSent:",this._isImpressionSent),e)},toString:function(){return"[AdInstance "+this._adId+"]"},getCompanionAdInstances:function(){for(var e=[],t=0;t<this._companionAdInstances.length;++t)this._companionAdInstances[t].isPlaceholder()||e.push(this._companionAdInstances[t]);return e},isRequiredToShow:function(){return this._context._adResponse.getAd(this._adId).isRequiredToShow()}}),a.AdManager=function(){var e=this;this._context=this.newContext(),this._context.addEventListener(a.EVENT_REQUEST_COMPLETE,function(t){e.onRequestComplete(t)}),this._networkId=this._serverURL="",this._onRequestComplete=this._location=null},a.AdManager.prototype={getVersion:function(){if(a.version){var e=a.version.match(/^js-(\d)\.(\d)\.(\d).(\d)/)||a.version.match(/^js-(\d)\.(\d)\.(\d)/)||a.version.match(/^js-(\d)\.(\d)/);if(0<e.length)return(e[1]<<24)+(e[2]<<16)+(e[3]<<8)+e[4];if(0===a.versions.indexOf("js-trunk"))return 4294967295}return 0},setNetwork:function(e){if(a.debug("AdManager.setNetwork("+Array.prototype.slice.call(arguments).join(",")+")"),1*e>0){this._networkId=1*e;for(var t in a._instanceQueue)if(a._instanceQueue.hasOwnProperty(t)){var n=a._instanceQueue[t];n&&n._videoAsset._videoPlayPending&&n._videoAsset.play()}}else a.warn("AdManager.setNetwork","valid networkId required")},setServerURL:function(e){a.debug("AdManager.setServerURL("+Array.prototype.slice.call(arguments).join(",")+")"),a.warn("AdManager.setServerURL method is DEPRECATED, use AdManager.setServer instead."),this.setServer(e)},setServer:function(e){if(a.debug("AdManager.setServer("+Array.prototype.slice.call(arguments).join(",")+")"),e&&"string"==typeof e){this._serverURL=e;for(var t in a._instanceQueue)if(a._instanceQueue.hasOwnProperty(t)){var n=a._instanceQueue[t];n&&n._videoAsset._videoPlayPending&&n._videoAsset.play()}}else a.warn("AdManager.setServer","server url required")},setLocation:function(e){a.debug("AdManager.setLocation("+Array.prototype.slice.call(arguments).join(",")+")"),this._location=e},newContext:function(){return a.debug("AdManager.newContext("+Array.prototype.slice.call(arguments).join(",")+")"),new a.Context(this)},setParameter:function(e,t,n){a.debug("AdManager.setParameter("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setParameter(e,t,n)},getParameter:function(e){return this._context.getParameter(e)},submitRequest:function(e,t){a.debug("AdManager.submitRequest()"),e&&"function"==typeof e?this._onRequestComplete=e:a.warn("AdManager.submitRequest(): callback function required"),this._context.submitRequest(t/1e3)},onRequestComplete:function(e){a.debug("AdManager.onRequestComplete("+Array.prototype.slice.call(arguments).join(",")+")"),this._onRequestComplete&&(this._onRequestComplete({success:e.success,response:e.response}),this._onRequestComplete=null)},registerVideoDisplayBase:function(e){a.debug("AdManager.registerVideoDisplayBase("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.registerVideoDisplayBase(e)},setVideoAsset:function(e,t){a.debug("AdManager.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setVideoAsset(e,t)},setSiteSection:function(e){a.debug("AdManager.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setSiteSection(e)},addKeyValue:function(e,t){a.debug("AdManager.addKeyValue("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.addKeyValue(e,t)},setVideoDisplayCompatibleSizes:function(e){a.debug("AdManager.setVideoDisplayCompatibleSizes("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setVideoDisplayCompatibleSizes(e)},playSlots:function(e,t){a.warn("AdManager.playSlots() has DEPRECATED, use tv.freewheel.SDK.Slot.Play() instead"),a.debug("AdManager.playSlots("+e+")"),"string"==typeof e&&(e=e.toUpperCase()),this._playSlots(e,t)},_playSlots:function(e,t){if("function"!=typeof t&&(t=function(){}),this._context._adResponse){for(var n=[],i=this._context.getTemporalSlots(),o=0;o<i.length;++o){var s=i[o];(.1>Math.abs(s.getTimePosition()-e)||e===s.getTimePositionClass())&&n.push(s)}if(0===n.length)a.warn("AdManager.playSlots","no slot matches",e),t();else if(e===a.TIME_POSITION_CLASS_OVERLAY)for(o=0;o<n.length;o++)(function(e){if(!e._onContentVideoTimeUpdate){var t=this._context.getContentVideoElement(),n=e._onContentVideoTimeUpdate=function(){!t.paused&&!0!==t._fw_videoAdPlaying&&0<=t.currentTime-e.getTimePosition()&&1>t.currentTime-e.getTimePosition()&&(t.removeEventListener("timeupdate",n,!1),e._play(function(){var i=setInterval(function(){!t.paused&&2<Math.abs(t.currentTime-e.getTimePosition())&&(t.addEventListener("timeupdate",n,!1),clearInterval(i))},1e3)}))};t.addEventListener("timeupdate",n,!1)}})(n[o]);else(function(){var e=n.shift();e?e._play(arguments.callee):t()})()}else a.warn("AdManager._playSlots","request is not completed"),t()},dispose:function(){a.debug("AdManager.dispose()"),this._context.dispose(),this._onRequestComplete=null},cloneContext:function(e){var t,n=this.newContext(),i=e._adRequest._capabilities._capabilities;for(t in i)i.hasOwnProperty(t)&&n.setCapability(t,i[t]);return n.setProfile(e._adRequest._playerProfile),n.setSiteSection(e._ss_id,e._ss_networkId,e._ss_pageViewRandom,e._ss_idType,e._ss_fallbackId),n.setVideoAsset(e._va_id,e._va_duration,e._va_networkId,e._va_location,e._va_autoPlayType,e._va_viewRandom,e._va_idType,e._va_fallbackId),n.setVisitor(e._adRequest._visitorCustomId),n}},a.AdManager.prototype.constructor=a.AdManager,a.AdRequest=function(e){this._context=e,this._capabilities=new a.Capabilities,this._keyValues=[],this._playerProfile="",this._compatibleDimensions=null,this._temporalSlots=[],this._siteSectionId=this._siteSectionCustomId="",this._siteSectionViewRandom=this._siteSectionFallbackId=this._siteSectionNetworkId=0,this._visitorCustomId="",this._subsessionToken=0,this._slotScanner=new a.PageSlotScanner(e),this._urlParams={},this._urlKeyValues=[],this._customInfo=""},a.AdRequest.prototype={setCapability:function(e,t){this._capabilities.setCapability(e,t)},addKeyValue:function(e,t){if("string"!=typeof e||"string"!=typeof t||0===e.length)a.warn("AdRequest.addKeyValue:","key and value required");else{var n=encodeURIComponent(e)+"="+encodeURIComponent(t);0>this._keyValues.indexOf(n)&&this._keyValues.push(n)}},setProfile:function(e){"string"!=typeof e?a.warn("AdRequest.setProfile:","player profile required"):this._playerProfile=e},setVideoDisplayCompatibleSizes:function(e){if(e&&e.length){for(var t=[],n={},i=0;i<e.length;++i)if(a.debug("dimension is:",e[i].width,"X",e[i].height),0<e[i].width&&0<e[i].height){var o=e[i].width+","+e[i].height;null==n[o]&&(n[o]="",t.push(o))}0<t.length&&(this._compatibleDimensions=t.join("|"))}else a.warn("AdRequest.setVideoDisplayCompatibleSizes:","compatible dimensions required")},setSiteSection:function(e,t,n,i,o){if(e){switch(i){case a.ID_TYPE_FW:this._siteSectionId=e;break;case a.ID_TYPE_GROUP:this._siteSectionId="g"+e;break;default:this._siteSectionCustomId=e}1*t>0&&(this._siteSectionNetworkId=1*t),1*n>0&&(this._siteSectionViewRandom=1*n),1*o>0&&(this._siteSectionFallbackId=1*o)}else a.warn("AdRequest.setSiteSection: id required")},setVisitor:function(e){"string"!=typeof e?a.warn("AdRequest.setVisitor:","customId required"):this._visitorCustomId=e},addTemporalSlot:function(e,t,n,i,o){if(a.Util.isBlank(e)||a.Util.isBlank(t)||0>n)a.warn("AdRequest.addTemporalSlot:","invalid parameters");else{for(var s=0;s<this._temporalSlots.length;s++)if(this._temporalSlots[s].getCustomId()===e)return void a.warn("AdRequest.addTemporalSlot:","slot is already existed, ignored");s=new a.Slot(this._context),s.setCustomId(e),s.setAdUnit(t),s.setTimePosition(n),s.setSlotProfile(i),s.setCuepointSequence(1*o),this._temporalSlots.push(s)}},setSubsessionToken:function(e){this._subsessionToken=e},scanPageSlots:function(){this._slotScanner.scanPageSlots()},generateTypeBRequestUrl:function(){var e=this._context._adManager._serverURL.split("?"),t=e[0],n=[/fwmrm\.net$/,/fwmrm\.net\/$/,/fwmrm\.net\/ad$/,/fwmrm\.net\/ad\/$/,/fwmrm\.net\/ad\/g$/,/fwmrm\.net\/ad\/g\/$/,/fwmrm\.net\/ad\/g\/1$/];if(0===t.indexOf("http://")||0===t.indexOf("https://"))for(var i=0;i<n.length;++i)if(t.match(n[i])){t=t.slice(0,t.indexOf("fwmrm.net")+9)+"/ad/g/1";break}return this.parseQueryStr(e.slice(1).join("?")),e=this.generateGlobalParametersQueryStr()+";"+this.generateKeyValuesStr()+";",this._capabilities.getCapability(a.CAPABILITY_SKIP_AD_SELECTION)&&1==this._capabilities.getCapability(a.CAPABILITY_SKIP_AD_SELECTION)||(e+=this.generateSlotsTypeBStr()),a.Util.isBlank(this._customInfo)||(e+=";"+this._customInfo),t+"?"+e},generateVideoViewRequestUrlWithDummyContextInstanceId:function(e){this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_ON),this._context.setCapability(a.CAPABILITY_SKIP_AD_SELECTION,a.CAPABILITY_STATUS_ON);var t=this.generateTypeBRequestUrl(),t=a.Util.setParameterInURL(t,"cbfn","tv.freewheel.SDK._instanceQueue['Context_"+e+"']._videoAsset.requestComplete");return a.debug("generateVideoViewRequestUrlWithDummyContextInstanceId():"+t),this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_UNSET),this._context.setCapability(a.CAPABILITY_SKIP_AD_SELECTION,a.CAPABILITY_STATUS_UNSET),t},parseQueryStr:function(e){if(a.debug("AdRequest.parseQueryStr("+Array.prototype.slice.call(arguments).join(",")+")"),this._urlParams={},this._urlKeyValues=[],this._customInfo="",e){";"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));var t,n,i=e.split(";");if(i[0])for(t=i[0].split("&"),n=0;n<t.length;++n){var o=t[n].split("=");2===o.length&&(this._urlParams[o[0]]=o[1])}if(i[1])for(t=i[1].split("&"),n=0;n<t.length;++n)this._urlKeyValues.push(t[n]);i[2]&&(this._customInfo=i.slice(2).join(";"))}},generateGlobalParametersQueryStr:function(){a.debug("AdRequest.generateGlobalParametersQueryStr");for(var e=this._context.getParameter("wrapperVersion"),e=[["prof",this._playerProfile,"string"],["nw",this._context._adManager._networkId,"number"],["caid",this._context._videoAsset._customId,"string"],["asid",this._context._videoAsset._id,"string"],["vdur",this._context._videoAsset._duration,"number"],["asnw",this._context._videoAsset._networkId,"number"],["asml",this._context._videoAsset._location,"string"],["vprn",this._context._videoAsset._viewRandom,"number"],["afid",this._context._videoAsset._fallbackId,"number"],["csid",this._siteSectionCustomId,"string"],["ssid",this._siteSectionId,"string"],["ssnw",this._siteSectionNetworkId,"number"],["pvrn",this._siteSectionViewRandom,"number"],["sfid",this._siteSectionFallbackId,"number"],["vcid",this._visitorCustomId,"string"],["ssto",this._subsessionToken,"number"],["cd",this._compatibleDimensions||this.detectScreenDimension(),"string"],["vclr",a.version+(e?","+e:""),"string"],["resp",a.PLATFORM_SEND_REQUEST_BY_FORM?"json2":"json","string"],["orig",window.location.protocol+"//"+window.location.host,"string"],["cbfn","tv.freewheel.SDK._instanceQueue['Context_"+this._context._instanceId+"'].requestComplete","string"]],t=0;t<e.length;t++){var n=e[t];switch(n[2]){case"string":a.Util.isBlank(n[1])||(this._urlParams[n[0]]=encodeURIComponent(n[1]));break;case"number":0<n[1]&&(this._urlParams[n[0]]=n[1])}}var i,e="";for(i in this._urlParams)this._urlParams.hasOwnProperty(i)&&(e+=i+"="+this._urlParams[i]+"&");switch(e=e.substring(0,e.length-1),0<this._slotScanner._candidateAds.length&&(null==this._capabilities._capabilities[a.CAPABILITY_CHECK_COMPANION]&&this._capabilities.setCapability(a.CAPABILITY_CHECK_COMPANION,a.CAPABILITY_STATUS_ON),null==this._capabilities._capabilities[a.CAPABILITY_CHECK_TARGETING]&&this._capabilities.setCapability(a.CAPABILITY_CHECK_TARGETING,a.CAPABILITY_STATUS_OFF)),!this._context._videoAsset._eventCallback&&!this._context._videoAsset._requestedVideoViewUrl&&(this._context._videoAsset._id||this._context._videoAsset._customId)&&this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_ON),this._capabilities._capabilities[a.CAPABILITY_DISPLAY_REFRESH]&&this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_OFF),e=this._capabilities.parseCapabilities(e),this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_UNSET),i="",this._context._videoAsset._autoPlayType){case a.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED:i="+play+uapl";break;case a.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE:i="-play";break;default:i="+play-uapl"}return e=e.replace(/flag=/,"flag="+encodeURIComponent(i))},generateKeyValuesStr:function(){a.debug("AdRequest.generateKeyValuesStr");for(var e=a.Util.flashVersion(),e=this._keyValues.concat(["_fw_h_x_flash_version="+encodeURIComponent(e),"_fw_dpr="+(void 0===window.devicePixelRatio?"1":window.devicePixelRatio.toFixed(2).toString())]),t=0;t<this._urlKeyValues.length;t++){var n=this._urlKeyValues[t];0>e.indexOf(n)&&e.push(n)}return(t=this._context._adManager._location)&&e.push("ltlg="+encodeURIComponent(Math.round(1e4*t.coords.latitude)/1e4+","+Math.round(1e4*t.coords.longitude)/1e4)),e.join("&")},generateSlotsTypeBStr:function(){a.debug("AdRequest.generateSlotsTypeBStr");for(var e="",t=[],n=0;n<this._temporalSlots.length;n++){for(var i=this._temporalSlots[n],i=[["slid",i.getCustomId(),"string"],["slau",i.getAdUnit(),"string"],["ptgt","a","string"],["tpos",i.getTimePosition(),"number"],["cpsq",i.getCuepointSequence(),"number"],["envp",i.getSlotProfile(),"string"]],o=[],s=0;s<i.length;s++){var r=i[s];switch(r[2]){case"string":a.Util.isBlank(r[1])||o.push(r[0]+"="+encodeURIComponent(r[1]));break;case"number":"cpsq"===r[0]?0<r[1]&&o.push(r[0]+"="+r[1]):0<=r[1]&&o.push(r[0]+"="+r[1])}}t.push(o.join("&"))}return 0<t.length&&(e=t.join(";")+";"),e+=this._slotScanner.slotsToTypeBStr()},detectScreenDimension:function(){return a.debug("AdRequest.detectScreenDimension:",screen.width+","+screen.height),screen.width+","+screen.height}},a.AdResponse=function(e){this._context=e},a.AdResponse.prototype={},a.AdResponse.prototype.constructor=a.AdResponse,a.Util.mixin(a.AdResponse.prototype,{parse:function(e,t){this._data=e,this._temporalSlots=[],this._videoPlayerNonTemporalSlots=[],this._siteSectionNonTemporalSlots=[],this._profileParameters={},this._ads=[],this._siteSectionCustomId=a.Util.getObject("siteSection.customId",e)||"",this._adRenderers=[];var n,i,o;for(i=a.Util.getObject("parameters",e)||[],n=0;n<i.length;++n)o=i[n],this._profileParameters[o.name]=o.value;for(this._adRenderers=a.Util.getObject("rendererManifest.adRenderers.adRenderer",e)||[],n=0;n<this._adRenderers.length;n++)"undefined"!=typeof this._adRenderers[n].adUnit&&(this._adRenderers[n].baseUnit=this._adRenderers[n].adUnit,delete this._adRenderers[n].adUnit);for(i=a.Util.getObject("ads.ads",e)||[],n=0;n<i.length;++n)o=new a.Ad(this._context),o.parse(i[n]),this._ads.push(o);for(i=a.Util.getObject("siteSection.videoPlayer.videoAsset.adSlots",e)||[],n=0;n<i.length;++n)o=new a.Slot(this._context),o.setType(a.SLOT_TYPE_TEMPORAL),o.setBase(t),o.parse(i[n]),this._temporalSlots.push(o);for(i=a.Util.getObject("siteSection.videoPlayer.adSlots",e)||[],n=0;n<i.length;++n)o=new a.Slot(this._context),o.setType(a.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL),o.setTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),o.parse(i[n]),this._initSlotData(o),this._videoPlayerNonTemporalSlots.push(o);for(i=a.Util.getObject("siteSection.adSlots",e)||[],n=0;n<i.length;++n)o=new a.Slot(this._context),o.setType(a.SLOT_TYPE_SITESECTION_NONTEMPORAL),o.setTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),o.parse(i[n]),this._initSlotData(o),this._siteSectionNonTemporalSlots.push(o);this._context._videoAsset.parse(a.Util.getObject("siteSection.videoPlayer.videoAsset",e)||{})},getCreativeRendition:function(e,t,n,i){return(e=this.getCreative(e,t))?e.getCreativeRendition(n,i):null},getCreative:function(e,t){var n=this.getAd(e);return n?n.getCreative(t):null},getAd:function(e){for(var t=0;t<this._ads.length;t++){var n=this._ads[t];if(n.getId()===e)return n}return null},getTemporalSlots:function(){return this._temporalSlots},getSiteSectionNonTemporalSlots:function(){return this._siteSectionNonTemporalSlots},getVideoPlayerNonTemporalSlots:function(){return this._videoPlayerNonTemporalSlots},getSiteSectionCustomId:function(){return this._siteSectionCustomId},getSlotByCustomId:function(e){for(var t=0;t<this._temporalSlots.length;++t)if(this._temporalSlots[t].getCustomId()===e)return this._temporalSlots[t];for(t=0;t<this._videoPlayerNonTemporalSlots.length;++t)if(this._videoPlayerNonTemporalSlots[t].getCustomId()===e)return this._videoPlayerNonTemporalSlots[t];for(t=0;t<this._siteSectionNonTemporalSlots.length;++t)if(this._siteSectionNonTemporalSlots[t].getCustomId()===e)return this._siteSectionNonTemporalSlots[t];return a.warn("getSlotByCustomId(): not found",e),null},_initSlotData:function(e){for(var t=!1,n=0;n<this._context._adRequest._slotScanner._knownSlots.length;n++){var i=this._context._adRequest._slotScanner._knownSlots[n];if(e.getCustomId()===i.id&&i.element){e.setWidth(i.width),e.setHeight(i.height),e.setBase(i.element),e.setAcceptCompanion(i.acceptCompanion),e.setInitialAdOption(i.initialAdOption),t=!0;break}}return t||a.warn("Failed to init slot "+e.getCustomId()),t}}),a.Capabilities=function(){this._capabilities={},this.init()},a.Capabilities.prototype={init:function(){for(var e=[a.CAPABILITY_SLOT_TEMPLATE,a.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS,a.CAPABILITY_FALLBACK_UNKNOWN_ASSET,a.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION,a.CAPABILITY_FALLBACK_ADS,a.CAPABILITY_SLOT_CALLBACK,a.CAPABILITY_NULL_CREATIVE,a.CAPABILITY_AUTO_EVENT_TRACKING,a.CAPABILITY_RENDERER_MANIFEST],t=0;t<e.length;t++)this._capabilities[e[t]]=a.CAPABILITY_STATUS_ON},setCapability:function(e,t){this._capabilities[e]=t},getCapability:function(e){return this._capabilities[e]},parseCapabilities:function(e){var t,n="";for(t in this._capabilities)if(this._capabilities.hasOwnProperty(t)){switch(this._capabilities[t]){case a.CAPABILITY_STATUS_ON:n+="+"+t;break;case a.CAPABILITY_STATUS_OFF:n+="-"+t}e=e.replace(RegExp("(%2B|-|\\+)"+t,"g"),"")}return n=encodeURIComponent(n),e=-1<e.indexOf("flag=")?e.replace(/flag=/,"flag="+n):e+("&flag="+n)}},a.ContentVideoExtension=function(e){function t(){a.debug("ContentVideoExtension: EVENT_CONTENT_VIDEO_PAUSE_REQUEST pausing content video",u.src),d=u.currentTime,u.pause()}function n(){if(a.debug("ContentVideoExtension: EVENT_CONTENT_VIDEO_RESUME_REQUEST resume content video",u.src),!c._videoAsset||null!=c._videoAsset._state&&c._videoAsset._state!==a.VIDEO_STATE_COMPLETED){if(a.log("ContentVideoExtension: resume content video"),u.play(),a.PLATFORM_AUTO_SEEK_AFTER_MIDROLL){var e=c.getParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK);null==e&&(e="true"),!1!==a.Util.str2bool(e)&&(p&&(u.removeEventListener("timeupdate",p,!1),p=null),p=function(){if(!(0>=u.currentTime||0>=u.seekable.length)&&(u.removeEventListener("timeupdate",p,!1),p=null,0<u.currentTime&&1>u.currentTime&&d>1)){a.log("ContentVideoExtension: seeking to original time",d);try{u.currentTime=d}catch(e){a.warn("ContentVideoExtension: seek error")}}},u.addEventListener("timeupdate",p,!1))}}else a.warn("ContentVideoExtension: video state is uninitialized or completed, skip resume.")}function i(e){switch(e.slot.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:a.debug("ContentVideoExtension: store current content video src",u.src),h=u.src,f=u.controls,u.paused||u.pause()}}function o(e){switch(e=e.slot.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:a.debug("ContentVideoExtension: restore content video src to",h),u.src!==h&&(u.src=h),u.controls=f,e===a.TIME_POSITION_CLASS_PREROLL&&u.load()}}function s(e,t){var n=c.getParameter(e);
return null==n&&(n=t),a.Util.str2bool(n)}var r=!0,l=!0,c=e,u=e.getContentVideoElement(),d=0,p=null,h=null,f=null;return{start:function(){a.debug("ContentVideoExtension.start()"),r=s(a.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME,!0),l=s(a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!0),r&&(a.debug("ContentVideoExtension: enabling content video pause resume request handling."),c.addEventListener(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,t),c.addEventListener(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,n)),l&&(a.debug("ContentVideoExtension: enabling content video source management."),c.addEventListener(a.EVENT_SLOT_STARTED,i),c.addEventListener(a.EVENT_SLOT_ENDED,o))},dispose:function(){a.debug("ContentVideoExtension.dispose()"),c&&(c.removeEventListener(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,t),c.removeEventListener(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,n),c.removeEventListener(a.EVENT_SLOT_STARTED,i),c.removeEventListener(a.EVENT_SLOT_ENDED,o),u&&p&&(u.removeEventListener("timeupdate",p,!1),p=null),c=null),u=null}}},a._instanceCounter=0,a._instanceQueue={},a.Context=function(e){this._adManager=e,this._adRequest=new a.AdRequest(this),this._adResponse=null,this._videoAsset=new a.VideoAsset(this),this._temporalSlotBase=null,this._videoDisplaySize={},this._globalLevelParameterDictionary={},this._overrideLevelParameterDictionary={},this._rendererManifest={},this._overriddenAdRenderers=[],this._eventDispatcher=new a.EventDispatcher,this._requestState=0,this._adControlExtension=new a.AdControlExtension(this),this._surveyExtension=new a.SurveyExtension(this),this._videoStateExtension=new a.VideoStateExtension(this),this._displayRefreshExtension=new a.DisplayRefreshExtension(this),this._totalSetDisplaySizeCount=this._autoSetDisplaySizeCount=0,this._instanceId=a._instanceCounter,a._instanceQueue["Context_"+a._instanceCounter]=this,a._instanceCounter++,this._contentVideoAttached=!1,this._currentContentPlayheadTime=0,this._ss_id="",this._ss_networkId=this._ss_pageViewRandom=0,this._ss_idType=a.ID_TYPE_CUSTOM,this._ss_fallbackId=0,this._va_location=this._va_networkId=this._va_duration=this._va_id="",this._va_autoPlayType=a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED,this._va_viewRandom=this._va_fallbackId=0,this._va_idType=a.ID_TYPE_CUSTOM,this._isRefreshRequest=!1,this._refreshSlots=[]},a.Context.prototype={addRenderer:function(e,t,n,i,o,s,r){this._overriddenAdRenderers.push({url:e,baseUnit:t,contentType:n,creativeApi:s,slotType:i,soAdUnit:o,parameter:r})},setCapability:function(e,t){a.debug("Context.setCapability",e,t),this._adRequest.setCapability(e,t)},addKeyValue:function(e,t){a.debug("Context.addKeyValue",e,t),this._adRequest.addKeyValue(e,t)},setParameter:function(e,t,n){a.debug("Context.setParameter",e,t,n);var i=null;if(n===a.PARAMETER_LEVEL_GLOBAL)i=this._globalLevelParameterDictionary;else{if(n!==a.PARAMETER_LEVEL_OVERRIDE)return;i=this._overrideLevelParameterDictionary}null==t?delete i[e]:i[e]=t},getParameter:function(e){return e?this._overrideLevelParameterDictionary.hasOwnProperty(e)?this._overrideLevelParameterDictionary[e]:this._adResponse&&this._adResponse._profileParameters.hasOwnProperty(e)?this._adResponse._profileParameters[e]:this._globalLevelParameterDictionary.hasOwnProperty(e)?this._globalLevelParameterDictionary[e]:null:null},setVideoState:function(e){a.debug("Context.setVideoState",e),this._videoAsset.setVideoState(e)},registerVideoDisplayBase:function(e){if(a.debug("Context.registerVideoDisplayBase",e),e&&"string"==typeof e)if(this._temporalSlotBase&&this._temporalSlotBase.id===e){a.debug("Context.registerVideoDisplayBase","register the same display base, will only change size");var t=this._temporalSlotBase.getElementsByTagName("video");this._setVideoDisplaySizeByContentVideo(t[0])}else(this._temporalSlotBase=document.getElementById(e))?(t=this._temporalSlotBase.getElementsByTagName("video"),0===t.length?(a.warn("Context.registerVideoDisplayBase","could not get video element from",e),this._temporalSlotBase=null):(this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=t[0],this._setVideoDisplaySizeByContentVideo(t[0]),this._startContentVideoExtension())):a.warn("Context.registerVideoDisplayBase","could not get element",e);else a.warn("Context.registerVideoDisplayBase","id required")},setContentVideoElement:function(e){a.debug("Context.setContentVideoElement()"),e&&e.parentNode?(this._temporalSlotBase=e.parentNode,this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]===e?(a.debug("Context.setContentVideoElement","set the same video in same div, will only change size"),this._setVideoDisplaySizeByContentVideo(e)):(this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=e,this._setVideoDisplaySizeByContentVideo(e),this._startContentVideoExtension())):a.warn("Context.setContentVideoElement","contentVideo and contentVideo.parentNode is required")},getContentVideoElement:function(){return this._temporalSlotBase?this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]:(a.warn("SlotBase is null"),null)},setVideoDisplaySize:function(e,t,n,i,o){a.debug("Context.setVideoDisplaySize("+Array.prototype.slice.call(arguments).join(",")+")"),this._totalSetDisplaySizeCount++,this._videoDisplaySize={left:e,top:t,width:n,height:i,position:o};for(var s=this.getTemporalSlots(),r=0;r<s.length;++r){var l=s[r];if(l.getState()===a.MediaPlayingState.instance||l.getState()===a.MediaReplayingState.instance){(s=l.getCurrentAdInstance())&&((s=s.getRendererController().getRenderer())&&s.resize?s.resize():a.debug("renderer do not support resize"));break}}},getVideoDisplaySize:function(){function e(e){return e=parseInt(e,10),isNaN(e)&&(e=0),e}return this._videoDisplaySize.left=e(this._videoDisplaySize.left),this._videoDisplaySize.right=e(this._videoDisplaySize.right),this._videoDisplaySize.width=e(this._videoDisplaySize.width),this._videoDisplaySize.height=e(this._videoDisplaySize.height),this._videoDisplaySize},setVideoDisplayCompatibleSizes:function(e){a.debug("Context.setVideoDisplayCompatibleSizes",e),this._adRequest.setVideoDisplayCompatibleSizes(e)},setProfile:function(e){a.debug("Context.setProfile",e),this._adRequest.setProfile(e)},setVideoAsset:function(e,t,n,i,o,s,r,l){a.debug("Context.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")"),this._videoAsset.setVideoAsset(e,t,n,i,o,s,r,l),this._va_id=e,this._va_duration=t,this._va_networkId=n,this._va_location=i,this._va_autoPlayType=o,this._va_viewRandom=s,this._va_idType=r,this._va_fallbackId=l},setSiteSection:function(e,t,n,i,o){a.debug("Context.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.setSiteSection(e,t,n,i,o),this._ss_id=e,this._ss_networkId=t,this._ss_pageViewRandom=n,this._ss_idType=i,this._ss_fallbackId=o},setVisitor:function(e){a.debug("Context.setVisitor("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.setVisitor(e)},startSubsession:function(e){a.debug("Context.startSubsession("+e+")"),this._adRequest.setSubsessionToken(e)},addTemporalSlot:function(e,t,n,i,o){a.debug("Context.addTemporalSlot("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.addTemporalSlot(e,t,n,i,o)},getTemporalSlots:function(){return this._adResponse?this._adResponse._temporalSlots.slice():[]},getSlotByCustomId:function(e){return this._adResponse?this._adResponse.getSlotByCustomId(e):null},getSlotsByTimePositionClass:function(e){var t=[];if(this._adResponse){for(var n=0;n<this._adResponse._temporalSlots.length;n++)this._adResponse._temporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._temporalSlots[n]);for(n=0;n<this._adResponse._siteSectionNonTemporalSlots.length;n++)this._adResponse._siteSectionNonTemporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._siteSectionNonTemporalSlots[n]);for(n=0;n<this._adResponse._videoPlayerNonTemporalSlots.length;n++)this._adResponse._videoPlayerNonTemporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._videoPlayerNonTemporalSlots[n])}return t},submitRequest:function(e){if(a.debug("Context.submitRequest",e),this._requestState)a.warn("Context.submitRequest: request already submitted");else if(a.Util.isBlank(this._adManager._serverURL))a.warn("Context.submitRequest: serverURL is not set");else{if(this._requestState=1,this._adRequest.scanPageSlots(),this._isRefreshRequest){for(var t={},n=[],i=0;i<this._refreshSlots.length;i++){var o=this._refreshSlots[i];if(void 0!=this._adRequest._slotScanner._slots[o]){t[o]=this._adRequest._slotScanner._slots[o];for(var s=t[o].split("&"),r=0;r<s.length;r++)-1!==s[r].search("flag")&&(s[r]="flag=-cmpn");t[o]=s.join("&")}for(r=0;r<this._adRequest._slotScanner._knownSlots.length;r++)this._adRequest._slotScanner._knownSlots[r].id==o&&(s=this._adRequest._slotScanner._knownSlots[r],s.acceptCompanion=!1,s.initialAdOption=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,n.push(s))}this._adRequest._slotScanner._slots=t,this._adRequest._slotScanner._knownSlots=n}this.getParameter(a.PARAMETER_ENABLE_FORM_TRANSPORT)&&(a.debug("Context.submitRequest: enabling Safari transport mechanism globally"),a.PLATFORM_SEND_REQUEST_BY_FORM=!0),t=this._adManager._serverURL,".js"!==t.substring(t.length-3,t.length)&&(t=this._adRequest.generateTypeBRequestUrl());var l=this;("number"!=typeof e||0>=e||!e)&&(e=5),setTimeout(function(){1===l._requestState&&(a.warn("Context.submitRequest: request timeout"),l.requestComplete(null))},1e3*e),a.log("Context.submitRequest: sending request to",t,"timeout",e),a.PLATFORM_SEND_REQUEST_BY_FORM?(a.debug("Context.submitRequest:","use json2"),a.Util.pingURLWithForm(t,this._instanceId,!0),l._onMessagePosted=function(e){"object"==typeof e.data&&e.data.hasOwnProperty("cbfn")&&-1<e.data.cbfn.indexOf("['Context_"+l._instanceId+"']")&&l.requestComplete(e.data.response)},window.addEventListener("message",l._onMessagePosted,!1)):a.Util.pingURLWithScript(t)}},requestComplete:function(e){if(1!==this._requestState)a.warn("ad request complete after timeout"),this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!1});else{if(this._requestState=2,a.debug("Context.requestComplete"),a.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var t=document.getElementById("_fw_request_iframe_"+this._instanceId);document.body.removeChild(t)}if(null!==e){for(this._adControlExtension.start(),this._surveyExtension.start(),this._displayRefreshExtension.start(),a._instanceQueue["Context_"+this._instanceId]=null,this._adResponse=new a.AdResponse(this),this._adResponse.parse(e,this._temporalSlotBase),a.log("Ad request succeeded"),this._videoStateExtension.start(),this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!0,response:e}),t=this._adResponse.getSiteSectionNonTemporalSlots(),e=0;e<t.length;++e)a.log("Auto play site section nonTemporal slots"),t[e].play();for(t=this._adResponse.getVideoPlayerNonTemporalSlots(),e=0;e<t.length;++e)a.log("Auto play video player nonTemporal slots"),t[e].play()}else a.warn("Ad request failed"),this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!1})}},addEventListener:function(e,t){a.debug("Context.addEventListener",e),this._eventDispatcher.addEventListener(e,t)},removeEventListener:function(e,t){a.debug("Context.removeEventListener",e),this._eventDispatcher.removeEventListener(e,t)},dispatchEvent:function(e,t){if(a.log("Context.dispatchEvent",e),e===a.EVENT_SLOT_STARTED){var n=t.slot.getTimePositionClass();n!==a.TIME_POSITION_CLASS_PREROLL&&n!==a.TIME_POSITION_CLASS_MIDROLL&&n!==a.TIME_POSITION_CLASS_POSTROLL||(this._contentVideoAttached=!0,this._markCurrentContentPlayheadTime())}else e===a.EVENT_SLOT_ENDED&&(n=t.slot.getTimePositionClass(),n===a.TIME_POSITION_CLASS_PREROLL||n===a.TIME_POSITION_CLASS_MIDROLL||n===a.TIME_POSITION_CLASS_POSTROLL)&&(this._contentVideoAttached=!1);t=t||{},t.type=e,t.target=this,this._eventDispatcher.dispatchEvent(t)},dispose:function(){if(a.debug("Context.dispose"),this.setVideoState(a.VIDEO_STATE_STOPPED),this._adResponse){if(this._contentVideoExtension&&(this._contentVideoExtension.dispose(),this._contentVideoExtension=null),this._adControlExtension.dispose(),this._surveyExtension.dispose(),this._displayRefreshExtension.dispose(),this._videoStateExtension.dispose(),this._temporalSlotBase){for(var e=0,t=this._adResponse._temporalSlots||[];e<t.length;++e){var n=t[e];if(n._onContentVideoTimeUpdate){var i=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId];i&&i.removeEventListener("timeupdate",n._onContentVideoTimeUpdate,!1),n._onContentVideoTimeUpdate=null}}this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=null}this._isRefreshRequest=!1,this._refreshSlots=[]}},_markCurrentContentPlayheadTime:function(){var e=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime;e>0&&(this._currentContentPlayheadTime=e)},_getContentPlayheadTime:function(){var e=-1;return this._contentVideoAttached||(e=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime),e>0?e:this._currentContentPlayheadTime},_setVideoDisplaySizeByContentVideo:function(e){if(this._autoSetDisplaySizeCount===this._totalSetDisplaySizeCount){var t=e.style.left,n=e.style.top,i=e.offsetWidth?e.offsetWidth:e.style.pixelWidth,o=e.offsetHeight?e.offsetHeight:e.style.pixelHeight,e=e.style.position;this._autoSetDisplaySizeCount++,this.setVideoDisplaySize(t,n,i,o,e)}},_startContentVideoExtension:function(){var e=this.getParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED);null==e&&(e="true"),!1===a.Util.str2bool(e)?a.log("Content Video Extension disabled"):this._temporalSlotBase?(this._contentVideoExtension&&this._contentVideoExtension.dispose(),this._contentVideoExtension=new a.ContentVideoExtension(this),this._contentVideoExtension.start()):a.warn("SlotBase is null")},_replacePageSlot:function(a,c){navigator.userAgent.match(/MSIE/);var d=null!=navigator.userAgent.match(/Firefox/),f=function(){window._fw_admanager&&1==window._fw_admanager.enableDebug&&window.console&&window.console.log&&(window.console.log.apply?window.console.log.apply(window.console,arguments):window.console.log(arguments[0],arguments[1],arguments[2],arguments[3]))};f("fw replace %s",a);var g,h,i;try{g=document.getElementById(a)?document:parent.document.getElementById(a)?parent.document:null,h=document.getElementById(a)?"window":parent.document.getElementById(a)?"parent":null}catch(e){h=g=null}if(!g)for(var j=0;j<window.frames.length;j++)try{window.frames[j].document.getElementById(a)&&(g=window.frames[j].document,h="window.frames["+j+"]")}catch(e){f(e)}if(h&&(i=h+".document"),f("fw replacing slot %s in frame %s",a,i),!g)throw"Slot element not found: "+a;j=g.getElementById("_fw_container_"+a),j.innerHTML=c;for(var j=j.getElementsByTagName("script"),l=g.getElementsByTagName("head")[0],o=0;o<j.length;++o)if(d||j[o].src){var n=g.createElement("script");j[o].charset&&(n.charset=j[o].charset),j[o].src&&(n.src=j[o].src),j[o].innerHTML&&(n.innerHTML=j[o].innerHTML),n.onload=n.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&l.removeChild(n)},f("fw append script for %s",a),l.appendChild(n)}else n=j[o].innerHTML,n=n.replace(/var fw_scope = document;/,"var fw_scope="+i+";"),n=n.replace(/var fw_scope_window = window;/,"var fw_scope_window="+h+";"),f("fw eval in %s for %s, %s",i,a,n),eval(n);f("fw finish replace %s",a)}},a.Context.prototype.constructor=a.Context,a.DisplayRefreshExtension=function(e){this.REFRESH_TYPE_NONE="refresh_none",this.REFRESH_TYPE_AD="refresh_ad",this.REFRESH_TYPE_TIME="refresh_time",this.REPLACE_TYPE_NONE="replace_none",this.REPLACE_TYPE_BLANK="replace_blank",this.REPLACE_TYPE_AD="replace_ad",this._context=e,this._subContext=null,this._displaySlots=[],this._companionSlots=[],this._keyValues=[],this._globalParameters=[],this._overrideParameters=[],this._refreshType=this.REFRESH_TYPE_NONE,this._replaceType=this.REPLACE_TYPE_NONE,this._refreshInterval=0,this._refreshTimer=null,this._firstTemporalAd=!0,this._REQUEST_TIME_OUT=5,this.init()},a.DisplayRefreshExtension.prototype={start:function(){a.debug("DisplayRefreshExtension.start()")},init:function(){a.debug("DisplayRefreshExtension.init()"),this._onRendererEvent=a.Util.bind(this,function(e){a.debug("DisplayRefreshExtension._onRendererEvent()"),e.subType===a.EVENT_AD_IMPRESSION&&this._onAdStarted(e)}),this._onSlotEnded=a.Util.bind(this,function(e){var t=e.slot.getTimePositionClass(),e=e.slot;if(a.debug("DisplayRefreshExtension._onSlotEnded()",e,t),null!=e&&t!=a.TIME_POSITION_CLASS_DISPLAY&&0!=e.getAdInstances().length)if(this._refreshType==this.REFRESH_TYPE_AD)this._resetSubContext(),this._refreshSlots(this._displaySlots);else if(this._refreshType==this.REFRESH_TYPE_TIME){this._resetSubContext(),this._refreshSlots(this._displaySlots);var n=this;this._refreshTimer=setInterval(function(){a.debug("DisplayRefreshExtension._onTimeout()"),n._resetSubContext(),n._refreshSlots(n._displaySlots)},1e3*this._refreshInterval)}}),this._onRequestComplete=a.Util.bind(this,function(e){if(a.debug("DisplayRefreshExtension._onRequestComplete()"),e.success){switch(this._context.getParameter("refreshType")){case"ad":this._refreshType=this.REFRESH_TYPE_AD;break;case"time":this._refreshInterval=this._context.getParameter("refreshInterval"),this._refreshType=0<this._refreshInterval?this.REFRESH_TYPE_TIME:this.REFRESH_TYPE_NONE;break;default:this._refreshType=this.REFRESH_TYPE_NONE}switch(this._context.getParameter("replaceMissingCompanion")){case"blank":this._replaceType=this.REPLACE_TYPE_BLANK;break;case"ad":this._replaceType=this.REPLACE_TYPE_AD;break;default:this._replaceType=this.REPLACE_TYPE_NONE}if(this._refreshType!=this.REFRESH_TYPE_NONE||this._replaceType!=this.REPLACE_TYPE_NONE){if(this._displaySlots=this._context.getSlotsByTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),this._companionSlots=this._displaySlots.filter(function(e){return e.getAcceptCompanion()}),this._keyValues=this._context._adRequest._keyValues,this._globalParameters=this._context._globalLevelParameterDictionary,this._overrideParameters=this._context._overrideLevelParameterDictionary,this._firstTemporalAd=!0,this._context.addEventListener(a.EVENT_AD,this._onRendererEvent),this._context.addEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._refreshType==this.REFRESH_TYPE_TIME){var t=this;this._refreshTimer=setInterval(function(){a.debug("DisplayRefreshExtension._onTimeout()"),t._resetSubContext(),t._refreshSlots(t._displaySlots)},1e3*this._refreshInterval)}}else this._refreshTimer&&clearInterval(this._refreshTimer)}else a.debug("DisplayRefreshExtension: request complete failed")}),this._context.addEventListener(a.EVENT_REQUEST_COMPLETE,this._onRequestComplete)},_resetSubContext:function(){a.debug("DisplayRefreshExtension._resetSubContext()"),this._subContext=this._context._adManager.cloneContext(this._context),this._subContext._displayRefreshExtension.dispose(),this._subContext._videoStateExtension.dispose(),this._subContext.setCapability(a.CAPABILITY_SLOT_TEMPLATE,a.CAPABILITY_STATUS_OFF),this._subContext.setCapability(a.CAPABILITY_DISPLAY_REFRESH,a.CAPABILITY_STATUS_ON),this._playRefreshedSlots=a.Util.bind(this,function(e){if(a.debug("DisplayRefreshExtension._playRefreshedSlots()"),e.success)for(var e=this._subContext.getSlotsByTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),t=0;t<e.length;t++)e[t].play();else a.debug("DisplayRefreshExtension._playRefreshedSlots(): subContext refresh request error:",e)}),this._subContext.addEventListener(a.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots);for(var e=this._subContext._adRequest._keyValues,t=0;t<this._keyValues.length;t++)0>e.indexOf(this._keyValues[t])&&e.push(this._keyValues[t]);for(var n in this._globalParameters)this._globalParameters.hasOwnProperty(n)&&this._subContext.setParameter(n,this._globalParameters[n],a.PARAMETER_LEVEL_GLOBAL);for(n in this._overrideParameters)this._overrideParameters.hasOwnProperty(n)&&this._subContext.setParameter(n,this._overrideParameters[n],a.PARAMETER_LEVEL_OVERRIDE)},_onAdStarted:function(e){a.debug("DisplayRefreshExtension._onAdStarted()");var t=e.adInstance.getSlot();if(a.debug("DisplayRefreshExtension._onAdStarted(): slot: ",t," | timePositionClass:",t.getTimePositionClass()),null!=t&&t.getTimePositionClass()!=a.TIME_POSITION_CLASS_DISPLAY&&(this._resetSubContext(),this._refreshTimer&&clearInterval(this._refreshTimer),this._replaceType!=this.REPLACE_TYPE_NONE))for(var e=e.adInstance,t=t.getAdInstances(),n=0;n<t.length;n++)e.getAdId()===t[n].getAdId()&&this._checkMissingCompanionForAd(e)},_checkMissingCompanionForAd:function(e){a.debug("DisplayRefreshExtension._checkMissingCompanionForAd()",e);for(var t=this._companionSlots.slice(),e=e.getCompanionAdInstances(),n=0;n<e.length;n++){var i=t.indexOf(e[n].getSlot());i>-1&&t.splice(i,1)}if(this._firstTemporalAd&&(this._firstTemporalAd=!1,t=t.filter(function(e){if(e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL)return a.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial false in slot ",e.getCustomId()),!0;for(var t=e.getAdInstances(),n=0;n<t.length;n++)if(!t[n].isPlaceholder())return a.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): first companion found in slot ",e.getCustomId()),!1;return a.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial true, no ad in slot ",e.getCustomId()),!0})),this._replaceType==this.REPLACE_TYPE_BLANK)for(n=0;n<t.length;n++)t[n].stop(),this._subContext._replacePageSlot(t[n].getCustomId(),"");else this._replaceType==this.REPLACE_TYPE_AD&&this._refreshSlots(t)},_refreshSlots:function(e){if(a.debug("DisplayRefreshExtension._refreshSlots()",e),null!=e&&0!=e.length){for(var t=0;t<e.length;t++)e[t].stop(),this._subContext._refreshSlots.push(e[t].getCustomId());this._subContext._isRefreshRequest=!0,this._subContext.submitRequest(this._REQUEST_TIME_OUT)}},dispose:function(){a.debug("DisplayRefreshExtension.dispose()"),this._context&&(this._context.removeEventListener(a.EVENT_REQUEST_COMPLETE,this._onRequestComplete),this._context.removeEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.removeEventListener(a.EVENT_AD,this._onRendererEvent),this._context=null),this._subContext&&(this._subContext.removeEventListener(a.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots),this._subContext=null),this._displaySlots=[],this._companionSlots=[],this._keyValues=[],this._globalParameters=[],this._overrideParameters=[],this._refreshType=this.REFRESH_TYPE_NONE,this._replaceType=this.REPLACE_TYPE_NONE,this._refreshInterval=0,this._refreshTimer&&clearInterval(this._refreshTimer),this._refreshTimer=null,this._firstTemporalAd=!0}},a.DisplayRefreshExtension.prototype.constructor=a.DisplayRefreshExtension,a.EventCallback=function(e){this._url=this._name=this._type=null,this._showBrowser=!1,this._trackingUrls=[],this._adInstance=this._slot=null,this._context=e},a.EventCallback.prototype={},a.EventCallback.prototype.constructor=a.EventCallback,a.EventCallback.getEventCallback=function(e,t,n){for(var i,o=0;o<e.length;o++)if(i=e[o],i._name===t&&i._type===n)return i;for(o=0;o<e.length;o++)if(i=e[o],i._type===a.EVENT_TYPE_GENERIC)return(t=a.EventCallback.newEventCallback(i._context,t,n))&&(t._url=i._url,t._slot=i._slot,t._adInstance=i._adInstance,e.push(t)),t;return null},a.EventCallback.newEventCallback=function(e,t,n){var i=null;if(n===a.EVENT_TYPE_GENERIC)i=new a.EventCallback(e);else if(n===a.EVENT_TYPE_ERROR)i=new a.ErrorEventCallback(e);else if(n===a.EVENT_TYPE_CLICK)i=new a.AdClickEventCallback(e);else if(n===a.EVENT_TYPE_STANDARD)i=new a.AdStandardEventCallback(e);else if(t===a.EVENT_SLOT_IMPRESSION||t===a.EVENT_SLOT_END)i=new a.SlotImpressionEventCallback(e);else if(t===a.EVENT_AD_IMPRESSION||t===a.EVENT_AD_IMPRESSION_END)i=new a.AdImpressionEventCallback(e);else if(t===a.EVENT_VIDEO_VIEW)i=new a.VideoViewEventCallback(e);else if(t===a.EVENT_RESELLER_NO_AD)i=new a.ResellerNoAdEventCallback(e);else{if(t!==a.EVENT_AD_FIRST_QUARTILE&&t!==a.EVENT_AD_MIDPOINT&&t!==a.EVENT_AD_THIRD_QUARTILE&&t!==a.EVENT_AD_COMPLETE)return null;i=new a.AdQuartileEventCallback(e)}return i._name=t,i._type=n,i},a.EventCallback.getShortType=function(e){var t="";switch(e){case a.EVENT_TYPE_IMPRESSION:t=a.SHORT_EVENT_TYPE_IMPRESSION;break;case a.EVENT_TYPE_CLICK:t=a.SHORT_EVENT_TYPE_CLICK;break;case a.EVENT_TYPE_STANDARD:t=a.SHORT_EVENT_TYPE_STANDARD;break;case a.EVENT_TYPE_ERROR:t=a.SHORT_EVENT_TYPE_ERROR}return t},a.Util.mixin(a.EventCallback.prototype,{parse:function(e){if(e){this._usage=e.use,this._type=e.type,this._name=e.name,this._url=e.url,this._showBrowser=e.showBrowser,this._trackingUrls=[];for(var t=0,e=e.trackingUrls||[];t<e.length;t++)this._trackingUrls.push(e[t].value)}},copy:function(){var e=new this.constructor(this._context);return e._type=this._type,e._name=this._name,e._url=this._url,e._showBrowser=this._showBrowser,e._trackingUrls=this._trackingUrls.slice(),e._slot=this._slot,e._adInstance=this._adInstance,e},getUrl:function(e){var t=this._replaceMacrosInUrl(this._url);return this._name===a.EVENT_AD_MEASUREMENT?(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_ET,a.SHORT_EVENT_TYPE_IMPRESSION),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CONCRETE_EVENT_ID,e[a.INFO_KEY_CONCRETE_EVENT_ID])):t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_ET,a.EventCallback.getShortType(this._type)),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CN,this._name),this._adInstance&&0<this._adInstance._creativeRenditionId&&(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID,this._adInstance._creativeRenditionId)),t},getTrackingUrls:function(){var e=this._trackingUrls;if(this._adInstance){var t=this._type;t===a.EVENT_TYPE_CLICK&&(t=a.EVENT_TYPE_CLICK_TRACKING),e=e.concat(this._adInstance.getExternalEventCallbackUrls(this._name,t))}for(var t=[],n=0;n<e.length;n++){var i=a.Util.trim(this._replaceMacrosInUrl(e[n]));a.Util.isBlank(i)||t.push(i)}return t},process:function(e){e=e||{},this._processTrackingUrls(),a.Util.pingURL(this.getUrl(e))},_processTrackingUrls:function(){this._shouldSkipSendingTrackingAndExternalUrls()||a.Util.pingURLs(this.getTrackingUrls())},_shouldSkipSendingTrackingAndExternalUrls:function(){return!1},_needEmptyCT:function(e){var t=!1;return e&&!0===e[a.INFO_KEY_NEED_EMPTY_CT]&&(t=!0),t},_getAdPlayheadTime:function(){var e=-1;return this._adInstance&&(e=this._adInstance.getPlayheadTime()),e},_getCreativeAssetLocation:function(){var e=null;return this._adInstance&&this._adInstance.getActiveCreativeRendition()&&this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset()&&(e=this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset().getUrl()),e},_getParameter:function(e){var t=null;return t=this._adInstance?this._adInstance._rendererController.getParameter(e):this._slot?this._slot.getParameter(e):this._context.getParameter(e)},_replaceMacrosInUrl:function(e){if(a.Util.isBlank(e))return e;var e=e.replace(/#(ce?)\{([^\}]+)\}/g,a.Util.bind(this,function(e,t,n){switch(e="ce"===t,t=null,n){case"ad.playheadTime":n=this._getAdPlayheadTime(),t=n>=0?Math.round(n)+"":"";break;case"content.playheadTime":n=this._context._getContentPlayheadTime(),t=n>=0?Math.round(n)+"":"";break;case"creative.assetLocation":t=this._getCreativeAssetLocation();break;default:0===n.indexOf("parameter.")&&(t=this._getParameter(n.substr(10)))}return a.Util.isBlank(t)&&(t=""),e?encodeURIComponent(t):t})),t="";try{t=a.Util.getParameterInURL(e,a.URL_PARAMETER_KEY_CR)}catch(t){return a.warn(t),e}return a.Util.isBlank(t)||(e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CR,this._replaceMacrosInUrl(t))),e}}),a.AdClickEventCallback=function(e){a.EventCallback.call(this,e)},a.AdClickEventCallback.prototype=new a.EventCallback,a.AdClickEventCallback.prototype.constructor=a.AdClickEventCallback,a.Util.mixin(a.AdClickEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e);return e[a.INFO_KEY_URL]&&(a.Util.isParameterInURL(t,a.URL_PARAMETER_KEY_CR)||(t=t+"&"+a.URL_PARAMETER_KEY_CR+"="),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CR,e[a.INFO_KEY_URL])),t},process:function(e){var e=e||{},t=this.getUrl(e),n=!0===this._showBrowser,n=e.hasOwnProperty(a.INFO_KEY_SHOW_BROWSER)?!0===e[a.INFO_KEY_SHOW_BROWSER]:n;e[a.INFO_KEY_URL]&&(n=!0),n&&!a.Util.isBlank(t)?(window.open(t),this._processTrackingUrls()):a.EventCallback.prototype.process.call(this,e)}}),a.AdImpressionEventCallback=function(e){a.EventCallback.call(this,e)},a.AdImpressionEventCallback.prototype=new a.EventCallback,a.AdImpressionEventCallback.prototype.constructor=a.AdImpressionEventCallback,a.Util.mixin(a.AdImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._adInstance.getSlot().isPauseSlot()||!this._processed?a.INIT_VALUE_ONE:a.INIT_VALUE_TWO},getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_METR,this._adInstance._metr);return this._name!==a.EVENT_AD_IMPRESSION&&(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CT,this._needEmptyCT(e)?"":this._adInstance._timer.tick())),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(e){a.MODULE_TYPE_TRANSLATOR!==this._adInstance.getRendererController().getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&(a.EventCallback.prototype.process.call(this,e),this._processed=!0)}}),a.AdQuartileEventCallback=function(e){a.EventCallback.call(this,e)},a.AdQuartileEventCallback.prototype=new a.EventCallback,a.AdQuartileEventCallback.prototype.constructor=a.AdQuartileEventCallback,a.Util.mixin(a.AdQuartileEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_METR,this._adInstance._metr);return t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CT,this._needEmptyCT(e)?"":this._adInstance._timer.tick())},process:function(e){this._processed||(a.EventCallback.prototype.process.call(this,e),this._processed=!0)}}),a.AdStandardEventCallback=function(e){a.EventCallback.call(this,e)},a.AdStandardEventCallback.prototype=new a.EventCallback,a.AdStandardEventCallback.prototype.constructor=a.AdStandardEventCallback,a.ErrorEventCallback=function(e){a.EventCallback.call(this,e)},a.ErrorEventCallback.prototype=new a.EventCallback,a.ErrorEventCallback.prototype.constructor=a.ErrorEventCallback,a.Util.mixin(a.ErrorEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),n=e[a.INFO_KEY_ERROR_CODE];n||(n=a.ERROR_UNKNOWN);var i=e[a.INFO_KEY_ERROR_INFO];return i||(i=""),(e=e[a.INFO_KEY_ERROR_MODULE])||(e=""),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CN,n),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_KEY_VALUE,encodeURIComponent(a.URL_PARAMETER_KEY_ERROR_MODULE)+"="+encodeURIComponent(e)+"&"+encodeURIComponent(a.URL_PARAMETER_KEY_ERROR_INFO)+"="+a.PLATFORM_ID+"/"+encodeURIComponent(i))}}),a.ResellerNoAdEventCallback=function(e){a.EventCallback.call(this,e)},a.ResellerNoAdEventCallback.prototype=new a.EventCallback,a.ResellerNoAdEventCallback.prototype.constructor=a.ResellerNoAdEventCallback,a.Util.mixin(a.ResellerNoAdEventCallback.prototype,{}),a.SlotImpressionEventCallback=function(e){a.EventCallback.call(this,e)},a.SlotImpressionEventCallback.prototype=new a.EventCallback,a.SlotImpressionEventCallback.prototype.constructor=a.SlotImpressionEventCallback,a.Util.mixin(a.SlotImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE;
},_getInitValue:function(){return this._slot.isPauseSlot()||!this._processed?a.INIT_VALUE_ONE:a.INIT_VALUE_TWO},getUrl:function(e){return e=a.EventCallback.prototype.getUrl.call(this,e),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(e){a.EventCallback.prototype.process.call(this,e),this._processed=!0}}),a.VideoViewEventCallback=function(e){a.EventCallback.call(this,e)},a.VideoViewEventCallback.prototype=new a.EventCallback,a.VideoViewEventCallback.prototype.constructor=a.VideoViewEventCallback,a.Util.mixin(a.VideoViewEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._processed?a.INIT_VALUE_ZERO:a.INIT_VALUE_ONE},_getCTValue:function(){return this._context._videoAsset.getPlayheadTime()},getUrl:function(e){return e=a.EventCallback.prototype.getUrl.call(this,e),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_INIT,this._getInitValue()),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CT,this._getCTValue())},_shouldSkipSendingTrackingAndExternalUrls:function(){return this._processed},process:function(e){a.EventCallback.prototype.process.call(this,e),this._processed=!0}}),a.EventDispatcher=function(){this._listeners={}},a.EventDispatcher.prototype={addEventListener:function(e,t){"undefined"==typeof this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t)},dispatchEvent:function(e){if("string"==typeof e&&(e={type:e}),e.target||(e.target=this),e.type&&this._listeners[e.type]instanceof Array)for(var t=this._listeners[e.type],n=0,i=t.length;i>n;n++)try{t[n]&&t[n].call(this,e)}catch(t){a.warn("EventDispatcher.dispatchEvent",e.type,t)}},removeEventListener:function(e,t){if(this._listeners[e]instanceof Array){var n=this._listeners[e];if(null==t)this._listeners[e]=[];else for(var i=0,o=n.length;o>i;i++)if(n[i]===t){n.splice(i,1);break}}}},a.EventDispatcher.prototype.constructor=a.EventDispatcher,a.Hash=function(){this._keys=[],this._dictionary={}},a.Hash.prototype={},a.Hash.prototype.constructor=a.Hash,a.Util.mixin(a.Hash.prototype,{setKeyValue:function(e,t,n){e&&(this._dictionary.hasOwnProperty(e)||(0===n?this._keys.unshift(e):this._keys.push(e)),this._dictionary[e]=t)},move:function(e){for(var t=0;t<this._keys.length;t++){var n=this._keys[t];if(n===e){this._keys.splice(t,1),this._keys.push(n);break}}},getValue:function(e){return this._dictionary[e]}}),a.HTMLAdGenerator={log:function(e){a.log("HTMLAdGenerator\t"+e)},getExtension:function(e){return e&&(e=e.match(/^[^?]+\/[^?.]*(\.\w+)+/))?e[e.length-1].slice(1):""},generateAd:function(e,t,n,i,o,s,r){a.HTMLAdGenerator.log("generatorAd("+[].slice.call(arguments,0).join(",")+")");var l=s,c=!1;switch(null==l&&(c=!0,l=a.HTMLAdGenerator.getExtension(e).toLowerCase()),l){case"jpeg":case"jpg":case"gif":case"png":case"image/jpeg":case"image/jpg":case"image/gif":case"image/png":case"image/bmp":l=a.HTMLAdGenerator.generateImageHTML(e,t);break;case"swf":case"application/x-shockwave-flash":l=a.HTMLAdGenerator.generateFlashHTML(e,t,n,i,o);break;case"script":case"js":case"text/javascript":case"text/js_ref":case"application/x-javascript":l=a.HTMLAdGenerator.generateScriptHTML(e,n,i,o);break;case"iframe":case"html":case"htm":case"text/html":case"text/html_doc_ref":case"text/html_lit_nowrapper":case"text/html_doc_lit_mobile":l=a.HTMLAdGenerator.generateIFrameHTML(e,t,n,i,o);break;default:l=c?a.HTMLAdGenerator.generateIFrameHTML(e,t,n,i,o):a.HTMLAdGenerator.generateAd(e,t,n,i,o,null,r)}return"text/html_doc_lit_mobile"===r?a.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(l):l},generateImageHTML:function(e,t){return a.HTMLAdGenerator.log("generateImageHTML"),t?'<a href="'+t+'" target="_blank"><img src="'+e+'" border="0" /></a>':'<img src="'+e+'" border="0" />'},generateFlashHTML:function(e,t,n,i,o){a.HTMLAdGenerator.log("generateFlashHTML");var s=e;return t&&0<t.length&&(s+=-1===e.indexOf("?")?"?":"&",s+="clickTag="+encodeURIComponent(t)),'<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"WIDTH="'+i+'" HEIGHT="'+o+'" id="'+n+'_external_ad">'+('<PARAM NAME=movie VALUE="'+s+'"/>')+'<PARAM NAME=quality VALUE=high/><PARAM NAME=bgcolor VALUE=#FFFFFF/><PARAM NAME="allowScriptAccess" VALUE="always"/><PARAM NAME="loop" VALUE="true"/>'+('<EMBED src="'+s+'" ')+('quality=high bgcolor=#FFFFFF WIDTH="'+i+'" HEIGHT="'+o+'"NAME="'+n+'_external_video" ALIGN="" TYPE="application/x-shockwave-flash"PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>')},generateIFrameHTML:function(e,t,n,i,o){return a.HTMLAdGenerator.log("generateIFrameHTML"),'<iframe height="'+o+'" width="'+i+'" frameborder="0" scrolling="no" allowtransparency="true" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" src="'+e+'"></iframe>'},docLitToHTMLLit:function(e,t,n,i){return a.HTMLAdGenerator.log("docLitToHTMLLit"),'<iframe id="_fw_frame_'+t+'" width="'+n+'" height="'+i+'" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe><script language="javascript" type="text/javascript" id="_fw_container_js_'+t+"\">if(!fw_targets) {var fw_targets = [];}var _fw_wr;var fw_scope = document;var fw_content = '"+a.Util.encodeToHex(e)+"';var trgtFrm = fw_scope.getElementById(\"_fw_frame_"+t+'");trgtFrm = (trgtFrm.contentWindow) ? trgtFrm.contentWindow : (trgtFrm.contentDocument.document) ? trgtFrm.contentDocument.document : trgtFrm.contentDocument;fw_targets["'+t+'"] = trgtFrm;if(navigator.userAgent.match(/\\bMSIE\\b/) || navigator.userAgent.match(/\\bOpera\\b/)){trgtFrm.document.open();trgtFrm.document.write(fw_content);setTimeout(function(){fw_close(fw_targets["'+t+'"])}, 7500);} else if (navigator.userAgent.match(/\\bFirefox\\b/)) {if(true && fw_content.length < 2000){var ec = escape(fw_content);var fw_iframe_url = "http://m2.feiwei.tv/g/lib/template/echo.html?s="+ec;fw_scope.getElementById("_fw_frame_'+t+'").src = fw_iframe_url;} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}function fw_close(theFrame){theFrame.document.close();}</script>'},htmlLitToDocLit:function(e){return a.HTMLAdGenerator.log("htmlLitToDocLit"),'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>Advertisement</title></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">'+e+"</body></html>"},wrapUnsafeHTML:function(e,t,n,i){return a.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(a.HTMLAdGenerator.docLitToHTMLLit(a.HTMLAdGenerator.htmlLitToDocLit(e),t,n,i))},wrapJSCode:function(e,t,n,i){return a.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript">'+e+"</script>",t,n,i)},generateScriptHTML:function(e,t,n,i){return a.HTMLAdGenerator.log("generateScriptHTML"),a.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript" src="'+e+'"></script>',t,n,i)},htmlLitToHTMLDocLitMobile:function(e){return a.HTMLAdGenerator.log("htmlLitToHTMLDocLitMobile"),'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta name = "viewport" content = "initial-scale = 1.0, target-densitydpi = device-dpi" /><title>Advertisement</title><script type="text/javascript">window._fw_page_url = "";</script></head><body style="margin:0px;background-color:transparent;">'+e+"</body></html>"}},a.NullRenderer=function(){},a.NullRenderer.prototype={start:function(e){e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF),e.handleStateTransition(a.RENDERER_STATE_STARTED),e.handleStateTransition(a.RENDERER_STATE_COMPLETED)},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return-1},getDuration:function(){return-1}},a.NullRenderer.prototype.constructor=a.NullRenderer,a.PageSlotScanner=function(e){this.OPTION_INIT=1,this.OPTION_FCAI=2,this.OPTION_NIIC=4,this.OPTION_NOSA=8,this.OPTION_NSIT=16,this._knownSlots=[],this._slots={},this._candidateAds=[],this._slotOptionFound=!1,this._context=e},a.PageSlotScanner.prototype={isSlotDuplicate:function(e){for(var t=0;t<this._knownSlots.length;++t)if(this._knownSlots[t].id===e)return!0;return!1},findPageSlotByScope:function(e){var t=e.document;if(t){var n,i=/(^|\s)_fwph(\s|$)/,o=t.getElementsByTagName("span");for(e._fw_admanager||(e._fw_admanager={}),e._fw_admanager.pageScanState=!0,e=0;e<o.length;++e){var s;if(n=o[e],i.test(n.className)&&(n=n.getAttribute("id"),(s=t.getElementById("_fw_input_"+n))&&!this.isSlotDuplicate(n))&&(s=s.getAttribute("value"))){";"!==s.charAt(s.length-1)&&(s+=";"),s=s.split(";");var r=s[s.length-2],l=!1;-1!==r.search("lo=i")&&(l=!0);var c=!1;-1!==r.search("prct=")&&(c=!0),0>r.search("flag=")&&(r+="&flag="),0>r.search("ptgt=")&&(r="ptgt=s&"+r),s=[];for(var u,d,p,h=r.split("&"),r=!0,f=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,v=0;v<h.length;++v)if(u=h[v].split("="),2===u.length){if(u[1]=decodeURIComponent(u[1]),"ssct"===u[0]){if(c)continue;c=!0,u[0]="prct"}"flag"===u[0]?(-1===u[1].search(/[-\+]cmpn/)&&(u[1]+="+cmpn"),"+"!==u[1].charAt(0)&&"-"!==u[1].charAt(0)&&(u[1]="+"+u[1]),l&&-1===u[1].search("-init")&&(u[1]+="-init"),-1!==u[1].search("-nrpl")&&(u[1]=u[1].replace("-nrpl","+cmpn")),-1!==u[1].search("-cmpn")&&(r=!1),f=this._getInitialOption(u[1]),this._slotOptionFound||(f=l?a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL:a.SLOT_OPTION_INITIAL_AD_STAND_ALONE)):"w"===u[0]?d=Number(u[1]):"h"===u[0]?p=Number(u[1]):"cana"===u[0]&&this._addCandidateAds(u[1]),u=encodeURIComponent(u[0])+"="+encodeURIComponent(u[1]),s.push(u)}c||(l=this._context.getParameter(a.PARAMETER_PAGE_SLOT_CONTENT_TYPE)||"text/html_doc_lit_mobile,text/html_doc_ref",s.push("prct="+encodeURIComponent(l))),(l=t.getElementById("_fw_container_"+n))?(this._slots[n]=s.join("&")+";",this._knownSlots.push({id:n,width:d,height:p,element:l,acceptCompanion:r,initialAdOption:f})):a.warn("Failed to find container for slot "+n)}}}},scanPageSlots:function(){for(var e=0;e<window.frames.length;++e)try{a.debug("scanPageSlots in frame",e),this.findPageSlotByScope(window.frames[e])}catch(e){}try{window.parent&&window.parent!==window&&(a.debug("scanPageSlots in parent frame"),this.findPageSlotByScope(window.parent))}catch(e){}try{a.debug("scanPageSlots in current window"),this.findPageSlotByScope(window)}catch(e){}},slotsToTypeBStr:function(){var e,t="";for(e in this._slots)if(this._slots.hasOwnProperty(e)){var n=this._slots[e];-1===n.search("slid=")&&(n="slid="+encodeURIComponent(e)+"&"+n),t+=n,";"!==t.charAt(t.length-1)&&(t+=";")}return t&&(t=t.substring(0,t.length-1)),t},_addCandidateAds:function(e){for(var e=e.split(","),t=0;t<e.length;t++){var n=parseInt(e[t],10);n>0&&this._candidateAds.push(n)}},_parseFlags:function(e){for(var t=[],n=[],i="",o=!0,e=e+"+",s=0;s<e.length;++s){var r=e.charAt(s);switch(r){case"+":case"-":""!=i&&(o?t.push(i):n.push(i),i=""),o="+"==r;break;default:i+=r}}return[t,n]},_getInitialOption:function(e){for(var t=!1,n=0,e=this._parseFlags(e),i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,o=0;o<e.length;++o)for(var s=0;s<e[o].length;++s)switch(e[o][s].toString().toLowerCase()){case"init":n=0==o?n&~this.OPTION_INIT:n|this.OPTION_INIT,t=!0;break;case"fcai":n=0==o?n|this.OPTION_FCAI:n&~this.OPTION_FCAI,t=!0;break;case"niic":n=0==o?n|this.OPTION_NIIC:n&~this.OPTION_NIIC,t=!0;break;case"nosa":n=0==o?n|this.OPTION_NOSA:n&~this.OPTION_NOSA,t=!0;break;case"nsit":n=0==o?n|this.OPTION_NSIT:n&~this.OPTION_NSIT,t=!0}switch(n){case 0:t&&(i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE);break;case 1:i=a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL;break;case 3:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY;break;case 2:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE;break;case 6:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE;break;case 8:i=a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE;break;case 10:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE;break;case 16:i=a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL;break;case 18:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL;break;default:i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE}return this._slotOptionFound=t,i}},a.PageSlotScanner.prototype.constructor=a.PageSlotScanner,a.RendererController=function(e,t){var n=null,i=null,o={},s=a.RendererInitState.instance,r={},l=[],c=0;return{getAdInstance:function(){return t},getContext:function(){return e},getRendererState:function(){return s},processEvent:function(e){var n=e.name;if(n===a.RENDERER_STATE_STARTED||n===a.RENDERER_STATE_COMPLETING||n===a.RENDERER_STATE_COMPLETED||n===a.RENDERER_STATE_FAILED)this.handleStateTransition(n,e.info);else{var i=this._inferEventType(n);i&&(i===a.EVENT_TYPE_CLICK&&e.info&&e.info[a.INFO_KEY_CUSTOM_EVENT_NAME]&&(n=e.info[a.INFO_KEY_CUSTOM_EVENT_NAME]),(n!==a.EVENT_AD_MEASUREMENT||e.info[a.INFO_KEY_CONCRETE_EVENT_ID])&&t.processEvent(n,i,e.info))}},handleStateTransition:function(e,n){switch(e){case a.RENDERER_STATE_STARTED:s.notifyStarted(this);break;case a.RENDERER_STATE_COMPLETING:s.complete(this);break;case a.RENDERER_STATE_COMPLETED:s.complete(this),s.notifyCompleted(this);break;case a.RENDERER_STATE_FAILED:t.getSlot()._clearScheduledAdInstance(),n||(n={}),a.warn("FAIL",n.errorModule,n.errorCode,n.errorInfo);var i=t.processEvent(a.EVENT_ERROR,a.EVENT_TYPE_ERROR,n);if(i||a.debug("No EVENT_ERROR callback found"),n)switch(n[a.INFO_KEY_ERROR_CODE]){case a.ERROR_NO_AD_AVAILABLE:case a.ERROR_3P_COMPONENT:case a.ERROR_PARSE:(i=t.processEvent(a.EVENT_RESELLER_NO_AD,a.EVENT_TYPE_IMPRESSION))||a.debug("No EVENT_RESELLER_NO_AD callback found.")}s.fail(this);break;default:a.debug("Unknown event received",e)}},setCapability:function(e,n){t.setMetr(e,n)},getVersion:function(){return e._adManager.getVersion()},getParameter:function(n){if(!n)return null;if(e._overrideLevelParameterDictionary.hasOwnProperty(n))return e._overrideLevelParameterDictionary[n];if(t.getActiveCreativeRendition()&&"undefined"!=typeof t.getActiveCreativeRendition().getParameter(n))return t.getActiveCreativeRendition().getParameter(n);var i=t._creative;return i&&"undefined"!=typeof i.getParameter(n)?i.getParameter(n):"undefined"!=typeof t.getSlot().getParameter(n)?t.getSlot().getParameter(n):e._adResponse._profileParameters.hasOwnProperty(n)?e._adResponse._profileParameters[n]:e._globalLevelParameterDictionary.hasOwnProperty(n)?e._globalLevelParameterDictionary[n]:o&&o.hasOwnProperty(n)?o[n]:null},getCompanionSlots:function(){for(var e=[],n=t._companionAdInstances,i=0;i<n.length;i++)n[i].isPlaceholder()&&e.push(n[i].getSlot());return e},createNullDrivingAdInstance:function(){var e=t.getSlot().scheduleAdInstance();return e.addCreativeRendition().setContentType("null/null"),e},scheduleAdInstances:function(e){var n,i=[],o=null,e=e||[];if(0===e.length)return i;for(n=0;n<e.length;n++)e[n].getCustomId()===t.getSlot().getCustomId()&&(o=t.getSlot().scheduleAdInstance());if(!o)if(this.isTranslator())o=this.createNullDrivingAdInstance();else{if(!this.isRenderer())return i;o=t}for(var s=0;s<e.length;s++){if(e[s].getCustomId()===t.getSlot().getCustomId())o!==t&&i.push(o);else for(var a=0,c=o._companionAdInstances;a<c.length;a++)if(n=c[a],e[s]===n.getSlot()){if(this.isTranslator())i.push(n);else if(this.isRenderer()&&n.isPlaceholder()){var u=n.cloneForTranslation();o===t&&(r[u]=n),c[a]=u,i.push(u),l.push(u)}break}i.length<=s&&i.push(null)}return i},commitAdInstance:function(){if(this.isRenderer()&&t.isStarted()){for(var e=0;e<l.length;e++){var n=l[e];n&&n.getSlot().playCompanionAds(n)}l=[]}else a.warn("Skipping RendererController.commitAdInstance when called with driving ad not started or completed.")},isRenderer:function(){return n&&a.MODULE_TYPE_RENDERER===n.info()[a.INFO_KEY_MODULE_TYPE]},isTranslator:function(){return n&&a.MODULE_TYPE_TRANSLATOR===n.info()[a.INFO_KEY_MODULE_TYPE]},playable:function(){return s===a.RendererInitState.instance},reset:function(){s=a.RendererInitState.instance},play:function(){for(var e=t.getAllCreativeRenditions()||[],n=null,i=0;i<e.length;i++){var o=e[i];if(n=this._matchRendererClassName(o)){t.setActiveCreativeRendition(o);break}}0===c&&this._actualPlay(n)},_actualPlay:function(e){(i=a.Util.getObject(e)||a.Util.getObject(u+"."+e))&&(n=new i),n?s.start(this):this.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_NO_RENDERER,errorInfo:"Renderer class <"+e+"> not found"})},dispatchEvent:function(t,n){e.dispatchEvent(t,n)},requestContentStateChange:function(e){e?this.dispatchEvent(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST):this.dispatchEvent(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST)},getRenderer:function(){return n},setRenderer:function(e){n=e},setRendererState:function(e){s=e},getContentVideoElement:function(){return e.getContentVideoElement()},_restorePlaceholdersForHybrid:function(){if(r&&this.isRenderer()){for(var e=[],n=0;n<t._companionAdInstances.length;n++){var i=t._companionAdInstances[n],o=r[i];o?e.push(o):e.push(i)}t._companionAdInstances=e}0<l.length&&this.isRenderer()&&(l=[])},rendererMatch:function(e){return!i||i===a.Util.getObject(this._matchRendererClassName(e))},_matchRendererClassName:function(n){function i(e,t,n){if(a.debug("matching "+e+" within "+t),!t)return!0;if(t=t.split(","),t[t.length-1]||t.pop(),n){for(e=e.toLowerCase(),n=0;n<t.length;n++)if(e==t[n].toLowerCase())return!0;return a.debug("not match"),!1}return(t=0<=t.indexOf(e))||a.debug("not match"),t}var s=n.getPrimaryCreativeRenditionAsset().getContentType(),r=n.getContentType(),l=n.getWrapperType(),d=n.getCreativeApi(),p=n.getBaseUnit(),h=t.getSoAdUnit(),f=t.getSlot();if(f.getType(),f=f.getTimePositionClass(),a.debug("match renderer for creativeRendition:"+n.getId()),a.Util.isBlank(r)&&a.Util.isBlank(l))return a.warn("renderer not match due to both contentType and wrapperType are empty"),null;var v=e._rendererManifest["*"];if(v||(v=e._rendererManifest[l]),v||(v=e._rendererManifest[r]),!v)for(var m=e._overriddenAdRenderers.concat(e._adResponse._adRenderers),g=0;g<m.length;g++){var y=m[g],_=!y.contentType;if(_||(l?_=i(l,y.contentType,!0):(s&&(_=i(s,y.contentType,!0)),_||(_=i(r,y.contentType,!0)))),_)if((_=!y.creativeApi)||(_=i(d,y.creativeApi)),_){if(y.baseUnit&&!i(p,y.baseUnit))a.debug("can't match renderer "+y.url+" due to baseUnit not match for creativeRendition:"+n.getId());else if(y.soAdUnit&&!i(h,y.soAdUnit))a.debug("can't match renderer "+y.url+" due to soAdUnit not match for creativeRendition:"+n.getId());else if(y.slotType&&!i(f.toUpperCase(),y.slotType.toUpperCase()))a.debug("can't match renderer "+y.url+" due to slotType not match for creativeRendition:"+n.getId());else if(a.debug("renderer "+y.url+" matched for creativeRendition:"+n.getId()),y.url){v=y.url,n=v.indexOf("?"),-1!==n&&(v=v.substring(0,n)),n=v.lastIndexOf("/"),-1!==n&&(v=v.substring(n+1)),n=v.lastIndexOf(".js"),-1!==n&&(v=v.substring(0,n));var w={};if(y.parameter)for(n=[].concat(y.parameter),s=0;s<n.length;s++)if(n[s].hasOwnProperty("name"))w[n[s].name]=n[s].value;else for(var b in n[s])n[s].hasOwnProperty(b)&&(w[b]=n[s][b]);if(a.Util.getObject(u+"."+v)&&(v=u+"."+v),a.Util.getObject(v))o=w,c=0;else{if(c>0)break;var k=this;b=1*this.getContext().getParameter("moduleLoadTimeout")||6e4,c=window.setTimeout(function(){c=-1,k.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_NO_RENDERER,errorInfo:"Load renderer timeout, URL:"+y.url})},b),a.Util.lazyJavaScriptLoad(y.url,function(){a.log("async load renderer successful, URL:"+y.url),-1===c?a.debug("renderer loaded after timeout. WILL NOT PLAY."):(window.clearTimeout(c),c=0,o=w,k._actualPlay(v))})}break}}else a.debug("can't match renderer "+y.url+" due to creative api not match for creativeRendition:"+n.getId());else a.debug("can't match renderer "+y.url+" due to contentType not match for creativeRendition:"+n.getId())}return v?v:a.Util.isBlank(l)&&"null/null"===r?u+".NullRenderer":null},_inferEventType:function(e){return e===a.EVENT_ERROR?a.EVENT_TYPE_ERROR:e===a.EVENT_AD_CLICK?a.EVENT_TYPE_CLICK:e===a.EVENT_AD_IMPRESSION||e===a.EVENT_AD_FIRST_QUARTILE||e===a.EVENT_AD_MIDPOINT||e===a.EVENT_AD_THIRD_QUARTILE||e===a.EVENT_AD_COMPLETE||e===a.EVENT_RESELLER_NO_AD?a.EVENT_TYPE_IMPRESSION:e===a.EVENT_AD_PAUSE||e===a.EVENT_AD_RESUME||e===a.EVENT_AD_REWIND||e===a.EVENT_AD_MUTE||e===a.EVENT_AD_UNMUTE||e===a.EVENT_AD_COLLAPSE||e===a.EVENT_AD_EXPAND||e===a.EVENT_AD_MINIMIZE||e===a.EVENT_AD_CLOSE||e===a.EVENT_AD_ACCEPT_INVITATION?a.EVENT_TYPE_STANDARD:e===a.EVENT_AD_MEASUREMENT?a.EVENT_TYPE_GENERIC:null},stop:function(){a.log("RendererController.stop"),c>0&&(c=-1),s.stop(this)}}},a.RenditionSelector=function(e,t,n,i){this._targetByterate=e,this._arWeight=t,this._pxWeight=n,this._conversionFactor=i},a.RenditionSelector.prototype={getBestFitRendition:function(e,t,n){var i=this;if(e.reverse(),e=e.filter(function(e){return e&&e.getPrimaryCreativeRenditionAsset()&&(e.getPrimaryCreativeRenditionAsset().getUrl()||e.getPrimaryCreativeRenditionAsset().getContent())&&a.Util.canPlayVideoType(e.getPrimaryCreativeRenditionAsset().getMimeType())}).sort(function(e,t){return i.getBitrate(e)-i.getBitrate(t)}),!e.length)return null;var o=Number.MAX_VALUE,s=e.filter(function(e){return e=i.getBitrate(e),o=o>e?e:o,e<=i._targetByterate});return s.length||(s=e.filter(function(e){return i.getBitrate(e)<=o})),s.sort(function(e,o){return i.compareVisualMetrics(e,o,t,n)}).pop()},compareVisualMetrics:function(e,t,n,i){var o=this.calculateVisualRatios(e.getWidth(),e.getHeight(),n,i),i=this.calculateVisualRatios(t.getWidth(),t.getHeight(),n,i);if(!o&&i)return-1;if(o&&!i)return 1;if(o&&i){var n=this._conversionFactor*this._arWeight*Math.log(o.arRatio),s=this._pxWeight*Math.log(o.pixelation),o=this._conversionFactor*this._arWeight*Math.log(i.arRatio),i=this._pxWeight*Math.log(i.pixelation),n=this.findDistance(n,s,0,0),o=this.findDistance(o,i,0,0);if(o!=n)return o-n}return e.getPreference()-t.getPreference()},calculateVisualRatios:function(e,t,n,i){if(e>0&&t>0&&n>0&&i>0){var o=e/t,s=n/i;return o>s?i=n/o:n=i*o,{arRatio:o/s,pixelation:e*t/(n*i)}}return null},findDistance:function(e,t,n,i){return isNaN(e)||isNaN(n)||isNaN(t)||isNaN(i)?NaN:Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))},getBitrate:function(e){var t=e.getDuration();return(e=e.getPrimaryCreativeRenditionAsset().getBytes())&&t&&!isNaN(e)&&!isNaN(t)&&e>0&&t>0?8*e/1e3/t:-1}},a.RenditionSelector.prototype.constructor=a.RenditionSelector,a.Slot=function(e){var t,n,i,o,s,r,l,c,u="",d=null,p=null,h=null,f=null,v=[],m=[],g={},y=null,_=a.MediaInitState.instance,w=0,b=null,k=!1,E=!1,x=!0,T=[];return{getSlotProfile:function(){return p},setSlotProfile:function(e){p=e},setMediaState:function(e){_=e},setParameter:function(e,t){null===t?delete g[e]:g[e]=t},getParameter:function(e){return e&&g.hasOwnProperty(e)?g[e]:void 0},getAdCount:function(){return v.length},setCustomId:function(e){u=e},getCustomId:function(){return u},setAdUnit:function(e){s=e},getAdUnit:function(){return s},setType:function(e){d=e},getType:function(){return d},setTimePosition:function(e){n=e},getTimePosition:function(){return n},setTimePositionClass:function(e){b=e&&e.toUpperCase()},getTimePositionClass:function(){return b},setWidth:function(e){i=e},getWidth:function(){return b!==a.TIME_POSITION_CLASS_DISPLAY?i?i:e.getVideoDisplaySize().width:i},setHeight:function(e){o=1*e},getHeight:function(){return b!==a.TIME_POSITION_CLASS_DISPLAY?o?o:e.getVideoDisplaySize().height:o},setBase:function(e){t=e},getBase:function(){return t},setCuepointSequence:function(e){r=1*e?1*e:0},getCuepointSequence:function(){return r},getVideoDisplaySize:function(){return e.getVideoDisplaySize()},parse:function(t){if(t){u=t.customId,n=1*t.timePosition,b=t.timePositionClass&&t.timePositionClass.toUpperCase()||b,s=t.adUnit;for(var i,o=0,r=t.eventCallbacks||[];o<r.length;o++){i=r[o];var l=a.EventCallback.newEventCallback(e,i.name,i.type);l&&(l._slot=this,l.parse(i),m.push(l))}for(o=0,r=t.selectedAds||[];o<r.length;o++)i=r[o],t=[],l=new a.AdInstance(e),t.push(l),l._slot=this,l._slotCustomId=u,l._parentAdInstancesGroup=t,l.parse(i),v.push(t)}},getCurrentAdInstance:function(){return h},isPauseSlot:function(){return b===a.TIME_POSITION_CLASS_PAUSE_MIDROLL},play:function(e){b!==a.TIME_POSITION_CLASS_DISPLAY||x?(a.log("Slot.play",b),k=!1,b===a.TIME_POSITION_CLASS_DISPLAY&&1<v.length&&v.splice(0,v.length-1),this._play(e)):(a.log("Slot is invisible. Push the play operation to the queue."),T.push({operation:this.play,argument:e}))},stop:function(){a.log("Slot.stop",b),b===a.TIME_POSITION_CLASS_DISPLAY&&(T=[]),_===a.MediaInitState.instance||_===a.MediaEndState.instance?a.log("Slot.stop, not start or already end, ignore"):(k=!0,h?h.stop():a.warn("Slot.stop, no _currentAdInstance, ignore"))},setVisible:function(e){if(!b===a.TIME_POSITION_CLASS_DISPLAY)a.log("Slot.setVisible is only for display ads.");else if(a.log("Slot.setVisible",e),x!=e&&(x=e))for(;0<T.length;)op=T.pop(),op.operation&&op.operation.call(this,op.argument)},_play:function(e){y=y||e,_.play(this)},onStartPlaying:function(){this._onStartPlaying()},onStartReplaying:function(){this._onStartPlaying()},onCompletePlaying:function(){this._onCompletePlaying()},onCompleteReplaying:function(){this._onCompletePlaying()},playNextAdInstance:function(){a.log("Slot.playNextAdInstance ",b),this._playNextAdInstance()||_.complete(this)},scheduleAdInstance:function(){return f=h.cloneForTranslation()},_clearScheduledAdInstance:function(){f=null},_onStartPlaying:function(){var e=a.EventCallback.getEventCallback(m,a.EVENT_SLOT_IMPRESSION,a.EVENT_TYPE_IMPRESSION);e&&e.process(),this.dispatchSlotEvent(a.EVENT_SLOT_STARTED),this.playNextAdInstance()},dispatchSlotEvent:function(t){E||e.dispatchEvent(t,{slot:this})},_onCompletePlaying:function(){y&&y(),y=null,T=[];var e=a.EventCallback.getEventCallback(m,a.EVENT_SLOT_END,a.EVENT_TYPE_IMPRESSION);e&&e.process(),h=null,this.dispatchSlotEvent(a.EVENT_SLOT_ENDED)},_playNextAdInstance:function(){return!(k||_!==a.MediaPlayingState.instance&&_!==a.MediaReplayingState.instance)&&(this._commitScheduledAdInstance(),!!(h=this._nextPlayableAdInstance())&&(h.reset(),h.getRendererController().play(),!0))},_commitScheduledAdInstance:function(){if(f){var e=h._parentAdInstancesGroup.indexOf(h);e>=0&&(f._parentAdInstancesGroup=h._parentAdInstancesGroup,h._parentAdInstancesGroup.splice(e,1,f),f=null)}},_nextPlayableAdInstance:function(){var e=-1;if(h){var t=h._parentAdInstancesGroup,n=t.indexOf(h),e=v.indexOf(t);e>=0&&n>=0&&(h._isImpressionSent||n==t.length-1)&&e++}else e=0;if(0>e||e>=v.length)return null;if(_===a.MediaPlayingState.instance)for(t=v[e],n=0;n<t.length;n++){var i=t[n];if(i.getRendererController().playable())return i}else if(_===a.MediaReplayingState.instance)for(;e<v.length;e++){for(t=v[e],n=0;n<t.length;n++)if(i=t[n],i._isImpressionSent)return i;for(n=0;n<t.length;n++)if(i=t[n],i.getRendererController().getRendererState()!==a.RendererFailedState.instance&&!i._translated)return i}return null},toString:function(){return"[Slot "+u+"]"},getAdInstances:function(){for(var e=[],t=0;t<v.length;++t)for(var n=v[t],i=0;i<n.length;++i){var o=n[i];if(o.isPlayable()){e.push(o);break}}return e},getPlayheadTime:function(){for(var e=0,t=this.getAdInstances(),n=0;n<t.length;++n){if(t[n]===h){t=h.getPlayheadTime(),t>-1&&(e+=t);break}var i=t[n].getDuration();i>-1&&(e+=i)}return w&&e>w&&(e=w),e},getTotalDuration:function(){for(var e=0,t=this.getAdInstances(),n=0;n<t.length;++n){var i=t[n].getDuration();i>-1&&(e+=i)}return w=e},playCompanionAds:function(e){a.log("Slot.playCompanionAds");var t=[];e._parentAdInstancesGroup=t,t.push(e),v.push(t),E=!0,h&&this.stop(),this.play()},getState:function(){return _},setAcceptCompanion:function(e){l=e},getAcceptCompanion:function(){return l},setInitialAdOption:function(e){c=e},getInitialAdOption:function(){return c}}},a.SurveyExtension=function(e){this._context=e,this._surveyPingedIds=[]},a.SurveyExtension.prototype={start:function(){a.log("SurveyExtension.start("+Array.prototype.slice.call(arguments).join(",")+")"),this._onAdStarted=a.Util.bind(this,function(t){if(this._parameters=this._getParameters(),this._parameters.enabled){a.log("SurveyExtension.onAdStarted()");var n=t.adInstance;if(-1<this._surveyPingedIds.indexOf(n.getAdId()))a.log("won't pingback survey since it has been pinged back");else{var i=n._creative.getParameter("_fw_survey_url");if(i)try{a.log("append"+i+" to head");var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src",i),o.appendChild(s),this._surveyPingedIds.push(n.getAdId())}catch(n){a.warn("Append survey to head",t.type,e)}}}}),this._context.addEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted)},dispose:function(){a.log("SurveyExtension.dispose()"),this._context.removeEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted),this._parameters=this._onAdStarted=null},_getParameters:function(){var e={};return e.enabled="false"!=this._context.getParameter(a.PARAMETER_EXTENSION_SURVEY_ENABLED),a.log(e),e}},a.SurveyExtension.prototype.constructor=a.SurveyExtension,a.Timer=function(e,t){this._lastTickDate=new Date,this._duration=e||-1,this._playheadTime=-1,this._callback=t,this._state=-1},a.Timer.prototype={},a.Timer.prototype.constructor=a.Timer,a.Util.mixin(a.Timer.prototype,{tick:function(){var e=new Date,t=Math.round((e.getTime()-this._lastTickDate.getTime())/1e3);return this._lastTickDate=e,t},start:function(){if(0!==this._state){2!==this._state&&-1!==this._playheadTime||(this._playheadTime=0),this._state=0,this._timeStamp=new Date,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null);var e=this,t=1e3*(this._duration-this._playheadTime);0>t||(this._timeouter=window.setTimeout(function(){e.stop(),e._playheadTime=e._duration,e._callback&&e._callback()},t))}},pause:function(){0===this._state&&(this._state=1,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1e3+this._playheadTime)},stop:function(){this._state=2,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1e3+this._playheadTime},getPlayheadTime:function(){return 0===this._state?(new Date-this._timeStamp)/1e3+this._playheadTime:this._playheadTime},getCTValue:function(){return(new Date-this._timeStamp)/1e3},getDuration:function(){return this._duration}}),a.Url=function(e){this._session=this._base="",this._parameters=new a.Hash,this.setString(e)},a.Url.prototype={},a.Url.prototype.constructor=a.Url,a.Util.mixin(a.Url.prototype,{setString:function(e){if(this._string!==e&&e&&(this._string=e,e=e.split("?"),this._base=e[0],this._parameters=new a.Hash,e[1])){var t=e[1].indexOf(";"),n="";for(t>0&&0===e[1].indexOf("session=")?(this._session=e[1].substring(0,t+1),n=e[1].substring(t+1)):n=e[1],e=n.split("&"),n=0;n<e.length;n++){var i=e[n],t=i.indexOf("=");if(!(0>t)){var o=decodeURIComponent(i.substring(0,t)),t=decodeURIComponent(i.substring(t+1));this._parameters.setKeyValue(o,t)}}}},setParameter:function(e,t){this._parameters.setKeyValue(e,t,0),this._string=null},getParameter:function(e){return this._parameters.getValue(e)},toString:function(){if(this._string)return this._string;this._parameters.move("cr",-1);for(var e=this._parameters._keys,t=[],n=0;n<e.length;n++){var i=e[n],o=this._parameters.getValue(i);t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}return this._string=this._base+"?"+this._session+t.join("&")}}),a.VastTranslator=function(){},a.VastTranslator.prototype={start:function(e){function t(e){a.log("VastTranslator\t"+e)}function n(e){a.warn("VastTranslator\t"+e)}function i(e,t){if(e)if(e.length&&"string"!=typeof e)for(var n=0;n<e.length;n++)t(e[n].value);else e.value&&t(e.value)}function o(e,t){i(t,function(t){t&&e.push(t)})}function s(e){if(!e)return!1;for(var t=0;t<E.length;t++)if(a.Util.trim(E[t]).toLowerCase()===a.Util.trim(e).toLowerCase())return!0;
return!1}function r(e){return e?("string"!=typeof e&&(e=e.toString()),e=a.Util.trim(e),-1<e.indexOf("://")?e:null):null}function l(e){this.code=this.url=null,this.height=this.width=NaN,this.resourceType=this.creativeType=null,this.bitrate=NaN,this.creativeApi=null,this.ad=e,this.clickThrough=null,this.clickTrackings=[],this.customClicks=[],this.creativeData=null}function c(){this.creativeView=[],this.start=[],this.firstQuartile=[],this.midpoint=[],this.thirdQuartile=[],this.complete=[],this.mute=[],this.unmute=[],this.pause=[],this.rewind=[],this.resume=[],this.replay=[],this.fullscreen=[],this.expand=[],this.collapse=[],this.acceptInvitation=[],this.stop=[]}function u(e){this._impressions=[],this.clickThrough=null,this.clickTrackings=[],this.customClicks=[],this.creativeData=null,this.sequence=-1,this.vastRenditions=[],this.duration=NaN,this.adp=e,this.isDrivingAd=!1}function d(e){u.call(this,e)}function p(e){u.call(this,e)}function h(e){u.call(this,e)}function f(){}function v(e,n,i,o){if(e&&o&&0<o.length){t("augmentCallbacks("+n+", "+i+", "+o+")");for(var s=e.getEventCallbackUrls(n,i),r=0;r<s.length;r++)-1<o.indexOf(s[r])&&(t("augmentCallbacks() url = "+s[r]),o.unshift(s[r]));e.addEventCallbackUrls(n,i,o)}else t("augmentCallbacks("+n+", "+i+", "+o+"), empty callbacks")}function m(e,n){if(t("initErrorTrackings()"),e&&n){for(var i=n.errorTrackings,o=0;o<i.length;o++)-1<i[o].search("[ERRORCODE]")&&(i[o]=i[o].replace("[ERRORCODE]","900"));v(e,a.EVENT_ERROR,a.EVENT_TYPE_ERROR,n.errorTrackings)}}function g(e,n){t("initTrackingEvents()"),n&&e&&(v(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n.creativeView),v(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n.start),v(e,a.EVENT_AD_FIRST_QUARTILE,a.EVENT_TYPE_IMPRESSION,n.firstQuartile),v(e,a.EVENT_AD_MIDPOINT,a.EVENT_TYPE_IMPRESSION,n.midpoint),v(e,a.EVENT_AD_THIRD_QUARTILE,a.EVENT_TYPE_IMPRESSION,n.thirdQuartile),v(e,a.EVENT_AD_COMPLETE,a.EVENT_TYPE_IMPRESSION,n.complete),v(e,a.EVENT_AD_MUTE,a.EVENT_TYPE_STANDARD,n.mute),v(e,a.EVENT_AD_UNMUTE,a.EVENT_TYPE_STANDARD,n.unmute),v(e,a.EVENT_AD_PAUSE,a.EVENT_TYPE_STANDARD,n.pause),v(e,a.EVENT_AD_RESUME,a.EVENT_TYPE_STANDARD,n.resume),v(e,a.EVENT_AD_REWIND,a.EVENT_TYPE_STANDARD,n.rewind),v(e,a.EVENT_AD_EXPAND,a.EVENT_TYPE_STANDARD,n.fullscreen),v(e,a.EVENT_AD_COLLAPSE,a.EVENT_TYPE_STANDARD,n.collapse),v(e,a.EVENT_AD_EXPAND,a.EVENT_TYPE_STANDARD,n.expand),v(e,a.EVENT_AD_CLOSE,a.EVENT_TYPE_STANDARD,n.stop),v(e,a.EVENT_AD_ACCEPT_INVITATION,a.EVENT_TYPE_STANDARD,n.acceptInvitation))}function y(e,n,i,o,s){if(t("initClickAndImpressionEvents"),e){if(n&&e.setClickThroughUrl(a.EVENT_AD_CLICK,n),i&&0<i.length&&v(e,a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK_TRACKING,i),o&&0<o.length)for(n=0;n<o.length;n++)o[n].url&&v(e,o[n].id,a.EVENT_TYPE_CLICK_TRACKING,[o[n].url]);s&&v(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,s)}}function _(e,i){if(t("initTemporalAdInstance"),e||n("initTemporalAdInstance: Invalid adInstance"),i.selectedDrivingAd){i.surveyUrl&&e._creative.setParameter("_fw_survey_url",i.surveyUrl);var o=i.selectedDrivingAd,r=i.selectedDrivingRenditions;t("vastRenditions:"+r);for(var a=A===x,l=0;l<r.length;l++){var c,u=r[l],d=e.addCreativeRendition(),p=d.addCreativeRenditionAsset("VAST_CRA",!0);e:switch(c=u.creativeType){case"video/mp4":c="video/mp4-h264";break e;case"video/3gp":c="video/3gpp"}if(t("initTemporalAdInstance() set rendition/asset [vastRd.creativeApi,vastAd.duration,vastRd.width,vastRd.height,vastRd.url,assetContentType,vastRd.creativeType] =  "+[u.creativeApi,o.duration,u.width,u.height,u.url,c,u.creativeType]),d.setCreativeApi(u.creativeApi),isNaN(o.duration)||d.setDuration(o.duration),u.width&&!isNaN(u.width)&&d.setWidth(u.width),u.height&&!isNaN(u.height)&&d.setHeight(u.height),u.url&&p.setUrl(u.url),u.code&&p.setContent(u.code),p.setMimeType(u.creativeType),"static"===u.resourceType&&"text/html"===u.creativeType?p.setContentType("text/html_doc_ref"):"application/x-javascript"===u.creativeType||"application/javascript"===u.creativeType?p.setContentType("text/js_ref"):"iframe"===u.resourceType?p.setContentType("text/html_doc_ref"):"text/html"===u.creativeType||"text/html_doc_ref"===u.creativeType?p.setContentType("text/html_doc_ref"):"text/html_doc_lit_mobile"===u.creativeType?p.setContentType("text/html_doc_lit_mobile"):a||s(c)?(p.setContentType("text/html_doc_lit_mobile"),p.setUrl(null),p.setContent(w(e,j.getCustomId(),o,u,"text/html_doc_lit_mobile"))):p.setContentType(c),o.creativeData&&0!==o.creativeData.length&&(t("initTemporalAdInstance(), set asset parameter VPAID_creativeData:"+o.creativeData),d.setParameter("VPAID_creativeData",o.creativeData)),a||s(c)||(u=u.bitrate,!isNaN(u)&&u>0&&p.setBytes(1e3*u*o.duration/8)),c=C,p=I,u=!1,d.getContentType()&&c){var h=d.getContentType().toLowerCase(),f=c.toLowerCase();h==f?u=!0:(0==h.indexOf("video/mp4")&&0==f.indexOf("video/mp4")||"application/javascript"==f&&"text/js_ref"==h)&&(d.setContentType(c),u=!0)}c=!1,d.getCreativeApi()&&p&&(h=d.getCreativeApi().toLowerCase(),f=p.toLowerCase(),h==f?c=!0:0==h.indexOf("mraid")&&0==f.indexOf("mraid")&&(c=!0,d.setCreativeApi(p))),u&&c?d.setPreference(10):c?d.setPreference(6):u?d.setPreference(5):d.setPreference(0),t("adjustMatchedRendition "+d.getId()+", contentType "+d.getContentType()+", creativeAPI "+d.getCreativeApi()+", preference "+d.getPreference())}g(e,o.trackingEvents),m(e,i),y(e,a?r[0].clickThrough:o.clickThrough,o.clickTrackings,o.customClicks,o.impressions)}else{var d=e.addCreativeRendition();d.setContentType("null/null");var p=d.addCreativeRenditionAsset("VAST_CRA",!0);p.setContentType("null/null")}}function w(e,n,i,o,s){return t("getCoadHTML, ad id = "+e.getAdId()),o.url&&0<o.url.length?((i=o.clickThrough)&&0<i.length&&e.setClickThroughUrl(a.EVENT_AD_CLICK,i),e=e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK)[0],a.HTMLAdGenerator.generateAd(o.url,e,n,o.width,o.height,o.creativeType,s)):o.code&&0<o.code.length?"script"===o.resourceType||"text/javascript"===o.resourceType||"text/js_ref"===o.resourceType||"application/x-javascript"===o.resourceType?a.HTMLAdGenerator.wrapJSCode(o.code,n,o.width,o.height):a.HTMLAdGenerator.wrapUnsafeHTML(o.code,n,o.width,o.height):null}function b(e,n,i,o){t("initPageAdInstance ad:"+n.getAdId());var s=i.vastRenditions[0];if(s.url||s.code){var r=n.addCreativeRendition(),l=r.addCreativeRenditionAsset("VAST_CRA",!0);r.setCreativeApi(s.creativeApi),r.setWidth(s.width),r.setHeight(s.height),"static"===s.resourceType&&"text/html"===s.creativeType?(l.setContentType("text/html_doc_ref"),l.setUrl(s.url)):"iframe"===s.resourceType?(l.setContentType("text/html_doc_ref"),l.setUrl(s.url)):"HTML"===s.resourceType?(l.setContentType("text/html_doc_lit_mobile"),l.setContent(a.HTMLAdGenerator.wrapUnsafeHTML(s.code,e.getCustomId(),s.width,s.height))):(l.setContentType("text/html_doc_lit_mobile"),l.setContent(w(n,e.getCustomId(),i,s,"text/html_doc_lit_mobile"))),l.setMimeType("text/html")}else t("initPageAdInstance will add a tracking only companion ad");g(n,i.trackingEvents),m(n,o),y(n,s.clickThrough,s.clickTrackings,s.customClicks,i.impressions)}function k(n){if(200==n.status)if(n.responseXML){var i=(new f).parseAdData(n.responseXML);if(i){if(t("scheduleVastAds"),i&&0!==i.length)if(n=i[0].selectedPackage,i=i[0].redirectPackage,n||i){if(!n&&i){t("scheduleVastAds(), no ads scheduled, redirect to downstream Secondary Ad Server"),t("scheduleRedirect");var n=[],o=[];n.push(j),o.push({});for(var s=S,r=i.selectedCompanionAds,l=0;l<s.length;l++){var c=s[l];r&&r[c.getCustomId()]&&(n.push(c),o.push(r[c.getCustomId()]))}for((s=e.scheduleAdInstances(n))&&0<s.length&&(r=s[0],l=r.addCreativeRendition(),l.setWrapperUrl(i.tagUrl),l.setWrapperType(R),l.setContentType(C),l.setCreativeApi(I),g(r,i.getTrackingEventsOfWrapper()),m(r,i),y(r,i.getClickThroughOfWrapper(),i.getClickTrackingsOfWrapper(),i.getCustomClicksOfWrapper(),i.getImpressionOfWrapper())),t("scheduleRedirect, schedule companion for redirect ad ",i),l=1;l<s.length;l++)(r=s[l])&&(c=o[l],c instanceof h&&b(n[l],r,c,i))}else if(n){for(t("scheduleVastAds(), ads returned from vast response, going to schedule them"),n.selectedDrivingAd?(t("scheduleVastAds(), ads returned from vast response, going to schedule them with driving ad"),n.selectedDrivingAd.isDrivingAd=!0):t("scheduleVastAds(), ads returned from vast response, going to schedule them without driving ad"),t("scheduleAdPackage()"),i=[],o=[],i.push(j),n.selectedDrivingAd&&o.push(n.selectedDrivingAd),s=S,r=n.selectedCompanionAds,l=0;l<s.length;l++)c=s[l],r&&r[c.getCustomId()]&&(i.push(c),o.push(r[c.getCustomId()]));if(r=e.scheduleAdInstances(i),0<r.length){for(t(""),n.selectedDrivingAd||t("Driving ad is not selected, will create a dummy null ad."),n.selectedDrivingAd||(i.shift(),_(r.shift(),n)),l=0;l<r.length;l++)if(c=r[l]){var u=o[l];u instanceof h?b(i[l],c,u,n):_(c,n)}!n.selectedDrivingAd&&0<s.length&&0<n.companionAds.length&&0===o.length&&(t("found empty companion slots and companion ads in package, but none of them matches slot size"),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_UNMATCHED_SLOT_SIZE}))}else t("scheduleAdPackage, no ad scheduled.")}}else t("scheduleVastAds(), no ads from vast response!!!"),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_NO_AD_AVAILABLE});else t("no ads for scheduleVastAds");e.handleStateTransition(a.TRANSLATOR_STATE_STARTED),e.handleStateTransition(a.TRANSLATOR_STATE_COMPLETED)}}else e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_PARSE,errorInfo:O});else 400<=n.status&&e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_IO,errorInfo:O})}var E="image/gif,image/jpeg,image/png,text/html,text/javascript,text/html_doc_ref,text/html_doc_lit_mobile,application/x-javascript,application/javascript".split(","),x=4,T=e.getAdInstance(),j=T.getSlot(),A=function(){if(!j)return 1;switch(j.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_POSTROLL:return 2;case a.TIME_POSITION_CLASS_OVERLAY:return x;case a.TIME_POSITION_CLASS_DISPLAY:return j&&!j.getBase()?8:1;default:return 1}}(),S=e.getCompanionSlots().filter(function(e){if(!e)return!1;switch(e.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_PAUSE_MIDROLL:case a.TIME_POSITION_CLASS_POSTROLL:return!1;default:return!0}});t("Checking CompanionSlots, length = "+S.length+", rendererController.getCompanionSlots().length = "+e.getCompanionSlots().length+", AdInstance.getCompanionSlots.length = "+T.getCompanionSlots().length);var C=T.getActiveCreativeRendition().getContentType(),I=T.getActiveCreativeRendition().getCreativeApi()||"None";this.log("ExpectedDrivingContentType:"+C+", ExpectedDrivingAPI:"+I);var R=T.getActiveCreativeRendition().getWrapperType();l.prototype={init:function(e,t,n,i,o,s,r,a){this.log("init("+[].slice.call(arguments,0).join(",")+")"),this.url=e,this.width=1*t,this.height=1*n,this.creativeType=i,this.resourceType=o,this.bitrate=s;var l;if(l=r,l&&0!==l.length){var c="";switch(l.toLowerCase()){case"flashvar":case"flashvars":c="clickTag";break;case"vpaid":c="VPAID";break;case"mraid":c="MRAID-1.0";break;default:c=l}l=c}else l="None";this.creativeApi=l,this.code=a||null},log:function(e){a.log("VastTranslator.VastRendition\t"+e)},toString:function(){var e,t=[];for(e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&"ad"!==e&&t.push(e+":"+this[e]);return t.join(",")}},l.prototype.constructor=l,u.prototype={parse:function(e){if(this.log("parse()"),e.Duration)if(e.Duration.value){var t=/(\d+):(\d+):(\d+)/.exec(e.Duration.value);t?this.duration=3600*t[1]+60*t[2]+1*t[3]:this.warn("Failed to parse duration value for creative "+e)}else this.warn("No duration value set for creative "+e);e.VideoClicks&&(e.VideoClicks=[].concat(e.VideoClicks),a.Util.forEachOnArray(e.VideoClicks,function(e){if(e.ClickThrough&&e.ClickThrough.value&&(this.clickThrough=r(e.ClickThrough.value)),e.ClickTracking){e.ClickTracking=[].concat(e.ClickTracking);for(var t=0;t<e.ClickTracking.length;t++){var n=r(e.ClickTracking[t].value);n&&this.clickTrackings.push(n)}}if(e.CustomClick)for(e.CustomClick=[].concat(e.CustomClick),t=0;t<e.CustomClick.length;t++){var i=null;e.CustomClick[t]["@attributes"]&&(i=e.CustomClick[t]["@attributes"].id),(n=r(e.CustomClick[t].value))&&this.customClicks.push({id:i,url:n})}},this)),e.MediaFiles&&e.MediaFiles.MediaFile&&(e.MediaFiles.MediaFile=[].concat(e.MediaFiles.MediaFile),a.Util.forEachOnArray(e.MediaFiles.MediaFile,function(e){var t=r(e.value),n=NaN,i=NaN,o=null,s="None",a=NaN;e["@attributes"]&&(n=e["@attributes"].width||NaN,i=e["@attributes"].height||NaN,o=e["@attributes"].type,s=e["@attributes"].apiFramework||"None",a=e["@attributes"].bitrate||NaN),t&&-1!==t.indexOf(":")?(e=new l(this),e.init(t,n,i,o,"",a,s,null),e.clickThrough=this.clickThrough,this.vastRenditions.push(e),(isNaN(n)||isNaN(i))&&this.log("continue with missing [width,height]"+[n,i])):this.warn("will ignore this mediaFile because some required field is missing [url,width,height]:"+[t,n,i])},this)),e.TrackingEvents&&this.parseTrackingEvents(e.TrackingEvents,this.setTrackingEvents()),e.AdParameters&&(this.log("parse() get a AdParameters:"+e.AdParameters.value),this.creativeData=e.AdParameters.value),e.Companion&&(e.Companion=[].concat(e.Companion),a.Util.forEachOnArray(e.Companion,function(e){var t=null,n=null,i="",o="",c=null,u=null,d=!1;e.CompanionClickThrough&&(o=r(e.CompanionClickThrough.value)),e.StaticResource&&(t=r(e.StaticResource.value),e.StaticResource["@attributes"]&&(n=e.StaticResource["@attributes"].creativeType),i="static"),e.IFrameResource&&(t=r(e.IFrameResource.value))&&(n="text/html_doc_ref",i="iframe"),e.HTMLResource&&(c=e.HTMLResource["#cdata-section"]||"",c=a.Util.trim(c))&&(n="text/html_doc_lit_mobile",i="HTML"),e.TrackingEvents&&(u=e.TrackingEvents);var p=new h(this.adp);if(p.sequence=this.sequence,p.clickThrough=o,u&&p.parseTrackingEvents(u,p.setTrackingEvents()),e["@attributes"]){var u=e["@attributes"].width||NaN,f=e["@attributes"].height||NaN,e=e["@attributes"].apiFramework||"None";if((t&&-1!==t.indexOf(":")||c)&&!isNaN(u)&&!isNaN(f)&&s(n)||this.adp.isWrapper){var v=new l(p);v.init(t,u,f,n,i,NaN,e,c),v.clickThrough=o,p.vastRenditions.push(v)}else d=!0,this.warn("will ignore this rendition because some required fields is missing or incompatible [creativeType,url,code,width,height]:"+[n,t,c,u,f])}else this.adp.isWrapper||(d=!0,this.warn("for InLine ad package, No attributes found for the Companion ads:"+e));d?this.adp.isWrapper&&this.adp.companionAds.push(p):this.adp.companionAds.push(p)},this)),e.NonLinear&&(e.NonLinear=[].concat(e.NonLinear),a.Util.forEachOnArray(e.NonLinear,function(e){var t=null,n=null,i="",o="",c="",u=null,d=!1;e.AdParameters&&(c=e.AdParameters.value),e.NonLinearClickThrough&&(o=r(e.NonLinearClickThrough.value)),e.StaticResource&&(t=r(e.StaticResource.value),e.StaticResource["@attributes"]&&(n=e.StaticResource["@attributes"].creativeType),i="static"),e.IFrameResource&&(t=r(e.IFrameResource.value),n="text/html_doc_ref",i="iframe"),e.HTMLResource&&(u=e.HTMLResource["#cdata-section"]||"",u=a.Util.trim(u),n="text/html_doc_lit_mobile",i="HTML");var h=new p(this.adp);if(h.sequence=this.sequence,h.clickThrough=o,h._trackingEvents=this._trackingEvents,c&&(h.creativeData=c),e["@attributes"]){var c=e["@attributes"].width||NaN,f=e["@attributes"].height||NaN,e=e["@attributes"].apiFramework||"None";if(!t&&!u||isNaN(c)||isNaN(f)||!s(n))d=!0,this.warn("will ignore this rendition because some required fields is missing or incompatible:[creativeType,url,code,width,height]:"+[n,t,u,c,f]);else{var v=new l(h);v.init(t,c,f,n,i,NaN,e,u),v.clickThrough=o,h.vastRenditions.push(v)}}else this.adp.isWrapper||(d=!0,this.warn("for InLine ad package, No attributes found for the NonLinear ads:"+e));this.adp.nonLinearAds.push(h),d?this.adp.isWrapper&&this.adp.nonLinearAds.push(h):this.adp.nonLinearAds.push(h)},this))},parseLinears:function(e){2!=A?this.log("TargetAdType != TARGET_LINEAR, skipping parse"):this.parse(e)},parseNonLinears:function(e){A!==x?this.log("TargetAdType != TARGET_NONLINEAR, skipping parse"):this.parse(e)},parseCompanionAds:function(e){this.parse(e)},setTrackingEvents:function(){return this._trackingEvents||(this._trackingEvents=new c),this._trackingEvents},parseTrackingEvents:function(e,t){this.log("parseTrackingEvents"),e.Tracking&&(e.Tracking=[].concat(e.Tracking),a.Util.forEachOnArray(e.Tracking,function(e){var n=e["@attributes"].event;if(e=r(e.value))switch(n){case"creativeView":case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":case"mute":case"unmute":case"pause":case"resume":case"rewind":case"replay":case"fullscreen":case"expand":case"collapse":case"acceptInvitation":case"stop":t[n].push(e);break;case"close":t.stop.push(e)}},this))},toString:function(){return this.constructor.name+", renditions:"+this.vastRenditions},log:function(e){a.log("VastTranslator."+this.constructor.name+"\t"+e)},warn:function(e){a.warn("VastTranslator."+this.constructor.name+"\t"+e)}};var U=Object.defineProperty||function(e,t,n){n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)};U(u.prototype,"trackingEvents",{get:function(){return this.log("get trackingEvents()"),this._trackingEvents?this._trackingEvents:this.isDrivingAd?this.adp.trackingEvents:null}}),U(u.prototype,"impressions",{set:function(e){this._impressions=e},get:function(){return this.isDrivingAd?this._impressions.concat(this.adp.impressions):this._impressions}}),u.prototype.constructor=u,d.prototype=new u,d.prototype.constructor=d,p.prototype=new u,p.prototype.constructor=p,h.prototype=new u,h.prototype.getPrimaryRendition=function(){return this.vastRenditions[0]||null},U(h.prototype,"impressions",{get:function(){return 8===A?this._impressions.concat(this.adp.impressions):this._impressions}}),h.prototype.constructor=h;var P=function(){this.impressions=[],this.errorTrackings=[],this.linearAds=[],this.nonLinearAds=[],this.companionAds=[],this.extensions=[],this.tagUrl="",this.isWrapper=!1,this.surveyUrl=null,this.selectedDrivingRenditions=[],this.selectedDrivingAd=null,this.selectedCompanionAds={}};P.prototype={parse:function(e){if(this.log("parse("+e+")"),e)if(e.Creatives&&(this.isWrapper||e.Creatives.Creative)){o(this.impressions,e.Impression),o(this.extensions,e.Extensions),o(this.errorTrackings,e.Error),this.isWrapper&&e.VASTAdTagURI&&(this.tagUrl=e.VASTAdTagURI.value||""),e.Survey&&e.Survey.value&&0<e.Survey.value.length&&(this.surveyUrl=e.Survey.value),e.Creatives.Creative=e.Creatives.Creative?[].concat(e.Creatives.Creative):[];for(var t=0;t<e.Creatives.Creative.length;t++){var n,i=e.Creatives.Creative[t],s=-1;i["@attributes"]&&(s=i["@attributes"].sequence||-1,s*=1),i.Linear?(n=new d(this),n.sequence=s,n.parseLinears(i.Linear),this.linearAds.push(n)):i.NonLinearAds?(n=new p(this),n.sequence=s,n.parseNonLinears(i.NonLinearAds)):i.CompanionAds&&(n=new h(this),n.sequence=s,n.parseCompanionAds(i.CompanionAds))}}else this.warn("parse(): no creative found");else this.warn("parse(): empty adpackage")},testAndUpdatePackageForTemporalSlot:function(e){if(this.log("testAndUpdatePackageForTemporalSlot("+e+")"),e=e?this.linearAds:this.nonLinearAds,1>e.length)return!1;this.log("testAndUpdatePackageForTemporalSlot(), ads.length = "+e.length);var t=!1;if(!t)for(var n=0;n<e.length;n++){var i=this.findRenditionGroupByContentType(e[n]);if(0<i.length){this.log("testAndUpdatePackageForTemporalSlot() : found driving ad and renditions group: "+i),this.selectedDrivingRenditions=i,this.selectedDrivingAd=e[n],t=!0;break}}return t},testAndUpdatePackageForPageSlots:function(e){var t=!1,n=this.companionAds,i=S.slice(0),o=null;if(this.log("testAndUpdatePackageForPageSlots("+e+"), ads are "+n.join(",")+", slots are "+i.join(",")),e){if(o=this.matchAdsToSlots(n,i),0<o.length)for(t=!0,e=0;e<o.length;e++)n=o[e],i=n.ad,this.selectedCompanionAds[n.slot.getCustomId()]=i}else o=this.matchAdsToSlots(n,[j]),1===o.length?(t=!0,this.selectedDrivingAd=o[0].ad):this.selectedDrivingAd=null;return t},renditionFitsInSlot:function(e,t){return!!e&&(e.width<=t.getWidth()&&e.height<=t.getHeight())},calcDeadSpaceRatio:function(e,t){var n=e.getPrimaryRendition();return!!n&&(this.log("ad w,h  slot w,h"+[n.width,n.height,t.getWidth(),t.getHeight()]),this.renditionFitsInSlot(n,t)?1-n.width*n.height/t.getWidth()*t.getHeight():1)},matchAdsToSlots:function(e,t){this.log("matchAdsToSlots(ads="+e.join(",")+", slots="+t.join(",")+")");for(var n=[],i=null,o=null,s=1,r=0;r<e.length;r++)for(var a=e[r],l=0;l<t.length;l++){var c=t[l],u=this.calcDeadSpaceRatio(a,c);s>u&&(i=a,o=c,s=u)}return null!==i&&(n.push({ad:i,slot:o}),e.splice(e.indexOf(i),1),t.splice(t.indexOf(o),1),n=n.concat(this.matchAdsToSlots(e,t))),this.log("matchAdsToSlots: winningAd:"+i+" winningSlot:"+o+" ratio:"+s),n},getAllRenditions:function(e){return e.vastRenditions},findRenditionGroupByContentType:function(e){this.log("findRenditionGroupByContentType:"+e);var t=[];if(e instanceof d&&isNaN(e.duration))return this.warn("findRenditionGroupByContentType(), duration of linear ad is NaN, will not used for scheduling"),t;for(var n=this.getAllRenditions(e),i=0;i<n.length;i++){var o=n[i];if(e instanceof d){if(null==o.creativeType||""==a.Util.trim(o.creativeType)){this.warn("findRenditionGroupByContentType, the contentType "+o.creativeType+" not supported for linearAd");continue}}else if(!s(o.creativeType)){this.warn("findRenditionGroupByContentType, the contentType "+o.creativeType+" not supported for non-linearAd");continue}t.push(o)}return t},formalizeString:function(e){return e?a.Util.trim(e).toLowerCase():""},getAdsByTargetType:function(){this.log("getAdsByTargetType");var e=[];switch(A){case 8:e=this.companionAds;break;case 2:e=this.linearAds;break;case x:e=this.nonLinearAds}for(var t=0;t<e.length;t++)e[t].isDrivingAd=!0;return e},getImpressionOfWrapper:function(){this.log("getImpressionOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i&&i._impressions&&0<i._impressions.length){t=i._impressions;break}}return t||(t=this.impressions),t},getTrackingEventsOfWrapper:function(){this.log("getTrackingEventsOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i&&i._trackingEvents){t=i._trackingEvents;break}}return t},getClickThroughOfWrapper:function(){this.log("getClickThroughOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.clickThrough&&(t=i.clickThrough);for(var i=i.vastRenditions,o=0;o<i.length;o++){var s=i[o];if(s.clickThrough){t=s.clickThrough;break}}if(t)break}}return t},getClickTrackingsOfWrapper:function(){this.log("getClickTrackingsOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.clickTrackings&&0<i.clickTrackings.length&&(t=i.clickTrackings);for(var i=i.vastRenditions,o=0;o<i.length;o++){var s=i[o];if(s.clickTrackings&&0<s.clickTrackings.length){t=s.clickTrackings;break}}if(t)break}}return t},getCustomClicksOfWrapper:function(){this.log("getCustomClicksOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i){i.customClicks&&0<i.customClicks.length&&(t=i.customClicks);for(var i=i.vastRenditions,o=0;o<i.length;o++){var s=i[o];if(s.customClicks&&0<s.customClicks.length){t=s.customClicks;break}}if(t)break}}return t},testWrapperForRedirect:function(){return this.log("testAndUpdateWrapperForRedirect()"),this.tagUrl&&0<this.tagUrl.length},log:function(e){a.log("VastTranslator.VastAdPackage\t"+e)},warn:function(e){a.warn("VastTranslator.VastAdPackage\t"+e)}},P.prototype.constructor=P,f.prototype={getVastVersion:function(e){return this.log("getVastVersion("+e+")"),e?0===e.indexOf("3.")?3:0===e.indexOf("2.")?2:0===e.indexOf("1.")?1:-1:-1},parseAdData:function(t){this.log("parseAdData()");var n,i={};i.selectedPackage=null,i.redirectPackage=null;var o=a.Util.xmlToJson(t);if(o&&o.VAST&&o.VAST["@attributes"]&&2===this.getVastVersion(o.VAST["@attributes"].version)){if(o.VAST.Ad){o.VAST.Ad=[].concat(o.VAST.Ad);var s,r=[],t=[];for(n=0;n<o.VAST.Ad.length;n++)s=new P,s.isWrapper=!!o.VAST.Ad[n].Wrapper,s.isWrapper?(s.parse(o.VAST.Ad[n].Wrapper),t.push(s)):(s.parse(o.VAST.Ad[n].InLine),r.push(s));if(o=!1,0===r.length&&0===t.length)return this.log("parseAdData(): no ads from vast response!!!"),[i];for(this.log("parseAdData(): "+r.length+"inline ads, "+t.length+" wrapper ads."),s=null,n=0;n<r.length;n++)if(this.selectUsableAdsForDrivingSlot(r[n])){this.log("parseAdData(): package for driving slot is found!!!"),s=r[n];break}if(n=0<S.length&&T.getSlot().getTimePositionClass()!==a.TIME_POSITION_CLASS_DISPLAY,s)n&&this.selectUsableAdsCompanionSlots(s)&&this.log("parseAdData(): companion ads are found for companion slots, with driving slot"),i.selectedPackage=s;else if(n){n=!1;for(var l=0;l<r.length;l++)s=r[l],this.selectUsableAdsCompanionSlots(s)&&(this.log("parseAdData(): companion ads are found for companion slots,without driving slot"),i.selectedPackage=s,n=!0);n||(this.log("parseAdData(): companion ads are not found for companion slots,without driving slot"),o=!0)}else this.log("parseAdData(): no usable ads found in vast response!!!"),o=!0;if(o&&0<t.length)for(r=0;r<t.length;r++)if(this.testWrapperForRedirect(t[r])){i.redirectPackage=t[r],this.selectUsableAdsCompanionSlots(t[r])&&this.log("parseAdData(): companion ads are found for wrapper ad");break}return[i]}e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_NO_AD_AVAILABLE})}else e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_PARSE})},selectUsableAdsForDrivingSlot:function(e){this.log("selectUsableAdsForDrivingSlot()");var t=!0;switch(A){case 2:t=this.testAndUpdatePackageForTemporalSlot(e,!0);break;case x:t=this.testAndUpdatePackageForTemporalSlot(e,!1);break;case 8:t=this.testAndUpdatePackageForPageSlots(e,!1);break;default:t=!1}return t},selectUsableAdsCompanionSlots:function(e){return this.log("selectUsableAdsCompanionSlots(pk)"),this.testAndUpdatePackageForPageSlots(e,!0)},testAndUpdatePackageForTemporalSlot:function(e,t){return this.log("testAndUpdatePackageForTemporalSlot(pk,isLinear), isLinear = "+t),e.testAndUpdatePackageForTemporalSlot(t)},testAndUpdatePackageForPageSlots:function(e,t){return this.log("testAndUpdatePackageForPageSlots(pk,isCompanion) isCompanion = "+t),e.testAndUpdatePackageForPageSlots(t)},testWrapperForRedirect:function(e){return this.log("testWrapperForRedirect(pk)"),e.testWrapperForRedirect()},log:function(e){a.log("VastTranslator.VastParser\t"+e)},warn:function(e){a.warn("VastTranslator.VastParser\t"+e)}};var O=T.getActiveCreativeRendition().getWrapperUrl(),U=T.getActiveCreativeRendition().getWrapperType();if(t("AdInstance.getActiveCreativeRendition().getWrapperUrl()="+O+", getWrapperType()="+U),"external/vast-2"!==U)e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_NO_RENDERER,errorInfo:"wrapperType="+U});else if(O&&0!==O.length){U=e.getParameter("translator.vast.asyncLoad"),U=!0===a.Util.str2bool(U),t("will load vast xml, asyncAjax:"+U);var N=e.getParameter("translator.vast.loadWithCookie"),N=!0===a.Util.str2bool(N),D=null;try{window.XDomainRequest?(D=new XDomainRequest,U=!0):(D=new XMLHttpRequest,D.withCredentials=N),U?(D.open("GET",O),window.XDomainRequest?D.onload=function(){var e=new ActiveXObject("Microsoft.XMLDOM");e.async=!1,e.loadXML(D.responseText),D.responseXML=e,D.status=200,k(D)}:D.onreadystatechange=function(){4==D.readyState&&k(D)},D.onerror=function(){window.XDomainRequest&&(D.status=0),0==D.status?(n("CORS error"),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_SECURITY,errorInfo:O})):(n("exception:"+D.statusText),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorInfo:D.statusText}))},D.send()):(D.open("GET",O,!1),D.send(),k(D))}catch(t){if(U=!1,window.XMLHttpRequestException){if(t instanceof XMLHttpRequestException)switch(t.code){case XMLHttpRequestException.NETWORK_ERR:U=!0}}else t.code===DOMException.NETWORK_ERR&&(n("CORS in IE10"),U=!0);U?(n("CORS error:"+t),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_SECURITY,errorInfo:O})):(n("exception:"+t),e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorInfo:t}))}}else e.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:a.ERROR_NULL_ASSET,errorInfo:"wrapperUrl="+O})},info:function(){return{moduleType:a.MODULE_TYPE_TRANSLATOR}},log:function(e){a.log("VastTranslator\t"+e)},warn:function(e){a.warn("VastTranslator\t"+e)},getPlayheadTime:function(){return-1},getDuration:function(){return-1}},a.VastTranslator.prototype.constructor=a.VastTranslator,a.VideoAsset=function(e){this._defaultTimeouts=[5,10,15,30,60,120,180,300],this._context=e,this._internalState=a.MediaInitState.instance,this._eventCallback=this._state="",this._callbackTimer=null,this._requestedVideoViewUrl=this._videoPlayPending=!1,this._dummyInstanceId="",this._delay=0,this._location=this._networkId=this._duration=this._customId=this._id="",this._autoPlayType=a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED,this._viewRandom=this._fallbackId=0},a.VideoAsset.prototype={setVideoAsset:function(e,t,n,i,o,s,r,l){if(e){var c=!1;switch(r){case a.ID_TYPE_FW:c=this._id!=e,this._id=e;break;case a.ID_TYPE_GROUP:c=this._id!="g"+e,this._id="g"+e;break;default:c=this._customId!=e,this._customId=e}c&&(this._eventCallback=""),"number"==typeof t&&(this._duration=Math.round(10*t)/10),1*n>0&&(this._networkId=1*n),"string"==typeof i&&(this._location=i),"number"==typeof o&&(this._autoPlayType=o),1*s>0&&(this._viewRandom=1*s),1*l>0&&(this._fallbackId=1*l),this._videoPlayPending&&this.play()}else a.warn("AdRequest.setVideoAsset","id is required.")},setVideoState:function(e){e===a.VIDEO_STATE_PLAYING?this.play():e===a.VIDEO_STATE_PAUSED||e===a.VIDEO_STATE_STOPPED?this.pause():e===a.VIDEO_STATE_COMPLETED&&this.complete(),this._state=e},callback:function(e){this._eventCallback?this._eventCallback.process():e=!0,e||((e=this._defaultTimeouts.shift())||(e=300),this._callbackTimer=new a.Timer(e,a.Util.bind(this,this.callback)),this._callbackTimer.start())},getPlayheadTime:function(){var e=this._delay;return this._delay=0,e+=this._callbackTimer?this._callbackTimer.getCTValue():0,Math.floor(e)},play:function(){this._context._adManager._serverURL&&this._context._adManager._networkId&&(this._id||this._customId)?this._eventCallback?(this._videoPlayPending=!1,this._internalState.play(this)):this._requestedVideoViewUrl||(this._requestedVideoViewUrl=!0,this.requestForVideoViewCallback(),this._callbackTimer)||(this._callbackTimer=new a.Timer,this._callbackTimer.tick()):(a.warn("Server URL or Network ID or Video Asset id/customId is not set, pend video asset play request."),this._videoPlayPending=!0,this._callbackTimer||(this._callbackTimer=new a.Timer,this._callbackTimer.tick()))},pause:function(){this._internalState.pause(this)},complete:function(){this._internalState.complete(this)},onStartPlaying:function(){this.callback()},onStartReplaying:function(){this.callback()},onPausePlaying:function(){this.callback(!0),this._callbackTimer.pause()},onResumePlaying:function(){this._callbackTimer.start()},onCompletePlaying:function(){this.callback(!0),this._callbackTimer.stop(),this._callbackTimer=null,this._eventCallback="",this._requestedVideoViewUrl=!1},onCompleteReplaying:function(){this.onCompletePlaying()},setMediaState:function(e){this._internalState=e},requestForVideoViewCallback:function(){var e=new a.Context(this._context._adManager);e._videoAsset=this,this._dummyInstanceId=e._instanceId;
var e=this._context._adRequest.generateVideoViewRequestUrlWithDummyContextInstanceId(e._instanceId),t=this;a.PLATFORM_SEND_REQUEST_BY_FORM?(a.debug("Context.submitRequest:","use json2"),a.Util.pingURLWithForm(e,this._dummyInstanceId,!0),t._onMessagePosted=function(e){"object"==typeof e.data&&e.data.hasOwnProperty("cbfn")&&-1<e.data.cbfn.indexOf("['Context_"+this._dummyInstanceId+"']")&&t.requestComplete(e.data.response)},window.addEventListener("message",t._onMessagePosted,!1)):a.Util.pingURLWithScript(e)},requestComplete:function(e){if(this._delay=this._callbackTimer.tick(),this._callbackTimer=null,a.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var t=document.getElementById("_fw_request_iframe_"+this._dummyInstanceId);document.body.removeChild(t)}null!==e?(a._instanceQueue["Context_"+this._dummyInstanceId]=null,this.parse(a.Util.getObject("siteSection.videoPlayer.videoAsset",e)||{}),this.play()):a.warn("Failed to get video view callback url.")},parse:function(e){if(e){this._customId=e.customId,this._networkId=parseInt(e.networkId);for(var t=0,n=e.eventCallbacks||[];t<n.length;t++){var e=n[t],i=a.EventCallback.newEventCallback(this._context,e.name,e.type);if(i&&e.name===a.EVENT_VIDEO_VIEW){i.parse(e),this._eventCallback=i,a.debug("Parsed video view url: "+this._eventCallback._url);break}}}}},a.VideoRenderer=function(){this._adVideo=null,this._duration=this._playheadTime=-1,this._dragging=this._stopInvoked=this._isEnded=!1},a.VideoRenderer.prototype={start:function(e){var t=e.getAdInstance(),n=t.getSlot(),i=this,o=!1;if(a.PLATFORM_NOT_SUPPORT_VIDEO_AD)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:n.getTimePositionClass()});else if(a.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&n.getTimePositionClass()===a.TIME_POSITION_CLASS_MIDROLL)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"midroll"});else{a.log("VideoRenderer.start",n.getTimePositionClass(),t);var s=e.getContentVideoElement(),r=n.getVideoDisplaySize().width,l=n.getVideoDisplaySize().height,c=t.getRenderableCreativeRenditions(),u=(r=new a.RenditionSelector(e.getParameter(a.PARAMETER_DESIRED_BITRATE)||1e3,e.getParameter("arWeight")||1,e.getParameter("pxWeight")||1,.2).getBestFitRendition(c,r,l))?r.getPrimaryCreativeRenditionAsset():null;if(!u&&c.length)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"no compatible asset"});else if(u&&u.getUrl()){t.setActiveCreativeRendition(r),a.log("VideoRenderer.start selected rendition is:",u.getUrl()),e.setCapability(a.EVENT_AD_QUARTILE,a.CAPABILITY_STATUS_ON);var d=!a.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO;d||e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF);var p=a.PLATFORM_EVENT_CLICK,h=a.MOBILE_EVENT_DRAG;a.debug("VideoRenderer","use content video element"),s.controls=!1,this._adVideo=s;var f,v,m=null,g=null,y=null,_=function(e){a.debug("VideoRenderer.checkTimeUpdate timeout"),C(e)},w=function(){g&&(clearTimeout(g),g=null)},b=a.Util.bind(this,function(t){a.debug("onAdVideoBufferEmpty(): Ad video event "+t.type),t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED),null==t||"undefined"==typeof t||!1===a.Util.str2bool(t)||(a.debug("play the ad immediately after the stalled event"),s&&s._fw_videoAdPlaying&&s.play())}),k=a.Util.bind(this,function(t){if(s.paused&&a.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED)s.play();else if(!e.getParameter(a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT)){var n=e.getParameter(a.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION);null==n&&(n="true"),!1!==a.Util.str2bool(n)&&(a.debug("Ad video event "+t.type),this._dragging?this._dragging=!1:e.processEvent({name:a.EVENT_AD_CLICK}))}}),E=a.Util.bind(this,function(e){a.debug("Ad video event "+e.type),this._dragging=!0}),x=function(t){if(a.debug("Ad video event "+t.type+" ended: "+s.ended+" playing:"+s._fw_videoAdPlaying),s.ended&&.2>Math.abs(s.duration-s.currentTime)||!s._fw_videoAdPlaying)f=setTimeout(function(){a.warn("Force ad video end bc ad paused with ended = true"),t.type="ended",v(t)},200);else{var n=e.getParameter(a.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE);null==n&&(n="true"),!1===a.Util.str2bool(n)?a.debug("Pause controls disabled"):s.controls=!0,w()}},T=function(e){a.debug("Ad video event "+e.type),s.controls=!1},j=!1,A=0,S=function(){if(w(),!s.paused){var t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT)||8e3;g=setTimeout(_,t,t+"ms timeout when playing")}j||(j=!0,i._playheadTime=s.currentTime,0>i._playheadTime&&(i._playheadTime=0),m&&(clearTimeout(m),m=null),i._quartileTimerId=setInterval(function(){var t=s.currentTime,n=s.duration;t>0&&(i._playheadTime=t),n>0&&(i._duration=n),"number"!=typeof t||"number"!=typeof n||y||(t>=.25*n&&1>A&&(e.processEvent({name:a.EVENT_AD_FIRST_QUARTILE}),A=1),t>=.5*n&&2>A&&(e.processEvent({name:a.EVENT_AD_MIDPOINT}),A=2),t>=.75*n&&3>A&&(clearInterval(i._quartileTimerId),i._quartileTimerId=null,e.processEvent({name:a.EVENT_AD_THIRD_QUARTILE}),A=3))},1e3),e.handleStateTransition(a.RENDERER_STATE_STARTED))};this.dispose=a.Util.bind(this,function(){v()}),v=function(t){var n=y;t&&t.type&&(a.debug("Ad video event "+t.type),"error"===t.type&&(a.warn(t.target.src),a.warn(t.target.currentSrc))),w(),m&&(clearTimeout(m),m=null),d&&(s.removeEventListener(p,k,!1),s.removeEventListener(h,E,!1)),f&&(clearTimeout(f),f=null),s.removeEventListener("ended",v,!1),s.removeEventListener("error",v,!0),s.removeEventListener("pause",x,!1),s.removeEventListener("playing",T,!1),s.removeEventListener("timeupdate",S,!1),s.removeEventListener("stalled",b,!1),s.paused||(a.debug("try pausing video before complete"),s.pause()),t&&"error"===t.type&&(n="video error",(t=s.error||t.target.error)&&(n="error:"+t+",code:"+t.code)),n||(i._isEnded=!0),a.log("VideoRenderer.complete"),o||(o=!0,delete s._fw_videoAdPlaying,i._adVideo=null,i._quartileTimerId&&(clearInterval(i._quartileTimerId),i._quartileTimerId=null),n?e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorInfo:n}):(i._stopInvoked||(s.currentTime>=.25*s.duration&&1>A&&(e.processEvent({name:a.EVENT_AD_FIRST_QUARTILE}),A=1),s.currentTime>=.5*s.duration&&2>A&&(e.processEvent({name:a.EVENT_AD_MIDPOINT}),A=2),s.currentTime>=.75*s.duration&&3>A&&(e.processEvent({name:a.EVENT_AD_THIRD_QUARTILE}),A=3),s.currentTime>=s.duration-.5&&4>A&&(e.processEvent({name:a.EVENT_AD_COMPLETE}),A=4)),i._stopInvoked=!1,e.handleStateTransition(a.RENDERER_STATE_COMPLETED)))};var C=function(e){y=e,a.warn(y),a.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT||v()};s._fw_videoAdPlaying=!0;var I=!1,R=function(){if(!I){if(I=!0,d&&(s.addEventListener(p,k,!1),s.addEventListener(h,E,!1)),s.addEventListener("ended",v,!1),s.addEventListener("error",v,!0),s.addEventListener("pause",x,!1),s.addEventListener("playing",T,!1),s.addEventListener("timeupdate",S,!1),s.addEventListener("stalled",b,!1),s.src=u.getUrl(),a.log("VideoRenderer play video ad "+s.src),s.load(),s._fw_fromVideoPool||a.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT){var t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5e3;m=setTimeout(C,t,t+"ms timeout before playing")}a.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE&&e.handleStateTransition(a.RENDERER_STATE_STARTED),0<a.PLATFORM_ANDROID_VERSION?(t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY)||100,setTimeout(function(){s.play()},t)):setTimeout(function(){s.play()},100)}};a.VideoRenderer._fw_playedDummyVideo||n.getTimePositionClass()!==a.TIME_POSITION_CLASS_PREROLL||!a.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL||/\.webm$/.test(u.getUrl())?R():(a.VideoRenderer._fw_playedDummyVideo=!0,a.debug("play dummy video for iOS 3.2-4.1"),s.src="http://127.0.0.1:1/404.mp4",s.load(),s.play(),s._fw_videoAdPlaying=!0,s.addEventListener("error",function(){event.target.removeEventListener("error",arguments.callee,!0),R()},!0),setTimeout(R,a.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL?500:5e3))}else e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_NULL_ASSET})}},stop:function(){a.debug("VideoRenderer stop"),this._stopInvoked=!0,this._adVideo&&(this._adVideo._fw_videoAdPlaying=!1,this._adVideo.pause(),this.dispose())},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){if(this._isEnded&&0<this._duration)return this._duration;if(this._adVideo){var e=this._adVideo.currentTime;if(e>0)return e}return this._playheadTime},getDuration:function(){return this._duration}},a.VideoRenderer.prototype.constructor=a.VideoRenderer,a.VideoStateExtension=function(e){this._context=e},a.VideoStateExtension.prototype={_enabled:function(){if(null==this._context)return!1;var e=this._context.getParameter(a.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED);return null==e&&(e="false"),!0===a.Util.str2bool(e)},start:function(){this._enabled()?this._context.setVideoState(a.VIDEO_STATE_PLAYING):a.log("VideoStateExtension is disabled.")},dispose:function(){this._context=null}},a.VideoStateExtension.prototype.constructor=a.VideoStateExtension,a.VPAIDWrapper=function(){this._creative=null,this._timeoutInMs=0,this._eventHandlers={},this._loadIntervalTimer=this._timeoutTimer=null,this._timeoutOperation="",this.timeoutReached=!1,this._visibilityChangeListener=null},a.VPAIDWrapper.prototype={_isCreativeFunctionInvokable:function(e){return!!this._creative&&!(!(e=this._creative[e])||"function"!=typeof e)},checkVPAIDInterface:function(e){for(var t={passed:!0,missingInterfaces:""},n=e.length-1;n>=0;n--)this._isCreativeFunctionInvokable(e[n])||(t.passed=!1,t.missingInterfaces+=e[n]+" ");return t},loadCreativeAsset:function(e){a.log("loadCreativeAsset("+e+")");var t=document.getElementById("vpaidFrame"),n=document.createElement("iframe");n.id="vpaidFrame",null==t?document.body.appendChild(n):document.body.replaceChild(n,t),n.width=0,n.height=0,n.style.display="none",n.contentWindow.document.open(),n.contentWindow.document.write('<script type="text/javascript" src="'+e+'"> </script>'),n.contentWindow.document.close(),this._timeoutOperation="loadCreativeAsset",this._waitForTimeout();var i=this;this._loadIntervalTimer=setInterval(function(){var e=document.getElementById("vpaidFrame").contentWindow.getVPAIDAd;e&&"function"==typeof e&&(clearInterval(i._loadIntervalTimer),e=e(),"undefined"==typeof e?a.debug("getVPAIDAd() returns undefined value"):null===e?a.debug("getVPAIDAd() returns null"):(i._creative=e,i._eventHandlers.CreativeAssetLoaded()))},200)},setCallbacksForCreative:function(e,t){for(var n in e)e.hasOwnProperty(n)&&this._creative.subscribe(e[n],n,t)},removeCallbacksForCreative:function(e){for(var t in e)e.hasOwnProperty(t)&&this._creative.unsubscribe(e[t],t)},handshakeVersion:function(e){return a.log("VPAID Creative: handshakeVersion("+e+")"),this._creative.handshakeVersion(e)},initAd:function(e,t,n,i,o,s){a.log("VPAID Creative: initAd()"),this._timeoutOperation="initAd",this._waitForTimeout(),this._creative.initAd(e,t,n,i,o,s)},startAd:function(){a.log("VPAID Creative: startAd()"),this._timeoutOperation="startAd",this._waitForTimeout(),this._creative.startAd()},stopAd:function(){a.log("VPAID Creative: stopAd()"),"startAd"===this._timeoutOperation?(clearTimeout(this._timeoutTimer),this._timeoutOperation="startAd and stopAd"):this._timeoutOperation+="stopAd",this._waitForTimeout(),this._creative.stopAd()},canPauseAd:function(){return this._isCreativeFunctionInvokable("pauseAd")},canResumeAd:function(){return this._isCreativeFunctionInvokable("resumeAd")},canResizeAd:function(){return this._isCreativeFunctionInvokable("resizeAd")},pauseAd:function(){this.canPauseAd()&&(a.log("VPAID Creative: pauseAd()"),this._creative.pauseAd())},resumeAd:function(){this.canResumeAd()&&(a.log("VPAID Creative: resumeAd()"),this._creative.resumeAd())},resizeAd:function(e,t,n){this.canResizeAd()?(a.log("VPAID Creative: resizeAd()"),this._creative.resizeAd(e,t,n)):a.log("The creative is not able to resize")},getAdVolume:function(){return this._isCreativeFunctionInvokable("getAdVolume")?this._creative.getAdVolume():-1},getAdExpanded:function(){return!!this._isCreativeFunctionInvokable("getAdExpanded")&&this._creative.getAdExpanded()},getAdRemainingTime:function(){return this._isCreativeFunctionInvokable("getAdRemainingTime")?this._creative.getAdRemainingTime():-1},getAdDuration:function(){return this._isCreativeFunctionInvokable("getAdDuration")?this._creative.getAdDuration():-1},getAdLinear:function(){return this._creative.getAdLinear()},getAdCompanions:function(){return this._isCreativeFunctionInvokable("getAdCompanions")?this._creative.getAdCompanions():""},setTimeoutValueInMs:function(e){this._timeoutInMs=e},cancelTimeoutEvent:function(){var e="startAd and stopAd"!==this._timeoutOperation;if(clearTimeout(this._timeoutTimer),!e){this._timeoutOperation="startAd";var t=this;setTimeout(function(){t._eventHandlers.timeout.call()},500)}},addEventListener:function(e,t){this._eventHandlers[e]=t},removeEventListener:function(e){this._eventHandlers[e]=null},_waitForTimeout:function(){if(a.log("Wait for "+this._timeoutOperation+" for "+this._timeoutInMs+"ms"),this._eventHandlers.timeout){var e=this;this._timeoutTimer=setTimeout(function(){e.timeoutReached||(e.timeoutReached=!0),"startAd"===e._timeoutOperation?e.stopAd():("loadCreativeAsset"===e._timeoutOperation&&clearInterval(e._loadIntervalTimer),e._eventHandlers.timeout.call())},this._timeoutInMs)}},getTimeoutOperation:function(){return this._timeoutOperation}},a.VPAIDWrapper.prototype.constructor=a.VPAIDWrapper,a.VPAIDRenderer=function(){this.vpaidCreative=this.rendererController=null,this.vpaidVolume=this.vpaidDuration=-1,this.creativeEventCallbacks={},this.isMuted=!1,this.adPlaybackState="",this.creativeTimeoutDelayInMs=1e4,this.vpaidDesiredBitrate=268,this.vpaidViewmode="normal",this.playheadTime=0,this.videoBase=document.createElement("div"),this.videoParent=null,this.SUPPORTED_CREATIVE_VPAID_VERSION_MIN=this.PLAYER_VPAID_VERSION=2},a.VPAIDRenderer.prototype={},a.VPAIDRenderer.prototype.constructor=a.VPAIDRenderer,a.VPAIDRenderer.VastCompanion=function(e,t,n,i){this._width=e,this._height=t,this._apiFramework=n,this._xmlNode=i},a.VPAIDRenderer.VastCompanion.prototype={getWidth:function(){return this._width},getHeight:function(){return this._height},_isValidResource:function(e,t){return"StaticResource"===e&&t["@attributes"].creativeType||"IFrameResource"===e&&t.value||"HTMLResource"===e&&t.value},hasValidRendtions:function(){for(var e in this._xmlNode)if(this._xmlNode.hasOwnProperty(e)&&("StaticResource"===e||"IFrameResource"===e||"HTMLResource"===e))for(var t=[].concat(this._xmlNode[e]),n=t.length-1;n>=0;n--)if(this._isValidResource(e,t[n]))return!0;return!1},translateToAdInstance:function(e){if(this._xmlNode.CompanionClickThrough&&e.setClickThroughUrl(a.EVENT_AD_CLICK,this._xmlNode.CompanionClickThrough.value),this._xmlNode.TrackingEvents){var t=this._xmlNode.TrackingEvents;if(t.Tracking){for(var t=[].concat(t.Tracking),n=[],i=t.length-1;i>=0;i--)"creativeView"===t[i]["@attributes"].event&&n.push(t[i].value);0<n.length&&e.addEventCallbackUrls(a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n)}}for(var o in this._xmlNode)if(this._xmlNode.hasOwnProperty(o)&&("StaticResource"===o||"IFrameResource"===o||"HTMLResource"===o))for(t=[].concat(this._xmlNode[o]),i=t.length-1;i>=0;i--)if(this._isValidResource(o,t[i])){var n=t[i],s=e.addCreativeRendition();s.setWidth(this._width),s.setHeight(this._height),s.setCreativeApi("None");var r=s.addCreativeRenditionAsset("VPAIDAsset"+i,!0);r.setContentType("text/html_doc_lit_mobile"),r.setMimeType("text/html");var l=e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK)[0],c=o;"HTMLResource"===c?r.setContent(a.HTMLAdGenerator.wrapUnsafeHTML(n.value,e.getSlot().getCustomId(),this._width,this._height)):("IFrameResource"===c?creativeType="iframe":"StaticResource"===c&&(creativeType=this._xmlNode.creativeType),r.setContent(a.HTMLAdGenerator.generateAd(n.value,l,e.getSlot().getCustomId(),this._width,this._height,creativeType,r.getContentType()))),a.debug("rendtion width: "+s.getWidth()+" height:"+s.getHeight()+" asset content:"+r.getContent())}}},a.VPAIDRenderer.VastCompanion.prototype.constructor=a.VPAIDRenderer.VastCompanion,a.VPAIDRenderer.VastAdSelect=function(){},a.VPAIDRenderer.VastAdSelect.prototype={_getDeadSpaceRatio:function(e,t){var n=e.getWidth(),i=e.getHeight(),o=t.getWidth(),s=t.getHeight(),r=1;return o>=n&&s>=i&&(r=1-n*i/(o*s)),a.debug("computing dead space ratio ("+r+") for slot "+o+"x"+s+" and ad "+n+"x"+i),r},matchAdsWithSlots:function(e,t){a.log("VPAIDRenderer: Matching ads with slots");for(var n=0;n<t.length;++n)t[n].matched=!1;for(var i=[],o=[],n=0;n<e.length;n++)for(var s=0;s<t.length;s++)o.push({ratio:this._getDeadSpaceRatio(e[n],t[s]),adIndex:n,slotIndex:s});for(o.sort(function(e,t){return e.ratio-t.ratio}),n=0;n<o.length&&1!=o[n].ratio;n++){var s=o[n],r=e[s.adIndex],l=t[s.slotIndex];r.matched||l.matched||(a.log("Winning ratio:"+s.ratio+" Winning ad:"+r.getWidth()+"x"+r.getHeight()+" for slot:"+l.getWidth()+"x"+l.getHeight()),i.push({ad:r,slot:l}),r.matched=!0,l.matched=!0)}return i}},a.VPAIDRenderer.VastAdSelect.prototype.constructor=a.VPAIDRenderer.VastAdSelect,a.Util.mixin(a.VPAIDRenderer.prototype,{_failWithError:function(e,t){this.rendererController.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VPAIDRenderer",errorCode:e,errorInfo:t}),this.dispose()},onCreativeTimeout:function(){a.log("VPAIDRenderer: onCreativeTimeout()");var e=this.vpaidCreative.getTimeoutOperation();this._failWithError(a.ERROR_TIMEOUT,"loadCreativeAsset"!==e?"Creative function "+e+" timeout":"load creative asset timeout")},onAdVolumeChange:function(){a.log("VPAIDRenderer: onAdVolumeChange()");var e=this.vpaidCreative.getAdVolume();0>e||e>1?a.log("Invalid ad volume value"):this.isMuted&&100*e>2?(this.isMuted=!1,this.rendererController.processEvent({name:a.EVENT_AD_UNMUTE})):!this.isMuted&&2>100*e&&(this.isMuted=!0,this.rendererController.processEvent({name:a.EVENT_AD_MUTE}))},onAdExpandedChange:function(){a.log("VPAIDRenderer: onAdExpandedChange()"),this.vpaidCreative.getAdExpanded()?this.rendererController.processEvent({name:a.EVENT_AD_EXPAND}):this.rendererController.processEvent({name:a.EVENT_AD_COLLAPSE})},onAdDurationChange:function(){a.log("VPAIDRenderer: onAdDurationChange(): duration changed to "+this.vpaidCreative.getAdDuration())},onAdClickThru:function(e,t,n){a.log("VPAIDRenderer: onAdClickThru() with url:"+e+" id:"+t+" playerHandles:"+n),t={name:tv.freewheel.SDK.EVENT_AD_CLICK,info:{}},t.info[a.INFO_KEY_SHOW_BROWSER]=!0===n,!0===n?e?(a.log("onAdClickThru(): open window with overrided url"),t.info[a.INFO_KEY_URL]=e):a.log("onAdClickThru(): open window with url booked in MRM UI or VAST clickthru url"):a.log("onAdClickThru(): send click tracking"),this.rendererController.processEvent(t)},onCreativeAssetLoaded:function(){a.log("VPAIDRenderer: onCreativeAssetLoaded()"),this.vpaidCreative.cancelTimeoutEvent();var e=this,t=function(){var t=e.vpaidCreative.handshakeVersion(e.PLAYER_VPAID_VERSION.toFixed(1));return t?!(parseFloat(t)<e.SUPPORTED_CREATIVE_VPAID_VERSION_MIN)||(e._failWithError(a.ERROR_INVALID_VALUE,"Only support creatives with VPAID version >= "+e.SUPPORTED_CREATIVE_VPAID_VERSION_MIN.toFixed(1)),!1):(e._failWithError(a.ERROR_3P_COMPONENT,"Cannot get VPAID version from the creative"),!1)};if(function(){var t=e.vpaidCreative.checkVPAIDInterface("handshakeVersion,initAd,startAd,stopAd,subscribe,unsubscribe,getAdLinear".split(","));return t.passed||e._failWithError(a.ERROR_3P_COMPONENT,"Missing interfaces in the VPAID creative: "+t.missingInterfaces),t.passed}()&&t()){!function(){(param=e.rendererController.getParameter(a.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY))&&0<Number(param)&&(e.creativeTimeoutDelayInMs=Number(param)),a.log("initParams(), creative timeout delay in miliseconds:"+e.creativeTimeoutDelayInMs);var t=parseFloat(e.rendererController.getParameter(a.PARAMETER_DESIRED_BITRATE));e.vpaidDesiredBitrate=t>0?t:e.vpaidDesiredBitrate,a.log("initParams(), desired bitrate: "+e.vpaidDesiredBitrate)}(),e.creativeEventCallbacks={AdStarted:e.onAdStarted,AdStopped:e.onAdStopped,AdSkipped:e.onAdSkipped,AdLoaded:e.onAdLoaded,AdLinearChange:e.onAdLinearChange,AdSizeChange:e.onAdSizeChange,AdExpandedChange:e.onAdExpandedChange,AdDurationChange:e.onAdDurationChange,AdVolumeChange:e.onAdVolumeChange,AdImpression:e.onAdImpression,AdClickThru:e.onAdClickThru,AdVideoFirstQuartile:e.onAdVideoFirstQuartile,AdVideoMidpoint:e.onAdVideoMidpoint,AdVideoThirdQuartile:e.onAdVideoThirdQuartile,AdVideoComplete:e.onAdVideoComplete,AdUserAcceptInvitation:e.onAdUserAcceptInvitation,AdUserMinimize:e.onAdUserMinimize,AdUserClose:e.onAdUserClose,AdPaused:e.onAdPaused,AdPlaying:e.onAdResumed,AdError:e.onAdError,AdLog:e.onAdLog},e.vpaidCreative.setCallbacksForCreative(e.creativeEventCallbacks,e),this.rendererController.setCapability(a.EVENT_AD_QUARTILE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_MUTE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_EXPAND,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_PAUSE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_CLOSE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_MINIMIZE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_ACCEPT_INVITATION,a.CAPABILITY_STATUS_ON),(t=this.rendition?this.rendition.getParameter("VPAID_creativeData"):null)&&(t=a.Util.trim(t));var t={AdParameters:t},n=this.rendererController.getAdInstance().getSlot();this.videoBase.style.width="0px",this.videoBase.style.height="0px",this.videoBase.style.zIndex="100000",this.videoBase.style.position="absolute",this.videoBase.style.left=this.rendererController.getContentVideoElement().style.left,this.videoBase.style.top=this.rendererController.getContentVideoElement().style.top,this.videoParent=n.getBase();var i=this.rendererController.getContentVideoElement();if("nodeType"in i&&0<i.nodeType)try{this.videoParent.insertBefore(this.videoBase,this.rendererController.getContentVideoElement())}catch(e){this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild)}else this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild);var i={slot:this.videoBase,videoSlot:this.rendererController.getContentVideoElement(),videoSlotCanAutoPlay:!0},o=n.getWidth(),n=n.getHeight();o&&n||!this.rendition||(o=this.rendition.getWidth,n=this.rendition.getHeight),this.vpaidCreative.initAd(o,n,this.vpaidViewmode,this.vpaidDesiredBitrate,t,i)}},onAdLoaded:function(){a.log("VPAIDRenderer: onAdLoaded()"),this.vpaidCreative.cancelTimeoutEvent(),a.log("Ad duration:"+this.getDuration());var e=this,t=function(t,n){if(a.debug(n.length+" companion slots to fill."),0!==n.length&&0!==t.length){var i=(new a.VPAIDRenderer.VastAdSelect).matchAdsWithSlots(t,n);if(0!==i.length){for(var t=[],n=[],o=i.length-1;o>=0;o--)t.push(i[o].ad),n.push(i[o].slot);for(i=e.rendererController.scheduleAdInstances(n),o=i.length-1;o>=0;o--)t[o].translateToAdInstance(i[o])}}},n=function(e){if(!e)return a.log("The adCompanions property is empty."),null;if(a.log("parsing adCompanions: "+e),xmlDoc=null,window.DOMParser?xmlDoc=(new DOMParser).parseFromString(e,"text/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e)),e=a.Util.xmlToJson(xmlDoc),!e||!e.CompanionAds||!e.CompanionAds.Companion)return a.log("No companion ads found in parsed xml"),[];for(var e=[].concat(e.CompanionAds.Companion),t=[],n=e.length-1;n>=0;n--){var i=e[n];if(i["@attributes"]){var o=i["@attributes"].width,s=i["@attributes"].height;if(!o||!s||0>o||0>s)a.log("Missing width/height for companion.");else{var r=i["@attributes"].apiFramework||"";a.debug("Companion "+o+"x"+s+" api:"+r),i=new a.VPAIDRenderer.VastCompanion(o,s,r,i),i.hasValidRendtions()&&t.push(i)}}}return t}(e.vpaidCreative.getAdCompanions());n&&0<n.length?t(n,this.rendererController.getCompanionSlots()):a.log("VPAIDAdRenderer: No companions from VPAID creative."),this.vpaidCreative.startAd()},onVisibilityChange:function(){a.log("onVisibilityChange:"+(document.hidden?"invisible":"visible")),a.log("Current playback state:"+this.adPlaybackState),document.hidden&&"playing"==this.adPlaybackState?(a.log("Pause the VPAID creative"),this.adPlaybackState="pausing",this.vpaidCreative.pauseAd()):!document.hidden&&("paused"==this.adPlaybackState||8>a.PLATFORM_IOS_VERSION)&&(a.log("Resume the VPAID creative"),this.adPlaybackState="resuming",this.vpaidCreative.resumeAd())},onAdStarted:function(){a.log("VPAIDRenderer: onAdStarted()"),this.vpaidCreative.timeoutReached?a.log("VPAID ad has already failed due to timeout. The AdStarted event will not be handled."):(this.vpaidCreative.cancelTimeoutEvent(),(7<=a.PLATFORM_IOS_VERSION||4.4<=a.PLATFORM_ANDROID_VERSION)&&(this._visibilityChangeListener=this.onVisibilityChange.bind(this),document.addEventListener("visibilitychange",this._visibilityChangeListener,!1)))},onAdStopped:function(){a.log("VPAIDRenderer: onAdStopped()"),this.vpaidCreative.cancelTimeoutEvent(),this.timePositionClass===a.TIME_POSITION_CLASS_OVERLAY&&this.vpaidCreative.getAdLinear()&&this.rendererController.requestContentStateChange(!1),this.vpaidCreative&&!this.vpaidCreative.timeoutReached&&(this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED),this.dispose())},onAdImpression:function(){if(a.log("VPAIDRenderer: onAdImpression()"),this.vpaidCreative.timeoutReached)a.log("VPAID ad has already failed due to timeout. The AdImpression event will not be handled.");else{var e=this.vpaidCreative.getAdVolume();this.isMuted=e>0&&2>=100*e,this.adPlaybackState="playing",this.rendererController.handleStateTransition(a.RENDERER_STATE_STARTED)}},onAdLinearChange:function(){a.log("VPAIDRenderer: onAdLinearChange()");var e=this.vpaidCreative.getAdLinear();e?a.log("onAdLinearChange(): non-linear click to linear -> request content video to pause"):a.log("onAdLinearChange(): linear back to non-linear -> request content video to resume"),this.rendererController.requestContentStateChange(e)},onAdSizeChange:function(){a.log("VPAIDRenderer: onAdSizeChange()")},onAdPaused:function(){a.log("VPAIDRenderer: onAdPaused()"),"playing"===this.adPlaybackState&&this.rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this.adPlaybackState="paused"},onAdResumed:function(){a.log("VPAIDRenderer: onAdResumed()"),"paused"===this.adPlaybackState&&this.rendererController.processEvent({name:a.EVENT_AD_RESUME}),this.adPlaybackState="playing"},onAdSkipped:function(){a.log("VPAIDRenderer: onAdSkipped()"),this.dispose(),this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED)},onAdVideoFirstQuartile:function(){a.log("VPAIDRenderer: onAdVideoFirstQuartile()"),this.rendererController.processEvent({name:a.EVENT_AD_FIRST_QUARTILE})},onAdVideoMidpoint:function(){a.log("VPAIDRenderer: onAdVideoMidpoint()"),this.rendererController.processEvent({name:a.EVENT_AD_MIDPOINT})},onAdVideoThirdQuartile:function(){a.log("VPAIDRenderer: onAdVideoThirdQuartile()"),this.rendererController.processEvent({name:a.EVENT_AD_THIRD_QUARTILE})},onAdVideoComplete:function(){a.log("VPAIDRenderer: onAdVideoComplete"),this.rendererController.processEvent({name:a.EVENT_AD_COMPLETE})},onAdUserAcceptInvitation:function(){a.log("VPAIDRenderer: onAdUserAcceptInvitation()"),this.rendererController.processEvent({name:a.EVENT_AD_ACCEPT_INVITATION})},onAdUserClose:function(){a.log("VPAIDRenderer: onAdUserClose()"),this.rendererController.processEvent({name:a.EVENT_AD_CLOSE})},onAdUserMinimize:function(){a.log("VPAIDRenderer: onAdUserMinimize()"),this.rendererController.processEvent({name:a.EVENT_AD_MINIMIZE})},onAdLog:function(e){a.log("VPAIDRenderer: onAdLog: "+e)},onAdError:function(e){a.log("VPAIDRenderer: onAdError(): "+e),this._failWithError(a.ERROR_3P_COMPONENT,"AdError event:"+e)},start:function(e){var t;if(a.log("VPAIDRenderer start()"),this.rendererController=e,this.timePositionClass=e.getAdInstance().getSlot().getTimePositionClass(),t=(this.rendition=e.getAdInstance().getActiveCreativeRendition())?this.rendition.getPrimaryCreativeRenditionAsset():null,e=(e=t)?e.getUrl():null){this.vpaidCreative=new a.VPAIDWrapper,this.vpaidCreative.setTimeoutValueInMs(this.creativeTimeoutDelayInMs),this.vpaidCreative.addEventListener("timeout",this.onCreativeTimeout.bind(this)),this.vpaidCreative.addEventListener("CreativeAssetLoaded",this.onCreativeAssetLoaded.bind(this));try{this.vpaidCreative.loadCreativeAsset(e)}catch(e){this._failWithError(a.ERROR_IO,e)}}else this._failWithError(a.ERROR_NULL_ASSET,"Creative asset url cannot be null")},stop:function(){a.log("VPAIDRenderer stop()"),this.vpaidCreative.stopAd()},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){var e=this.vpaidCreative.getAdDuration(),t=this.vpaidCreative.getAdRemainingTime();return e>=0&&t>=0&&(this.playheadTime=e-t),0>this.playheadTime&&(this.playheadTime=-1),this.playheadTime},getDuration:function(){var e=this.vpaidCreative.getAdDuration();return e>=0?e:-1},pause:function(){a.log("VPAIDRenderer pause()"),this.rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this.vpaidCreative.canPauseAd()?"playing"==this.vpaidCreative.adPlaybackState&&(this.adPlaybackState="pausing",this.vpaidCreative.pauseAd()):a.log("The creative is not able to pause")},resume:function(){a.log("VPAIDRenderer resume()"),this.rendererController.processEvent({name:a.EVENT_AD_RESUME}),this.vpaidCreative.canResumeAd()?"paused"==this.vpaidCreative.adPlaybackState&&(this.adPlaybackState="resuming",this.vpaidCreative.resumeAd()):a.log("The creative is not able to resume")},dispose:function(){a.log("VPAIDRenderer dispose()"),this.vpaidCreative&&(this.videoParent&&(this.videoParent.removeChild(this.videoBase),this.videoParent=null),this._visibilityChangeListener&&(a.log("remove visibilitychange listener"),document.removeEventListener("visibilitychange",this._visibilityChangeListener,!1)),this.vpaidCreative.removeCallbacksForCreative(this.creativeEventCallbacks),this.vpaidCreative.removeEventListener("timeout"),this.vpaidCreative=null)},resize:function(){a.log("VPAIDAdRenderer resize()");var e=this.rendererController.getAdInstance().getSlot(),t=e.getWidth(),e=e.getHeight();a.log("VPAIDRenderer new size width:"+t+" height:"+e),this.vpaidCreative.resizeAd(t,e,this.vpaidViewmode)}}),a},u.tv.freewheel.SDK||(u.tv.freewheel.SDK=u.tv.freewheel[Q]("tv.freewheel.SDK")),u}()},function(e,t){(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].slice,n=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;$.H5P={},$.H5P.Base=function(){function n(t){this.debug=t,this.warn=e(this.warn,this),this.log=e(this.log,this),this.throw=e(this.throw,this),this.pubChannels||(this.pubChannels={})}return n.prototype.throw=function(){var e,n,i;return e=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],this.e=new Error((i=this.devErrors)[e].apply(i,n)),this.e.name=e,this.handled=this.publish("error",this.e),this.warn(this.e),this.e},n.prototype.subscribe=function(e,t){return null==this.pubChannels[e]&&(this.pubChannels[e]=[]),this.pubChannels[e].push({context:this,callback:t}),this},n.prototype.unsubscribe=function(e,t){var n,i,o,s,r,a;if(null!=this.pubChannels[e]){for(s=this.pubChannels[e],r=[],n=i=0,o=s.length;o>i;n=++i)a=s[n],a.callback===t?r.push(this.pubChannels[e].splice(n,1)):r.push(void 0);return r}},n.prototype.log=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.debug?console.log.apply(console,e):void 0},n.prototype.warn=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],this.debug?console.warn?console.warn.apply(console,e):console.log.apply(console,e):void 0;
},n.prototype.publish=function(){var e,n,i,o,s,r;if(o=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],this.pubChannels&&this.pubChannels[o]&&this.pubChannels[o].length>0){for(s=this.pubChannels[o],n=0,i=s.length;i>n;n++)r=s[n],r.callback.apply(r.context,e);return!0}return!1},n.prototype.devErrors={AdLibraryError:function(){return"You are trying to setup ads but no Freewheel ad library has been found."},ApiError:function(e){return"There's been a problem with one of our APIs. Original error: "+e},ConfigLoadError:function(){return"Could not load configuration via ajax."},ConfigNotYetLoaded:function(){return"You are trying to load a stream but the config is not loaded yet."},InvalidContainer:function(){return"The player must be initialized with a jquery object or selector string."},NoBlankVideoSet:function(){return"No blank video has been set"},NoConfigSet:function(){return"A config url or object is required."},NoContainerMatches:function(){return"The specified container does not exist."},NoRenditionAvailable:function(){return"No rendition is available for the selected video"},NoSuchSetting:function(e){return"There is no setting named "+e},TooManyContainerMatches:function(){return"There must be exactly one element to be used as container."},VideoNetworkError:function(e){return e},VideoTypeNotRecognized:function(){return"The video type provided is not recognized."}},n}(),$.H5P.Player=function(i){function o(t,n,i,s){var r,a,l;null==n&&(n=null),null==i&&(i={}),null==s&&(s=!1),this.throw=e(this.throw,this),this.track=e(this.track,this),this.invokeAd=e(this.invokeAd,this),this.setPoster=e(this.setPoster,this),this.detectSmartTV=e(this.detectSmartTV,this),this.sendBeacon=e(this.sendBeacon,this),this.videoEnded=e(this.videoEnded,this),this.resetSrc=e(this.resetSrc,this),this.onContentStart=e(this.onContentStart,this),this.adRollFinished=e(this.adRollFinished,this),this.timeUpdateCallback=e(this.timeUpdateCallback,this),this.removeVideoEvents=e(this.removeVideoEvents,this),this.attachVideoEvents=e(this.attachVideoEvents,this),this.getCurrentSegment=e(this.getCurrentSegment,this),this.adsEnabledForCurrentVideo=e(this.adsEnabledForCurrentVideo,this),this._playSegment=e(this._playSegment,this),this.playCurrentVideo=e(this.playCurrentVideo,this),this.initializeLogs=e(this.initializeLogs,this),this.initializeAds=e(this.initializeAds,this),this.initializeContainer=e(this.initializeContainer,this),this.isValidContainer=e(this.isValidContainer,this),this.destroy=e(this.destroy,this),o.__super__.constructor.call(this,s),this.video=null,this.token=null,this.mobileOs=this.detectMobileOs(),this.smartTV=this.detectSmartTV(),l=$.extend({controls:!0},i),l.src=n.blankVideo,this.initializeContainer(t,l),this.settings=new $.H5P.Settings,this.optionsCache=new $.H5P.OptionsCache,this.settings.loadInitial(n,this),this.postMidrollTimePosition,a="true"===this.settings.get("reporting","enabled")||"boolean"==typeof this.settings.get("reporting","enabled")&&"true"===this.settings.get("reporting","enabled").toString(),a?(this.tracking=new $.H5P.Tracking(this,this.debug),this.tracking.subscribe("track",function(e){return function(t){return e.publish("track",t)}}(this))):console.log("H5P tracking disabled!"),this.initializeLogs(),this.initializeAds(),this.previousTime=0,this.seekingDestination=-1,null!=this.settings.get("image")&&this.setPoster(this.settings.get("image")),this.log("mobileOs:",this.mobileOs),this.log("smartTV:",this.smartTV),setTimeout(function(e){return function(){return e.publish("ready")}}(this),100),"Chromecast"===this.smartTV&&this.rewriteForChromecast();try{document.cookie="_L1Nl9uK_DJGt_RDAVBq_=_L1Nl9uK_DJGt_RDAVBq_; domain=.mtvplay.tv"}catch(e){r=e,this.warn(r)}}return n(o,i),o.prototype.timers={},o.prototype.destroy=function(){var e,t,n,i,o,s,r,a;this.removeVideoEvents(),this.video.pause(),this.video.src="",$(this.video).empty(),$(this.video).remove(),null!=this.ads&&this.ads.destroy(),delete this.settings,delete this.ads,s=this.timers;for(i in s)a=s[i],clearInterval(a);for(this.pubChannels=[],r=this.optionsCache.apiCalls,n=0,o=r.length;o>n;n++){e=r[n];try{e.abort,e=null}catch(n){t=n,this.warn("Error clearing API calls",t,e)}}return this.optionsCache.apiCalls=[],!0},o.prototype.isValidContainer=function(e){var t;this.container.length<1&&this.throw("NoContainerMatches"),this.container.length>1&&this.throw("TooManyContainerMatches");try{return this.container[0]instanceof Element}catch(e){return t=e,!1}},o.prototype.initializeContainer=function(e,t){return"string"==typeof(this.container=e)?this.container=$(e):"object"==typeof e&&e.hasOwnProperty("selector")&&(this.container=$(e.selector)),this.isValidContainer(this.container)||this.throw("InvalidContainer"),this.container[0].id||(this.container[0].id="video-container-"+Date.now()),this.container.html("<video>"),this.video=this.container.find("video")[0],$(document.body).one("click",function(e){return function(){return e.video.src.indexOf(t.src)>-1?(e.video.play(),e.video.pause()):void 0}}(this)),$(this.video).attr(t),this.video.play(),this.video.pause(),this.attachFullscreenEvents(),this.container},o.prototype.initializeAds=function(){var e,t,n;try{e=this.settings.get("ads")}catch(e){return void(t=e)}return n=!!e.enabled,n&&!this.ads?(this.ads=new $.H5P.ads[e.engine](this),this.adCountdown=new $.H5P.AdCountdown(this)):void 0},o.prototype.initializeLogs=function(){var e,n,i;return e=this.settings.get("logger"),"function"==typeof e?(n=this.log,i=this.warn,this.log=function(){var i,o;return i=1<=arguments.length?t.call(arguments,0):[],o=n.apply(this,arguments),e.apply(this,arguments),o},this.warn=function(){var n,o;return n=1<=arguments.length?t.call(arguments,0):[],o=i.apply(this,arguments),e.apply(this,arguments),o},this.log("Successfully registered logger provided with settings"),!0):(null!=e&&this.warn("Failed to register logger, not a function!"),!1)},o.prototype.playCurrentVideo=function(e){var t,n,i;if(null==e&&(e={}),this.videoEndedCalled=!1,this.log("playCurrentVideo",e),this.tracked25=this.tracked50=this.tracked75=this.tracked95=!1,this.optionsCache.ongoingApiCall())return void this.optionsCache.cacheOptions(e);if(this.adCountdown&&this.adCountdown.hide(),this._playSegment(this.currentVideo.playedSegments),$(this.video).one("canplay",function(e){return function(){return e.publish("playback:ready",e.currentVideo)}}(this)),$(this.video).one("playing",function(e){return function(){return e.publish("playback:started",e.currentVideo)}}(this)),t=null!=("function"==typeof this.getCurrentSegment?this.getCurrentSegment().duration:void 0),i=0,e.startTime&&0!==parseFloat(e.startTime)&&(i=e.startTime),this.currentVideo.playedSegments>0&&null!=this.tracking)try{this.tracking.pageName=$(this.tracking.titles[this.currentVideo.playedSegments]).text(),this.tracking.franchise=$(this.tracking.franchises[this.currentVideo.playedSegments]).text()}catch(e){n=e,this.warn("error parsing mrss",n)}return this.adsEnabledForCurrentVideo()&&null!=this.ads&&!this.ads.adblocked?this.ads.requestAds().then(function(t){return function(){return e.secondScreen&&i>0?t.adRollFinished(0,i):t.playSlots(0,i)}}(this)):this.adRollFinished(0,i)},o.prototype._playSegment=function(e){var t;return this.currentVideo.playedSegments=e,(t=this.getCurrentSegment())?(this.log("playSegment",e,t.src),t.src!==this.currentSrc()?this.updateSrc(t.src):void 0):void 0},o.prototype.adsEnabledForCurrentVideo=function(){return this.settings.get("ads").enabled},o.prototype.getCurrentSegment=function(){return this.currentVideo.segments[this.currentVideo.playedSegments]},o.prototype.attachVideoEvents=function(){var e,t,n,i;if(!this.eventsAdded)return this.eventsAdded=!0,this.log("attachVideoEvents"),e=$(this.video),e.on("ended",this.videoEnded),t=function(o){return function(){return e.off("play",i),e.off("pause",n),e.off("touchend",t)}}(this),i=function(e){return function(){return e.publish("interaction:play",e.currentVideo),t()}}(this),n=function(e){return function(){return e.publish("interaction:pause",e.currentVideo),t()}}(this),e.on("touchstart",function(o){return function(){return e.one("play",i),e.one("pause",n),e.one("touchend",t)}}(this)),e.on("seeking",function(e){return function(){return e.publish("playback:seekStarted",e.currentVideo)}}(this)),e.on("seeked",function(e){return function(){return e.publish("playback:seekEnded",e.currentVideo)}}(this)),e.on("timeupdate",this.timeUpdateCallback),e.trigger("timeupdate")},o.prototype.removeVideoEvents=function(){return this.eventsAdded=!1,$(this.video).off()},o.prototype.timeUpdateCallback=function(e){var t,n,i,o;if((null==this.ads||!this.ads.adsPlaying)&&(n=this._getCurrentTime(),this.publish("timeElapsed",{time:n,currentVideo:this.currentVideo}),o=this.getCurrentSegment(),o&&(i=parseFloat(o.duration)-1.5,n>.25*i&&!this.tracked25?(this.tracked25=!0,this.publish("playback:firstQuartile",this.currentVideo)):n>.5*i&&!this.tracked50?(this.tracked50=!0,this.publish("playback:midpoint",this.currentVideo)):n>.75*i&&!this.tracked75?(this.tracked75=!0,this.publish("playback:thirdQuartile",this.currentVideo)):n>.95*i&&!this.tracked95&&(this.tracked95=!0,this.publish("playback:nearend",this.currentVideo)),t=o.beacons,(null!=t?t.length:void 0)&&t[0].elapsed<n&&this.sendBeacon(t.shift()),n>=this.seekingDestination)))return this.seekingDestination=-1,null!=this.ads&&this.ads.hasAppropriateRoll(this.previousTime,n)&&this.playSlots(this.previousTime,n),this.previousTime=n},o.prototype._getCurrentTime=function(){return this.video.currentTime},o.prototype.getDuration=function(){return this.video.duration},o.prototype.playSlots=function(e,t){return this.ads.playAppropriateRoll(e,t).then(function(n){return function(){return n.adRollFinished(e,t)}}(this))},o.prototype.adRollFinished=function(e,t){return this.resetSrc(),this.previousTime=t,0===e&&$(this.video).one("playing",this.onContentStart),t===1/0?this.publish("playback:ended",this.currentVideo):(t>0&&this.skipToByTime(t),this.video.play())},o.prototype.onContentStart=function(){return this.attachVideoEvents(),0===this.currentVideo.playedSegments&&this.publish("contentPlayback:started",this.currentVideo),this.publish("segmentPlayback:started",this.currentVideo)},o.prototype.resetSrc=function(){var e;return e=this.getCurrentSegment(),null!=e?this.updateSrc(e.src):void 0},o.prototype.videoEnded=function(){if(!(this.videoEndedCalled||null!=this.ads&&this.ads.adsPlaying)){if(this.videoEndedCalled=!0,this.removeVideoEvents(),this.log("videoEnded",this.currentVideo.segments.length,this.currentVideo.playedSegments),this.currentVideo.playedSegments+=1,this.publish("segmentPlayback:ended",this.currentVideo),this.currentVideo.segments.length>this.currentVideo.playedSegments)return void this.playCurrentVideo();if("simulcast_stream"!==this.currentVideo.type)return this.publish("contentPlayback:ended",this.currentVideo),null!=this.ads?this.playSlots(this.previousTime,1/0):this.adRollFinished(this.previousTime,1/0)}},o.prototype.sendBeacon=function(e){return this.log("sending beacon "+e.url),e.hasOwnProperty(""!==e.url)?this.container.append("<img src='"+e.url+"></img>'"):void 0},o.prototype.detectMobileOs=function(e){return null==e&&(e=null),e=e||navigator.userAgent||navigator.vendor||window.opera,e.match(/IEMobile/)?"Windows":e.match(/Android/i)?"Android":!!e.match(/(iPad|iPhone|iPod)/i)&&"iOS"},o.prototype.detectSmartTV=function(e){return null==e&&(e=null),this.log(e||navigator.userAgent||navigator.vendor||window.opera),e=e||navigator.userAgent||navigator.vendor||window.opera,e.match(/Web0S|Netcast/gi)?"LG":e.match(/Smart|Maple/gi)?"Samsung":-1!==e.indexOf("CrKey")&&"Chromecast"},o.prototype.setPoster=function(e){return $(this.video).attr("poster",e)},o.prototype.invokeAd=function(){if(!this.ads)throw"Ads not available";return this.ads.clickAd()},o.prototype.track=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],console.log("track:",e[0]),null!=this.tracking?(n=this.tracking).track.apply(n,e):void 0},o.prototype.subscribe=function(e,t){return null!=this.ads&&"ads:"===e.slice(0,4)?this.ads.subscribe(e,t):o.__super__.subscribe.call(this,e,t)},o.prototype.unsubscribe=function(e,t){return null!=this.ads&&"ads:"===e.slice(0,4)?this.ads.unsubscribe(e,t):o.__super__.unsubscribe.call(this,e,t)},o.prototype.throw=function(){var e,n;throw e=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],o.__super__.throw.apply(this,[e].concat(t.call(n))),this.track("video:error",this.token,{message:this.e.message}),this.e},o}($.H5P.Base),$.H5P.Player.prototype.rewriteForChromecast=function(){return null==window.cast.player?void console.log("This appears to be a Chromecast, but there does not seem to be a Media Player Library. Without it, videos will not play reliably. To learn more, have a look at: https://developers.google.com/cast/docs/player."):(console.log("Replacing video element proxy methods w/ Chromecast alternatives"),$.H5P.Player.prototype.currentSrc=function(){return this.currentSource},void($.H5P.Player.prototype.updateSrc=function(e){var t,n,i,o;return this.currentSource=e,o=e,t=new cast.player.api.Host({mediaElement:this.video,url:o}),n=0,i=null,this.video.autoplay=!0,o.lastIndexOf(".m3u8")>=0?i=cast.player.api.CreateHlsStreamingProtocol(t):o.lastIndexOf(".mpd")>=0?i=cast.player.api.CreateDashStreamingProtocol(t):o.indexOf(".ism/")>=0&&(i=cast.player.api.CreateSmoothStreamingProtocol(t)),t.onError=function(e){this.warn("Error in Chromecast playback ("+e+")- resetting cast.player.api.Player instance"),this.chromecastPlayer&&(this.chromecastPlayer.unload(),this.chromecastPlayer=null)},null!==i?(this.chromecastPlayer=new cast.player.api.Player(t),this.chromecastPlayer.load(i,n)):(this.warn("Chromecast does not currently play this. For best results, use HLS."),this.defaultOnLoad(event))}))},$.H5P.Player.prototype.requestFullscreen=function(){var e;try{if(this.video.webkitEnterFullscreen){try{this.video.webkitEnterFullscreen()}catch(t){e=t,this.video.webkitRequestFullscreen&&this.video.webkitRequestFullscreen()}return this.track("video:ui:fullscreen",this.token)}return this.video.requestFullscreen?(this.video.requestFullscreen(),this.track("video:ui:fullscreen",this.token)):this.video.msRequestFullscreen?(this.video.msRequestFullscreen(),this.track("video:ui:fullscreen",this.token)):this.video.mozRequestFullScreen?(this.video.mozRequestFullScreen(),this.track("video:ui:fullscreen",this.token)):this.video.webkitRequestFullscreen?(this.video.webkitRequestFullscreen(),this.track("video:ui:fullscreen",this.token)):this.throw("Could not invoke fullscreen")}catch(t){return e=t,this.warn("FullScreen is not supported",e)}},$.H5P.Player.prototype.exitFullscreen=function(){var e;return e=document.webkitExitFullscreen||document.mozCancelFullscreen||document.exitFullscreen,e?e():this.video.webkitExitFullscreen?this.video.webkitExitFullscreen():this.warn("FullScreen is not supported")},$.H5P.Player.prototype.attachFullscreenEvents=function(){var e,t,n;return e=function(e){return function(t){return e.publish("fullscreenchange",e.currentVideo)}}(this),t=function(t){return function(n){return e(n),t.publish("fullscreenend",t.currentVideo)}}(this),n=function(t){return function(n){return e(n),t.publish("fullscreenstart",t.currentVideo)}}(this),$(this.video).on("webkitendfullscreen",this.fullscreenEnded),$(this.video).on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(e){var i;return i=document.webkitIsFullScreen||document.mozFullScreen||document.fullScreen,i?n(e):t(e)})},$.H5P.Player.prototype.timeElapsedWithSegments=function(){var e,t,n;if(n=0,null==this.video||null==this.currentVideo||null==this.currentVideo.segments||null==this.currentVideo.segments[0])return n;if(this.currentTime=null!=this.lastPositionSkippedTo&&Math.abs(this.lastPositionSkippedTo-this.video.currentTime)>3?this.lastPositionSkippedTo:this.video.currentTime,this.currentVideo.playedSegments>0){for(t=0,e=0;e<this.currentVideo.playedSegments;)t+=this.currentVideo.segments[e++].duration;n=t+this.currentTime}else n=this.currentTime;return this.previousTimeElapsed===n?(this.previousTimeElapsed=n,this.lastPositionSkippedTo):(this.previousTimeElapsed=n,n)},$.H5P.Player.prototype.skipToByPercentage=function(e){var t;return this.log("skipToByPercentage",e),"number"!=typeof e&&(e=parseFloat(e)),0>e||e>1?void this.warn("cannot seek to desired position",e):(null!=(t=this.ads)?t.adsPlaying:void 0)?void this.warn("cannot seek while playing ads",e):this._skipToWithoutSegments(this._getStartTimeFromSkipValue(e))},$.H5P.Player.prototype.skipToByTime=function(e){var t;return this.log("skipTo",e),"number"!=typeof e&&(e=parseFloat(e)),0>e?void this.warn("cannot seek to desired position",e):(null!=(t=this.ads)?t.adsPlaying:void 0)?void this.warn("cannot seek while playing ads",e):this._skipToWithSegments(e)},$.H5P.Player.prototype.skipTo=function(e){return this.warn("(deprecated) skipTo",e),"number"!=typeof e&&(e=parseFloat(e)),1>e?this.skipToByPercentage(e):this.skipToByTime(e)},$.H5P.Player.prototype._skipToWithSegments=function(e){var t;if(this.log("skipToWithSegments",e),t=0,null==this.currentVideo.segments[t])return void this.warn("cannot seek to desired position",e);for(;e>this.currentVideo.segments[t].duration;)if(e-=this.currentVideo.segments[t++].duration,null==this.currentVideo.segments[t])return this.warn("cannot seek to desired position, pausing video",e),void this.video.pause();return this._playSegment(t),this._skipToWithoutSegments(e)},$.H5P.Player.prototype._skipToWithoutSegments=function(e){return this.log("skipToWithoutSegments",e),"number"!=typeof e&&(e=parseFloat(e)),isNaN(e)?void 0:this._playFrom(e)},$.H5P.Player.prototype._getStartTimeFromSkipValue=function(e){return e>0&&1>e?Math.floor(this.getCurrentDuration()*e):Math.floor(e)},$.H5P.Player.prototype.getCurrentDuration=function(){var e;try{return this.video.duration||this.currentVideo.duration||this.currentVideo.segments[this.currentVideo.playedSegments].duration}catch(t){return e=t,NaN}},$.H5P.Player.prototype.getDuration=function(){return this.log("getDuration"),null==this.currentVideo||null==this.currentVideo.segments?(this.warn("cannot compute duration"),NaN):this.currentVideo.segments.reduce(function(e,t){return e+t.duration},0)},$.H5P.Player.prototype._playFrom=function(e){var t,n;return this.log("playFrom",e),window.clearTimeout(this.timers.seekTimeout),this.lastPositionSkippedTo=e,this.timers.seekTimeout=window.setTimeout(function(e){return function(){return e.lastPositionSkippedTo=null}}(this),3e3),t="Android"===this.mobileOs?"canplay canplaythrough":"loadedmetadata loadeddata canplay canplaythrough",n=function(i){return function(){return i.video.readyState>=1&&i.videoSeekableAt(e)?(i.video.currentTime=e,$(i.video).off(t,n)):void 0}}(this),this.seekingDestination=e,$(this.video).off(t,this.oldPlay),$(this.video).on(t,n),this.oldPlay=n,n()},$.H5P.Player.prototype.videoSeekableAt=function(e){var t,n,i,o,s;if(s=null!=(i=this.video.seekable)?i.length:void 0)for(t=n=0,o=s-1;o>=0?o>=n:n>=o;t=o>=0?++n:--n)if(e>=this.video.seekable.start(t)&&e<this.video.seekable.end(t))return!0;return!1},$.H5P.Player.prototype.loadApiVideo=function(e,t,n,i,o,s){var r,a,l,c,u;return null==n&&(n={}),null==o&&(o=null),null==s&&(s=null),this.log("loadApiVideo",e,t,n,i,o),this.token=t,null!=n.image&&this.setPoster(n.image),"boolean"!=typeof o&&"string"!=typeof o||(this.smartTV=o,o?this.log("This was overridden to be considered a smartTV: ",o):this.log("This was overridden to not be considered a smartTV")),"iOS"===this.mobileOs&&(this.updateSrc(this.settings.get("blankVideo")),this.video.play()),r=this,this.optionsCache.ongoingApiCall(!0),null!=this.tracking&&null!=this.tracking.omniture_enabled&&(this.mrss_ready=null,null!=s&&""!==s&&(s=s.replace("mrss?","mrss.xml?"),this.getMrss(s,e))),l=function(){var e;this.optionsCache.ongoingApiCall(!1),this.playCurrentVideo(this.optionsCache.optionsWithCache(n)),this.video&&this.video.volume<=.99&&(this.video.volume=this.video.volume+.01,this.video.volume=this.video.volume-.01);try{if("function"==typeof i)return i()}catch(t){return e=t,this.warn("Callback failed",e)}}.bind(this),"simulcast_stream"===e&&"string"==typeof n&&(n={simulcastApiKey:n}),c=function(n){return function(i){return n.log("parsingCompleteCallback",i),n.currentVideo={type:e,token:t,segments:i,playedSegments:0},!n.ads||n.ads.ready||n.ads.adblocked?l():n.ads.subscribe("adLibrary:ready",function(){return l()})}}(this),"akamai_httpstream"===e?(c([{src:t,duration:100,beacons:[]}]),!0):(a=function(t){return function(n){return t.parseVideoResponse(e,n,c)}}(this),u=this.buildVideoApiUrl(e,t,n),this.log("ajax call",u),this.optionsCache.apiCalls<<$.ajax({url:u,dataType:"json",success:a,error:function(e){return function(t){return e.throw("ApiError",t)}}(this)}),!0)},$.H5P.Player.prototype.getMrss=function(e,t){return $.ajax({method:"GET",dataType:"xml",url:e,success:function(e){return function(n,i,o){var s;return s=$(n),e.tracking.titles=s.find("title"),e.tracking.franchises="local_playlist"===t?s.find('category[scheme="urn:mtvn:franchise"]'):s.find('category[scheme="urn:mtvn:artist"]'),e.tracking.pageName=$(e.tracking.titles[0]).text(),e.tracking.mediaid=e.tracking.mgid=s.find('category[scheme="urn:mtvn:playlist_uri"]:eq(0)').text(),e.tracking.franchise=$(e.tracking.franchises[0]).text(),e.publish("mrss:ready"),e.mrss_ready=!0}}(this),error:function(e){return function(t,n,i){return e.warn("Error fetching MRSS"),e.unsubscribe("mrss:ready",e.mrssReady)}}(this)})},$.H5P.Player.prototype.mrssReady=function(){return this.log("mrss is ready"),this.tracking.sendOmniturePageCall(),this.unsubscribe("mrss:ready",this.mrssReady)},$.H5P.Player.prototype.parseFranchiseTitle=function(e){return e.match(/Episode_.[^_]*_shows/)[0].replace("Episode_","").replace("_shows","")},$.H5P.Player.prototype.loadSimulcastStream=function(e,t,n){return this.loadApiVideo("simulcast_stream",t,{simulcastApiKey:e},n)},$.H5P.Player.prototype.buildVideoApiUrl=function(e,t,n){var i;switch(null==n&&(n={}),this.log("buildVideoApiUrl",e,t,n),e){case"arc":case"akamai_httpstream":return t;case"music_video":case"uma":return"object"==typeof t?t[1]:this.getMediagenUrl(t);case"local_playlist_video":case"local_playlist":return i=n.languageCode||this.settings.get("localization").language,this.getSenseiUrl(e,t,i,this.settings.get("localization").country);case"simulcast_stream":return this.getSimulcastUrl(t,n.simulcastApiKey);case"riptide_video":case"riptide":case"mixed_playlist_video":return this.getRiptideUrl(t);default:return this.throw("VideoTypeNotRecognized")}},$.H5P.Player.prototype.getSenseiUrl=function(e,t,n,i){return this.log("getSenseiUrl",e,t,n,i),this.protocolToUse()+("api.mtvnn.com/v2/"+n+"/"+i+"/"+e+"s/"+t+".json?video_format=m3u8&callback=?")},$.H5P.Player.prototype.getMediagenUrl=function(e){return this.log("getMediagenUrl",e,""+this.settings.get("domain"),""+this.settings.get("tld")),this.protocolToUse()+"intl.mtvnservices.com/mediagen/mgid:uma:video:"+(this.settings.get("domain")+"."+this.settings.get("tld")+":"+e+"/?device=iPad&format=json")},$.H5P.Player.prototype.getSimulcastUrl=function(e,t){return this.log("getSimulcastUrl",e,t),this.protocolToUse()+("utt.mtvnn.com/api/v1/simulcasts/"+t+"/streams/"+e+"?stream_format=")+this.getSimulcastFormat()},$.H5P.Player.prototype.getRiptideUrl=function(e){return this.log("getRiptideUrl",e),this.protocolToUse()+("videos.mtvnn.com/api/v2/"+e+".js?video_format=")+this.getVideoFormat()+"&callback=?"+this.getClient()},$.H5P.Player.prototype.getVideoFormat=function(){return"Chromecast"===this.smartTV?"hls":"LG"===this.smartTV?"hls":this.smartTV?"pmd":"Windows"===this.mobileOs?"pmd":"Android"===this.mobileOs?"pmd":"hls"},$.H5P.Player.prototype.getSimulcastFormat=function(){return"Windows"===this.mobileOs?"mssp":"hls"},$.H5P.Player.prototype.getClient=function(){var e,t;return"Windows"===(e=this.mobileOs)||"Android"===e||"Samsung"===(t=this.smartTV)?"":"&client=mtvplay"},$.H5P.Player.prototype.parseMediagenResponse=function(e,t){var n,i,o,s,r,a,l,c,u,d,p,h,f,v;return null==t&&(t=!1),this.log("parseMediagenResponse",e,t),(null!=e&&null!=(i=e.package)&&null!=(o=i.video)&&null!=(a=o.item)&&null!=(l=a[0])?l.rendition:void 0)?(v=null!=e&&null!=(p=e.package)&&null!=(h=p.video)&&null!=(f=h.item)&&null!=(s=f[0])&&null!=(r=s.rendition)?r[0]:void 0)?(n={},e.package.video.item[0].beacons&&(n=e.package.video.item[0].beacons.filter(function(e){return e.url})),{duration:parseFloat(v.duration),src:v.src,beacons:n}):(t||this.throw("NoRenditionAvailable"),null):(t||this.throw("VideoNetworkError",null!=e&&null!=(c=e.package)&&null!=(u=c.video)&&null!=(d=u.item)?d[0].text:void 0),null)},$.H5P.Player.prototype.rewriteVideoSources=function(e){var t,n,i,o,s;for(t=0,n=e.length;n>t;t++)s=e[t],s.src=s.src.replace(/^http:\/\//,this.protocolToUse()),"LG"!==(i=this.smartTV)&&"Chromecast"!==i&&"Android"!==(o=this.mobileOs)||(s.src=s.src.replace("vimn_secure_hls-f.","univodmtveu-vh.")),s.src=s.src.replace("https://pmd.mtvplay.tv","http://pmd.mtvplay.tv");return e},$.H5P.Player.prototype.parseVideoResponse=function(e,t,n){var i,o,s;return this.log("parseVideoResponse",e,t,n),s=function(e){return function(t){return n(e.rewriteVideoSources(t))}}(this),i=function(n){return function(){return n.log("parseTrackingType",t.category),null!=t.category?n.tracking.type=function(){switch(t.category){case"FullEpisode":return"episode";case"ShortClips":case"ShortForm":return"short_clip";case"Trailer":return"trailer";case"MusicVideo":return"music_video";default:return"episode"}}():n.tracking.type=function(){switch(e){case"music_video":case"arc":return"music_video";case"akamai_httpstream":case"simulcast_stream":return"livestream";default:return"episode"}}()}}(this),null!=this.tracking&&null!=this.tracking.omniture_enabled&&(i(),this.log("tracking: ",this.tracking)),o=function(){switch(e){case"local_playlist_video":return this.parseLocalPlaylistVideoResponse(t,s);case"local_playlist":return this.parseLocalPlaylistResponse(t,s);case"music_video":case"uma":case"arc":return this.parseMusicVideoResponse(t,s);case"riptide_video":case"riptide":case"mixed_playlist_video":return this.parseRiptideVideoResponse(t,s);case"simulcast_stream":return this.parseSimulcastStreamResponse(t,s)}}.call(this)},$.H5P.Player.prototype.parseLocalPlaylistVideoResponse=function(e,t){var n;return this.log("parseLocalPlaylistVideoResponse",e,t),n={local_playlist_videos:[e]},this.parseLocalPlaylistResponse(n,t)},$.H5P.Player.prototype.parseLocalPlaylistResponse=function(e,t){var n,i,o;return this.log("parseLocalPlaylistResponse",e,t),i=0,n=function(e){return function(){var n;if(--i<=0)return n=o.filter(function(e){return!!e.src}),n.length||e.throw("NoRenditionAvailable"),t(n)}}(this),o=[],e.local_playlist_videos.forEach(function(e){return function(t){var s,r;return t.url?(r=t.url,o.push({duration:t.duration,src:r,beacons:[]})):t.uma_video_id?(s={},o.push(s),++i,e.optionsCache.apiCalls<<$.ajax({url:e.getMediagenUrl(t.uma_video_id),dataType:"json",success:function(t){var n;return(n=e.parseMediagenResponse(t,!0))?(s.duration=n.duration,s.src=n.src,s.beacons=n.beacons):void 0},error:function(t){return e.throw("ApiError",t)},complete:n})):void 0}}(this)),0===i?t(o):void 0},$.H5P.Player.prototype.parseMusicVideoResponse=function(e,t){return this.log("parseMusicVideoResponse",e,t),t([this.parseMediagenResponse(e)])},$.H5P.Player.prototype.parseRiptideVideoResponse=function(e,t){var n;return this.log("parseRiptideVideoResponse",e,t),n=[{src:e.src,duration:parseInt(e.duration),beacons:[]}],t(n)},$.H5P.Player.prototype.parseSimulcastStreamResponse=function(e,t){var n;return this.log("parseSimulcastStreamResponse",e,t),n=[{src:e.simulcast_stream,duration:100,beacons:[]}],t(n)},$.H5P.Player.prototype.protocolToUse=function(){var e;return e=window.location.href,-1!==e.indexOf("https://")?"https://":"http://"},$.H5P.Player.prototype.play=function(){return this.video.play()},$.H5P.Player.prototype.pause=function(){return this.video.pause()},$.H5P.Player.prototype.toggle=function(){return this.video.paused?this.video.play():this.video.pause()},$.H5P.Player.prototype.setVolume=function(e){return this.video.volume=e},$.H5P.Player.prototype.getVolume=function(){return this.video.volume},$.H5P.Player.prototype.setAutoPlay=function(e){return this.video.autoplay=e},$.H5P.Player.prototype.getAutoPlay=function(){return this.video.autoplay},$.H5P.Player.prototype.currentSrc=function(){return this.video.src},$.H5P.Player.prototype.updateSrc=function(e){return this.video.src=e},$.H5P.AdCountdown=function(t){function i(t){this.getCountdownText=e(this.getCountdownText,this),this.hide=e(this.hide,this),this.show=e(this.show,this),this.player=t,this.countdownText=this.player.settings.get("localization","translations","countdown"),this.countdownText&&(this.player.subscribe("ads:rollPlaying",this.show),this.player.subscribe("ads:rollEnded",this.hide))}return n(i,t),i.prototype.show=function(e){var t,n;return this.hide(),t=this.player.video.currentSrc,n=e-this.player.video.duration,this.player.container.append('<p class="ad-countdown">'+this.getCountdownText(e)+"</p>"),this.onTimeUpdate=function(i){return function(o){return i.player.video.currentSrc!==t&&i.show(n),i.player.container.find(".ad-countdown").html(i.getCountdownText(e-i.player.video.currentTime))}}(this),$(this.player.video).on("timeupdate",this.onTimeUpdate)},i.prototype.hide=function(){return this.player.container.find("p.ad-countdown").remove(),this.onTimeUpdate?$(this.player.video).off("timeupdate",this.onTimeUpdate):void 0},i.prototype.getCountdownText=function(e){return this.countdownText.replace(/%{seconds}|{seconds}/g,parseInt(e,10))},i}($.H5P.Base),$.H5P.ads||($.H5P.ads={}),$.H5P.ads.Freewheel=function(i){function o(t){this.player=t,this.throw=e(this.throw,this),this.track=e(this.track,this),this.playAppropriateRoll=e(this.playAppropriateRoll,this),this.hasAppropriateRoll=e(this.hasAppropriateRoll,this),this.getAppropriateRolls=e(this.getAppropriateRolls,this),this.onRequestComplete=e(this.onRequestComplete,this),this.destroy=e(this.destroy,this),this.clickAd=e(this.clickAd,this),this.onAdImpression=e(this.onAdImpression,this),this.requestAds=e(this.requestAds,this),this.getTimeSlots=e(this.getTimeSlots,this),this.getTimeSlotsCount=e(this.getTimeSlotsCount,this),this.initializeManager=e(this.initializeManager,this),this.loadLibrary=e(this.loadLibrary,this),this.adblocked=!1,this.pubChannels=[],this.settings=this.player.settings.get("ads"),("undefined"!=typeof tv&&null!==tv?tv.freewheel:void 0)?this.initializeManager():this.loadLibrary(),this.slots=[],o.__super__.constructor.call(this,this.player.debug)}return n(o,i),o.prototype.typeToTimePosition=function(e){return"preroll"===e?tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:"midroll"===e?tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:"postroll"===e?tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:void 0},o.prototype.timePositionToType=function(e){return e===tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL?"preroll":e===tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL?"midroll":e===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?"postroll":void 0},o.prototype.loadLibrary=function(){var e;return e=this,this.player.optionsCache.apiCalls<<$.ajax({url:this.settings.library,dataType:"script",success:function(e){return function(){return e.initializeManager()}}(this),error:function(t,n,i){return e.track("video:ad:blocked",e.player.token),e.adblocked=!0}}),!0},o.prototype.initializeManager=function(){return this.ready=!0,this.manager=new tv.freewheel.SDK.AdManager,this.manager.setNetwork(this.settings.networkID),this.manager.setServer(this.settings.server),this.publish("adLibrary:ready")},o.prototype.getTimeSlotsCount=function(){var e;return e=this.player.getCurrentSegment().duration,e>1740?3:e>1140?2:e>540?1:0},o.prototype.getTimeSlots=function(e){var t,n;return e?(t=this.player.getCurrentSegment().duration,function(){
n=[];for(var t=1;e>=1?e>=t:t>=e;e>=1?t++:t--)n.push(t);return n}.apply(this).map(function(n){return t*n/(e+1)})):[]},o.prototype.requestAds=function(){var e,t,n,i,o,s,r;if(this.adContext=this.manager.newContext(),this.adContext.setProfile(this.settings.profileID),this.adContext.setVideoAsset(this.player.currentVideo.token,this.player.getCurrentDuration(),this.settings.networkID,null,null,null,null,this.settings.fallbackID),this.adContext.addKeyValue("_fw_fss","_fw_search"),this.adContext.addKeyValue("homad","0"),this.adContext.setSiteSection(this.generateSiteSectionID(),this.settings.networkID),window.n_pbt)for(i=n_pbt.split(";"),e=0,n=i.length;n>e;e++)r=i[e],this.adContext.addKeyValue(r.split("=")[0],r.split("=")[1]);if(null!=this.settings.customVariables){o=this.settings.customVariables;for(t in o)r=o[t],this.adContext.addKeyValue(t,r)}return this.adContext.registerVideoDisplayBase(this.player.container[0].id),this.addSlots(),this.attachEventListener(),s=$.H5P.once(this.adContext,tv.freewheel.SDK.EVENT_REQUEST_COMPLETE),this.adContext.submitRequest(),s.then(this.onRequestComplete)},o.prototype.attachEventListener=function(){var e;return e=tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.adContext.removeEventListener(e,this.onAdImpression),this.adContext.addEventListener(e,this.onAdImpression)},o.prototype.addSlots=function(){var e,t,n,i,o;for(this.adContext.addTemporalSlot("Preroll_1",tv.freewheel.SDK.ADUNIT_PREROLL,0),this.track("video:ad:requested",this.player.token,{type:"preroll"}),i=this.getTimeSlots(this.getTimeSlotsCount()),e=t=0,n=i.length;n>t;e=++t)o=i[e],this.adContext.addTemporalSlot("Midroll_"+e,tv.freewheel.SDK.ADUNIT_MIDROLL,o),this.track("video:ad:requested",this.player.token,{type:"midroll"});return this.adContext.addTemporalSlot("Postroll_1",tv.freewheel.SDK.ADUNIT_POSTROLL,this.player.currentVideo.duration),this.track("video:ad:requested",this.player.token,{type:"postroll"})},o.prototype.onAdImpression=function(e){return this.currentAd=e.adInstance},o.prototype.clickAd=function(){var e,t;return!!this.currentAd&&(e={name:tv.freewheel.SDK.EVENT_AD_CLICK},t=this.currentAd.getRendererController(),t.processEvent(e),!0)},o.prototype.destroy=function(){return delete this.adContext,delete this.player,delete this.settings,delete this.manager,!0},o.prototype.onRequestComplete=function(e){var t,n,i,o,s;return this.adsPlaying=!1,t=this.adContext.getTemporalSlots(),n=function(e){return function(t){return t.getTimePositionClass()===tv.freewheel.SDK[e]&&t.getAdCount()>0}},s=t.filter(n("TIME_POSITION_CLASS_PREROLL")),i=t.filter(n("TIME_POSITION_CLASS_MIDROLL")),o=t.filter(n("TIME_POSITION_CLASS_POSTROLL")),this.slots=this.getTimeSlots(i.length).map(function(e,t){return{slot:i[t],time:e}}),s.length&&this.slots.push({slot:s[0],time:0}),o.length&&this.slots.push({slot:o[0],time:1/0}),this.slots.sort(function(e,t){return e.time-t.time})},o.prototype.getAppropriateRolls=function(e,t){return e>t?[]:this.slots.filter(function(n){return n.time>=e&&n.time<=t})},o.prototype.hasAppropriateRoll=function(e,t){return!this.adblocked&&this.getAppropriateRolls(e,t).length>0},o.prototype.playAppropriateRoll=function(e,t){var n,i,o,s;return this.appropriateRollPromise?this.appropriateRollPromise:this.adblocked?$.H5P.resolvedPromise():(n=this.getAppropriateRolls(e,t),0===n.length?$.H5P.resolvedPromise():(this.adsPlaying=!0,s=this._getVideoElement(),s.attr("controls",!1),i=jQuery.Deferred(),this.playBumper("before").then(function(e){return function(){return e.playRoll(n[0]).then(function(){return e.playBumper("after").then(function(){return e.adsPlaying=!1,s.attr("controls",!0),i.resolve(),delete e.appropriateRollPromise})})}}(this)),o=i.promise(),this.appropriateRollPromise=o,o))},o.prototype.playBumper=function(e){var t,n,i,o;return(null!=(n=this.settings.bumpers)?n[e]:void 0)?(i=this.player.buildVideoApiUrl("riptide",this.settings.bumpers[e]),o=this._getVideoElement(),t=jQuery.Deferred(),$.ajax({url:i,dataType:"json",success:function(e){return function(n){return e.player.parseVideoResponse("riptide",n,function(i){return o.one("ended",function(){return t.resolve()}),e.player.updateSrc(n.src),e.player.play()})}}(this),error:function(e){return t.resolve()}}),t.promise()):$.H5P.resolvedPromise()},o.prototype.playRoll=function(e){var t,n;return e.promise?e.promise:(this.rollPlaying=!0,t=this.timePositionToType(e.slot.getTimePositionClass()),n=this._getVideoElement(),n.one("playing",function(n){return function(){return n.rollPlaying?(n.adStarted=!0,n.publish("ads:rollPlaying",e.slot.getTotalDuration()),n.publish("ads:"+t+"Playing",e.slot.getTotalDuration()),n.track("video:ad:started",n.player.token,n.getInfoObject(t,e))):void 0}}(this)),e.promise=$.H5P.once(this.adContext,tv.freewheel.SDK.EVENT_SLOT_ENDED).then(function(n){return function(){return n.rollPlaying=!1,n.adStarted&&(n.publish("ads:rollEnded"),n.publish("ads:"+t+"Ended"),n.track("video:ad:ended",n.player.token,n.getInfoObject(t,e))),n.slots=n.slots.filter(function(t){return t!==e})}}(this)),e.slot.play(),e.promise)},o.prototype._getVideoElement=function(){return $(this.player.video)},o.prototype.getInfoObject=function(e,t){return{type:e,duration:t.slot.getTotalDuration(),mediaid:t.slot.getCustomId(),ad:{file:this._getVideoElement().attr("src"),title:t.slot.getCustomId(),id:t.slot.getCustomId()}}},o.prototype.generateSiteSectionID=function(){return null!=this.settings.fw_ssid?this.settings.fw_ssid:this.getLocation().indexOf(".mtvnn.")>-1?this.settings.viralSID||"viral":this.getLocation().replace(/#[^#]*$/,"").replace(/\?[^\?]*$/,"").replace(/^https:/,"").replace(/^http:/,"").replace(/www./,"").replace(/./,"").replace(/^https:[^https:]*$/,"").replace(/\/\//g,"").replace(/\./g,"").replace(/\//,"").replace(/\s/g,"").replace(/\:/g,"").replace(/\html/g,"").replace(/\htm/g,"")},o.prototype.getLocation=function(){return window.location.href},o.prototype.track=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.player).track.apply(n,e)},o.prototype.throw=function(){var e,n;if(e=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],o.__super__.throw.apply(this,[e].concat(t.call(n))),this.track("video:error",this.player.token,{message:this.e.message}),!this.handled)throw this.e;return this.e},o}($.H5P.Base),$.H5P.OptionsCache=function(t){function i(){this.clear=e(this.clear,this),this.optionsWithCache=e(this.optionsWithCache,this),this.cacheOptions=e(this.cacheOptions,this),this.ongoingApiCall=e(this.ongoingApiCall,this),this.apiCalls=[]}return n(i,t),i.prototype.ongoingApiCall=function(e){return"boolean"==typeof e&&(this.apiCallOngoing=e),this.apiCallOngoing||!1},i.prototype.cacheOptions=function(e){return this.cache=e},i.prototype.optionsWithCache=function(e){var t,n,i;n=this.cache;for(t in n)i=n[t],e[t]=i;return e},i.prototype.clear=function(){return delete this.cache},i}($.H5P.Base),$.H5P.Settings=function(i){function o(){return this.throw=e(this.throw,this),this.track=e(this.track,this),this.reset=e(this.reset,this),this.merge=e(this.merge,this),this.get=e(this.get,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.loadInitial=function(e,t){return this.player=t,e||this.throw("NoConfigSet"),e.blankVideo||this.throw("NoBlankVideoSet"),this._attributes=e,this._originalAttributes=$.extend(!0,{},this._attributes)},o.prototype.set=function(e,t){var n;return n={},n[e]=t,$.extend(!0,this._attributes,n)},o.prototype.get=function(){var e,n,i,o,s;for(n=1<=arguments.length?t.call(arguments,0):[],s=this._attributes,i=0,o=n.length;o>i;i++){if(e=n[i],!s[e])return null;s=s[e]}return s},o.prototype.merge=function(e){return $.extend(!0,this._attributes,e)},o.prototype.reset=function(e){return e?this._originalAttributes[e].constructor===Object?this._attributes[e]=$.extend(!0,{},this._originalAttributes[e]):this._originalAttributes[e]?this._attributes[e]=this._originalAttributes[e].slice(0):delete this._attributes[e]:this._attributes=$.extend(!0,{},this._originalAttributes)},o.prototype.track=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.player).track.apply(n,e)},o.prototype.throw=function(){var e,n;if(e=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],o.__super__.throw.apply(this,[e].concat(t.call(n))),this.track("video:error",this.player.token,{message:this.e.message}),!this.handled)throw this.e;return this.e},o}($.H5P.Base),$.H5P.Tracking||($.H5P.Tracking={}),$.H5P.Tracking=function(i){function o(t,n){this.player=t,this.debug=null!=n&&n,this.throw=e(this.throw,this),this.track=e(this.track,this),o.__super__.constructor.call(this,this.debug),this.settings=this.player.settings.get("reporting"),this.omniture_enabled=this.player.settings.get("reporting","omniture","enabled"),this.googleanalytics_enabled=this.player.settings.get("reporting","googleanalytics","enabled"),this.domain=this.player.settings.get("domain"),this.tld=this.player.settings.get("tld"),this.country=this.player.settings.get("localization","country"),this.titles=null,this.franchises=null,this.pageName=null,this.franchise=null,this.type=null,this.mgid=null,this.playlist_title=null,this.attachEventListeners()}return n(o,i),o.prototype.track=function(e,t,n){var i;return null==n&&(n={}),"video:content:started"===e&&this.omniture_enabled&&(null!=this.player.mrss_ready||"livestream"===this.type?("livestream"===this.type&&(this.pageName="livestream"+window.location.href.split("/").pop()),this.sendOmniturePageCall()):(this.log("subscribing to mrss:ready event"),this.player.subscribe("mrss:ready",this.player.mrssReady))),t?(this.sendGAEventCall(e,t,n),i={action:e,title:t,duration:this.player.getDuration(),playheadTime:this.player._getCurrentTime(),homad:!1,mediaid:this.mgid,playerid:"(HTML5 Player)"},n.type&&n.type.match(/roll/)&&(i.isad=!0),$.extend(i,n),this.publish("track",i)):void 0},o.prototype.initActionSource=function(){return this.s?void 0:this.s=s_gi(this.settings.omniture.defaults)},o.prototype.sendOmniturePageCall=function(){var e;this.log("sending Page call for "+this.pageName),this.initActionSource();try{return this.s.pageName="video/net/"+this.pageName,this.s.channel="videos",this.s.prop12=this.country,this.s.prop30=this.mgid,this.s.prop36=this.franchise,this.s.prop38=this.domain+"."+this.tld,this.s.prop43=this.playlist_title,this.s.prop45=this.type,this.s.prop48="HTML5 Player",this.s.prop49=location.host,this.s.prop50=this.pageName,this.s.hier1="video/net/"+this.pageName+"/play",this.s.t()}catch(t){return e=t,this.warn("Error sending page call",e)}},o.prototype.sendGAEventCall=function(e,t,n){var i,o,s;if(null==n&&(n={}),this.googleanalytics_enabled&&(s=window[this.player.settings.get("reporting","googleanalytics","variable")]||window.ga,i={"video:ad:requested":{type:"ad",event:n.type+" requested"},"video:ad:started":{type:"ad",event:n.type+" started"},"video:ad:ended":{type:"ad",event:n.type+" ended"},"video:content:started":{type:"video",event:"started"},"video:content:loaded":{type:"video",event:"loaded"},"video:content:ended":{type:"video",event:"content ended"},"video:error":{type:"error",event:n.message},"video:ui:fullscreen":{type:"video",event:"fullscreen"}},o=i[e]))if(null!=s){if("ad"===o.type)return this.log("Tracking "+o.type+" with event "+o.event),s("send","event","Ads","Ad "+o.event+" (HTML5 Player)",t);if("video"===o.type)return this.log("Tracking "+o.type+" with event "+o.event),s("send","event","Videos","Video "+o.event+" (HTML5 Player)",t);if("error"===o.type)return this.log("Tracking "+o.type+" with event "+o.event),s("send","event","Video Errors","Error: "+o.event+" (HTML5 Player)",t)}else{if("undefined"==typeof _gaq||null===_gaq)return this.warn("Error sending event call, Google Analytics object is undefined!");if("ad"===o.type)return this.log("Tracking "+o.type+" with event "+o.event),_gaq.push(["_trackEvent","Ads","Ad "+o.event+" (HTML5 Player)",t]);if("video"===o.type)return this.log("Tracking "+o.type+" with event "+o.event),_gaq.push(["_trackEvent","Videos","Video "+o.event+" (HTML5 Player)",t]);if("error"===o.type)return this.log("Tracking "+o.type+" with event "+o.event),_gaq.push(["_trackEvent","Video Errors","Error: "+o.event+" (HTML5 Player)",t])}},o.prototype.events={"contentPlayback:started":"video:content:started","contentPlayback:ended":"video:content:ended","interaction:play":"video:ui:play","interaction:pause":"video:ui:pause","playback:ready":"video:content:loaded","playback:seekStarted":"video:content:seek","playback:seekEnded":"video:content:resume","playback:firstQuartile":"video:content:firstQuartile","playback:midpoint":"video:content:midpoint","playback:thirdQuartile":"video:content:thirdQuartile","playback:nearend":"video:content:nearend"},o.prototype.attachEventListeners=function(){return Object.keys(this.events).forEach(function(e){return function(t){var n;return n=e.events[t],e.player.subscribe(t,function(){return e.track(n,e.player.token)})}}(this))},o.prototype.throw=function(){var e,n;if(e=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],o.__super__.throw.apply(this,[e].concat(t.call(n))),this.track("video:error",this.player.token,{message:this.e.message}),!this.handled)throw this.e;return this.e},o}($.H5P.Base),function(e){return e.fn.H5P=function(t,n,i){return null==t&&(t=null),null==n&&(n={}),null==i&&(i=!1),new e.H5P.Player(this,t,n,i)}}(jQuery),$.H5P.once=function(e,n,i){var o,s;return o=jQuery.Deferred(),s=function(){var i;return i=1<=arguments.length?t.call(arguments,0):[],e.removeEventListener(n,s),o.resolve.apply(o,i)},e.addEventListener(n,s),o.promise()},$.H5P.resolvedPromise=function(){var e;return e=jQuery.Deferred(),e.resolve(),e.promise()}}).call(this)},function(e,t,n){var i,o,s=function(e,t){return function(){return e.apply(t,arguments)}};o=n(8),i=function(){function e(e,t){this.initiateConstants=s(this.initiateConstants,this),this.clearIntervals=s(this.clearIntervals,this),this.removeSWF=s(this.removeSWF,this),this.setVolume=s(this.setVolume,this),this.getVolume=s(this.getVolume,this),this.volume=s(this.volume,this),this.deferredPlay=s(this.deferredPlay,this),this.playheadUpdate=s(this.playheadUpdate,this),this.initiateConstants(),this.initiateContainer(e),this.initiateSettings(t),this.initiateJSInterface(),this.timer=0,this.loadCallback=null,this.adplaying=!1,this.eventcallbacks={},this.currentPlayObject={},this.clearIntervals(),this.embedPlayer()}return e.prototype.playheadUpdate=function(){return this.triggerEvent("timeElapsed",{time:this.player().getPlayheadTime()})},e.prototype.load=function(e,t,n,i,o){switch(this.clearIntervals(),this.playObject={},n.startTime&&!isNaN(n.startTime)&&(this.playObject.jump=n.startTime),n.image&&(this.playObject.image=n.image),n.callback?this.loadCallback=n.callback:null!==i&&(this.loadCallback=i),null!=o&&""!==o&&(this.playObject.mrss=o),e){case"akamai_httpstream":this.playObject.hls=t;break;case"arc":this.playObject.feed=t;break;case"local_playlist":case"local_playlist_video":if(!this.playObject.mrss){if(null==this.settings.tld)throw"If no mrss is provided for "+e+", a tld must be provided in the player settings.";this.playObject.mrss="http://api.mtvnn.com/v2/mrss?uri=mgid:sensei:video:mtvnn.com:"+e+"-"+t+"-"+this.settings.tld.toUpperCase()+"&siteKey="+this.settings.domain+"."+this.settings.tld}break;case"simulcast_stream":this.playObject.hds="http://utt.mtvnn.com/api/v1/simulcasts/c153f28d950ae49a/streams/"+t+"?stream_format=hds";break;case"riptide_video":case"riptide":case"mixed_playlist_video":this.playObject.mediagen="http://riptide.mtvnn.com/mediagen/"+t;break;case"music_video":case"uma":this.playObject.mediagen="http://intl.esperanto.mtvi.com/www/xml/media/mediaGen.jhtml?uri=mgid:uma:video:"+this.settings.domain+"."+this.settings.tld+":"+t;break;default:return!1}return this.deferredPlay(this.playObject)},e.prototype.deferredPlay=function(e){return null!=e&&(this.currentPlayObject=e),null!=this.player().playVideo?this.player().playVideo(this.currentPlayObject):this.loadTimeout=window.setTimeout(this.deferredPlay,100)},e.prototype.play=function(){return null!=this.player().getPlayState&&"idle"===this.player().getPlayState()?this.player().startPlayback():null!=this.player().resumeVideo?this.player().resumeVideo():void 0},e.prototype.pause=function(){return null!=this.player().pauseVideo?this.player().pauseVideo():void 0},e.prototype.volume=function(e){var t;return null===e?null!=this.player()?this.player().getVolume():NaN:(null!=(t=this.player())?t.setVolume:void 0)?this.player().setVolume(e):void 0},e.prototype.getVolume=function(){return this.volume(null)},e.prototype.setVolume=function(e){return this.volume(e)},e.prototype.setAutoPlay=function(e){return this.player().setAutoPlay(e)},e.prototype.getAutoPlay=function(){return this.player().getAutoPlay()},e.prototype.getDuration=function(){return null!=this.player().getMetadata?this.player().getMetadata().duration:void 0},e.prototype.getCurrentTime=function(){var e;return null!=(null!=(e=this.player())?e.getPlayState:void 0)&&"adbreak"===this.player().getPlayState()&&null!=this.player().getAdPlayheadTime?this.player().getAdPlayheadTime():null!=this.player().getPlayheadTime?this.player().getPlayheadTime():0},e.prototype.setCurrentTime=function(e){return null!=this.player().seekTo?this.player().seekTo(e):void 0},e.prototype.requestFullscreen=function(){return console.log("Not implemented")},e.prototype.invokeAd=function(){return console.log("Not implemented")},e.prototype.destroy=function(){return this.clearIntervals(),null!=this.player().unload&&this.player().unload(),this.unloadTimeout=window.setTimeout(this.removeSWF,50)},e.prototype.removeSWF=function(){var e;this.clearIntervals();try{swfobject.removeSWF(this.playerID)}catch(t){e=t}return this.container[0].innerHTML=""},e.prototype.clearIntervals=function(){return clearInterval(this.unloadTimeout),clearInterval(this.timer),clearTimeout(this.loadTimeout)},e.prototype.seek=function(e){return null!=this.player().seekTo?this.player().seekTo(e):void 0},e.prototype.addEventListener=function(e,t){var n;return null==(n=this.eventcallbacks)[e]&&(n[e]=[]),this.eventcallbacks[e][this.eventcallbacks[e].length]=t},e.prototype.removeEventListener=function(e,t){var n,i,o;if(!this.eventcallbacks[e])return!1;o=this.eventcallbacks[e];for(i in o)n=o[i],n===t&&this.eventcallbacks[e].splice(i,1)},e.prototype.triggerEvent=function(e,t){var n,i,o,s,r;if(this.eventcallbacks[e]&&this.eventcallbacks[e].length>0){for(s=this.eventcallbacks[e],r=[],i=0,o=s.length;o>i;i++)n=s[i],r.push(this.triggerFunction(n,t));return r}},e.prototype.triggerFunction=function(e,t){return"string"==typeof e?t?window[e](t):window[e]():t?e(t):e()},e.prototype.player=function(){return document.getElementById(this.playerID)},e.prototype.initiateSettings=function(e){var t,n,i,o;if(this.settings=e,delete this.settings.logger,this.settings.domain||(this.settings.domain="mtvni"),this.settings.tld||(this.settings.tld="com"),this.settings.reporting)for(o=["comscore","gemius","nielsen","googleanalytics"],t=0,n=o.length;n>t;t++)i=o[t],this.settings.reporting[i]&&!this.settings.reporting[i].swf&&(this.settings.reporting[i].swf=this.assetPath(i+"SwfSrc"));return null==this.settings.backgroundColor?this.settings.backgroundColor="0x000000":void 0},e.prototype.assetPath=function(e,t){var n;return null==t&&(t=null),null!=o&&o[e]?(n=o[e],null!=this.settings.assetPaths&&this.settings.assetPaths[n]?this.settings.assetPaths[n]:n):t},e.prototype.initiateContainer=function(e){return this.container="string"==typeof e?$(e):e,this.playerID=this.container[0].id+"-flashObject",this.functionPrefix=this.playerID.split("-").join("_"),this.container[0].innerHTML="<div id='"+this.playerID+"'><p>"+this.flash_install_message+" <a href='https://get.adobe.com/flashplayer/' target='_blank'>Flash Plugin</a></p></div>"},e.prototype.initiateJSInterface=function(){return null==window.mtvnPlayerLoadedCallbacks&&(window.mtvnPlayerLoadedCallbacks=[]),window.mtvnPlayerLoadedCallbacks.push(function(e){return function(t,n){return e.player().addEventListener("READY",e.functionPrefix+"_isready"),e.player().addEventListener("STATE_CHANGE",e.functionPrefix+"_stateChanged"),e.player().addEventListener("AD_STATE_CHANGE",e.functionPrefix+"_stateChanged"),e.player().addEventListener("TRACKING_EVENT",e.functionPrefix+"_trackingEventHandler")}}(this)),window[this.functionPrefix+"_isready"]=function(e){return function(){return e.triggerEvent("ready",e.playerID)}}(this),window[this.functionPrefix+"_stateChanged"]=function(e){return function(t){return e.triggerEvent(e.eventMap[t]),e.clearIntervals(),e.adplaying&&"adbreak"!==t&&(e.triggerEvent(e.eventMap.adend),e.adplaying=!1),"buffering"===t&&null!==e.loadCallback?(e.loadCallback(),e.loadCallback=null):"playing"===t?e.timer=setInterval(e.playheadUpdate,100):"adPlaybackStart"===t?(e.triggerEvent(e.eventMap.adstart),e.adplaying=!0):void 0}}(this),window[this.functionPrefix+"_trackingEventHandler"]=function(e){return function(t){var n,i,o,s;t.playerid="(Flash Player)",o=e.trackingevents;for(i in o)if(s=o[i],i===t.action)return t.action=s,void e.triggerEvent("track",t);switch(n=t.isad?"video:ad:":"video:content:",t.action){case"pause":case"play":case"fullscreen":case"fullscreenExit":case"mute":case"unmute":n="video:ui:"}return n+=e.eventMap[t.action]?e.eventMap[t.action]:t.action,t.action=n,e.triggerEvent("track",t)}}(this)},e.prototype.embedPlayer=function(){var e,t,n,i,o,s;return o=this.assetPath("playerSwfSrc",this.settings.swfSrc),this.cleanupSettings(),n={autoPlay:!0,overscan:!0,configObject:JSON.stringify(this.settings),debugMode:!1,image:this.settings.image?this.settings.image:null,url:window.location.href},null!=this.settings.ads&&(n.adsActive=this.settings.ads.enabled),null!=this.settings.autoplay&&(n.autoPlay=this.settings.autoplay),null!=this.settings.config&&(n.config=this.settings.config),null!=this.settings.ads&&null!=this.settings.ads.fw_ssid&&(n.fw_ssid=this.settings.ads.fw_ssid),this.settings.controls===!1&&(n.controls="off",n.chromeless=!0),i={allowscriptaccess:"always",allowfullscreen:"true",bgcolor:"#000000"},t=/(Firefox)/g,s=/(Windows)/g,i.wmode=window.navigator.userAgent.search(t)&&window.navigator.userAgent.search(s)?"transparent":"direct",e={name:this.playerID,id:this.playerID},null!=window.swfobject?window.swfobject.embedSWF(o,this.playerID,"100%","100%","11.0.0","",n,i,e):console.warn("cannot embed swf player, swfobject unavailable: ",window.swfobject)},e.prototype.cleanupSettings=function(){var e,t,n,i;if(delete this.settings.force,delete this.settings.html5smartTVMode,delete this.settings.logger,delete this.settings.blankVideo,delete this.settings.localisation,delete this.settings.swfSrc,delete this.settings.customVideoAttributes,this.settings.ads&&(delete this.settings.ads.context,delete this.settings.ads.engine,delete this.settings.ads.library,delete this.settings.ads.manager,delete this.settings.ads.midroll_intervals),this.settings.reporting&&(delete this.settings.reporting.interval,this.settings.reporting.omniture&&(delete this.settings.reporting.omniture.label,delete this.settings.reporting.omniture.library,delete this.settings.reporting.omniture.pageNameBase)),this.settings.localization&&this.settings.localization.translations){t={},n=this.settings.localization.translations;for(e in n)switch(i=n[e],e){case"quality":case"autorendition":case"turnoffadblocker":case"countdown":t[e]=i}return this.settings.localization.translations=t}},e.prototype.initiateConstants=function(){var e;return e={en:"For playback of this content, please install the",de:"Zum Abspielen des Videos benötigst Du das",fr:"Pour la lecture des videos veuillez installer le",nl:"Om te spelen video's installeert u",be:"Om te spelen video's installeert u",pl:"Aby odtwarzać filmy należy zainstalować",dk:"For at afspille videoer du installere",se:"Spela upp videoklipp installera",no:"For å spille av videoer må du installere",ja:"このコンテンツの再生にはフラッシュプレイヤーが必要となっております。こちらからダウンロードしてください"},this.flash_install_message=e[window.navigator.language.substr(0,2)]||e.en,this.eventMap={playing:"play",complete:"ended",paused:"paused",pause:"paused",buffering:"progress",error:"error",geoblocked:"error",adstart:"ads:rollPlaying",adend:"ads:rollEnded"},this.trackingevents={ready:"video:content:ready",adblocked:"video:ad:blocked",start:"video:ad:started",creativeView:"video:ad:creativeView",playbackStart:"video:content:started",videoViewed:"video:content:nearend",mrssEnd:"video:content:ended"}},e}(),null==window.mtvnPlayerLoadedCallbacks&&(window.mtvnPlayerLoadedCallbacks=[]),window.mtvnPlayerLoaded=function(){var e,t,n,i;for(i=[],t=0,n=mtvnPlayerLoadedCallbacks.length;n>t;t++)e=mtvnPlayerLoadedCallbacks[t],i.push(e.apply(null,arguments));return i},e.exports=i},function(e,t,n){e.exports={comscoreSwfSrc:n(9),playerSwfSrc:n(10),googleanalyticsSwfSrc:n(11),gemiusSwfSrc:n(12),nielsenSwfSrc:n(13)}},function(e,t,n){e.exports=n.p+"comscore.swf"},function(e,t,n){e.exports=n.p+"g2player.swf"},function(e,t,n){e.exports=n.p+"ga.swf"},function(e,t,n){e.exports=n.p+"gemius.swf"},function(e,t,n){e.exports=n.p+"nielsen.swf"},function(e,t,n){console.log("Mediaplayer version: 2.3.6"),e.exports="2.3.6"},function(e,t){var n=function(){function e(){if(!H){try{var e=L.getElementsByTagName("body")[0].appendChild(g("span"));e.parentNode.removeChild(e)}catch(e){return}H=!0;for(var t=V.length,n=0;t>n;n++)V[n]()}}function t(e){H?e():V[V.length]=e}function i(e){if(typeof D.addEventListener!=C)D.addEventListener("load",e,!1);else if(typeof L.addEventListener!=C)L.addEventListener("load",e,!1);else if(typeof D.attachEvent!=C)y(D,"onload",e);else if("function"==typeof D.onload){var t=D.onload;D.onload=function(){t(),e()}}else D.onload=e}function o(){M?s():r()}function s(){var e=L.getElementsByTagName("body")[0],t=g(I);t.setAttribute("type",P);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=C){var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),z.pv=[parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}function r(){var e=F.length;if(e>0)for(var t=0;e>t;t++){var n=F[t].id,i=F[t].callbackFn,o={success:!1,id:n};if(z.pv[0]>0){var s=m(n);if(s)if(!_(F[t].swfVersion)||z.wk&&z.wk<312)if(F[t].expressInstall&&l()){var r={};r.data=F[t].expressInstall,r.width=s.getAttribute("width")||"0",r.height=s.getAttribute("height")||"0",s.getAttribute("class")&&(r.styleclass=s.getAttribute("class")),s.getAttribute("align")&&(r.align=s.getAttribute("align"));for(var d={},p=s.getElementsByTagName("param"),h=p.length,f=0;h>f;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(d[p[f].getAttribute("name")]=p[f].getAttribute("value"));c(r,d,n,i)}else u(s),i&&i(o);else b(n,!0),i&&(o.success=!0,o.ref=a(n),i(o))}else if(b(n,!0),i){var v=a(n);v&&typeof v.SetVariable!=C&&(o.success=!0,o.ref=v),i(o)}}}function a(e){var t=null,n=m(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=C)t=n;else{var i=n.getElementsByTagName(I)[0];i&&(t=i)}return t}function l(){return!q&&_("6.0.65")&&(z.win||z.mac)&&!(z.wk&&z.wk<312)}function c(e,t,n,i){q=!0,T=i||null,j={success:!1,id:n};var o=m(n);if(o){"OBJECT"==o.nodeName?(E=d(o),x=null):(E=o,x=n),e.id=O,(typeof e.width==C||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==C||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),L.title=L.title.slice(0,47)+" - Flash Player Installation";var s=z.ie&&z.win?"ActiveX":"PlugIn",r="MMredirectURL="+D.location.toString().replace(/&/g,"%26")+"&MMplayerType="+s+"&MMdoctitle="+L.title;if(typeof t.flashvars!=C?t.flashvars+="&"+r:t.flashvars=r,z.ie&&z.win&&4!=o.readyState){var a=g("div");n+="SWFObjectNew",a.setAttribute("id",n),o.parentNode.insertBefore(a,o),o.style.display="none",function(){4==o.readyState?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()}p(e,t,n)}}function u(e){if(z.ie&&z.win&&4!=e.readyState){var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(d(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(d(e),e)}function d(e){var t=g("div");if(z.win&&z.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(I)[0];if(n){var i=n.childNodes;if(i)for(var o=i.length,s=0;o>s;s++)1==i[s].nodeType&&"PARAM"==i[s].nodeName||8==i[s].nodeType||t.appendChild(i[s].cloneNode(!0))}}return t}function p(e,t,n){var i,o=m(n);if(z.wk&&z.wk<312)return i;if(o)if(typeof e.id==C&&(e.id=n),z.ie&&z.win){var s="";for(var r in e)e[r]!=Object.prototype[r]&&("data"==r.toLowerCase()?t.movie=e[r]:"styleclass"==r.toLowerCase()?s+=' class="'+e[r]+'"':"classid"!=r.toLowerCase()&&(s+=" "+r+'="'+e[r]+'"'));var a="";for(var l in t)t[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+t[l]+'" />');o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+s+">"+a+"</object>",B[B.length]=e.id,i=m(e.id)}else{var c=g(I);c.setAttribute("type",P);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&h(c,d,t[d]);o.parentNode.replaceChild(c,o),i=c}return i}function h(e,t,n){var i=g("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function f(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(z.ie&&z.win?(t.style.display="none",function(){4==t.readyState?v(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function v(e){var t=m(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=L.getElementById(e)}catch(e){}return t}function g(e){return L.createElement(e)}function y(e,t,n){e.attachEvent(t,n),$[$.length]=[e,t,n]}function _(e){var t=z.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function w(e,t,n,i){if(!z.ie||!z.mac){var o=L.getElementsByTagName("head")[0];if(o){var s=n&&"string"==typeof n?n:"screen";if(i&&(A=null,S=null),!A||S!=s){var r=g("style");r.setAttribute("type","text/css"),r.setAttribute("media",s),A=o.appendChild(r),z.ie&&z.win&&typeof L.styleSheets!=C&&L.styleSheets.length>0&&(A=L.styleSheets[L.styleSheets.length-1]),S=s}z.ie&&z.win?A&&typeof A.addRule==I&&A.addRule(e,t):A&&typeof L.createTextNode!=C&&A.appendChild(L.createTextNode(e+" {"+t+"}"))}}}function b(e,t){if(Y){var n=t?"visible":"hidden";H&&m(e)?m(e).style.visibility=n:w("#"+e,"visibility:"+n)}}function k(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=C?encodeURIComponent(e):e}var E,x,T,j,A,S,C="undefined",I="object",R="Shockwave Flash",U="ShockwaveFlash.ShockwaveFlash",P="application/x-shockwave-flash",O="SWFObjectExprInst",N="onreadystatechange",D=window,L=document,W=navigator,M=!1,V=[o],F=[],B=[],$=[],H=!1,q=!1,Y=!0,z=function(){var e=typeof L.getElementById!=C&&typeof L.getElementsByTagName!=C&&typeof L.createElement!=C,t=W.userAgent.toLowerCase(),n=W.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),o=n?/mac/.test(n):/mac/.test(t),s=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),r=!1,a=[0,0,0],l=null;if(typeof W.plugins!=C&&typeof W.plugins[R]==I)l=W.plugins[R].description,!l||typeof W.mimeTypes!=C&&W.mimeTypes[P]&&!W.mimeTypes[P].enabledPlugin||(M=!0,r=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof D.ActiveXObject!=C)try{var c=new ActiveXObject(U);c&&(l=c.GetVariable("$version"),l&&(r=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(e){}return{w3:e,pv:a,wk:s,ie:r,win:i,mac:o}}();return function(){z.w3&&((typeof L.readyState!=C&&"complete"==L.readyState||typeof L.readyState==C&&(L.getElementsByTagName("body")[0]||L.body))&&e(),
H||(typeof L.addEventListener!=C&&L.addEventListener("DOMContentLoaded",e,!1),z.ie&&z.win&&(L.attachEvent(N,function(){"complete"==L.readyState&&(L.detachEvent(N,arguments.callee),e())}),D==top&&!function(){if(!H){try{L.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}e()}}()),z.wk&&!function(){return H?void 0:/loaded|complete/.test(L.readyState)?void e():void setTimeout(arguments.callee,0)}(),i(e)))}(),function(){z.ie&&z.win&&window.attachEvent("onunload",function(){for(var e=$.length,t=0;e>t;t++)$[t][0].detachEvent($[t][1],$[t][2]);for(var i=B.length,o=0;i>o;o++)f(B[o]);for(var s in z)z[s]=null;z=null;for(var r in n)n[r]=null;n=null})}(),{registerObject:function(e,t,n,i){if(z.w3&&e&&t){var o={};o.id=e,o.swfVersion=t,o.expressInstall=n,o.callbackFn=i,F[F.length]=o,b(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return z.w3?a(e):void 0},embedSWF:function(e,n,i,o,s,r,a,u,d,h){var f={success:!1,id:n};z.w3&&!(z.wk&&z.wk<312)&&e&&n&&i&&o&&s?(b(n,!1),t(function(){i+="",o+="";var t={};if(d&&typeof d===I)for(var v in d)t[v]=d[v];t.data=e,t.width=i,t.height=o;var m={};if(u&&typeof u===I)for(var g in u)m[g]=u[g];if(a&&typeof a===I)for(var y in a)typeof m.flashvars!=C?m.flashvars+="&"+y+"="+a[y]:m.flashvars=y+"="+a[y];if(_(s)){var w=p(t,m,n);t.id==n&&b(n,!0),f.success=!0,f.ref=w}else{if(r&&l())return t.data=r,void c(t,m,n,h);b(n,!0)}h&&h(f)})):h&&h(f)},switchOffAutoHideShow:function(){Y=!1},ua:z,getFlashPlayerVersion:function(){return{major:z.pv[0],minor:z.pv[1],release:z.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(e,t,n){return z.w3?p(e,t,n):void 0},showExpressInstall:function(e,t,n,i){z.w3&&l()&&c(e,t,n,i)},removeSWF:function(e){z.w3&&f(e)},createCSS:function(e,t,n,i){z.w3&&w(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:i,getQueryParamValue:function(e){var t=L.location.search||L.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return k(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return k(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(q){var e=m(O);e&&E&&(e.parentNode.replaceChild(E,e),x&&(b(x,!0),z.ie&&z.win&&(E.style.display="block")),T&&T(j)),q=!1}}}}();e.exports=n},function(e,t,n){var i;i=n(1),i.VERSION=n(14),window.VIACOM||(window.VIACOM={}),window.VIACOM.Mediaplayer=i}])})}])})},{}],"/Users/shawn/Work/mtv-play/node_modules/monotonic-timestamp/index.js":[function(e,t,n){var i=0,o=1,s=0,r=0;t.exports=function(){var e=Date.now();if(i===e){do s=e+o++/(o+999);while(s===r);r=s}else o=1,s=e;return r=s,i=e,s}},{}],"/Users/shawn/Work/mtv-play/node_modules/ms/index.js":[function(e,t,n){function i(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function o(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function s(e){return r(e,u,"day")||r(e,c,"hour")||r(e,l,"minute")||r(e,a,"second")||e+" ms"}function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,l=60*a,c=60*l,u=24*c,d=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?i(e):t.long?s(e):o(e)}},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/cloud.js":[function(e,t,n){function i(e,t){var n,i,o,s=e.data.get(["clients",e.clientid]);l.ios?(n="phone"===c.device?"iphone":"ipad",i="phone"===c.device?n:c.device):"appletv"===c.platform?(n="Apple TV",i="airplay"):l.chromecast?(n="Chromecast",i="chromecast",o=window.sessionId):(i=c.device,n=l.desktop?c.platform:c.platform+" "+i);var r={title:n,device:i};o&&(r.castId=o||!1),s.val=r,e.client.val=s}var o=e("old-vigour-js/browser/network/cloud").inject(e("old-vigour-js/browser/network/cloud/datacloud"),e("old-vigour-js/browser/network/cloud/authenticate")),s=e("old-vigour-js/value"),r=e("old-vigour-js/data"),a=e("old-vigour-js/util"),l=e("old-vigour-js/browser/cases"),c=e("old-vigour-js/browser/ua");e("old-vigour-js/browser/animation/raf");e("old-vigour-js/value/flags/process"),n.extend=a.extend(e("./values"),function(e){var t=new o(new s);l.$connected=new s(t.connected),t.client=new s,t.once("welcome",function(n){i(t,e)}),t.on("reconnect",function(){var e={};t.client.from.each(function(t){"key"!==t&&"type"!==t&&"ip"!==t&&(e[t]=this._val)}),t.client.from.on("remove",function(){Object.keys(e).length&&t.data.clients.set(t.clientid,e)})}),e.define({cloud:{get:function(){return t},set:function(e){a.isObj(e)?(e.fastLogin&&(t.fastLogin.val=!0),e.api&&(t.api.val=e.api),e.url&&(t.url.val=e.url)):t.url.val=e}}});var n=new r(t.data.get("app"),{subscription:{$:!0}});e.versionData=new s({val:n,defer:function(e,t){var n;if(this.from.version)if(console.log("hey hey hey"),window.package){var i=this.from.version.val,o=window.package.version;i&&o&&(i=i.split("."),o=o.split("."),i=Number(i[1]),o=Number(o[1]||0),i>o&&(n=!0,this.clearCache(),window.package.version=this.from.version.val))}else console.error("no window package",window.package);e(!n||void 0)}})})},{"./values":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/values.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/network/cloud":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/index.js","old-vigour-js/browser/network/cloud/authenticate":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/authenticate.js","old-vigour-js/browser/network/cloud/datacloud":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/datacloud.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","old-vigour-js/value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/content.js":[function(e,t,n){var i=e("../value"),o=e("../browser/network/cloud/data"),s=e("../util");s.define(o,"_contentPath",{get:function(){var e=this._path;for(var t in e)if("shows"===e[t]||"channels"===e[t])return e.slice(t);console.error("_contentPath used on non-content data",this,e)}}),n.extend=s.extend(e("./values"),e("./cloud"),function(e){function t(){var t=e.region.val,i=e.language.val;"it"===i&&(i="en"),t&&i&&(n.val=e.cloud.data.get(["mtvData",t,i]))}var n=e.content=new i({});s.define(n,"get",function(){if(this._val&&this._val.cloud)return this._val.get.apply(this._val,arguments);throw new Error("app.content , dont have cloud data!")}),e.region.on(t),e.language.on(t),t()})},{"../browser/network/cloud/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/data.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","./cloud":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/cloud.js","./values":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/values.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/dictionary/index.js":[function(e,t,n){var i=e("../../util"),o=(e("../ui/element"),e("../../value")),s=e("../../object");o.operators._dictionary=function(e,t){return t===!1?e:t},t.exports=n=new o({}),i.define(n,"get",function(e){return n.map&&n.map[e]&&(e=n.map[e]),"string"==typeof e&&i.path(n,["responseData"].concat(e.split(".")),"")}),o.flags.dictionary={set:function(e,t){if("string"!=typeof e)this.set("_dictionary",{val:e,transform:function(e,t){if(t&&t.text)return t.text;var i=n.get(t);return i?i instanceof s?(n.once(function(){e._update()}),i.val):i:void 0}});else{var i=n.get(e);i._clearCache=!0,this.val=i}}},n._name="dictionary"},{"../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../ui/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js":[function(e,t,n){function i(e){void 0===r[e]&&(r[e]=l.device===e||l.platform===e),o.css={addClass:r[e]?e:"not-"+e}}e("./style.less"),e("../browser/animation/easing");var o,s=e("../browser/element"),r=e("../browser/cases"),a=(e("../browser/animation"),e("../browser/events/advanced")),l=e("../browser/ua"),c=(e("../browser/animation/raf"),e("../browser/events/util"),"ios"===l.platform),u="windows"===l.platform,d=["phone","tablet","tv","desktop","ios","android","windows","mac","touch","slow","chromecast"],p=d.length-1;r.iosBrowser=c&&"standalone"in navigator&&!navigator.standalone&&!window.cordova,r.iosFull=!r.iosBrowser&&c||(c||u)&&!!window.cordova||!1,r.retina=window.devicePixelRatio>1,r.slow=u&&"phone"===l.device||l.noRaf&&l.hasTransition||c&&480===window.screen.height||"tv"===l.device,r.native=!!window.cordova,r.windowsMobile="windows"===l.platform&&"phone"===l.device&&!!window.cordova,r.crawler=!r.tv&&!r.native,o=t.exports=new s({"x,y":{val:0,clean:!0,translate:!0},node:document.body,w:window.innerWidth,h:window.innerHeight,css:"app"}),o.cases=r;var h=function(){o.blockResize?o.blockResize=!1:(o.w.val=window.innerWidth,o.h.val=window.innerHeight)};if(r.touch&&a.document.addEvent("move",function(e){a._maybescroll||a._setscroll||e.preventDefault()},"app"),"orientation"in window&&window.addEventListener("orientationchange",h),c||window.addEventListener("resize",h),window.requestAnimationFrame(h),window.location.hash){var f=window.location.hash.split("#")[1],v=f.split(",");for(var m in v){var g=v[m].split("=");l[g[0]]=g[1]}}for("tv"===l.device&&(r.slow=!0);p>=0;)i(d[p--])},{"../browser/animation":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/index.js","../browser/animation/easing":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/easing.js","../browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","../browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","../browser/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","../browser/events/advanced":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/advanced.js","../browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js","../browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","./style.less":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/style.less"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/style.less":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js":[function(e,t,n){var i=e("../../../browser/element");e("../../../value/flags/parent"),e("../../../value/flags/self"),e("../../../value/flags/process"),e("../../../value/flags/util"),e("../../../browser/events"),t.exports=i.inject(e("../../../browser/element/properties/collection"),e("../../../browser/element/properties"),e("../../../browser/element/properties/scrollbar"),e("../../../browser/element/properties/process"),e("../../../value/on"))},{"../../../browser/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","../../../browser/element/properties":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/index.js","../../../browser/element/properties/collection":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/collection/index.js","../../../browser/element/properties/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/process.js","../../../browser/element/properties/scrollbar":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/scrollbar.js","../../../browser/events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js","../../../value/flags/parent":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/parent.js","../../../value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js","../../../value/flags/self":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/self.js","../../../value/flags/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/util.js","../../../value/on":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/on.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/sprite/index.js":[function(e,t,n){function i(){this._spinner&&(this._spinner(),this._spinner=null)}function o(e){"none"===e.val?i.call(this):this._spinner||this.setting("render")}var s=e("../element"),r=e("../../../browser/events/util"),a=new s({"w,h":50,x:{translate:!0,val:0}});a.extend({name:"params",type:!1,set:function(e){this._params=e,this.Class.prototype._params=e}}),a.setSetting({name:"spinner",render:function(){var e=this,t=this._params||{},n=t.start||0,s=t.frames||3,a=t.rows||1,l=t.cols||0,c=t.once,u=n,d=t.steps||a*l-n||19,p=0,h=0;e.display&&!e.display._base!==e||(e.display=e.display&&e.display.val||"block"),e.display.addListener([o,e],!0),e.node.style.backgroundSize=this.w.val*l+"px auto","none"!==e.display.val&&(e._spinner=r.interval(function(){return e.node.style.backgroundPosition=-e.w.val*h+"px "+(a?-e.h.val*p:0)+"px",u++,u===d&&(u=n,c)?void i.call(e):(p=a?~~(u/l):0,void(h=u-p*l))},s))},remove:i}),t.exports=a.Class},{"../../../browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js","../element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/index.js":[function(e,t,n){var o=(e("old-vigour-js/base"),e("old-vigour-js/browser/element")),s=e("old-vigour-js/value"),r=e("old-vigour-js/object"),a=new o,l=e("old-vigour-js/browser/cases");s.flags.$params={set:function(e){this.params=e}},s.flags.$options={set:function(e){this.options=e}},a.extend({loader:{},animation:{},delay:{},done:{},force:{},backFallback:{cache:!1},onTransition:{cache:!1},transition:{cache:!1,set:function(e){var t,n,s,a=e.element&&e.element._val,c=e.params,u=e.options||{},d=u&&u.force,p=this.children,h=this._swElem||p[0],f=a&&a.base,v=p.length,m=this;if(v>1)for(i=v-1;i>=0;i--)n=p[i],n!==h&&n.remove();if(this._loading&&(this._loading[1].removeListener(this._loading[0]),this._loading=void 0),f&&f instanceof o||a===o)if(!d&&this._swElem&&this._swElem instanceof a)this._swElem.set(c);else{if(s=this._direction=e.direction&&e.direction._val,u&&u.loader&&!u.loader.$loaded){if(!this.loader)return void console.error("no loader defined!");var g=new this.loader._val.Class;if(u.loader instanceof r){u.done=function(){t||(t=new a(c)),g._remove&&(u.done=void 0,u.delay=l.tablet?400:200,m._swElem instanceof a?m._swElem.set(c):m.onTransition._val.call(m,t,m._swElem,0,u),u.delay=void 0)};u.loader._path;this._loading=[function(){g._remove=!0,t&&u.done&&u.done()},u.loader],this._loading[1].is("loaded",this._loading[0])}else u.done=function(){t||(t=new a(c)),u.done=void 0,u.delay=200,m._swElem instanceof a?m._swElem.set(c):m.onTransition._val.call(m,t,m._swElem,0,u),u.delay=void 0};u.loader=void 0,this.onTransition._val.call(this,g,h,s,u)}else t=new a(c),u.done=void 0,u.delay=void 0,u.loader=void 0,this.onTransition._val.call(this,t,h,s,u);void 0!==u.animation&&(u.animation=void 0),u.delay&&(u.delay=void 0)}else c?console.error("only params defined!",c):c&&console.error("no params and no element defined!")}}}),a.define({back:function(){this.backFallback._val.call(this)},add:function(e,t){this._swElem=e,o.prototype.add.apply(this,arguments)}}),a.extend({name:"on",set:function(e){},remove:function(){this._loading&&(this._loading[1].removeListener(this._loading[0]),this._loading=null),this._swTimer&&clearTimeout(this._swTimer),this._timer&&clearTimeout(this._timer),this.on.$remove&&this.on.$remove.update()},new:function(){this.on.$new&&this.on.$new.update()}}),t.exports=(new a.Class).Class},{"old-vigour-js/base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/switcher/transitions.js":[function(e,t,n){function i(e,t,n,i,o){var c=o.done,u=o.animation===!1,d=o.delay;n?(s(e,t,n),u?(a(e,n),s(e,t),c&&(d?l(e,function(){o.done&&o.done()},d):c())):d?l(e,function(){r(e,n,o)},d):r(e,n,o)):s(e,t,!1,c)}function o(e,t,n,i,o){var r,d,p=20,h=c.w.val,f=1===i;f?(r=h,d=h/-3):(r=h/-3,d=h),u.windows?(t.x={translate:!0,val:r},n.x={translate:!0,val:0},window.requestAnimationFrame(function(){t.x=0,n.x=d,l(e,function(){a(e,n,o.done)},210)})):(t.x={val:0,animation:{start:r,time:p,delay:1,easing:"outCubic",done:function(){a(e,n,o.done)}}},n.x={val:d,animation:{time:p,delay:2,easing:"outCubic"}}),f?s(e,t):s(e,t,n)}function s(e,t,n,i){t&&e.add(t,n),i&&i()}function r(e,t,n){t.opacity=0,t.node.pointerEvents="none",l(e,function(){a(e,t,n.done)},200)}function a(e,t,n){t&&t.remove(),n&&n()}function l(e,t,n){e._swTimer&&(clearTimeout(e._swTimer),e._swTimer=null),e._swTimer=setTimeout(function(){t.call(e),e._swTimer=null},n)}var c=e("old-vigour-js/app"),u=e("old-vigour-js/browser/cases"),d=e("old-vigour-js/util");n.extend=d.extend(function(e){e.set({onTransition:{defer:function(e){n[this._val]&&(this._val=n[this._val]),e()}}})}),n.slide=function(e,t,n,s){n&&t?o(this,e,t,n,s):i(this,e,t,n,s)},n.fade=function(e,t,n,o){i(this,e,t,n,o)}},{"old-vigour-js/app":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/tv/index.js":[function(e,t,n){function i(e){var t=e+"Sibling";return function(){if(this._node){var n=this._node[t];if(n&&(n=n.base),n&&n.events&&n.events.$focus&&(!n.display||"none"!==n.display.val))return n;if(n&&n._node){var i="$"+("previous"===e?"prev":e);return n[i].val}}}}var o=e("../../../browser/element"),s=(e("../../../browser/cases"),e("../../../browser/animation"),e("../../../browser/events/advanced")),r=e("../../../browser/ua"),a=(e("../../../browser/animation/raf"),e("../../../util")),l=e("../../../value"),c=(e("../../"),e("../../../browser/network/url")),u="lg"===r.platform&&"tv"===r.device,d=0;c.on(function(){var e=c.string.val.split("/"),t=Number(e[e.length-1]);if(t<d){d=t;var n=s.$focused&&s.$focused.val;n&&n.events&&n.events.back&&n.events.back._val.call(n,{preventDefault:function(){}})}}),document.addEventListener("keyup",function(e){e.preventDefault()}),document.addEventListener("keydown",function(e){var t,n=s.$focused&&s.$focused.val;if(n&&!n._node&&(s.$focused.val=!1),n&&n.events){var i={arrowLeft:[37,4],arrowRight:[39,5],arrowDown:[40,29461],arrowUp:[38,29460],click:[13,29443]};u||(i.back=[8,88,"VK_BACK"]),t=n.events;for(var o in i)if(t[o]&&a.checkArray(i[o],e.keyCode)!==!1)return u&&(cached=c.string.val,c.val=d++),e.preventDefault(),void t[o]._val.call(n,e)}}),s.arrowLeft={val:function(e,t,n){t.call(this,e,n)}},s.arrowRight={val:function(e,t,n){t.call(this,e,n)}},s.arrowUp={val:function(e,t,n){t.call(this,e,n)}},s.arrowDown={val:function(e,t,n){t.call(this,e,n)}},s.back={val:function(e,t,n){t.call(this,e,n)}},a.define(s,"$focused",{value:new l}),n.$focused=s.$focused,s.$focus={val:function(e,t,n){t.call(this,e,n)}},a.define(o,"$focus",function(e,t){if(this.events&&this.events.$focus&&(s.$focused.val&&(s.$focused.val._$focused=null,s.$focused.val._node&&s.$focused.val.events.$focus._val.call(s.$focused.val,!1,!0),s.$focused.val=!1),!t)){s.$focused.val=this;var n=this;n._$focused=!0;var n=s.$focused.val;n&&n.events&&n._node&&n.events.$focus._val.call(n,!0,e)}}),o.base.extend({$prev:function(){},$next:function(){}}),o.base.set({$prev:i("previous"),$next:i("next")})},{"../../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/index.js","../../../browser/animation":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/index.js","../../../browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","../../../browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","../../../browser/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","../../../browser/events/advanced":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/advanced.js","../../../browser/network/url":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/url.js","../../../browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/id.js":[function(e,t,n){var i=e("../../util");e("../../value/flags/process"),n.extend=i.extend(function(e){e.extend({id:function(t){var n=t.val;n&&this.cloud?this.data=this.cloud.data.get(["users",n]):n||(console.log("base.mockdata"),this.data=e.mockdata)},data:{val:e.mockdata,set:function(e){var t=this;if(t.instances&&t.instances.length&&(t=t.instances[0]),e.from.cloud){if(t.___c!==e.from){t.initialised=null,t.___c=e.from;for(var n in t.on.user)t.on.user[n].call(t,n);t.initialised=!0}}else{if(t.___c===!1)return;t.___c=!1;for(var n in t.on.user)t.on.mock[n].call(t,n);t.initialised=null}}}})})},{"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/index.js":[function(e,t,n){e("../../value/flags/self"),e("../../value/flags/process"),e("../../value/flags/util");var i=e("../../util"),o=(e("../../value"),e("../../base")),s=(e("../../data"),e("../../object").inject(e("./origin")),e("monotonic-timestamp"),{}),r=e("./mockdata"),a=new r({}),l=o.prototype.extend,c=new o({defaultType:e("./type")});c.define({subscriptions:{get:function(){return s},set:function(e){e&&i.merge(s,e)}},mockdata:{get:function(){return a},set:function(e){e&&a.merge(e)}},on:{value:{mock:{},user:{}}},extend:function(e){e.mock&&(this.mockdata=e.mock);var t=l.apply(this,arguments);return void 0!==e.val&&(this[e.name]=e.val),e.on&&("function"==typeof e.on?e.on.call(this,e.name):this.data&&this.data.cloud?e.on.user&&e.on.user.call(this,e.name):e.on.mock&&e.on.mock.call(this,e.name)),t}}),n.extend=i.extend(e("../cloud"),function(t){var n=t.user=(new c.Class).inject(e("./set"),e("./id"));n.parent=t,n.cases=t.cases,n.cloud=t.cloud})},{"../../base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js","../../data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js","../../value/flags/self":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/self.js","../../value/flags/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/util.js","../cloud":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/cloud.js","./id":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/id.js","./mockdata":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/mockdata.js","./origin":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/origin.js","./set":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/set.js","./type":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/type.js","monotonic-timestamp":"/Users/shawn/Work/mtv-play/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/mockdata.js":[function(e,t,n){var i=e("../../util"),o=e("../../data");t.exports=n=o.new(),i.define(n,"get",function(e,t,n){return this.path(e instanceof Array?e:String(e).split("."),void 0!==t?t:{},!1,!1,!1,!1,!0,!n)})},{"../../data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/multiscreen/cast/chrome/index.js":[function(e,t,n){function i(){var e=this,t=e._base,n=o(e);n&&(t.setReceiver(n),e.removeListener(i))}function o(e){e=s(e);var t;return e.each(function(){var e=this.from;if("chromecast"===e.device.val)return t=e,!0}),t}function s(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var r,a=e("old-vigour-js/util/config").chromecast,l=e("old-vigour-js/browser/cases"),c=e("old-vigour-js/browser/ua"),u=e("old-vigour-js/value"),d=e("old-vigour-js/object"),p=e("old-vigour-js/data"),h=(p.new({merge:!0,mixed:4}),"deviceDidComeOnline"),f="deviceDidGoOffline";if("undefined"==typeof v)var v=window.chrome||{};if(l.ios&&l.native&&!window.GoogleCast){var m={};window.GoogleCast={startScanForDevices:function(e){window.cordova.exec(function(){console.info("initiated Chromecast API")},function(e){console.error("can't initiate Chromecast API:",e)},"Echo","initCast",[e])},connectToDevice:function(e,t){window.cordova.exec(function(n){n?t():window.cordova.exec(t,function(e){console.error("can't connect to Chromecast:",e)},"Echo","selectDevice",[e])},function(){window.cordova.exec(t,function(e){console.error("can't connect to Chromecast:",e)},"Echo","selectDevice",[e])},"Echo","isDeviceConnected",[e])}};var g=function(){window.cordova.exec(function(e){var t;e||(e={});for(t in e)m[t]||(window.GoogleCast.dispatchEvent("deviceDidComeOnline",{id:t,friendlyName:e[t]}),m[t]=e[t]);for(t in m)e[t]||(window.GoogleCast.dispatchEvent("deviceDidGoOffline",{id:t,friendlyName:m[t]}),delete m[t])},function(e){console.error("pollChromecast error:",e)},"Echo","getDevices",[]),window.setTimeout(g,1e4)};window.setTimeout(g)}t.exports=n=window.curn=new u({api:{defer:function(e,t){var i=this,o=l.native||l.desktop&&"chrome"===c.browser;if(!o)return!0;var s=t[0];if("error"!==s){if(!o||r)return!0;if(l.native)setTimeout(function(){n.init(a.id)},0),r=!0,e();else{var u=document.createElement("script");u.onerror=function(){console.error("!!! script.onerror !!!"),i.type="script",i.clearCache(),i.val=t[0]="error",e()},u.src=a.web,u.id="chromecast-script",window.__onGCastApiAvailable=function(o,s){o?(n.init(a.id),r=!0,e()):(i.clearCache(),i.val=t[0]="error",e())},document.getElementsByTagName("head")[0].appendChild(u)}}}},clients:!1,session:!1,apiDefer:function(e,t){var n=this,i=t[0];"connected"===n.session.status?e("success"):i!==!0||e(!0)}}),n.devices=new d({}),n.available=new d({}),n.setReceiver=function(e,t){var o=n.user,s=o.parent&&o.parent.loading;o.candidates.removeListener(i),o.candidates.on(i),s&&(s.val=!0),e.set("loading",!0),n.connect(e,function(n,i){return s&&(s.val=!1),e.set("loading",!1),n?console.error("CHROMECAST setReceiver connect error",n):void(t&&t(i))})},n.available.on(function(){var e,t={},i=n.user;i&&o(i.candidates)||(this.each(function(i){t[i]=!0,n.devices[i]||(e=!0,n.devices.set(this._name,this))}),n.devices.each(function(n){t[n]||(e=!0,this.remove())}))}),n._name="chromecast",n.init=function(e){if(this._init=!0,window.GoogleCast)window.GoogleCast.startScanForDevices(e);else if(v.cast&&v.cast.SessionRequest){var t,i;l.native?(i=[],t=function(){var e=v.cast.getRouteListElement().innerHTML;if(e){for(var t=e.split("><"),o=[],s=t.length-1;s>=0;s--){var r=t[s].split('"'),a=r[3];~i.indexOf(a)||n.dispatchEvent(h,{id:a,friendlyName:r[4].split("</li>")[0].substring(1)}),o.push(a)}for(s=i.length-1;s>=0;s--)a=i[s],~o.indexOf(a)||n.dispatchEvent(f,{id:a});i=o}}):t=function(e){"available"===e?n.dispatchEvent(h):n.dispatchEvent(f)};var o=[v.cast.Capability.VIDEO_OUT,v.cast.Capability.AUDIO_OUT],s=v.cast.timeout.requestSession,r=new v.cast.SessionRequest(e,o,s),a=function(e){n.session=e,n.val=e.sessionId},c=v.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED,u=v.cast.DefaultActionPolicy.CREATE_SESSION,d=new v.cast.ApiConfig(r,a,t,c,u);v.cast.initialize(d,function(){},function(e){console.error("CHROMECAST cast:onError: "+JSON.stringify(e))})}},n.connect=function(e,t){var n=e.castid.val,i=function(e){console.log("CHROMECAST connect success!",e),t&&t(null,e)},o=function(e){console.log("CHROMECAST connect error!",e),t&&t(e)};if(window.GoogleCast)window.GoogleCast.connectToDevice(n,i);else if(l.native){try{v.cast._emitConnecting()}catch(e){console.error("CHROMECAST Error in _emitConnecting "+e)}try{cordova.exec(i,o,"Chromecast","selectRoute",[n])}catch(e){console.error("CHROMECAST cordova.exec crash",e)}}else v.cast&&v.cast.requestSession(i,o)},n.dispatchEvent=function(e,t){var i=t?t.id:"unknown",o=i.split(".").join("_").split("/").join(""),s=t&&t.friendlyName?t.friendlyName:i,r={};"unknown"===s&&(s="Chromecast"),"deviceDidComeOnline"===e?(r[o]={title:s,device:"chromecast",cast:"chrome",castid:i},n.available.val=r):"deviceDidGoOffline"===e&&n.available[i]&&(r[i]=null,n.available.val=r)},window.GoogleCast&&(window.GoogleCast.dispatchEvent=function(e,t){n.dispatchEvent(e,t)})},{"old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/multiscreen/cast/index.js":[function(e,t,n){function i(e){e=o(e);var t;return e.each(function(){return t="chromecast"===this.from.device.val}),t}function o(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var s=e("old-vigour-js/util"),r=e("./chrome");
n.extend=s.extend(function(e){r.user=e,e.extend({cast:{type:!1,val:{}}}),e.cast.chrome=r,e.candidates.on(function(){s.disjoin(r.devices,e.candidates,"device"),i(e.candidates)||r.available.each(function(e){r.devices[e]||(didset=!0,r.devices.set(e,this))}),e.devices._val._update()}),r.available.on(function(){s.disjoin(r.devices,e.candidates,"device")}),e.devices._val.$sources.push(r.devices)})},{"./chrome":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/multiscreen/cast/chrome/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/multiscreen/index.js":[function(e,t,n){function i(){this.clients.update()}function o(){var e=this,t=e.data._val,n=t.get("clients"),o=e.clients._val;e.clients=n,n.addListener([i,e],!0),o&&o.removeListener(i,e);var s=e.candidates&&e.candidates._val,r=e.candidates=new w(n,{condition:{device:{$contains:"(desktop)|(tv)|(cast)|(tablet)|(airplay)"},key:{$exists:!0,$ne:this.cloud.clientid}}});r.on(function(){e.candidates.update()}),s&&s.remove();var a=e.siblings&&e.siblings._val,l=e.siblings=new w(n,{condition:{key:{$exists:!0,$ne:this.cloud.clientid}}});l.on(function(){e.siblings.update()}),a&&a.remove()}function s(e){var t=this;S&&(S.removeListener(a,t),S=null),C&&(C.removeListener(l,t),C=null);var n=t.data._val;t.activeClient=n.get("activeClient",{}),t.activeClient.$userOrigin=t.cloud.client.from}function r(){var e=this;C&&(C.removeListener(l,e),C=null);var t=e.data._val,n=t.get("activeClient",{});if(S&&S.removeListener(a,e),S=n,S.addListener([a,e],!0),e.activeClient=n,_.tv){var i=n.from;i&&"activeClient"!==i._name?e.activeClient.update():e.activeClient.$userOrigin=e.cloud.client.from}else _.chromecast?e.activeClient.update():e.activeClient.$userOrigin=e.cloud.client.from;e.hasCandidates.val&&g(e)}function a(e,t,n,i,o){var s=this;e._removed&&(C&&C.removeListener(l,s),C=e._parent,C.addListener([l,s],!0))}function l(e,t,n,i,o,s){var r=this,c=e;c.activeClient&&(C.removeListener(l,r),C=null,S=c.activeClient,S.addListener([a,r],!0),r.activeClient=c.activeClient)}function c(){var e=this;I&&I.removeListener(p,e),R&&R.removeListener(d,e);var t=e.data._val;e.receiverClient=t.get("receiverClient",!1)}function u(){var e=this;I&&(I.removeListener(p,e),I=null);var t=e.data._val,n=t.get("receiverClient",{});if(R&&R.removeListener(d,e),R=n,R.addListener([d,e],!0),e.receiverClient=n,_.tv){var i=e.activeClient.from;i&&2===i.__t&&i!==e.cloud.client.from&&!e.hasReceiver.val&&e.setReceiver(e.cloud.client.from)}else _.chromecast&&e.setReceiver(e.cloud.client.from)}function d(e,t,n,i,o){var s=this;e._removed&&(I&&I.removeListener(p,s),I=e._parent,I.addListener([p,s],!0))}function p(e,t,n,i,o,s){var r=this,a=e;a.receiverClient&&(I.removeListener(p,r),I=null,R=a.receiverClient,R.addListener([d,r],!0),r.receiverClient=a.receiverClient)}function h(){var e=this;v(e)}function f(){var e=this;v(e)}function v(e){var t=e.data._val,n=t.get("receiver",{});e.receiver={volume:n.get("volume",1),media:n.get("media",!1),playing:n.get("playing",!1)}}function m(e,t){for(;t&&4===t.__t&&!t._filter;)t=t._val;if(!t)return console.error("could not determine list to select from");var n;return t.each(function(){var t=this._val;if(!t||t._removed||!t.device)return console.error("bad client","path:",t&&t._path,"client:",t&&t.raw||t);if(t!==e.activeClient.from){var i=t.device.val;if(j.test(i)&&(!t.token||t.token.val===e.token.val))return n=t,!!A.test(i)||void 0}}),n}function g(e){e.candidates._val.each(function(){var t=this.from;"tv"!==t.device.val||t.token&&t.token.val||(t.set("token",e.token.val),e.hasReceiver.val||e.setReceiver(t))})}var y=e("old-vigour-js/util"),_=(e("old-vigour-js/value"),e("old-vigour-js/browser/cases")),w=e("old-vigour-js/data").inject(e("old-vigour-js/data/selection")),b=e("old-vigour-js/object/compound"),k=e("old-vigour-js/browser/events"),E=e("old-vigour-js/browser/ua"),x=e("old-vigour-js/browser/animation/raf"),T=e("old-vigour-js/object");T.inject(e("old-vigour-js/value/length"));var j=/(desktop)|(tv)|(cast)|(tablet)|(airplay)/i;_.$isCandidate=j.test(E.device);var A=/(tv)|(cast)|(airplay)/i;e("old-vigour-js/value/flags/process"),n.extend=y.extend(function(t){var n=t.parent.inject(e("../../content")).content;if(n.on("self",function(){t.token.val&&t.receiver.media.val&&t.receiver.media.from!==t.receiver.media&&t.receiver.media.from!==n.get(t.receiver.media.from._contentPath)&&(t.receiver.media.$userOrigin=n.get(t.receiver.media.from._contentPath))}),t.extend({receiver:{mock:{receiver:{volume:1,media:!1,playing:!1}},subscription:{receiver:{volume:!0,playing:!0,media:{$:!0}}},on:{mock:h,user:f}},clients:{subscription:{clients:{$:{$:!0}}},on:{mock:o,user:o}},candidates:{val:{}},siblings:{val:{}},receiverClient:{val:{},on:{mock:c,user:u},subscription:{receiverClient:{$:!0}}},activeClient:{val:{},mock:{activeClient:!0},subscription:{activeClient:{$:!0}},on:{mock:s,user:r}}}),t.extend({devices:{val:new b(t.siblings)}}),t.extend({hasReceiver:{val:{val:t.receiverClient,transform:function(e,n){var i=t.receiverClient.from;return i&&!i._removed&&i.cloud&&"clients"===i._path[0]||0}}},isReceiver:{val:{defer:function(e,n){var i=n[2]||this._updateOrigin;if(!i||!i._prop&&"receiverClient"!==i._name)return!0;var o=n[1];"cleanup"!==o&&(t._handleOldIsReceiver&&(!t._wasReceiver||t.hasReceiver.val||t.isActive.val||t.setReceiver(t.cloud.client.from),t._handleOldIsReceiver=null),this.clearCache(),t._wasReceiver=this.val),e()},val:t.receiverClient,transform:function(e,n){var i=t.receiverClient.from;return i&&!i._removed&&i.cloud&&i===t.cloud.client.from||0}}},hasCandidates:{val:{val:t.candidates.$length,$convertType:"boolean"}},hasDevices:{val:{val:t.devices.$length,$convertType:"boolean"}},isActive:{val:{defer:function(e,n){var i=n[2]||this._updateOrigin;i&&(i._prop||"activeClient"===i._name)||e(!0);var o=n[1];o&&"cleanup"!==o&&(t._handleOldIsActive&&(!t._wasActive||t.activeClient.$userOrigin&&t.activeClient.$userOrigin._val||(t.activeClient.$userOrigin=t.cloud.client._val),t._handleOldIsActive=null),this.clearCache(),t._wasActive=this.val),e()},val:t.activeClient,transform:function(e,n){var i=t.activeClient.from;return i&&i.val===!0||i===t.cloud.client.from||0}}},setReceiver:{type:!1,val:function(e){var t=this;if(e=e.from){var n=e.cast&&e.cast.val;n?t.cast[n].setReceiver(e):(e.set("token",t.token.val),t.receiverClient.$userOrigin=e)}}}}),!_.chromecast){var i=_.tv?"keydown":"down";k.document.addEvent(i,function(){!t.cloud.client._val||_.$isFullscreen&&_.$isFullscreen.val||(t.activeClient.$userOrigin=t.cloud.client.from)})}t.cloud.on("welcome",function(){t.cloud._status>2&&(t._handleOldIsActive=!0,t._handleOldIsReceiver=!0,t.cloud.data.once(function(){t.isActive.update(),t.isReceiver.update()}))}),t.isActive.on(!0,function(){var e=t.isReceiver.val;if(t.hasCandidates.val){if(e||!t.hasReceiver.val){var n=m(t,t.candidates);n?x(function(){t.setReceiver(n)}):e&&(t.receiverClient.$userOrigin=null)}}else e&&(t.receiverClient.$userOrigin=null)}),_.$isCandidate&&t.hasReceiver.on(0,function(e,n,i){n===t.cloud.stamp&&(t.isActive.val||x(function(){var e=m(t,t.clients);e===t.cloud.client.from&&t.setReceiver(e)}))}),t.iplogin.val||t.candidates.on(function(e,n,i,o,s){t.hasCandidates.val&&t.isActive.val&&t.initialised&&g(t)}),_.$isActive=t.isActive,_.$hasDevices=t.hasDevices,_.$hasReceiver=t.hasReceiver,_.$isReceiver=t.isReceiver});var S,C,I,R},{"../../content":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/content.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js","old-vigour-js/browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/data/selection":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/selection.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/object/compound":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/compound.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","old-vigour-js/value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js","old-vigour-js/value/length":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/length.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/navigation.js":[function(e,t,n){var i=e("old-vigour-js/util"),o=e("old-vigour-js/object");e("./mockdata");e("old-vigour-js/value/flags/process"),n.extend=i.extend(function(t){function n(e){e._lastupdate&&e.navigation.last&&e.navigation.last.from!==e.navigation.last&&(e.navigation.last.from.removeListener(e._lastupdate),e._lastupdate=null)}function i(e,t){t[1]&&"l"===t[1][0]&&this._name===this._parent.last.from.key.val?(this.clearCache(),e()):e(!0)}var s=t.parent.inject(e("../content")).content;s.on("self",function(){var e=t.navigation,n=this,i=e.media.from,o=e.season.from,s=e.show.from;i._contentPath&&(e.media.$userOrigin.val=n.from.get(i._contentPath)),o._contentPath&&(e.season.$userOrigin.val=n.from.get(o._contentPath)),s._contentPath&&(e.show.$userOrigin.val=n.from.get(s._contentPath))}),t.define({updateNavigation:function(e){return this.navigation.last&&this.navigation.last.$userOrigin&&(e=e||this.navigation.last.$userOrigin.get("key").val,"string"==typeof e)?void this.navigation[e]._update(this.navigation[e]._val._val,"l"+Math.floor(9999*Math.random())):void(this.navigation.page.$userOrigin="discover")}}),t.extend({navigation:{mock:{navigation:{show:!1,page:!1,media:!1,season:!1,last:{key:"page",time:0}}},subscription:{navigation:{show:!0,media:!0,season:!0,page:!0,last:{key:!0,time:!0}}},val:{page:{defer:i},show:{defer:i,val:!1},season:{defer:i,val:!1},media:{defer:i,val:!1}},on:{user:function(e){n(this),this.navigation={last:this.data._val.get([e,"last"])},this.__first=!0;var t=this.navigation,i=this.data.$userOrigin;this._lastupdate=function(e,n,i){this.key&&t[this.key.val]&&t[this.key.val].$userOrigin._update(void 0,"l"+n)},t.last.from.on(this._lastupdate),this.navigation={page:i.get([e,"page"],"discover"),show:i.get([e,"show"]),season:i.get([e,"season"]),media:i.get([e,"media"])},t.last.from.key?t.last.from._update(void 0,o.stamp()):t.last.from.key||(t.page.$userOrigin="discover")},mock:function(){n(this);var e=this.navigation,t=this.mockdata.navigation,i={page:t.page,show:t.show,season:t.season,media:t.media};this.navigation={last:t.last},this.__first&&(t.page.val="discover"),this._lastupdate=function(t,n,i){e[this.key.val]&&e[this.key.val].$userOrigin._update(void 0,"l"+n)},e.last.from.on(this._lastupdate),this.navigation=i}}}})})},{"../content":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/content.js","./mockdata":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/mockdata.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/origin.js":[function(e,t,n){var i=e("../../util"),o=e("./mockdata"),s=e("monotonic-timestamp");n.extend=i.extend(function(e){var t=e.set,n=function(t){for(var n,i,s=t;s&&!s._removed&&s instanceof e;){if(s._parent&&s._parent._prop&&"navigation"===s._parent._prop.name&&(n=s),s.cloud&&"users"===s._path[0]||s instanceof o)return[s,n];i=s,s=s._val}var r=!(!i||i._removed||i===t)&&i;return[r,n]};i.define(e,"$userOrigin",{set:function(e){var i=n(this),o=i[0],r=i[1];if(!o){var a=this._prop&&this._prop.name;if(a){var l=this._caller,c=l.data._val;o=c.get(a,{}),this.val=o}}if(!o)throw new Error("cannot find correct $userOrigin for "+(this._name||this._prop&&"propety "+this._prop.name));t.call(o,e),r&&r._name&&(r._parent.last.from.val={time:s(),key:r._name})},get:function(){return n(this)[0]}})})},{"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./mockdata":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/mockdata.js","monotonic-timestamp":"/Users/shawn/Work/mtv-play/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/set.js":[function(e,t,n){var i=e("../../util"),o=(e("./"),e("../../object"));n.extend=i.extend(function(e){function t(e){this[e]=this.data.$userOrigin.get(e,this[e]._prop.$default)}function n(e){this[e]=this.mockdata[e]}e.define({_set:function(e,i){if(this[i]instanceof o&&(this[i].val=e[i]),"function"==typeof this[i])e[i]instanceof Array?this[i].apply(this,e[i]):this[i](e[i]);else if(this.isProperty(i,e))this[i]=e[i];else if(this[i])this[i]=e[i];else{var s={};s[i]=e[i];var r={};r[i]=!0,this.extend({name:i,mock:s,$default:e[i],subscription:r,on:{mock:n,user:t}})}}})})},{"../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/token.js":[function(e,t,n){var i=e("../../util"),o=e("../../value"),s=e("../../browser/cases");e("../../value/flags/process"),n.extend=i.extend(function(e){e.define({updateId:function(e){this.id=e instanceof Array?e[e.length-1]:e},authenticate:function(e,t,n,i){var o=this,s=o.cloud;if(s.params.fastLogin&&"undefined"!=typeof localStorage){var r=localStorage.getItem("userId");r&&(t.id=r)}s.authenticate(t,function(t){if(t.error&&"undefined"!=typeof localStorage&&localStorage.removeItem("userId"),e.clearCache(),n!==e.val,t.error||!e.val)e.val=!1,o.id=!1,i(),t.error?console.error("authenticate error:",t.error):o.iplogin&&o.iplogin.val||(o.cloud.emit("logout",t),"undefined"!=typeof localStorage&&localStorage.removeItem("userId"));else{if(e.val!==!0&&o.updateId(t),s.params.fastLogin&&"undefined"!=typeof localStorage){var r;r=t instanceof Array?t[t.length-1]:t,localStorage.setItem("userId",r)}o.iplogin&&o.iplogin.val,i()}})}}),e.extend({iplogin:{val:s.tv||s.chromecast},token:{subscription:{token:!0},val:{transform:function(e,t){return!(t instanceof Object)&&t},defer:function(e,t,n){if(t[0]&&t[0].defer)return!0;var i=this,o=i._caller;o.cloud.connected.is(!0,function(){var t=i.val,n=o.id&&o.id.val,s=o.iplogin&&o.iplogin.val;if(i.clearCache(),n&&!s){o.cloud.logout(n);"undefined"!=typeof localStorage&&localStorage.removeItem("userId")}if(t){var r=o.cloud.api.get("auth");if(!r)throw new Error("could not determine auth url (got: "+r+")");var a={url:o.cloud.api.auth.val,subs:o.subscriptions,token:t},l=o.__authenticated__;if(s)if(t===!0&&delete a.token,a.tv=!0,l){var c,u=o.cloud.data.get("users");u.each(function(e){var t=this;t.token&&t.token.val===i.val?c=t._name:(t.receiverClient&&t.receiverClient.from===o.cloud.client.from&&(t.receiverClient.$userOrigin=null),t.activeClient&&t.activeClient.from===o.cloud.client.from&&(t.activeClient.$userOrigin=null))}),c?o.id=c:o.id=!1,e()}else o._authrequest=a,o.authenticate(i,a,t,e),o.__authenticated__=!0;else o._authrequest=a,o.authenticate(i,a,t,e)}else o.id=!1,e()})}}},localStorageToken:{val:{defer:function(e,t){var n=this._caller;if(n._readLocalStorage||"string"!=typeof this.val)e(!0);else{n._readLocalStorage=this.val;var i=localStorage.getItem(n._readLocalStorage);i&&"true"!==i&&(n.token=i),n.token.on(function(){var e=this.val;"string"==typeof e?localStorage.setItem(n._readLocalStorage,e):localStorage.removeItem(n._readLocalStorage)}),e()}}}}}),e.cases.$isLoggedIn=new o({val:e.token,transform:function(e,t){if(t===!0)return 0}});var t=e.cloud.client;t.on(function(n,i,o){if(origin=o||this._updateOrigin,i===e.cloud.stamp){var s=t.from;s.token&&(e.token.val=e._authrequest.token=s.token.val)}}),e.token._name="token"})},{"../../browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/type.js":[function(e,t,n){var i=(e("../../base"),e("../../value")),o=e("../../object").set;e("../../util");t.exports={type:i,create:function(e,t,n,s){var r=new i;return r._base=this,r._caller=r._base,r._prop=n,o.call(r,e,!1,!1,!0),this._class&&(this._class.prototype._[n.name]=r),n&&(n._vset||(n.mock&&(this.mockdata=n.mock),n.subscription&&(this.subscriptions=n.subscription),n.on&&("function"==typeof n.on?(this.on.mock[n.name]=n.on,this.on.user[n.name]=n.on):(n.on.mock&&!this.on.mock[n.name]&&(this.on.mock[n.name]=n.on.mock),n.on.user&&!this.on.user[n.name]&&(this.on.user[n.name]=n.on.user))),n._vset=function(e,t,i,o){var s=this._caller||this._base||this;n.set&&n.set.call(s,this,e,t,i,o)}),s||r._update(e)),r},set:function(e,t,n){return this._caller=this,e},get:function(e,t){return e&&(e._caller=this),t.get?t.get.call(this,e):e}}},{"../../base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js","../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/url.js":[function(e,t,n){var i=e("old-vigour-js/util");e("old-vigour-js/value/flags/process"),n.extend=i.extend(function(e){e.extend({url:function(e){if(!e.urlset&&4===e.__t){e.urlset=!0;var t=this;t.navigation.page.on(function(n){e.from.val=t.navigation.page.val}),t.navigation.show.on(function(n){e.from.val=t.$parse(this).url}),t.navigation.media.on(function(){e.from.val=t.$parse(this).url}),e.from.on(function(){t.$execUrl()})}}}),e.define({$execUrl:function(e){var t,n,i,o,s,r=this,a=r.url.from.string.val,l=r.navigation,c=r.parent.content;a&&"$tv"!==a||(a=e),~a.indexOf("/")?0===a.indexOf("shows")?(t=a.split("/"),n=Number(t[1].split("-")[0]),t[2]&&(i=Number(t[2])),t[3]&&(o=Number(t[3].split("-")[0])),n&&(n=c.from.get(["shows",n]),l.show.$userOrigin=n),o&&(o=c.from.get(l.show.from._path.slice(3).concat(["seasons",String(i-1),"episodes",String(o-1)])),l.media.$userOrigin=o)):0===a.indexOf("channels")&&(t=a.split("/"),s=Number(t[1].split("-")[0]),l.page.$userOrigin="channels"):l.page.$userOrigin=a},$parse:function(e){var t=(this.url.val,e.from._parent&&e.from._parent._name),n={};return e.from&&(n.title=e.from.get("title",!1).val,"episodes"===t&&(n.season=Number(e.from._parent._parent._name)+1,n.media=Number(e.from._name)+1,n.show=e.from._parent._parent._parent._parent),t&&this.urlMap[t]&&(n.url=this.urlMap[t](e,n))),n},urlMap:{value:{episodes:function(e,t){var n=t.title,i=this.shows(t.show)+"/"+t.season+"/"+t.media;return n&&(i+="-"+n),i&&i.replace(/ /g,"+").replace("?","")},shows:function(e,t){var n=t?t.title:e.get("title",!1).val,i=e.from._name,o="shows/"+i;return n&&(o+="-"+n),o&&o.replace(/ /g,"+").replace("?","")}}}})})},{"old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/usage.js":[function(e,t,n){function i(e){e.watched.from.each(function(){var t=this.media&&this.media.from;if(t){var n=e.parent.content.from._path.concat(t._contentPath),i=t._path;s.compareArrays(i,n)||(console.log("resolve",i,n),this.media.val=e.parent.content.get(n))}})}function o(e,t){var n=e._parent._val;return!!(n&&n.$length.val>0)||0}var s=e("old-vigour-js/util"),r=(e("old-vigour-js/object"),e("./mockdata"),e("old-vigour-js/browser/cases")),a=e("old-vigour-js/data").inject(e("old-vigour-js/data/selection"));e("old-vigour-js/value/flags/process"),n.extend=s.extend(function(t){var n=t.parent.inject(e("../content")).content;t.extend({usage:{mock:{usage:{}},subscription:{usage:{shows:{$:{media:{$:!0},favourite:!0,timestamp:!0}}}},on:{mock:function(){this.usage=this.mockdata.usage},user:function(){this.usage=this.data.from.get("usage",{})}}},watched:{on:{mock:function(){this.__watched&&(this.__watched.remove(),this.__watched=null),this.watched&&this.watched.$empty(),this.watched={}},user:function(){var e=this;this.__watched&&(this.__watched.remove(),this.__watched=null);var t=this.__watched=new a(e.usage.from.get("shows"),{condition:{media:{title:{$exists:!0}}}});e.watched={},t.on(function(){var i={};t.each(function(t){var o=n.get(this._path.slice(-2)),r={};s.path(r,o._path,{img:!0,title:!0});var a=e.parent.cloud;a.subscribe(r),e.watched.set(this._name,{show:o,media:this.media.from}),e.watched[this._name].once("remove",function(){a.unsubscribe(r)}),i[this._name]=!0}),e.watched.each(function(t){i[t]||e.watched&&this.remove()}),i=!1,e.watched.update()}),t._update()}}},favourites:{on:{mock:function(){this.__favourites&&(this.__favourites.remove(),this.__favourites=null),this.favourites&&this.favourites.$empty(),this.favourites={}},user:function(){var e=this;e.__favourites&&(e.__favourites.remove(),e.__favourites=null),this.favourites.$empty();var t=e.__favourites=new a(e.usage.from.get("shows"),{condition:{favourite:!0}});e.favourites={},t.on(function(){var i={};t.each(function(t){var o=n.get(this._path.slice(-2));e.favourites.set(this._name,o),i[this._name]=!0}),e.favourites.each(function(e){i[e]||this.remove()}),i=!1,e.favourites.update()}),t._update()}}}}),t.extend({hasWatched:{val:{val:t.watched,transform:o}},hasFavourites:{val:{val:t.favourites,transform:o}}});n._val;n.on("self",function(){t.token.val?(i(t),t.favourites._prop.on.user.call(t),t.watched._prop.on.user.call(t)):(i(t),t.favourites._prop.on.mock.call(t),t.watched._prop.on.user.call(t))}),r.$hasFavourites=t.hasFavourites,r.$hasWatched=t.hasWatched})},{"../content":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/content.js","./mockdata":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/user/mockdata.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","old-vigour-js/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","old-vigour-js/data/selection":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/selection.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/values.js":[function(e,t,n){var i=e("../util/config"),o=i.languages,s=e("../util"),r=e("../value"),a=e("../browser/network/url"),l=e("../browser/ua");e("../value/flags/process"),n.extend=s.extend(function(e){var t=e.cases||(e.cases=equire("../browser/cases"));e.initialised=new r((!1)),e.overlay=new r((!1)),e.focusState=new r("menu"),e.region=new r({init:e.initialised}),e.url="tv"===l.device&&"lg"===l.platform?new r({defer:function(){},params:{},string:""}):a,e.ready=new r,e.menu=new r({init:e.ready}),e.network=new r,e.loading=new r({init:e.ready,defer:function(e,t){var n=this.updatePath.join(".");t[0]===!1&&(n&&n===this.id||!this.id)?(this.val=t[0],this.id=!1):t[0]===!0&&(this.id=n,this.val=!0),e()}});var n=e.guessLanguage=function(){var t=window.navigator.userLanguage||window.navigator.language,n=t&&t[1]?t:e.region.val;return n?(n=n.slice(0,2).toLowerCase(),"nb"===n&&(n="no"),"da"===n&&(n="dk"),o&&s.checkArray(o,n)===!1&&(n="en"),n):"en"};e.language=new r({transform:function(e,t){return t&&"string"==typeof t||(t=n()),!!t&&t.slice(0,2).toLowerCase()},init:e.initialised}),e.fullscreen=new r({force:!0}),e.loader=new r,e.volume=new r({val:1,transform:function(e,t){return isNaN(t)?1:t}}),e.popup=new r({init:e.ready}),e.state=new r({init:e.ready}),e.notification=new r({init:e.ready,force:!0}),e.playing=new r({init:e.ready,val:!1}),e.restrictPlayback=new r,e.wifiOnly=new r(!!localStorage&&{val:localStorage.getItem("wifiOnly")||!1,defer:function(e){this._val?localStorage.setItem("wifiOnly",!0):localStorage.removeItem("wifiOnly"),e()}}),e.restrictPlayback.val={val:e.wifiOnly,transform:function(e,n){return!(!n||!t.native||"wifi"===api.network.val)}},t.$playing=e.playing,t.$storeAvailable=new r(t.native&&(t.ios||t.android||t.windowsMobile))})},{"../browser/network/url":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/url.js","../browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js":[function(e,t,n){var i=e("../"),o=e("../util"),s=e("../util/inject"),r=i.Base=t.exports=n=function(e){this._from=this.constructor,e&&this.set(e)};n.settings=e("./settings");var a=n.set=function(e,t,n){for(var i in e)if(~i.indexOf(",")){for(var s=i.split(","),r={},l=0,c=s.length;l<c;l++)r[s[l]]=o.clone(e[i]);if(n){delete e[i];for(var u in r)e[u]=r[u]}else a.call(this,r,t,n)}else i=o.dotField(e,i),this._set&&!n?this._set.call(this,e,i,t):this[i]=e[i];return n?e:this};o.define(r,"isProperty",function(e,t){var n=this,i=!(void 0===n._[e]&&!o.lookup.call(n,e)&&"function"!=typeof n[e]);return i},"defaultType",!1,"extensions",!1,"define",function(e){for(var t in e)o.define(this,t,e[t]),o.define(this.Class,t,e[t])},"extend",function(e){var t,i=o.arg(arguments),s=i.length;if(s>1)for(t=0;t<s;this.extend(i[t++]));else if(e.name)if(e===!0&&alert(),e.def||0===e.def||(e.def=!1),this.Class.prototype._settings&&(n.settings.parse.call(this,e),e._settings&&n.settings.create.call(this,e)),e.type===!1||!e.type&&!this.defaultType)o.define(this.Class,e.name,e);else{e.type||(e.type=this.defaultType);var r=function(t){return e.type.get?e.type.get.call(this,t,e):t},a=function(t){var n=this[e.name];if(null!==n)return n===e.def?e.type.create.call(this,t,n,e):(t=e.type.set.call(this,t,n,e),void(null!==t&&(n.val=t)))};o.define(this,e.name,e.def,a,r,!0),o.define(this.Class,e.name,e.def,a,r)}else for(t in e)"function"==typeof e[t]?this.extend({name:t,set:e[t]}):(e[t].name=t,this.extend(e[t]))},"remove",function(e,t,n){if(this._from){if(this.setting("remove",[n]),!t){var o=this._from.base.instances;if(o){var s=0;for(o.length;o[s]!==this||!o.splice(s,1);s++);}}for(var r in this.__)this.__[r]instanceof i.Object?(this.__[r].remove(!1,!1,!1,!1,!1,!0),this.__[r]=null):this.__[r]=null;if(this.__=null,e&&this.instances)for(a=this.instances.length-1;a>=0;this.instances[a--].remove(!0,!0));for(var a in this)this[a]=null;this._settings=null,this._=null,delete this._settings,delete this._,delete this.__}},"set",a,"get",function(e,t){return o.get(this,e,t)},"inject",s,"eachInstance",function(e,t,n,i){var o=this.instances;if(o)for(var s,r=0,a=o.length;r<a;r++)if(s=o[r],!s||t&&s.__&&s.__[t])s||console.error("\n\n\n\ninstance in base gone?",r,o);else{if(e.call(s,n,i))return!0;if(s.eachInstance(e,t,n))return!0}},"Class",{get:function(){if(!this._class){this.instances=[],this._class=function(e,t,n){if(!t){var i=this._from.base;i.instances.push(this),this.setting&&this.setting("new",[i,n]),e&&this.set(e)}},this._class.base=this,this._class.prototype=new this._from((!1),(!0)),this._class.prototype.__=null,o.setstore.call(this);var e,t=this._class.prototype._={};for(e in this.__)t[e]=this.__[e];for(e in this._)void 0===t[e]&&(t[e]=this._[e]);this._class.prototype._from=this._class,this._class.inject=s}return this._class}})},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../util/inject":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/inject.js","./settings":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/settings.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/settings.js":[function(e,t,n){var i=e("./"),o=e("../util");o.define(i,"_settings"),i.prototype._._settings={};var s=function(e,t,n){var i,r,a,l=e._settings,c=this,u=c._._settings;if(o.setstore.call(c),!c.__._settings){c.__._settings={};for(var d in u)c._settings[d]=u[d]}a=c.__._settings;for(r in l)if(i=l[r],t&&a[i][e.name]||!t&&!a[i][e.name]||n){if(a[i]===u[i]){a[i]={};for(var p in u[i])a[i][p]=u[i][p]}t?(this.eachInstance(function(){this[e.name]!==c[e.name]?this._setting!==a&&this._settings[i]===a[i]&&s.call(this,a[i][e.name],!1,!0):this._setting!==a&&this._settings[i]!==a[i]&&this.removeSetting(e.name,i)}),a[i][e.name]=null,delete a[i][e.name],o.empty(a[i])&&(a[i]=!0)):(a[i]===!0&&(a[i]={}),a[i][e.name]=e)}};n.create=function(e){e._set=e.set,e.set=function(t,n){s.call(this,e),e._set.apply(this,arguments)}},n.parse=function(e,t){t||(t=this._settings);for(var n in t)e[n]&&(e._settings||(e._settings=[]),e._settings.push(n))},n.add=function(e,t){if(e instanceof Array)for(var n in e)t?this.add(e[n],t):this.addSetting(e[n],!1);else if(t)t.prototype._settings[e]=!0;else{o.setstore.call(this),this.__._settings||(this.__._settings={});for(var i in this._._settings)this._settings[i]=this._._settings[i];this._settings[e]=!0}},o.define(i,"addSetting",function(e){n.add.call(this,e),this._class&&(this._class.prototype._._settings=this._settings)},"setSetting",function(e){n.parse.call(this,e),s.call(this,e)},"removeSetting",function(e,t){t instanceof Array||(t=[t]);for(var n,i=t.length-1,o=this._settings;i>=0;i--)if(o&&o[t[i]]&&o[t[i]][e]){n=!0;break}n&&s.call(this,{name:e,_settings:t},!0)},"setting",function(e,t){var n=this._settings;if(n&&n[e]&&n[e]!==!0)for(var i in n[e])n[e][i][e].apply(this,t)}),n.add(["new","remove"],i)},{"../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/easing.js":[function(e,t,n){var i=e("./");i.easing=n,n.inCubic=function(e,t,n,i){return n*(e/=i)*e*e+t},n.outCubic=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},n.outBack=function(e,t,n,i,o){var o=1.70158;return n*((e=e/i-1)*e*((o+1)*e+o)+1)+t}},{"./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/frame.js":[function(e,t,n){var i=e("../../value"),o=new i(1),s=e("../../util"),r=function(){n.rafId=window.requestAnimationFrame(r),o.val++};o.done=new i((!0)),s.define(o,"addListener",function(e,t,n){this._listeners||(this.done.val=!1,r()),i.prototype.addListener.call(this,e,t,n)},"removeListener",function(e,t,o){var s=this;i.prototype.removeListener.call(s,e,t,o),this._listeners||(window.cancelAnimationFrame(n.rafId),this.val=1,this.done.val=!0)}),t.exports=o},{"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"
}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/index.js":[function(e,t,n){function i(e){this._p=!0,this.val=e,this._p=!1}var o=(e("../element").inject(e("../element/properties")),e("../../object")),s=(e("../../util"),e("../../value/flags/util")),r=e("../../value/operators"),a=e("./frame"),l=function(e,t,n,i){return n*e/i+t};r._a=function(e,t){return t},r._a.order=2,s.animation={set:function(e){var t=this,s=t.checkParent("_prop");if(e){t._val||(t.val=0);var r,c,u=s._prop.name,d=s._caller,p=e.noListener,h=t._path,f=u.concat(h.join("")),v=e.skip,m=e.easing&&n.easing[e.easing]||e.easing||l;if(s._animListen||(s._animListen=function(e){var t=this[u];if(t)t.update(this,!0);else{var n=a._listeners&&a._listeners.length;console.log("_animListen setting",a._listeners&&a._listeners.length),a.removeListener(void 0,this),console.log(">> _animListen setting",a._listeners&&a._listeners.length),n&&n===(a._listeners&&a._listeners.length)&&console.error("this >>",this)}}),d.setSetting({name:"animation",remove:function(){var e=a._listeners&&a._listeners.length;if(a.removeListener(void 0,this),a._listeners&&e&&e===(a._listeners&&a._listeners.length))for(var t in a._listeners)a._listeners[t]instanceof Array&&(a._listeners[t][1]===this,a._listeners[t][1])}}),s.preventSet=i,s.set("translate",!0),t.set("_a",{time:e.time||60,val:function(i,l,d){var h,g=this,y=s,_=g[u];if(g._a||(g._a={}),!g._a[f]&&(c=void 0===e.start?g.rendered&&void 0!==t.__lval?t.__lval:l:e.start instanceof o?e.start.val:e.start,g._a[f]={_start:c,_end:c,_current:c,_count:0},!g.rendered))return c;if(g.rendered){if(v)return g._a[f]._current=l,v=!1,l;if(h=g._a[f],_._p||n.prevent)h._frame=0,a.removeListener(y._animListen,this,!0),1!==_._p&&(h._current=h._end=l,e.complete&&(p=e.complete.call(g,l)),e.done&&setTimeout(function(){e.done.call(g,l)},0),e.once&&setTimeout(function(){e.once&&e.once.call(g,l),e.once=null},0));else if(h._frame!==a.val){if(h._frame||void 0!==l&&h._current!==l){if(h._end!==l&&(e.init&&e.init.call(g,h._current),p||a.addListener([y._animListen,this,u],function(e,t){for(var n in t)if(t[n].pop&&t[n].pop&&t[n][1]===g&&t[n][2]===u)return!1;return!0}),h._start=h._current,h._end=l,h._count=0,r=~~i.time.val),h._frame=a.val,e.delay)return e.delay--,h._start;var w=++h._count;h._current=m.call(g,w,h._start,h._end-h._start,r||(r=~~i.time.val)),e[w]&&e[w].call(this,h._current,l)}h._count===r&&(h._current=l,h._frame=0,h._count=0,e.complete&&(p=e.complete.call(g,l)),e.done&&setTimeout(function(){e.done.call(g,l)},0),e.once&&setTimeout(function(){e.once&&e.once.call(g,l),e.once=null},0),p||a.removeListener(y._animListen,this,!0))}return h._current}}}),s._skip=!0,t._skip=!0,void 0!==e.start){var g=this._caller;g||(g=this.checkParent("_prop")._caller),g.setRender(u,function(e){this.update(u)})}}else t.remove("_a"),t._skip=void 0,s._skip=void 0,_remove(s)}}},{"../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value/flags/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/util.js","../../value/operators":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/operators.js","../element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","../element/properties":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/index.js","./frame":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/frame.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js":[function(e,t,n){var i=e("../ua"),o="equestAnimationFrame",s=e("../../util");lastFrame=0,s.define(i,"hasTransition",{get:function(){if(!i._hasTransition){var e=document.body||document.documentElement,t=e.style,n="ransition";i._hasTransition="string"==typeof t["t"+n]||"string"==typeof t[i.prefix+"T"+n]}return i._hasTransition}}),o="r"+o,(!window||window&&!window[o])&&(i.noRaf=!0,window[o]=function(e){return setTimeout(e,20)},window.cancelAnimationFrame=function(e){clearTimeout(e)}),t.exports=n=window[o],n.timer=function(e,t,i){n(--t?function(){i&&e(),n.timer(e,t,i)}:e)},n.repeat=function(e,t){n.timer(e,t,!0)}},{"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/base.js":[function(e,t,n){var i=e("./"),o=(e("../element"),e("../element/set")),s=e("../../base"),r=e("../../util"),a=function(e,t,n,i){n||(e.css||(e.css=""),e.css.set(i?"removeClass":"addClass",t),e.css.update(e),e.eachInstance(function(){console.error("\n\n\ninstance! set css!!!!!",t,e.node),this.css.set(i?"removeClass":"addClass",t),this.css.update(this)}))},l=i.methods;o.remove=function(e,t,n,i){if(t&&t.__remove__)if(this[e]instanceof s)i[e]=!1;else{if(!r.lookup.call(this,e))return delete t[e],!0;delete t.__remove__}},o.cases=l.reader(function(e,t,n,o){var c,u,d,p,h,f=this,v=function(e){e=s.set(e,!1,!0);for(var t in e)r.isObj(e[t])&&(e[t]=v(e[t]));return e};return t=v(t),n?(f._cases||(f._cases={}),null===t?(f._cases[e].method&&i[e].removeListener(f._cases[e].method),i[e].val&&(f.css={removeClass:e},f.eachInstance(function(){this.css={removeClass:e}})),delete f._cases[e]):(u=l.original(f,!0,t,f._cases,!0,e),f._cases[e]={val:t,orig:u[0],nested:u[1]},f._cases[e].method||(c=f._cases[e].method=function(){t&&(d=l.merge(!0,e,t,f._cases),p=d[0],h=d[1],delete p.val,delete h.val,i[e].val?(a(f,e,o),f.set(p,!0)):(a(f,e,o,!0),f.set(h,!0)))},i[e].addListener(c),f.setSetting({name:"_c"+e,remove:function(){this===f&&(i[e].removeListener(c),this._cases[e].method=null)}})),i[e].val&&(a(f,e,o),f.set(t,!0)))):(a(f,e,o),f.set(t)),!0})},{"../../base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","../element/set":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/set.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js":[function(e,t,n){var i=e("../../object"),o=e("../../util"),s=e("../element"),r=e("../../value"),a=e("../../value/flags");o.define(n,"methods",{});var l=o.isObj,c=function(e,t,n){var i,o,s,r,a;if(n){i={};for(s in e)i[s]=!0}for(o in t)n&&!i[o]||(r=e[o],a=t[o],r instanceof Object?(r.__remove__&&a&&!a.__remove__&&delete r.__remove__,a instanceof Object||(t[o]={val:a}),c(r,a,n)):(e[o]=a,r="burn"))},u=function(e,t,o,r,c,d,p,h,f){h||(f=e,h=[]);var v,m,g;if(c instanceof i&&!d);else if(c instanceof Object)for(v in c)g=c[v],n[v]?(m=n[v],m instanceof i&&(d&&s.set.lookup.call(f,h[h.length-1])||(t[v]=!0)),l(g)?(h.push(v),u(e,t,o,r,g,d,p,h,f)):r.val=e&&(void 0!==e._val?e._val:void 0),r[v]=null):l(g)?(r[v]||(r[v]=e&&e[v]&&e[v].convert&&e[v].convert(g)||(g instanceof Array?[]:{})),h.push(v),u(e&&e[v],t,o,r[v],g,d,p,h,f),!d||e&&e[v]||(r[v].__remove__=!0)):e&&r&&!r[v]&&(a[v]?(delete r[v],r.val=void 0!==e._val?e._val:void 0):r[v]="val"===v?void 0!==e._val?e._val:void 0:void 0!==e[v]&&e[v].convert&&e[v].convert())};n.methods.original=function(e,t,n,i,o,s){var r,a,d=t?e.convert(n):e._val,p={};u(e,p,i,d,n,o,s);for(r in i)p[r]||(a=i[r].orig,t?l(a)?i[r].nested[s]||c(d,a,s):d.val&&(d.val=a):l(a)?a.val&&(d=a.val):d=a);return[d,p]},n.methods.merge=function(e,t,i,s){var r,a,u,d,p=o.clone(s[t].orig),h=i;for(a in s)if(a===t||s[t].nested[a])r=!0;else if(n[a].val)if(u=s[a].val,l(p)||l(u)){l(p)||(p={val:p}),l(u)||(u={val:u}),c(p,u,!0);for(a in n)d=p[a],null!==d&&void 0!==d&&delete p[a];if(r)if(e){h===i&&(h=o.clone(h)),u=o.clone(u);for(a in n)null!==u[a]&&void 0!==u[a]&&delete u[a];c(h,u,!0)}else u.val&&(h=u.val)}else p=u;return[h,p]},n.methods.reader=function(e,t,o){return function(s,a){var l,c="!"===s[0],u=c?n[s.slice(1)]:n[s];return u?u instanceof i?(c&&!n[s]&&(n[s]=new r({val:function(){return!u.val},listen:u})),l=e?e.call(this,s,a,!0,c):t):l=c?!!e:e?e.call(this,s,a):o:c&&(l=e?e.call(this,s,a,!1,c):o),u===!1&&e&&(l=!0),l}},e("./object"),e("./base")},{"../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../../value/flags":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js","../element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","./base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/base.js","./object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/object.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/object.js":[function(e,t,n){var i=e("../../value/flags"),o=e("./"),s=e("../../object"),r=e("../../util"),a=o.methods,l={set:function(e,t,n,i){this._flag||(this._flag={});var c=this,u=c._flag.case||(c._flag.case=["case",c._val,!1,{},l]),d=u[3],p=r.isObj(e),h=!(p&&!e.val);if(null===e)d[i]&&o[i].removeListener(d[i].method),delete d[i];else{if(u[5]=!0,!d[i]){var f=a.original(c,p,e,d,!1,i);d[i]={val:e,orig:f[0],nested:f[1],method:function(){var t=a.merge(p,i,e,d),n=t[0],s=t[1];u[5]=!0,o[i].val?(n||console.warn(i,"wrong in cases!",n,o,u),h&&n&&(u[1]=n.val||n),c.val=n):(h&&(u[1]=s&&s.val||s),"$isActive"===i&&console.log("no way gozee 2",s,c),c.val=s),u[5]=null}},o[i].addListener(u[3][i].method)}o[i].val&&(h&&(u[1]=e.val||e),s.set.call(c,e,t,!1,!0),c._ignorefornow=!0),u[5]=null}},remove:function(e,t){var n=0;for(var i in e[3])n++,!this._ignorefornow&&!t||i===t?(n--,o[i].removeListener(e[3][i].method)):delete this._ignorefornow;if(n)return!0},stack:"case"},c={set:function(e,t,n,i){null!==e&&s.set.call(this,e,t,!1,!0)}};i.dynamic.cases=a.reader(!1,l,c)},{"../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value/flags":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/css.js":[function(e,t,n){var i="cssRules",o=function(e){e="."+e.replace(/\./g," .").toLowerCase();for(var t,n,o=document.styleSheets,s=o.length,r=0;r<s;r++)if(n=o[r][i]||o[r][i="rules"])for(var a,l=0,c=n.length;l<c;a=n[l++],a.selectorText===e&&(t=a.style));return t},s=function(e,t){var i=n;return t.push(i[e]||(i[e]=o(e))||{}),e};t.exports=function(e,t){if(e){var n=this[e];if(!n){n=[];for(var i,o=e.split(" "),r=0,a=o.length;r<a;r++)(i=s(o[r],n).split("."))instanceof Array&&s(i[i.length-1],n);this[e]=n}if(t){if(!(n instanceof Array))return;for(var l,r=n.length-1;!l&&r>=0;l=n[r--][t]);n=l}return n}}},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js":[function(e,t,n){var i=e("../../base"),o=e("../../value/base"),s=e("../../"),r=e("../../util"),a=new i;a.defaultType=o.type,t.exports=n=s.Element=a.Class,n.base=a;var l="undefined"!=typeof document?document:"no document",c=function(){for(var e=this._node.childNodes,t=0,n=e.length;t<n;t++)e[t].base&&e[t].base.remove(!1,!1,!0)};n.base.extend({name:"node",type:!1,set:function(e){e instanceof Object||!e.length?this._node=e:this._node=l.createElement(e),this._node.base=this},get:function(){return this._node||(this.node=l.createElement("div")),this._node},new:function(e,t){if(t)this._node=t;else{var n=e._node;n&&(this._node=n.cloneNode(!0),this._node.base=this)}if(e._node&&e._node.hasChildNodes()){var i,o,s=this._node.childNodes,r=e._node.childNodes,a=s.length;for(i=0;i<a;i++)o=r[i].base,o&&(s[i].base=new o.Class((!1),(!1),s[i]),o._name&&(s[i].base._name=o._name,this[o._name]=s[i].base),s[i].base.setting("parent",[this]))}},remove:function(e){if(c.call(this),this._node&&(this._node.base=null),!e){var t=this._node.parentNode;t&&(t.removeChild(this._node),this._name&&t.base&&(t.base[this._name]=null))}}},{css:function(e){var t=e.val||"";e._skip=!0,e.addClass&&(~t.indexOf(e.addClass.val)||(e._val=(t.length>0?t+" ":"")+e.addClass.val,e.add&&(e._val=e._val.replace(e.add.val,"")),e._lval=!1,e.__lval=!1,e.___lval=!1,t=e.val),e.addClass.remove()),e.removeClass&&(t&&e._val&&(e._val=e._val.replace(new RegExp(" ?"+e.removeClass.val),""),e._lval=!1,e.__lval=!1,e.___lval=!1,t=e.val),e.removeClass.remove()),t?this.node.className=t.replace("$",""):this.node.className=""}},{name:"name",type:!1,set:function(e){var t=this.parent;this._name&&t&&(t[this._name]=null),this._name=e,this._node&&e===this.node.nodeName.toLowerCase()||this.css&&this.css._val===e||(this.css={add:" "+e}),t&&(t[e]=this)},get:function(){return this._name}},{name:"parent",type:!1,get:function(){if(this._node){var e=this._node.parentNode||this._p;return!!e&&(e.base||e._p)}}},{name:"children",type:!1,get:function(){if(!this._node)return[];var e,t=this._node.childNodes,n=t.length,i=new Array(n);for(e=0;e<n;e++)i[e]=t[e].base||t[e];return i}});var u=function(e){if(this.lastindex||this.setting("render",[e]),this.renders)for(var t,n,i,o=this.node.childNodes,s=this.renders,a=this.lastindex||0,l=s.length;a<l;a++)if(i=s[a])if(t=r.checkArray(o,i,"base"),t!==!1)u.call(i,this);else if(i._from)if(n=i.Class,i.name&&this[i.name]&&this[i.name]===n)u.call(this[i.name],this);else for(var c in o)if(o[c].base&&o[c].base instanceof n){u.call(o[c].base,this);break}this.lastindex=l},d=function(){var e,t;this.parent&&(e=this.parent,e.renders?e.renders.push(this):(e.renders=[this],t=e.parent,!t||t._settings&&t._settings.render!==!0||d.call(e)))},p=function(e){var t=e.__&&e.__._settings||e._._settings;(e._.renders||e.__&&e.__.renders||t.render!==!0)&&(this.renders||(this.renders=[]),this.__&&this.__.renders||(this.renders=r.clone(this.renders)),this.renders.push(e))};r.define(n,"append",function(e){arguments.length>1&&(e=r.arg(arguments));var t;e.length||e instanceof n||!e.val||(t=e.before,e=e.val);var i=e[0],o=0,s=e.length;if(e.length)if("function"==typeof i)for(var o=1,s=e.length;o<s;o++)this.add(new i(e[o]),t);else for(;o<s;o++)this.add(e[o],t);else this.add(e,t)},"checkRender",function(e,t){if(e&&p.call(this,e),!t){var n=this.__&&this.__.renders||this._.renders;(n||(this.__&&this.__._settings||this._._settings).render!==!0)&&(!this.lastindex||n&&this.lastindex<n.length)&&this.rendered?u.call(this,this):this.parent&&p.call(this.parent,this)}},"checkParent",r.checkParentFactory("parent"),"get",function(e,t){return r.get(this,e,t)},"find",function(e,t,n){void 0===n&&(n=!0);for(var i,o,s=this.node.childNodes,r=0,a=s.length,l=n===!0||n-1;r<a;r++)if(o=s[r].base){if(o.get(e,!0)==t)return o;if(n&&(i=o.find(e,t,l)))return i}},"setRender",function(e,t){this.setSetting({name:e,render:t}),d.call(this),this.eachInstance(function(){d.call(this)},e)},"renders",!1,"add",function(e,t){return t?("string"==typeof t&&(t=this[t]),t?this.node.insertBefore(e.node,t.node||t):console.error("cannot find insertbefore")):this.node.appendChild(e.node),e.setting("parent",[this]),e.name&&(this[e.name]=e),this.checkRender(e),this},"empty",function(e){var t,n=this.node.childNodes;for(this.node.innerHtml="",t=n.length-1;t>=0;t--)n[t].base&&n[t].base.remove(e)}),n.base.addSetting("parent"),n.base.addSetting("render"),e("./set")},{"../../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../../base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../value/base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/base.js","./set":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/set.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/collection/display.js":[function(e,t,n){var i=e("./util");n.prepare=function(e){e.display||(e.display="block")},n.newElement=function(e,t,n){var o=i.children(n);for(var s in o)if(o[s]._d&&o[s]._d===e)return o[s].display=t.display.val,!0},n.rem=function(e,t,n,i){return e.display="none",!0},n.fragment=function(e,t,n,i){n&&(n[i]=null)}},{"./util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/collection/util.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/collection/index.js":[function(e,t,n){var i=e("./util"),o=e("../../../../util");n.extend=o.extend(e("../data"),function(e){e.extend({name:"collection",remove:function(){this._colElem&&this._colElem.remove()},set:function(e,t,n,s,r,a){e._skip=!0;var l,c,u=i.filter(e,this),d=this.filter||e.val,p=this._colOptions||e.options&&(this._colOptions=e.options.convert()),h=e.element,f=this._colElem||h&&h._val&&(this._colElem=new(h._val.Class||h._val)),v=!this._colInit,m=this._colElem;if(d&&f)if(l=h._slStamp,c=h._val,l?h._slStamp=t:m&&h._slStamp!==t&&(c.Class&&m instanceof c.Class||!c.Class&&m instanceof c||(f=this._colElem=new(c.Class||c),h._slStamp=t)),v)p&&p.prepare&&p.prepare(f),this._colInit=!0,this.node.appendChild(i.fragment(d,f,this,!1,p,u));else if(n&&n._parent===d.from)if(s){var g=o.checkArray(i.children(this),n,"_d",!0);g&&(p&&p.rem&&p.rem(g,this,u)||g.remove())}else o.checkArray(i.children(this),n,"_d")===!1?i.element(n,f,this,!0,this.node,p,u,!0):u&&p&&p.indexChange&&p.indexChange(o.checkArray(i.children(this),n,"_d",!0),this,u);else if(!n)if(s)i.clear(this,p);else{var y,_,w,b=i.children(this),k={};u===!0&&(_=d.keys);for(var E in b)w=b[E],y=b[E]._d._name,(u&&!_?o.checkArray(d,w._d)!==!1:d[y]&&d[y]===w._d)?(k[y]=!0,u&&(p&&p.indexChange?w._d._indexCache[u][0]!==w.i&&p.indexChange(w,this,u,!0):u===!0&&E!=o.checkArray(_,y,!0)&&(delete k[y],p&&p.rem&&p.rem(b[E],this,u,u)||w.remove()))):p&&p.rem&&p.rem(w,this,u,u)||w.remove();this.node.appendChild(i.fragment(d,f,this,k,p,u))}}})})},{"../../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/data.js","./util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/collection/util.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/collection/util.js":[function(e,t,n){var i=(e("../"),e("../../../../data").inject(e("../../../../data/selection")));e("../../../../util");n.element=function(e,t,n,i,o,s,r,a){var l;if(!s||!s.newElement||(l=s.newElement.apply(this,arguments),l!==!0))return l=l||new t.Class,l._col=!0,void 0!==e&&l._dSet(e),o&&o.appendChild(l.node),l.setting("parent",[n]),s&&s.element&&s.element(l,n,r,a),i&&void 0!==e&&l.updateData(),n.checkRender(l,!0),l},n.fragment=function(e,t,i,o,s,r){var a=document.createDocumentFragment(),l=function(e){if(this._name&&(e=this._name),!(s&&s.fragment&&s.fragment(i,this,o,e)||o&&o[e])){var l=n.element(this||null,t,i,!1,a,s,r);l&&a.appendChild(l.node)}};if(a._p=i,e.each)e.each(l);else for(var c in e)l.call(e[c],c);return t.updateData(!0),a},n.children=function(e,t){if(e){var n=[];for(var i in e.node.childNodes){var o=e.node.childNodes[i].base;o&&o._col&&n.push(o)}return t&&t.children&&t.children(n),n}},n.clear=function(e,t){e.colInit=null;var i=n.children(e);for(var o in i)i[o].remove();t&&t.clear&&t.clear(e)},n.filter=function(e,t){var n=e.val;if(e.filter&&e.filter.val===!0)return!0;if(n&&e.filter&&!t.filter){var o=e.filter.raw;return n=t.filter=new i(n,o),o._col=!0,n.addListener(function(e,n,i,o){t.collection._update(e,n,i,o)}),t.setSetting({remove:function(){t.filter.remove(),t.filter=null}}),n._uid}return n&&n._filter?n._uid:t.filter?t.filter._uid:void 0}},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/index.js","../../../../data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","../../../../data/selection":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/selection.js","../../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/data.js":[function(e,t,n){var i=e("../../../data/base"),o=e("../../../util");e("../../../value/flags");n.extend=o.extend([i,{updateData:function(e,t,n){this._d&&(this._subscribed=!1,t=this._d);var i=!1;n||this.model||this._fmodel||(i=!0);for(var o,s=this.node.childNodes,r=s.length-1;r>=0;r--)o=s[r].base,!o||o.model&&o.model.inherit&&o.model.inherit.val===!1||void 0!==o._d&&!o._dfrom||(o.model&&t&&(i&&(o._fmodel=!0),o._dSet(t,!0)),o.updateData(e,t,o._fmodel||n))}}])},{"../../../data/base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/base.js","../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../../value/flags":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/index.js":[function(e,t,n){var i=e("../../ua"),o=e("../../css"),s=e("../../../value"),r=e("../../../util"),a=e("../../../util/hash"),l=e("../../animation/raf"),c=e("../").images={},u=i.prefix+"Transform",d=i.prefix+"-transform",p=document.body.style,h=void 0!=p.perspectiveProperty||void 0!=p.WebkitPerspective?["translate3d(",",0px)"]:["translate(",")"],f=function(e){var t="margin"+(e[0].toUpperCase()+e.slice(1));return function(n){n.clean&&(g.call(this,e,t),n.clean=null),n.translate?this.translate(n):this.node.style[this.relative?t:e]=n.val+"px"}},v=new RegExp(d+"(.*?);"),m={x:/(margin-left(.*?);)|(left(.*?);)/g,y:/(margin-top(.*?);)|(top(.*?);)/g},g=function(e){var t=this._t,n=!1,i=this[e],o=this.node.style.cssText.replace(m[e],"");if(i&&i.translate&&i.translate.val===!1&&(i.translate=null),this.node.style[u]&&!i.translate){if(t)if(this[e].translate)n=!0;else for(var s=2;s<6;s++)t[s]&&(n=!0);n||(o=o.replace(v,""))}this.node.style.cssText=o};n.extend=r.extend(function(e){function t(e){var t="scroll",n=t+e;return{name:n,set:function(e){var i=e.val,o=this;void 0!==i&&(o.node[n]=i),o.__sT||(o.__sT=!0,o.addEvent(t,function(){void 0!==e._listeners?e.val=o.node[n]:o[n].__lval=void 0}))},get:function(e){return void 0===e.__lval&&(e.val=this.node[n]),e},render:function(){var e=this,t=e[n].__lval;t&&l(function(){e.node[n]=t})}}}r.define(e.Class,"cleanCoordinates",function(e){this._node&&(e?g.call(this,e):(g.call(this,"x"),g.call(this,"y")))},"translate",function(e){var t,n,i,o,s,r,a=e.val,l="",c=e&&e._prop.name,d=this._t=this._t||[],p=!1;return"x"===c?(t=0|a,t===d[0]&&(p=!0)):"y"===c?(n=0|a,n===d[1]&&(p=!0)):"rotate"===c?(o=a,o===d[2]&&(p=!0)):"scale"===c?(i=a,i===d[3]&&(p=!0)):"rotateY"===c?(s=a,s===d[4]&&(p=!0)):"rotateX"===c&&(r=a,r===d[4]&&(p=!0)),p||(d[0]=t||this.x.translate&&0|this.x.val||0,d[1]=n||this.y.translate&&0|this.y.val||0,d[2]=o||this.rotate.val,d[3]=i||this.scale.val,d[4]=s||this.rotateY.val,d[5]=r||this.rotateX.val,(d[0]||d[1])&&(l=l.concat(h[0]+d[0]+"px,"+d[1]+"px"+h[1])),d[2]&&(l=l.concat(" rotate("+d[2]+"deg)")),d[3]&&(l=l.concat(" scale("+d[3]+")")),d[4]&&(l=l.concat(" rotateY("+d[4]+"deg)")),d[5]&&(l=l.concat(" rotateX("+d[5]+"deg)")),this.node.style[u]=l),this},"update",function(){for(var e,t=0,n=r.arg(arguments),i=n.length;t<i;t++)n[t]instanceof Array?this.update.apply(this,n[t]):(e=r.get(this,n[t]),e&&e.update(this));return this}),e.extend({name:"relative",type:!1,get:function(){var e=this.position!==!1?this.position.val:this.position={css:!0,val:o(this.css.val,"position")};return"absolute"!==e}},{type:!1,name:"rendered",get:function(){var e,t=this._rendered||this.node===document.body;if(!t){for(e=this.node.parentNode;!t&&e;)e.base&&e._rendered&&(t=!0),e==document.body&&(t=!0),e=e.parentNode;t&&(this._rendered=!0)}return t}},t("Left"),t("Top"),{position:function(e){this.node.style.position=e.val},rotate:function(e){this.translate(e)},rotateY:function(e){this.translate(e)},rotateX:function(e){this.translate(e)},scale:function(e){this.translate(e)},src:function(e){var t=e.val;t&&"/"!==t[t.length-1]&&(this.node.src=t)},attr:function(e){var t=this;e.each(function(e){t.node.setAttribute(e,this.val)})},backgroundPos:function(e){this.node.style.backgroundPosition=e.val},backgroundBatch:function(e){},background:function(e){var t,n,i,o,u=e.val,d=this,p=this.node.style;if(e.gone&&e.gone.val)e._skip=!0,p.backgroundImage="";else if(u&&"/"!==u[u.length-1]){if(t="url("+u+")",p.backgroundImage===t)return;if(e.size&&(p.backgroundSize=e.size.val),e.load){if(n=a(u),i=this.checkParent("backgroundBatch"),i&&(o=i.backgroundBatch),!c[n]){this._loaded=null,o&&(window.cancelAnimationFrame(o._raf),o.batch||(o.batch=[]),o.batch.push(a)),c[n]=new s((!1));var h=document.createElement("img");h.onload=function(){o&&(o.batch.splice(r.checkArray(o.batch,n),1),0===o.batch.length&&(o.batch=null,o._raf=l(function(){i._node&&o._val.call(i)}))),c[n].val=!0,h.onload=null,h=null,c[n].remove(!1,!1,!1,!1,!1,!0),c[n]=!0},h.src=u}c[n]!==!0?(this._loaded=null,c[n].addListener([function(){e.load&&e.load.val!==!0&&e.load._val.call(this,d)},e._base],!0)):(this._loaded=!0,o&&(o.batch&&0!==o.batch.length||(o.batch=null,window.cancelAnimationFrame(o._raf),o._raf=l(function(){i._node&&o._val.call(i)}))),e.load.val!==!0&&e.load._val.call(this,d))}p.backgroundImage=t}},padding:function(e){this.node.style.padding=e.val+"px"},y:f("top"),x:f("left"),display:function(e){this.node.style.display=e.val},w:function(e){var t=e.val;this.node.style.width=(t>-1?(0|t)+"px":t)||"100%"},h:function(e){var t=e.val;this.node.style.height=(t>-1?(0|t)+"px":t)||"100%"},opacity:function(e){var t=e.val;this.node.style.opacity=t>-1?t:1},html:function(e){var t=e.val||"";t.replace&&(t=t.replace(/\t/g,"    ").replace(/\r\n|\n|\r/g,"<br/>").replace(/  /g,"&nbsp; ").replace(/  /g," &nbsp;"),this.node.innerHTML=t)},href:function(e){this.node.href=e.val},text:function(e){var t=this.node,n=t.childNodes,i=e.val||"";if(i instanceof Object&&(i=""),/text/.test(t.type))return void(t.value=i);if(n)for(var o=0,s=n.length;o<s;o++)if(3===n[o].nodeType)return void(n[o].nodeValue=i);t.appendChild(document.createTextNode(i))}})})},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../../util/hash":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/hash.js","../../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../../animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","../../css":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/css.js","../../ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/process.js":[function(e,t,n){var i=e("../../../util");n.extend=i.extend(function(e){var t=e.Class.prototype,n=t.add;i.define(t,"add",function(e){e.process?(e.__tempAdd=i.arg(arguments),e.__tempAdd.unshift(this)):n.apply(this,arguments)}),e.extend({process:function(e){console.log("xxxx___xxxx"),this.__tempAdd&&!this.parent&&(n.apply(this.__tempAdd[0],this.__tempAdd.slice(1)),this.__tempAdd=null)}})})},{"../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/scrollbar.js":[function(e,t,n){function i(e){document.activeElement?"INPUT"!==e.target.tagName&&"FORM"!==e.target.tagName&&(document.activeElement.blur(),u.removeEvent(!1,"blur")):u.removeEvent(!1,"blur")}var o,s=e("../../events"),r=e("../../cases"),a=e("../../ua"),l=!1,c=("ios"===a.platform,"android"===a.platform,e("../../../util").extend),u=s.document;r.touch?(s.preventDown={val:{down:function(e,t){document.activeElement?u.addEvent("up",i,"blur"):"INPUT"===e.target.tagName||"FORM"===e.target.tagName||s._maybescroll||e.preventDefault()}}},s.scrollbar={val:{down:function(e,t,n){var o,r,a,l,c,d,p,h=this,f="x"===n._val;if(f?(a="x",l="y",r="scrollLeft",d=h.node.scrollWidth-h.node.offsetWidth):(a="y",l="x",r="scrollTop",d=h.node.scrollHeight-h.node.offsetHeight),o=h.node[r],d>0){s[a]=!0,s._maybescroll=!0,f||(o?o===d?o=h.node[r]=d-1:o>d&&(p=!0):o=h.node[r]=1);var v=e.y,m=e.x,g=r+a;u.addEvent("move",function(e){var t=Math.abs(m-e.x),n=v-e.y,o=Math.abs(n);f?o>t&&(s[a]=!1,s[l]||e.preventDefault()):(t>o&&(s[a]=!1,s[l]||e.preventDefault()),p&&n>0&&e.preventDefault()),console.log("move"),c=!0,i(e),u.removeEvent(!1,g)},g),u.addEvent("up",function(e){var t,n,i=s._maybescroll;if(!c){var f=h.node[r];c=!(f===o)||f<0||f>d&&!p}if(!c&&!s[l]&&!s.click.block&&i&&i.length)for(t=i.length;t--;)e.prevent||(n=i[t],n[0].call(n[1],e));s[l]&&!c||(s._maybescroll=!1),s[a]=!1,u.removeEvent(!1,r),window.requestAnimationFrame(function(){document.body.scrollTop=0})},r)}}}},o=function(e){var t=this.node.style;"x"===e.val?(t.msTouchAction="pan-x",t.touchAction="pan-x",t.overflowY="hidden"):"y"===e.val&&(t.msTouchAction="pan-y",t.touchAction="pan-y",t.overflowX="hidden"),t.overflow="scroll",t.webkitOverflowScrolling="touch",t.msTouchAction="auto",t.touchAction="auto",this.events={scrollbar:e.val},l||(l=!0,u.events={preventDown:!0})}):o=function(e){var t=this.node.style;t.overflow="auto",t.overflowY="x"!==e.val?"scroll":"hidden",t.overflowX="y"!==e.val?"scroll":"hidden"},n.extend=c(function(e){e.extend({scrollbar:o})})},{"../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","../../events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js","../../ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/util.js":[function(e,t,n){var i=e("../../ua"),o="-"+i.prefix.toLowerCase(),s=o+"-transform";n.getMatrix=function(e){if(e.style[s]){var t=window.getComputedStyle(e,null).getPropertyValue(s).replace("matrix(","").split(",");return t}}},{"../../ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/set.js":[function(e,t,n){var i=e("../../util"),o=e("./"),s=e("../../object"),r=n,a=function(e,t,n,i){var o;for(var s in r)if(o=r[s].call(this,e,t,n,i))return o};i.define(o,"_set",function(e,t,n){if(!a.call(this,t,e[t],n,e))if(this.isProperty(t,e))"function"==typeof this[t]?e[t]instanceof Array?this[t].apply(this,e[t]):this[t](e[t]):this[t]=e[t];else if(e[t]instanceof o){var i;if(this[t]){for(var r=this.node.childNodes,l=0,c=r.length;l<c;l++)if(r[l]===this[t].node){i=r[l+1];break}this[t].remove&&this[t].remove()}var u=n?new e[t].Class:e[t];u.name=t,this.add(u,i),n&&this.eachInstance(function(){var e=new u.Class;e._name=t,this.add(e)})}else if(this[t]instanceof s)this[t].val=e[t];else if(e[t]instanceof s)console.warn("are you sure you want to set using a vObject? maybe require some stuff (e.g. data)"),this[t]=e[t];else if(this[t]instanceof o)e[t]?this[t].set(e[t],n):e[t]===!1&&(n&&this.eachInstance(function(){this[t]&&this[t].remove()}),this[t].remove(),this[t]=null);else if(e[t]instanceof Object){var u=(new o).set(e[t],n);u.name=t,this.add(u),n&&this.eachInstance(function(){var e=new u.Class;e._name=t,this.add(e)})}else console.warn('"'+t+'" is not an existing property. "'+e[t]+'" is a primitive. Adding as primitive.'),this[t]=e[t]},"convert",function(e){var t,n={};for(var r in e)t=i.isObj(e[r]),this[r]instanceof o?n[r]=t?this[r].convert(e[r]):this[r]:this[r]instanceof s?n[r]=this[r].convert(t&&e[r]):void 0===this[r]||i.lookup.call(this,r)&&this[r]===!1?n[r]=!1:n[r]=this[r];return n})},{"../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js",
"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/video/html5.js":[function(e,t,n){function i(){var e=arguments,t=e.length;return function(n){for(var i=0,o=this;i<t;this.video.addEventListener(e[i++],function(e){n._val.call(o,e)}));}}function o(){function e(){if(t.time)if(t.time.val||(this._firstT=!0),d&&"chrome"!==r.browser){var n=0;clearInterval(t._timeFixInterval),t._timeFixInterval=setInterval(function(){t.updateTime(),3===n&&(t._canplay=null,clearInterval(t._timeFixInterval)),1!==t.video.duration&&(n++,t.playing&&t.video.play())},200)}else t.time.val?u?setTimeout(function(){t.updateTime()},0):t.updateTime():t._forceTime=!0,t._canplay=null;t.video&&t.video.removeEventListener(p,e)}if(!this._canplay&&!c){this._canplay=!0;var t=this;this._canPlay=e,this.video&&this.video.addEventListener(p,e)}}function s(e){this.video.readyState?(this.video.currentTime=e,u&&(this._correctTime=e)):o.call(this)}var r=e("../../ua"),a=e("./"),l=e("../../../browser/events/util").postpone,c="windows"===r.platform&&"phone"===r.device,u="ios"===r.platform,d="android"===r.platform,p="canplay";t.exports={progress:{set:function(){var e=this;e.video&&e.video.addEventListener("end",e._prEnd=function(){e.clearProgress()})},remove:function(){this.video&&(this.video.removeEventListener("canplay",this._canPlay),this.video.removeEventListener("end",this._prEnd))}},buffer:function(e){if(this.video&&this.video.buffered){for(var t,n,i=this.video.buffered.length,o=-1,s=this.video.currentTime||0,r=0;r<i&&(t=this.video.buffered.start(r),t>o&&t<s);r++)o=r,n=t;return o>-1?(o=this.video.buffered.end(o),o<s?0:o/this.duration.val):0}return 0},play:function(e){e?this.video.play():this.video.pause()},time:{set:u||d?l(s):s,get:function(e){var t=this.video&&this.video.currentTime;return this._correctTime&&(this._correctTime>t-2&&this._correctTime<t+2?(t=this._correctTime,this.cnt?this._cnt<2?(this._correctTime=!1,this._cnt=!1):(this._correctTime+=.5,this._cnt--):this.cnt=3):t=this._correctTime),t/this.duration.val||e.val}},duration:function(e){return this.video&&this.video.readyState?this.video.duration:e&&e.val},autoplay:function(e){this.video&&(this.video.autoplay=e.val)},volume:function(e){var t=e.val;this.video&&!isNaN(t)&&(this.video.volume=t)},new:function(){o.call(this),this.volume&&this.volume.update(this)},events:{pause:function(e){var t=this;u&&t.video&&t.video.addEventListener("pause",function(e){t.ignoreevents||t.pause()})},progress:a.progress,ready:i("loadedmetadata"),canplay:function(e){var t=this;t.video&&t.video.addEventListener(p,function(n){t.video&&4===t.video.readyState&&(t._stalled=!1,e._val.call(t,n))})},stalled:function(e){var t=this,n=function(n){var i=t.getTime();t.getBuffer(i)-i>.05||(t._stalled=!0,e._val.call(t,n))};t.video&&(t.video.addEventListener("stalled",n),t.video.addEventListener("waiting",n))},play:{play:function(){this.events.play&&this.events.play._val.call(this)},set:!1},end:i("ended")},src:function(e){this.video&&(this.video.src!==e||e||!e&&this.video.src)&&(this.video.src=e.val)}},a.player||(a.player=t.exports)},{"../../../browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js","../../ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/video/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/video/index.js":[function(e,t,n){function i(e){this._readyForEvents=!0;var t=this,n=(this.player||d.player).events;return e.each(function(e){n[e]&&n[e].set!==!1&&(n[e].set||n[e]).call(t,this,e)}),n}function o(e){var t=this,n=(this.player||d.player).events;e.each(function(e){n[e]&&n[e].remove&&n[e].remove.call(t,this,e)})}function s(e){var t=this.events;if(t){var n=this,i=(this.player||d.player).events;t.each(function(t){i[t]&&i[t].play&&i[t].play.call(n,this,t,e)})}}function r(e){if(!this._progress){var t=e,n=t.interval&&t.interval.val||500,i=t._val,o=this,s=(this.player||d.player).progress;s&&s.set&&s.set.call(o),o._progress=setInterval(function(){var e=Number(o.getTime()),t=o.getBuffer(e),n=Number(o.duration.val);1===n&&(n=0),e>=1&&n?o.clearProgress():(o._stalled&&n&&(t>.85||o.__lp&&o.events.canplay&&e>o.__lp+1/n?(o._stalled=!1,o.events.canplay._val.call(o),o.__lp=null):!o.__lp&&e>-1&&(o.__lp=e)),o.ignoreevents||i.call(o,e,t))},n)}}var a=e("../").inject(e("../properties")),l=e("../../events"),c=e("../../../util"),u=new a({node:"video"});t.exports=n=u.Class;var d=n;n.base=u,u.setSetting({name:"_videoSettings",new:function(){this.player.new&&this.player.new.call(this)},remove:function(){this.player.remove&&this.player.remove.call(this)},render:function(){this.player.render&&this.player.render.call(this)}}),u.node.setAttribute("webkit-playsinline",""),this._progress=r,n.progress={play:function(e,t,n){n?r.call(this,this.events.progress):this.clearProgress()},set:function(e){this.playing&&r.call(this,e)},remove:function(){this.clearProgress()}},c.define(n,"setEvents",function(){i.call(this,this.events)},"play",function(e,t){e&&delete this.ignoreevents,t||this.ignoreevents||this.playing===!0?this.__paused&&this.events.progress&&(this.playing=!0,r.call(this,this.events.progress)):(this.playing=!0,s.call(this,!0)),this.__paused=null,(this.player||d.player).play.call(this,!0)},"pause",function(e){e&&(this.ignoreevents=!0),this.ignoreevents||this.playing===!1?this.clearProgress():(this.playing=!1,s.call(this,!1),this.events.pause&&this.events.pause._val.call(this)),this.__paused=!0,(this.player||d.player).play.call(this,!1)},"toggle",function(e){this.playing?this.pause():this.play()},"updateTime",function(){this._firstT=!1,n.setTime.call(this,this.time)},"getTime",function(){return(this.rendered&&this.player||d.player).time.get.call(this,this.time)||0},"getBuffer",function(e){return(this.rendered&&this.player||d.player).buffer.call(this,e||0)},"clearProgress",function(){if(this._progress){clearInterval(this._progress),this._progress=null;var e=(this.player||d.player).progress;e&&e.remove&&e.remove.call(this)}}),u.extend({name:"player",type:!1,set:function(e){c.setstore.call(this),this.__.player=e,e.element&&(this.node=e.element),this._class&&(this._class.prototype._.player=e)},get:function(e){return c.getStore.call(this,"player")||d.player||{}}},{name:"duration",set:function(e){},get:function(e){return e._overwrite=(this.player||d.player).duration.call(this,e),e}},{name:"$play",set:function(e){this.rendered&&(e.val?this.play():this.pause())}},{name:"time",set:n.setTime=function(e){if(!this._ignore){e._overwrite=null;var t=e.val,n=!1;void 0!==t&&(this._firstT&&this._forceTime!==!0||(t=Math.abs(t),n=!0,this._firstT=!0,this._forceTime=null),t>=0&&this.duration&&(this.__lp&&(this.__lp=null),(this.player||d.player).time.set.call(this,t*this.duration.val),this.events.seeking&&!n&&this.events.seeking._val.call(this,t)))}}},{autoplay:function(e){(this.player||d.player).autoplay.call(this,e)},volume:function(e){(this.player||d.player).volume.call(this,e)},src:function(e){e.val!==this.___Src&&(this.___Src=e.val,this.events.src&&this.events.src._val.call(this,e),(this.player||d.player).src.call(this,e))}},{name:"events",new:function(){this.player&&this.player.setEvents!==!1&&i.call(this,this.events)},remove:function(){this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=null),o.call(this,this.events)},set:function(e){var t=c.arg(arguments);t[5]=this._readyForEvents?i.call(this,e):(this.player||d.player).events,t[5].seeking||(t[5].seeking={set:!1}),t[5].src||(t[5].src={set:!1}),l._set.apply(this,t)}})},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../events":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js","../properties":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/video/util.js":[function(e,t,n){n.time=function(e,t){var n=~~(e/3600),i=~~(e%3600/60),o=t?(e%60).toFixed(t):~~(e%60);return ret="",n>0&&(ret+=""+n+":"+(i<10?"0":"")),ret+=""+i+":"+(o<10?"0":""),ret+=""+o,ret||0}},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/advanced.js":[function(e,t,n){function i(e,t){return e.move&&e.move._val||!t.__t&&t!==!0&&t||t._val}function o(e,t,n){var o=n.bind?n.bind._val:this,s=i(n,t),r="drag";e.preventDefault(),s&&d.addEvent("move",function(e){s.call(o,e,n)},r),n.down&&n.down._val.call(o,e,n),d.addEvent("up",function(e){n.up&&n.up._val.call(o,e,n),d.removeEvent(!1,r)},r)}function s(e,t,i){var o=this,s="active",r=setTimeout(function(){o.css={addClass:i._val},r=null},50);n._deactivate&&n._deactivate(),n._deactivate=function(){r&&clearTimeout(r),d.removeEvent(!1,s),n._deactivate=null,window.requestAnimationFrame(function(){o&&(o._stayActive?o.css={addClass:i._val}:o.css={removeClass:i._val})})},d.addEvent("move",n._deactivate,s),d.addEvent("up",n._deactivate,s)}function r(e){for(var t,n={},i=e.keys,o=i.length-1;o>=0;o--)t=i[o],n[t]=e[t];return n}function a(e,t,n,i){return e[i]&&e[i]._e||(e[i]={_e:0}),n[i]._val!==!0&&e[i].set("_e",r(n[i])),t[i]-e[i]._e.val}function l(e,t,n,o){var s=n.bind&&!o?n.bind.val:this,r=(n.y?"y":n.x?"x":"xy")+"Grab"+(o||"");if(s)if(s._node){var u,p,h,f,v,m,g=i(n,t),y=e.x,_=e.y,w=y,b=_,k=function(e){s.x._p=!1,s.y._p=!1,n.up&&m&&n.up._val.call(s,e,{x:w-y,y:b-_},{x:w-f,y:b-v}),c.click.block=!1,d.removeEvent(!1,r)};n.x||n.y||(n.x={_val:!0},n.y={_val:!0}),n.down&&n.down._val.call(s,e,n),d.addEvent("move",function(e){f=w,v=b,w=e.x,b=e.y,c.click.block=!0,u?(e.preventDefault(),p&&(s.x={_e:w-p}),h&&(s.y={_e:b-h}),g&&g.call(s,e,{x:w-y,y:b-_},n)):(m=!n.pass||n.pass._val.call(s,e,{x:w-y,y:b-_}),m?(e.preventDefault(),n.x&&(p=a(s,e,n,"x"),s.x._p=1),n.y&&(h=a(s,e,n,"y"),s.y._p=1),n.start&&n.start._val.call(s,e,n),u=!0):(k(e),g=!1,d.removeEvent(!1,r)))},r),d.addEvent("up",k,r)}else for(var E=s.length-1;E>=0;E--)l.call(s[E],e,t,n,E+1)}var c=e("./"),u=e("../../value/operators"),d=c.document;t.exports=c,u._e=function(e,t){return e+t},u._esub=function(e,t){return e-t},u._e.order=3,c.drag={val:{down:o}},c.grab={val:{down:l}},c.active={val:{down:s}}},{"../../value/operators":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/operators.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/basic.js":[function(e,t,n){function i(e,t,n){e.x=e.pageX,e.y=e.pageY,t.call(this,e,n)}function o(e,t,n){var i="_"+e;l.define(r,i,{value:[]});var o={create:function(o,s){var l=function(e){if(this.rendered)if(n)n.call(this,e,this.events[s]._val);else if(r[s]&&r[s].val){var t=r[s].val;for(var i in r[s])a[i]&&(t=r[s][i]);t=t[o],t&&t.call(this,e,this.events[s]._val)}else this.events[s]&&this.events[s]._val.call(this,e)};r.document.addEvent(t,function(e){for(var t=r[i],n=t.length-1;n>=0;n--)l.call(t[n],e),t[n]&&t[n].eachInstance(l,"events",e)},e)},add:function(t,n){n=i,this.setSetting({name:n,remove:r[e].remove}),l.checkArray(r[i],this)||r[i].push(this)},remove:function(){var t=l.checkArray(r[i],this,!0);if(~t){var n;this.events&&this._from.base.events&&(n=this.events[e]===this._from.base.events[e]),n?console.log(n,"noRemove evnt, are we sure - fix this asap"):r[i].splice(t,1)}}};r[e]=o}function s(e,t,n){1!==e.which||r.down.block||i.call(this,e,t,n)}var r=t.exports=e("./"),a=e("../cases"),l=e("../../util");e("../ua");a.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints||!1,l.define(r,"_out",{value:[]}),r.$makeKeyBoardEvent=o,o("keyboard","keyup"),o("keyboardDown","keydown"),o("keyboardDown$down","keydown"),o("keyboardDown$click","keydown"),r.down={touch:{touchstart:function(e,t,n){if(!r.down.block){var i=e.targetTouches[0]||{};e.x=i.pageX,e.y=i.pageY,t.call(this,e,n)}}},val:{mousedown:s}},r.rdown={touch:{touchstart:function(){}},val:{mousedown:function(e,t,n){3===e.which&&(document.oncontextmenu=function(){return!1},e.preventDefault(),i.call(this,e,t,n),setTimeout(function(){document.oncontextmenu=!1},0))}}},r.move={touch:{touchmove:function(e,t,n){var i=e.targetTouches[0];e.x=i.pageX,e.y=i.pageY,t.call(this,e,n)}},val:{mousemove:i}},r.up={touch:{touchend:function(e,t,n){var i=e.changedTouches;e.x=i[0].pageX,e.y=i[0].pageY,t.call(this,e,n)}},val:{mouseup:i}},r.click={val:{down:function(e,t,n){var i=this,o="click";r.click.block||(i.addEvent("up",function(e){i.removeEvent("up",o);var s=r._maybescroll;s?s.length?r._maybescroll.unshift([t,i]):r._maybescroll=[[t,i]]:r.click.block||t.call(i,e,n)},o),setTimeout(function(){i.removeEvent("up",o)},300))}}},r.rclick={val:{rdown:r.click.val.down}};var c=function(){var e=l.checkArray(r._out,this,!0);~e&&(r._out.splice(e,1),this.removeSetting("_out",u))},u={name:"_out",render:function(){l.checkArray(r._out,this)||r._out.push(this)},remove:c};r.out={create:function(){this.m=!0,r.document.addEvent("up",function(e){for(var t=e.target,n=function(){for(var n,i=t;i&&!n;)i.base&&this===i.base?n=!0:i=i.parentNode;!n&&this.rendered&&this.events.out._val.call(this,e)},i=r._out,o=i.length-1;o>=0;o--)n.call(i[o]),i[o]&&i[o].eachInstance(n,"events")},"out")},add:function(){this.setSetting(u)},remove:c}},{"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","../ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/index.js":[function(e,t,n){function i(e,t){n[e]?a(e,t):(n[e]={_basic:!0},s(e))}function o(e,t){return function(i){for(var o,s,r=i.target;r;){if(o=r.base){if(s=o.events,s[e]&&(t?n[e]._m.call(o,i,s[e]):s[e]._val&&s[e]._val.call(o,i),i.prevent))return;if(s=o.__e,s&&s[e])for(var a in s[e])if("_uid"!==a&&(t?n[e]._m.call(o,i,s[e][a]):s[e][a].call(o,i),i.prevent))return}r=r.parentNode}}}function s(e,t){var i=e||t;n._r[e]=!0,"scroll"===i?document.addEventListener(i,function(t){var n,i=t.target.base;if(i&&(n=i.events,n&&n[e]&&n[e]._val.call(i,t),n=i.__e,n&&n[e]))for(var o in n[e])"_uid"!==o&&n[e][o].call(i,t)},!0):document.addEventListener(i,n[e].m=o(e))}function r(e,t,s,r){var a=n[e]._m=function(e,n){e.prevent||t.call(this,e,n._val||n.val||n,n)};n[e].m=o(e,!0),n._r[e]=!0,n[s]&&(n[s].m||i(s,r),n[s]._basic?n[e].__e=s:(n[e].__e=n[s].__e,n[e]._m=function(e,t){n[s]._m.call(this,e,function(e){a.call(this,e,t)})})),document.addEventListener(n[s]&&n[s].__e||s,n[e].m)}function a(e,t){n[e].create&&n[e].create(e,t);var i,o,a;for(o in n[e])c[o]===!0&&(i=n[e][o]);if(i||(i=n[e].val)){for(a in i);if(n[e].__e=a,i[a]===!0)n[e]._basic=!0,s(e,a);else for(a in i)n[a]&&n[a].add&&n[e]&&!n[e].add&&(n[e].add=p(n[a].add,e,a)),r(e,i[a],a,t)}}var l=e("../element"),c=e("../cases"),u=e("../../util"),d=function(){};u.define(d,"_uid",{value:0}),n._r={},n.document=new l({node:document}),n.document.exec=function(e){if(this.__e[e]){var t=u.arg(arguments,1);for(var n in this.__e[e])this.__e[e][n].apply(this,t)}};var p=function(e,t,n){return function(){return e.apply(this,arguments)}};n._set=function(e,t,o,s,r,a){var l=this;e.each(function(t){a&&a[t]||(this._val===!1?n[t]&&(n[t].remove&&n[t].remove.call(l),l.eachInstance(n[t].remove,e._prop.name),this.remove()):(n[t]&&n[t].m||i(t,t),n[t].add&&n[t].add.call(l,!1,t)))})},l.base.extend({name:"events",set:n._set}),u.define(l,"addEvent",function(e,t,o){n[e]&&n[e].m||i(e);var s=this.__e||(this.__e={}),r=s[e]||(s[e]=new d);return o||(r._uid++,o=r._uid),r[o]=t,n[e].add&&n[e].add.call(this,o,e),this},"removeEvent",function(e,t,i){var o,s=this.__e;if(s)if(e&&s[e]){if(o=n[e]&&n[e].remove,t)!s[e][t]||i&&s[e][t]!==i||(o&&n[e].remove.call(this,t),delete s[e][t]);else for(t in s[e])i&&s[e][t]!==i||(o&&n[e].remove.call(this,t),delete s[e][t]);u.empty(s[e])&&delete s[e]}else if(!e)for(e in s)this.removeEvent(e,t,i);return u.empty(s)&&delete this.__e,this}),e("./basic")},{"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","../element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js","./basic":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/basic.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/offset.js":[function(e,t,n){function i(e,t,i,a,l){if(!e)return 0;var c=!1;t||(t=[],c=!0),s.Element&&e instanceof s.Element&&(e=e.node);var u=e[a];if("number"!=typeof u&&(u=0),e.parentNode&&n[i](e.parentNode,t),"absolute"!==(e.style&&e.style.position||e.__preCss||e.className&&(e.__preCss=r(e.className,"position")||!0)))t.push(["rel",u]);else{var d=o(e);t.push(["abs",d?parseInt(d[l],10)+u:u])}if(c){var p,h,f=0;for(h in t)"abs"==t[h][0]?f+=t[h][1]:p=t[h][1];u="rel"===t[t.length-1][0]?f+p:f}return u||0}var o=e("../element/properties/util").getMatrix,s=e("../../"),r=e("../css");n.left=n.x=function(e,t){return i(e,t,"left","offsetLeft",4)},n.top=n.y=function(e,t){return i(e,t,"top","offsetTop",5)}},{"../../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../css":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/css.js","../element/properties/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/properties/util.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js":[function(e,t,n){var i=e("../animation/raf"),o=e("../../util");n.throttle=function(e,t,n){t||(t=20);var o,s,r=!n;return function(){s=arguments,r&&(n=this),o||(o=t,i(function t(){o--,o?i(t):e.apply(n,s)}))}},n.postpone=function(e,t,n){t||(t=200);var i,o,s=!n;return function(){return o=arguments,s&&(n=this),i&&clearTimeout(i),i=setTimeout(function(){e.apply(n,o)},t)}},n.interval=function(e,t,n){t||(t=30);var s,r,a=o.arg(arguments,3);return s||(s=t,i(function o(){s--,s||(s=t,e.apply(n,a)),r||i(o)})),function(){r=!0}}},{"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/ajax.js":[function(e,t,n){var i,o="addEventListener",s=e("../../util"),r=(e("../ua"),0),a=t.exports=function(e,n){var l=e.url;if(!n&&l instanceof Array){e.m=function(){if(++e.r===e.n){for(var t=0,n=[],i=l.length;t<i;n.push(e.d[l[t++]]));e.complete(n)}},e.r=0,e.d={};for(var u=0,d=e.n=l.length;u<d;t.exports(e,l[u++]));}else{var p=e.data,h=e.encode,f=(e.api||"")+(n||l),v=e.headers,m=e.complete,g=e.progress,y=e.error,_=e.change,w=e.mime,b=e.user,k=e.pass,E=e.jsonp,x=e.parse,T=e.iframe,j=null,A=e.fallback,S=e._fallbackIndex,C=e.type||e.method||"GET",I=e.contentType||"json"===h?"application/json":"application/x-www-form-urlencoded",R=e.async!==!1;if(E)a.jsonp(f,m,y);else{var U=new XMLHttpRequest;if(T){r++;var P,O={},N=r;for(var D in e)"error"!==D&&"iframe"!==D&&"complete"!==D&&(O[D]=e[D]);var L=function(){var e;i[T].onload=null;var t=function(e){if(e.data){var n;try{n=JSON.parse(e.data)}catch(e){return void(y&&y(e))}if(n.id!==N)return;if(n.err)return void(y&&y(n.err));var i=n.msg;if(m){if(x!==!1)try{i=JSON.parse(i)}catch(e){}m(i,e)}removeEventListener("message",t)}};window.addEventListener&&(addEventListener("message",t,!1),e=i[T].contentWindow,O=JSON.stringify({msg:O,id:N}),e.postMessage(O,"*"))};return i||(i={}),void(i[T]?i[T].cListeners?i[T].cListeners.push(L):L():(P=i[T]=document.createElement("iframe"),P.src=T,P.cListeners=[L],P.onload=function(){for(var e in P.cListeners)P.cListeners[e]();P.cListeners=null},P.style.visibility="hidden",P.style.width="0px",P.style.height="0px",P.style.position="absolute",document.body.appendChild(P)))}if(p&&("GET"===C?f+="?"+c(p,"GET",h):j=c(p,"POST",h)),U.open(C,f,R,b,k),U.setRequestHeader("Content-Type",I),v)for(var W in v)U.setRequestHeader(W,v[W]);m&&U[o]("load",function(t){var i=(t.target||t.srcElement).response;if(x!==!1)try{i=JSON.parse(i)}catch(e){}e.m?(e.d[n]=i,e.m()):m(i,t)},!1),y&&(S||(e._fallbackIndex=0),A&&S!==A.length?(e._fallbackIndex++,e=s.merge(e,S),a(e,n)):U[o]("error",y,!1)),g&&U[o]("progress",g,!1),_&&(U.onreadystatechange=_),w&&U.overrideMimeType(w),U.send(j)}}},l=0;a.jsonp=function(e,t,n,i,o){o&&o!==!0||(o="callback");var s="_jsonp_"+l++,r=document.createElement("script");e+=e.match(/\?/)?"&"+o+"="+s:"?"+o+"="+s,r.type="text/javascript",r.src=e,n&&(r.onerror=function(e){n(e)}),window[s]=function(e){t.call(i||window,e),document.getElementsByTagName("head")[0].removeChild(r),r=null,delete window[s]},document.getElementsByTagName("head")[0].appendChild(r)};var c=a.encode=function(e,t,n){var i="";if("json"===n)i=JSON.stringify(e);else if(e instanceof Object)if(!s.isNode&&window.FormData&&e instanceof FormData&&"GET"!==t)i=e;else if(e instanceof Array)i=JSON.stringify(e[o]),"uri"===n&&(i=encodeURIComponent(i));else{for(var o in e){var r=e[o];r instanceof Object&&(r=JSON.stringify(r)),"uri"===n&&(o=encodeURIComponent(o),r=encodeURIComponent(r)),i+=o+"="+r+"&"}i=i.slice(0,-1)}else i="uri"===n?encodeURIComponent(e):e;return i}},{"../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/authenticate.js":[function(e,t,n){function i(e){o.define(e,"authenticate",function(e,t,n){function i(){console.error("connect ->>> reAuth?"),o._status>2&&(console.error("reconnect ->>> reAuth!",e),o.authenticate(e,t,!0))}window.authrequest=e;var o=this;return"function"==typeof e&&(e=e()),e?(o.emit("authenticate",e,function(e){e.hop?o.hop(e.hop):t&&t(e)}),n||o.on("connect",i),void(o._reAuth=i)):o.socket.removeListener("connect",i)},"logout",function(e){var t=this;t.emit("logout",e),t.data.users[e]&&t.data.users[e].activeClient&&t.data.users[e].activeClient.from._name===t.clientid&&t.data.users[e].activeClient.remove();var n=t.stamp;e?(t.data.users[e]&&t.data.users[e].activeClient&&t.data.users[e].activeClient.from._name===t.clientid&&(t.data.users[e].activeClient.from=t.data.users[e].activeClient),t.data.users[e].remove(void 0,void 0,void 0,void 0,n)):t.data.users.each(function(e){this.remove(void 0,void 0,void 0,void 0,n)}),t.socket.removeListener("connect",t._reAuth),t._reAuth=null})}var o=e("../../../util");n.extend=o.extend(i)},{"../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/data.js":[function(e,t,n){function i(e,t){}function o(e,t,n){return e.length?(l.path(t,e,n,!0),t):n}function s(e){for(var t in e)e[t]instanceof Object&&(e[t]instanceof p?e[t]={$path:e[t]._path}:s(e[t]))}function r(e,t,n,i,o,r){var a=this.cloud;if("localStorage"!==t&&t!==!1&&t!==a.stamp&&void 0!==e)if(i&&n)n._removed&&a.set(n._hashpath,[n._path,null,a.timeStamp()]);else if(n&&!this._cloudignore&&n._updateOrigin===n){2===n.__t&&e instanceof Object&&s(e);var l=n&&n._path;if(l&&"users"===l[0]&&l[l.length-2]&&"clients"===l[l.length-2])return;if(l&&"users"===l[0]&&"media"===l[1])throw new Error("THIS IS WRONG ABORT!---> setting users.media "+l.join("."));a.set(n._hashpath,[n._path,4===n.__t?{$path:e._path}:e,a.timeStamp()])}}var a,l=e("../../../util"),c=e("../data").inject(e("../../../object/hashpath")),u=e("../data/element"),d=e("../../../data"),p=e("../../../object"),h=(e("monotonic-timestamp"),c.new(!1,function(e,t,n,o){var s=this;o?(s.cloud=o,s.addListener(r),!l.isNode&&window.cordova&&(document.addEventListener("pause",function(){s.preventUpdate=!0},!1),document.addEventListener("resume",function(){o.kickPing(),s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(function(){s.defered&&s.merge(s.defered.data,!1,s.defered.stamp),s.preventUpdate=null,s.defered=null,s.timeout=null},100)},!1)),o.on("set",function(e){var t=(e.s,e.v),n=o.state.subs.map,r=t[1];if(t[0]instanceof Array)for(var a=t[0].length;hash=t[0][--a];)i(n[hash],e.v[1]);else i(n[e.v[0]],e.v[1]);o.stamp=r,s.preventUpdate?s.defered?(s.defered.stamp=r,s.defered.data=l.merge(s.defered.data,e.s)):s.defered={data:e.s,stamp:r}:s.merge(e.s,!1,r)})):n&&(s.cloud=n.cloud)}));t.exports=h,h.prototype._blacklist.push("cloud","datacloud","_batchUnsub","_cloudignore","_lstamp","$t","$loaded"),a=h.prototype.__update,h.inject(e("old-vigour-js/object/flags")),h.flags.$path={reset:!0,set:function(e,t,n){if(n)throw new Error("cloud data $path flag reset???");if(t!==this.cloud.stamp)throw new Error("set with $path only allowed from the hub");var i=l.changeType(e);if(i.length&&this._$setVal(this.cloud.data.get(i,{},void 0,t),t,!1,!0),4!==this.__t)throw new Error("cloud data $path flag __t !== 4")}};var f=h.prototype.set,v=h.prototype._$setVal;l.define(h,"_$setVal",function(e,t){if(this.cloud.stamp===t&&!this.$loaded)for(var n=this;n&&!n.$loaded;)n.$loaded=!0,n=n._parent;v.apply(this,arguments)},"set",function(e,t,n,i){return i===this.cloud.stamp||"clients"!==this._name||this[e]||e===this.cloud.clientid||console.error("\n\nI WANT TO BLOCK THIS YA DURK","\nstamp !== this.cloud.stamp",i!==this.cloud.stamp,"\nthis._name === 'clients'","clients"===this._name,"\n!this[name]",!this[e],"\nname !== this.cloud.clientid",e!==this.cloud.clientid),f.apply(this,arguments)},"updateQueue",function(){},"stamp",function(){return this.cloud?this.cloud.timeStamp():void console.error("WAT NO CLOUD?! in this:\n",this)},"__update",function(e,t,n,i,o,s){return this._lstamp=t,a.call(this,e,t,n,i,o,s)},"_set",function(e,t){if(t&&!(this._lstamp>t))return c.prototype._set.apply(this,arguments)},"subscribe",function(e,t,n){if(t&&t.cloud&&t._val===this,e&&"function"!=typeof e){var i,s,r,a,c,h,f,v=this._path,m=e[1],g=(v&&l.checkArray(v,"usage"),m&&!m._col&&(!m._dfrom||m._fmodel));if(g&&!m.getModel);else if(g){var y;e[1]._ignoreFieldInSubscription&&(e[3]||(y=!0)),f=e[3],s=m.getModel(this,e[3],y)}else if(e instanceof d&&e.__sub)s=u.parseData(e);else{if(e instanceof p){if(h=e._listeners)for(var _=0,w=h.length;_<w;_++)this.subscribe(h[_],e);return}!e||!l.isObj(e)||e instanceof Array||(s=e,e=JSON.stringify(e))}if(s){var b;t&&(s=u.parseData(t,s,this._subs)),t&&t.cloud&&t._val===this&&(v=t._path,b=!0),i=o(v,{},s),r=JSON.stringify(i);var k=b?t:this;k._subs||(k._subs=[]),m&&(m._subscribed=!0),a=[s,m||e,r],f&&a.push(f),c=l.checkArray(k._subs,r,2);var E;for(var x in k._subs)k._subs[x][1]===(m||e)&&k._subs[x][2]===r&&(E=!0);E||(k._subs.push(a),c===!1&&this.cloud.subscribe(i,r))}}},"unsubscribe",function(e,t){if(!(!e||e._col||e._filter&&e._filter._col||e._dfrom&&!e._fmodel)){var n,i,s,r,a,c,u,d=this._path,p=e._listeners;if(!l.isObj(e)||e instanceof Array||(e=JSON.stringify(e)),c=this._subs&&l.checkArray(this._subs,e,1),c!==!1&&void 0!==c){if(e.model&&e.model.parsing){if(e.model&&e.model.field){u=this.get(e.model.field.val),u._subs||(u._subs=[]);var h=l.get(this._subs[c][0],e.model.field.val);h&&(this._subs[c][0]=h)}return}i=this._subs[c],n=i[2],a=i[0],s=o(d,{},a),this._subs.splice(c,1),r=l.checkArray(this._subs,n,2),r===!1&&this.cloud.unsubscribe(s,n)}else if(e._removed);else if(p){for(var f=0,v=p.length;f<v;f++)p[f]instanceof Array?this.unsubscribe(p[f][1],e):p[f].__t&&this.unsubscribe(p[f],e);return}}})},{"../../../data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","../../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../../object/hashpath":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/hashpath.js","../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/data/index.js","../data/element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/data/element.js","monotonic-timestamp":"/Users/shawn/Work/mtv-play/node_modules/monotonic-timestamp/index.js","old-vigour-js/object/flags":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/flags.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/datacloud.js":[function(e,t,n){function i(){var e=this;e._joins={},e._status=1,e.on("connect",function(){e._status++,e._reconnect()}),e.state=new h({subs:{map:{},tree:{}},sets:{map:{}}}),e.state.sets.list||e.state.sets.set("list",[]),e.batch={maps:{sets:{},subs:{},unsubs:{}}},e.data=new d({},(!1),(!1),this),e._qTimer=setInterval(function(){e._doBatch()},v),e.on("subscribed",function(e){})}function o(e,t,n){t.each(function(t){this._subs&&this._subs.each(function(){n&&this.from.subsobj._v&&this.from.subsobj._v.remove(),e.unsubscribe(this.from)}),"_subs"!==t&&o(e,this,n)})}function s(e,t,n,i){var o=n.__t,s=i[e];if(s){var r=t[1],l=t[2],c=s.update[1];if(o&&(c=c.raw),r instanceof Object&&c instanceof Object&&!r.$path&&!c.$path&&(o||(c=u.clone(c)),r=u.merge(c,r)),o?(s.update.set(1,r),s.update.set(2,l)):(s.update[1]=r,s.update[2]=l),!o){var d=s.i,p=n.length-1;if(d!==p){a(n,d);for(var h in i)i[h].i>=d&&i[h].i--;s.i=p}}}else{var f={update:t,i:n.length};o?i.set(e,f):i[e]=f,s=i[e],n.push(s.update)}}function r(e,t,n){t.each(function(i){return"*"===i?(e.$||e.set("$",{}),void t["*"].each(function(i){t["*"][i][1].each(function(o){r(e.$,t["*"][i][1][o],n)})})):(e[i]||e.set(i,{}),void(t[i].val===!0?e[i]._subs?e[i]._subs.push(n):e[i].set("_subs",[n]):r(e[i],t[i],n)))})}function a(e,t){for(var n=e[t];e[t+1];)e[t]=e[++t];e[t]=n}function l(e,t){for(;e[t+1];)e[t]=e[++t];e.pop()}t.exports=i;var c=e("monotonic-timestamp"),u=e("../../../util/object"),d=e("./data"),p=e("../../../object"),h=(p.new({merge:!0}),p.new({merge:!0})),f=e("../../../util/hash"),v=20,m="subs",g="sets",y="unsubs";i.prototype.timeSync=function(){var e=this,t=Date.now();e.emit("time",function(n){var i=Date.now()-t,o=t+i/2,s=n-o;i<e._timeTravel&&(e._timeTravel=i,e._timeOffset=s);var r=e._timeTries++;(i>75&&r<10||i>50&&r<5||i>20&&r<2)&&e.timeSync()})},i.prototype.outList=function(e){var t=this.batch;return t.lists?t.lists[e]?t.lists[e]:t.lists[e]=[]:(t.lists={},t.lists[e]=[])},i.prototype._doBatch=function(){var e=this,t=e.batch.lists;t&&(e.emit("batch",t),e.batch.lists=null,e.batch.maps={subs:{},sets:{},unsubs:{}})},i.prototype._clearCache=function(){},i.prototype.subscribe=function(e,t){var n,i,o=this,s=o.state;if(e.hash&&e.subsobj?(n=e.hash,i=e):(t||(t=JSON.stringify(e)),n=f(t),i=s.subs.map[n]),i){if(!i.active||i.active._val)return;i.active.val=o._status}else{s.subs.map.set(n,{hash:n,subsobj:e,active:o._status,cleared:!1}),i=s.subs.map[n];var a=s.subs.tree;r(a,i.subsobj,i)}var l=o.batch.maps.unsubs,c=l[n];if(void 0!==c)return void o.cancel(n,c,y);var d,p=o.outList(m),h=o.batch.maps.subs;if(i.cleared._val)d=i.subsobj.raw,i.cleared.val=o._status;else{i.cleared.val=o._status;var v=o.getDeps(s.subs.tree,i.subsobj,i,{});d=u.empty(v)?i.subsobj.raw:{$subsobj:i.subsobj.raw,$depends:v}}h[n]=p.length,p.push(d)},i.prototype.getDeps=function e(t,n,i,o){return n.each(function(s){var r=t[s];r&&(r._subs&&r._subs.each(function(e){var t=this._val;!t.subsobj._v||t.hash._val===i.hash._val||t.cleared._val||o[t.hash._val]||(t.cleared.val=i.cleared._val,o[t.hash._val]=t.subsobj.raw)}),e(r,n[s],i,o))}),o},i.prototype.unsubscribe=function(e,t){var n=this;if(e instanceof Array){var i=n.state.subs.tree,s=i.get(e);s&&o(n,s,t)}else{var r,a,l=n.batch.maps.subs;if(e.hash)r=e.hash.val,a=e;else{t||(t=JSON.stringify(e)),r=f(t);var c=n.state.subs.map;a=c[r]}var u=l[r];if(void 0!==u)n.cancel(r,u,m);else{var d=n.outList("unsubs");n.batch.maps.unsubs[r]=d.length,d.push(r)}a.active.val=!1;
}},i.prototype.cancel=function(e,t,n){var i=this.batch,o=i.lists[n];l(o,t),o.length||(delete i.lists[n],u.empty(i.lists)&&delete i.lists);var s=i.maps[n];delete s[e];for(e in s)s[e]>t&&s[e]--},i.prototype.set=function(e,t){!t[0].length;var n=this,i=n.outList(g),o=n.batch.maps.sets;s(e,t,i,o)},i.prototype._reconnect=function(){var e=this,t=e.state,n=t.subs.map;if(e._timeTries=0,e._timeTravel=1/0,e.timeSync(),e.stamp="cleanup",e.data.clients){var i=e.data.clients[e.clientid];i&&(i=i.raw,delete i.key,delete i.type,delete i.ip,delete i.token),e.data.set("clients",{clear:!0},void 0,e.stamp),e.clientid&&e.client&&(e.client.val=e.data.clients.get(e.clientid,{}),i&&(e.client.from.val=i))}e.data.users&&e.data.users.each(function(){this.set("clients",{clear:!0},void 0,e.stamp)});var o=[];n.each(function(e){var t=this,n=t.active,i=t.cleared;1===n._val?(n.val=!0,i.val=!0):n._val?(n.val=!1,1===i._val?i.val=!0:i._val&&(i.val=!1),o.push(t)):i._val&&(1===i._val?i.val=!0:i.val=!1)});for(var s,r=0;s=o[r];r++)e.subscribe(s);for(var a in e._joins)e.join(e._joins[a],!0)},i.prototype.timeStamp=function(){var e=c();return this._timeOffset&&(e+=this._timeOffset),e}},{"../../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../../util/hash":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/hash.js","../../../util/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/object.js","./data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/data.js","monotonic-timestamp":"/Users/shawn/Work/mtv-play/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/emitter.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/node_modules/component-emitter/index.js"][0].apply(n,arguments)},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/index.js":[function(e,t,n){function i(e,t,n){for(var i=n.length-1;i>=0;i--)o(e,t,n[i])}function o(e,t,n){e[n]=function(){var e=this[t];e[n].apply(e,arguments)}}function s(){var e=u.arg(arguments);e.unshift(_),console.log.apply(console,e)}function r(e){return function(){var t=u.arg(arguments);t.unshift(_,e),console.log.apply(console,t)}}function a(e){return e=e||p.session("VID")||h("V_"),p.session("VID",e)}function l(e,t){for(var n in e._callbacks)for(var i,o=e._callbacks[n],s=0;i=o[s];s++)"on"===i.name&&i.fn?t.once(n,i.fn):t.on(n,i);e.off()}function c(e,t){var n=e.indexOf("?");return n>-1&&(e=e.slice(0,n)),e+"?"+f(t,"GET","uri")}var u=e("../../../util"),d=e(u.isNode?"socket.io-client":"./socket.io.js"),p=e("../../../util/global"),h=e("../../../util/id"),f=e("../ajax").encode,v=e("../../../object"),m=e("../../../value"),g=e("./emitter"),y=t.exports=function(e,t){t||(t={});var n=this;if(n.params=t,n.url=e,n.VID=t.VID=a(t.VID),n.connected=new m((!1)),n.api=new m({defer:function(e,t){var n=this.from.__t;if(2!==n)throw new Error("cloud.api needs to be an Object");e()}}),t.api&&(n.api.val=t.api),n.addDocumentListeners(),e instanceof v){var i=e.val;if(i)n.init(e,t);else{var o=new g;o.emit=function(){var e=n.emitbuffer||(n.emitbuffer=[]);e.push(arguments)},o.placeholder=!0,n.socket=o,e.addListener(function(i,o,s,r){this.val&&n.init(e,t)})}}else n.init(e,t)};y.inject=e("../../../util/inject"),y.prototype.addDocumentListeners=function(){var e=this;!u.isNode&&window.cordova&&(document.addEventListener("resume",function(){e.connected.val=!1},!1),document.addEventListener("pause",function(){e.connected.val=!1},!1))},y.prototype.init=function(e,t){var n=this,i=n.connect(e,t,{disconnect:function(){s("disconnect"),n.connected.val=!1},connect:function(){s("connect"),n.connected.val=!0,i.io.engine.on("heartbeat",function(){n.connected.val=!0})},welcome:function(e){s("welcome"),e=e.split("@");var i=(n.clientid=e[0],e[1]);n.state;n.hub=t.h=i,n.socket.io.uri=c(n.socket.io.uri,t)},hop:function(e){s("hop"),n.hop(e)},err:function(e){s.error(e),"tokenCheck"===e.type&&"undefined"!=typeof localStorage&&(localStorage.removeItem("productionuserToken"),localStorage.removeItem("userId"))},reconnecting:r("reconnecting"),reconnect_attempt:r("reconnect_attempt"),reconnect:r("reconnect"),reconnect_failed:r("reconnect_failed")}),o=n.emitbuffer;if(o){for(var a in o)i.emit.apply(i,o[a]);n.emitbuffer=null}},y.prototype.connect=function(e,t,n){var i=this;e||(e=i.url),t||(t=i.params),e instanceof v&&(e=e.val),e=c(e,t);var o=i.socket;o&&!o.placeholder&&(o.disconnect(),o.io.disconnect());var s=i.socket=new d(e,{forceNew:!0,timeout:5e3});if(n)for(var r in n)s.on(r,n[r]);o&&l(o,s),window.cloudmessages=[];var a=i.socket.onevent;i.socket.onevent=function(e){window.cloudmessages.push(JSON.stringify(e.data,!1,2)),a.apply(this,arguments)};var u=i.socket.emit;return i.socket.emit=function(e,t){if("function"!=typeof t&&"batch"===e){if(t.subs)for(var n in t.subs)t.subs[n].mtvData;if(t.sets)for(var n in t.sets);}u.apply(this,arguments)},s},y.prototype.hop=function(e){var t=this,n=t.params;e.indexOf("@")!==-1&&(t.url="ws://"+e.split("@")[1]),t.hub=n.h=e,t.connect()},y.prototype.whenReady=function(e){this.clientid?e():this.once("welcome",e)},y.prototype.kickPing=function(e){var t=this.socket.io.engine;t.ping(),t.onHeartbeat(e||t.pingTimeout),t.setPing()},y.prototype.disconnect=function(){var e=this.socket;e&&(e.disconnect(),e.io.disconnect())},i(y.prototype,"socket",["on","once","emit"]);var _=":: vigour-cloud ::";s.error=function(e,t){console.error(_,e,"\n",t)}},{"../../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../../util/global":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/global.js","../../../util/id":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/id.js","../../../util/inject":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/inject.js","../../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../ajax":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/ajax.js","./emitter":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/emitter.js","./socket.io.js":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/socket.io.js","socket.io-client":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/cloud/socket.io.js":[function(e,t,n){(function(i){!function(e){if("object"==typeof n&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof i?o=i:"undefined"!=typeof self&&(o=self),o.io=e()}}(function(){var t;return function t(n,i,o){function s(a,l){if(!i[a]){if(!n[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=i[a]={exports:{}};n[a][0].call(u.exports,function(e){var t=n[a][1][e];return s(t?t:e)},u,u.exports,t,n,i,o)}return i[a].exports}for(var r="function"==typeof e&&e,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){function i(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=o(e),s=i.source,c=i.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",s),n=r(s,t)):(l[c]||(a("new io instance for %s",s),l[c]=r(s,t)),n=l[c]),n.socket(i.path)}var o=e("./url"),s=e("socket.io-parser"),r=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=i;var l=n.managers={};n.protocol=s.protocol,n.connect=i,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(e,t,n){function i(e,t){return this instanceof i?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=0,this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new i(e,t)}var o=(e("./url"),e("engine.io-client")),s=e("./socket"),r=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),u=(e("object-component"),e("debug")("socket.io-client:manager"));t.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},r(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this):this._reconnectionDelay},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())},i.prototype.open=i.prototype.connect=function(e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=o(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening";var i=l(t,"open",function(){n.onopen(),e&&e()}),s=l(t,"error",function(t){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}n.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;u("connect attempt will timeout after %d",r);var a=setTimeout(function(){u("connect attempt timed out after %d",r),i.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(s),this},i.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose")))},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},i.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new s(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){n.connected++})}return t},i.prototype.destroy=function(e){--this.connected||this.close()},i.prototype.packet=function(e){u("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){this.skipReconnect=!0,this.engine.close()},i.prototype.onclose=function(e){u("close"),this.cleanup(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting)return this;var e=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)u("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.attempts*this.reconnectionDelay();t=Math.min(t,this.reconnectionDelayMax()),u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){u("attempting reconnect"),e.emitAll("reconnect_attempt",e.attempts),e.emitAll("reconnecting",e.attempts),e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",e)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,"object-component":37,"socket.io-parser":40}],4:[function(e,t,n){function i(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=i},{}],5:[function(e,t,n){function i(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.subEvents()}var o=e("socket.io-parser"),s=e("component-emitter"),r=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");e("indexof");t.exports=n=i;var d={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},p=s.prototype.emit;s(i.prototype),i.prototype.subEvents=function(){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},i.prototype.send=function(){var e=r(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=r(arguments),n=o.EVENT;u(t)&&(n=o.BINARY_EVENT);var i={type:n,data:t};return"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},i.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=r(arguments);c("sending ack %j",i);var s=u(i)?o.BINARY_ACK:o.ACK;t.packet({type:s,id:e,data:i})}}},i.prototype.onack=function(e){c("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected?(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT}),this.destroy(),this.onclose("io client disconnect"),this):this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,indexof:36,"socket.io-parser":40,"to-array":44}],6:[function(e,t,n){(function(n){function i(e,t){var i=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.hostname),"string"==typeof e&&("/"==e.charAt(0)&&"undefined"!=typeof t&&(e=t.hostname+e),/^(https?|wss?):\/\//.test(e)||(s("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),s("parse %s",e),i=o(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/",i.id=i.protocol+"://"+i.host+":"+i.port,i.href=i.protocol+"://"+i.host+(t&&t.port==i.port?"":":"+i.port),i}var o=e("parseuri"),s=e("debug")("socket.io-client:url");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:9,parseuri:38}],7:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],8:[function(e,t,n){function i(e){if(e)return o(e)}function o(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===t||i.fn===t){n.splice(o,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,o=n.length;i<o;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,n){function i(e){return i.enabled(e)?function(t){t=o(t);var n=new Date,s=n-(i[e]||n);i[e]=n,t=e+" "+t+" +"+i.humanize(s),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(e){return e instanceof Error?e.stack||e.message:e}t.exports=i,i.names=[],i.skips=[],i.enable=function(e){try{localStorage.debug=e}catch(e){}for(var t=(e||"").split(/[\s,]+/),n=t.length,o=0;o<n;o++)e=t[o].replace("*",".*?"),"-"===e[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$"))},i.disable=function(){i.enable("")},i.humanize=function(e){var t=1e3,n=6e4,i=60*n;return e>=i?(e/i).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(var t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(e){}},{}],10:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":21}],12:[function(e,t,n){(function(n){function i(e,t){if(!(this instanceof i))return new i(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=u(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var o=t.host.split(":");t.hostname=o.shift(),o.length&&(t.port=o.pop())}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var s=e("./transports"),r=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=i,i.priorWebsocketSuccess=!1,r(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=e("./transport"),i.transports=e("./transports"),i.parser=e("engine.io-parser"),i.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new s[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return n},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data)a('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",u),i.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&"closing"!=p.readyState&&(a("changing transport and sending upgrade packet"),c(),p.setTransport(u),u.send([{type:"upgrade"}]),p.emit("upgrade",u),u=null,p.upgrading=!1,p.flush())});else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,p.emit("upgradeError",n)}}))}function n(){d||(d=!0,c(),u.close(),u=null)}function o(t){var i=new Error("probe error: "+t);i.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",i)}function s(){o("transport closed")}function r(){o("socket closed")}function l(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),n())}function c(){u.removeListener("open",t),u.removeListener("error",o),u.removeListener("close",s),p.removeListener("close",r),p.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,p=this;i.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",o),u.once("close",s),this.once("close",r),this.once("upgrading",l),u.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){this.sendPacket("ping")},i.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},i.prototype.sendPacket=function(e,t,n){var i={type:e,data:t};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(n),this.flush()},i.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.onClose("forced close"),a("socket closing - telling transport to close"),this.transport.close()),this},i.prototype.onError=function(e){a("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR}var o=e("engine.io-parser"),s=e("component-emitter");t.exports=i,s(i.prototype),i.timestamps=0,i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=o.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":21}],14:[function(e,t,n){(function(t){function i(e){var n,i=!1,a=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),i=e.hostname!=location.hostname||u!=e.port,a=e.secure!=c}if(e.xdomain=i,e.xscheme=a,n=new o(e),"open"in n&&!e.forceJSONP)return new s(e);if(!l)throw new Error("JSONP disabled");return new r(e)}var o=e("xmlhttprequest"),s=e("./polling-xhr"),r=e("./polling-jsonp"),a=e("./websocket");n.polling=i,n.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(e,t,n){(function(n){function i(){}function o(e){s.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=i)})}var s=e("./polling"),r=e("component-inherit");t.exports=o;var a,l=/\n/g,c=/\\n/g;r(o,s),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),s.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';s=document.createElement(e)}catch(e){s=document.createElement("iframe"),s.name=o.iframeId,s.src="javascript:0"}s.id=o.iframeId,o.form.appendChild(s),o.iframe=s}var o=this;if(!this.form){var s,r=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=u,r.method="POST",r.setAttribute("accept-charset","utf-8"),a.name="d",r.appendChild(a),document.body.appendChild(r),this.form=r,this.area=a}this.form.action=this.uri(),i(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){
"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(e,t,n){(function(n){function i(){}function o(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,i=location.port;i||(i=t?443:80),this.xd=e.hostname!=n.location.hostname||i!=e.port,this.xs=e.secure!=t}}function s(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.create()}function r(){for(var e in s.requests)s.requests.hasOwnProperty(e)&&s.requests[e].abort()}var a=e("xmlhttprequest"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=s,u(o,l),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,new s(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),o=this;i.on("success",t),i.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=i},o.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(s.prototype),s.prototype.create=function(){var e=this.xhr=new a({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),t=this;try{if(d("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){t.onLoad()},e.onerror=function(){t.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?t.onLoad():setTimeout(function(){t.onError(e.status)},0))},d("xhr data %s",this.data),e.send(this.data)}catch(e){return void setTimeout(function(){t.onError(e)},0)}n.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},s.prototype.onError=function(e){this.emit("error",e),this.cleanup()},s.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i;try{this.xhr.abort()}catch(e){}n.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},s.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},n.document&&(s.requestsCount=0,s.requests={},n.attachEvent?n.attachEvent("onunload",r):n.addEventListener&&n.addEventListener("beforeunload",r))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(e,t,n){function i(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),s=e("parseqs"),r=e("engine.io-parser"),a=e("component-inherit"),l=e("debug")("engine.io-client:polling");t.exports=i;var c=function(){var t=e("xmlhttprequest"),n=new t({agent:this.agent,xdomain:!1});return null!=n.responseType}();a(i,o),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(l("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){l("pre-pause polling complete"),--i||t()})),this.writable||(l("we are currently writing - waiting to pause"),i++,this.once("drain",function(){l("pre-pause writing complete"),--i||t()}))}else t()},i.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;l("polling got data %s",e);var n=function(e,n,i){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};r.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+o.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=s.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],18:[function(e,t,n){function i(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),o.call(this,e)}var o=e("../transport"),s=e("engine.io-parser"),r=e("parseqs"),a=e("component-inherit"),l=e("debug")("engine.io-client:websocket"),c=e("ws");t.exports=i,a(i,o),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent};this.ws=new c(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(e){var t=this;setTimeout(function(){o.prototype.onData.call(t,e)},0)}),i.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var i=0,o=e.length;i<o;i++)s.encodePacket(e[i],this.supportsBinary,function(e){try{n.ws.send(e)}catch(e){l("websocket closed before onclose event")}});setTimeout(t,0)},i.prototype.onClose=function(){o.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=r.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},i.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===i.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(e,t,n){var i=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":34}],20:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],21:[function(e,t,n){(function(t){function i(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var o=e.data,s=new Uint8Array(o),r=new Uint8Array(1+o.byteLength);r[0]=h[e.type];for(var a=0;a<s.length;a++)r[a+1]=s[a];return i(r.buffer)}function o(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,i)},o.readAsArrayBuffer(e.data)}function s(e,t,i){if(!t)return n.encodeBase64Packet(e,i);if(p)return o(e,t,i);var s=new Uint8Array(1);s[0]=h[e.type];var r=new m([s.buffer,e.data]);return i(r)}function r(e,t,n){for(var i=new Array(e.length),o=u(e.length,n),s=function(e,n,o){t(n,function(t,n){i[e]=n,o(t,i)})},r=0;r<e.length;r++)s(r,e[r],o)}var a=e("./keys"),l=e("arraybuffer.slice"),c=e("base64-arraybuffer"),u=e("after"),d=e("utf8"),p=navigator.userAgent.match(/Android/i);n.protocol=3;var h=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=a(h),v={type:"error",data:"parser error"},m=e("blob");n.encodePacket=function(e,n,o,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof o&&(r=o,o=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return i(e,n,r);if(m&&a instanceof t.Blob)return s(e,n,r);var l=h[e.type];return void 0!==e.data&&(l+=o?d.encode(String(e.data)):String(e.data)),r(""+l)},n.encodeBase64Packet=function(e,i){var o="b"+n.packets[e.type];if(m&&e.data instanceof m){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];i(o+e)},s.readAsDataURL(e.data)}var r;try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),l=new Array(a.length),c=0;c<a.length;c++)l[c]=a[c];r=String.fromCharCode.apply(null,l)}return o+=t.btoa(r),i(o)},n.decodePacket=function(e,t,i){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(i)try{e=d.decode(e)}catch(e){return v}var o=e.charAt(0);return Number(o)==o&&f[o]?e.length>1?{type:f[o],data:e.substring(1)}:{type:f[o]}:v}var s=new Uint8Array(e),o=s[0],r=l(e,1);return m&&"blob"===t&&(r=new m([r])),{type:f[o],data:r}},n.decodeBase64Packet=function(e,n){var i=f[e.charAt(0)];if(!t.ArrayBuffer)return{type:i,data:{base64:!0,data:e.substr(1)}};var o=c.decode(e.substr(1));return"blob"===n&&m&&(o=new m([o])),{type:i,data:o}},n.encodePayload=function(e,t,i){function o(e){return e.length+":"+e}function s(e,i){n.encodePacket(e,t,!0,function(e){i(null,o(e))})}return"function"==typeof t&&(i=t,t=null),t?m&&!p?n.encodePayloadAsBlob(e,i):n.encodePayloadAsArrayBuffer(e,i):e.length?void r(e,s,function(e,t){return i(t.join(""))}):i("0:")},n.decodePayload=function(e,t,i){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,i);"function"==typeof t&&(i=t,t=null);var o;if(""==e)return i(v,0,1);for(var s,r,a="",l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(s=Number(a)))return i(v,0,1);if(r=e.substr(l+1,s),a!=r.length)return i(v,0,1);if(r.length){if(o=n.decodePacket(r,t,!0),v.type==o.type&&v.data==o.data)return i(v,0,1);var d=i(o,l+s,c);if(!1===d)return}l+=s,a=""}}return""!=a?i(v,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void r(e,i,function(e,n){var i=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(i),s=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);n=i.buffer}t?o[s++]=0:o[s++]=1;for(var a=n.byteLength.toString(),r=0;r<a.length;r++)o[s++]=parseInt(a[r]);o[s++]=255;for(var i=new Uint8Array(n),r=0;r<i.length;r++)o[s++]=i[r]}),t(o.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);e=i.buffer,n[0]=0}for(var s=e instanceof ArrayBuffer?e.byteLength:e.size,r=s.toString(),a=new Uint8Array(r.length+1),o=0;o<r.length;o++)a[o]=parseInt(r[o]);if(a[r.length]=255,m){var l=new m([n.buffer,a.buffer,e]);t(null,l)}})}r(e,i,function(e,n){return t(new m(n))})},n.decodePayloadAsBinary=function(e,t,i){"function"==typeof t&&(i=t,t=null);for(var o=e,s=[],r=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],u="",d=1;255!=a[d];d++){if(u.length>310){r=!0;break}u+=a[d]}if(r)return i(v,0,1);o=l(o,2+u.length),u=parseInt(u);var p=l(o,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var h=new Uint8Array(p);p="";for(var d=0;d<h.length;d++)p+=String.fromCharCode(h[d])}s.push(p),o=l(o,u)}var f=s.length;s.forEach(function(e,o){i(n.decodePacket(e,t,!0),o,f)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},{}],23:[function(e,t,n){function i(e,t,n){function i(e,o){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(s=!0,t(e),t=n):0!==i.count||s||t(null,o)}var s=!1;return n=n||o,i.count=e,0===e?t():i}function o(){}t.exports=i},{}],24:[function(e,t,n){t.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var o=new Uint8Array(e),s=new Uint8Array(n-t),r=t,a=0;r<n;r++,a++)s[a]=o[r];return s.buffer}},{}],25:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,i=new Uint8Array(t),o=i.length,s="";for(n=0;n<o;n+=3)s+=e[i[n]>>2],s+=e[(3&i[n])<<4|i[n+1]>>4],s+=e[(15&i[n+1])<<2|i[n+2]>>6],s+=e[63&i[n+2]];return o%3===2?s=s.substring(0,s.length-1)+"=":o%3===1&&(s=s.substring(0,s.length-2)+"=="),s},n.decode=function(t){var n,i,o,s,r,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(n=0;n<l;n+=4)i=e.indexOf(t[n]),o=e.indexOf(t[n+1]),s=e.indexOf(t[n+2]),r=e.indexOf(t[n+3]),d[c++]=i<<2|o>>4,d[c++]=(15&o)<<4|s>>2,d[c++]=(3&s)<<6|63&r;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(e,t,n){(function(e){function n(e,t){t=t||{};for(var n=new i,o=0;o<e.length;o++)n.append(e[o]);return t.type?n.getBlob(t.type):n.getBlob()}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{var e=new Blob(["hi"]);return 2==e.size}catch(e){return!1}}(),s=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return o?e.Blob:s?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,n,i){(function(e){!function(o){function s(e){for(var t,n,i=[],o=0,s=e.length;o<s;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<s?(n=e.charCodeAt(o++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--)):i.push(t);return i}function r(e){for(var t,n=e.length,i=-1,o="";++i<n;)t=e[i],t>65535&&(t-=65536,o+=_(t>>>10&1023|55296),t=56320|1023&t),o+=_(t);return o}function a(e,t){return _(e>>t&63|128)}function l(e){if(0==(4294967168&e))return _(e);var t="";return 0==(4294965248&e)?t=_(e>>6&31|192):0==(4294901760&e)?(t=_(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=_(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=_(63&e|128)}function c(e){for(var t,n=s(e),i=n.length,o=-1,r="";++o<i;)t=n[o],r+=l(t);return r}function u(){if(y>=g)throw Error("Invalid byte index");var e=255&m[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,t,n,i,o;if(y>g)throw Error("Invalid byte index");if(y==g)return!1;if(e=255&m[y],y++,0==(128&e))return e;if(192==(224&e)){var t=u();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),n=u(),o=(15&e)<<12|t<<6|n,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),n=u(),i=u(),o=(15&e)<<18|t<<12|n<<6|i,o>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function p(e){m=s(e),g=m.length,y=0;for(var t,n=[];(t=d())!==!1;)n.push(t);return r(n)}var h="object"==typeof i&&i,f="object"==typeof n&&n&&n.exports==h&&n,v="object"==typeof e&&e;v.global!==v&&v.window!==v||(o=v);var m,g,y,_=String.fromCharCode,w={version:"2.0.0",encode:c,decode:p};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return w});else if(h&&!h.nodeType)if(f)f.exports=w;else{var b={},k=b.hasOwnProperty;for(var E in w)k.call(w,E)&&(h[E]=w[E])}else o.utf8=w}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(r,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(i,"@").replace(o,"]").replace(s,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),i=0,o=n.length;i<o;i++){var s=n[i].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},{}],30:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var r=i.exec(e||""),a={},l=14;l--;)a[o[l]]=r[l]||"";return n!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],31:[function(e,t,n){function i(e,t,n){var i;return i=t?new s(e,t):new s(e)}var o=function(){return this}(),s=o.WebSocket||o.MozWebSocket;t.exports=s?i:null,s&&(i.prototype=s.prototype)},{}],32:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],34:[function(e,t,n){var i=e("global");try{t.exports="XMLHttpRequest"in i&&"withCredentials"in new i.XMLHttpRequest}catch(e){t.exports=!1}},{global:35}],35:[function(e,t,n){t.exports=function(){return this}()},{}],36:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],37:[function(e,t,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],38:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=i.exec(e||""),n={},s=14;s--;)n[o[s]]=t[s]||"";return n}},{}],39:[function(e,t,n){(function(t){var i=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var s={_placeholder:!0,num:n.length};return n.push(e),s}if(i(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t(e[a]);return r}if("object"==typeof e&&!(e instanceof Date)){var r={};for(var l in e)r[l]=t(e[l]);return r}return e}var n=[],s=e.data,r=e;return r.data=t(s),r.attachments=n.length,{packet:r,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(i(e)){for(var s=0;s<e.length;s++)e[s]=n(e[s]);return e}if(e&&"object"==typeof e){for(var r in e)e[r]=n(e[r]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function s(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){r++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--r||n(a)},u.readAsArrayBuffer(e)}else if(i(e))for(var d=0;d<e.length;d++)s(e[d],d,e);else if(e&&"object"==typeof e&&!o(e))for(var p in e)s(e[p],p,e)}var r=0,a=e;s(a),r||n(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(e,t,n){function i(){}function o(e){var t="",i=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(i=!0,t+=e.nsp),null!=e.id&&(i&&(t+=",",i=!1),t+=e.id),null!=e.data&&(i&&(t+=","),t+=d.stringify(e.data)),u("encoded %j as %s",e,t),t}function s(e,t){function n(e){var n=h.deconstructPacket(e),i=o(n.packet),s=n.buffers;s.unshift(i),t(s)}h.removeBlobs(e,n)}function r(){this.reconstructor=null}function a(e){var t={},i=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return c();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(t.attachments="";"-"!=e.charAt(++i);)t.attachments+=e.charAt(i);t.attachments=Number(t.attachments)}if("/"==e.charAt(i+1))for(t.nsp="";++i;){var o=e.charAt(i);if(","==o)break;if(t.nsp+=o,i+1==e.length)break}else t.nsp="/";var s=e.charAt(i+1);if(""!=s&&Number(s)==s){for(t.id="";++i;){var o=e.charAt(i);if(null==o||Number(o)!=o){--i;break}if(t.id+=e.charAt(i),i+1==e.length)break}t.id=Number(t.id)}if(e.charAt(++i))try{t.data=d.parse(e.substr(i))}catch(e){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:n.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),d=e("json3"),p=(e("isarray"),e("component-emitter")),h=e("./binary"),f=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=r,i.prototype.encode=function(e,t){if(u("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)s(e,t);else{var i=o(e);t([i])}},p(r.prototype),r.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t,n){t.exports=e(33)},{}],43:[function(e,n,i){!function(e){function n(e){if(n[e]!==r)return n[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=n("json-stringify")&&n("json-parse");else{var i,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var s=u.stringify,l="function"==typeof s&&d;if(l){(i=function(){return 1}).toJSON=i;try{l="0"===s(0)&&"0"===s(new Number)&&'""'==s(new String)&&s(a)===r&&s(r)===r&&s()===r&&"1"===s(i)&&"[1]"==s([i])&&"[null]"==s([r])&&"null"==s(null)&&"[null,null,null]"==s([r,a,null])&&s({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===s(null,i)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new Date((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==s(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new Date((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==s(new Date((-1)))}catch(e){l=!1}}t=l}if("json-parse"==e){var c=u.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){i=c(o);var p=5==i.a.length&&1===i.a[0];if(p){try{p=!c('"\t"')}catch(e){}if(p)try{p=1!==c("01")}catch(e){}if(p)try{p=1!==c("1.")}catch(e){}}}}catch(e){p=!1}t=p}}return n[e]=!!t}var o,s,r,a={}.toString,l="function"==typeof t&&t.amd,c="object"==typeof JSON&&JSON,u="object"==typeof i&&i&&!i.nodeType&&i;u&&c?(u.stringify=c.stringify,u.parse=c.parse):u=e.JSON=c||{};var d=new Date((-0xc782b5b800cec));try{d=d.getUTCFullYear()==-109252&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(e){}if(!n("json")){var p="[object Function]",h="[object Date]",f="[object Number]",v="[object String]",m="[object Array]",g="[object Boolean]",y=n("bug-string-char-index");if(!d)var _=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],b=function(e,t){return w[t]+365*(e-1970)+_((e-1969+(t=+(t>1)))/4)-_((e-1901+t)/100)+_((e-1601+t)/400)};(o={}.hasOwnProperty)||(o=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?o=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,o=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,o.call(this,e)});var k={boolean:1,number:1,string:1,undefined:1},E=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!k[n]};if(s=function(e,t){var n,i,r,l=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(r in i)o.call(i,r)&&l++;return n=i=null,l?s=2==l?function(e,t){var n,i={},s=a.call(e)==p;for(n in e)s&&"prototype"==n||o.call(i,n)||!(i[n]=1)||!o.call(e,n)||t(n)}:function(e,t){var n,i,s=a.call(e)==p;for(n in e)s&&"prototype"==n||!o.call(e,n)||(i="constructor"===n)||t(n);(i||o.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],s=function(e,t){var n,s,r=a.call(e)==p,l=!r&&"function"!=typeof e.constructor&&E(e,"hasOwnProperty")?e.hasOwnProperty:o;for(n in e)r&&"prototype"==n||!l.call(e,n)||t(n);for(s=i.length;n=i[--s];l.call(e,n)&&t(n));}),s(e,t)},!n("json-stringify")){var x={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T="000000",j=function(e,t){return(T+(t||0)).slice(-e)},A="\\u00",S=function(e){var t,n='"',i=0,o=e.length,s=o>10&&y;for(s&&(t=e.split(""));i<o;i++){var r=e.charCodeAt(i);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=x[r];break;default:if(r<32){n+=A+j(2,r.toString(16));break}n+=s?t[i]:y?e.charAt(i):e[i]}}return n+'"'},C=function(e,t,n,i,l,c,u){var d,p,y,w,k,E,x,T,A,I,R,U,P,O,N,D;try{d=t[e]}catch(e){}if("object"==typeof d&&d)if(p=a.call(d),p!=h||o.call(d,"toJSON"))"function"==typeof d.toJSON&&(p!=f&&p!=v&&p!=m||o.call(d,"toJSON"))&&(d=d.toJSON(e));else if(d>-1/0&&d<1/0){if(b){for(k=_(d/864e5),y=_(k/365.2425)+1970-1;b(y+1,0)<=k;y++);for(w=_((k-b(y,0))/30.42);b(y,w+1)<=k;w++);k=1+k-b(y,w),E=(d%864e5+864e5)%864e5,x=_(E/36e5)%24,T=_(E/6e4)%60,A=_(E/1e3)%60,I=E%1e3}else y=d.getUTCFullYear(),w=d.getUTCMonth(),k=d.getUTCDate(),x=d.getUTCHours(),T=d.getUTCMinutes(),A=d.getUTCSeconds(),I=d.getUTCMilliseconds();d=(y<=0||y>=1e4?(y<0?"-":"+")+j(6,y<0?-y:y):j(4,y))+"-"+j(2,w+1)+"-"+j(2,k)+"T"+j(2,x)+":"+j(2,T)+":"+j(2,A)+"."+j(3,I)+"Z"}else d=null;if(n&&(d=n.call(t,e,d)),null===d)return"null";if(p=a.call(d),p==g)return""+d;if(p==f)return d>-1/0&&d<1/0?""+d:"null";if(p==v)return S(""+d);if("object"==typeof d){for(O=u.length;O--;)if(u[O]===d)throw TypeError();if(u.push(d),R=[],N=c,c+=l,p==m){for(P=0,O=d.length;P<O;P++)U=C(P,d,n,i,l,c,u),R.push(U===r?"null":U);D=R.length?l?"[\n"+c+R.join(",\n"+c)+"\n"+N+"]":"["+R.join(",")+"]":"[]"}else s(i||d,function(e){var t=C(e,d,n,i,l,c,u);t!==r&&R.push(S(e)+":"+(l?" ":"")+t)}),D=R.length?l?"{\n"+c+R.join(",\n"+c)+"\n"+N+"}":"{"+R.join(",")+"}":"{}";return u.pop(),D}};u.stringify=function(e,t,n){var i,o,s,r;if("function"==typeof t||"object"==typeof t&&t)if((r=a.call(t))==p)o=t;else if(r==m){s={};for(var l,c=0,u=t.length;c<u;l=t[c++],r=a.call(l),(r==v||r==f)&&(s[l]=1));}if(n)if((r=a.call(n))==f){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else r==v&&(i=n.length<=10?n:n.slice(0,10));return C("",(l={},l[""]=e,l),o,s,i,"",[])}}if(!n("json-parse")){var I,R,U=String.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},O=function(){throw I=R=null,SyntaxError()},N=function(){for(var e,t,n,i,o,s=R,r=s.length;I<r;)switch(o=s.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=y?s.charAt(I):s[I],I++,e;case 34:for(e="@",I++;I<r;)if(o=s.charCodeAt(I),o<32)O();else if(92==o)switch(o=s.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[o],I++;break;case 117:for(t=++I,n=I+4;I<n;I++)o=s.charCodeAt(I),o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70||O();e+=U("0x"+s.slice(t,I));break;default:O()}else{if(34==o)break;for(o=s.charCodeAt(I),t=I;o>=32&&92!=o&&34!=o;)o=s.charCodeAt(++I);e+=s.slice(t,I)}if(34==s.charCodeAt(I))return I++,e;O();default:if(t=I,45==o&&(i=!0,o=s.charCodeAt(++I)),o>=48&&o<=57){for(48==o&&(o=s.charCodeAt(I+1),o>=48&&o<=57)&&O(),i=!1;I<r&&(o=s.charCodeAt(I),o>=48&&o<=57);I++);if(46==s.charCodeAt(I)){for(n=++I;n<r&&(o=s.charCodeAt(n),o>=48&&o<=57);n++);n==I&&O(),I=n}if(o=s.charCodeAt(I),101==o||69==o){for(o=s.charCodeAt(++I),43!=o&&45!=o||I++,n=I;n<r&&(o=s.charCodeAt(n),o>=48&&o<=57);n++);n==I&&O(),I=n}return+s.slice(t,I)}if(i&&O(),"true"==s.slice(I,I+4))return I+=4,!0;if("false"==s.slice(I,I+5))return I+=5,!1;if("null"==s.slice(I,I+4))return I+=4,null;O()}return"$"},D=function(e){var t,n;if("$"==e&&O(),"string"==typeof e){if("@"==(y?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=N(),"]"!=e;n||(n=!0))n&&(","==e?(e=N(),"]"==e&&O()):O()),","==e&&O(),t.push(D(e));return t}if("{"==e){for(t={};e=N(),"}"!=e;n||(n=!0))n&&(","==e?(e=N(),"}"==e&&O()):O()),","!=e&&"string"==typeof e&&"@"==(y?e.charAt(0):e[0])&&":"==N()||O(),t[e.slice(1)]=D(N());return t}O()}return e},L=function(e,t,n){var i=W(e,t,n);i===r?delete e[t]:e[t]=i},W=function(e,t,n){var i,o=e[t];
if("object"==typeof o&&o)if(a.call(o)==m)for(i=o.length;i--;)L(o,i,n);else s(o,function(e){L(o,e,n)});return n.call(e,t,o)};u.parse=function(e,t){var n,i;return I=0,R=""+e,n=D(N()),"$"!=N()&&O(),I=R=null,t&&a.call(t)==p?W((i={},i[""]=n,i),"",t):n}}}l&&t(function(){return u})}(this)},{}],44:[function(e,t,n){function i(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}t.exports=i},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/data/element.js":[function(e,t,n){function i(e,t){if(e.sort&&e.sort.field){var n={$:{}};n.$[e.sort.field]=!0,a.merge(t,n)}return t}function o(e,t,n,o,s,u,d){var p,h,f;u&&(h=void 0!==u._name?u._name:u,u instanceof c&&(h=u._name),u instanceof Array&&u[1]);var v=d&&u&&(d._d||d.checkParent("data",!0));if("collection"===o){var m;if(n.filter&&n.filter.val!==!0){m={};var g=n.filter.raw,y=a.path(e,t.split("."),[]);y.push([g,{$:i(g,m)}]);var _=a.path(e,t.split("."),{},!0);for(var w in y[y.length-1][1])_[w]=y[y.length-1][1][w];y=_}else{var b,g=t===!0?"$":t+".$",k=g.split(".");v&&v[h]&&(p=!0,k[0]===h&&(k.shift(),p=!1)),p?b&&(e.specialFix=h,f&&(e.specialFix=[h,f]),m=a.path(e,k,{}),r(n.element._val instanceof l?n.element._val:n.element._val.base,m)):(m=a.path(e,k,{}),r(n.element._val instanceof l?n.element._val:n.element._val.base,m))}}else if(v&&v[h]&&(p=!0),t instanceof Array)for(var w in t)p?(t[w]instanceof Array&&(t[w]=t[w][0]),t[w]=t[w].split("."),t[w][0]===h&&(t[w].shift(),a.path(e,t[w],!0))):(t[w]instanceof Array&&(t[w]=t[w][0]),a.path(e,t[w].split("."),!0));else t!==!0&&"string"==typeof t&&(p?(t=t.split("."),t[0]===h&&(t.shift(),t.length>0&&a.path(e,t,!0))):a.path(e,t.split("."),!0))}function s(e,t,n,i,s,r){if(t instanceof Array)for(var a=0,l=t.length;a<l;a++)o(e,t[a]._flag.data[2],t,n,i,s,r);else o(e,t._flag.data[2],t,n,i,s,r)}function r(e,t,n,i,o){if(e.model&&(e.model.flags||e.model.subscription||e.model.field)){var l,c=t;if(o);else if(!e.model.field||!e.model.field.val||e.model.parsing||e.model.parsed||"string"==typeof i&&e.model.field.val!==i){if(i&&e.model.field&&e.model.field.val!==i)return}else l=e.model.field.val.split("."),e.model.field.val===i||(c=a.path(t,l,{},!0));if(e.model&&e.model.subscription){var u=e.model.subscription.raw;if(u===!0)l&&(l.length>1?c=a.path(t,l,!0,!0):(t[l[0]]=!0,c=!0));else{var d=e.model.subscription.raw;if("string"==typeof d){var p=d;d={},d[p]=!0}a.merge(c,d)}}for(var h in e.model.flags)s(c,e.model.flags[h],h,n,i,e)}if(!e.model||!e.model.block||!e.model.block.val)for(var f,v=e.children,m=0,g=v&&v.length;m<g;f=m++)f=v[m],(f.model&&f.model.inherit&&f.model.inherit.val===!1||f._col||f.data)&&!f._dfrom||r(f,t,n,i);return t["__#__"]&&delete t["__#__"],e.model&&e.model.block&&"all"===e.model.block.val?void 0:t}var a=e("../../../util"),l=e("../../element"),c=(e("../../../util/hash"),e("../../../object"));n.parseData=function(e,t,n){if(e){var o={},s=e._filter,r=t||e.__sub;if(r)if(s){o["*"]||(o["*"]=[]),o["*"].push([a.clone(s,{subsObj:!0,fn:!0,type:!0}),i(s,t||{$:r})]);for(var l in o["*"][1])o[l]=o["*"][1][l];delete o["*"]}else o=r;return o}},a.define(l,"getModel",function(e,t,n){var i=r(this,{},e,t,n);return a.empty(i)?null:i})},{"../../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../../util/hash":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/hash.js","../../element":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/element/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/data/index.js":[function(e,t,n){var i=e("../../../object"),o=e("../../../data"),s=(e("../../../value"),e("../../../util")),r=e("../../../"),a=t.exports=n=r.Networkdata=o.new({mixed:4,merge:!0}),l="subscribe",c="un"+l,u="Listener",d="add"+u,p="remove"+u,h=i.prototype,f=h[d],v=h[p],m=function(e,t){for(var n=this;n&&4===n.__t;){if(n.__block)return;n=n._val}n instanceof a&&n[e]&&n[e](t,this)};e("../../../");a.prototype._blacklist.push("_subs","_complete"),s.define(a,"get",function(e,t,n,i){return this.path(e instanceof Array?e:String(e).split("."),void 0!==t?t:{},!1,!1,!1,i||!1,!0,!n)},d,function(e){this[l]&&this[l](e),f.apply(this,arguments)},p,function(e,t){this._listeners&&this[c]&&this[c](t),v.apply(this,arguments)}),s.define(o,d,function(e){this.__block||m.call(this,l,e),f.apply(this,arguments)},p,function(e,t){this.__block||m.call(this,c,t),v.apply(this,arguments)})},{"../../../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../../../data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","../../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/url.js":[function(e,t,n){function i(e){var t;r.hashUrl&&n.blocks===d?d++:(d++,t="u"+d,n.clearCache(),n.string.clearCache(),n.string._update(n.string.val,t),n.params._update(n.string.val,t),n._update(n.string.val,t),n._lstamp=null)}var o=e("../../util"),s=e("../../value"),r=e("../../util/config"),a=(e("../../value/flags/process"),e("../../browser/animation/raf")),l=e("../../browser/events/util").postpone,c=(e("../../browser/ua"),e("../../browser/cases"));t.exports=n=new s,c.crawler&&(r.hashUrl=!1),console.log("config.hashUrl",r.hashUrl);var u=!r.hashUrl,d=0,p=l(u?function(e){window.history.pushState({},"","/"+e.replace(/ /g,"+").replace(/^#\//,"").toLowerCase())}:function(e){n.block=!0,window.location.href="#/"+e.replace(/ /g,"+").toLowerCase(),n.block=!1}),h=(s.prototype._set,function(){if(u){var e=window.location.href;return e&&(t=f(e),e=e.replace(t,"")),String(window.location.href).replace(String(window.location.origin)+"/","").replace(/^#\//,"").replace(/\+/g," ")||""}var e=window.location.href.split("#"),t="";return e&&1===e.length&&(t=f(e[0]),e[0]=e[0].replace(t,"")),(e.length>1?e[1].replace(/\+/g," "):" ").slice(1)+t}),f=function(e){e||(e=h()||"");var t=e.split("?"),n=t.length;return e=n>1&&t[t.length-1]?"?"+t[t.length-1]:""};n.parse=h,n.val={string:function(){var e=h();return e.replace(f(e),"")},params:{val:function(){return f()},defer:function(e,t){this.clearCache();var n,i,o,s=this.val;if(s&&s!==this._last){this._last=s,n=s.slice(1).split("&"),i={};for(var r in n)o=n[r].split("="),o.length>1?i[o[0]]=o[1]:console.error("url: no [key]=[value] format -- not implemented yet");this.val=i}a(function(){e()})}},transform:function(e,t){return t},defer:function(e,t){if(!t[1]||"u"!==t[1][0]){this.clearCache();var i="string"==typeof t[0]?t[0]:t[0]&&t[0].val||this.val;return i&&(n.blocks=d,p(i+this.params.val)),!0}this.clearCache(),a(function(){e()})}},o.define(n,"update",function(){i()}),o.define(n.string,"raw",{get:function(){return this.val.replace(/ /g,"+")}}),r.hashUrl?window.onhashchange=i:window.onpopstate=i},{"../../browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js","../../browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","../../browser/events/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/events/util.js","../../browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../util/config":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js","../../value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js":[function(e,t,n){var i=e("../util"),o=n.test=function(e,t){for(var n=i.arg(arguments,1),o=n.length-1,s=n[o][0];s!==!0&&!new RegExp(s).test(e);s=n[--o][0]);(t.slice||t.call(this,s,n[o]))&&(this[t]=n[o][1])},s=n.parse=function(e,t){e||(t=n,e="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"no navigator"),e=e.toLowerCase(),t||(t={});var s="firefox",r="android",a=".+mobile",l="webkit",c="playstation",u="xbox",d="linux",p="crkey",h="chromecast",f="tablet",v="windows",m="phone";o.call(t,e,function(n,i){t.browser=i[2]||n;var o=e.match(new RegExp("((([\\/ ]version|"+i[0]+"(?!.+version))[/ ])| rv:)([0-9]{1,4}\\.[0-9]{0,2})"));t.version=o?Number(o[4]):0,t.prefix=i[1]},[!0,l],["\\(windows","ms","ie"],["safari",l],[s,"Moz"],["opera","O"],["msie","ms","ie"],["chrome|crios/",l,"chrome"]),o.call(t,e,"platform",[!0,v],[d,d],["lg.{0,3}netcast","lg"],[s+a,s],["mac os x","mac"],["iphone|ipod|ipad","ios"],[u,u],[c,c],[r,r],[v,v],[p,h],["smart-tv;|;samsung;smarttv","samsung"]),o.call(t,e,"device",[!0,"desktop"],[v+".+touch|ipad|"+r,f],["iphone|("+r+a+")|("+s+a+")|"+v+" phone|iemobile",m],[u+"|"+c,"console"],["tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv|webos.+large","tv"],[p,h],["amazon-fireos",f]);var g=304704;return t.platform===r&&!i.isNode&&t.device===m&&window.innerWidth*window.innerHeight>g&&(t.device="tablet"),t};if(!i.isNode&&(s(),window.__ua__))for(var r in window.__ua__)n[r]=window.__ua__[r]},{"../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/base.js":[function(e,t,n){var i=e("./"),o=(e("../base"),e("../util")),s=(e("../value/flags/data"),e("../object"));n.extend=o.extend(function(e,t,n){var r=o.compareArrays,a={_dUpdate:function(e,t,n,s,a,l,c,u,d,p){if(this.model){if("$ndata"===e&&(t=s,n=a,s=l,a=c,l=u,c=d,u=p),!this._d&&this.parent)for(var h=this.parent;!this._d&&h;)h._d?this._dSet(h._d,!0):h=h.parent;var f=this,v=f.model,m=v.flags,g=f._d&&f._d._path||[],y=(s||(s=f._d&&f._d._updateOrigin)&&!(s===f._d&&(s=!1)))&&s.updatePath,_=s&&s._path,w=function(n,i){var d,p,h,v;if(!i._flag.data)return void console.error("NO DATA FLAG",y,i._flag,t,e,a,l,c);if(i=i._flag.data[2],"collection"!==n||!f._colFilter){if(i===!0)p=!0;else if(i.pop){i=i.concat();for(var m=i.length-1;m>=0;m--)void 0!==!v&&(d=o.get(f._d,i[m]),void 0!==d&&(v=!0)),i[m]=i[m].split(".")}else i=i.split("."),d=o.get(f._d,i),!d&&f._d&&f._d.from&&i&&(d=o.get(f._d.from,i)),d&&s&&4===s.__t&&(v=!0);if(!p&&s){h=!0;var w;if(s===d||(w=s.from)===d)p=!0;else if(f._d._filter&&d&&d._ancestor(s))p=!0;else if(v)for(var b=0;b<i.length;b++){if(y&&r(y,i[b])||i[b][0]===y[0]&&o.get(t,i[b].concat().shift())){h=!1;break}if(r(g.concat(i[b]),_)||r(i[b],_)){h=!1;break}if(d&&null!==s._val&&t&&(t[i[b]]||t.$path||4===t.__t)&&(d._ancestor(s)||d.from._ancestor(w))){p=!0;break}}else if(null===t);else if(void 0===t);else if(y&&r(y,i)||i[0]===y&&y[0]&&o.get(t,i.concat().shift()))h=!1;else if(g&&(r(g.concat(i),_)||r(i,_)))h=!1;else if(d&&t[i[0]]&&d._ancestor(s))p=!0;else if(f.__checkKeys__)for(var k in f.__checkKeys__)i!==f.__checkKeys__[k]&&i[0]!==f.__checkKeys__[k]||(p=!0)}return p||a||(u||a||void 0!==d)&&(!h||1===a)?(f[n]._update(t,!1,s,a,l,c,!u,f),!0):void 0}},b=function(){if(this._d){var e,t=this;t.model.val,v.field&&(e=o.get(t._d,v.field.val)),v._val&&(e=v._val.call(t,e||t._d)||e),e&&t._d!==e&&(v.parsing=!0,v.field&&(v.parsed=v.field.val),this._dSet(e),v.parsing=!1)}};if(b.call(f),u&&f.eachInstance(b,"model"),m&&(u||f._d))for(var k in m)if(m[k].__t)w(k,m[k]);else for(var E=0,x=m[k].length;E<x&&!w(k,m[k][E]);E++);this.model.complete&&this.model.complete._val.call(this,i)}},_dSet:function(e,t){return this.model._flag&&this.model._flag.defer&&!this.__processing?void(this.__pFlag=[e,t]):(this._d&&this._d.__t&&this._d.removeListener(!0,this),this._d=e,t&&(this._dfrom=!0),this._dListen(),e)},_dListen:function(){var e;if(this.model&&this._d&&this._d instanceof s)this._d.addListener([this._dUpdate,this]),e=this,this._d.cloud||this._d.each(function(){e.__checkKeys__=!0,4===this.__t&&this.addListener([e._dUpdate,e,"$ndata",this])});else if(this.model&&this._d)for(var t in this._d)this.__checkKeys__&&this.__checkKeys__!==!0||(this.__checkKeys__=[]),this._d[t]instanceof s&&(this.__checkKeys__.push||console.error("xxxxxx",this,this.__checkKeys__,t,this._d),this.__checkKeys__.push(t),this._d[t].addListener([this._dUpdate,this,"$ndata",t]))},updateData:function(e){return this.model._flag&&this.model._flag.defer&&!this.__processing?(this.__pFlagU=[e],void this.model._update()):void this._dUpdate(this._d,void 0,!1,!1,!1,!1,!1,e)}},l=function(n){e.extend({name:n,type:!1,value:t&&t[n]?function(){a[n].apply(this,arguments),t[n].apply(this,arguments)}:a[n]})};for(var c in a)l(c);e.extend({name:"model",cache:!1,set:function(e){if((this.__pFlag||this.__pFlagU)&&(this.__processing=!0,this.model.parsing=!1,this.__pFlag&&this._dSet.apply(this,this.__pFlag),this.__pFlagU&&this.updateData.apply(this,this.__pFlagU),this.__pFlagU=null,this.__pFlag=null,this.__processing=null),e.field&&e.field.val!==e.parsed){var t,n=e.parsed&&e.parsed.split(".");if(e.parsed=null,this._d)if(t=this._d,n){for(var i=n.length-1;i>=0;i--)t=t._parent;t&&(this._dSet(t),this.updateData(!0))}else this.updateData(!0);e.parsed=null}},remove:function(){if(this._d)if(this._d.__t){if(this._d.removeListener(void 0,this),!this._d.cloud){var e=this;this._d.each(function(){4===this.__t&&this.removeListener(void 0,e)})}}else if(this.__checkKeys__)for(var t in this.__checkKeys__)this._d[this.__checkKeys__[t]]instanceof s&&this._d[this.__checkKeys__[t]].removeListener(void 0,this)}},{name:"data",type:!1,set:function(e){if(this._d!==e){if(this.model._flag&&this.model._flag.defer)return this.__pFlag=[e],void(this.__pFlagU=[!0]);this.model.parsing=!1,this._dSet(e),this.updateData(!0)}},get:function(){return this._d}})})},{"../base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js","../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../value/flags/data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/data.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/conditions.js":[function(e,t,n){function i(e,t,n){var i;switch(e){case"$not":if(t instanceof Object){var r=l(t,n);i=function(e){return r(e)===!1}}else i=function(e){return e!==t};break;case"$ne":i=function(e){return e!==t};break;case"$and":var c=o(t,n);i=s(c);break;case"$nand":var c=o(t,n);i=function(e){for(var t=0,n=c.length;t<n;t++)if(c[t](e)===!1)return!0;return!1};break;case"$or":var c=o(t,n);i=function(e){for(var t=0,n=c.length;t<n;t++)if(c[t](e))return!0;return!1};break;case"$nor":var c=o(t,n);i=function(e){for(var t=0,n=c.length;t<n;t++)if(c[t](e))return!1;return!0};break;case"$every":n.set("$",{});var r=l(t,n.$);i=function(e){if(e&&e.__t<3){var t=!0;return e.each(function(){if(!r(this))return!(t=!1)}),t}return!1};break;case"$nevery":n.set("$",{});var r=l(t,n.$);i=function(e){if(e&&e.__t<3){var t=!1;return e.each(function(){if(!r(this))return t=!0}),t}return!0};break;case"$":case"$some":if(n.set("$",{}),t instanceof Object){var r=l(t,n.$);i=function(e){if(e&&e.__t<3){var t;return e.each(function(){if(r(this))return t=!0}),t||!1}return!1}}else i=function(e){if(e&&e.__t<3){var n;return e.each(function(){if(this===t)return n=!0}),n||!1}return!1},n.$._check=function(e){return e===t};break;case"$nsome":n.set("$",{});var r=l(t,n.$);i=function(e){if(e&&e.__t<3){var t=!0;return e.each(function(){if(r(this))return!(t=!1)}),t}return!0};break;case"$lt":i=function(e){return e<t};break;case"$lte":i=function(e){return e<=t};break;case"$gt":i=function(e){return e>t};break;case"$gte":i=function(e){return e>=t};break;case"$contains":var u=new RegExp(t,"i");i=function(e){return u.test(e)};break;case"$ncontains":var u=new RegExp(t,"i");i=function(e){return!u.test(e)};break;case"$containsall":break;case"$ncontainsall":break;case"$has":i=function(e){return e&&void 0!==e[t]};break;case"$nhas":i=function(e){return!e||void 0===e[t]};break;case"$exists":i=function(e){return(void 0!==e&&null!==e)===t};break;case"$in":i=function(e){for(var n=0,i=t.length;n<i;n++)if(e===t[n])return!0;return!1};break;case"$nin":i=function(e){for(var n=0,i=t.length;n<i;n++)if(e===t[n])return!1;return!0};break;case"$regex":i=function(e){return t.test(e)};break;default:if(t instanceof Object){var d=n[e];d||(n.set(e,{}),d=n[e]);var r=l(t,d);i=function(t){return t=a(t,e),r(t)}}else i=function(n){return n=a(n,e),n===t},n.set(e,{}),n[e]._check=i}return n?n._check=i:i}function o(e,t){for(var n=[],i=0,o=e.length;i<o;i++)n.push(l(e[i],t));return n}function s(e,t){return function(t){for(var n=r(t),i=0,o=e.length;i<o;i++)if(e[i](n)===!1)return!1;return!0}}function r(e){var t=e&&e.from&&e.from.val;return void 0!==t?t:e}function a(e,t){return e=r(e),e?r(e[t]):void 0}var l=(e("./"),t.exports=function(e,t){if(e instanceof Object){var n=Object.keys(e);if(1===n.length){var o=n[0],a=i(o,e[o],t);return t._check=function(e){var t=r(e);return a(t)}}for(var o,l=[],c=0,u=n.length;c<u;c++)o=n[c],l.push(i(o,e[o],t));return t._check=s(l)}return t._check=function(t){return r(t)===e}})},{"./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js":[function(e,t,n){var i=e("old-vigour-js"),o=e("old-vigour-js/object"),s=e("old-vigour-js/util");t.exports=n=i.Data=o.new(),n.prototype._blacklist.push("__sub","__block"),s.define(n,"_hook",function(e,t){t.subscription&&(this.__sub=t.subscription,delete t.subscription),t.block&&(this.__block=!0,delete t.block)})},{"old-vigour-js":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/selection.js":[function(e,t,n){function i(e,t){var n=e.val;return n&&n[t]&&n[t].val}function o(e,t){var n=e.path(t);return n&&n.val}var s=e("./conditions"),r=e("../util/hash"),a=e("../object"),l=e("../util");n.SubsObj=a.new(),n.SubsObj.prototype._blacklist.push("_root","_check","_sort","_uid"),n.extend=l.extend(function(e){e.prototype._blacklist.push("_filter","_uid","_hash","_indexCache","_subscnt");var t=e.prototype._update,i=e.prototype._hook,o=e.prototype.remove;l.define(e,"remove",function(){var e;if(this._filter&&(e=this.length))for(var t=0;t<e;t++)delete this[t];return o.apply(this,arguments)},"filter",{get:function(){return this._filter},set:function(e){this._filter=e,this._build(void 0,!0),t.call(this,void 0,this.stamp(),void 0,!1,!1,void 0)}},"_hook",function(e,t){if(i&&i.call(this,e,t),!l.empty(t)&&e){var n=this;n._subscnt=0,n._filter=t,n._hash=r(e._path+JSON.stringify([t.condition,t.range,t.sort])),n._uid||(n._uid=n._hash)}},"_build",function(e,i){var o=this;if(e||(e=o._val),e){o.length&&o._clear();var r,a,l=[],p=this._itemsHandler,h=o._filter,f=h.subsObj||new n.SubsObj({},o),v=this.stamp();if(4!==e.__t||e._filter||(e=e.from),h.sort&&("string"==typeof h.sort&&(h.sort={field:h.sort}),r=h.sort,r.fn||(r.type||(r.type="string"),r.fn=d[r.type](r)),f.path(r.field.split("."),{}).set("_sort",!0)),h.condition){var m=0,g=0,y=h.check||(h.check=s(h.condition,f));h.subsObj=f,e.each(function(e){a=this,p&&p(a,f,o),y(a)?(m++,l.push(a)):void 0!==o._has(a)?(u(a,o),i||t.call(o,a,v,o,a,!1,null),g++):g++})}else e.each(function(){p&&p(this,f,o),l.push(this)});h.subsObj=f,r&&l.length>1&&l.sort(h.sort.fn);var _,a,w=h.range;if(w&&(w instanceof Array||(w=h.range=[0,h.range]),l.length)){var b=l.splice(w[0],w[1]);for(_=l.length;a=l[--_];)void 0!==o._has(a)&&u(a,o);l=b}for(var a,_=l.length;a=l[--_];){o[_]=a;void 0===o._has(a);c(a,o,_)}o.length=l.length}},"_update",function(e,n,i,o,s,r){if(this._filter){var a=this,l=a.updatePath;if(void 0!==l[0]){var c=1===l.length,u=c&&o,d=u?a._lfrom:a.val[l[0]];if(a._val._filter&&void 0===a._val._has(d))return void(void 0!==a._has(d)&&a._checkItem(d,!1,e,n));var p=!u&&(c&&s?void 0:l);a._checkItem(d,p,e,n)===!0&&t.apply(a,arguments)}else i||(o?a.length&&a._clear():a._build()),t.apply(this,arguments)}else t.apply(this,arguments)},"_has",function(e){var t,n=e._indexCache,i=this._uid;if(n&&i&&(t=n[i]))return t[0]},"_clear",function(){var e=this;e.each(function(t){e[t]=void 0,delete e[t]}),e.length=0},"_checkItem",function(e,t,n,i){if(e){var o,s,r,a=this,d=e,p=a._filter,h=p.sort,f=p.range,v=f&&!(0===f[0]&&f[1]>=a._val.length||a.length<f[1]-f[0]),m=t===!1||e._removed,g=r=void 0!==(s=a._has(e)),y=p.check,_=!m&&(v||1!==t?!y||y(e):r);if(r!==_)if(r){g=1,u(e,a),m=e;for(var w;w=a[++s];)a[s-1]=w,c(w,a,s-1);var b=s-1;a[b]=null,delete a[b];var k;v&&(h?a._val.each(function(){void 0!==a._has(this)||a[b]&&!(h.fn(this,a[b])<0)||y&&!y(this)||(k=a[b]=this)}):a._val.each(function(){if(void 0===a._has(this)&&(!y||y(this)))return k=a[b]=this})),k?(c(k,a,s-1),o=k):a.length--}else{var E;if(h){var x=h.fn;if(a.length&&a.each(function(t){if(x(e,this)<0)return E=t}),void 0!==E){g=1,E=Number(E),c(e,a,E),o=e,v?(m=a[a.length-1],u(m,a)):this.length++;for(var s=a.length-2;s>=E;)c(a[s],a,s+1),a[s+1]=a[s--];a[E]=e}else v||(g=1,E=a.length++,a[E]=e,c(e,a,E),o=e)}else v||(g=1,E=a.length++,a[E]=e,c(e,a,E),o=e)}else if(r&&h){if(t.length&&h.field)if(~h.field.indexOf(".")){var T=h.field.split(".");if(!l.compareArrays(t.slice(1),T))return g}else if(t[1]!==h.field)return g;var E;if(a.each(function(t){if(t!=s){var n=h.fn(e,this);if(n===-1)return t==s+1||(E=t<s?t:t-1,!0);if(t>=s+1&&0===n)return!0;t>s&&(E=t)}}),void 0!==E){g=1;var j;if(s>E)for(;s>E;)j=a[s]=a[--s],j&&c(j,a,s+1);else for(;s<E;)j=a[s]=a[++s],j&&c(j,a,s-1);a[E]=e}var b=a.length-1;if(v&&(E==b||void 0===E&&s==b)){var A;a._val.each(function(){void 0!==a._has(this)||h.fn(this,e)!==-1||y&&!y(this)||(A||(A=e),a[b]=e=this)}),c(e,a,b),A&&(u(A,a),m=A,o=e,g=1)}else void 0!==E&&c(e,a,Number(E))}return 1===g&&a.__update(n,i,d,m,o),g}})});var c=n.storeIndex=function(e,t,n){var i,o=e._indexCache;o?(i=o[t._uid],i?(i[1]=i[0],i[0]=n):o[t._uid]=[n]):(e._indexCache={},e._indexCache[t._uid]=[n])},u=n.unstoreIndex=function(e,t){var n=e._indexCache;if(n){var i=n[t._uid];i[1]=i[0],i[0]=void 0}},d={number:function(e){var t=e.field;return function(n,i){var o=n[t]&&n[t].val,s=i[t]&&i[t].val;return void 0===o||void 0===s?o===s?0:void 0===o?1:-1:e.order?(o-s)*-1:o-s}},string:function(e){var t=e.field;if(~t.indexOf(".")){var n=t.split(".");return function(t,i){if(t=o(t,n),i=o(i,n),void 0===t||void 0===i)return t===i?0:void 0===t?1:-1;var s=t>i?1:t===i?0:-1;return e.order?s*-1:s}}return function(n,o){n=i(n,t),o=i(o,t);var s=void 0===n||null===n,r=void 0===o||null===o;if(s||r)return n===o?0:s?1:-1;var a=n>o?1:n===o?0:-1;return e.order?a*-1:a}}}},{"../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../util/hash":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/hash.js","./conditions":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/conditions.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js":[function(e,t,n){},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/array.js":[function(e,n,i){var o=e("../util"),s=e("./");o.define(s,"push",function(){if(1===this.__t){void 0===this.length&&(this.length=0);for(var e=0,t=arguments.length;e<t;e++)this._push(arguments[e]);return this.length}},"_push",function(e,t,n,i,o){return this.length++,this.set(this.length-1,e,t,n,i,o),this[this.length-1]},"pop",function(){if(1===this.__t){var e=this.length;0!==e&&(t=this[e-1],this.length--,t.remove())}},"splice",function(e,t){if(e>-1&&1===this.__t)for(var n,i=0,o=this.length;i<o;i++)n?i===o-1?this[i]=null:(this[i]=this[i+1],this[i]._name=i):i===e&&(i===o-1?this.pop():(n=!0,this.length--,this[i].remove(),this[i]=this[i+1],this[i]._name=i))},"include",function(e,t,n){return o.include(this,e,t,n)},"concat",function(e){for(var t=this,n=(t.length,0),i=e.length;n<i;n++)t._push(e[n],!1,!1,!0);return t._update(e),t},"moveItem",function(e,t){var n=this;if(void 0===t&&(t=n.length-1),e!==t){var i=n[e];if(i){var o=e<t?1:-1;do n[e]=null,n.set(e,n[e+o],!0),e+=o;while(e!==t);n[t]=null,n.set(t,i,!0)}}})},{"../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/compound.js":[function(e,t,n){function i(e,t){var n=this;n._parent=e,t&&(t instanceof Array||(t=[t]),this.push.apply(this,t))}var o=e("old-vigour-js/object").inject(e("old-vigour-js/value/length")),s=e("old-vigour-js/util"),r=e("old-vigour-js/util/id"),a=o.new(void 0,function(e){var t=this;return t.$sources=new i(t,e),this.__t=2,!1});s.define(a,"_class",o),t.exports=a,a.prototype._blacklist.push("$sources"),s.define(a,"_absorb",function(e){for(var t=this,n=e.source,i=e.name,o=n;o&&4===o.__t&&!o._filter;)o=o._val;e.endpoint=o,o&&o.each(function(){t.set(i+"-"+this._name,this)}),t.each(function(){var e=this,n=e._val;if(t.$sources){var i,o=e._name.split("-")[0],s=t.$sources[o].endpoint;s.each(function(){if(this===n)return i=!0}),i||e.remove()}})},"_addCompoundListener",function(e){var t=this;e.source.on(function(){t._absorb(e)})}),i.prototype.push=function(){for(var e,t=this,n=t._parent,i=(arguments.length,0);e=arguments[i];i++){var o=r(),s=t[o]={name:o,source:e};n._absorb(s),n._addCompoundListener(s)}}},{"old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/util/id":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/id.js","old-vigour-js/value/length":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/length.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/flags.js":[function(e,t,n){var i=e("../util");n.extend=i.extend(function(e,t){var n=e.prototype,o=n.convert,s=n._set,r=n._remove,a=function(t){var n;for(var i in e.flags.dynamic)if(n=e.flags.dynamic[i](t))break;return n},l=function(t){for(var n in t)if(e.flags[n]||a(n))return!0};t||(t=n.set),n._blacklist.push("_flag"),i.define(e,"convert",function(e){var t=o.call(this,e);if(this._flag&&(!e||!i.isObj(e)||e.val||l(e)))for(var n in this._flag){var s=this._flag[n];s[4]&&s[4].stack||(t===s[1]&&(t={}),t.val===s[1]&&delete t.val,t[s[0]]=s[2])}return t},"__flags__",{},"_remove",function(t,n,i){if(this._flag){for(var o in this._flag){var s=this._flag[o];s&&(e.flags[s[0]]?e.flags[s[0]].remove&&e.flags[s[0]].remove.call(this,s):s[4].remove.call(this,s))}this._flag=null}r.call(this,t,n,i)},"_set",function(t,n,o,r,a){if(s.call(this,t,n,o,r,a),this._flag)for(var l in this._flag){var c=this._flag[l];if(c){var u=e.flags[c[0]]||c[4];this._val!==c[1]&&u.useVal?e.flags[c[0]]?(e.flags[c[0]].remove&&e.flags[c[0]].remove.call(this,c),delete this._flag[l],i.empty(this._flag)&&delete this._flag):c[5]||(c[4].remove.call(this,c),delete this._flag[l],i.empty(this._flag)&&delete this._flag):e.flags[c[0]]&&e.flags[c[0]].reset&&c[3]!==this&&e.flags[c[0]].set.call(this,c[2],n,!0,this._name)}}},"set",function(n,o,s,r,l){var c,u,d=e.flags[n]||a(n);if(d){if(o===!1){var p=d.stack||n,h=this._flag&&this._flag[p];if(h&&d.remove){var f=d.remove.call(this,h,n);f||(delete this._flag[p],i.empty(this._flag)&&delete this._flag)}c=!0}else{if(this._flag)for(var p in this._flag){var h=this._flag[p];if(h&&d.remove)if(d.stack||n!==h[0]){if(!d.stack||d.stack!==h[0]){var v=e.flags[h[0]]||h[4];v.useVal&&d.useVal&&(v.remove.call(this,h),delete this._flag[p],i.empty(this._flag)&&delete this._flag)}}else o!==h[2]?d.remove.call(this,h):u=!0}u||(d.set.call(this,o,r,!1,n),c=!0)}this[n]&&this[n].remove(!1,!1,!1,!1,!1,!0)}else c=t.call(this,n,o,s,r,l);return c}),e.flags=n.__flags__,i.define(e.flags,"dynamic",{})})},{"../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/hashpath.js":[function(e,t,n){var i=e("../util"),o=e("../util/hash");n.extend=i.extend(function(e){e.prototype._blacklist.push("__hp"),i.define(e,"_hashpath",{get:function(){return this.__hp||(this.__hp=o(this._path.toString()))}})})},{"../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../util/hash":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/hash.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js":[function(e,t,n){var i=e("../util"),o=e("../"),s=e("../util/inject"),r=t.exports=n=o.Object=function(e,t,n){n&&(this._parent=n),t&&this._hook&&this._hook(e,t),void 0!==e&&(this.val=e)};r.inject=s;var a=function(e,t,n,s,a){if(null===e&&(t||(t=this.stamp()),this.remove(!1,!1,!1,n,t,s)),!(!this.__t||this.__t<3||e!==this._val||this._ignoreValue))return!1;if(!this.stamp)return void console.error("ERROR in vigour-js/object,  OBJECT no .stamp",this);t||(t=this.stamp());var l,c,u,d,p,h=this._val;if(this._changevobj&&(this.__t<4&&e instanceof r||4===this.__t&&(!this._mixed||4===this._mixed||e instanceof Array||e instanceof Object&&(e instanceof r||e.val)))&&(this._changevobj(e,t),4===this._mixed&&(this._val=null)),o.Base&&e instanceof o.Base)this.remove(!0,!0,!1,!1,t),this.__t=5,this._val=e;else if(e instanceof r)(this.__t<3&&!this._mixed||1===this.__t)&&this.remove(!0,!0,!1,void 0,t),this._val=e,this.__t=4,this._setvobj&&this._setvobj(e);else if(e instanceof Object&&"function"!=typeof e)if(e instanceof Array){this._val=void 0,this.__t=1,this.length=e.length,c=this.remove(!0,!0,e,!1,t);for(var f=0,v=this.length;f<v;f++)c=!this.set(f,e[f],!1,t,s,!0)&&c!==!1}else{e.clear?(c=this.remove(!0,!0,!1,!1,t),delete e.clear):1===this.__t?1!==this._mixed&&4!==this._mixed?this.remove(!0,!0,!1,!1,t):d=!0:this._merge||this._mixed&&2!==this.__t||(c=this.remove(!0,!0,e,!1,t)),e.val&&i.isObj(e.val)?(p=!0,this._$setVal(new this._class(e.val,(!1),this),t,n,!0),this._val._contained=!0):this._mixed||(this._val=void 0),d||(this.__t=2);for(var m in e)i.checkArray(this._blacklist,m)||("val"===m?(p||(u=this._$setVal(e.val,t,n,!0)),l=!0):c=!this.set(m,e[m],!1,t,s,!0)&&c!==!1)}else if((this.__t<3&&!this._mixed||1===this.__t)&&(this.remove(!0,!0,!1,!1,t),1===this.__t&&delete this.length),e!==this._val||this._ignoreValue)this._val=e,this.__t=3;else if(c!==!1)return this.__t=3,!1;if(l)!this._set||u===!1&&c!==!1||this._set(e,t,n,!1,s,a,h);else if(this._set){if(c)return!1;this._set(e,t,n,!1,s,a,h)}},l=0,c=function(e,t){for(var n,o=t.length-1;o>=0;o--)e&&void 0!==e[t[o]]&&(n="_"+t[o],i.define(this,n,e[t[o]]))};n.stamp=function(){return l++},n.set=a,r.new=function(e,t){var n=function(e,n,i){i&&(this._parent=i);var o;t&&(o=t.apply(this,arguments)),n&&this._hook&&this._hook(e,n),this._onConstruct&&this._onConstruct(e,n),void 0!==e&&o!==!1&&(this.val=e)},o=n.prototype=new this;return n.new=r.new,n.inject=s,i.define(n,"_blacklist",o._blacklist.concat()),c.call(n,e,["mixed","merge"]),i.define(n,"_class",n),n},i.define(r,"_$setVal",a,"_blacklist",["_","__","__t","_val","length","_name","_parent","_contained","_removed","extensions","__cachedPath","_ignoreValue","_indexCache"],"_class",r,"stamp",r.stamp,"_get",function(){var e,t=this,n=t.__t;return n<3?t:(e=t._val,4!==n?e:e&&e._get())},"val",{set:function(e){return this._$setVal(e)},get:function(){return this._get()}},"set",function(e,t,n,i,o,s){if(s=s&&this,!n&&this[e]instanceof r){if(this._$setVal.call(this[e],t,i,s,o)===!1&&i)return!1}else n?(this[e]&&this[e].remove(),this[e]=t,this[e]._name=e,this[e]._parent=this,o||t._update(t,i||this.stamp(),s,void 0,!0)):(this[e]=new this._class((void 0),(!1),this),this[e]._name=e,this._$setVal.call(this[e],t,i,s,o,!0)),
1===this.__t&&this._setArrayItem&&this._setArrayItem(this[e],t);return!0},"remove",function(e,t,n,o,s,a){e||(this._removed=!0);var l,c,u;s||(s=this.stamp()),e||(this._parent&&(this._parent[this._name]=null,delete this._parent[this._name]),void 0!==this._val&&(this._val instanceof r&&this._val._contained&&this._val.remove(!1,!1,!1,o||this,s,a),u=this._val,this._val=null));for(c in this)n&&n[c]||i.checkArray(this._blacklist,c)||(this[c]instanceof r&&(l=!1,this[c].remove(!1,!1,!1,o||this,s,a)),this[c]=null,delete this[c]);if(!e){if(this._remove&&(this._remove(o,!a&&o,s,u),!t))for(var d in this)void 0!==this[d]&&("_parent"!==d&&this[d]instanceof r&&this[d]._contained&&this[d].remove(),this[d]=null,delete this[d]);this._removed=!0}return l}),n.listen=e("./listen"),e("./array"),e("./util")},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../util/inject":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/inject.js","./array":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/array.js","./listen":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/listen.js","./util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/util.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/listen.js":[function(e,t,n){function i(e,t,n,i){n?e.addListener([t,n],!0,!1,!1,i):e.addListener(t,!1,!1,!1,i)}var o=e("../util"),s=e("./"),r=e("../"),a=e("old-vigour-js/browser/animation/raf"),l=e("promise"),c=n._update=function(e,t,n,i,o,r,a){var l,c,u=this._listeners;if(u)for(l=u.length;c=u[--l];)if(c instanceof s)c._lfrom=n||this,c._update(e,t,!1,i,o,r),c&&(c._lfrom=null);else if(c[0]){if(!a||!a(c))if(c.length>2){for(var d=c.length-2,p=arguments.length,h=[],f=-1,v=d+p;f<v;h[++f]=f<d?c[f+2]:f===d?this:arguments[f-d-1]);c[0].apply(c[1],h)}else c[0].call(c[1],this,e,t,n,i,o,r)}else c.call(this,e,t,n,i,o,r)};s.prototype._blacklist.push("_listeners","_listens","_lfrom","_listenMap"),o.define(s,"_set",function(e,t,n,i,o,s,r){o||this._update(e,t,n,i,s,r)},"is",function(e,t,n){if(t&&"function"==typeof t){var i=n?function(){var e=(o.arg(arguments),this);a(function(){t.call(e)})}:t;if("loaded"===e)this.$loaded||this.from.$loaded?i.call(this):this.once("loaded",i);else{var s;if(this.val==e)return i.call(this);if(s="function"==typeof e&&e.call(this))return s instanceof l?s:i.call(this);"function"==typeof e?this.once(e,i):this.once({$val:e},i)}return this}var r=this;return n=t,new l(function(t,n){r.is(e,function(){t.apply(this,arguments)})})},"__update",c,"_update",function(e,t,n,i,o,s,r){for(var a=this,l=!0;a;)a.__update(e,t,!(!n&&l===!0)&&this,i,o,s,r),a=!n&&a._parent,l=!1,i&&(i=1)},"_remove",function(e,t,n,i){t!==!1&&this._update(null,n,e,!0,!1,i),this.removeListener();var o,s=this._listens;if(s)for(o=s.length-1;o>=0;s[o--].removeListener(this,void 0,!1,!0));},"_setvobj",function(e){e.addListener(this)},"_changevobj",function(e){if(4===this.__t){var t,n=this._listens,i=this._val;if(n)for(t=n.length;t>=0;n[--t]&&n[t].removeListener(this,this));i instanceof s&&i._contained&&i.remove()}},"addListener",function(e,t,n,i,r){var a,l,c=this._listeners||(this._listeners=[]);if(r&&(this._listenMap||(this._listenMap=[])),t){if(l=o.checkArray(c,e[1],1),!(l===!1||!i&&o.checkArray(c,e[0],0)===!1||t!==!0&&t.call(this,c[l],c,l,e)===!0))return c[l];r&&e!==orginal&&this._listenMap.push([orginal,e]),c.push(e)}else e.__t&&o.checkArray(c,e)||(r&&e!==r&&this._listenMap.push([r,e]),c.push(e));(t||e instanceof s)&&(a=t?e[1]:e,a instanceof s&&(_li=a._listens||(a._listens=[]),!n&&o.checkArray(_li,this)||(r&&e!==r&&this._listenMap.push([r,e]),_li.push(this))))},"once",function(e,t,n){var i,o=function(){this.removeListener(i,n),i.apply(this,arguments)};return t?(i=t,this.on(e,o,!1,i)):(i=e,this.on(o,!1,!1,i)),this},"on",function(e,t,n,s){return r.Base&&t instanceof r.Base&&(n=t,t=null),s||(s=t),t?o.isObj(e)?e.$val?i(this,function(n){this.val===e.$val&&t.apply(this,arguments)},n,s):console.warn("this will become a condition later on for now its not supported!, conditions will be used eveyrwhere"):"function"==typeof e?i(this,function(n){e.apply(this,arguments)&&t.apply(this,arguments)},n,s):o.isObj(t)?(n=e,console.warn("untested -- add as mark"),i(this,function(e,n,i,o,s,r){o&&t.apply(this,arguments)},n,s)):"remove"===e?i(this,function(e,n,i,o,s,r){o&&t.apply(this,arguments)},n,s):"loaded"===e?i(this,function(e,n,i,o,s,r){(this.$loaded||this.from.$loaded)&&t.apply(this,arguments)},n,s):"added"===e?i(this,function(e,n,i,o,s,r){s&&t.apply(this,arguments)},n,s):"self"===e?i(this,function(n,i,o,s,r,a){(this._val===n||!e&&this._updateOrigin===this)&&t.apply(this,arguments)},n,s):i(this,function(n){n!==e&&this.val!==e&&this._val!==e||t.apply(this,arguments)},n,s):i(this,e,n,s),this},"removeListener",function(e,t,n,i){var o,r=this._listeners;if(r){for(o=r.length-1;o>=0;o--){var a=r[o];if(!t&&!e||e&&a===e||t!==!1&&a instanceof Array&&(t&&a[1]===t&&(!e||a[0]===e)||e&&a[1]===e)&&(!n||(n===!0?a[0]===e:n.call(this,a,t)))){var l=t?t:a instanceof s?a:a instanceof Array&&a[1],c=l&&l._listens;if(c)for(var u=c.length-1;u>=0;u--)if(c[u]===this){c.splice(u,1),0===c.length&&(l._listens=null),4===l.__t&&a._val===this&&(a._val=void 0);break}if(r.splice(o,1),0===r.length&&(this._listeners=null),e&&!i)break}}if(this._listenMap&&e){for(var d,o=0,p=this._listenMap.length;o<p;o++)if(this._listenMap[o][0]===e){this.removeListener(this._listenMap[o][1]),d=o;break}void 0!==d&&(this._listenMap.splice(d,1),0===this._listenMap.length&&(this._listenMap=!1))}}})},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/browser/animation/raf":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/animation/raf.js",promise:"/Users/shawn/Work/mtv-play/node_modules/promise/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/util.js":[function(e,t,n){var i=e("../util"),o=e("./");e("../");_c=i.checkArray;var s=o.set,r=this.from=function(e){for(var t,n=e;n instanceof o;)n._filter,t=n,n=n._val;return t!==e&&t},a=function(e){for(;e&&4===e.__t;){if(e._lfrom)return e._lfrom;e=e._val}},l=function(e,t){for(var n,o=this,s=[];o&&(void 0!==o._name||t);){if(n=o._lfrom||a(o)){var r=l.call(n),c=o.from._name;i.add(r,s),s=r,c&&(c=r.indexOf(c),r.splice(c,r.length-c))}o!==e?(s.push(o._name),o=o._parent):o=!1}return e?s.reverse():s};i.define(o,"toString",function(e){return e?JSON.stringify(this.raw):JSON.stringify(this.raw,!1,2)},"referenceLevel",function(e){for(var t=this,n=0;t&&t.__t;){if(t===e)return n;t=t._val,n++}return!1},"destroy",function(e,t,n,i,o,s){o||(o=this.stamp()),this._removed=!0,this.destroyReferences(e,t,n,i,o,s),this.remove(e,t,n,i,o,s)},"destroyReferences",function(e,t,n,i,s,r){s||(s=this.stamp());var a,l=this._listeners;if(l)for(var c,u=l.length;c=l[--u];)c instanceof o&&(a=c._parent,a&&1===a.__t?a.splice(c._name,1):c.remove(e,t,n,i,s,r))},"each",function(e,t,n){var o,s;if(void 0!==n){n=i.arg(arguments,2);for(o in this)if(!_c(this._blacklist,o)){if(s=this[o],e.apply(s,n))return!0;if(t&&(4!==s.__t||s._contained)&&s.each.apply(s,n))return!0}}else for(o in this)if(!_c(this._blacklist,o)){if(s=this[o],e.call(s,o))return!0;if(t&&(4!==s.__t||s._contained)&&s.each(e,t,n))return!0}},"_path",{get:function(){for(var e=this,t=[];e&&void 0!==e._name;)t.push(e._name),e=e._parent;return t.reverse()}},"_cachedPath",{get:function(){return this.__cachedPath||(this.__cachedPath=this._path.join("."))}},"updatePath",{get:function(){var e=l.call(this,this,!0),t=this._name;return void 0!==t&&e.unshift(t),e}},"keys",{get:function(){var e,t=[];for(e in this)_c(this._blacklist,e)||t.push(e);return t}},"_ancestor",function(e){for(var t=this;t;){if(e===t)return!0;t=t._parent}},"checkParent",i.checkParentFactory("_parent"),"convert",function(e){var t={},n=0;if(e&&!e.val||(t.val=this._val),1===this.__t){t=[];for(var i=0;i<this.length;i++)n++,t[i]=this[i].convert()}else this.each(function(i){e&&void 0===e[i]||(n++,t[i]=this.convert())});if(e)for(var i in e)void 0===t[i]&&(t[i]=void 0),n++;return n||e&&!e.val||(t=t.val),t},"raw",{get:function(){var e,t,n,i=this,o=i._filter?2:i.__t;if(4===o)return i._val&&i._val.raw;if(3===o)return i.val;if(1===o)for(e=[],t=-1,n=i.length-1;t<n;i[++t]&&e.push(i[t].raw));else{e={};for(t in i)!_c(i._blacklist,t)&&i[t]&&(e[t]=i[t].raw)}return e}},"from",{set:function(e){var t=r(this);s.call(t||this,e)},get:function(){return r(this)||this}},"merge",function(e,t,n,o,r,a,l){var c,u,d,p,h,f,v,m=this._mergeArray;if(l||(v=!0,l=[]),n||(n=this.stamp()),1===this.__t)if(m)m(e,n,o);else for(var g in e)h=e[g],f=this[g],(g=Number(g))>-1&&(c=!0,f?f.merge(h,!1,n,!0,r,a,l):(g>this.length-1&&(this.length=g+1),this.set(g,h,!1,n,!0,!0)));else{for(u in e)d=!0,h=e[u],f=this[u],"val"===u||_c(this._blacklist,u)||(!t&&f&&i.isObj(h)?h.clear?(s.call(f,h,n,!1,!0),c=!0):(p=f.merge(h,!1,n,!0,r,a,l),c!==!0&&(c=p),p||(e[u]=void 0)):f&&f._val===h?(c!==!0&&(c=!1),e[u]=void 0):(null===h&&this[u]?this[u].remove(!1,!1,!1,void 0,n):(this.set(u,h,!1,n,!0),this[u]&&this[u]._listeners&&l.push([this[u],h])),c||(c=p),p||(c=!0)));e.val?(p=s.call(this,e.val,n,!1,!0),c||(c=p),p||(e.val=void 0)):d||c||(c=!1),c=c!==!1||c}if(c&&(r||(o?v?this._update(e,n):(this.__update(e,n),l.push([this,e])):this._update(e,n))),v&&l)for(var y in l)l[y][0]&&l[y][0].__update&&l[y][0].__update(l[y][1],n);return c},"clone",function(e,t,n,s){var r,a=new this._class,l=this._val;if(s&&(a._parent=s),a.__t=this.__t,1===this.__t&&(a.length=this.length),n)for(var c,u=n.length-1;u>=0;u--)c=n[u],c instanceof Array&&this[c[0]]?c[1]===!0?a[c[0]]=i.clone(this[c[0]],!1,!0):a[c[0]]=c[1]:this[c]&&(a[c]=this[c]);l&&l instanceof o&&l._contained?(a.val=l.clone(a,!1,n,a),a._val._contained=!0):o.set.call(a,l,!1,!1,!0);for(r in this)_c(this._blacklist,r)||(t?a.set(r,this[r],!1,!1,!0):this[r]instanceof o?a.set(r,this[r].clone(void 0,!1,n,a),!0,!1,!0):a[r]=i.clone(this[r]));return void 0!==e&&(i.isObj(e)?a.merge(e,t):o.set.call(a,e,!1,!1,!0)),a.__t=this.__t,a},"path",function(e,t,n,o,s,r,a,l){return e instanceof Array||(e=e.split(".")),i.path(this,e,t,n,o,s,r,a,l)},"get",function(e,t){return i.get(this,e,t)},"empty",{get:function(){return i.empty(this,this._blacklist)}},"$empty",function(e,t){var n=this;this.each(function(t){(e&&"string"!=typeof e?i.checkArray(e,t):t===e)||(this.remove?this.remove(!1,!1,!1,!1,!1,!0):n[t]=null)}),this.clearCache&&this.clearCache(),t&&this._update("empty")},"_updateOrigin",{get:function(){for(var e=this;e._lfrom;)e=e._lfrom;return e}},"_origin",{get:function(){for(var e=this;e&&4===e.__t;)e=e._val;return e}})},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/index.js":[function(e,t,n){(function(i){var o,s=e("../"),r="/package.json";t.exports=n=function(e,i,o,r){o=o||(s.isNode?{}:window.package);var a={},l=t.exports,c=e&&function(n){a=n.vigour,l.parse(a,o,l._checks),r||(t.exports=a),e(a)};return i?n.options[i]?n.options[i](a,c,!1,o):n.options.val(a,c,i,o):n.options.val(a,c,!1,o),a},s.isNode?n.options={val:function(e,t,n,i){t(i)}}:(o=e("../../browser/network/ajax"),n.options={val:function(e,t,n){if(window.package)t&&t(window.package);else{var s=!window.cordova&&String(window.location).match(/https?:\/\/([^\/]+)/);s&&(s=s[0]),o({url:n&&n.url?n.url:s+r,fallback:[{url:r},n&&n.fallback?n.fallback:{url:i+r},{url:"../"+r},{url:"../../"+r},{url:"../../../"+r}],complete:function(e){window.package=e,t&&t(e)}})}}}),n.inject=function(){return n._checks=s.arg(arguments),n},n.loop=function(e,t,n,i,o,r){if(o){var a=t(e,n,i,r);a&&s.merge(e,a)}else for(var l in e[t])if(n===l){s.merge(e,i[l]);break}},n.parse=function(e,t,i,o){i instanceof Array||(i=[i]);for(var r in i)for(var a in i[r]){var l=s.get(t,a),c=i[r][a];n.loop(e,c,l,e[i[r][a]],"function"==typeof c,o)}return e}}).call(this,"/node_modules/old-vigour-js/util/config")},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../browser/network/ajax":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/ajax.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/config/ua.js":[function(e,t,n){var i=e("../../browser/ua"),o=e("../"),s=e("../../data").inject(e("../../data/selection"));bla=n,n.parse=function(e,t,n,r){var a=i;r&&r.ua&&(a=i.parse(r.ua.toLowerCase(),{}));var l,c=new s({bla:o.clone(a)});if(e.ua)for(var u in e.ua){if(a.platform===u||a.device===u||a.browser===u)return e.ua[u];if(e.ua[u].condition&&(l?l.filter=e.ua[u]:l=new s(c,e.ua[u]),l.length))return delete e.ua[u].condition,l.remove(),e.ua[u]}delete e.subsObj,l&&l.remove()}},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../browser/ua":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/ua.js","../../data":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/index.js","../../data/selection":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/data/selection.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/debug/index.js":[function(e,t,n){(function(i,o){function s(e,t,n){function i(){o.parentNode.removeChild(o)}var o=document.createElement("div"),s=document.createElement("p"),r=document.createElement("input"),a=document.createElement("button"),l=document.createElement("button");s.appendChild(document.createTextNode(e)),r.type="text",r.value=t,r.style.display="block",a.appendChild(document.createTextNode("OK")),l.appendChild(document.createTextNode("Cancel")),a.addEventListener("click",function(){i(),n(r.value)}),l.addEventListener("click",function(){i(),n(null)}),o.appendChild(s),o.appendChild(r),o.appendChild(a),o.appendChild(l),o.style.position="absolute",o.style.top="25px",o.style.left="50px",o.style.zIndex=1e3,o.style.fontSize="24px",o.style.backgroundColor="white",document.body.appendChild(o)}var r=n;DEBUG$=r;var a=e("../"),l=a.isNode,c=(e("../../"),r.log=e("./log"));c.logger("DEBUG$","rainbow");if(r.perf=r.performance=e("./performance"),l){var u=i.env.DEBUG;if(u){var d=u.split(",");for(var p in d){var h=d[p].split(":");DEBUG$.level[h[0]]=h[1]?Number(h[1]):3}}}else r.cases=e("../../browser/cases/"),n.body=document.body.base,Object.defineProperty(t.exports,"domain",{get:function(){return String(window.location).match(/https?:\/\/([^\/]+)/)[1].replace(/:.+/,"")}});n.int=function(e,t){function n(){return e=e||1e3,~~Math.floor(Math.random()*e)}return t?n():n},n.text=function(e,t,i,o,s){if(t)return function(){return n.text(Math.round(Math.random()*e)+1,!1,i,o,s)};var r=[".",".",".",";",","],a=["ab","able","zo","x","lax","bur","rem","lur","fur","jur","lex","rex","wurd","shur","burn","heps","a","i","y","u","e","p","l","splurf"],l="",c=0;i&&(a=i),i=function(){return a[Math.round(Math.random()*(a.length-1))]},e||(e=~~(101*Math.random()));for(var u,d=0;d<e;d++)if(s||l[l.length-1]&&"."!==l[l.length-2]&&"\n"!==l[l.length-2]?l+=i():(u=i(),l+=u[0].toUpperCase()+u.slice(1)),c++,!s&&~~(Math.random()*(c/2))){var p,h=!1;!o&&~~(21*Math.random())>17&&(p=r[~~(Math.random()*(r.length-1))],l+=p,"."===p&&~~(11*Math.random())>6&&(h=!0,l+="\n",~~(11*Math.random())>7&&(l+="\n"))),h||(l+=" "),c=0}return l},n.data=function(e,t,i,o,s){i||(i={}),o||(o=0),t||(t=0);for(var r in e)if(e[r]instanceof Object&&e[r].length&&e[r].val){if(e&&e[r]){i[r]=[];for(var a=0;a<e[r].length;a++)i[r][a]="function"==typeof e[r].val?e[r].val():n.data(e[r].val,t+1,!1,a+1,i)}}else e[r]instanceof Object&&"function"!=typeof e[r]?i[r]=n.data(e[r],t+1,i[r],!1,o,i):e&&e[r]&&(i[r]="function"==typeof e[r]?e[r].call(i,o,s):e[r]);return i},r.download=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.click()},r.remote=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","http://jsconsole.com/remote.js?"+e),document.getElementsByTagName("head")[0].appendChild(t)},r.findScript=function(e,t,n){var i=e.childNodes,o=t.match(/\.([a-zA-Z0-9]{1,30})$/)[1],s=!n&&new RegExp(t+"$"),r="js"===o?"src":"href";for(var a in i)if(n?i[a][r]===t:s.test(i[a][r]))return i[a]},r.native=function(e,t,n,i){if(!document.getElementById("dev")){var r=document.createElement("div");r.id="dev",r.style.zIndex=9999999,r.style.position="absolute",r.style.left="2px",r.style.top="80px",r.style.padding="15px",r.style.backgroundColor="rgba(50,50,50,0.8)",r.style.borderRadius="50%",r.addEventListener("click",function(){s("IP",o.localStorage.getItem("devip")||e||"http://10.0.1.2:8080",function(e){e?(o.localStorage.setItem("devip",e),o.location.reload()):(o.localStorage.removeItem("devip"),o.location.reload())})}),document.body.appendChild(r)}i||(i="build");var a=o.localStorage.getItem("devip");if(a){var l="?$app="+a.replace("http://","")+"/index.js";if(o.DEBUG$.remoteResource(a+"/bundle.css"+l,i+".css",!1),o.DEBUG$.remoteResource(a+"/bundle.js"+l,i+".js",!1))return document.getElementById("dev").style.backgroundColor="rgba(0,255,0,0.8)",n&&n(a),!0}},r.remoteResource=function(e,t,n){console.log("remote resource",e),n=void 0===n||n;var i,o,s=e.match(/\.([a-zA-Z0-9]{1,30})$/)[1],a=document.createElement("js"===s?"script":"link"),l=document.getElementsByTagName("head")[0],c=document.body;if(t||(n=!1,t=e.match("js"===s?/(\/)([a-zA-Z0-9-_+$]){0,30}\.js$/:/(\/)([a-zA-Z0-9-_+$]){0,30}\.css$/)[0].slice(1)),o=e+"&"+~~(9999999*Math.random()),"js"===s?(a.setAttribute("type","text/javascript"),a.setAttribute("src",o)):(a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",o),a.setAttribute("id",o)),i=r.findScript(l,t,n),i||(console.log(c,i,"!@!@#!@#JS"),i=r.findScript(c,t,n)),i){console.log("remote resource found:",i,i.src,o,e);var u=i.parentNode;if(String(i.src).indexOf(e)>-1)return;return u.removeChild(i),u.appendChild(a),!0}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../../browser/cases/":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js","./log":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/debug/log.js","./performance":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/debug/performance.js",_process:"/Users/shawn/git/gaston/node_modules/process/browser.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/debug/log.js":[function(e,t,n){function i(e){e||(e=1);for(var t,n=(new Error).stack.split("\n"),i=3,o=[];e--;)line=n[i++],t=")"===line[line.length-1]?line.length-1:line.length,o.push(line.slice(line.indexOf("/"),t));return o.join("\n").grey}function o(e,t){void 0===a.level[e]&&(a.level[e]=t)}var s,r,a=e("./"),l=e("../"),c=l.isNode,r=(e("../../"),console,{green:"#56db68",red:"#ff0000",grey:"#ccc",yellow:"#e0e67c",cyan:"#00ffff",magenta:"#ff00ff",blue:"#1111ff",white:"#fff"});a.level={DEBUG$:1/0,test:2};var u,d,p,h,f,v;if(c){s=e("repl"),r=e("colors"),p="log  ".grey,h="info ".green,f="error".red,v="-----".grey,a.repl=function(){return s.start(">"),a},s.context&&(s.context.DEBUG$=DEBUG$),console.group=function(){console.log("\n____________________________________________________".grey)},console.groupEnd=function(){console.log("____________________________________________________\n".grey)};var m=e("util");d=function(e){return m.inspect(e,{colors:!0,depth:50})},u=function(e){console.log(d(e))}}else{p=":",h="::",f="ERREX!",v=":::";var g=function(e,t,n){this.color=(n?t:"color: "+t)+";",this.val=new String("%c"+e)};d=function(e){if("string"==typeof e)return e;var t="";for(var n in e)t+=n+" : "+("string"==typeof e[n]?e[n]:JSON.stringify(e[n],!1,2))+"\n";return t.inverse.green},u=function(e){console.log(d(e))}}l.define(Object,"DEBUG$log",function(e,t){console.group&&console.group(),e="string"==typeof e&&e;var n="JSON "+(e||" normal");return a.log.header(n),a.level.test>1&&console.log(JSON.stringify(this,!1,2)),t&&(console.log("\n"),a.log.fn.apply(this,l.arg(arguments,1))),console.group&&console.groupEnd(),JSON.stringify(this,!1,2)}),!c&&localStorage&&l.define(localStorage,"DEBUG$log",function(e,t){console.group&&console.group(),e="string"==typeof e&&e;var n="localStorage "+(e||" normal");a.log.header(n);var i={};for(var o in this)try{i[o]=JSON.parse(this[o])}catch(e){i[o]=this[o]}return a.level.test>1&&console.log(JSON.stringify(i,!1,2)),t&&(console.log("\n"),a.log.fn.apply(this,l.arg(arguments,1))),console.group&&console.groupEnd(),i});var y=t.exports=n={stack:!1,i:function(e){e=this.indent;var t="";for(var n in e)t+="  ";return t},parse:d,object:u,default:function(e,t){if(e instanceof Object)for(var n in e)o(n,e[n]);else o(e,t)},logger:function(e,t,n){function o(){var t=void 0!==a.level.global?a.level.global:a.level[e];t>2&&y.stack&&console.log(i(y.stack).grey)}return y.default(e,n||1),o.info=function(){var n=void 0!==a.level.global?a.level.global:a.level[e];n>1&&(console.log.apply(null,[e[t].bold,h].concat(l.arg(arguments))),y.stack&&console.log(i(y.stack).grey))},o.error=function(){var n=void 0!==a.level.global?a.level.global:a.level[e];n>0&&(console.log.apply(null,[e[t].bold,f].concat(l.arg(arguments))),y.stack&&console.log(i(y.stack).grey))},o.detail=function(){var n=void 0!==a.level.global?a.level.global:a.level[e];n>3&&(console.log.apply(null,[e[t].bold,v].concat(l.arg(arguments))),y.stack&&console.log(i(y.stack).grey))},o.parse=d,o},label:function(e,t,n){c?console.log.apply(null,n):console.log.apply(null,["%c "+e+" ",t].concat(n))},header:function(e){this._lh=e,console.log(e.inverse)},header2:function(e){this._lh=e,console.log(e.grey.inverse)},end:function(e){console.log(("end ["+e+"]").grey.inverse)},level:function(e,t){(e>=a.level.test||a.level[e]||t&&a.level[e]>=t)&&console.log.apply(this,l.arg(arguments,1))},fn:function(e){a.log.indent++,"function"==typeof e?e.call(this,l.arg(arguments,1)):console.log(arguments),a.log.indent--},indent:0};setTimeout(function(){},0),l.define(a,"localStorageSize",{get:function(){var e=0;for(var t in localStorage){var n=(t.length+localStorage[t].length)/1024;e+=n}return console.log("LOCAL STORAGE SIZE TOTAL".inverse.green,(e/1024).toFixed(5)+" MB"),1024*e}}),l.define(a,"localStorageKeysSize",{get:function(){var e=0;for(var t in localStorage){var n=t.length/1024;e+=n}return console.log("LOCAL STORAGE KEY SIZE TOTAL".inverse.green,(e/1024).toFixed(5)+" MB"),1024*e}})},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/debug/index.js",colors:"/Users/shawn/Work/mtv-play/node_modules/colors/colors.js",repl:"/Users/shawn/git/gaston/node_modules/browserify/lib/_empty.js",util:"/Users/shawn/git/gaston/node_modules/util/util.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/debug/performance.js":[function(e,t,n){(function(i){function o(e,t,i,o,s,r){var a,c,u,d,p,h=n.now(),f=n.memory();return t||(t="TEST PERFORMANCE"),p=o?e.apply(o,s):e.apply(this,s),d=n.now(),a=n.memory(),c=a-f,u=d-h-(p||0),i?i(u/1e3,a-f):r||l.level.test>0&&console.log(t.inverse,"\nparse time: "+(d-h)/1e3+" sec"+(c?"\nmemory used (approximate): "+c+" bytes":"")),u}function s(e,t,i){e.complete?e.complete(t,i,e,n.average(t)[0],n.average(t)[1]):l.level.test>0&&console.log(e.name.inverse," n="+e.loop+"\nparse time:"+(e.extensive?" \n\n"+t.join(" sec\n")+" sec\n\n":"")+"average: "+n.average(t)[1]+" sec\ntotal: "+n.average(t)[0]+" sec")}var r,a=e("../"),l=e("./"),c=a.isNode;c?r=e("os"):console.log('DEBUG \n\nif you want to check memory usage start chrome using: \n\n open -a Google\\ Chrome --args --enable-memory-info --js-flags="--expose-gc"\n'.grey);var u=[];l.countNewListeners=function(e,t){t={val:0};var n=[];l.countListeners(e,t,n);var i=[];for(var o in n)a.checkArray(u,n[o])===!1&&i.push(n[o]);return u=n,{amount:t.val,newchecks:i}},l.countListeners=function(e,t,n){var t,n;if(n||(n=[]),a.checkArray(n,e)!==!1||!e)return t.val;if(n.push(e),t||(t={val:0}),e._listeners&&(t.val+=e._listeners.length),e.each)e.each(function(e){l.countListeners(this,t,n)});else if(e instanceof Object)for(var i in e)e[i]&&(e[i].__t||e[i]._from||e._from&&"cloud"===i)&&l.countListeners(e[i],t,n);return t.val},l.countSubs=function(e,t,n){var t;return t||(t={val:0}),e._subs&&(console.log("!!!!!SUB",e._path,e._subs),t.val+=e._subs.length),e.each||console.log("no EACH!",n),e.each(function(e){l.countSubs(this,t,e)}),t.val},t.exports=n=function(e,t){if(t&&"string"==typeof e)return o(t,e);if("function"==typeof e)return o(e);if(e instanceof Object){if(e.name||(e.name="performance test"),e.loop){var i=[],r=[],a=function(e,t){i.push(e),t&&r.push(t)};if(e.interval)var l=0,c=setInterval(function(){l++,l===e.loop-1?(clearInterval(c),s(e,i,r)):o(e.method,!1,a)},e.interval);else{for(var u=e.loop;u>0;u--)o(e.method,!1,a);s(e,i,r)}return n.average(i)}return o(e.method,e.name,e.complete,e.call,e.args,e.nolog)}},l.log&&l.log.default("test",4),n.now=function(){return c?1e3*i.hrtime()[0]+1e-6*i.hrtime()[1]:window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},n.memory=function(){return c?i.memoryUsage().heapUsed:window&&window.performance&&window.performance.memory?976562e-9*window.performance.memory.usedJSHeapSize:0},n.average=function(e){for(var t=0,n=e.length-1;n>=0;n--)t+=e[n];return[t,t/e.length]}}).call(this,e("_process"))},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/debug/index.js",_process:"/Users/shawn/git/gaston/node_modules/process/browser.js",os:"/Users/shawn/git/gaston/node_modules/os-browserify/browser.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/encode64.js":[function(e,t,n){var i={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,o,s,r,a,l,c="",u=0;for(e=i._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),n=e.charCodeAt(u++),o=e.charCodeAt(u++),s=t>>2,r=(3&t)<<4|n>>4,a=(15&n)<<2|o>>6,l=63&o,isNaN(n)?a=l=64:isNaN(o)&&(l=64),c=c+this._keyStr.charAt(s)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return c},decode:function(e){var t,n,o,s,r,a,l,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)s=this._keyStr.indexOf(e.charAt(u++)),r=this._keyStr.indexOf(e.charAt(u++)),a=this._keyStr.indexOf(e.charAt(u++)),l=this._keyStr.indexOf(e.charAt(u++)),t=s<<2|r>>4,n=(15&r)<<4|a>>2,o=(3&a)<<6|l,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(n)),64!=l&&(c+=String.fromCharCode(o));return c=i._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)i=e.charCodeAt(n),i<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}};t.exports=n=i},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/global.js":[function(e,t,n){(function(e,n){function i(e,t,n,i,o){if(e)return void 0===n?i?e[i](t):e[t]:o?(e[o](t,n),n):e[t]=n}var o="undefined"!=typeof window?window:"undefined"!=typeof n&&n,s="undefined"!=typeof localStorage,r="undefined"!=typeof e;t.exports={session:function(e,t){return i(o,e,t)},env:function(t,n){return s?i(localStorage,t,n,"getItem","setItem"):r?i(e.env,t,n):void 0}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/shawn/git/gaston/node_modules/process/browser.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/hash.js":[function(e,t,n){n=t.exports=function(e,t){var n,i,o,s,r,a,l,c;for(t=1,n=3&e.length,i=e.length-n,o=t,r=3432918353,a=461845907,c=0;c<i;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,o^=l,o=o<<13|o>>>19,s=5*(65535&o)+((5*(o>>>16)&65535)<<16)&4294967295,o=(65535&s)+27492+(((s>>>16)+58964&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:l^=255&e.charCodeAt(c),l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,o^=l}return o^=e.length,o^=o>>>16,o=2246822507*(65535&o)+((2246822507*(o>>>16)&65535)<<16)&4294967295,o^=o>>>13,o=3266489909*(65535&o)+((3266489909*(o>>>16)&65535)<<16)&4294967295,o^=o>>>16,(o>>>0).toString(36)},n.encode=function e(t,n){return n=n||"",~~t?e(t/62,String.fromCharCode(((t%=62)>9?t>35?29:87:48)+t)+n):n},n.decode=function(e,t,n,i){for(t=n=0;i=e.charCodeAt(n++);t=62*t+i-[,48,29,87][i>>5]);return t}},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/id.js":[function(e,t,n){function i(){return Number(String(Math.random()).slice(2)).toString(36)}t.exports=function(e,t){var n=i();if(t)for(;t--;)n+=i();return e?e+n:n}},{}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js":[function(e,t,n){e("./object"),e("./prop"),n.isNode="undefined"==typeof window,n.add=function(e,t){return t&&e.push.apply(e,t),e},n.checkArray=function(e,t,i,o){var s=i instanceof Array;if(!e)return!1;for(var r,a=0,l=e.length;a<l;a++)if(r=e[a],void 0!==i){if(i===!0){if(r===t)return a}else if(s?n.path(r,i)===t:r[i]===t)return o?r:a}else if(r===t)return!0;return!1},n.arg=function(e,t){return Array.prototype.slice.call(e,t?t:0)},n.empty=function(e,t){for(var n in e)if(!t||!this.checkArray(t,n))return!1;return!0},n.inject=e("./inject")},{"./inject":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/inject.js","./object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/object.js","./prop":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/prop.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/inject.js":[function(e,t,n){function i(e,t){if(r&&console.log("9",t,e),t.extend)r&&console.log("9.1",e),t.extend(e);else if(t instanceof Array){var n=t.concat(),i=n[0];n[0]=e,r&&console.log("9.2"),i.extend.apply(i,n)}}function o(){r&&console.log("5");for(var e,t,n=[],o=[this],a=0,l=arguments,c=l.length;a<c;a++)if(t=l[a],"function"==typeof t){e||(e=function(){for(var e=0,t=o.length;e<t;e++)o[e].apply(this,arguments)},s(e,this)),o.push(t);for(var u in t.prototype)if({}.hasOwnProperty.call(t.prototype,u)){if("constructor"===u)continue;e.prototype[u]=t.prototype[u]}}else r&&console.log("6"),e?(r&&console.log("7"),i(e,t)):n.push(t);e||(e=this);for(var d in n)i(e,n[d]);return e}function s(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var r,a=e("../"),l=e("./");l.isNode||(r=window.$TEST),t.exports=n=function(e){var t=arguments;if(t[0]&&t[0].$TEST&&(r=window.$TEST=!0),"function"==typeof this||a.Base&&this instanceof a.Base||"object"==typeof this){if(!a.Base||!(this===a.Base||this.prototype instanceof a.Base||this instanceof a.Base))return o.apply(this,t);t=l.arg(t),t.unshift(this),e=this}for(var n=1;n<t.length;n++)i(e,t[n]);
return e}},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/object.js":[function(e,t,n){function i(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var o=t.exports=n=e("./"),s=e("../"),r=".";n.lookup=Object.__lookupSetter__||function(e){for(var t,n=this;n;){if(t=Object.getOwnPropertyDescriptor(n,e),t&&t.set)return!0;n=Object.getPrototypeOf(n)}return!1},n.set=function(e,t,n,i,o,r){return s.Object&&e instanceof s.Object?e.set(t,n,i,o,r):e[t]=n},n.path=function(e,t,i,o,s,r,a,l,c,u,d){d||(d=0);var p,h,f=t[d],v=!c&&e&&4===e.__t?e.from[f]:e&&e[f],m=d<t.length-1;return!m||v instanceof Object||(v=void 0),void 0!==i&&(void 0===v||!m&&o)&&(h=!0,n.set(e,f,m?{}:i,!m&&r,a,l),v=e[f]),m?p=v?this.path(v,t,i,o,s,r,a,l,c,u,++d):v:(p=!c&&v&&4===v.__t?v.from:v,h&&s&&s(p)),p},n.dotField=function(e,t){if(~t.indexOf(r)){var n=t.split(r),i=n.shift(),o={};this.path(o,n,e[t]),delete e[t],e[i]=o,t=i}return t},n.compareArrays=function(e,t,n){var i=n?Object.keys(t).length:t.length;if(e.length!==i)return!1;for(var o=e.length-1;o>=0;o--)if(e[o]!=t[o])return!1;return!0},n.get=function(e,t,n){if(e&&t){if(n||4!==e.__t||e._filter||(e=e.from),!(t instanceof Array)){if(!~t.indexOf(r))return!n&&e[t]&&e[t].from||e[t];t=t.split(r)}return this.path(e,t,void 0,!1,!1,!1,!1,!1,n)}},n.isObj=function(e){return!(!(e instanceof Object&&"function"!=typeof e)||s.Object&&e instanceof s.Object||s.Base&&e instanceof s.Base)},n.clone=function(e,t,n){if(this.isObj(e)){var i=new e.constructor;for(var o in e)t&&t[o]||(i[o]=n?e[o]:this.clone(e[o],t));return i}return e},n.merge=function(e,t,n,i){for(var s in t){var r=o.isObj(e[s]),a=o.isObj(t[s]);r&&a?o.merge(e[s],t[s],n,i):n&&a?(e[s]=t[s]instanceof Array?[]:{},o.merge(e[s],t[s],n,i)):void 0!==i&&s in e&&("function"!=typeof i||!i(e[s],t[s]))||(e[s]=t[s])}return e},n.resolve=function(e,t,i,o){var s=!0;if(t instanceof Object){for(var r in t)void 0!==e[r]&&n.resolve(e[r],t[r],void 0!==i&&null!==i?i[r]:t[r],r)?void 0!==i&&null!==i&&(null===i[r]?s=!1:delete i[r]):s=!1;if(s){if(!i||void 0===o)return!0;delete i[o]}return s}if(e==t)return i&&void 0!==o&&delete i[o],!0},n.include=function(e,t,i,o){if(o&&t instanceof Array){for(var s=!1,r=0,a=t.length;r<a;r++)s=n.include(e,t[r],i);return s}var l,c,r=0,u=e.length;if(1===e.__t){for(;r<u;r++)if(l=c=e[r],4===c.__t&&(c=c.from),c===t||c.val===t)return i&&i(l),!1;return e.push(t),!0}if(e instanceof Array){for(;r<u;r++)if(e[r]===t)return!1;return e.push(t),!0}},n.changeType=function(e){var t;if(e instanceof Array){t={};for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else{t=[];for(var n in e)t.push(e[n])}return t},n.raw=function(e,t){if(e instanceof Object){if(e instanceof s.Object)return e.raw;var n;if(e instanceof Array){n=[];for(var i=0,o=e.length;i<o;i++)n[i]=this.raw(e[i],t)}else{n={};for(var r in e)n[r]=this.raw(e[r],t)}return n}return e},n.walk=function(e,t){for(var i in e)if(e[i]instanceof Object){if(t(i,e[i],e,!0))return!0;if(n.walk(e[i],t))return!0}else if(t(i,e[i],e))return!0},n.checkParentFactory=function(e){return function(t,i,o,r){i&&i!==!0&&(r=i,i=!1);for(var a,l=!(t instanceof s.Object)&&t,c=this;c;){if(a=l===!1?c===t:n.get(c,l,!o)){if(!r)return!i&&l?c:a;if(r===a||a instanceof s.Object&&a.val===r)return!i&&l?c:a}c=c[e]}}},n.disjoin=function(e,t,n){var o="function"==typeof n;e=i(e),t=i(t),e.each(function(){var e,i=this,s=i.from;t.each(function(){var t=this,i=t.from;return e=o?n(s,i):n===!0?s===i:s[n]&&i[n]&&s[n].val===i[n].val}),e&&i.remove()})}},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/process.js":[function(e,t,n){e("../object");t.exports={}},{"../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/prop.js":[function(e,t,n){function i(e,t,n,i,r){if(window.$TEST&&console.log(12,e),e.extensions||(n?e.extensions=[]:s.Object&&e instanceof s.Object?o.define(e,"extensions",[]):o.define(e,"extensions",{val:[],setClass:!0})),o.checkArray(e.extensions,this)===!1){r||(e.extensions=[this].concat(e.extensions));var a=o.arg(i);n&&!r&&(a[0]=n),window.$TEST&&console.error("??xxx?",a,t,this);var l=t.apply(this,a);if(window.$TEST,l)return l}else window.$TEST&&console.error("???")}var o=t.exports=n=e("./"),s=e("../");n.setstore=function(){this.__||(this.__={})},n.getStore=function(e){return this.__?void 0!==this.__[e]?this.__[e]:this._[e]:this._&&this._[e]},n.extend=function(){var e=o.arg(arguments);return function(t){window.$TEST&&console.log("10 --->",t);var n,r;"function"==typeof t?s.Base&&t.prototype instanceof s.Base?(n=t.base,r=!0):r=t.prototype:s.Base&&t instanceof s.Base&&(r=t);for(var a,l,c,u=o.arg(arguments),d=0,p=e.length;d<p;d++)e[d]instanceof Array?(l=e[d][0],c=o.arg(e[d],1),c.unshift(t)):(c=u,l=e[d]),window.$TEST&&console.log("11",l.extend?l:this,n||r),a=i.call(l.extend?l:this,n||r||t,l.extend||l,n,c,!!l.extend)||t;return a}},n.define=function(e,t,i,s,r,a){if("string"==typeof s)for(var l=o.arg(arguments),c=1,u=l.length;c<u;c+=2)n.define(e,l[c],l[c+1]);else if(t instanceof Array)for(var c=0,u=t.length;c<u;c++)n.define(e,t[c],i);else{if("function"==typeof i||i instanceof Array)i={enumerable:!1,value:i,configurable:!0};else if(i&&i instanceof Object&&!i.setClass)i.enumerable||(o.empty(i)&&(i.value={}),i.configurable=!0,i.enumerable=!1);else{i&&i.setClass&&(i=i.val);var d=e.prototype||e;a?(d.__||(d.__={}),d.__[t]=i):(d._||(d._={}),d._[t]=i);var p=function(e){n.setstore.call(this),(e||0===e||e===!1)&&(this.__[t]=e)},h=function(e){e=s.call(this,e),p.call(this,e)},f=function(){return n.getStore.call(this,t)},v=function(){var e=f.call(this);return r.call(this,e)};i={enumerable:!1,configurable:!0,get:r?v:f,set:s?h:p}}Object.defineProperty(e.prototype||e,t,i)}}},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/base.js":[function(e,t,n){function i(e,t,n,i){e&&(e._bind===i&&4===e.__t?e.val=t:e._bind||(4===e.__t&&e._val===n?(e.val=t,console.log("----------",e.__t)):t.addListener(e)))}var o=(e("../base"),e("./")),s=e("../object").set,r=e("../util");n.clonelist=[["_base",!1],"_caller","_prop","_name","_skip"],n.type={type:o,create:function(e,t,n,i){var r=new o;return r._base=this,r._caller=r._base,r._prop=n,s.call(r,e,!1,!1,!0),this._class&&(this._class.prototype._[n.name]=r),n.set&&(n._vset||(n._vset=function(e,t,i,o){n.set.call(this._caller||this._base||this,this,e,t,i,o)}),i||r._update(e)),r},set:function(e,t,s){if(t){if(t._caller=this,t._bind=!1,this!==t._base){var a,l=t._listeners,c=(t._base,this);if(r.setstore.call(this),n.clonelist[0][1]=this,void 0===e||e.clear){var u=new o;u._base=this,u._prop=s,u._caller=this,e&&delete e.clear,u.val=e,e=u}else e=t.clone(e,!1,n.clonelist);if(this.__[s.name]=e,this._class&&(this._class.prototype._[s.name]=e),t.each(function(n){if(this._listeners){for(a=this._listeners.length-1;a>=0;a--)i(this._listeners[a],e[n],t,c);e[n].val!==this.val}}),l)for(a=l.length-1;a>=0;a--)i(l[a],e,t,c);e=null,this[s.name]._update(e)}return e}},get:function(e,t){return e&&(e._caller=this),t.get?t.get.call(this,e):e}}},{"../base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js","../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/data.js":[function(e,t,n){var i=t.exports=e("./"),o=e("../../util"),s=e("../../object"),r=function(e){return e.__&&e.__.model||(e.model={},e._.model||e._dListen()),e.model};i.data={useVal:!0,set:function(e,t,n){var i=this.checkParent("_prop.name"),s=i._prop.name,a=i._base,l=r(a);l.flags&&l.flags[s]?(l.flags[s]instanceof Array||(l.flags[s]=[l.flags[s]]),o.checkArray(l.flags[s],this)||l.flags[s].push(this)):(a.model.flags||(a.model.flags={}),a.model.flags[s]=this);var c=function(){var e=this._d;if(void 0===e)for(var t=this;void 0===e&&t;)t._d?e=this._dSet(t._d,!0):(t=t.node.parentNode,t&&(t=t.base));return e};if(e instanceof Object){var u=e.val||e;this._val=function(){var e=c.call(this);return e&&u.call(this,e)},e=e.listen||!0}else this._val=function(){var t,n=c.call(this);return n=e===!0?n:o.get(n,e),void 0!==n?(t=n.__t&&!n._filter&&n.val,t||0===t||""===t||(t=n)):t="",t};this._flag||(this._flag={}),this._flag.data=["data",this._val,e,s]},remove:function(){var e=this.checkParent("_prop.name"),t=r(e._base),n=this;if(t&&t.flags)for(var i in t.flags)if(i===e._prop.name){var a=t.flags[i];a instanceof s||1===a.length?(t.flags[i]=null,delete t.flags[i]):t.flags[i].splice(o.checkArray(a,n),1)}this._update(),setTimeout(function(){n._update()},0)}}},{"../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js":[function(e,t,n){var i=e("../"),o=e("../base"),s=e("../../object/flags");o.clonelist.push(["_flag",!0]),s.extend(i),t.exports=i.flags},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../../object/flags":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/flags.js","../base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/base.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/parent.js":[function(e,t,n){function i(e,t){e&&e.node&&("x"!==t&&"y"!==t||e.cleanCoordinates(t),e[t]&&e[t]._prop._vset.call(e[t]))}function o(e,t,n,o,s,r,a,l,c,u,d,p,h,f,v){if(v&&this.parent instanceof o||!v&&this.parent===o||f){var m,g=this._from.base.node&&this._from.base,y=t._prop.name;t._caller=this,e.call(t,l,c,u,a),g&&g[y]&&g[y+"__p"]!==l&&(t._caller=g,t._caller[y+"__p"]=l,e.call(t,l,c,u,a),t._caller=this,m=!0);for(var _ in t._listeners)t._listeners[_].pop&&"parent"===t._listeners[_][2]&&(t._listeners[_][1]._lstamp===l&&(t._listeners[_][1]._lstamp=null),t._listeners[_][0].call(t._listeners[_][1],n,this,g,r,a,l,c,u,d,p,!0));m&&i(g,y)}}function s(e,t,n,i,r,a,l,c,u,d,h,f){var v=this;this._parentStore[0]=t,this._update(r,l?this.stamp():a,l,c,u,d,!1,!1,function(){var m,g=this.checkParent("_prop._vset",!0),y=this.checkParent("_base",!0);t===y.parent&&l&&(m=!0),o.call(y,g,v,e,t,n,i,r,a,!1,c,u,d,!0,h),y.eachInstance(function(){o.call(this,g,v,e,t,n,i,r,a,!1,c,u,d,!1,m)},v._prop.name),p.prototype._update.call(this,r,a,!1,c,u,d,function(e){return"parent"===e[2]}),!f&&i._caller&&t!==i._caller&&s.call(this,e,i._caller,n,i,r,a,!1,c,u,d,h,!0)})}function r(e,t,n,o,r){var a,l,c=n._parentStore[0],u=o[2],d=e[u],h=this._from.base;d&&(d.addListener([s,n,"parent",e,this],function(t,i,o){t[3]!==e&&c!==e&&t[4]!==h&&(n._parentStore[0]=e,t[4]=h,a=!0)},!1,!0),(a||!c||c!==e&&c[u]!==d)&&(n._parentStore[0]=e,t||(n._caller=l=h.node&&h||n._base,n._prop._vset.call(n,n),n._caller=this,s.call(n,"parent",e,h,d,!1,p.stamp(),!1,!1,!1,!1,!0,!0),i(l,n._prop.name))))}function a(e,t,n){var i=this.parent;i&&r.call(this,i,!0,e,t,n)}function l(e){var t=this.parent||e.checkParent("_parentStore.0",!0);return t&&!e._flag.parent?void console.error("NO PARENT FLAG!"):t?t[e._flag.parent[2]].val:void 0}var c=t.exports=e("./"),u=e("../"),d=e("../../util"),p=e("../../object");u.prototype._blacklist.push("_parentStore"),c.parent={reset:!0,useVal:!0,set:function(e,t,n){var i=this.checkParent("_prop.name"),o=i._prop.name;this._flag||(this._flag={}),this._flag.parent=["parent",l,e,this],i._parentStore||(i._parentStore=[!1]),i._parentStore.push(this),i._caller.setSetting({name:o,parent:function(e){for(var t=this[o]._parentStore,n=t?t.length-1:0;n>0;n--)t[n]._flag.parent?r.call(this,e,!1,this[o],t[n]._flag.parent):console.error("2 NO PARENT FLAG!")}}),this._val=l,this._skip=!0,a.call(i._base,i,this._flag.parent,n),i._base.eachInstance(a,o,i,this._flag.parent)},remove:function(e){var t=this.checkParent("_prop.name"),n=t._base,i=t._listens,o=t._prop.name,s=e[2],r=t._parentStore,a=function(){var e=this.parent;if(e&&e[s]){if(!(i.length>0))return!0;d.checkArray(i,e[s])&&e[s].removeListener(!1,t)}};this._val=0,i&&!a.call(n)&&n.eachInstance(a,o),r.splice(d.checkArray(r,this,!0),1),1===r.length&&(n.removeSetting(o,"parent"),t._parentStore=null)}}},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/process.js":[function(e,t,n){var i=t.exports=e("./"),o=e("../../util/process"),s=e("../"),r=e("../../util"),a=e("../../browser/network/ajax"),l=e("../../object");n.create=function(e,t,n,a){a||(a=i),n||(n=s);var l,c,u="__temp"+e+"__",d="__inprogress"+e+"__",p=n.prototype._update,h=t&&t.once,f=t&&t.deferMethod,v={reset:!0,set:function(t,n,i){this._flag||(this._flag={}),this._flag[e]=[e,!1,t,this]},remove:function(){var t,n=this._flag&&this._flag[e];if(n&&n[1])if(t="string"==typeof n[2]?o[n[2]]:"function"!=typeof n[2]&&n[2],t&&t.removeListener)t.removeListener(n[1]);else if(t&&t!==!0)for(var i in t)t.removeListener(t[i])}};if(n.prototype._blacklist.push(u,d,"_history"),f&&(t.deferMethod=null),h&&(t.once=null,n.prototype._blacklist.push(h)),t)for(var m in t)"set"===m?(l=v.set,v.set=function(e,n,i){t.set.call(this,l,arguments)}):"remove"===m?(c=v.remove,v.remove=function(e,n,i){t.remove.call(this,c,arguments)}):v[m]=t[m];a[e]=v,r.define(n,"_update",function(t,i){if(!this._flag||!this._flag[e]||h&&this[h])p.apply(this,arguments);else{var s,a,l,c,v,m=this,g=m._flag&&m._flag[e],y=m[u];if(y){if(i&&y[0][1]!==i){var _=r.arg(arguments);for(var w in _)y[0][w]=_[w]}return}if(m[u]=y=[],s=!0,a=r.arg(arguments),y.push(a),s&&(l=f?f.call(m,a,g[2],u,p,n,d):"string"==typeof g[2]?o[g[2]]:g[2])){if(c=function(){h&&(m[h]=!0);for(var e=0;e<y.length;e++)p.apply(m,y[e]);this.removeListener&&this.removeListener(c),m[u]=null},"function"==typeof l)m[d]||(v=function(e){e!==!0&&m[d]&&m[d](),m[d]=null,m[u]=null},m[d]=c,l.call(this,v,a,y)===!0&&(m[u]=null,m[d]=null));else if(l===!0)this.val||0===this.val?(p.apply(m,a),m[u]=null):console.error("no value! from defer type:",e);else if(l.addListener)l.addListener(c);else for(var b in l)l[b].addListener(c);g[1]=c}}})},n.create("$bubble",{deferMethod:function(e,t,n,i){var o,s,r=this;r[n]=null,t?((s=t.references)?s instanceof Object?s.$lte&&r.referenceLevel(r._updateOrigin)<=s.$lte&&(o=!0):s>-1?r.referenceLevel(r._updateOrigin)===s&&(o=!0):s===!0&&r.referenceLevel(r._updateOrigin)!==!1&&(o=!0):t&&t.self===!0&&(void 0===e[2]||this._val===e[0]||!e[0]&&this._updateOrigin===this)&&(o=!0),o?i.apply(r,e):r.clearReferencesCache()):i.apply(r,e)}}),n.create("defer"),s.operators.responseData=function(e,t){return t===!1?e:t},n.create("ajax",{remove:function(e,t){e.apply(this,t)},set:function(e,t){this.loading||this.set("loading",!1,!1,!1,!0),e.apply(this,t)},deferMethod:function(e,t,n,i,o){var s=this;return t&&function(e,n){var i=e;if(e=function(e,t){s.clearCache(),s._skip=!0,s._ignoreValue=!0,e&&(n[0]=e,s._val instanceof l||(s.val=e)),s.loading&&(s.loading.val=!1),i(t),s._ignoreValue=null},"object"==typeof t){var r=t;t={};for(var c in r)if("defer"===c)t[c]=r[c];else if(!t[c]){if("complete"!==c&&"error"!==c&&"function"==typeof r[c]){if(t[c]=r[c].call(s,t,n[0],n),!t[c])return!0}else t[c]=r[c];t[c]instanceof l&&(t[c]=t[c].val)}}if("function"==typeof t&&(t=t.call(s,t,n[0],n),!t))return!0;if("string"==typeof t&&(t={url:t}),t.url instanceof l&&(t.url=t.url.val),!t||!t.url&&!t.api)return!0;var u=t.complete,d=t.error;t.complete=function(i){t.defer?t.defer.call(s,e,n,null,i,t):(s.responseData?s.responseData.merge(i):s.set("responseData",i),u&&u(i),e("success"))},t.error=function(i){t.defer?t.defer.call(s,e,n,i,t):(s.responseData&&s.responseData.each(function(e){o.operators[e]||o.flags[e]||this.remove()}),s.set("responseData",void 0),d&&d(data),e("error"))},s.loading&&(s.loading.val=!0),a(t)}}}),n.create("apiDefer",{remove:function(e,t){e.apply(this,t)},set:function(e,t){this.loading||this.set("loading",!1,!1,!1,!0),e.apply(this,t)},deferMethod:function(e,t,n,i,o,s){var r=this;return t&&function(e,n){if(!n[0]||n[0].apiDefer)return!0;var i=function(t,i){if(r.loading.val=!1,t&&t!==!0){r.val=n[0]=t;try{e(t)}catch(t){r.type=t,e("error")}r.clearCache(),r._val=!1}else e(t)};r.loading.val=!0;var o=r.checkParent("api",!0);o&&o.val!==!0?(o.once(function(e){"error"===e?(r.clearCache(),r.val=n[0]="error",r.type=this.type||"api",r.loading.val=!1,i()):e===!0&&t.call(r,i,n)}),o.val=!0):t.call(r,i,n)}}}),n.create("init",{set:function(e,t){this.initialised||e.apply(this,t)},remove:function(e,t){e.apply(this,t),this.initialised=null},once:"initialised"}),t.exports=n},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js","../../browser/network/ajax":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/network/ajax.js","../../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","../../util/process":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/process.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/self.js":[function(e,t,n){var i=t.exports=e("./");i.self={reset:!0,useVal:!0,set:function(e,t,n){var i=this.checkParent("_prop.name");i._base&&i._base[e]&&(i._base[e].addListener(this),this._val=function(){return this[e]&&this[e].val},this._flag||(this._flag={}),this._flag.self=["self",this._val,e,this])}}},{"./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/util.js":[function(e,t,n){var i=t.exports=e("./");i.listen={reset:!0,set:function(e,t,n){if(!e)return void console.error("no val in flags listen!");if(this._flag||(this._flag={}),this._flag.listen=["listen",!1,e,this],e instanceof Array)for(var i=e.length-1;i>=0;e[i--].addListener(this));else{e.addListener(this)}},remove:function(){if(this._flag&&this._flag.listen){var e=this._flag.listen[2];if(e instanceof Array)for(var t=e.length-1;t>=0;e[t--].removeListener(this));else e.removeListener(this)}}}},{"./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/flags/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js":[function(e,t,n){var i=e("../object"),o=e("../util"),s=e("../");t.exports=n=s.Value=i.new({mixed:!0,merge:!0});var r=function(e,t,n,i,o,s){var r=i[n]._get(o,t,e);return void 0!==r&&null!==r&&(e=s[n](e||("string"==typeof r?"":0),r)),e};n.prototype._blacklist.push("_lstamp","_clearCache","_lval","__lval","___lval","_base","_caller","_bind","_prop","_instances","_skip","_overwrite"),o.define(n,"clearCache",function(){this.___lval=null,this.__lval=null,this._lval=null},"clearReferencesCache",function(){for(from=this._val;from;)from.clearCache&&from.clearCache(),from&&from._val?from=from._val:from=null},"ignoreCache",{get:function(){for(var e=this;e;){if(e._prop&&e._prop.cache===!1)return!0;e=e._parent}}},"_get",function(e,t,n){if(this._clearCache&&this.clearCache(),this._overwrite)return this._overwrite;if(!this._lval&&0!==this._lval||t){var o,s=this._val,a=this.operators;if(s instanceof i)s=s._get(this._bind||e,t,n);else if("function"==typeof s){var l=this;if(!e)for(;l._parent&&!l._caller;)l=l._parent;s=s.call(e||l._caller||l._base||this,this,n),o=!0}if(a)if(1===this.__t&&a[this._name]){s=0;for(var c=0,u=this.length;c<u;c++)this[c]&&(vj=this[c]._get(e,!1,(n||0)+s),vj||(vj=0),"string"==typeof vj&&0===s&&(s=""),s+=vj,this[c]._lval||(o=!0))}else{var d;for(var p in this)if(a[p])if(a[p].order)if(d){d.pop||(d=[d]);for(var h=a[p].order,f=d.length-1,v=0;v!==!0&&v<=f;v++)if(v===f){if(h<a[d[v]].order){var l=d[v];d[f]=p,d.push(l)}else d.push(p);v=!0}else v===f&&h>a[d[v]].order&&(d.push(p),v=!0)}else d=p;else t||this[p]._lstamp===this._lstamp||1!==this[p].__t||(t=!0),s=r(s,t,p,this,e,a),o||this[p]._lval||(o=!0);if(d){var m;for(p=d.pop?(m=1)&&d[0]:d;p&&this[p];)t||this[p]._lstamp===this._lstamp||1!==this[p].__t||(t=!0),s=r(s,t,p,this,e,a),o||this[p]._lval||(o=!0),p=d[m++]}}return o||t?this._base&&this._base.instances||(this.__lval=s):(this._lval=s,this.__lval=s),s}return this.__lval},"update",function(e,t,n,i,o,s,r){return this._update.call(this,void 0,i||this.stamp(),o,s,!1,!1,t,e,n),this},"_update",function(e,t,o,s,r,a,l,c,u){var d=this,p=d._base;if(e instanceof n&&!d._bind&&e._caller&&(d._bind=e._caller),(!d._lstamp||d._lstamp!==t)&&(d._lval=!1,p&&p.instances||d._skip||void 0===d.__lval||d.___lval!==d.val)){var h=d._prop,f=d._parent,v=h&&h._vset,m=d.operators;if((!o||!s)&&m&&(m[d._name]||f&&1===f.__t&&m[f._name]&&(!o||d._name==f.length-1))){for(var g=this._parent;m[g._name];)g._lval=!1,g=g._parent;g&&g._update(e,t,this,s,r,a,l,c,u)}u?u.call(d,e,t,o,s,r,a,l,c,u):(c&&(p=c),v&&(d._caller=p,v.call(d,t,o,s,e)),p&&v&&p.instances&&!l&&h.updateinstances!==!1&&(p.eachInstance(function(){d._caller=this,v.call(d,t,o,s,e)},h.name,d),d._caller=p),i.prototype._update.call(d,e,t,o||d,s,r,a)),d._lstamp=t}}),o.define(n,"operators",{value:n.operators=e("./operators")})},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./operators":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/operators.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/length.js":[function(e,t,n){function i(e){var t=new s({val:function(){return o(e)}});return e.on(function(e){t._update.apply(t,arguments)}),t}function o(e){return e?e._filter?e.length:4===e.__t?o(e._val):e.__t<3?e.keys.length:"string"==typeof e._val?e._val.length:0:0}var s=e("old-vigour-js/value"),r=e("old-vigour-js/util"),a=e("old-vigour-js/object");n.extend=r.extend(function(e){if(!(e.prototype instanceof a||e===a))throw new Error('cannot extend "$length" on non VObject Class');e.prototype._blacklist.push("_$length"),r.define(e,"$length",{get:function(){return r.include(this._blacklist,"_$length"),this._$length||(this._$length=i(this))}})})},{"old-vigour-js/object":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/object/index.js","old-vigour-js/util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","old-vigour-js/value":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/on.js":[function(e,t,n){var i=(e("./"),e("../util")),o=e("../base");n.extend=i.extend(function(e){if(!(e instanceof o))throw new Error('cannot extend "on" on non Base Class');e.extend({name:"on",set:function(e){},remove:function(e){this.on.$remove&&this.on.$remove.update()},new:function(e){this.on.$new&&this.on.$new.update()},parent:function(e){this.on.$parent&&this.on.$parent.update()},render:function(e){this.on.$render&&this.on.$render.update()}})})},{"../base":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/base/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js","./":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/value/operators.js":[function(e,t,n){e("../util"),e("../");n.add=function(e,t){return e+t},n.sub=function(e,t){return e-t},n.multiply=function(e,t){return e*t},n.divide=function(e,t){return e/t},n.max=function(e,t){return e>t?t:e},n.min=function(e,t){return e<t?t:e},n.transform=function(e,t){return t===!1?e:t},n.abs=function(e,t){return t?Math.abs(e):e},n.floor=function(e,t){return 0|e},n.ceil=function(e,t){return Math.ceil(e)},n.$convertType=function(e,t){return"boolean"===t?!!e:"number"===t?Number(e):void 0},n.default=function(e,t){return!e&&0!==e||e._val===!1||"error"===e||"success"===e?t:e},n.default.order=1e3},{"../":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/index.js","../util":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/parsejson/index.js":[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(r,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(i,"@").replace(o,"]").replace(s,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/mtv-play/node_modules/parseqs/index.js":[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),i=0,o=n.length;i<o;i++){var s=n[i].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},{}],"/Users/shawn/Work/mtv-play/node_modules/parseuri/index.js":[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var r=i.exec(e||""),a={},l=14;l--;)a[o[l]]=r[l]||"";return n!=-1&&s!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],"/Users/shawn/Work/mtv-play/node_modules/promise/index.js":[function(e,t,n){"use strict";t.exports=e("./lib/core.js"),e("./lib/done.js"),e("./lib/es6-extensions.js"),e("./lib/node-extensions.js")},{"./lib/core.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js","./lib/done.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/done.js","./lib/es6-extensions.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/es6-extensions.js","./lib/node-extensions.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/node-extensions.js"}],"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js":[function(e,t,n){"use strict";function i(e){function t(e){return null===l?void u.push(e):void r(function(){var t=l?e.onFulfilled:e.onRejected;if(null===t)return void(l?e.resolve:e.reject)(c);var n;try{n=t(c)}catch(t){return void e.reject(t)}e.resolve(n)})}function n(e){try{if(e===d)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void s(t.bind(e),n,i)}l=!0,c=e,a()}catch(e){i(e)}}function i(e){l=!1,c=e,a()}function a(){for(var e=0,n=u.length;e<n;e++)t(u[e]);u=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var l=null,c=null,u=[],d=this;this.then=function(e,n){return new d.constructor(function(i,s){t(new o(e,n,i,s))})},s(e,n,i)}function o(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function s(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}var r=e("asap");t.exports=i},{asap:"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"}],"/Users/shawn/Work/mtv-play/node_modules/promise/lib/done.js":[function(e,t,n){"use strict";var i=e("./core.js"),o=e("asap");t.exports=i,i.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){o(function(){throw e})})}},{"./core.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"}],"/Users/shawn/Work/mtv-play/node_modules/promise/lib/es6-extensions.js":[function(e,t,n){"use strict";function i(e){this.then=function(t){return"function"!=typeof t?this:new o(function(n,i){s(function(){try{n(t(e))}catch(e){i(e)}})})}}var o=e("./core.js"),s=e("asap");t.exports=o,i.prototype=o.prototype;var r=new i((!0)),a=new i((!1)),l=new i(null),c=new i((void 0)),u=new i(0),d=new i("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return l;if(void 0===e)return c;if(e===!0)return r;if(e===!1)return a;if(0===e)return u;if(""===e)return d;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(e){return new o(function(t,n){n(e)})}return new i(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function i(s,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,function(e){i(s,e)},n)}t[s]=r,0===--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,s=0;s<t.length;s++)i(s,t[s])})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype.catch=function(e){return this.then(null,e)}},{"./core.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"}],"/Users/shawn/Work/mtv-play/node_modules/promise/lib/node-extensions.js":[function(e,t,n){"use strict";var i=e("./core.js"),o=e("asap");t.exports=i,i.denodeify=function(e,t){return t=t||1/0,function(){var n=this,o=Array.prototype.slice.call(arguments);return new i(function(i,s){for(;o.length&&o.length>t;)o.pop();o.push(function(e,t){e?s(e):i(t)});var r=e.apply(n,o);!r||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then||i(r)})}},i.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,s=this;try{return e.apply(this,arguments).nodeify(n,s)}catch(e){if(null===n||"undefined"==typeof n)return new i(function(t,n){n(e)});o(function(){n.call(s,e)})}}},i.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){o(function(){e.call(t,null,n)})},function(n){o(function(){e.call(t,n)})})}},{"./core.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/index.js":[function(e,t,n){function i(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=o(e),s=i.source,c=i.id,u=i.path,d=l[c]&&u in l[c].nsps,p=t.forceNew||t["force new connection"]||!1===t.multiplex||d;return p?(a("ignoring socket cache for %s",s),n=r(s,t)):(l[c]||(a("new io instance for %s",s),l[c]=r(s,t)),n=l[c]),n.socket(i.path)}var o=e("./url"),s=e("socket.io-parser"),r=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=i;var l=n.managers={};n.protocol=s.protocol,n.connect=i,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/manager.js",
"./socket":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/socket.js","./url":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/url.js",debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js","socket.io-parser":"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/manager.js":[function(e,t,n){function i(e,t){return this instanceof i?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new i(e,t)}var o=e("engine.io-client"),s=e("./socket"),r=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),u=e("debug")("socket.io-client:manager"),d=e("indexof"),p=e("backo2"),h=Object.prototype.hasOwnProperty;t.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},r(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=o(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var i=l(t,"open",function(){n.onopen(),e&&e()}),s=l(t,"error",function(t){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;u("connect attempt will timeout after %d",r);var a=setTimeout(function(){u("connect attempt timed out after %d",r),i.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(s),this},i.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(e,"ping",c(this,"onping"))),this.subs.push(l(e,"pong",c(this,"onpong"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},i.prototype.socket=function(e){function t(){~d(i.connecting,n)||i.connecting.push(n)}var n=this.nsps[e];if(!n){n=new s(this,e),this.nsps[e]=n;var i=this;n.on("connecting",t),n.on("connect",function(){n.id=i.engine.id}),this.autoConnect&&t()}return n},i.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},i.prototype.packet=function(e){u("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){u("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/on.js","./socket":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/socket.js",backo2:"/Users/shawn/Work/mtv-play/node_modules/backo2/index.js","component-bind":"/Users/shawn/Work/mtv-play/node_modules/component-bind/index.js","component-emitter":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js","engine.io-client":"/Users/shawn/Work/mtv-play/node_modules/engine.io-client/index.js",indexof:"/Users/shawn/Work/mtv-play/node_modules/indexof/index.js","socket.io-parser":"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/on.js":[function(e,t,n){function i(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=i},{}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/socket.js":[function(e,t,n){function i(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var o=e("socket.io-parser"),s=e("component-emitter"),r=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");t.exports=n=i;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=s.prototype.emit;s(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},i.prototype.send=function(){var e=r(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=r(arguments),n=o.EVENT;u(t)&&(n=o.BINARY_EVENT);var i={type:n,data:t};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},i.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=r(arguments);c("sending ack %j",i);var s=u(i)?o.BINARY_ACK:o.ACK;t.packet({type:s,id:e,data:i})}}},i.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/on.js","component-bind":"/Users/shawn/Work/mtv-play/node_modules/component-bind/index.js","component-emitter":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js","has-binary":"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/node_modules/has-binary/index.js","socket.io-parser":"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/index.js","to-array":"/Users/shawn/Work/mtv-play/node_modules/to-array/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/lib/url.js":[function(e,t,n){(function(n){function i(e,t){var i=e,t=t||n.location;null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(s("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),s("parse %s",e),i=o(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var r=i.host.indexOf(":")!==-1,a=r?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port,i.href=i.protocol+"://"+a+(t&&t.port==i.port?"":":"+i.port),i}var o=e("parseuri"),s=e("debug")("socket.io-client:url");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js",parseuri:"/Users/shawn/Work/mtv-play/node_modules/parseuri/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/node_modules/component-emitter/index.js":[function(e,t,n){function i(e){if(e)return o(e)}function o(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===t||i.fn===t){n.splice(o,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var i=0,o=n.length;i<o;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-client/node_modules/has-binary/index.js":[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:"/Users/shawn/Work/mtv-play/node_modules/isarray/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/binary.js":[function(e,t,n){(function(t){var i=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var s={_placeholder:!0,num:n.length};return n.push(e),s}if(i(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t(e[a]);return r}if("object"==typeof e&&!(e instanceof Date)){var r={};for(var l in e)r[l]=t(e[l]);return r}return e}var n=[],s=e.data,r=e;return r.data=t(s),r.attachments=n.length,{packet:r,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(i(e)){for(var s=0;s<e.length;s++)e[s]=n(e[s]);return e}if(e&&"object"==typeof e){for(var r in e)e[r]=n(e[r]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function s(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){r++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--r||n(a)},u.readAsArrayBuffer(e)}else if(i(e))for(var d=0;d<e.length;d++)s(e[d],d,e);else if(e&&"object"==typeof e&&!o(e))for(var p in e)s(e[p],p,e)}var r=0,a=e;s(a),r||n(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/is-buffer.js",isarray:"/Users/shawn/Work/mtv-play/node_modules/isarray/index.js"}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/index.js":[function(e,t,n){function i(){}function o(e){var t="",i=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(i=!0,t+=e.nsp),null!=e.id&&(i&&(t+=",",i=!1),t+=e.id),null!=e.data&&(i&&(t+=","),t+=d.stringify(e.data)),u("encoded %j as %s",e,t),t}function s(e,t){function n(e){var n=h.deconstructPacket(e),i=o(n.packet),s=n.buffers;s.unshift(i),t(s)}h.removeBlobs(e,n)}function r(){this.reconstructor=null}function a(e){var t={},i=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return c();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var o="";"-"!=e.charAt(++i)&&(o+=e.charAt(i),i!=e.length););if(o!=Number(o)||"-"!=e.charAt(i))throw new Error("Illegal attachments");t.attachments=Number(o)}if("/"==e.charAt(i+1))for(t.nsp="";++i;){var s=e.charAt(i);if(","==s)break;if(t.nsp+=s,i==e.length)break}else t.nsp="/";var r=e.charAt(i+1);if(""!==r&&Number(r)==r){for(t.id="";++i;){var s=e.charAt(i);if(null==s||Number(s)!=s){--i;break}if(t.id+=e.charAt(i),i==e.length)break}t.id=Number(t.id)}if(e.charAt(++i))try{t.data=d.parse(e.substr(i))}catch(e){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:n.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),d=e("json3"),p=(e("isarray"),e("component-emitter")),h=e("./binary"),f=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=r,i.prototype.encode=function(e,t){if(u("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)s(e,t);else{var i=o(e);t([i])}},p(r.prototype),r.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/binary.js","./is-buffer":"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/is-buffer.js","component-emitter":"/Users/shawn/Work/mtv-play/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/mtv-play/node_modules/debug/browser.js",isarray:"/Users/shawn/Work/mtv-play/node_modules/isarray/index.js",json3:"/Users/shawn/Work/mtv-play/node_modules/json3/lib/json3.js"}],"/Users/shawn/Work/mtv-play/node_modules/socket.io-parser/is-buffer.js":[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/mtv-play/node_modules/to-array/index.js":[function(e,t,n){function i(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}t.exports=i},{}],"/Users/shawn/Work/mtv-play/node_modules/utf8/utf8.js":[function(e,t,n){(function(e){!function(i){function o(e){for(var t,n,i=[],o=0,s=e.length;o<s;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<s?(n=e.charCodeAt(o++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--)):i.push(t);return i}function s(e){for(var t,n=e.length,i=-1,o="";++i<n;)t=e[i],t>65535&&(t-=65536,o+=_(t>>>10&1023|55296),t=56320|1023&t),o+=_(t);return o}function r(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function a(e,t){return _(e>>t&63|128)}function l(e){if(0==(4294967168&e))return _(e);var t="";return 0==(4294965248&e)?t=_(e>>6&31|192):0==(4294901760&e)?(r(e),t=_(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=_(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=_(63&e|128)}function c(e){for(var t,n=o(e),i=n.length,s=-1,r="";++s<i;)t=n[s],r+=l(t);return r}function u(){if(y>=g)throw Error("Invalid byte index");var e=255&m[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,t,n,i,o;if(y>g)throw Error("Invalid byte index");if(y==g)return!1;if(e=255&m[y],y++,0==(128&e))return e;if(192==(224&e)){var t=u();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),n=u(),o=(15&e)<<12|t<<6|n,o>=2048)return r(o),o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),n=u(),i=u(),o=(15&e)<<18|t<<12|n<<6|i,o>=65536&&o<=1114111))return o;throw Error("Invalid UTF-8 detected")}function p(e){m=o(e),g=m.length,y=0;for(var t,n=[];(t=d())!==!1;)n.push(t);return s(n)}var h="object"==typeof n&&n,f="object"==typeof t&&t&&t.exports==h&&t,v="object"==typeof e&&e;v.global!==v&&v.window!==v||(i=v);var m,g,y,_=String.fromCharCode,w={version:"2.0.0",encode:c,decode:p};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return w});else if(h&&!h.nodeType)if(f)f.exports=w;else{var b={},k=b.hasOwnProperty;for(var E in w)k.call(w,E)&&(h[E]=w[E])}else i.utf8=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/mtv-play/node_modules/yeast/index.js":[function(e,t,n){"use strict";function i(e){var t="";do t=a[e%l]+t,e=Math.floor(e/l);while(e>0);return t}function o(e){var t=0;for(d=0;d<e.length;d++)t=t*l+c[e.charAt(d)];return t}function s(){var e=i(+new Date);return e!==r?(u=0,r=e):e+"."+i(u++)}for(var r,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,c={},u=0,d=0;d<l;d++)c[a[d]]=d;s.encode=i,s.decode=o,t.exports=s},{}],"/Users/shawn/Work/mtv-play/platform/all.js":[function(e,t,n){var i,o=e("../app"),s=e("../components/switcher"),r=e("old-vigour-js/browser/cases"),a=e("../components/cookiebar");if(o.set({switcher:new s({on:{navigation:o.user.navigation,play:o.playing,receiver:o.user.receiver,favourites:o.user.favourites,usage:o.user.usage,content:o.content,highlight:o.user.highlight,search:o.user.search,scroll:o.user.scroll,carousel:o.user.carousel,volume:o.volume,notification:o.notification,watched:o.user.watched.from,state:o.state,popup:o.popup,overlay:o.overlay,loading:o.loading,profilepic:o.user.profilepic,activeClient:o.user.activeClient},display:"none"})}),o.ready.once(!0,function(){if(o.switcher.display="block","CH"!==o.region.val){var e=r.desktop||!r.native&&(r.phone||r.tablet);e&&!window.localStorage.getItem("cookieApproved")&&("NL"!==o.region.val?o.set({cookiewall:new a}):o.add(new a,"switcher"))}}),r.phone&&!r.native){var l=function(){var t=window.innerWidth,n=window.innerHeight;t>n?o.set({message:new(i||(i=e("../components/rotate-message")))}):o.message&&o.message.remove()};o.w.on(l),l()}o.initialised.val=!0},{"../app":"/Users/shawn/Work/mtv-play/app/index.js","../components/cookiebar":"/Users/shawn/Work/mtv-play/components/cookiebar/index.js","../components/rotate-message":"/Users/shawn/Work/mtv-play/components/rotate-message/index.js","../components/switcher":"/Users/shawn/Work/mtv-play/components/switcher/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/platform/cast.js":[function(e,t,n){var i=e("../app"),o=e("../components/switcher");e("old-vigour-js/browser/cases");i.state.val={defer:function(e,t){"first"===this._val&&(this._val="second"),e()}},i.set({switcher:new o({on:{navigation:i.user.navigation,play:i.playing,receiver:i.user.receiver,favourites:i.user.favourites,usage:i.user.usage,content:i.content,fullscreen:i.fullscreen,highlight:i.user.highlight,search:i.user.search,scroll:i.user.scroll,carousel:i.user.carousel,volume:i.volume,notification:i.notification,watched:i.user.watched.from,state:i.state,popup:i.popup,overlay:i.overlay,loading:i.loading,profilepic:i.user.profilepic,activeClient:i.user.activeClient}})}),i.initialised.val=!0},{"../app":"/Users/shawn/Work/mtv-play/app/index.js","../components/switcher":"/Users/shawn/Work/mtv-play/components/switcher/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/platform/tv.js":[function(e,t,n){var i=(e("old-vigour-js/app/ui/tv"),e("../app")),o=e("../components/switcher");e("old-vigour-js/browser/cases");i.set({switcher:new o({on:{navigation:i.user.navigation,play:i.playing,receiver:i.user.receiver,favourites:i.user.favourites,usage:i.user.usage,content:i.content,fullscreen:i.fullscreen,highlight:i.user.highlight,search:i.user.search,scroll:i.user.scroll,carousel:i.user.carousel,volume:i.volume,notification:i.notification,watched:i.user.watched.from,state:i.state,popup:i.popup,overlay:i.overlay,loading:i.loading,profilepic:i.user.profilepic,activeClient:i.user.activeClient}})}),i.initialised.val=!0},{"../app":"/Users/shawn/Work/mtv-play/app/index.js","../components/switcher":"/Users/shawn/Work/mtv-play/components/switcher/index.js","old-vigour-js/app/ui/tv":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/app/ui/tv/index.js","old-vigour-js/browser/cases":"/Users/shawn/Work/mtv-play/node_modules/old-vigour-js/browser/cases/index.js"}],"/Users/shawn/git/gaston/node_modules/browser-resolve/empty.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/git/gaston/node_modules/browserify/lib/_empty.js":[function(e,t,n){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(n,arguments)},{}],"/Users/shawn/git/gaston/node_modules/inherits/inherits_browser.js":[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],"/Users/shawn/git/gaston/node_modules/os-browserify/browser.js":[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],"/Users/shawn/git/gaston/node_modules/process/browser.js":[function(e,t,n){function i(){p&&u&&(p=!1,u.length?d=u.concat(d):h=-1,d.length&&o())}function o(){if(!p){var e=a.call(null,i);p=!0;for(var t=d.length;t;){for(u=d,d=[];++h<t;)u&&u[h].run();h=-1,t=d.length}u=null,p=!1,l.call(null,e)}}function s(e,t){this.fun=e,this.array=t}function r(){}var a,l,c=t.exports={};!function(){try{a=setTimeout}catch(e){a=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(e){l=function(){throw new Error("clearTimeout is not defined")}}}();var u,d=[],p=!1,h=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new s(e,t)),1!==d.length||p||a.call(null,o,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=r,c.addListener=r,c.once=r,c.off=r,c.removeListener=r,c.removeAllListeners=r,c.emit=r,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],"/Users/shawn/git/gaston/node_modules/util/support/isBufferBrowser.js":[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],"/Users/shawn/git/gaston/node_modules/util/util.js":[function(e,t,n){(function(t,i){function o(e,t){var i={seen:[],stylize:r};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),v(t)?i.showHidden=t:t&&n._extend(i,t),b(i.showHidden)&&(i.showHidden=!1),b(i.depth)&&(i.depth=2),b(i.colors)&&(i.colors=!1),b(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=s),l(i,e,i.depth)}function s(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function r(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,i){if(e.customInspect&&t&&j(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(i,e);return _(o)||(o=l(e,o,i)),o}var s=c(e,t);if(s)return s;var r=Object.keys(t),v=a(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(t)),T(t)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return u(t);if(0===r.length){if(j(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(T(t))return u(t)}var g="",y=!1,w=["{","}"];if(f(t)&&(y=!0,w=["[","]"]),j(t)){var b=t.name?": "+t.name:"";g=" [Function"+b+"]"}if(k(t)&&(g=" "+RegExp.prototype.toString.call(t)),x(t)&&(g=" "+Date.prototype.toUTCString.call(t)),T(t)&&(g=" "+u(t)),0===r.length&&(!y||0==t.length))return w[0]+g+w[1];if(i<0)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=y?d(e,t,i,v,r):r.map(function(n){return p(e,t,i,v,n,y)}),e.seen.pop(),h(E,g,w)}function c(e,t){if(b(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,o){for(var s=[],r=0,a=t.length;r<a;++r)R(t,String(r))?s.push(p(e,t,n,i,String(r),!0)):s.push("");return o.forEach(function(o){o.match(/^\d+$/)||s.push(p(e,t,n,i,o,!0))}),s}function p(e,t,n,i,o,s){var r,a,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),R(i,o)||(r="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(n)?l(e,c.value,null):l(e,c.value,n-1),a.indexOf("\n")>-1&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),b(r)){if(s&&o.match(/^\d+$/))return a;r=JSON.stringify(""+o),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),
r=e.stylize(r,"string"))}return r+": "+a}function h(e,t,n){var i=0,o=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return null==e}function y(e){return"number"==typeof e}function _(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function b(e){return void 0===e}function k(e){return E(e)&&"[object RegExp]"===S(e)}function E(e){return"object"==typeof e&&null!==e}function x(e){return E(e)&&"[object Date]"===S(e)}function T(e){return E(e)&&("[object Error]"===S(e)||e instanceof Error)}function j(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}function I(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var U=/%[sdj%]/g;n.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,s=i.length,r=String(e).replace(U,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),a=i[n];n<s;a=i[++n])r+=m(a)||!E(a)?" "+a:" "+o(a);return r},n.deprecate=function(e,o){function s(){if(!r){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),r=!0}return e.apply(this,arguments)}if(b(i.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var r=!1;return s};var P,O={};n.debuglog=function(e){if(b(P)&&(P=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!O[e])if(new RegExp("\\b"+e+"\\b","i").test(P)){var i=t.pid;O[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else O[e]=function(){};return O[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=v,n.isNull=m,n.isNullOrUndefined=g,n.isNumber=y,n.isString=_,n.isSymbol=w,n.isUndefined=b,n.isRegExp=k,n.isObject=E,n.isDate=x,n.isError=T,n.isFunction=j,n.isPrimitive=A,n.isBuffer=e("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",I(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":"/Users/shawn/git/gaston/node_modules/util/support/isBufferBrowser.js",_process:"/Users/shawn/git/gaston/node_modules/process/browser.js",inherits:"/Users/shawn/git/gaston/node_modules/inherits/inherits_browser.js"}],"package.json":[function(e,t,n){t.exports={name:"mtv-play",version:"1.2.93",description:"mtv's multiscreen adventure",main:"index.js",scripts:{test:"test/test.js",build:"gaston build -s ./index.js -o . -i && cd xhr && gaston build -s ./index.js -o . && cp build.js bundle.js",bundle:"gaston bundle -s ./index.js -o . -i",ios:"npm run build && ./node_modules/.bin/wrapper build --native.selectedPlatforms ios",release:'cp build.css bundle.css && ./node_modules/.bin/ferry --release --mergeFiles \'["./package.json","./.package.json"]\''},repository:{type:"git",url:"https://github.com/vigour-io/mtv-play",branch:"staging"},keywords:["multiscreen","play","shows","smart","tv","js"],dependencies:{autolinker:"^0.18.1",jquery:"^2.2.0",lodash:"3.2.0",markdown:"^0.5.0",mediaplayer:"git+ssh://git@github.com/vimn-north/mediaplayer.git#v2.3.6","monotonic-timestamp":"0.0.9","old-vigour-js":"git+ssh://git@github.com:vigour-io/vigour-js.git#hotfix/iosBrowser","package-branch-config":"^1.2.2",promise:"6.1.0",through2:"^2.0.0","zepto-browserify":"x"},devDependencies:{"vigour-wrapper":"^2.0.1","vigour-ferry":"^3.0.0"},author:"Jim de Beer",license:"other",bugs:{url:"https://github.com/vigour-io/mtv-play/issues"},homepage:"https://github.com/vigour-io/mtv-play",vigour:{ga:"UA-43955457-3",hashUrl:!0,defaultRegion:!1,regionOverride:!1,availableRegions:["DE","NL","CH","PL","BE","NO","AT","DK"],geo:"https://wwwmtvplay-a.akamaihd.net/geo/",development:{button:!1},cloud:"-staging-mtv-hubs.dev.vigour.io",othercloud:"http://localhost:10001",languages:["en","de","nl","pl","it","fr","no","dk"],mtvmobile:["de","ch"],roles:["free","premium","mtv","trial"],countrycodes:{de:49,ch:41,nl:31},dictionary:"https://mtv-staging.vigour.io/translations/lang_$language.json",epg:"https://wwwmtvplay-a.akamaihd.net/xhr/index.html",img:"https://imgmtvplay-a.akamaihd.net",imgOrigin:"http://staging.riptide.mtvnn.com/",api:{type:"staging",url:"https://utt-staging.mtvnn.com/",acceptHeader:"application/json",key:"4e99c9381b74354fbae9f468497912f0"},player:{debug:!1,web:"http://player.mtvnn.com/html5player/production/player.js",settings:{homadURL:"/homad/config.json",tolerateadblocker:!1,ad_playpostrolls:!0,domain:"mtv",tld:"de",localization:{language:"de",country:"DE"},ads:{autoSID:!1,context:null,defaultAssetID:41349526,defaults:{interval:0},enabled:!0,engine:"Freewheel",fallbackID:41349526,midroll_intervals:{longer_than_15:null,longer_than_20:null,longer_than_30:null},networkID:174975,profileID:"174975:MTVNE_live_HTML5",server:"http://2ab7f.v.fwmrm.net/ad/p/1",viralSID:"mtvplaytv/test"},controls:!1,blankVideo:"http://player.mtvnn.com/codebase/blank.m4v",simulcastApiKey:"c153f28d950ae49a",assetPaths:{"g2player.swf":"/node_modules/mediaplayer/dist/g2player.swf"}}},chromecast:{id:"30C914C1",web:"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"},facebook:{id:"709421825777638",web:"https://connect.facebook.net/de_DE/sdk.js"},wrapper:{assets:{"build.html":!0,"build.js":!0,"build.css":!0,"bundle.css":!0,"fonts.css":!0,fonts:"*",img:"*",assets:"*",translations:"*"}},fburl:"http://play.mtvutt.com/",packer:{language:"https://wwwmtvplay-a.akamaihd.net/translations/",url:"https://wwwmtvplay-a.akamaihd.net/",domain:"https://mtv-staging.vigour.io"},ferry:{assets:{"build.html":!0,"build.js":!0,"build.css":!0,"bundle.css":!0,"fonts.css":!0,fonts:"*",img:"*",assets:"*",translations:"*",cast:"*","cast.html":!0,xhr:"*",homad:"*","googleebecff275dd42f4a.html":!0,"google2c4a46fac7686373.html":!0,"sitemap.xml":!0,"crossdomain.xml":!0,"robots.txt":!0,"node_modules/mediaplayer/dist/g2player.swf":!0,meta:"*"},transforms:{"build.js":["inform"],"bundle.css":["rebase"],"build.css":["rebase"],"build.html":["meta","langs"]},main:"build.js",web:"build.html",fbDefaults:{title:"MTV Play",description:"Mtv's new app to view shows on all devices",image:"http://img.mtvutt.com/image/180/180?url=http://play.mtvutt.com/apple-touch-icon-180x180.png"}},store:{customAvailablility:{DK:{monthly:!0,yearly:!0,single:!1}},ios:{monthly:"$region_subscription_monthly",yearly:"$region_subscription_annual",single:"$region_single_purchase"},android:{monthly:"mtvplay_subscription_0616_monthly",yearly:"mtvplay_subscription_0616_annually",single:"mtvplay_single_purchase"},windows:{monthly:"mtvplay_subscription_monthly",yearly:"mtvplay_subscription_annual",single:"mtvplay_single_purchase"},amazon:{monthly:"com.mtvplay.app.sub.month",yearly:"com.mtvplay.app.sub.year",single:"com.mtvplay.app.episode"}},omniture:"vianorthtestweb"},gaston:{transforms:{"package-branch-config":{section:"vigour"}},"less-options":{},"source-maps":!1,package:!0,"index-path":"index.html",es5:!0,aliasify:{}},sha:"1.2.93"}},{}]},{},["/Users/shawn/Work/mtv-play/index.js"]);