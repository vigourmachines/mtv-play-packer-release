require=function e(t,i,s){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return r(i?i:e)},u,u.exports,e,t,i,s)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;o<s.length;o++)r(s[o]);return r}({"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js":[function(e,t,i){},{}],"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browserify/lib/_empty.js":[function(e,t,i){arguments[4]["/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js"][0].apply(i,arguments)},{}],"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/inherits/inherits_browser.js":[function(e,t,i){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/os-browserify/browser.js":[function(e,t,i){i.endianness=function(){return"LE"},i.hostname=function(){return"undefined"!=typeof location?location.hostname:""},i.loadavg=function(){return[]},i.uptime=function(){return 0},i.freemem=function(){return Number.MAX_VALUE},i.totalmem=function(){return Number.MAX_VALUE},i.cpus=function(){return[]},i.type=function(){return"Browser"},i.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},i.networkInterfaces=i.getNetworkInterfaces=function(){return{}},i.arch=function(){return"javascript"},i.platform=function(){return"browser"},i.tmpdir=i.tmpDir=function(){return"/tmp"},i.EOL="\n"},{}],"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/process/browser.js":[function(e,t,i){function s(){u=!1,a.length?c=a.concat(c):d=-1,c.length&&r()}function r(){if(!u){var e=setTimeout(s);u=!0;for(var t=c.length;t;){for(a=c,c=[];++d<t;)a&&a[d].run();d=-1,t=c.length}a=null,u=!1,clearTimeout(e)}}function n(e,t){this.fun=e,this.array=t}function o(){}var a,l=t.exports={},c=[],u=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new n(e,t)),1!==c.length||u||setTimeout(r,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/util/support/isBufferBrowser.js":[function(e,t,i){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/util/util.js":[function(e,t,i){(function(t,s){function r(e,t){var s={seen:[],stylize:o};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),h(t)?s.showHidden=t:t&&i._extend(s,t),j(s.showHidden)&&(s.showHidden=!1),j(s.depth)&&(s.depth=2),j(s.colors)&&(s.colors=!1),j(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=n),l(s,e,s.depth)}function n(e,t){var i=r.styles[t];return i?"["+r.colors[i][0]+"m"+e+"["+r.colors[i][1]+"m":e}function o(e,t){return e}function a(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}function l(e,t,s){if(e.customInspect&&t&&C(t.inspect)&&t.inspect!==i.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(s,e);return b(r)||(r=l(e,r,s)),r}var n=c(e,t);if(n)return n;var o=Object.keys(t),h=a(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),U(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(t);if(0===o.length){if(C(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(U(t))return u(t)}var g="",y=!1,w=["{","}"];if(f(t)&&(y=!0,w=["[","]"]),C(t)){var j=t.name?": "+t.name:"";g=" [Function"+j+"]"}if(k(t)&&(g=" "+RegExp.prototype.toString.call(t)),x(t)&&(g=" "+Date.prototype.toUTCString.call(t)),U(t)&&(g=" "+u(t)),0===o.length&&(!y||0==t.length))return w[0]+g+w[1];if(0>s)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var _;return _=y?d(e,t,s,h,o):o.map(function(i){return p(e,t,s,h,i,y)}),e.seen.pop(),v(_,g,w)}function c(e,t){if(j(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return y(t)?e.stylize(""+t,"number"):h(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,i,s,r){for(var n=[],o=0,a=t.length;a>o;++o)O(t,String(o))?n.push(p(e,t,i,s,String(o),!0)):n.push("");return r.forEach(function(r){r.match(/^\d+$/)||n.push(p(e,t,i,s,r,!0))}),n}function p(e,t,i,s,r,n){var o,a,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),O(s,r)||(o="["+r+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(i)?l(e,c.value,null):l(e,c.value,i-1),a.indexOf("\n")>-1&&(a=n?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),j(o)){if(n&&r.match(/^\d+$/))return a;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function v(e,t,i){var s=0,r=e.reduce(function(e,t){return s++,t.indexOf("\n")>=0&&s++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function j(e){return void 0===e}function k(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function x(e){return _(e)&&"[object Date]"===S(e)}function U(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function C(e){return"function"==typeof e}function T(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function S(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function E(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var $=/%[sdj%]/g;i.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(r(arguments[i]));return t.join(" ")}for(var i=1,s=arguments,n=s.length,o=String(e).replace($,function(e){if("%%"===e)return"%";if(i>=n)return e;switch(e){case"%s":return String(s[i++]);case"%d":return Number(s[i++]);case"%j":try{return JSON.stringify(s[i++])}catch(t){return"[Circular]"}default:return e}}),a=s[i];n>i;a=s[++i])o+=m(a)||!_(a)?" "+a:" "+r(a);return o},i.deprecate=function(e,r){function n(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}if(j(s.process))return function(){return i.deprecate(e,r).apply(this,arguments)};if(t.noDeprecation===!0)return e;var o=!1;return n};var P,D={};i.debuglog=function(e){if(j(P)&&(P=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(P)){var s=t.pid;D[e]=function(){var t=i.format.apply(i,arguments);console.error("%s %d: %s",e,s,t)}}else D[e]=function(){};return D[e]},i.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=f,i.isBoolean=h,i.isNull=m,i.isNullOrUndefined=g,i.isNumber=y,i.isString=b,i.isSymbol=w,i.isUndefined=j,i.isRegExp=k,i.isObject=_,i.isDate=x,i.isError=U,i.isFunction=C,i.isPrimitive=T,i.isBuffer=e("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",E(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(e,t){if(!t||!_(t))return e;for(var i=Object.keys(t),s=i.length;s--;)e[i[s]]=t[i[s]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/util/support/isBufferBrowser.js",_process:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/process/browser.js",inherits:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/inherits/inherits_browser.js"}],"/Users/ricksmit/dev/mtv-play/api/email.js":[function(e,t,i){var s=e("old-vigour-js/value"),r=(e("old-vigour-js/util/config"),e("old-vigour-js/browser/cases")),n=window.location;t.exports=i=new s({send:{apiDefer:function(e,t){if(this.body||this.address||this.subject){var i=this.body&&this.body.val,s=this.subject&&this.subject.val,o=this.address&&this.address.val,a=this;if(r.android&&window.cordova&&window.plugins.socialsharing)window.plugins.socialsharing.shareViaEmail(i,s,o?[o]:[],null,null,null,function(t){e("success"),this.$empty("loading")},function(t){a.type=t,e("error"),this.$empty("loading")});else{var l="mailto:"+(o||"")+"?subject="+(s||"")+"&body="+(i||"");if(r.android)n.replace(l);else{n.href;n.href=l}e("success"),this.$empty("loading")}}else e(!0)}},share:{apiDefer:function(e,t){var i=this._parent;this.val===!0||t[0]===!0?(i.send.once(function(t){e(t)}),i.send.val={address:this.address.val,body:this.body.val,subject:this.subject.val,val:!0}):e(!0)}}})},{"old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/facebook/index.js":[function(e,t,i){var s,r=e("old-vigour-js/value"),n=e("old-vigour-js/util/config");e("old-vigour-js/value/flags/process");t.exports=i=new r({api:{defer:function(e,t){if(t[0]!==!0||s)return!0;if(window.cordova&&!s)s=!0,e();else{if(t[0]!==!0||s)return!0;var i=document.createElement("script"),r=this,o=i.onerror=function(){r.clearCache(),r.val=t[0]="error",e()};i.src=n.facebook.web,i.id="facebook-jssdk",window.fbAsyncInit=function(){try{window.FB.init({appId:n.facebook.id,xfbml:!0,version:"v2.1"}),s=!0,e()}catch(t){r.type=t.message,o()}},document.getElementsByTagName("head")[0].appendChild(i)}}}}),i._name="facebook",e("./login"),e("./share")},{"./login":"/Users/ricksmit/dev/mtv-play/api/facebook/login.js","./share":"/Users/ricksmit/dev/mtv-play/api/facebook/share.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js","old-vigour-js/value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/mtv-play/api/facebook/login.js":[function(e,t,i){var s=(e("old-vigour-js/value"),e("old-vigour-js/util/config"),e("old-vigour-js/util"),e("./index.js")),r=e("old-vigour-js/browser/ua");e("old-vigour-js/browser/network/url"),e("old-vigour-js/app/");s.val={login:{apiDefer:function(e,t){var i=this;t[0]!==!0?(e("error"),this.type="type"):!window.cordova||"windows"===r.platform&&"phone"===r.device?window.FB.login(function(t){"connected"===t.status?(i.set("token",t.authResponse.accessToken),i.set("id",t.authResponse.userID),e("success")):(i.type=t,e("error"))},{scope:"public_profile,email"}):facebookConnectPlugin.login(["public_profile","email"],function(t){"connected"===t.status?i.token&&i.token.val===t.authResponse.accessToken?e("error"):(i.set("token",t.authResponse.accessToken),i.set("id",t.authResponse.userID),e("success")):(i.type=t,e("error"))},function(t){i.type=t,e("error")})}}}},{"./index.js":"/Users/ricksmit/dev/mtv-play/api/facebook/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/network/url":"/Users/ricksmit/dev/vigour-js/browser/network/url.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/facebook/share.js":[function(e,t,i){var s,r=(e("old-vigour-js/value"),e("old-vigour-js/util/config"),e("old-vigour-js/util"),e("./index.js")),n=e("old-vigour-js/browser/cases"),o=(e("old-vigour-js/browser/network/url"),e("old-vigour-js/browser/ua"));e("old-vigour-js/app/");r.val={share:{apiDefer:function(e,t){var i=this,r=this.url&&this.url.val;r?window.cordova?"windows"===o.platform&&"phone"===o.device?window.plugins.socialsharing.share(null,this.title&&this.title.val,null,this.url&&this.url.val,function(t){e("success")},function(r){r&&(s?s.call(i,e,t):(i.type="no cordovaFallback",e("error")))}):window.plugins.socialsharing.shareViaFacebook(null,null,this.url?this.url.val:null,function(t){e("success")},function(r){r&&(s?s.call(i,e,t):(i.type="no cordovaFallback",e("error")))}):FB.ui({method:"share",href:r},function(t){!t||t&&t.error_code?(t&&4201==t.error_code&&(i.type="cancelled"),e("error")):e("success")}):e(!0)}}},window.cordova&&!function(){s=function(e,t){function i(){window.facebookConnectPlugin.showDialog({method:"share",href:r,link:r},function(t){"string"!=typeof t?e("success"):~t.indexOf("User cancelled")&&(o.type="cancelled",e("error"))},function(t){"string"==typeof t&&t.indexOf("User cancelled")&&(o.type="cancelled"),e("error")})}function s(){window.facebookConnectPlugin.login(["public_profile"],i,function(t){o.type="login",e("error")})}var r=this.url&&this.url.val,o=this;n.android?window.facebookConnectPlugin.getLoginStatus(function(e){"connected"===e.status?i():s()},s):i()}}()},{"./index.js":"/Users/ricksmit/dev/mtv-play/api/facebook/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/network/url":"/Users/ricksmit/dev/vigour-js/browser/network/url.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/index.js":[function(e,t,i){i.login=e("./login"),i.verify=e("./verify"),i.register=e("./register"),i.facebook=e("./facebook"),i.email=e("./email"),i.network=e("./network"),i.password=e("./password"),i.mobile=e("./mobile"),i.user=e("./user"),i.purchase=e("./purchase"),i.receipt=e("./receipt"),i.url=e("./url"),i.player=e("./player"),i.price=e("./purchase/pricing"),i.operator=e("./operator"),i.info=e("./info")},{"./email":"/Users/ricksmit/dev/mtv-play/api/email.js","./facebook":"/Users/ricksmit/dev/mtv-play/api/facebook/index.js","./info":"/Users/ricksmit/dev/mtv-play/api/info.js","./login":"/Users/ricksmit/dev/mtv-play/api/login.js","./mobile":"/Users/ricksmit/dev/mtv-play/api/mobile.js","./network":"/Users/ricksmit/dev/mtv-play/api/network.js","./operator":"/Users/ricksmit/dev/mtv-play/api/operator.js","./password":"/Users/ricksmit/dev/mtv-play/api/password.js","./player":"/Users/ricksmit/dev/mtv-play/api/player.js","./purchase":"/Users/ricksmit/dev/mtv-play/api/purchase/index.js","./purchase/pricing":"/Users/ricksmit/dev/mtv-play/api/purchase/pricing.js","./receipt":"/Users/ricksmit/dev/mtv-play/api/receipt.js","./register":"/Users/ricksmit/dev/mtv-play/api/register.js","./url":"/Users/ricksmit/dev/mtv-play/api/url.js","./user":"/Users/ricksmit/dev/mtv-play/api/user.js","./verify":"/Users/ricksmit/dev/mtv-play/api/verify.js"}],"/Users/ricksmit/dev/mtv-play/api/info.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=s.api.url;t.exports=i=new r({episode_pass_available:0,ajax:{url:function(){var e=this._val instanceof r?this._val:this;if("string"==typeof e.val){var t=n+"api/v1/utt_info/c153f28d950ae49a/"+e.val+".json";return this._cached=e.val,t}},defer:function(e,t,i,s){if(s.country_info)for(var r in s.country_info)this[r]&&(this[r].val=s.country_info[r]);e()}}})},{"old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/login.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=e("./util"),o=s.api.url;e("old-vigour-js/value/flags/process");t.exports=i=new r({ajax:{condition:function(e,t){return this.email&&this.password?(e.url=o+"api/v2/sessions.json",e.data={user:{email:this.email.val,password:this.password.val,app_version:window["package"].version}},!0):this.region&&this.facebook&&this.facebook.token?(e.url=o+"api/v2/sessions.json",e.data={auth_method:1,user:{oauth_token:this.facebook.token.val,accept_data_protection_tcs:!0,accept_mtv_country_tcs_for:this.region.val,app_version:window["package"].version}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,i,s){!i&&s&&s.success?(this.set("token",s.authentication_token),s.new_record?this.set("new_record",s.new_record):this.new_record&&this.new_record.remove(),e("success")):(this.type=i?i.message:n.findError(s),e("error"),this.$empty(["loading","region"]))}}}),i._name="_mtvlogin"},{"./util":"/Users/ricksmit/dev/mtv-play/api/util.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js","old-vigour-js/value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/mtv-play/api/mobile.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=e("./util"),o=s.api.url;t.exports=i=new r({verify:{ajax:{url:o+"api/v2/mbl_verifications.json",encode:"json",method:"POST",headers:{Accept:"*/*",redirectUrl:s.packer.domain+"/?m=$data"},data:function(e,t){return this.token&&this.token.val&&this.phonenumber&&this.phonenumber.val&&this.country&&this.country.val?{auth_token:this.token.val,user:{mobile_number:Number(this.phonenumber.val),mobile_country_prefix:Number(this.country.val),app_version:window["package"].version}}:void 0},defer:function(e,t,i,s){!i&&s&&s.valid?e("success"):(this.type=i?i.message:n.findError(s),e("error"),this.$empty(["loading","token"]))}}},sms:{ajax:{url:function(e,t){return"string"==typeof t&&o+"api/v2/mblconfirmation/"+t+".json"},method:"GET",defer:function(e,t,i,s){s.success?(this.set("token",s.authentication_token),e("success")):(this.type=i?i.message:n.findError(s),e("error"))}}},available:{ajax:{url:function(){var e=this._val instanceof r?this._val:this;if("string"==typeof e.val){var t=o+"api/v1/utt_info/c153f28d950ae49a/"+e.val;return this._cached=e.val,t}},defer:function(e,t,i,s){var n=this._val instanceof r?this._val:this;n.val!==this._cached?(e(!0),this._update()):s&&s.success?(this.set("transform",s&&s.country_info&&s.country_info.mbl_available&&!0||!1),e()):e(!0)}}}})},{"./util":"/Users/ricksmit/dev/mtv-play/api/util.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/network.js":[function(e,t,i){var s=e("old-vigour-js/value");t.exports=i=new s,window.cordova&&(document.addEventListener("offline",function(){i.val=!1},!1),document.addEventListener("online",function(){i.val=navigator.connection.type},!1))},{"old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/operator.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=e("old-vigour-js/app"),o=e("./util"),a=s.api.url;i.login=new r({ajax:{condition:function(e,t){return this.email&&this.password?(console.warn("[operator] put back operator check"),e.url=a+"api/v2/sessions.json",e.data={auth_method:3,operator_name:"boxer",operator_credentials:{email:this.email.val,password:this.password.val},user:{accept_mtv_country_tcs:["de"],language_code:"de"}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,i,s){!i&&s&&s.success?(this.set("token",s.authentication_token),s.new_record?(console.log("new recored"),this.set("new_record",s.new_record)):this.new_record&&this.new_record.remove(),e("success")):(this.type=i?i.message:o.findError(s),e("error"),this.$empty(["loading","region"]),"wrong_credentials"===s.errors[0]&&(n.notification.val="operatorWrongCredentials"),"credentials_used_too_often"===s.errors[0]&&(n.notification.val="operatorCredentialsTooOften"),"email_already_taken"===s.errors[0]&&(n.notification.val="operatorEmailTaken"))}}}),i.upgrade=new r({ajax:{condition:function(e,t){if(this.username&&this.password&&this.operator){var i={};return n.cases.$hasOperatorRegistration.val?(console.log("hiero"),i={email:this.username.val,password:this.password.val}):i={username:this.username.val,password:this.password.val},e.url=a+"api/v2/operators/upgrade.json",e.data={auth_token:n.user.token.val,operator_name:this.operator.val,operator_credentials:i},!0}},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,i,s){!i&&s&&s.success?e("success"):(e("error"),this.$empty("loading"),s.errors&&(console.log("??",s.errors[0]),"wrong_credentials"===s.errors[0]&&(n.notification.val="operatorWrongCredentials"),"credentials_used_too_often"===s.errors[0]&&(n.notification.val="operatorCredentialsTooOften"),"email_already_taken"===s.errors[0]&&(n.notification.val="operatorEmailTaken")))}}})},{"./util":"/Users/ricksmit/dev/mtv-play/api/util.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/password.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=e("./util"),o=(e("old-vigour-js/browser/cases"),s.api.url);t.exports=i=new r({reset:{ajax:{url:function(e,t){return t="string"==typeof t?t:this.token&&this.token.val,"string"==typeof t&&o+"api/v1/password_resets/"+t+".json"},data:function(e,t){return this.password&&this.password.val&&{user:{password:this.password.val,password_confirmation:this.password.val,app_version:window["package"].version}}},encode:"json",method:"PUT",defer:function(e,t,i,s){s.success?(this.set("token",s.authentication_token),e("success")):(this.type=i?i.message:n.findError(s),e("error"))}}},forgot:{ajax:{url:o+"api/v1/password_resets.json",method:"POST",encode:"uri",headers:{appVersion:3,redirectUrl:s.packer.domain+"/?reset=$data"},data:function(e,t){return"string"==typeof t?{email:t}:void 0},defer:function(e,t,i,s){s.success?e("success"):(this.type=i?i.message:n.findError(s),e("error"))}}}}),i._name="password"},{"./util":"/Users/ricksmit/dev/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/player.js":[function(e,t,i){var s,r=e("old-vigour-js/util/config"),n=e("old-vigour-js/value");t.exports=i=new n({api:{defer:function(t,i){if(i[0]!==!0||s)return!0;s=!0,window.jQuery=window.$=e("jquery");var n=this,o=document.createElement("script");o.onerror=function(e){console.error(e),n.type="script",n.clearCache(),n.val=i[0]="error",t()},o.onload=function(){t("success")},o.src=r.player.web,o.id="player-script",this._parent.debug=r.player.debug,this._parent.settings=r.player.settings,document.getElementsByTagName("head")[0].appendChild(o)}},apiDefer:function(e,t){e("success")}})},{jquery:"/Users/ricksmit/dev/mtv-play/node_modules/jquery/dist/jquery.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/purchase/index.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=(e("../util"),s.api.url,e("old-vigour-js/browser/cases")),s=e("old-vigour-js/util/config"),o=e("old-vigour-js/browser/ua"),a=o.platform;"android"===a&&window.AmazonIapV2&&(a="amazon");s.store[a];t.exports=i=new r({apiDefer:function(e){function t(t,s){if(s&&(t=null),t)i.type=t,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(s))}catch(r){i.type=r}i.set("packageName",s.packageName),i.set("subscriptionId",s.productId),i.set("orderId",s.orderId),i.set("purchaseTime",s.purchaseTime),i.set("purchaseState",s.purchaseState),i.set("developerPayload",s.developerPayload),i.set("signature",s.signature),i.set("token",s.purchaseToken),e("success")}i.subscription&&(i.subscription.val=!1),i.product&&(i.product.val=!1)}var i=this;if(window.Store){var s=this.subscription&&this.subscription.val||this.product&&this.product.val;s?n.ios?Store.buy(s,function(t,s){if(s&&(t=null),t)i.type=t.description,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(s))}catch(r){i.type=r,e("error")}i.set("token",window.atob(s.restoreTransaction?s.restoreTransaction.transactionReceipt:s.completeTransaction.transactionReceipt)),e("success")}i.subscription&&(i.subscription.val=!1),i.product&&(i.product.val=!1)}):n.windowsMobile?Store.buy(s,function(t,s){if(s&&(t=null),t)i.type=t,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(s))}catch(r){i.type=r,e("error")}s.purchaseResults&&"Succeeded"===s.purchaseResults.status?(i.set("token",s.purchaseResults.receiptXml),i.set("transactionId",s.purchaseResults.transactionId),e("success")):(i.type=s.purchaseResults,e("error"))}i.subscription&&(i.subscription.val=!1),i.product&&(i.product.val=!1)}):this.subscription&&this.subscription.val?Store.subscribe(s,t):Store.buy(s,t):(e(!0),this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1))}else if(window.AmazonIapV2){var s=this.subscription&&this.subscription.val||this.product&&this.product.val;if(s){var r="",o={sku:s},a=window.AmazonIapV2;a.addListener("purchaseResponse",function(t){var s=t.response;s&&s.requestId===r&&("SUCCESSFUL"===s.status?(window.purchaseValue=i,i.set("amazonUserData",s.amazonUserData),i.set("purchaseReceipt",s.purchaseReceipt),i.set("token",s.purchaseReceipt.receiptId),e("success")):e("error")),t.requestId==r}),a.purchase(function(e){r=e.requestId},function(e){console.error("[pay] error buying!",e)},[o])}else e(!0),this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1)}else this.type="no store available",this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1)}}),i._name="purchase"},{"../util":"/Users/ricksmit/dev/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/purchase/pricing.js":[function(e,t,i){function s(e){var t=e.split("=")[1];return h[t]||t}function r(e){for(var t=e.length-1;t>=0;t--){var i=v&&v[e[t]];i?f[e[t]]=e[t]=i.replace("$region",(l.region.val||"").toLowerCase()):e.splice(t,1)}}function n(e){for(var t in f)if(f[t]===e)return t}function o(e,t){i._fetching=null;try{}catch(r){}if(e||!t)return console.error(e),i.single._fetching=null,i.monthly._fetching=null,void(i.yearly._fetching=null);var o,l,c,u,d=t.validProducts;if(a.ios)for(u=d.length-1;u>=0;u--)o=d[u],l=o.productIdentifier,c=n(l),i[c]?i[c].val=s(o.priceLocale)+o.price:console.error("[pay]can not find type ",c);else for(u=d.length-1;u>=0;u--){o=d[u];for(c in f)l=f[c],o[l]?i[c].val=o[l].price:console.error("[pay] can not find type ",c)}}var a=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/app"),c=e("old-vigour-js/util/config"),u=e("old-vigour-js/browser/ua"),d=e("old-vigour-js/value"),p=u.platform;"android"===p&&window.AmazonIapV2&&(p="amazon");var v=c.store[p],f={},h={EUR:"€",PLN:"zł",RON:"Lei"};t.exports=i=function(e){if(e?e instanceof Array||(e=[e]):e=["single","yearly","monthly"],r(e),e.length&&(window.cordova&&window.Store||window.AmazonIapV2)&&!i._fetching)if(i._fetching=!0,window.Store)Store.fetch(e,o);else{var t,s=window.AmazonIapV2,n=function(e){var t=e.response&&e.response.productDataMap;if(t){var i=[t];o(null,{validProducts:i})}s.removeListener("getProductDataResponse",n)};s.addListener("getProductDataResponse",n);var a={skus:e};s.getProductData(function(e){var i=e.requestId;t=i},function(e){console.error("[pay] error getting products",e)},[a])}!i._fetching&&window.cordova&&window.Store&&e.length&&(i._fetching=!0)},i.single=new d({val:function(){this._fetching||i(),this._fetching=!0}}),i.monthly=new d({val:function(){this._fetching||i(),this._fetching=!0}}),i.yearly=new d({val:function(){this._fetching||i(),this._fetching=!0}})},{"old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/receipt.js":[function(e,t,i){function s(){var e;n&&(clearTimeout(n),n=null),e=f+.08*v,f=6e4>=e?e:0,n=setTimeout(function(){n=null,r()},e)}function r(){function e(){t&&(i.token.val=t)}var t,s=localStorage.getItem(p);if(!s)return!0;t=i.token&&i.token._val,i.once("success",e).once("error",e);try{i.val=JSON.parse(s)}catch(r){}}var n,o=e("old-vigour-js/util/config"),a=e("old-vigour-js/value"),l=e("./util"),c=o.api.url,u=e("old-vigour-js/browser/cases"),d=e("old-vigour-js/util/encode64.js"),p="receiptData",v=1e4,f=0;t.exports=i=new a({ajax:{url:c+"api/v2/subscriptions",encode:"json",method:"POST",headers:{Accept:"*/*"},data:function(e,t){var i;if(this.token&&this.token.val&&this.receipt&&this.receipt.val){try{localStorage.setItem(p,JSON.stringify(this.raw))}catch(r){this.type=r,update("error")}if(u.ios)i={receipt:this.receipt.val,vendor:"apple"},this.episodeId&&(i.episode=this.episodeId.val);else if(u.android)if(window.AmazonIapV2)window.receiptValue=this,i={
auth_token:this.token.val,receipt:{user_id:this.userId.val,receipt_id:this.receiptId.val},vendor:"amazon"};else{if(!this.packageName)return;i={packageName:this.packageName.val,token:this.receipt.val,orderId:this.orderId.val,purchaseTime:this.purchaseTime.val,purchaseState:this.purchaseState.val,developerPayload:this.developerPayload.val,signature:this.signature.val,vendor:"google"},this.episodeId&&(i.episode=this.episodeId.val),this.subscriptionId&&(i.subscriptionId=this.subscriptionId.val)}else u.windowsMobile&&(i={receipt:d.encode(this.receipt.val),vendor:"microsoft"},this.episodeId&&(i.episode=this.episodeId.val));i&&(i.auth_token=this.token.val,s())}return i},defer:function(e,t,i,s){localStorage.removeItem(p),!i&&s&&s.success?(f=0,e("success")):(this.type=i?i.message:l.findError(s),e("error"),this.$empty("loading"))}}}),i._name="receipt",u["native"]&&(document.addEventListener("resume",r,!1),r())},{"./util":"/Users/ricksmit/dev/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/util/encode64.js":"/Users/ricksmit/dev/vigour-js/util/encode64.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/register.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=e("old-vigour-js/browser/cases"),o=e("./util"),a=s.api.url;t.exports=i=new r({ajax:{url:a+"api/v1/users.json",headers:{appVersion:3,redirectUrl:s.packer.domain+"/?e=$data"},method:"POST",encode:"json",data:function(){if(this.email&&this.password){var e=n.iphone&&"iphone"||n.android&&"android",t=this.region.val;"AT"===t&&(t="DE");var i={user:{email:this.email.val,password:this.password.val,password_confirmation:this.password.val,accept_data_protection_tcs:!0,accept_mtv_country_tcs_for:t,app_version:window["package"].version}};return this.gender&&(i.user.gender=this.gender.val),this.newsletter&&(i.user.accept_newsletter=this.newsletter.val),this.age&&this.age.min_age&&(i.user.min_age=this.age.min_age.val,i.user.max_age=this.age.max_age.val),e&&(i.user.device_type=e),i}},defer:function(e,t,i,s){!i&&s&&s.success?e("success"):(this.type=i?i.message:o.findError(s),e("error"),this.$empty("region"))}}}),i._name="register"},{"./util":"/Users/ricksmit/dev/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/tracking/context.js":[function(e,t,i){var s=e("./map"),r=e("old-vigour-js/browser/ua"),n=e("old-vigour-js/util/config"),o=e("./omniture"),a=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/app/");t.exports=function(e,t,i){var c,u,d,p,v=o.user,f=window["package"],h=v&&v.data&&v.data.from.cloud&&v.data.from,m=v?v.role.val:0,g=new Date,y=f?f.repository&&f.repository.branch:"master",b=h&&h._name||"not available";"userData"===b&&(b="unregistered"),"master"===y&&(y="dev"),t?(c=0,u="prop"):(c=1,u="eVar"),m=0===m?"free":1===m?"premium":2===m?"mtv mobile":3===m?"trial":"unregistered","ios"===r.platform&&(p="phone"===r.device?"iPhone":"iPad"),d={branch:y,title:e,version:window["package"]&&window["package"].version,role:m,device:p||r.platform+" "+r.device,region:l.country||n.region.val,lang:n.language.val,weekDay:s.weekDays[g.getDay()],hour:g.getHours()||24,age:h&&h.get&&h.get("birthday",!1).val||"not available",gender:h&&h.get&&h.get("gender",!1).val||"not available","native":window.cordova||"tv"===r.device||"cast"===r.device?"native":"web",userId:b||"unregistered",connected:String(a.$hasReceiver.val)||"none",secondscreen:String(!a.$isActive.val)||"none",devicesPresent:String(a.$hasDevices.val)||"none",loginStyle:a.$isLoggedIn.val&&h?h.facebook_id&&h.facebook_id.val?"facebook":"email":"none",network:l.network.val||"not available",networkOperator:"not available"},i||(d.title="none");for(var w in d)o[u+s.vars[w][c]]=d[w]}},{"./map":"/Users/ricksmit/dev/mtv-play/api/tracking/map.js","./omniture":"/Users/ricksmit/dev/mtv-play/api/tracking/omniture.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/api/tracking/dataform.js":[function(e,t,i){var s=e("old-vigour-js/browser/network/ajax");e("old-vigour-js/browser/events/util").postpone;e("./ga");var r;window.device?r=window.device.uuid:ga(function(e){r=e.get("clientId")});var n=function(e){e.an="MTV Play",e.tid="UA-43955457-6",e.cid=r,s({url:"https://www.google-analytics.com/collect?v=1",method:"POST",headers:{accept:"text/plain"},data:e})},o=function(e,t,i){n({t:"event",ec:e,ea:t,el:i})},a=function(e){n({uid:e})},l=function(e){var t={};t.cm1=e,n(t)};i.sendData=n,i.sendEvent=o,i.setUserid=a,i.setDimension=l},{"./ga":"/Users/ricksmit/dev/mtv-play/api/tracking/ga.js","old-vigour-js/browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js","old-vigour-js/browser/network/ajax":"/Users/ricksmit/dev/vigour-js/browser/network/ajax.js"}],"/Users/ricksmit/dev/mtv-play/api/tracking/ga.js":[function(e,t,i){var s=e("old-vigour-js/browser/cases");!function(e,t,i,s,r,n,o){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,n=t.createElement(i),o=t.getElementsByTagName(i)[0],n.async=1,n.src=s,o.parentNode.insertBefore(n,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),s["native"]?ga("set",{checkProtocolTask:null,storage:"none"}):ga("create","UA-43955457-6","auto"),t.exports=window.ga},{"old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/api/tracking/index.js":[function(e,t,i){function s(e){var t=f.token.val,i=c.api.url+"api/v1/users/"+t+"/activities",s=h.$isOnChannel.val,r={activity:{action:"watch",resource_type:s?"simulcast":"episode",resource_id:e,repository:"sensei",environment:"production"}};g("event","video","watch"),t&&v({url:i,method:"POST",headers:{accept:"application/json"},encode:"json",data:r,error:function(e){console.error("POST",i,r,e)}})}function r(){var e=f.token.val;c.api.url+"/api/v1/users/"+e+"/activities";g("event","sharing","facebook")}var n,o,a=e("./omniture"),l=e("old-vigour-js/browser/events/util").postpone,c=(e("old-vigour-js/browser/ua"),e("old-vigour-js/util/config")),u=(e("old-vigour-js/browser/network/url"),e("./map")),d=e("./context"),p=e("./pagename"),v=e("old-vigour-js/browser/network/ajax"),f=e("../../app/user"),h=e("old-vigour-js/browser/cases"),m=e("./dataform").sendData,g=e("./dataform").sendEvent,y=e("./infoOnline"),b=e("./nuggad");y.init(),i.omniture=a,a.account=c.omniture;var w=l(function(){a.tl.apply(this,arguments),delete a.events},1e3);i.setSearchProp=l(function(e){e&&(a["prop"+u.vars.search[0]]=e)},1e3),i.video=function(e,t,i){if(i||(i=t),t.from&&(i=t.from._cachedPath),"string"==typeof i){var r,n="videoPlay"===e||"videoPause"===e?e:"",l={videostart:[0,.1],video25:[.25,.26],video50:[.5,.51],video75:[.75,.76],videofinished:[.9,.95]};if(e=-1*e,!n)for(var c in l)if(e>l[c][0]&&e<l[c][1]){if(n=c,r=n+i,o&&n+i===o)return;o=n+i;break}if(n&&t.from._parent._parent){var v=p(t.from._parent._parent._parent._cachedPath),f="video > "+v.name;d(v.title,!1,!0),f.split(">").length<7&&(f+=" > seasons 1 > episodes 1"),f+=(" : "+t.get("title","").val).toLowerCase(),h.$isOnChannel.val&&(f=t.get("title","").val),a["eVar"+u.vars.videoName[1]]=f,a.events="event"+u.events[n],"videostart"===n&&(s(t.id.val),y.sendData(v,!0)),a.tl(!0,"o",n)}}},i.event=l(function(e,t,i,s){"swipeUp"===e&&g("event","multiscreen","swipe-up"),a.events="event"+u.events[e],d(),"upgradeMtvFailed"===e&&(a["eVar"+u.events.mtvMobileFailed]=t),"search"===e?w(!0,"o",e):(a.tl(!0,"o",e),delete a.events),"sharingFacebookSucces"===e&&r()},1e3),i.popup=l(function(e){if(e){var t="";d(e,!0,!1),a.pageName=(t+"other > "+e).toLowerCase(),a.t()}},1e3),i.pageView=l(function(e){if(e.from&&(e=e.from._cachedPath),"string"==typeof e){var t=p(e),i=t.title;a.pageName=t.name.toLowerCase(),d(i,!0,~e.lastIndexOf(".")),a.t(),y.sendData(t),b.sendData();var s={t:"appview",aip:1,cd:t.name};n&&(s.uid=n),m(s)}},1e3),h.$isLoggedIn.on(function(){n=h.$isLoggedIn.val?f.id.val:!1})},{"../../app/user":"/Users/ricksmit/dev/mtv-play/app/user.js","./context":"/Users/ricksmit/dev/mtv-play/api/tracking/context.js","./dataform":"/Users/ricksmit/dev/mtv-play/api/tracking/dataform.js","./infoOnline":"/Users/ricksmit/dev/mtv-play/api/tracking/infoOnline.js","./map":"/Users/ricksmit/dev/mtv-play/api/tracking/map.js","./nuggad":"/Users/ricksmit/dev/mtv-play/api/tracking/nuggad.js","./omniture":"/Users/ricksmit/dev/mtv-play/api/tracking/omniture.js","./pagename":"/Users/ricksmit/dev/mtv-play/api/tracking/pagename.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js","old-vigour-js/browser/network/ajax":"/Users/ricksmit/dev/vigour-js/browser/network/ajax.js","old-vigour-js/browser/network/url":"/Users/ricksmit/dev/vigour-js/browser/network/url.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/api/tracking/infoOnline.js":[function(e,t,i){var s=e("old-vigour-js/browser/cases"),r=e("old-vigour-js/app");i.init=function(){var e=document.createElement("script");e.onerror=function(e){console.error(e)},e.src="https://script.ioam.de/iam.js",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)},i.sendData=function(e,t){var i=r.region.val;if(!s["native"]&&"DE"===i){var n={st:"mtv",cp:"mtvplay/",sv:"",co:"kommentar"};if(s.phone&&(n.st="mobmtv"),t)n.cp="mtvplay/videostarted",n.sv="in";else if("discover"===e.name&&(n.cp+="homepage",n.sv="ke"),e.title||"shows"===e.name||"channels"===e.name)if(e.title){var o=e.name.split(">")[0];"tv "===o&&(n.cp="mtvplay/channels"),"shows "===o&&(n.cp="mtvplay/shows")}else n.cp="mtvplay/"+e.name;window.iom.h(n,1)}}},{"old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/api/tracking/lib/AppMeasurement.js":[function(e,t,i){function s(){var e=this;e.version="1.4.1";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var i=t.sb;i||(i=null);var s,r,n=t;try{for(s=n.parent,r=n.location;s&&s.location&&r&&""+s.location!=""+r&&n.location&&""+s.location!=""+n.location&&s.location.host==r.host;)n=s,s=n.parent}catch(o){}e.eb=function(e){try{console.log(e)}catch(t){}},e.ta=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,i){return!e||e.indexOf(t)<0?e:e.split(t).join(i)},e.escape=function(t){var i,s;if(!t)return t;for(t=encodeURIComponent(t),i=0;7>i;i++)s="+~!*()'".substring(i,i+1),t.indexOf(s)>=0&&(t=e.replace(t,s,"%"+s.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=t.indexOf("+")>=0?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(i){}return unescape(t)},e.Va=function(){var i,s=t.location.hostname,r=e.fpCookieDomainPeriods;if(r||(r=e.cookieDomainPeriods),s&&!e.cookieDomain&&!/^[0-9.]+$/.test(s)&&(r=r?parseInt(r):2,r=r>2?r:2,i=s.lastIndexOf("."),i>=0)){for(;i>=0&&r>1;)i=s.lastIndexOf(".",i-1),r--;e.cookieDomain=i>0?s.substring(i):s}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var i=" "+e.d.cookie,s=i.indexOf(" "+t+"="),r=0>s?s:i.indexOf(";",s);return t=0>s?"":e.unescape(i.substring(s+2+t.length,0>r?i.length:r)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,i,s){var r,n=e.Va(),o=e.cookieLifetime;return i=""+i,o=o?(""+o).toUpperCase():"",s&&"SESSION"!=o&&"NONE"!=o&&((r=""!=i?parseInt(o?o:0):-60)?(s=new Date,s.setTime(s.getTime()+1e3*r)):1==s&&(s=new Date,r=s.getYear(),s.setYear(r+5+(1900>r?1900:0)))),t&&"NONE"!=o?(e.d.cookie=t+"="+e.escape(""!=i?i:"[[B]]")+"; path=/;"+(s&&"SESSION"!=o?" expires="+s.toGMTString()+";":"")+(n?" domain="+n+";":""),e.cookieRead(t)==i):0},e.C=[],e.B=function(t,i,s){if(e.ma)return 0;e.maxDelay||(e.maxDelay=250);var r=0,n=(new Date).getTime()+e.maxDelay,o=e.d.qb,a=["webkitvisibilitychange","visibilitychange"];if(o||(o=e.d.rb),o&&"prerender"==o){if(!e.X)for(e.X=1,s=0;s<a.length;s++)e.d.addEventListener(a[s],function(){var t=e.d.qb;t||(t=e.d.rb),"visible"==t&&(e.X=0,e.delayReady())});r=1,n=0}else s||e.q("_d")&&(r=1);return r&&(e.C.push({m:t,a:i,t:n}),e.X||setTimeout(e.delayReady,e.maxDelay)),r},e.delayReady=function(){var t,i=(new Date).getTime(),s=0;for(e.q("_d")&&(s=1);e.C.length>0;){if(t=e.C.shift(),s&&!t.t&&t.t>i){e.C.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ma=1,e[t.m].apply(e,t.a),e.ma=0}},e.setAccount=e.sa=function(t){var i,s;if(!e.B("setAccount",arguments))if(e.account=t,e.allAccounts)for(i=e.allAccounts.concat(t.split(",")),e.allAccounts=[],i.sort(),s=0;s<i.length;s++)(0==s||i[s-1]!=i[s])&&e.allAccounts.push(i[s]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,i){var s,r,n,o,a="";for(n=r="",e.lightProfileID?(s=e.H,(a=e.lightTrackVars)&&(a=","+a+","+e.ba.join(",")+",")):(s=e.c,(e.pe||e.linkType)&&(a=e.linkTrackVars,r=e.linkTrackEvents,e.pe&&(n=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[n])&&(a=e[n].pb,r=e[n].ob)),a&&(a=","+a+","+e.z.join(",")+","),r&&a&&(a+=",events,")),i&&(i=","+i+","),r=0;r<s.length;r++)n=s[r],(o=e[n])&&(!a||a.indexOf(","+n+",")>=0)&&(!i||i.indexOf(","+n+",")>=0)&&t(n,o)},e.J=function(t,i,s,r,n){var o,a,l,c,u="",d=0;if("contextData"==t&&(t="c"),i){for(o in i)if(!Object.prototype[o]&&(!n||o.substring(0,n.length)==n)&&i[o]&&(!s||s.indexOf(","+(r?r+".":"")+o+",")>=0)){if(l=!1,d)for(a=0;a<d.length;a++)o.substring(0,d[a].length)==d[a]&&(l=!0);if(!l&&(""==u&&(u+="&"+t+"."),a=i[o],n&&(o=o.substring(n.length)),o.length>0))if(l=o.indexOf("."),l>0)a=o.substring(0,l),l=(n?n:"")+a+".",d||(d=[]),d.push(l),u+=e.J(a,i,s,r,l);else if("boolean"==typeof a&&(a=a?"true":"false"),a){if("retrieveLightData"==r&&n.indexOf(".contextData.")<0)switch(l=o.substring(0,4),c=o.substring(4),o){case"transactionID":o="xact";break;case"channel":o="ch";break;case"campaign":o="v0";break;default:e.ta(c)&&("prop"==l?o="c"+c:"eVar"==l?o="v"+c:"list"==l?o="l"+c:"hier"==l&&(o="h"+c,a=a.substring(0,255)))}u+="&"+e.escape(o)+"="+e.escape(a)}}""!=u&&(u+="&."+t)}return u},e.Xa=function(){var t,i,s,r,n,o,a,l,c="",u="",d="",p=i="";for(e.lightProfileID?(t=e.H,(u=e.lightTrackVars)&&(u=","+u+","+e.ba.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(u=e.linkTrackVars,d=e.linkTrackEvents,e.pe&&(i=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[i])&&(u=e[i].pb,d=e[i].ob)),u&&(u=","+u+","+e.z.join(",")+","),d&&(d=","+d+",",u&&(u+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.AudienceManagement&&e.AudienceManagement.isReady()&&(c+=e.J("d",e.AudienceManagement.getEventCallConfigParams())),i=0;i<t.length;i++){if(r=t[i],n=e[r],s=r.substring(0,4),o=r.substring(4),!n&&"events"==r&&p&&(n=p,p=""),n&&(!u||u.indexOf(","+r+",")>=0)){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",n.length>255&&(e.pageURLRest=n.substring(255),n=n.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(n="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(n="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(p&&(n+=(""!=n?",":"")+p),d)for(o=n.split(","),n="",s=0;s<o.length;s++)a=o[s],l=a.indexOf("="),l>=0&&(a=a.substring(0,l)),l=a.indexOf(":"),l>=0&&(a=a.substring(0,l)),d.indexOf(","+a+",")>=0&&(n+=(n?",":"")+o[s]);break;case"events2":n="";break;case"contextData":c+=e.J("c",e[r],u,r),n="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(n="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(n="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(c+=e.J("mts",e[r],u,r)),n="";break;default:e.ta(o)&&("prop"==s?r="c"+o:"eVar"==s?r="v"+o:"list"==s?r="l"+o:"hier"==s&&(r="h"+o,n=n.substring(0,255)))}n&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(n):n))}"pev3"==r&&e.g&&(c+=e.g)}return c},e.u=function(e){var t=e.tagName;return""+e.wb!="undefined"||""+e.ib!="undefined"&&"HTML"!=(""+e.ib).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.oa=function(e){var t,i,s,r=e.href?e.href:"";return t=r.indexOf(":"),i=r.indexOf("?"),s=r.indexOf("/"),r&&(0>t||i>=0&&t>i||s>=0&&t>s)&&(i=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),r=(i?i+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>t?0:t)+"/":"")+r),r},e.D=function(t){var i,s,r=e.u(t),n="",o=0;return r&&(i=t.protocol,s=t.onclick,!t.href||"A"!=r&&"AREA"!=r||s&&i&&!(i.toLowerCase().indexOf("javascript")<0)?s?(n=e.replace(e.replace(e.replace(e.replace(""+s,"\r",""),"\n",""),"	","")," ",""),o=2):"INPUT"==r||"SUBMIT"==r?(t.value?n=t.value:t.innerText?n=t.innerText:t.textContent&&(n=t.textContent),o=3):t.src&&"IMAGE"==r&&(n=t.src):n=e.oa(t),n)?{id:n.substring(0,100),type:o}:0},e.tb=function(t){for(var i=e.u(t),s=e.D(t);t&&!s&&"BODY"!=i;)(t=t.parentElement?t.parentElement:t.parentNode)&&(i=e.u(t),s=e.D(t));return s&&"BODY"!=i||(t=0),t&&(i=t.onclick?""+t.onclick:"",i.indexOf(".tl(")>=0||i.indexOf(".trackLink(")>=0)&&(t=0),t},e.hb=function(){var i,s,r,n,o=e.linkObject,a=e.linkType,l=e.linkURL;if(e.ca=1,o||(e.ca=0,o=e.clickObject),o){for(i=e.u(o),s=e.D(o);o&&!s&&"BODY"!=i;)(o=o.parentElement?o.parentElement:o.parentNode)&&(i=e.u(o),s=e.D(o));if(s&&"BODY"!=i||(o=0),o){var c=o.onclick?""+o.onclick:"";(c.indexOf(".tl(")>=0||c.indexOf(".trackLink(")>=0)&&(o=0)}}else e.ca=1;if(!l&&o&&(l=e.oa(o)),l&&!e.linkLeaveQueryString&&(r=l.indexOf("?"),r>=0&&(l=l.substring(0,r))),!a&&l){var u,d=0,p=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(c=l.toLowerCase(),r=c.indexOf("?"),n=c.indexOf("#"),r>=0?n>=0&&r>n&&(r=n):r=n,r>=0&&(c=c.substring(0,r)),r=e.linkDownloadFileTypes.toLowerCase().split(","),n=0;n<r.length;n++)(u=r[n])&&c.substring(c.length-(u.length+1))=="."+u&&(a="d");if(e.trackExternalLinks&&!a&&(c=l.toLowerCase(),e.ra(c))&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),r=0,e.linkExternalFilters?(r=e.linkExternalFilters.toLowerCase().split(","),d=1):e.linkInternalFilters&&(r=e.linkInternalFilters.toLowerCase().split(",")),r)){for(n=0;n<r.length;n++)u=r[n],c.indexOf(u)>=0&&(p=1);p?d&&(a="e"):d||(a="e")}}e.linkObject=o,e.linkURL=l,e.linkType=a,(e.trackClickMap||e.trackInlineStats)&&(e.g="",o&&(a=e.pageName,l=1,o=o.sourceIndex,a||(a=e.pageURL,l=0),t.s_objectID&&(s.id=t.s_objectID,o=s.type=1),a&&s&&s.id&&i&&(e.g="&pid="+e.escape(a.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(s.id.substring(0,100))+(s.type?"&oidt="+s.type:"")+"&ot="+i+(o?"&oi="+o:""))))},e.Ya=function(){var t=e.ca,i=e.linkType,s=e.linkURL,r=e.linkName;if(i&&(s||r)&&(i=i.toLowerCase(),"d"!=i&&"e"!=i&&(i="o"),e.pe="lnk_"+i,e.pev1=s?e.escape(s):"",e.pev2=r?e.escape(r):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){i={},s=0;var n,o,a,l=e.cookieRead("s_sq"),c=l?l.split("&"):0;if(l=0,c)for(n=0;n<c.length;n++)o=c[n].split("="),r=e.unescape(o[0]).split(","),o=e.unescape(o[1]),i[o]=r;if(r=e.account.split(","),t||e.g){t&&!e.g&&(l=1);for(o in i)if(!Object.prototype[o])for(n=0;n<r.length;n++)for(l&&(a=i[o].join(","),a==e.account&&(e.g+=("&"!=o.charAt(0)?"&":"")+o,i[o]=[],s=1)),c=0;c<i[o].length;c++)a=i[o][c],a==r[n]&&(l&&(e.g+="&u="+e.escape(a)+("&"!=o.charAt(0)?"&":"")+o+"&u=0"),i[o].splice(c,1),s=1);if(t||(s=1),s){l="",n=2,!t&&e.g&&(l=e.escape(r.join(","))+"="+e.escape(e.g),n=1);for(o in i)!Object.prototype[o]&&n>0&&i[o].length>0&&(l+=(l?"&":"")+e.escape(i[o].join(","))+"="+e.escape(o),n--);e.cookieWrite("s_sq",l)}}}return t},e.Za=function(){if(!e.nb){var t,i,s=new Date,r=n.location,o=i=t="",a="",l="",c="1.2",u=e.cookieWrite("s_cc","true",0)?"Y":"N",d="",p="";if(s.setUTCDate&&(c="1.3",0..toPrecision&&(c="1.5",s=[],s.forEach))){c="1.6",i=0,t={};try{i=new Iterator(t),i.next&&(c="1.7",s.reduce&&(c="1.8",c.trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(v){}}t=screen.width+"x"+screen.height,o=navigator.javaEnabled()?"Y":"N",i=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,a=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),d=e.b.ub(r)?"Y":"N"}catch(f){}try{e.b.addBehavior("#default#clientCaps"),p=e.b.connectionType}catch(h){}e.resolution=t,e.colorDepth=i,e.javascriptVersion=c,e.javaEnabled=o,e.cookiesEnabled=u,e.browserWidth=a,e.browserHeight=l,e.connectionType=p,e.homepage=d,e.nb=1}},e.I={},e.loadModule=function(i,s){var r=e.I[i];if(!r){r=t["AppMeasurement_Module_"+i]?new t["AppMeasurement_Module_"+i](e):{},e.I[i]=e[i]=r,r.Fa=function(){return r.Ja},r.Ka=function(t){(r.Ja=t)&&(e[i+"_onLoad"]=t,e.B(i+"_onLoad",[e,r],1)||t(e,r))};try{Object.defineProperty?Object.defineProperty(r,"onLoad",{get:r.Fa,set:r.Ka}):r._olc=1}catch(n){r._olc=1}}s&&(e[i+"_onLoad"]=s,e.B(i+"_onLoad",[e,r],1)||s(e,r))},e.q=function(t){var i,s;for(i in e.I)if(!Object.prototype[i]&&(s=e.I[i])&&(s._olc&&s.onLoad&&(s._olc=0,s.onLoad(e,s)),s[t]&&s[t]()))return 1;return 0},e.bb=function(){var t=Math.floor(1e13*Math.random()),i=e.visitorSampling,s=e.visitorSamplingGroup;s="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(s?"_"+s:"");var r=e.cookieRead(s);if(i){if(r&&(r=parseInt(r)),!r){if(!e.cookieWrite(s,t))return 0;r=t}if(r%1e4>v)return 0}return 1},e.K=function(t,i){var s,r,n,o,a,l;for(s=0;2>s;s++)for(r=s>0?e.ia:e.c,n=0;n<r.length;n++)if(o=r[n],(a=t[o])||t["!"+o]){if(!i&&("contextData"==o||"retrieveLightData"==o)&&e[o])for(l in e[o])a[l]||(a[l]=e[o][l]);e[o]=a}},e.Aa=function(t,i){var s,r,n,o;for(s=0;2>s;s++)for(r=s>0?e.ia:e.c,n=0;n<r.length;n++)o=r[n],t[o]=e[o],!i&&!t[o]&&(t["!"+o]=1)},e.Ua=function(e){var t,i,s,r,n,o,a=0,l="",c="";if(e&&e.length>255&&(t=""+e,i=t.indexOf("?"),i>0&&(o=t.substring(i+1),t=t.substring(0,i),r=t.toLowerCase(),s=0,"http://"==r.substring(0,7)?s+=7:"https://"==r.substring(0,8)&&(s+=8),i=r.indexOf("/",s),i>0&&(r=r.substring(s,i),n=t.substring(i),t=t.substring(0,i),r.indexOf("google")>=0?a=",q,ie,start,search_key,word,kw,cd,":r.indexOf("yahoo.co")>=0&&(a=",p,ei,"),a&&o)))){if((e=o.split("&"))&&e.length>1){for(s=0;s<e.length;s++)r=e[s],i=r.indexOf("="),i>0&&a.indexOf(","+r.substring(0,i)+",")>=0?l+=(l?"&":"")+r:c+=(c?"&":"")+r;l&&c?o=l+"&"+c:c=""}i=253-(o.length-c.length)-t.length,e=t+(i>0?n.substring(0,i):"")+"?"+o}return e},e.U=!1,e.O=!1,e.Ia=function(t){e.marketingCloudVisitorID=t,e.O=!0,e.k()},e.R=!1,e.L=!1,e.Ca=function(t){e.analyticsVisitorID=t,e.L=!0,e.k()},e.T=!1,e.N=!1,e.Ea=function(t){e.audienceManagerLocationHint=t,e.N=!0,e.k()},e.S=!1,e.M=!1,e.Da=function(t){e.audienceManagerBlob=t,e.M=!0,e.k()},e.isReadyToTrack=function(){var t=!0,i=e.visitor;return i&&i.isAllowed()&&(!e.U&&!e.marketingCloudVisitorID&&i.getMarketingCloudVisitorID&&(e.U=!0,e.marketingCloudVisitorID=i.getMarketingCloudVisitorID([e,e.Ia]),e.marketingCloudVisitorID)&&(e.O=!0),!e.R&&!e.analyticsVisitorID&&i.getAnalyticsVisitorID&&(e.R=!0,e.analyticsVisitorID=i.getAnalyticsVisitorID([e,e.Ca]),e.analyticsVisitorID)&&(e.L=!0),!e.T&&!e.audienceManagerLocationHint&&i.getAudienceManagerLocationHint&&(e.T=!0,e.audienceManagerLocationHint=i.getAudienceManagerLocationHint([e,e.Ea]),e.audienceManagerLocationHint)&&(e.N=!0),!e.S&&!e.audienceManagerBlob&&i.getAudienceManagerBlob&&(e.S=!0,e.audienceManagerBlob=i.getAudienceManagerBlob([e,e.Da]),e.audienceManagerBlob)&&(e.M=!0),(e.U&&!e.O&&!e.marketingCloudVisitorID||e.R&&!e.L&&!e.analyticsVisitorID||e.T&&!e.N&&!e.audienceManagerLocationHint||e.S&&!e.M&&!e.audienceManagerBlob)&&(t=!1)),t},e.j=i,e.l=0,e.callbackWhenReadyToTrack=function(t,s,r){var n;n={},n.Oa=t,n.Na=s,n.La=r,e.j==i&&(e.j=[]),e.j.push(n),0==e.l&&(e.l=setInterval(e.k,100))},e.k=function(){var t;if(e.isReadyToTrack()&&(e.l&&(clearInterval(e.l),e.l=0),e.j!=i))for(;e.j.length>0;)t=e.j.shift(),t.Na.apply(t.Oa,t.La)},e.Ga=function(t){var s,r,n=i,o=i;if(!e.isReadyToTrack()){if(s=[],t!=i)for(r in n={},t)n[r]=t[r];return o={},e.Aa(o,!0),s.push(n),s.push(o),e.callbackWhenReadyToTrack(e,e.track,s),!0}return!1},e.Wa=function(){var t,i=e.cookieRead("s_fid"),s="",r="";t=8;var n=4;if(!i||i.indexOf("-")<0){for(i=0;16>i;i++)t=Math.floor(Math.random()*t),s+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*n),r+="0123456789ABCDEF".substring(t,t+1),t=n=16;i=s+"-"+r}return e.cookieWrite("s_fid",i,1)||(i=0),i},e.t=e.track=function(i,s){var r,o=new Date,a="s"+Math.floor(o.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=o.getYear();l="t="+e.escape(o.getDate()+"/"+o.getMonth()+"/"+(1900>l?l+1900:l)+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+" "+o.getDay()+" "+o.getTimezoneOffset()),e.visitor&&(e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData))),e.q("_s"),e.B("track",arguments)||(e.Ga(i)||(s&&e.K(s),i&&(r={},e.Aa(r,0),e.K(i)),e.bb()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.Wa()),e.hb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(o.getTime()/1e3)),o=t.location,e.pageURL||(e.pageURL=o.href?o.href:o),e.referrer||e.Ba||(e.referrer=n.document.referrer,e.Ba=1),e.referrer=e.Ua(e.referrer),e.q("_g")),e.Ya()&&!e.abort&&(e.Za(),l+=e.Xa(),e.gb(a,l),e.q("_t"),e.referrer=""))),i&&e.K(r,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.vb=e.pe=e.pev1=e.pev2=e.pev3=e.g=0)},e.tl=e.trackLink=function(t,i,s,r,n){return e.linkObject=t,e.linkType=i,e.linkName=s,n&&(e.i=t,e.p=n),e.track(r)},e.trackLight=function(t,i,s,r){return e.lightProfileID=t,e.lightStoreForSeconds=i,e.lightIncrementBy=s,e.track(r)},e.clearVars=function(){var t,i;for(t=0;t<e.c.length;t++)i=e.c[t],("prop"==i.substring(0,4)||"eVar"==i.substring(0,4)||"hier"==i.substring(0,4)||"list"==i.substring(0,4)||"channel"==i||"events"==i||"eventList"==i||"products"==i||"productList"==i||"purchaseID"==i||"transactionID"==i||"state"==i||"zip"==i||"campaign"==i)&&(e[i]=void 0)},e.tagContainerMarker="",e.gb=function(t,i){var s,r=e.trackingServer;s="";var n=e.dc,o="sc.",a=e.visitorNamespace;r?e.trackingServerSecure&&e.ssl&&(r=e.trackingServerSecure):(a||(a=e.account,r=a.indexOf(","),r>=0&&(a=a.substring(0,r)),a=a.replace(/[^A-Za-z0-9]/g,"")),s||(s="2o7.net"),n=n?(""+n).toLowerCase():"d1","2o7.net"==s&&("d1"==n?n="112":"d2"==n&&(n="122"),o=""),r=a+"."+n+"."+o+s),s=e.ssl?"https://":"http://",n=e.AudienceManagement&&e.AudienceManagement.isReady(),s+=r+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(n?"10":"1")+"/JS-"+e.version+(e.mb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(n?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+i+"&AQE=1",e.Sa(s),e.Y()},e.Sa=function(t){e.e||e.$a(),e.e.push(t),e.aa=e.r(),e.za()},e.$a=function(){e.e=e.cb(),e.e||(e.e=[])},e.cb=function(){var i,s;if(e.fa()){try{(s=t.localStorage.getItem(e.da()))&&(i=t.JSON.parse(s))}catch(r){}return i}},e.fa=function(){var i=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(i=!1),i},e.pa=function(){var t=0;return e.e&&(t=e.e.length),e.v&&t++,t},e.Y=function(){if(!e.v)if(e.qa=i,e.ea)e.aa>e.G&&e.xa(e.e),e.ha(500);else{var t=e.Ma();t>0?e.ha(t):(t=e.na())&&(e.v=1,e.fb(t),e.jb(t))}},e.ha=function(t){e.qa||(t||(t=0),e.qa=setTimeout(e.Y,t))},e.Ma=function(){var t;return!e.trackOffline||e.offlineThrottleDelay<=0?0:(t=e.r()-e.wa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.na=function(){return e.e.length>0?e.e.shift():void 0},e.fb=function(t){if(e.debugTracking){var i="AppMeasurement Debug: "+t;t=t.split("&");var s;for(s=0;s<t.length;s++)i+="\n	"+e.unescape(t[s]);e.eb(i)}},e.Ha=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Q=!1;var a;try{a=JSON.parse('{"x":"y"}')}catch(c){a=null}a&&"y"==a.x?(e.Q=!0,e.P=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.P=function(e){return t.$.parseJSON(e)},e.Q=!0):e.P=function(){return null},e.jb=function(i){var s,r,n;if(e.Ha()&&i.length>2047&&("undefined"!=typeof XMLHttpRequest&&(s=new XMLHttpRequest,"withCredentials"in s?r=1:s=0),!s&&"undefined"!=typeof XDomainRequest&&(s=new XDomainRequest,r=2),s&&e.AudienceManagement&&e.AudienceManagement.isReady())&&(e.Q?s.ja=!0:s=0),!s&&e.ab&&(i=i.substring(0,2047)),!s&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(s=e.d.createElement("SCRIPT"))&&"async"in s&&((n=(n=e.d.getElementsByTagName("HEAD"))&&n[0]?n[0]:e.d.body)?(s.type="text/javascript",s.setAttribute("async","async"),r=3):s=0),s||(s=new Image,s.alt=""),s.la=function(){try{e.ga&&(clearTimeout(e.ga),e.ga=0),s.timeout&&(clearTimeout(s.timeout),s.timeout=0)}catch(t){}},s.onload=s.lb=function(){if(s.la(),e.Ra(),e.V(),e.v=0,e.Y(),s.ja){s.ja=!1;try{var t=e.P(s.responseText);AudienceManagement.passData(t)}catch(i){}}},s.onabort=s.onerror=s.Ta=function(){s.la(),(e.trackOffline||e.ea)&&e.v&&e.e.unshift(e.Qa),e.v=0,e.aa>e.G&&e.xa(e.e),e.V(),e.ha(500)},s.onreadystatechange=function(){4==s.readyState&&(200==s.status?s.lb():s.Ta())},e.wa=e.r(),1==r||2==r){var o=i.indexOf("?");n=i.substring(0,o),o=i.substring(o+1),o=o.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==r?(s.open("POST",n,!0),s.send(o)):2==r&&(s.open("POST",n),s.send(o))}else if(s.src=i,3==r){if(e.ua)try{n.removeChild(e.ua)}catch(a){}n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),e.ua=e.Pa}s.abort&&(e.ga=setTimeout(s.abort,5e3)),e.Qa=i,e.Pa=t["s_i_"+e.replace(e.account,",","_")]=s,(e.useForcedLinkTracking&&e.A||e.p)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.W=setTimeout(e.V,e.forcedLinkTrackingTimeout))},e.Ra=function(){if(e.fa()&&!(e.va>e.G))try{t.localStorage.removeItem(e.da()),e.va=e.r()}catch(i){}},e.xa=function(i){if(e.fa()){e.za();try{t.localStorage.setItem(e.da(),t.JSON.stringify(i)),e.G=e.r()}catch(s){}}},e.za=function(){if(e.trackOffline)for((!e.offlineLimit||e.offlineLimit<=0)&&(e.offlineLimit=10);e.e.length>e.offlineLimit;)e.na()},e.forceOffline=function(){e.ea=!0},e.forceOnline=function(){
e.ea=!1},e.da=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.r=function(){return(new Date).getTime()},e.ra=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},e.setTagContainer=function(t){var i,s,r;for(e.mb=t,i=0;i<e._il.length;i++)if((s=e._il[i])&&"s_l"==s._c&&s.tagContainerName==t){if(e.K(s),s.lmq)for(i=0;i<s.lmq.length;i++)r=s.lmq[i],e.loadModule(r.n);if(s.ml)for(r in s.ml)if(e[r])for(i in t=e[r],r=s.ml[r])!Object.prototype[i]&&("function"!=typeof r[i]||(""+r[i]).indexOf("s_c_il")<0)&&(t[i]=r[i]);if(s.mmq)for(i=0;i<s.mmq.length;i++)r=s.mmq[i],e[r.m]&&(t=e[r.m],t[r.f]&&"function"==typeof t[r.f]&&(r.a?t[r.f].apply(t,r.a):t[r.f].apply(t)));if(s.tq)for(i=0;i<s.tq.length;i++)e.track(s.tq[i]);s.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(i,s,r){var n;return s||(s=e.pageURL?e.pageURL:t.location),r||(r="&"),i&&s&&(s=""+s,n=s.indexOf("?"),n>=0&&(s=r+s.substring(n+1)+r,n=s.indexOf(r+i+"="),n>=0&&(s=s.substring(n+r.length+i.length+1),n=s.indexOf(r),n>=0&&(s=s.substring(0,n)),s.length>0)))?e.unescape(s):""}},e.z=["supplementalDataID","timestamp","dynamicVariablePrefix","visitorID","marketingCloudVisitorID","analyticsVisitorID","audienceManagerLocationHint","authState","fid","vmk","visitorMigrationKey","visitorMigrationServer","visitorMigrationServerSecure","charSet","visitorNamespace","cookieDomainPeriods","fpCookieDomainPeriods","cookieLifetime","pageName","pageURL","referrer","contextData","currencyCode","lightProfileID","lightStoreForSeconds","lightIncrementBy","retrieveLightProfiles","deleteLightProfiles","retrieveLightData","pe","pev1","pev2","pev3","pageURLRest"],e.c=e.z.concat(["purchaseID","variableProvider","channel","server","pageType","transactionID","campaign","state","zip","events","events2","products","audienceManagerBlob","tnt"]),e.ba=["timestamp","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","contextData","lightProfileID","lightStoreForSeconds","lightIncrementBy"],e.H=e.ba.slice(0),e.ia=["account","allAccounts","debugTracking","visitor","trackOffline","offlineLimit","offlineThrottleDelay","offlineFilename","usePlugins","doPlugins","configURL","visitorSampling","visitorSamplingGroup","linkObject","clickObject","linkURL","linkName","linkType","trackDownloadLinks","trackExternalLinks","trackClickMap","trackInlineStats","linkLeaveQueryString","linkTrackVars","linkTrackEvents","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","useForcedLinkTracking","forcedLinkTrackingTimeout","trackingServer","trackingServerSecure","ssl","abort","mobile","dc","lightTrackVars","maxDelay","expectSupplementalData","AudienceManagement"];for(s=0;250>=s;s++)76>s&&(e.c.push("prop"+s),e.H.push("prop"+s)),e.c.push("eVar"+s),e.H.push("eVar"+s),6>s&&e.c.push("hier"+s),4>s&&e.c.push("list"+s);s=["latitude","longitude","resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage"],e.c=e.c.concat(s),e.z=e.z.concat(s),e.ssl=t.location.protocol.toLowerCase().indexOf("https")>=0,e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.wa=0,e.aa=0,e.G=0,e.va=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{e.ab="Microsoft Internet Explorer"==navigator.appName}catch(u){}e.V=function(){e.W&&(t.clearTimeout(e.W),e.W=i),e.i&&e.A&&e.i.dispatchEvent(e.A),e.p&&("function"==typeof e.p?e.p():e.i&&e.i.href&&(e.d.location=e.i.href)),e.i=e.A=e.p=0},e.ya=function(){e.b=e.d.body,e.b?(e.o=function(i){var s,r,n,o,a;if(!(e.d&&e.d.getElementById("cppXYctnr")||i&&i["s_fe_"+e._in])){if(e.ka){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.o,!0),void(e.ka=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.o,!1)}else e.useForcedLinkTracking=0;e.clickObject=i.srcElement?i.srcElement:i.target;try{if(!e.clickObject||e.F&&e.F==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.F=e.clickObject;if(e.Z&&(clearTimeout(e.Z),e.Z=0),e.Z=setTimeout(function(){e.F==l&&(e.F=0)},1e4),n=e.pa(),e.track(),n<e.pa()&&e.useForcedLinkTracking&&i.target){for(o=i.target;o&&o!=e.b&&"A"!=o.tagName.toUpperCase()&&"AREA"!=o.tagName.toUpperCase();)o=o.parentNode;if(o&&(a=o.href,e.ra(a)||(a=0),r=o.target,i.target.dispatchEvent&&a&&(!r||"_self"==r||"_top"==r||"_parent"==r||t.name&&r==t.name))){try{s=e.d.createEvent("MouseEvents")}catch(c){s=new t.MouseEvent}if(s){try{s.initMouseEvent("click",i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}catch(u){s=0}s&&(s["s_fe_"+e._in]=s.s_fe=1,i.stopPropagation(),i.kb&&i.kb(),i.preventDefault(),e.i=i.target,e.A=s)}}}}}catch(d){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.o):e.b&&e.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&e.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&t.MouseEvent)&&(e.ka=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.o,!0)),e.b.addEventListener("click",e.o,!1))):setTimeout(e.ya,30)},e.ya()}function r(e){var t,i,r,n,o,a=window.s_c_il,l=e.split(","),c=0;if(a)for(i=0;!c&&i<a.length;){if(t=a[i],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)c=1;else for(r=t.account?t.account:t.oun,r=t.allAccounts?t.allAccounts:r.split(","),n=0;n<l.length;n++)for(o=0;o<r.length;o++)l[n]==r[o]&&(c=1);i++}return c||(t=new s),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function n(){var e,t,i,s=window,n=s.s_giq;if(n)for(e=0;e<n.length;e++)t=n[e],i=r(t.oun),i.setAccount(t.un),i.setTagContainer(t.tagContainerName);s.s_giq=0}s.getInstance=r,window.s_objectID||(window.s_objectID=0),n(),window.AppMeasurement=s},{}],"/Users/ricksmit/dev/mtv-play/api/tracking/map.js":[function(e,t,i){i.vars={branch:[13,13],title:[49,49],version:[3,3],role:[4,4],device:[5,5],region:[6,6],lang:[7,7],age:[19,19],gender:[20,20],weekDay:[8,8],hour:[9,9],"native":[21,21],userId:[10,10],connected:[16,16],network:[11,11],networkOperator:[12,12],secondscreen:[17,17],devicesPresent:[18,18],search:[14,14],mtvMobileFailed:[null,22],loginStyle:[15,15],teaserCollection:[null,23],teaserClicked:[null,24],videoName:[null,33],franchiseName:[49,49],subscriptionFailure:[null,25]},i.events={appstart:8,menu:9,enable3g:10,disable3g:11,favoAdded:12,favoRemoved:13,sharingFacebookStart:34,sharingFacebookSucces:35,swipeUp:32,swipeDown:33,sharingEmailStart:16,sharingEmailSucces:17,search:18,upgradeMonthFailed:26,upgradeMonthSucces:25,upgradeAnFailed:28,upgradeAnSucces:27,upgradeMtvFailed:30,upgradeMtvSucces:29,loginSucces:23,loginFailed:24,signupSucces:21,signupFailed:22,introSkipped:20,introCompleted:19,teaserClick:31,videofinished:76,videoPlay:6,videoPause:7,videostart:15,video25:2,video50:3,video75:4,purchaseFailed:35,receiptFailed:36},i.weekDays=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]},{}],"/Users/ricksmit/dev/mtv-play/api/tracking/nuggad.js":[function(e,t,i){i.sendData=function(){var e=encodeURIComponent(""),t=187535816,i=1864594024,s=("https:"==document.location.protocol?"https://":"http://")+"mtv.nuggad.net";"undefined"!=typeof window&&window.nuggad&&window.nuggad.init&&window.nuggad.init({"rptn-url":s},function(s){s.rc({nuggn:t,nuggsid:i,nuggtg:e})})}},{}],"/Users/ricksmit/dev/mtv-play/api/tracking/omniture.js":[function(e,t,i){e("./lib/AppMeasurement.js"),e("./map");t.exports=new AppMeasurement},{"./lib/AppMeasurement.js":"/Users/ricksmit/dev/mtv-play/api/tracking/lib/AppMeasurement.js","./map":"/Users/ricksmit/dev/mtv-play/api/tracking/map.js"}],"/Users/ricksmit/dev/mtv-play/api/tracking/pagename.js":[function(e,t,i){var s=e("./omniture"),r=(e("old-vigour-js/browser/events/util").postpone,e("old-vigour-js/browser/ua"),e("old-vigour-js/util/config"),e("old-vigour-js/browser/network/url"));e("old-vigour-js/util"),e("./map"),e("old-vigour-js/util/config"),e("./context");t.exports=function(e){"string"!=typeof e&&(e="");var t,i,n,o,a=s.user,l=a.cloud,c=e.split("."),u="";return c.length>1?(i=c[4],~e.indexOf("shows")?(t=l.data.get(e).checkParent("_parent._name","shows").get("title","").val,c[4]=t,c[6]&&c[6]++,c[8]&&c[8]++):(t=l.data.get(e+".title","").val,c[4]=t),c[4]||(n=r.val&&r.val.match(/\-(.*?)$/),n&&n[1]?(o=n[1].indexOf("/"),t=c[4]=-1!==o?n[1].slice(0,o):n[1]):c[4]=i),u+=~e.indexOf(".channels.")?"tv > "+c.slice(4).join(" > "):c.slice(3).join(" > ")):u+=e,{current:e,name:u,title:t}}},{"./context":"/Users/ricksmit/dev/mtv-play/api/tracking/context.js","./map":"/Users/ricksmit/dev/mtv-play/api/tracking/map.js","./omniture":"/Users/ricksmit/dev/mtv-play/api/tracking/omniture.js","old-vigour-js/browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js","old-vigour-js/browser/network/url":"/Users/ricksmit/dev/vigour-js/browser/network/url.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/api/url.js":[function(e,t,i){var s=e("old-vigour-js/value"),r=e("old-vigour-js/browser/cases");t.exports=i=new s({apiDefer:function(e,t){if(this.clearCache(),"string"!=typeof this.val)e(!0);else if(r["native"])navigator.app&&navigator.app.loadUrl?(navigator.app.loadUrl(this.val,{openExternal:!0}),e("success")):r.windowsMobile?(window.open(this.val,"_system"),e("success")):r.ios?(window.open(this.val,"_system"),e("success")):(this.type="can not find navigator.app.loadUrl",e("error"));else{var i=window.open(this.val,this.val);i?(i.focus(),e("success")):e("error")}}}),i._name="_urlApi"},{"old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/user.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=s.api.url;t.exports=i=new r({newsletter:{ajax:{url:function(e,t){return this._parent.token&&this._parent.token.val?n+"api/v1/users/"+this._parent.token.val+".json":void 0},method:"PUT",encode:"json",data:function(e,t){return this.clearCache(),(this.val===!0||this.val===!1)&&{user:{accept_newsletter:this.val,app_version:window["package"].version}}}}},role:{poll:!1,ajax:{url:function(e,t){return this._parent.token&&this._parent.token.val&&n+"api/v1/users/"+this._parent.token.val+".json"},defer:function(e,t,i,s){s.user?(this.val=t[0]=s.user.role,e()):e(!0)}}}}),i.role.poll.on(function(e){e===!0&&(e=1e3),e>0?(this._d&&clearInterval(this._id),this._id=setInterval(function(){i.role._update()},e)):(clearInterval(this._id),this._d=null)}),i._name="userApi"},{"old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/api/util.js":[function(e,t,i){var s=(e("old-vigour-js/util/config"),{emailExists:"Email has already been taken",invalid:"Username or password is invalid",expired:"Your confirmation link expired. Please sign up again using the app.",mobileTimeout:"Timeout error",terms:"MTV country terms and conditions must be accepted",email:"Email can't be blank",password:"Password can't be blank",privacy:"Data protection terms and conditions must be accepted",numberExists:"Mobile number has already been taken",subscription:"Subscription is not verified",resetTokenExpired:"Outdated password reset token.",invalidPasswordToken:"Invalid password reset token.",invalidEmail:"Email is invalid"});i.findError=function(e){if(e){var t=e&&e.errors;if(e.error_message)for(var i in s)if(e.error_message===s[i])return i;if(t instanceof Array)for(var r,n=t.length;r=t[--n];)for(var i in s)if(r.description===s[i])return i;return"invalid"}}},{"old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/api/verify.js":[function(e,t,i){var s=e("old-vigour-js/util/config"),r=e("old-vigour-js/value"),n=e("./util"),o=(e("old-vigour-js/browser/cases"),s.api.url);t.exports=i=new r({email:{ajax:{url:function(e,t){return"string"==typeof t&&o+"api/v2/confirmations/"+t+".json"},method:"GET",defer:function(e,t,i,s){s.success?(this.set("token",s.authentication_token),e("success")):(this.type=i?i.message:n.findError(s),e("error"))}}}}),i._name="verify"},{"./util":"/Users/ricksmit/dev/mtv-play/api/util.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/app/config.js":[function(e,t,i){t.exports=i=e("old-vigour-js/util/config");var s,r,n=e("old-vigour-js/browser/cases"),o=e("old-vigour-js/value"),a=i.dictionary,l=i.cloud;i.language=new o,i.region=new o,i.dictionary="webtranslateit"===a?function(e){return"https://webtranslateit.com/api/projects/"+i.webtranslateit.token+"/files/"+i.webtranslateit.files[e]+"/locales/"+e}:function(e){return a.replace("$language",e)},l&&"-"===l[0]&&(s=n.tv?"http://":"https://",r="https://"===s?443:80,i.cloud=new o({val:i.region,transform:function(e,t){return"PL"===t&&(t="po"),t?s+t.toLowerCase()+l+":"+r:!1}})),n["native"]||(i.hashUrl=!1)},{"old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/app/index.js":[function(e,t,i){var s,r=t.exports=e("old-vigour-js/app").inject(e("old-vigour-js/app/content"),e("old-vigour-js/app/user")),n=r.config=e("./config"),o=e("old-vigour-js/value"),a=e("old-vigour-js/object"),l=r.cases,c=e("./user"),u=e("old-vigour-js/util");r.cloud={api:{auth:n.api.url+"api/v1/users/"},url:n.cloud},r.state.val={"default":"first"},r.frame=e("old-vigour-js/browser/animation/frame"),r.ua=e("old-vigour-js/browser/ua"),r.util=e("./util"),r.versionData.on(function(){r.notification.val="appUpgrade"}),r.telCode=new o({"default":{val:r.region,transform:function(e,t){return t&&t.toLowerCase()}}});var d=document.referrer;if(d)for(var p=["mtv.de","at.mtv.de","mtv.ch","mtv.nl","mtv.be","fr.mtv.be","nl.mtv.be","mtv.dk","mtv.no","mtv.se","musictelevision.fi","mtv.pl"],v=p.length-1;v>=0;v--){var f=p[v];if(-1!==d.indexOf(f)){r.fromMtvSite=d;break}}r.cloud.subscribe({mtvData:{operators:{$:{$:!0}}}}),l.$allowPlayback=new o({val:!0,transform:function(e,t){return l["native"]?!0:t}}),l["native"]||(l.$allowPlayback.on(function(){this.val||(r.popup.val="comingSoon")}),e("../components/smartbanner")),l.$hasOperator=new o(!1),l.$hasOperatorRegistration=new o(!1),r.operators=new a({}),r.region.on(function(){var e=r.region.val;if("string"==typeof e){var t=r.country||r.region.val;t&&~n.availableRegions.indexOf(t.toUpperCase())?l.$allowPlayback.val=!0:l.$allowPlayback.val=!1;var i=r.cloud.data.get(["mtvData","operators"]),s=function(){var t=!1;this.$length.val&&this.each(function(i){this.region.val.toLowerCase()===e.toLowerCase()&&(t=!0,r.operators.set(i,this),this.support_classic_registration.val||(l.$hasOperatorRegistration.val=!0))}),l.$hasOperator.val=t};i.$length.val?s.call(i):i.once(s)}}),l.$fromMtvSite=new o(!!r.fromMtvSite),l.$storeAvailable=new o(l["native"]&&(l.ios||l.android||l.windowsMobile)),l.$hasMobile=new o({val:function(){return u.checkArray(n.mtvmobile,r.region.val.toLowerCase())!==!1},listen:r.region}),e("./intro"),e("./localisation"),s=r.api=e("../api"),s.user.val={token:c.token,newsletter:c.accept_newsletter},l.$hasEpisodePass=new o({val:s.info.episode_pass_available}),s.info.val=r.region,e("./login"),e("./share"),e("./register"),e("./upgrade"),e("./playback"),e("./popup"),e("./tracking"),e("./init")},{"../api":"/Users/ricksmit/dev/mtv-play/api/index.js","../components/smartbanner":"/Users/ricksmit/dev/mtv-play/components/smartbanner/index.js","./config":"/Users/ricksmit/dev/mtv-play/app/config.js","./init":"/Users/ricksmit/dev/mtv-play/app/init.js","./intro":"/Users/ricksmit/dev/mtv-play/app/intro.js","./localisation":"/Users/ricksmit/dev/mtv-play/app/localisation.js","./login":"/Users/ricksmit/dev/mtv-play/app/login.js","./playback":"/Users/ricksmit/dev/mtv-play/app/playback.js","./popup":"/Users/ricksmit/dev/mtv-play/app/popup.js","./register":"/Users/ricksmit/dev/mtv-play/app/register.js","./share":"/Users/ricksmit/dev/mtv-play/app/share.js","./tracking":"/Users/ricksmit/dev/mtv-play/app/tracking.js","./upgrade":"/Users/ricksmit/dev/mtv-play/app/upgrade.js","./user":"/Users/ricksmit/dev/mtv-play/app/user.js","./util":"/Users/ricksmit/dev/mtv-play/app/util.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/content":"/Users/ricksmit/dev/vigour-js/app/content.js","old-vigour-js/app/user":"/Users/ricksmit/dev/vigour-js/app/user/index.js","old-vigour-js/browser/animation/frame":"/Users/ricksmit/dev/vigour-js/browser/animation/frame.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/app/init.js":[function(e,t,i){var s=e("old-vigour-js/app"),r=s.user,n=s.cases,o=e("promise"),a=e("./config"),l=e("../components/password");s.css={addClass:"preload"},!n.chromecast&&!n.tv||r.token.val||(r.token=!0),s.region.is(function(){return"string"==typeof this.val}).then(function(){var e=a["protected"]&&~a["protected"].indexOf(s.region.val.toLowerCase());return!e||new o(function(e){window.requestAnimationFrame(function(){window.clearPackerLoader&&window.clearPackerLoader();var t=new l({container:{field:{events:{change:function(t){"viacomnorth"===this.node.value?(this.remove(),e()):window.alert("Incorrect password. Please try again.")}}}}});window.requestAnimationFrame(function(){t.container.opacity=1}),s.set({passwordInput:t})})})}).then(function(){return s.cloud.connected.is(!0)}).then(function(){return r.token.val===!0?new o(function(e){var t=r.data.is("loaded"),i=setTimeout(function(){o.reject(t),e()},500);t.done(function(){clearTimeout(i),e()})}):r.token.val?r.data.is("loaded"):void 0}).then(function(){return s.ready.val=!0,n.chromecast||r.$execUrl("discover"),s.css={removeClass:"preload"},window.clearPackerLoader&&window.clearPackerLoader(),n.touch&&(s.node.style.backgroundColor="black"),s.content.is("loaded")}).done(function(){s.css={removeClass:"preload"},window.clearPackerLoader&&window.clearPackerLoader(),n.touch&&(s.node.style.backgroundColor="black")})},{"../components/password":"/Users/ricksmit/dev/mtv-play/components/password/index.js","./config":"/Users/ricksmit/dev/mtv-play/app/config.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js",promise:"/Users/ricksmit/dev/mtv-play/node_modules/promise/index.js"}],"/Users/ricksmit/dev/mtv-play/app/intro.js":[function(e,t,i){var s=t.exports=e("old-vigour-js/app"),r=s.cases;r["native"]&&!localStorage.getItem("haveSeenIntro")&&s.ready.on(!0,function(){setTimeout(function(){s.popup.val="intro"},1e3),localStorage.setItem("haveSeenIntro",!0)})},{"old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js"}],"/Users/ricksmit/dev/mtv-play/app/localisation.js":[function(e,t,i){var s=e("old-vigour-js/app"),r=s.config=e("./config"),n=e("old-vigour-js/app/dictionary"),o=e("old-vigour-js/util"),a=e("old-vigour-js/browser/ua"),l=e("old-vigour-js/value");s.dictionary=n;var c=r.regionOverride;if(c){if("url"===c){var u=r.availableRegions,d=window.location.href,p=d.indexOf("r=");c=d.slice(p+2,p+4),-1===u.indexOf(c)&&(c="DE"),r.regionOverride=c}s.region.val={ajax:r.geo,transform:function(e,t){return r.regionOverride||0}}}else s.region.val={responseData:function(e,t){var i=this.country_code&&this.country_code.val;return s.country=i,o.checkArray(r.availableRegions,i)!==!1&&i},ajax:r.geo,transform:function(e,t){return t&&"string"==typeof t&&"error"!==t&&o.checkArray(r.availableRegions,t)!==!1?t:r.defaultRegion||("lg"===a.platform&&"tv"===a.device?"DE":0)||t&&"DE"}};r.language.val=s.language,r.region.val=s.region,s.dictionary.val={ajax:function(e,t){var i=this.val;if(i){if(this._cached===i)return;return this._cached=i,i&&r.dictionary(i)}},val:s.language},s.localDictionary=new l({ajax:function(e,t){var i=s.region.val,n=s.country;if(n&&i!==n&&(i="en"),"CH"!==i&&"AT"!==i||(i="de"),i){"BE"===i&&(i="NL");var o=i.toLowerCase();if(this._cached===o)return;return this._cached=o,r.dictionary(o)}},val:s.region})},{"./config":"/Users/ricksmit/dev/mtv-play/app/config.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/app/login.js":[function(e,t,i){var s=e("./config"),r=e("old-vigour-js/browser/cases"),n=e("old-vigour-js/app/"),o=n.user,a=e("../api");a.user.role.val={token:n.user.token},a.login.val={region:s.region},a.user.role.on(function(){o.role.$userOrigin.cloud&&(o.role.$userOrigin=a.user.role.val)}),o.token.on(function(){o.token.val||(a.login.$empty(["loading","region"]),n.state.val="empty",n.state.val="first")}).on(function(){a.user.role.poll.val=o.token.val?6e5:!1}),a.login.on("error",function(){a.timeout||(n.notification.type=this.type,n.notification.val="loginError")}).on("success",function(){if(n.notification.val="loginSuccess",this.facebook&&this.facebook.token&&this.facebook.token.val){var e=this.facebook.token.val,t=this.facebook.id.val;o.token.once(function(i){this.val&&(o.FB_token.$userOrigin=e,o.facebook_id.$userOrigin=t)})}o.token=this.token.val;var i=window.localStorage.getItem("registerOperator");if(i){var s=i.toLowerCase();"get"===s&&(i="__$ESCAPED_"+s),n.popup.data=n.cloud.data.get(["mtvData","operators",i]),n.popup.val="operatorAuthUpgrade",window.localStorage.removeItem("registerOperator")}else r.$hasMobile.val&&this.new_record?n.popup.val="getStarted":"login"!==n.popup.val&&"loginEmail"!==n.popup.val&&"register"!==n.popup.val||(n.popup.val=!1)}).loading.on(function(e){e!==!0||a.timeout?"login"===n.loading.val&&(n.loading.val=!1):n.loading.val="login"}),a.operator.login.on("error",function(){a.timeout||(n.notification.type=this.type,n.notification.val="loginError")}).on("success",function(){n.notification.val="loginSuccess",o.token=this.token.val,n.popup.val=!1}).loading.on(function(e){e!==!0||a.timeout?"login"===n.loading.val&&(n.loading.val=!1):n.loading.val="login"}),a.facebook.login.on("success",function(e){a.login.val={facebook:{token:this.token.val,id:this.id.val}}}).on("error",function(){n.notification.val="facebookError"}).loading.on(n.loading)},{"../api":"/Users/ricksmit/dev/mtv-play/api/index.js","./config":"/Users/ricksmit/dev/mtv-play/app/config.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/app/playback.js":[function(e,t,i){var s=e("old-vigour-js/app"),r=s.config=e("./config"),n=e("old-vigour-js/value"),o=s.cases,a=s.user;if(o.$playing=s.playing,o.$isFullscreen=new n({val:function(){return"player"===s.state.val},listen:s.state}),o.$isPlayingAd=new n,o.$isLoadingVideo=new n({val:!1,defer:function(e){var t=this;this._timer&&(clearTimeout(this._timer),this._timer=null),this._val&&(this._timer=setTimeout(function(){t.val=!1,t._timer=null},2e3)),e()}}),o.$isOnChannel=new n,s.wifiOnly=new n({val:localStorage.getItem("wifiOnly")||!1,defer:function(e){this._val?localStorage.setItem("wifiOnly",!0):localStorage.removeItem("wifiOnly"),e()}}),s.restrictPlayback.val={val:s.wifiOnly,transform:function(e,t){return!(!t||!o["native"]||"wifi"===api.network.val)}},s.playing.on(function(e){if(o.$isLoggedIn.val&&e===!0){var t=s.user.navigation.media.from;if("channels"!==t._parent._name){var i=s.user.usage.from.get(t._contentPath),r=i._parent._parent._parent._parent;r&&r.set("media",t)}}}),s.playing.val={defer:function(e,t){var i=a.navigation.media.from,r=i&&i.access&&i.access.val,n=i&&i.id&&i.id.val,l=3===a.role.val;this.val&&!o.$allowPlayback.val?s.notification.val="Oops! Playback is not allowed in your region...":t[0]===!0&&s.wifiOnly.val&&s.api.network.val?(this.val=t[0]=!1,s.notification.from.val="enable4g"):!o.$accessForEveryone.val&&t[0]===!0&&r&&this.val&&(o.$isLoggedIn.val?"channels"!==i._parent._name||!l&&o.$isUpgraded.val?(!o.$isUpgraded.val&&!a.purchases.$userOrigin[n]||"channels"===i._parent._name&&l||l&&2===r)&&(this.val=t[0]=!1,s.popup.from.data=i,s.popup.from.val=o.$hasEpisodePass.val?"roadblockMedia":"roadblock"):(this.val=t[0]=!1,s.popup.from.val="upgrade"):(this.val=t[0]=!1,s.popup.from.val="roadblock")),e()}},r.player&&"production"===r.player.settings.ads.viralSID){var l=r.player.settings.ads;o.tv?(l.viralSID="mtvplaytv/smarttv/de/free",s.user.role.on(function(){var e=this.val,t=l.viralSID.split("/");e=e&&3!==e?2===e?"b2b":"b2c":"free",t[3]=e,l.viralSID=t.join("/")}),s.region.on(function(){var e=this.val;if(e){var t=l.viralSID.split("/");t[2]=e.toLowerCase(),l.viralSID=t.join("/")}})):(l.viralSID="mtvplaytv/de/free",s.user.role.on(function(){var e=this.val,t=l.viralSID.split("/");e=e&&3!==e?2===e?"b2b":"b2c":"free",t[2]=e,l.viralSID=t.join("/")}),s.region.on(function(){var e=this.val;if(e){var t=l.viralSID.split("/");t[1]=e.toLowerCase(),l.viralSID=t.join("/")}}))}},{"./config":"/Users/ricksmit/dev/mtv-play/app/config.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/app/popup.js":[function(e,t,i){var s=e("old-vigour-js/app"),r=s.cases;s.popup.val={defer:function(e,t){var i=t[0];r.windows&&r["native"]&&"share"===t[0]?(s.api.facebook.share.val={val:!0,url:!0},this._val=t[0]=!1):"upgrade"!==i||r.$hasMobile.val||r.$storeAvailable.val?"devices"!==i||r.$isLoggedIn.val||(this._val=t[0]="roadblock"):this._val=t[0]="roadblockUpgrade",e()}}},{"old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js"}],"/Users/ricksmit/dev/mtv-play/app/register.js":[function(e,t,i){var s=e("./config"),r=e("old-vigour-js/app/"),n=r.user,o=e("../api"),a=e("old-vigour-js/browser/cases");o.register.val={age:{defer:function(e,t){var i=t[0];!i||i.defer?e(!0):(1==i?this.val={min_age:1,max_age:20}:2==i?this.val={min_age:20,max_age:30}:3==i&&(this.val={min_age:30,max_age:40}),e())}},region:s.region},o.register.on("error",function(){r.notification.type=this.type,r.notification.val="registerError"}).on("success",function(){if(r.notification.val="registerSuccess",r.popup.val=!1,this.email&&this.email.val)var e=this.email.val,t=this.password.val;o.timeout&&clearInterval(o.timeout),a["native"]&&(o.timeout=setInterval(function(){o.login.val={email:e,password:t}},500),o.login.once("success",function(){clearInterval(o.timeout),o.timeout=!1}))}).loading.on(r.loading),o.verify.email.on("success",function(e){var t=window.localStorage.getItem("registerOperator");if(t){var i=t.toLowerCase();"get"===i&&(t="__$ESCAPED_"+i),r.popup.data=r.cloud.data.get(["mtvData","operators",t]),r.popup.val="operatorAuthUpgrade",window.localStorage.removeItem("registerOperator")}else(a.phone||a.tablet)&&(r.popup.val="getApp");n.token.val=this.token.val,r.notification.val="verifyEmailSuccess"}).on("error",function(e){r.notification.type=this.type,r.notification.val="verifyEmailError"}).loading.on(r.loading),r.url.params.on(function(e){this.e&&(o.verify.email.val=this.e.val,this.val="")}),o.password.forgot.on("success",function(){r.notification.val="passwordForgot",r.popup.val=!1}).on("error",function(){r.notification.type=this.type,r.notification.val="passwordForgotError"}).loading.on(r.loading),o.password.reset.on("success",function(){r.notification.val="passwordResetSuccess",r.popup.val=!1,n.token.val=this.token.val}).on("error",function(){r.notification.type=this.type,r.notification.val="passwordResetError"}).loading.on(r.loading),r.url.params.on(function(e){this.reset&&(o.password.reset.val={token:this.reset.val},r.popup.from.val="passwordReset",this.val="")})},{"../api":"/Users/ricksmit/dev/mtv-play/api/index.js","./config":"/Users/ricksmit/dev/mtv-play/app/config.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/app/share.js":[function(e,t,i){var s=e("./config"),r=e("old-vigour-js/app/dictionary"),n=e("old-vigour-js/app/"),o=e("old-vigour-js/object"),a=n.user,l=e("../api");l.facebook.share.val={url:{transform:function(e,t){if(!t)return!1;var i,r,n,l,c=t instanceof o?t.from:a.navigation.media.from,u=a.$parse(c),d=s.fburl+u.url,p=c,v="";return p&&u.title&&(u.episode<10&&(u.episode="0"+u.episode),i=u.season+u.episode,r=u.title?"og:title="+encodeURIComponent((u.show.title.val?u.show.title.val+(i?"#"+i:"")+" | ":"")+u.title+" - MTV Play")+"&":"",n=p.img?"og:image="+encodeURIComponent(p.img.val)+"&":"",l=p.description?"og:description="+encodeURIComponent(p.description.val):"",v="?"+r+n+l),d+v},init:n.ready}},l.facebook.share.on("success",function(){}).on("error",function(){n.notification.type=this.type,n.notification.val="shareError",l.facebook.share.url.val=!1,l.facebook.share.$empty(["url","loading"])}).loading.on(n.loading),l.email.share.val={address:"",subject:r.get("text.mailShare.title"),body:function(e,t){var i=a.$parse(a.navigation.media).url,e=i&&i.replace(/&/g,"and");return e?"http://mtvplay.tv/#/"+e:!1}}},{"../api":"/Users/ricksmit/dev/mtv-play/api/index.js","./config":"/Users/ricksmit/dev/mtv-play/app/config.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js"}],"/Users/ricksmit/dev/mtv-play/app/spotlight.js":[function(e,t,i){var s=(e("old-vigour-js/util/config"),e("old-vigour-js/app/")),r=e("old-vigour-js/value"),n=s.user,o=e("old-vigour-js/data");t.exports=i=n.spotlight=new r({transform:function(e,t){return this._parent.map&&this._parent.map[t]},defer:function(e,t){if(this.clearCache(),this.val||0===this.val&&s.cases.$isLoggedIn.val){var i=n.data.from.get("spotlight_sub.list.0"),r=this;this.selected&&this.selected.from!==i&&(this.selected.remove(),this.selected=null),this.selected||(this.set("selected",new o(i,{subscription:{time:!0,title:!0,text:!0,img:!0,mtvid:!0}})),this.selected.on(function(e){var t,i=this.from.title&&this.from.title.val;this.from.mtvid&&this.from.mtvid.val;i&&s.cases.$isLoggedIn.val&&this.from.mtvid&&(hashed=this.from.mtvid.val,t=n.notification_stamp.from,t.val&&t.val===hashed||(t.val=hashed,r._update("success")))}),this.selected._update.apply(this.selected,t))}"success"===t[0]?e():e(!0)}}),i.map={0:"spotlight_sub",1:"spotlight_sub",2:"spotlight_mbl"},i.val=n.role},{"old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/app/tracking.js":[function(e,t,i){function s(){var e;return e="player"===r.state.val&&r.state.video?r.state.video.val:r.user.navigation.media.from,e&&e.val===!1?void 0:e}var r=e("./index"),n=e("../api/tracking"),o=e("../api"),a=e("old-vigour-js/browser/cases"),l=e("../api/tracking/dataform").sendEvent,c=e("../api/tracking/dataform").setDimension,u=e("old-vigour-js/value");
r.mediaTime=new u,n.omniture.user=r.user,r.popup.on(function(){n.popup(this.val)}),r.user.navigation.page.on(function(){n.pageView(this.val)}),r.user.navigation.show.on(function(){n.pageView(this.val)}),r.user.navigation.media.on(function(){n.pageView(this.val)}),r.user.navigation.season.on(function(){n.pageView(this.val)}),r.popup.on("intro",function(){r.popup.once(function(e){n.event(e===!1?"introSkipped":"introCompleted",!0)})}),o.login.on("success",function(){this.new_record?(n.event("signupSucces",!0),l("event","login","signup")):(n.event("loginSucces",!0),l("event","login","login"))}).on("error",function(){n.event("loginFailed",!0)}),o.register.on("success",function(){n.event("signupSucces",!0),l("event","login","signup")}).on("error",function(){n.event("signupFailed",!0)}),o.facebook.share.on(function(){n.event("sharingFacebookStart",!0)}).on("success",function(){n.event("sharingFacebookSucces",!0)}),o.email.share.on(function(){n.event("sharingEmailStart",!0)}).on("success",function(){n.event("sharingEmailSucces",!0),l("event","sharing","email")});var d=!0;r.user.search.on(function(){var e=r.user.search.val;e&&"string"==typeof e&&(n.event("search",e),d&&(d=!1,l("event","search","query"),r.user.navigation.page.on(function(){d=!0})))}),o.mobile.verify.on("error",function(){n.event("upgradeMtvFailed")}),r.menu.on(function(){this.val&&n.event("menu",this.val)}),r.ready.once(!0,function(){n.event("appstart",!0)}),r.notification.on("favourite",function(){n.event("favoAdded",!0),l("event","favourite","added")}).on("unFavourite",function(){n.event("favoRemoved",!0),l("event","favourite","removed")}),r.user.receiver.media.on(function(e){this.from&&"media"===this.from._name||n.event(e?"swipeUp":"swipeDown",this.from&&this.from._cachedPath)}),a.$hasReceiver.on(function(){if(this.val){var e=r.user.receiverClient.val,t=e.device&&e.device.val;t&&c(t)}}),o.purchase.on("success",function(){n.event("monthly"===this.subscription.val?"upgradeMonthSucces":"upgradeAnSucces",!0),l("event","purchase","month")}).on("error",function(){n.event("monthly"===this.subscription.val?"upgradeMonthError":"upgradeAnError",!0)}),o.mobile.sms.on("success",function(e){n.event("upgradeMtvSucces",!0)}).on("error",function(e){n.event("upgradeMtvFailed",!0)}),r.mediaTime.on(function(e){var t=s();e&&e>0||t&&n.video(e,t)}),r.playing.on(function(e){var t=s();t&&n.video(e?"videoPlay":"videoPause",t)})},{"../api":"/Users/ricksmit/dev/mtv-play/api/index.js","../api/tracking":"/Users/ricksmit/dev/mtv-play/api/tracking/index.js","../api/tracking/dataform":"/Users/ricksmit/dev/mtv-play/api/tracking/dataform.js","./index":"/Users/ricksmit/dev/mtv-play/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/app/upgrade.js":[function(e,t,i){function s(e,t){if(t){var i=l.platform;"android"===i&&window.AmazonIapV2&&(i="amazon");var s=r.store[i],o=s&&s[t];if(o)return o.replace("$region",(n.region.val||"").toLowerCase())}return 0}var r=e("./config"),n=e("old-vigour-js/app/"),o=n.user,a=e("../api"),l=e("old-vigour-js/browser/ua");a.mobile.verify.val={token:o.token},a.mobile.verify.on("success",function(e){2!==o.role.val?(a.user.role.poll.val=500,n.loading.val=!0,o.role.once(function(){n.notification.val="mobileUpgradeSuccess",a.user.role.poll.val=!1,n.loading.val=!1})):a.user.role.poll.val=!1,n.popup.val=!1,n.notification.val="mobileVerifySuccess"}).on("error",function(e){n.notification.val="mobileVerifyError"}).loading.on(n.loading),a.mobile.sms.on("success",function(e){o.token.val=this.token.val,n.notification.val="mobileUpgraded"}).on("error",function(e){n.notification.val="mobileUpgradeError"}).loading.on(n.loading),n.url.params.on(function(e){this.m&&(a.mobile.sms.val=this.m.val,this.val="")}),a.purchase.val={subscription:{transform:s},product:{transform:function(e,t){var i=t?s(e,"single"):0;return i}}},a.purchase.on("success",function(){var e={receipt:this.token.val};if(window.AmazonIapV2&&(e.userId=this.amazonUserData.userId.val,e.receiptId=this.purchaseReceipt.receiptId.val),this.packageName&&(e.packageName=this.packageName.val),this.subscriptionId&&(e.subscriptionId=this.subscriptionId.val),this.orderId&&(e.orderId=this.orderId.val),this.purchaseTime&&(e.purchaseTime=this.purchaseTime.val),this.purchaseState&&(e.purchaseState=this.purchaseState.val),this.developerPayload&&(e.developerPayload=this.developerPayload.val),this.signature&&(e.signature=this.signature.val),this.product.val){if(!this.product.from.cloud)throw new Error("trying to buy something else then an episode");this.product.from.get("id").is("loaded",function(){e.episodeId=this.val,a.receipt.val=e})}else e.episodeId=!1,a.receipt.val=e}).on("error",function(){n.notification.type=this.type,n.notification.val="purchaseError"}).loading.on(n.loading),a.receipt.val={token:o.token},a.receipt.on("success",function(){var e=this.episodeId&&this.episodeId.val;e?(o.purchases.$userOrigin.set(e,!0),n.popup.val=!1,n.notification.val="singleEpisodePurchased"):(n.notification.val="upgraded",n.user.role.$userOrigin=1,n.popup.val="profile")}).on("error",function(){n.notification.type=this.type,n.notification.val="purchaseError"}).loading.on(n.loading),a.operator.upgrade.on("success",function(){n.notification.val="upgraded",n.user.role.$userOrigin=2,n.user.operator_name.val=a.operator.upgrade.operator.val,n.popup.val="profile"}).on("error",function(){n.notification.type=this.type,n.notification.val="purchaseError"}).loading.on(n.loading)},{"../api":"/Users/ricksmit/dev/mtv-play/api/index.js","./config":"/Users/ricksmit/dev/mtv-play/app/config.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/mtv-play/app/user.js":[function(e,t,i){var s=e("old-vigour-js/app"),r=s.cases,n=e("old-vigour-js/value"),o=s.config,a=t.exports=s.user.inject(e("old-vigour-js/app/user/token"),e("old-vigour-js/app/user/usage"),e("old-vigour-js/app/user/navigation"),e("old-vigour-js/app/user/multiscreen"),e("old-vigour-js/app/user/multiscreen/cast"),e("old-vigour-js/app/user/url"));a.set({profilepic:!1,first_name:!1,email:!1,language:!1,role:!1,highlight:!1,carousel:!1,search:!1,accept_newsletter:!1,FB_token:!1,scroll:!1,facebook_id:!1,url:e("old-vigour-js/browser/network/url"),localStorageToken:o.api.type+"userToken"}),a.extend({name:"purchases",mock:{purchases:{}},subscription:{purchases:{$:!0}},on:{mock:function(){this.purchases=this.mockdata.purchases},user:function(){this.purchases=this.data.from.get("purchases",{})}}}),a.extend({name:"operator_name",mock:{operator_name:!1},subscription:{operator_name:!0},on:{mock:function(){this.operator_name=this.mockdata.operator_name},user:function(){this.operator_name=this.data.from.get("operator_name",!1)}}}),r.$isActive.on(function(){"player"!==s.state.val&&(s.state.val=this.val?"first":"second")}),s.language.val=s.user.language,s.content.on("self",function(e,t){var i=s.state.val;s.state.val="empty",s.state.val=i}),a.spotlight=e("./spotlight"),a.spotlight.on(function(e){s.popup.from.data=a.spotlight.selected.from,s.popup.from.val="article"}),a.role.set("text",{val:a.role,transform:function(e,t){return s.user.operator_name.val?"operatorPremium":o.roles[t]||""},listen:s.user.operator_name}),r.$isUpgraded=new n({val:a.role,transform:function(e,t){return t>0?!0:0}}),r.$accessForEveryone=new n(!1),a.receiver.media.on(function(){r.$isReceiver.val&&(this.val?(s.state.clearCache(),s.state._ignoreValue=!0,s.state.val={val:"player",video:this.from},s.state._ignoreValue=null):s.state.val=r.$isActive.val?"first":"second")}),r.$isReceiver.on(function(){this.val?(s.volume.val=a.receiver.volume,s.playing.val=a.receiver.playing,a.receiver.media.clearCache(),a.receiver.media._update()):(s.volume.val=s.volume.from.val||1,s.playing.val=s.playing.from.val,s.state.val=r.$isActive.val?"first":"second")}),r.$isReceiver.on(function(){this.val?s.css.val={addClass:"isReceiver"}:s.css.val={removeClass:"isReceiver"}})},{"./spotlight":"/Users/ricksmit/dev/mtv-play/app/spotlight.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/user/multiscreen":"/Users/ricksmit/dev/vigour-js/app/user/multiscreen/index.js","old-vigour-js/app/user/multiscreen/cast":"/Users/ricksmit/dev/vigour-js/app/user/multiscreen/cast/index.js","old-vigour-js/app/user/navigation":"/Users/ricksmit/dev/vigour-js/app/user/navigation.js","old-vigour-js/app/user/token":"/Users/ricksmit/dev/vigour-js/app/user/token.js","old-vigour-js/app/user/url":"/Users/ricksmit/dev/vigour-js/app/user/url.js","old-vigour-js/app/user/usage":"/Users/ricksmit/dev/vigour-js/app/user/usage.js","old-vigour-js/browser/network/url":"/Users/ricksmit/dev/vigour-js/browser/network/url.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/app/util.js":[function(e,t,i){var s=e("old-vigour-js/app/"),r=e("old-vigour-js/browser/cases"),n=r.phone?"play":"playAlt";i.access=function(e,t){if(t){var i=3===s.user.role.val,o=t.id&&t.id.val,a=t&&!(t._parent&&"channels"===t._parent._name&&3===s.user.role.val)&&(!e||r.$isUpgraded.val&&(!i||i&&2>e));return o&&s.user.purchases.$userOrigin[o]&&(a=!0),r.$allowPlayback.val&&a?n:"lockedContent"}}},{"old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/common.less":[function(e,t,i){arguments[4]["/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js"][0].apply(i,arguments)},{}],"/Users/ricksmit/dev/mtv-play/components/ad/index.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element");i.Billboard=new s({css:"ad-billboard",attr:{id:"leaderboard"}}).Class,i.Medium=new s({css:"ad-medium",attr:{id:"div-gpt-ad-1445622141110-2"}}).Class,i.Interstitial=new s({css:"ad-interstitial",attr:{id:"interstitial"}}).Class},{"old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/button/index.js":[function(e,t,i){e("./style.less");var s,r=e("old-vigour-js/app/ui/element"),n=e("../icon");e("old-vigour-js/util");t.exports=i=new r({node:"button",css:"ui-button",text:"this is a button",righticon:new n({icon:"arrowright"})}).Class,s=new r({css:function(){return"ui-switch"+(this.switchOn&&this.switchOn.val===!0?" ui-switch-on":"")},btn:{}}),s.extend({switchOn:function(e){this.css="ui-switch"+(e.val&&e.val===!0?" ui-switch-on":"")}}),i.Switcher=s.Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/button/style.less","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/mtv-play/components/button/style.less":[function(e,t,i){e("../../common.less")},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/cookiebar/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app"),r=e("old-vigour-js/browser/cases"),n=e("old-vigour-js/app/ui/element"),o=e("../icon"),a=new n({css:"cookie-button",text:{val:s.localDictionary,transform:function(e,t){var i=s.localDictionary.responseData;return i&&i.text.cookieBar?i.text.cookieBar.close.val:void 0}},events:{down:function(e){e.prevent=!0;var t=s.cookiewall||this.parent.parent.parent;t.remove()}}}),l=new n({moreinfo:{text:{val:s.localDictionary,transform:function(e,t){var i=s.localDictionary.responseData;return i&&i.text.cookieBar?"> "+i.text.cookieBar.link.val:void 0}},"events.click":function(){var e=s.popup,t=s.region.val;"DE"===t||"BE"===t||"NO"===t?(e.data=s.content.get(["privacy","list","0"]),e.val="article"):(e.data=s.content.get(["legal_cookies","list","0"]),e.val="articleCookie")}}}),c=new n({title:{text:{val:s.localDictionary,transform:function(e,t){var i=s.localDictionary.responseData;return i&&i.text.cookieBar?i.text.cookieBar.text.val:void 0}}}}),u=new n({text:{val:s.localDictionary,transform:function(e,t){var i=s.localDictionary.responseData;return i&&i.text.privacy?"> "+i.text.privacy.val:void 0}},"events.click":function(){var e=s.popup;e.data=s.content.get(["privacy","list","0"]),e.val="article"}});t.exports=new n({on:{$new:{defer:function(e){var t=this._parent._caller,i="NL"===s.region.val;i?(l.set({legal:u}),r.phone?(l.add(a,"moreinfo"),t.set({css:"cookie-bar-nl",container:{message:c,info:l}})):(l.add(a,"moreinfo"),t.set({css:"cookie-bar-nl",container:{logo:{},message:c.set({body:{text:{val:s.localDictionary,transform:function(e,t){var i=s.localDictionary.responseData;return i&&i.text.cookieBar?i.text.cookieBar.nl.text.val:void 0}}}}),info:l}}))):(a.set({exit:new o({icon:"close"})}),t.set({css:"cookie-bar",container:{message:c,info:l,button:a}})),s.set({h:{sub:{val:s.w,transform:function(){return t.node.offsetHeight}}},position:"relative"}),window.requestAnimationFrame(function(){s.h._update(),window.requestAnimationFrame(function(){s.h._update()})}),e()}},$remove:{defer:function(e){s.h={sub:null},s.menu._update(),window.localStorage.setItem("cookieApproved",!0),e()}}}}).Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/cookiebar/style.less","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/cookiebar/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/epg_temp.js":[function(e,t,i){function s(e){return["mtvData",n.region.val,n.language.val,"channels",e].join(".")}var r=e("old-vigour-js/data"),n=e("old-vigour-js/app/"),o=e("old-vigour-js/util/config"),a=e("old-vigour-js/browser/network/ajax"),l=new r,c=[];t.exports=i=function(e,t){if(~c.indexOf(e))return void(t&&t());var s=i.getDate(),r=n.region.val.toLowerCase()+"/channels/"+e+"/"+s;return l[s]||(l.empty,l.set(s,{})),l[s][r]&&l[s][r].val||(l[s].set(r,!1),a({url:"https://api.mtvnn.com/v2/airings.json/?channel_id="+e+"&filter=today&bust="+~~(1e6*Math.random()),headers:{Accept:"*/*"},iframe:o.epg,method:"GET",complete:function(i){if(i instanceof Array){var n=[];i.forEach(function(e,t){var s=e.airing,r=i[t+1];s.duration=(r?r.airing.minutes_since_midnight:i[0].airing.minutes_since_midnight)-s.minutes_since_midnight||1440,s.endtime=s.minutes_since_midnight+s.duration,n.push(s)}),l[s].set(r,n)}else c.push(e),l[s][r].removeListener(),t&&t()},error:function(i){c.push(e),t&&t()}})),l[s][r]},i.now=function(e,t){function s(){if(this.minutes_since_midnight){var e=this.minutes_since_midnight.val,t=e+this.duration.val;if(a>=e&&t>a)return n?n.val=this:n=this,void(o&&l.removeListener(o))}}var n,o,a=i.minutesSinceMidnight(),l=i(e);if(l){if(l.val)l.each(s);else{var n=new r;o=function c(){this.each(s),l.removeListener(c)},l.addListener(o)}return n}},i.anyNow=function(e){if("channels"===e._name){var t=e.keys,n=t.length,o=this;if(!n)return;for(this._findNow=new r,n--;n>=0;n--){var a=e[t[n]].epgid;if(void 0!==a){this.model=!1;var l=i.now(a.val);l&&(l.title?(this.data=l,this._link=s(t[n])):(this._findNow[n]=l,this._findNow[n]._index=t[n],this._findNow[n].addListener(function(){void 0!==this._index&&(o.model=!1,o.data=this.from.val,o._link=s(this._index),setTimeout(function(){o._findNow&&o._findNow.remove()}))})))}}}},i.getDate=function(e){e||(e="-");var t=new Date,i=t.getDate(),s=t.getMonth()+1,r=t.getFullYear();return 10>i&&(i="0"+i),10>s&&(s="0"+s),r+e+s+e+i},i.minutesSinceMidnight=function(){var e=new Date,t=new Date(e),i=t-e.setHours(0,0,0,0);return i/6e4},i.clockTime=function(e,t){var i=~~(t/60),s=~~(t%60);return i>23?i-=24:10>i&&(i="0"+i),10>s&&(s="0"+s),i+":"+s}},{"old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/network/ajax":"/Users/ricksmit/dev/vigour-js/browser/network/ajax.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/channels/index.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/element"),e("../overview")),r=e("../../icon"),n=e("old-vigour-js/app/"),o=new s.Items({pageheader:{"text.dictionary":"text.nav.channels"},collection:{data:"channels",element:s.Item.Tv?new s.Item.Tv:new s.Item({righticon:new r({on:{data:"id"},icon:{data:"access",transform:function(e,t){var i=n.util.access(t,this.data);return"lockedContent"===i?"lockedContentAlt":"arrowright"},listen:n.user.role}}),events:{click:function(){this.checkParent("on.media",!0).$userOrigin=this.data.from}}})},model:{complete:function(){this.parent.node.scrollTop||(this.parent.node.scrollTop=1),this.model=!1}}});t.exports=new s({items:o}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../overview":"/Users/ricksmit/dev/mtv-play/components/first/overview/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/discover/carousel.js":[function(e,t,i){function s(e){clearTimeout(a),a=setTimeout(function(){e._pos!==-e.children.length+1?e._pos-1:0;s(e)},5e3)}function r(e){if(!e._i)for(var t=e.parent.children,i=t.length-1;i>=0;)t[i]._i=i--;return e._i}function n(e,t,i){var s=120,r=10,n=this.children.length,a=this._pos||(this._pos=0),c=a;Math.abs(i.x)>r?(i.x<0&&!(t.x>s)&&(c=Math.max(a-1,-n+1)),i.x>0&&!(t.x<-s)&&(c=Math.min(a+1,0))):(t.x<-s&&(c=Math.max(a-1,-n+1)),t.x>s&&(c=Math.min(a+1,0))),this.x._e&&(this.x={_esub:this.x._e._val}),l=!1,o(this,c)}function o(e,t){var i=e._pos||(e._pos=0),r=e.parent.dotholder.dots;(r||e.parent.parent.parent.parent.topbar.txt.dotholder.dots).children;t!==i&&(e.data.carousel.from=t,e._pos=t),r&&a&&s(e)}e("./style.less");var a,l,c=e("old-vigour-js/app/ui/element"),u=(e("old-vigour-js/app/dictionary"),e("../../img")),d=e("../../icon"),p=e("../../text").Title,v=e("old-vigour-js/app/"),f=e("old-vigour-js/browser/cases"),h=(e("old-vigour-js/util/config"),e("old-vigour-js/browser/animation/frame"),new c({img:new u.Carousel({teaser:{title:new p},background:{range:100},events:{active:"clicked",click:function(){var e=this.data,t=e.type&&e.type.val,i=e.link&&e.link.val,s=e.url&&e.url.val;s?v.api.url.val=s:"Article"===t?(v.popup.from.data=e.from,v.popup.from.val="article"):i?(i=i.split("."),t=i[i.length-2],"episodes"===t||"extras"===t||"channels"===t?v.user.navigation.media.$userOrigin=v.content.from.get(i.slice(3)):"shows"===t?v.user.navigation.show.$userOrigin=v.content.from.get(i.slice(3)):"seasons"===t&&(v.user.navigation.season.$userOrigin.val=v.content.from.get(i.slice(3)),v.user.navigation.show.$userOrigin=v.content.from.get(i.slice(3,5)))):console.warn("There is no behaviour defined for this slide.")}}}),model:{subscription:{url:!0,link:!0,type:!0}}})),m=new c({css:"ui-roll",x:{data:"carousel",transform:function(e,t){return isNaN(t)&&(t=t._val||0),this._pos=t,t*this.node.offsetWidth||0},animation:{time:{val:36,phone:18},easing:"outCubic"},listen:v.w},collection:{data:"marquee",element:h},touch:{events:{grab:{x:!0,pass:function(e,t){return Math.abs(t.x)>Math.abs(t.y)?(l=!0,!0):void 0},up:n}}},model:{complete:function(){var e=this;e.x._p=!0,window.requestAnimationFrame(function(){e.x&&(e.x.update(),e.x._p=null)}),this.model={complete:null}}}}),g=new c({css:"ui-car-buttons",prevBtn:new d({icon:"leftnav",events:{click:function(){var e=this.parent.parent.roll,t=e._pos;0>t&&o(e,t+1)}}}),nextBtn:new d({icon:"rightnav",events:{click:function(){var e=this.parent.parent.roll,t=0|e._pos;t-1>-e.children.length&&o(e,t-1)}}})}),y=new c({css:"ui-dots",collection:{data:"marquee",element:new c({events:{click:function(){o(this.checkParent("roll",!0),-r(this))}}})}});y.extend({dotFocus:function(e){for(var t=-e.val||0,i=this.children,s=i.length-1;s>=0;s--){var r=i[s];s===t?r.css="dot-focus":r.css=!1}}});var b=new c({on:{$remove:{defer:function(e){clearTimeout(a)}}},tablet:{bgTeaser:{}},roll:m,"desktop.buttons":g,dotholder:{dots:new y.Class({dotFocus:{data:"carousel"}})}});f.tablet&&(b.h={val:v.w,multiply:9/16,max:{val:v.h,multiply:.5}}),t.exports=i=b,i.Dots=y.Class,i.Buttons=g.Class,i.Roll=m.Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/discover/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/frame":"/Users/ricksmit/dev/vigour-js/browser/animation/frame.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/discover/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("./carousel"),n=e("old-vigour-js/browser/cases"),o=e("./lists"),a=e("../../ad").Billboard,l=new s({css:"first-discover",x:{translate:!0},"!phone.ad":new a,carousel:new r.Class,touch:{scrollbar:"y",on:{$render:{defer:function(e){var t=this._parent._caller;i.scrollTop&&window.requestAnimationFrame(function(){t._node&&(t.node.scrollTop=i.scrollTop||n.touch&&1)}),e()}}},model:{complete:function(){this.node.scrollTop=i.scrollTop||n.touch&&1,this.model={complete:null}}}},lists:o,"events.scroll":function(){var e=this.node,t=i.scrollTop=e.scrollTop;if(n.$hasReceiver.val){var s=e.getBoundingClientRect();this.data.scroll.$userOrigin=t/(e.scrollHeight-s.height)}}});t.exports=l.Class},{"../../ad":"/Users/ricksmit/dev/mtv-play/components/ad/index.js","./carousel":"/Users/ricksmit/dev/mtv-play/components/first/discover/carousel.js","./lists":"/Users/ricksmit/dev/mtv-play/components/first/discover/lists.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/discover/style.less","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/discover/lists.js":[function(e,t,i){function s(){var e,t=this.data.link.val;this.parent.header&&this.parent.header.text.val||this.parent.parent.header&&this.parent.parent.header.text.val;t&&(this._stayActive=!0,t=t.split("."),e=t[t.length-2],"episodes"===e||"extras"===e||"channels"===e?r.user.navigation.media.$userOrigin=r.content.from.get(t.slice(3)):"shows"===e?r.user.navigation.show.$userOrigin=r.content.from.get(t.slice(3)):"seasons"===e&&(r.user.navigation.season.$userOrigin.val=r.content.from.get(t.slice(3)),r.user.navigation.show.$userOrigin=r.content.from.get(t.slice(3,5))))}var r=e("old-vigour-js/app/"),n=e("old-vigour-js/browser/cases"),o=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/app/ui/element")),a=e("../../icon"),l=e("../../img"),c=e("../../item"),u=e("../../text"),d=e("../../epg_temp"),p=(u.Title,c.TitleSubtitle),v=n.phone?150:220,f=new o({x:{translate:!0},img:new l({h:{val:152,phone:100},w:{val:220,phone:150}}),txt:new p}),h=new f.Class({model:{subscription:{link:!0}},txt:{subtitle:{text:{data:"subtitle"}}},events:{active:"ui-item-clicked",click:s}}),m=new o({css:"list",on:{$render:{defer:function(e){var t=this._parent._caller,i=t.scroller.children.length;t.display=i?"block":"none",e()}}},header:{},scroller:{css:"preload",scrollbar:"x",x:{translate:!0},y:{translate:!0},collection:{data:!0,element:h},touch:{events:{scroll:function(){this.css=""}}}},"model.complete":function(){if(this.scroller){var e=this.scroller.children.length;this.display=e?"block":"none"}}}).Class;t.exports=new o({action:new c({ontv:{"text.dictionary":"text.onTv"},program:{text:{data:"title"}},arrow:new a({icon:"arrowright"}),events:{active:"action-clicked",click:function(){this._link&&(this._stayActive=!0,this.checkParent("on.media",!0).$userOrigin=r.cloud.data.get(this._link))}},model:{subscription:{$:{epgid:!0}},val:function(e){e.channels&&d.anyNow.call(this,e.channels)}}}),allshows:{"text.dictionary":"text.nav.allShows",events:{active:"ui-item-clicked",click:function(){this._stayActive=!0,this.checkParent("on.page",!0).$userOrigin="shows"}}},watched:new m({css:"list watched",header:{text:{dictionary:"text.showsYouWatch"}},scroller:{collection:{data:"watched",element:new h.Class({events:{active:"ui-item-clicked",click:function(){r.user.navigation.media.$userOrigin=this.data.media.from}},model:function(e){var t=e.media&&e.media.from._contentPath;t&&(this.img.cover.data=r.user.usage.from.get(t),this.txt.subtitle.data=e.media.from,this.model=!1)},img:{background:{data:"show.img"},cover:{model:{inherit:!1},desktop:{percentage:{text:{data:"time",transform:function(e,t){var i=Math.floor(100*t);return i?Math.abs(i)+"%":""}}}},bar:{y:{tablet:147,phone:95},w:{data:"time",transform:function(e,t){return isNaN(t)?0:Math.abs(t)*v}}}}},txt:{title:{text:{data:"show.title"}},subtitle:new u.Subtitle({model:{inherit:!1}})}})}}}),releases:new m({header:{text:{dictionary:function(){var e=r.region.val;if(e){var t=r.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row1."+t}},listen:r.user.role}},scroller:{collection:{data:"releases",desktop:{element:new c.Large({info:{txt:{title:{text:{data:"title"}},subtitle:{text:{data:"subtitle"}}}},events:{active:"ui-item-clicked",click:s},crawler:{href:{data:"link",transform:function(e,t){if(t){var i,s,r,n=t.split("."),o=n.length,a=n[o-2];return"episodes"===a||"extras"===a?(i=n[4],s=n[6]+1,r=n[8]+1,"shows/"+i+"/"+s+"/"+r||""):"seasons"===a?(i=n[4],s=n[6]+1,"shows/"+i+"/"+s):"shows"===a?(i=n[4],"shows/"+i):"channels"===a?(i=n[4],"channels/"+i):void 0}}},attr:{onclick:"return false"}}})}}}}),recommended:new m({header:{text:{dictionary:function(){var e=r.region.val;if(e){var t=r.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row2."+t}},listen:r.user.role}},scroller:{collection:{data:"recommended"}}}),free:new m({header:{text:{dictionary:function(){var e=r.region.val;if(e){var t=r.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row3."+t}},listen:r.user.role}},scroller:{collection:{data:"free"}}})})},{"../../epg_temp":"/Users/ricksmit/dev/mtv-play/components/epg_temp.js","../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/discover/style.less":[function(e,t,i){e("../../../common.less")},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/epg/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/data"),n=e("old-vigour-js/app/"),o=e("../../icon"),a=e("../../item"),l=e("../../player/seekbar"),c=e("../../epg_temp"),u=(e("old-vigour-js/browser/cases"),e("old-vigour-js/value")),d=c.clockTime,p=c.minutesSinceMidnight,v=(new u({val:360,phone:n.w,sub:30}),new s({holder:{txt:new a.TitleSubtitle({subcontainer:{subtitle:{text:{data:"minutes_since_midnight",transform:d}},seekbar:{text:" - ",css:"subtitle"},endtime:{css:"subtitle",text:{data:"endtime",transform:d}}}})},border:{}}).Class);t.exports=i=new s({message:{icon:new o({icon:"empty"})},container:{list:{touch:{scrollbar:"y",h:{val:n.h,sub:{val:40,iosFull:60,add:{phone:{val:n.w,divide:16/9}}}}},collection:{data:!0,element:new v,filter:{condition:{endtime:{$gt:p}}}},model:{complete:function(){var e=this,t=this.children[0],i=this.parent.parent.message;if(!t)return i.icon.icon="warning",void(i.text={dictionary:"text.noEPG"});i.icon.icon="",i.text="";var s=t.data.minutes_since_midnight.val,n=t.data.endtime.val,o=t.data.duration.val,a=~~(6e4*(n-p()))+3e3,c=t.holder.txt.subcontainer.seekbar;if(!c.seek&&o){t.set({"holder.txt.subcontainer.seekbar":new l({seek:{w:{data:"time"}},button:!1,data:new r({time:(p()-s)/o})})}),this._interval&&clearInterval(this._interval);var e=this;this._interval=setInterval(function(){if(t&&t.holder&&t.holder.txt){var i=p()-s;t.holder.txt.subcontainer.seekbar.data.time.val=i/o}else clearInterval(e._interval),e._interval=null},1e3)}a>0&&(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){e.updateData(),e._timer=null},a+2e3))}}},model:{inherit:!1}},phone:{position:"absolute"},model:{field:"media",subscription:{epgid:!0},val:function(e){var t,i=e.epgid&&e.epgid.val;void 0!==i&&(t=c(i),this.container.data=t,this.model=!1)}}}).Class,i.base.container.list.setSetting({name:"remove",remove:function(){this._timer&&clearTimeout(this._timer),this._interval&&clearInterval(this._interval)}})},{"../../epg_temp":"/Users/ricksmit/dev/mtv-play/components/epg_temp.js","../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../../player/seekbar":"/Users/ricksmit/dev/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/epg/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/epg/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/favourite/index.js":[function(e,t,i){e("./style.less");var s=e("../../icon"),r=e("old-vigour-js/browser/cases"),n=e("old-vigour-js/app/");t.exports=new s({icon:{data:"showusage.favourite",transform:function(e,t){return!t||"true"!==t&&t!==!0?(this.css="ui-icon","favoriteadd"):(this.css="ui-icon favorited","favorite")}},"events.click":function(){if(r.$isLoggedIn.val){var e=this.data.showusage.$userOrigin;e.favourite&&e.favourite.val?e.val={favourite:!1}:e.val={favourite:!0}}else n.popup.from.val="roadblock"}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/favourite/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/favourite/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments);
},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/index.js":[function(e,t,i){function s(e){var t=this._parent,i=t._caller,s=this.$userOrigin;return s.val?(i.miniplayer||(i.miniplayer=new y({on:{usage:t.usage.from,msmedia:s,volume:t.volume.from},data:{media:s,mediausage:t.usage.from.get(s.from._contentPath),volume:t.volume.from},play:{icon:t.play},y:d.phone&&"channels"===s.from._parent._name?24:0}),i.add(i.miniplayer,d.phone&&"topmenu")),void e()):!0}function r(t,i){var s=this._parent._caller;if(this.val&&!s.popupWindow){g||(g=e("../popup"));var r=new g({name:"popupWindow",on:{user:u.user,language:u.user.language,token:u.user.token,newsletter:u.user.newsletter,overlay:u.overlay,loading:u.loading,popup:u.popup}});s.add(r,s.notification),s.popupWindow.on.popup._update()}t()}function n(e,t){var i=this._parent._caller;this.val&&!i.notification&&(i.set({notification:new m({on:{notification:u.notification}})}),i.notification.on.notification._update()),e()}function o(e,t){var i=this._parent._caller,s=i.loader,r=i.cancel,n=i.checkParent("on.overlay",!0),o=this;this.clearCache(),i._cancelTimer&&(clearTimeout(i._cancelTimer),i._cancelTimer=null),this.val?(n.val||(n.from.val="loading"),s||(i.set({loader:new b}),i._cancelTimer=setTimeout(function(){i.set({cancel:{btn:{text:"cancel"},events:{click:function(){o.from.val=!1}}}}),i._cancelTimer=null},8e3))):this.val||(r&&r.remove(),s&&s.remove(),"loading"===n.val&&(n.from.val=!1)),e()}function a(e){var t=this._parent._caller;t._cancelTimer&&clearTimeout(t._cancelTimer),e()}e("./style.less");var l,c=e("old-vigour-js/app/ui/element"),u=e("old-vigour-js/app/"),d=e("old-vigour-js/browser/cases"),p=e("./menu"),v=e("../icon"),f=e("../ad"),h=f.Interstitial;f.Billboard;if(d.tv)l=e("./tv"),t.exports=i=new c({css:"first-state",sidemenu:new p.Sidemenu,w:{parent:"w"},h:{parent:"h"},switcher:new l({position:"absolute",h:{parent:"h"}})}).Class;else{var m=e("./notification");l=e("./switcher");var g,y=e("./miniplayer"),b=(e("../player"),e("./watch"),e("../loader")),w=e("old-vigour-js/browser/events/util").postpone,j=w(function(e,t){e.topbar&&(e.topbar.display=t?"block":"none",e.switcher.y=t?40:0,e._block=!0,e.w.update())},100);d.phone?t.exports=i=new c({css:"first-state",ad:new h,on:{popup:{defer:r},notification:{defer:n},loading:{defer:o},$remove:{defer:a},$render:{defer:function(e){var t=this._parent._caller,i=t.section;i.on.msmedia._update(),t.on.popup._update(t.on.popup.val),e()}}},w:{parent:"w"},h:{parent:"h"},section:{on:{msmedia:{init:s}},w:{parent:"w"},h:{parent:"h"},switcher:new l({position:"absolute",y:{translate:!0,val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}},h:{parent:"h",sub:{val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}}}}),linkback:{position:"absolute",y:{translate:!0,val:p.Topbar.base.h,sub:{val:30,$fromMtvSite:0}},title:{text:{dictionary:"text.backlink"}},close:new v({icon:"close","events.click":function(e){e.prevent=!0,e.preventDefault(),d.$fromMtvSite.val=!1}}),"events.click":function(){document.location.href=u.fromMtvSite}},topmenu:new p.Topmenu({on:{menu:u.menu}}),topbar:new p.Topbar({display:{desktop:"none"}})}}).Class:t.exports=i=new c({css:"first-state",on:{state:{defer:function(e){var t=this.from.val,i=this._parent._caller,l=i.section;"first"!==t||i.w||(i.set({on:{popup:{defer:r},notification:{defer:n},loading:{defer:o},$remove:{defer:a},fullscreen:{val:d.$isFullscreen,defer:function(e){var t=this._parent._caller.section;t.x._p=!0,window.requestAnimationFrame(function(){t&&t.x&&(t.x._p=null)}),e()}}},w:{parent:"w"},h:{parent:"h"},sidemenu:new p.Sidemenu({data:u.user.navigation}),section:{on:{msmedia:{init:s}},x:{val:d.tablet?{val:0,$isFullscreen:0}:{val:200,$isFullscreen:0},animation:{time:18,easing:"outCubic"}},w:{parent:"w",desktop:{sub:{self:"x"}}},h:{parent:"h"},switcher:{position:"absolute",h:{parent:"h"},touch:{y:{translate:!0,val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30,$isFullscreen:0},$isFullscreen:0},h:{sub:{val:p.Topbar.base.h,add:{val:0,$fromMtvSite:30}}}}}}}),l.on.msmedia._update(),i.on.popup._update(i.on.popup.val),d.desktop&&(l.x._p=!0,l.x={val:u.w,defer:function(e,t){t[0]?(this._p=!0,e(),this._p=null):e()},transform:function(e,t){if(d.$isFullscreen.val)return 0;var i=u.w.val<1300;return this._block?this._block=null:j(this,i),i&&!u.menu.val?0:200}},l.x._p=null)),l.x._p=!0,window.requestAnimationFrame(function(){l.x&&(l.x._p=null)}),e()}},$parent:{defer:function(e){this._parent.state._update(),e()}}},sidemenu:{},section:{x:{translate:!0},switcher:new l,tablet:{linkback:{position:"absolute",y:{translate:!0,val:p.Topbar.base.h,sub:{val:30,$fromMtvSite:0}},title:{text:{dictionary:"text.backlink"}},close:new v({icon:"close","events.click":function(e){e.prevent=!0,e.preventDefault(),d.$fromMtvSite.val=!1}}),"events.click":function(){document.location.href=u.fromMtvSite}}},topbar:new p.Topbar({display:{desktop:"none"}})}}).Class,i.base.set({overlay:{display:"none","events.click":function(){var e=this.parent.on.loading,t=this.parent.on.popup;e.val||(t.from=!1)}},on:{overlay:{defer:function(e,t){var i=this.from;return i?(i.val?this._parent._caller.overlay.display.val="block":i.val||(this._parent._caller.overlay.display.val="none"),void e()):!0}}}})}},{"../ad":"/Users/ricksmit/dev/mtv-play/components/ad/index.js","../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../loader":"/Users/ricksmit/dev/mtv-play/components/loader/index.js","../player":"/Users/ricksmit/dev/mtv-play/components/player/index.js","../popup":"/Users/ricksmit/dev/mtv-play/components/popup/index.js","./menu":"/Users/ricksmit/dev/mtv-play/components/first/menu/index.js","./miniplayer":"/Users/ricksmit/dev/mtv-play/components/first/miniplayer/index.js","./notification":"/Users/ricksmit/dev/mtv-play/components/first/notification/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/style.less","./switcher":"/Users/ricksmit/dev/mtv-play/components/first/switcher/index.js","./tv":"/Users/ricksmit/dev/mtv-play/components/first/tv/index.js","./watch":"/Users/ricksmit/dev/mtv-play/components/first/watch/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js"}],"/Users/ricksmit/dev/mtv-play/components/first/menu/casticon.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=(e("../../item"),e("../../img"),e("../../icon")),n=(e("../../text"),e("old-vigour-js/app/")),o=e("../../loader"),a=new s({css:"relative-size",text:n.user.devices.$length,display:"relative",opacity:{val:0,$isLoggedIn:1}}).Class;t.exports=i=new s({content:new r({icon:"cast",scale:{val:1,animation:{start:1,time:18,easing:"outCubic",done:function(){this.scale.val=1}}},display:"block",number:new a,css:{$hasReceiver:"ui-icon hasReceiver"},opacity:{val:.5,$hasDevices:{val:.5,$isLoggedIn:1}},"events.click":function(e){e.prevent=!0;var t=this.checkParent("on.popup",!0);t.from="devices"}}),css:"ui-icon cast","!$connected":{content:{display:"none"},loader:new o.Simple}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../../loader":"/Users/ricksmit/dev/mtv-play/components/loader/index.js","../../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/menu/index.js":[function(e,t,i){function s(e){return l.phone?function(){this.checkParent("topmenu",!0).hide(),c.user.navigation.page.$userOrigin=e}:l.tablet?function(){this.checkParent("section",!0).x=0,c.user.navigation.page.$userOrigin=e}:function(){c.user.navigation.page.$userOrigin=e}}function r(e){if(e.prevent=!0,l.touch){var t=this._d,i=void 0===t||t&&!t.__t;if(i)if(l.phone){var s=this.checkParent("topmenu",!0);s.toggle()}else{var r=this.checkParent("section",!0),n=r.x.val,o=this.parent.caret,a="closeMenu";n?(r.x=0,o.rotate=-90):(r.x=200,o.rotate=90,r.node.style.pointerEvents="none",c.addEvent("click",function(e){r.x=0,o.rotate=-90,c.removeEvent(!1,a),r.node.style.pointerEvents="auto"},a))}else this.checkParent("switcher",!0).back()}else{var r=this.checkParent("section",!0),n=r.x.val,o=this.parent.caret,a="closeMenu";n?(c.menu.val=!1,r.x.update(),o.rotate=-90):(c.menu.val=!0,o.rotate=90,r.x.update(),r.node.style.pointerEvents="none",c.addEvent("click",function(e){c.menu.val=!1,r.x.update(),o.rotate=-90,c.removeEvent(!1,a),r.node.style.pointerEvents="auto"},a))}}e("./style.less");var n=e("old-vigour-js/app/ui/element"),o=e("../../icon"),a=e("../../text"),l=e("old-vigour-js/browser/cases"),c=e("old-vigour-js/app/"),u=e("./casticon"),d=e("old-vigour-js/app/dictionary"),p=d.get("text.nav.television"),v=d.get("text.nav.shows"),f=new a.Title({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.data=c.content.get([this._name,"list","0"]),e.val="article"},css:"term"}).Class,h=new n({append:[new n({tv:{text:{data:"page",transform:function(e,t){return t===this.name&&"menu"===c.focusState.val&&this.$focus(),"menu"!==c.focusState.val&&this._$focused&&this.$focus(!1,!0),""},listen:c.focusState},css:"menu-item"},events:{arrowUp:function(){this.$prev.val&&this.$prev.val.events.click._val.call(this.$prev.val)},arrowRight:function(){"settings"!==this.name&&(c.focusState.from.val="grid")},$focus:function(e){if(e){var t,i=this.parent&&this.parent.children;if(i){for(var s=i.length-1;s>=0;s--)t=i[s],t!==this&&(t.css.val="menu-item");this.css.val="menu-item current"}}},arrowDown:function(){this.$next.val&&this.$next.val.events.click._val.call(this.$next.val)}},"!tv":{css:{data:"page",transform:function(e,t){var i="menu-item",s=i+" current";return"string"==typeof t?t===this.name?s:i:"shows"===this.name?s:i}},lefticon:new o},title:{crawler:{node:"a",attr:{onclick:"return false"}}}}).Class,{name:"discover","!tv.lefticon.icon":"discover","title.text.dictionary":"text.nav.discover","events.click":s("discover"),"title.href":"discover"},{name:"shows","!tv.lefticon.icon":"shows","title.text.dictionary":"text.nav.shows","events.click":s("shows"),"title.href":"shows"},{name:"channels","!tv.lefticon.icon":"tv","title.text.dictionary":"text.nav.television","events.click":s("channels"),"title.href":"channels"},{name:"settings","!tv.lefticon.icon":"settings","title.text.dictionary":l.tv?"text.account.signin.title":"text.nav.settings","tv.display":{val:"table",$isLoggedIn:"none"},"events.click":function(){if(l.tv){this.$focus(!0);var e=this.checkParent("switcher",!0);e&&e.on.signin.update()}else this.checkParent("on.popup",!0).from.val="settings"}}]}).Class;i.Sidemenu=new n({css:l.tv?{val:c.focusState,transform:function(e,t){var i="menu"!==t?" unfocus":"";return"first-menu first-sidemenu"+i}}:"first-menu first-sidemenu","desktop.$fromMtvSite.linkback":{arrow:new o({icon:"leftnav"}),title:{text:{dictionary:"text.backlink"}},"events.click":function(){document.location.href=c.fromMtvSite}},"!tv.logo":new o({icon:"logo"}),items:new h({y:{tv:c.h.val/5-28}}),"!tv.bottom":{button:{display:{val:"block",tv:"none",$isUpgraded:"none"},css:"register",text:{dictionary:{val:"text.account.signup.title",$isLoggedIn:"text.upgrade"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?!l.$isUpgraded.val&&"upgrade":"register"}},login:{css:"button",display:{val:"block",$isLoggedIn:"none"},text:{dictionary:"text.account.signin.title"},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from="login"}},profile:{"!tv.icon":new o({y:-34,icon:{val:"profile",transform:{val:function(e,t){return c.user.profilepic.val?"empty":void 0},listen:c.user.profilepic}}}),img:{background:{val:c.user.profilepic,display:{val:function(){return c.user.profilepic.val?"block":"none"},listen:c.user.profilepic}}},"events.click":function(){this.checkParent("on.popup",!0).from.val="profile"}},"!tv.cast":new u({opacity:{"!phone":{"!$isLoggedIn":0}}})},"!tv.terms":{display:{val:function(){return c.h.val<=600?"none":"block"},listen:c.h},imprint:new f({"text.dictionary":"text.imprint"}),privacy:new f({"text.dictionary":"text.privacy"}),terms:new f({"text.dictionary":"text.terms"})}}).Class,i.Topbar=new n({css:"first-menu first-topbar",on:{page:{defer:function(e,t){var i=this._parent._caller,s=this.from.val,r="first-menu first-topbar toplevel";"discover"===s?(i.css=r+" logo",i.holder.title.text.val={transform:""}):(i.css=r,i.holder.title.text.val={transform:"channels"===s?p:v}),i.data={title:s,icon:s},e()}},show:{defer:function(e,t){var i=this._parent._caller;i.parent.topmenu;i.holder.title.text.val={transform:!1},i.data=this.from.val,i.css="first-menu first-topbar",e()}},media:{defer:function(e,t){var i=this._parent._caller;i.parent.topmenu;i.holder.title.text.val={transform:!1},i.data=this.from.val,i.css="first-menu first-topbar",e()}},$parent:function(e,t){e()}},h:{val:40,iosFull:60},holder:{lefticon:new o({icon:l.desktop?"menu":{data:"title",transform:l.phone?function(e,t){var i=this._d,s=i&&!i.__t;return void 0===i?"menu":s?"channels"===t?"tv":t:"arrowleft"}:function(e,t){var i=this._d,s=i&&!i.__t;return s?"menu":"arrowleft"}},"events.click":r}),caret:new o({icon:"dropdown","!phone":{rotate:-90},"events.click":r}),title:{text:{data:"title","default":""}},righticon:new u},"events.click":function(e){e.prevent=!0;var t=this._d,i=void 0===t||t&&!t.__t;if(i&&l.touch){var s=this.holder.lefticon;s.events.click._val.call(s,e)}}}).Class,i.Topmenu=new n({css:"first-menu first-topmenu",position:"absolute",h:{parent:"h",sub:i.Topbar.base.h},on:{menu:{defer:function(e,t){var i=this._parent._caller;this.clearCache(),this.val?i.show():i.hide(),e()}},$render:{defer:function(e){this._parent.menu._update(),e()}}},y:{translate:!0,val:-c.h.val,add:i.Topbar.base.h},bottom:{position:"absolute",y:256,h:{parent:"h",sub:256},terms:{imprint:new f({"text.dictionary":"text.imprint"}),privacy:new f({"text.dictionary":"text.privacy"}),terms:new f({"text.dictionary":"text.terms"})}},top:{items:new h,account:{css:"menu-item",left:{css:{val:"profile",$isUpgraded:"$isUpgraded"},picture:{display:{val:"none",$isLoggedIn:"block"},icon:new o({icon:{val:"profile",transform:{val:function(e,t){return c.user.profilepic.val?"empty":void 0},listen:c.user.profilepic}}}),img:{background:{val:c.user.profilepic,display:{val:function(){return c.user.profilepic.val?"block":"none"},listen:c.user.profilepic}}}},text:{dictionary:{val:"text.account.signin.title",$isLoggedIn:"text.profile"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?"profile":"login"}},right:{css:{val:"register",$isLoggedIn:"upgrade"},display:{val:"table-cell",$isUpgraded:"none"},text:{dictionary:{val:"text.account.signup.title",$isLoggedIn:"text.upgrade"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?"upgrade":"register"}}}}}).Class,i.Topmenu.base.define({hide:function(){this.y=-this.h.val,this.parent.topbar.holder?this.parent.topbar.holder.caret.rotate=0:console.error("!ERROR this.parent.topbar.holder.caret",this)},show:function(){this.y=0,this.parent.topbar.holder.caret.rotate=180},toggle:function(){var e=this.y.val<0;e?this.show():this.hide()}})},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","./casticon":"/Users/ricksmit/dev/mtv-play/components/first/menu/casticon.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/menu/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/menu/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/miniplayer/index.js":[function(e,t,i){function s(e){var t=this.node.getBoundingClientRect(),i=t.left,s=(e.x-i)/(t.right-i);o.user.receiver.volume.from.val=s>1?1:0>s?0:s}e("./style.less");var r=e("../../icon"),n=e("../../img"),o=e("old-vigour-js/app/"),a=e("old-vigour-js/app/ui/element"),l=e("../../player/controls"),c=e("../../player/volume"),u=e("old-vigour-js/browser/cases"),d=new r({icon:{val:!1,transform:function(e,t){return t?"pause":"play"}},"events.click":function(e){e.prevent=!0;var t=this.checkParent("on.play",!0).from;t.val=!t.val}});t.exports=new a({css:"mini-player",position:"absolute",on:{msmedia:{defer:function(e){var t=this._parent,i=t._caller,s=this.$userOrigin,r=s.val&&"channels"===s.from._parent._name;if(s.val&&(i.data={media:s,mediausage:t.usage.from.get(s.from._contentPath),volume:t.volume.from}),i.y=s.val?u.phone&&r?24:0:u.phone?82:58,!u.phone){var n=i.controls.node.style;r?(n.visibility="hidden",n.pointerEvents="none"):(n.visibility="visible",n.pointerEvents="auto ")}e()}}},y:{translate:!0,val:u.phone?82:58,animation:{time:18,easing:"outCubic"},transform:function(e,t){return u.$hasReceiver.val?t:u.phone?82:58},listen:u.$hasReceiver},clickable:{img:new n({background:{data:"media.img"},h:58,w:{val:115,phone:58}}),info:{title:{text:{data:"media.show.title","default":{dictionary:"text.nowOnTv"}}},subtitle:{text:{data:"media.title"}}},events:{click:function(){var e=this.parent.data.media.from,t=this.checkParent("on.navigation._val",!0);t.media.$userOrigin=e}}},phone:{slider:new r({icon:"volume","events.click":function(e){e.prevent=!0;var t=this.checkParent("section",!0);t.volumepopup?t.volumepopup.remove():t.set({volumepopup:{h:o.h,modal:{css:"move-in",title:{text:"volume"},bar:{css:"ui-seekbar",bg:{},seek:{w:{data:"volume",transform:function(e,t){return t=isNaN(t)||!t&&0!==t?1:t,100*Math.abs(t)+"%"}},data:o.user.receiver},button:{},events:{down:s,drag:s,up:s}},done:{text:"done",events:{click:function(){t.volumepopup.remove()}}},events:{click:function(e){e.prevent=!0}}},events:{click:function(){t.volumepopup.remove()}}}})}})},play:d,controls:new l,"!phone":{volume:new c({bars:{data:"volume"}})},model:{subscription:{epgid:!0}}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../player/controls":"/Users/ricksmit/dev/mtv-play/components/player/controls/index.js","../../player/volume":"/Users/ricksmit/dev/mtv-play/components/player/volume/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/miniplayer/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/miniplayer/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/notification/config.js":[function(e,t,i){t.exports={timeout:1e4,map:{favourite:{lefticon:{icon:"favoriteadd",css:{addClass:"favorite"}},css:{addClass:"success"},txt:{title:{text:{dictionary:"text.favoriteAdded"}}}},unfavourite:{lefticon:{icon:"favoriteremove",css:{addClass:"unfavorite"}},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.favoriteRemoved"}}}},loginSuccess:{lefticon:{icon:"right"},css:{addClass:"success"},txt:{title:{text:{dictionary:"text.account.signin.success"}}}},loginError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.signin.wrong"}}}},facebookError:{lefticon:{icon:"facebook"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.signin.facebookError"}}}},registerSuccess:{lefticon:{icon:"email"},css:{addClass:""},duration:5e5,txt:{title:{text:{dictionary:"text.verifyEmail.title"}},subtitle:{text:{dictionary:"text.verifyEmail.subtitle"}}}},email:{"txt.title.text.dictionary":"text.account.invalid.email"},emailExists:{"txt.title.text.dictionary":"text.account.signup.already"},registerError:{"txt.title.text.dictionary":"text.account.signin.wrong"},registerErrorExists:{"txt.title.text.dictionary":"text.account.signup.already"},registerErrorInvalid:{"txt.title.text.dictionary":"text.account.signin.wrong"},blankEmail:{"txt.title.text.dictionary":"text.account.signin.wrong"},password:{"txt.title.text.dictionary":"text.account.passwordResetError"},passwordShort:{"txt.title.text.dictionary":"text.account.invalid.password"},noMatchPassword:{"txt.title.text.dictionary":"text.noMatchPassword"},verifyEmailSuccess:{lefticon:{icon:"email"},css:{addClass:"success"},duration:5e5,txt:{title:{text:{dictionary:"text.account.verifyEmailSuccess.title"}},subtitle:{text:{dictionary:"text.account.verifyEmailSuccess.subtitle"}}}},verifyEmailError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.verifyEmailError"}}}},operatorUpgradeError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.operator.credentials.wrong"}}}},operatorWrongCredentials:{lefticon:{icon:"wrong"},css:{addClass:"error"},"txt.title.text.dictionary":"text.operator.credentials.wrong"},operatorCredentialsTooOften:{lefticon:{icon:"wrong"},css:{addClass:"error"},"txt.title.text.dictionary":"text.operator.credentials.used"},operatorEmailTaken:{lefticon:{icon:"wrong"},css:{addClass:"error"},"txt.title.text.dictionary":"text.operator.credentials.account"},appUpgrade:{lefticon:{icon:"warning"},duration:5e8,txt:{title:{text:{dictionary:"text.versionAvailable"}},"events.click":function(e){window.location.reload()}}},enable4g:{txt:{title:{text:{dictionary:"modal.warning.cellular.title"}},subtitle:{text:{dictionary:"modal.warning.cellular.subtitle"}}}},passwordForgot:{"txt.title.text.dictionary":"text.account.forgot.success"},passwordForgotError:{"txt.title.text.dictionary":"text.account.forgot.wrong"},passwordReset:{"txt.title.text.dictionary":"text.account.passwordReset"},passwordResetError:{"txt.title.text.dictionary":"text.account.passwordResetError"},invalidPasswordToken:{"txt.title.text.dictionary":"text.account.passwordResetError"},resetTokenExpired:{"txt.title.text.dictionary":"text.account.passwordResetError"},shareSuccess:{"txt.title.text.dictionary":"share.success"},shareError:{"txt.title.text.dictionary":"share.failed"},mobileUpgradeSuccess:{"txt.title.text.dictionary":"text.hoorayMobileTitle"},mobileUpgradeError:{"txt.title.text.dictionary":"modal.warning.unabletoverify"},mobileVerifySuccess:{"txt.title.text.dictionary":"text.verifysuccess"},mobileVerifyError:{"txt.title.text.dictionary":"text.verifyfail"},invalidNumber:{"txt.title.text.dictionary":"text.verifyfail"},numberExists:{"txt.title.text.dictionary":"text.verifytaken"},purchaseError:{"txt.title.text.dictionary":"text.account.purchaseError"},upgraded:{"txt.title.text.dictionary":"text.upgradedMessage"},subscription:{"txt.title.text.dictionary":"text.account.purchaseError"},singleEpisodePurchased:{"txt.title.text.dictionary":"singleEpisodePurchased"},invalid:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.invalidEntry"}}}},expired:{"txt.title.text.dictionary":"text.invalidEntry"},terms:{"txt.title.text.dictionary":"text.invalidEntry"},privacy:{"txt.title.text.dictionary":"text.invalidEntry"},invalidEmail:{"txt.title.text.dictionary":"text.account.forgot.wrong"},mobileTimeout:{"txt.title.text.dictionary":"text.mobileTimeout"}}}},{}],"/Users/ricksmit/dev/mtv-play/components/first/notification/index.js":[function(e,t,i){e("./style.less");var s=e("../../icon"),r=e("../../item"),n=e("old-vigour-js/app/ui/switcher"),o=e("./config"),a=e("old-vigour-js/browser/cases"),l=o.map,c=new r({on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},position:"absolute",y:{val:40,iosFull:64,animation:{start:0,time:18,easing:"outCubic",complete:function(){var e=this.duration;if(e){var t=this;this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t&&t.parent&&(t.parent.remove(),t.css={addClass:"fade-out"}),this._timer=null},e)}}}},lefticon:new s({icon:"warning"}),txt:{title:{text:""},subtitle:{text:{val:"",defer:function(e){this._caller.display=this._val?"block":"none",e()}}}},"events.click":function(){var e=this.checkParent("on.notification",!0).from;e.val=!1},righticon:new s({icon:"close",events:{click:function(e){e.prevent=!0;var t=this.checkParent("on.notification",!0).from;t.val=!1}}})}).Class;t.exports=new n({css:"first-notification",y:{val:-40,iosFull:-64},iosFull:{},on:{notification:{defer:function(e,t){var i,s=this._parent._caller,r=this.from,n=r.val;if("appUpgrade"===n&&!a["native"])return void e();if(t[0]===!1){var u=s.node.childNodes[s.node.childNodes.length-1].base;u.css={addClass:"fade-out"},u._timer=setTimeout(function(){s.remove()},500)}else{i=r.type,i&&"api"!==i&&(n=i,r.type=null);var d=l[n]&&l[n].duration||o.timeout;s.transition={element:c,$params:l[n]||{txt:{title:{text:n}}},$options:{force:!0,duration:d}},this._timer&&(clearTimeout(this._timer),this._timer=null),setTimeout(function(){r.val===n&&(r.val=!1),this._timer=null},d)}e()}}},onTransition:function(e,t,i,s){this.add(e),e.duration=s.duration,t&&(t.css={addClass:"fade-out"})}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","./config":"/Users/ricksmit/dev/mtv-play/components/first/notification/config.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/notification/style.less","old-vigour-js/app/ui/switcher":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/notification/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/overview/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("./item"),n=e("../../ad").Billboard;t.exports=i=new s({css:"first-overview","touch.scrollbar":"y",x:{translate:!0},"!phone.ad":new n({attr:{id:"leaderboard"}})}).Class,i.Items=new s({pageheader:{}}).Class,i.Item=r},{"../../ad":"/Users/ricksmit/dev/mtv-play/components/ad/index.js","./item":"/Users/ricksmit/dev/mtv-play/components/first/overview/item.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/overview/style.less","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/overview/item.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/"),r=e("old-vigour-js/app/ui/element"),n=e("../../icon"),o=e("../../img"),a=e("old-vigour-js/browser/cases"),l=e("../../epg_temp"),c=e("../../item"),u=e("../../player/seekbar"),d=(c.TitleSubtitle,l.clockTime),p=e("old-vigour-js/app/dictionary"),v=a.touch?new c.Thumb({display:"table"}):new c.Large({display:"inline-block"});if(a.slow||((a.touch?v.thumb.img:v.thumb).background={load:function(e){e.opacity=1}}),t.exports=i=v.set({events:{active:"ui-item-clicked"}}).Class,!a.touch){var f=p.get("text.noEPG");i.Tv=new r({css:"ui-item-large tv",display:"inline-block",thumb:new o.Overlay({w:310,h:221,access:new n({on:{data:"id"},icon:{data:"access",transform:function(e,t){var i=s.util.access(t,this.data);return"playAlt"===i?"empty":i},listen:s.user.role}})}),info:{title:{css:"ui-item-text",text:{data:"title"}},"now.text.dictionary":"text.now",epg:{showtitle:{text:{data:"title"}},time:{text:{val:{data:"minutes_since_midnight",transform:d,add:[" - ",{data:"endtime",transform:d}]},transform:function(e,t){var i=this.data;return i&&i.val?t:f.val},listen:p}},bar:new u({w:{val:221,clear:!0},seek:{w:{val:221,multiply:{val:l.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"}},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.info.epg.data=l.now(t),this.model=!1)}},events:{click:function(){this.checkParent("on.media",!0).$userOrigin=this.data.from}}}).Class}},{"../../epg_temp":"/Users/ricksmit/dev/mtv-play/components/epg_temp.js","../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../../player/seekbar":"/Users/ricksmit/dev/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/overview/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/overview/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/seasons/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("../../icon"),n=e("../../img"),o=e("../../text"),a=e("../favourite"),l=e("old-vigour-js/app/"),c=e("old-vigour-js/browser/cases"),u="dropDownEventId",d=e("old-vigour-js/app/dictionary"),p=d.get("text.season"),v=d.get("text.episode"),f=d.get("text.min"),h=d.get("text.specials"),m=new s({collection:{data:"season.episodes",filter:!0,element:new s({model:function(e){var t=e._contentPath;t&&!~t.indexOf("channels")&&(this.holder.thumb.cover.data=l.user.usage.from.get(t),this.model=!1)},holder:{crawler:{node:"a",href:{data:function(e){return l.user.$parse(e).url||""}},attr:{onclick:"return false"}},thumb:{w:100,img:new n({w:100,h:75}),cover:{y:c.desktop?-75:-5,h:c.desktop?75:5,model:{inherit:!1},desktop:{percentage:{text:{data:"time",transform:function(e,t){var i=Math.floor(100*t);return i?Math.abs(i)+"%":""}}}},bar:{w:{data:"time",transform:function(e,t){return isNaN(t)?0:100*Math.abs(t)}}}}},txt:{title:new o.Title,subtitle:{text:{data:"number",transform:function(e,t){return t>9e3?"":v.val+" "+t+" - "},add:{data:"duration",transform:function(e,t){return t?~~(t/60)+" "+f.val:""},listen:d}}}},righticon:new r({on:{data:"id"},icon:{data:"access",transform:function(e,t){var i=l.util.access(t,this.data),s="playAlt"===i?c.desktop?"empty":"arrowright":i;return"lockedContent"===s?"lockedContentAlt":s},listen:[l.user.role,l.user.purchases]}})},border:{},"events.click":function(){l.user.navigation.media.$userOrigin=this.data.from}})}}).Class;t.exports=new s({on:{media:{defer:function(e,t){var i=l.user.navigation.media.from.val;if(i){var s=this._parent._caller,r=s.list.find("data",i);r&&!r.css.val&&(s.prev&&(s.prev.css=!1),r.css="current",s.prev=r)}e()}}},title:{text:{val:{dictionary:"text.episodes"},tablet:{data:"show.title"}}},tablet:{favourite:new a},list:{tablet:{scrollbar:"y",h:{val:l.h,sub:{val:99,
iosFull:119}}},eps:new m({display:{val:!0,transform:function(e,t){return t===!1?"none":"block"}},model:{complete:function(e){this.parent&&this.parent.parent.on.media._update()}}}),extrasHeader:{display:{data:"season.extras",transform:function(e,t){return t&&t[0]?"block":"none"}},text:{dictionary:"text.extras"}},extras:new m({collection:{data:"season.extras"}})},dropdown:{h:30,on:{$remove:{defer:function(e){l.removeEvent(!1,u),e()}}},current:{text:{data:"season.number",transform:function(e,t){return 9e3!==t?p.val+" "+t:h.val},listen:d},caret:new r({icon:"dropdown"})},collection:{data:"show.seasons",filter:!0,element:new s({crawler:{node:"a",attr:{onclick:"return false"},href:{data:function(e){return"shows/"+e._parent._parent._name+"/"+e.number+"/1"||""}},attr:{onclick:"return false"}},text:{data:"number",transform:function(e,t){return 9e3!==t?p.val+" "+t:h.val},listen:d},"events.click":function(){var e=this.data.from;l.user.navigation.season.$userOrigin=e,e.get("episodes")}})},"events.click":function(){var e=this.children.length,t=this;30===this.h.val&&e>2?(this.h=30*e+4,l.addEvent("click",function(){t.h&&(t.h=30),l.removeEvent(!1,u)},u)):this.h=30},"model.complete":function(){this.children.length<=2?this.css={addClass:"inactive"}:this.css={removeClass:"inactive"}}},model:function(e){e.media&&(this.model=!1)}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","../favourite":"/Users/ricksmit/dev/mtv-play/components/first/favourite/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/seasons/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/seasons/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/show/cover.js":[function(e,t,i){e("./style.less");var s=e("../../img"),r=(e("../../text").TitleSubtitle,e("old-vigour-js/app/ui/element"),e("old-vigour-js/browser/cases"),e("./switcher"),e("../favourite")),n=(e("old-vigour-js/app/"),new s({background:{data:"show.img"},h:{val:220,ios:{animation:{time:24,easing:"outCubic"}}},w:{parent:"w"},info:{position:"absolute",y:{translate:!0},opacity:{parent:"h",transform:function(e,t){return 440/t-1}},box:{star:new r,description:{model:{subscription:{description:!0}},text:{data:"show.description",transform:function(e,t){if(!t.length)return t;var i=t.slice(0,300),s=Math.max(Math.max(i.lastIndexOf("."),i.lastIndexOf("!")),i.lastIndexOf("?"));return~s?i.slice(0,s+1):i+".."}}}}}}).Class);t.exports=i=n},{"../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","../favourite":"/Users/ricksmit/dev/mtv-play/components/first/favourite/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/show/style.less","./switcher":"/Users/ricksmit/dev/mtv-play/components/first/show/switcher.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/show/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/browser/cases");if(s.phone){var r=e("old-vigour-js/app/ui/element"),n=e("./switcher"),o=(e("./list"),e("./cover")),a=e("old-vigour-js/browser/events"),s=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/app/"),c=(a.document,e("../overview/item"),e("../favourite")),u=(e("../../player"),new r({css:"show",x:{translate:!0},model:function(e){if(e.show){var t=e.show._cachedPath;t&&(i.state&&i.state.path===t&&this.set(i.state.params),this.model=!1)}},on:{$remove:{defer:function(e){var t=this._parent._caller;i.state={path:t.data.show&&t.data.show._cachedPath,params:{cover:{h:t.cover.h.val},switcher:{y:t.switcher.y.val}}},e()}},season:{defer:function(e){var t=this._parent._caller,i=this._val.from;n.set(t.switcher,i._parent,i._name),e()}}},phone:{cover:new o},desktop:{header:{css:"ui-header",append:new r({text:{data:"title"},display:"inline"}),star:c}},switcher:new n({w:l.w}),events:{down:s.ios?function(e){var t=this,i=t.cover,s="seasonmove",r=i.h.val,o=this.switcher._currentList,l=o.node.scrollTop>1;t._y=e.y,i.h._p=!0,t.addEvent("move",function(e){var s=e.y,o=e.x,c=t._y-s,u=!r&&c>0||l;!n.block&&!l&&Math.abs(t._x-o)<Math.abs(c)&&(a.click.block=!0,i.h=i.h.val-c),u||e.preventDefault(),t._y=s,t._x=o},s),t.addEvent("up",function(){a.click.block=!1,i.h._p=!1,i.h=i.h.val>110?220:0,t._y=null,t._x=null,t.removeEvent(!1,s)},s)}:s.slow?function(e){function t(){a.click.block=!1,r.y._p=!1,i._y=null,i._x=null,i.removeEvent(!1,s)}var i=this,s=(i.cover,"seasonmove"),r=this.switcher,o=-220!==r.y.val,l=r._currentList,c=l.node.style,u=l.node.scrollTop>1;i._y=e.y,r.y._p=!0,i.addEvent("move",function(e){var s=e.y,l=e.x,d=i._y-s,p=!o&&d>0||u;!n.block&&!u&&Math.abs(i._x-l)<Math.abs(d)&&(a.click.block=!0,d>0?r.y.val=-220:r.y=0,t()),p?c.overflow="scroll":(c.overflow="hidden",e.preventDefault()),i._y=s,i._x=l},s),i.addEvent("up",t,s)}:function(e){var t,i=this,s=(i.cover,"seasonmove"),r=this.switcher,o=-220!==r.y.val,l=r._currentList,c=l.node.scrollTop>1;i._y=e.y,r.y._p=!0,i.addEvent("move",function(e){var s=e.y,l=e.x,u=i._y-s,d=!o&&u>0||c;!n.block&&!c&&Math.abs(i._x-l)<Math.abs(u)&&(a.click.block=!0,t=r.y.val-u,r.y=Math.min(Math.max(t,-220),0)),d||e.preventDefault(),i._y=s,i._x=l},s),i.addEvent("up",function(){a.click.block=!1,r.y._p=!1,r.y=r.y.val<-110?-220:0,i._y=null,i._x=null,i.removeEvent(!1,s)},s)}}}));t.exports=i=u.Class}else t.exports=e("../watch")},{"../../player":"/Users/ricksmit/dev/mtv-play/components/player/index.js","../favourite":"/Users/ricksmit/dev/mtv-play/components/first/favourite/index.js","../overview/item":"/Users/ricksmit/dev/mtv-play/components/first/overview/item.js","../watch":"/Users/ricksmit/dev/mtv-play/components/first/watch/index.js","./cover":"/Users/ricksmit/dev/mtv-play/components/first/show/cover.js","./list":"/Users/ricksmit/dev/mtv-play/components/first/show/list.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/show/style.less","./switcher":"/Users/ricksmit/dev/mtv-play/components/first/show/switcher.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/show/list.js":[function(e,t,i){var s=e("old-vigour-js/browser/cases"),r=e("old-vigour-js/app/ui/element"),n=e("old-vigour-js/app/"),o=e("../../img").Basic,a=e("../../item").Indicator,l=e("old-vigour-js/app/dictionary"),c=new r({collection:{data:"episodes",filter:!0,element:new a({model:function(e){var t=e._contentPath;t&&(this.thumb.bar.w=n.user.usage.from.get(t.concat(["time"])),this.model=!1)},thumb:{img:new o({w:70,h:45}),bar:{w:{transform:function(e,t){return isNaN(t)?0:70*Math.abs(t)}}}},txt:{"subtitle.text.data":{val:function(e){var t,i="";return(t=e.number&&e.number.val)&&9e3>=t&&(i+=l.get("text.episode").val+" "+t),e.duration?(i&&(i+=" - "),i+=Math.round(e.duration.val/60)+" "+l.get("text.min").val):void 0},listen:["number","duration"]}},events:{active:!s.desktop&&"ui-item-clicked",click:function(){i.block||(this.checkParent("on.media",!0).$userOrigin=this.data.from)}}})},model:{complete:function(){var e=this.parent;if(i.state){var t=this.data&&this.data._cachedPath;t&&(i.state.path===t&&(e._scrollTop=i.state.scrollTop,e.node.scrollTop=i.state.scrollTop||1),i.state=null)}else e&&s.touch&&(e.node.scrollTop=1);this.model=!1}}}).Class,u=new r({eps:new c,extrasHeader:{display:{data:"extras",transform:function(e,t){return t&&t[0]?"block":"none"}},text:{dictionary:"text.extras"}},extras:new c({collection:{data:"extras"}})}),d=new r({css:"list",scroller:u,on:{$render:{defer:function(e){var t=this._parent._caller;t.node.scrollTop=t._scrollTop||s.touch&&1,e()}}},h:{val:n.h,sub:{val:89,iosFull:109}},scrollbar:"y",model:{inherit:!1}});t.exports=i=d.Class},{"../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/show/seasons.js":[function(e,t,i){var s=(e("old-vigour-js/browser/cases"),e("old-vigour-js/browser/events"),e("old-vigour-js/app/ui/element")),r=(e("../../icon"),e("old-vigour-js/app/")),n=e("old-vigour-js/app/dictionary"),o=n.get("text.season"),a=n.get("text.specials"),l=new s({text:{data:"number",transform:function(e,t){return 9e3!==t?o.val+" "+t:a.val},listen:n}}).Class;t.exports=new s({items:{collection:{data:"show.seasons",filter:!0,element:new l({node:"a","events.click":function(){this.checkParent("on.season",!0).$userOrigin=this.data.from}})}},x:{translate:!0,parent:"w",multiply:0,"!slow":{animation:{time:Math.min(r.w.val/14,32),easing:"outCubic"}}},highlight:{x:{translate:!0}}})},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/show/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/show/switcher.js":[function(e,t,i){function s(){i.block=!1;var e=this.parent,t=e.parent.data.show.seasons,s=this._current||(this._current=0),r=this._keys||(this._keys=t.keys);if(r&&t){var n=this._l||(this._l=r.length),o=this.children,a=o[s-1],l=o[s+1];n>s&&!l&&(l=new p,this.add(l)),a&&!a.data&&(a.data=t[s-1]),l&&!l.data&&(l.data=t[s+1])}}function r(e,t){var s=Math.abs(t.x)>Math.abs(t.y);return s&&(i.block=!0),s}function n(e,t){var i=this.parent,s=i.seasons,r=this._l||this._keys.length,n=t.x,o=n/(r-1)/(3/(r-3))+this._start,a=this.x.val,l=this._current,c=this._focus||0,u=120;if(r>3&&0>a&&a>this._max&&(s.x={_e:o}),-u>n&&l!==r-1?l+=1:n>u&&0!==l&&(l-=1),c!==l){var d=s.items.children,p=i.w.val/3;s.highlight.x=p*l,d[c].css="",d[l].css="focus",this._focus=l}}function o(e,t,i){var s,r=this.parent.seasons,n=120,o=3,a=-this._current,l=this._keys.length,c=t.x||t,u=i.x||i;Math.abs(u)>o?(0>u&&!(c>n)&&(s=Math.max(a-1,-l+1)),u>0&&!(-n>c)&&(s=Math.min(a+1,0))):(-n>c&&(s=Math.max(a-1,-l+1)),c>n&&(s=Math.min(a+1,0))),void 0!==this.x._e?this.x={_esub:this.x._e.val}:void 0!==r.x._e&&(r.x={_esub:r.x._e.val}),void 0!==s&&(this.checkParent("switcher.on.season",!0).$userOrigin=r.items.children[-s].data.from)}e("./style.less");var a=e("old-vigour-js/app/ui/element"),l=e("old-vigour-js/app/"),c=e("old-vigour-js/browser/cases"),u=e("old-vigour-js/browser/events"),d=u.document,p=e("./list"),v=e("./seasons"),f=new a({on:{$remove:{defer:function(e){var t=this._parent._caller,s=t._currentList;p.state={path:s.data._cachedPath,scrollTop:s.node.scrollTop},i.block=!1,e()}}},y:{translate:!0,"!ios":{"!slow":{animation:{time:24,easing:"outCubic"}}}},touch:{line:{}},seasons:v,roll:{w:{parent:"w"},x:{translate:!0,parent:"w",multiply:0,"!slow":{animation:{time:Math.min(l.w.val/14,32),easing:"outCubic",init:function(){i.block=!0},complete:s}}},events:c.touch&&c.slow&&{down:function(e){var t,i=e.x,s=i,r=i,n=e.y,a="swipe",l=this;d.addEvent("move",function(e){i=e.x,t=i-s,s=i,t&&(u.click.block=!0)},a),d.addEvent("up",function(e){var i=e.x-r;u.click.block=!1,Math.abs(i)>Math.abs(n-e.y)&&o.call(l,e,i,t),d.removeEvent(!1,a)},a)}}},model:function(e){if(e=e.show&&e.show.seasons){var t=e.keys,s=t.length;s&&s!==this._l&&(this._keys=t,this._l=s,i.set(this,e))}},events:c.touch&&!c.slow&&{grab:{x:!0,bind:function(){return this.roll},down:function(){if(this._keys){var e=this.parent.seasons.x._e,t=this._keys.length;this._start=e?e.val:0,this._max=-l.w.val*(t-1)}},pass:r,move:n,up:o}}});t.exports=i=f.Class,i.set=function(e,t,i){for(var r=0|i,n=e.roll,o=n.children.length-1,a=e._keys||(e._keys=t.keys),l=e._l||(e._l=a.length),u=n._current,d=-r,v=e.seasons,f=v.items,h=f.children[c.desktop?r+1:r];r>o++;)n.add(new p);var m=n.children[r];if(void 0!==u){var g=f.children[c.desktop?u+1:u];v.x._p=!1,l>3&&(v.x={multiply:d/(l-1)/(3/(l-3))}),g&&(g.css=""),e.parent.x.val?n.x.preventSet({multiply:d}):n.x={multiply:d}}else l>3&&(v.x._p=!0,v.x={multiply:d/(l-1)/(3/(l-3))},v.x._p=!1),n.x.preventSet({multiply:d});e._current=n._current=r,e._currentList=m,e._keys=n._keys=a,c.touch&&(v.highlight.x=n.w.val/3*r),m.data||(m.data=t[r]),s.call(n),h&&(h.css="focus",c.desktop&&(f.current.data=h.data))}},{"./list":"/Users/ricksmit/dev/mtv-play/components/first/show/list.js","./seasons":"/Users/ricksmit/dev/mtv-play/components/first/show/seasons.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/show/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/shows/index.js":[function(e,t,i){function s(e,t){var i=t&&t.keys,s="block"===e._parent._parent._val;return i&&i.length&&s?"block":"none"}function r(e,t,i,s){var r=e/t,n=i/t,o=s.length,a=Math.round(o*n),l=a+Math.round(o*r);return 0>a&&(l+=-a,a=0),s.slice(a,l).join(".")}var n=e("../overview"),o=e("old-vigour-js/browser/cases"),a=e("../../icon"),l=e("old-vigour-js/browser/element/properties/collection/display"),c=new n.Items({pageheader:{text:{dictionary:"text.nav.shows",touch:"a - z"}},collection:{data:"shows",filter:{condition:{title:{$contains:""}},sort:"title"},option:l,element:new n.Item({"events.click":function(){this.checkParent("on.show",!0).$userOrigin=this.data.from}})},model:{subscription:{$:{$:!0}}}}),u=new n.Items({pageheader:{"text.dictionary":"text.favorites"},collection:{data:"favourites",option:l,element:new n.Item({desktop:{css:{addClass:"favo-item"},thumb:{w:{sub:15,multiply:.5},h:{self:"w",divide:4/3}},info:!1},"events.click":function(){this.checkParent("on.show",!0).$userOrigin=this.data.from}})},"!touch":{display:{val:"block",transform:{data:"favourites",transform:s}}},touch:{pageheader:{display:{val:"block",transform:{data:"favourites",transform:s}}},message:new a({icon:"favoriteadd","text.dictionary":"text.noFavos",display:{data:"favourites",transform:function(e,t){var i=t&&t.keys&&t.keys.length;return i?"none":"block"}}})}});t.exports=new n({container:{position:"relative",search:e("../../text/search"),on:{$render:{defer:function(e){var t=this._parent._caller;o.desktop?(t._parent=t.parent).addEvent("scroll",function(){},"overviewScroll"):window.requestAnimationFrame(function(){t._node&&(t.node.scrollTop=i.scrollTop||o.touch&&1,t.events.scroll._val.call(t,!1))}),t.set({on:{connect:o.$hasReceiver}}),e()}},$remove:o.desktop&&{defer:function(e){var t=this._parent._caller;t._parent.removeEvent(!1,"overviewScroll"),e()}},connect:{defer:function(e){var t=this._parent._caller;t.events.scroll._val.call(t,!1),e()}}},favos:u,items:c,events:{scroll:function(e){var t=this.node.scrollTop;if(e!==!1&&(i.scrollTop=t),o.$hasReceiver.val&&this&&this.items){var s=this.items.children,n=s.length;if(void 0===this._k||this._l!==n){for(var a=[],l=s.length-1;l>=0;l--){var c=s[l].data;c&&a.unshift(c._name)}this._k=a,this._h=this.node.offsetHeight,this._s=s[1]&&s[1].node.offsetTop,this._sh=this.node.scrollHeight-this._s,this._l=n}var u=this._h,d=this._s,p=this._sh,v=this._k;d>t&&(u-=d-t),this.data.highlight.$userOrigin=r(u,p,t-d,v)}}},model:{complete:function(){this.model={complete:null},this.node.scrollTop=i.scrollTop||o.touch&&1,this.events.scroll._val.call(this,!1)}}}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../text/search":"/Users/ricksmit/dev/mtv-play/components/text/search.js","../overview":"/Users/ricksmit/dev/mtv-play/components/first/overview/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/element/properties/collection/display":"/Users/ricksmit/dev/vigour-js/browser/element/properties/collection/display.js"}],"/Users/ricksmit/dev/mtv-play/components/first/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/switcher/index.js":[function(e,t,i){function s(e){var t=this._parent,i=t.ms._val,s=c.$isReceiver.val?i.media.$userOrigin.val:t.media.$userOrigin.val;t._caller.transition={element:p.getElement(),$params:p.getParams(t.media,s,!0)},n.state.video={val:s.from},e()}function r(){var e=this.previous;this.current;if(e){if("page"===e)return void(this.on.page.$userOrigin=this.on.page.val||("show"===this.current||"episode"===this.current)&&"shows"||"channel"===this.current&&"channels"||"discover");if(this.on[e]){var t=this.on[e].from,i=this.on.media.from;if("navigation"===t._parent._name&&("show"===e&&"navigation"!==i._parent._name?(t=i._parent._parent._parent._parent,"show"!==t._name&&(t=null)):t=null),t)return void(this.on[e].$userOrigin=t)}}this.on.page.$userOrigin="string"==typeof this.on.page.val?this.on.page.val:"discover"}e("./style.less");var n=e("old-vigour-js/app/"),o=e("old-vigour-js/app/ui/element"),a=e("old-vigour-js/app/ui/switcher"),l=e("old-vigour-js/app/ui/switcher/transitions"),c=e("old-vigour-js/browser/cases"),u=e("../../icon"),d=e("./page"),p=e("./media"),v=e("./show");t.exports=i=new a({css:"first-switcher",desktop:{scrollbar:{val:n.w,transform:function(e,t){return 1300>t||"y"}},transition:{defer:function(e){this._caller.node.scrollTop=0,e()}}},on:{page:{defer:function(){(c.$isFullscreen.val?s:d).apply(this,arguments)}},show:{defer:function(){(c.$isFullscreen.val?s:v).apply(this,arguments)}},season:{defer:function(e,t){t[0]&&this._parent.show._update(),e()}},media:{defer:function(){(c.$isFullscreen.val?s:p).apply(this,arguments)}}},onTransition:{val:"fade",touch:"slide"},backFallback:r,loader:new o({css:"first-loader",x:{translate:!0},loadicon:new u({icon:"logo"})})}).inject(l).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./media":"/Users/ricksmit/dev/mtv-play/components/first/switcher/media.js","./page":"/Users/ricksmit/dev/mtv-play/components/first/switcher/page.js","./show":"/Users/ricksmit/dev/mtv-play/components/first/switcher/show.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/switcher/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js","old-vigour-js/app/ui/switcher/transitions":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/transitions.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/switcher/media.js":[function(e,t,i){var s,r=e("old-vigour-js/browser/cases"),n=e("old-vigour-js/app/");t.exports=i=function(e){var t=this._parent._caller,s=this.$userOrigin.val||(s=this.$userOrigin.val=this.from);if(!i.isEpisode(s)){var r,o,a=s.from._path,l=a.indexOf("seasons");~l&&(r=a.lastIndexOf("channels"),o=a.slice(r,l),s=this.$userOrigin.val=n.content.get(o))}t.transition={element:i.getElement(),direction:i.getDirection(t,s),$params:i.getParams(this,s),$options:i.getOptions(s)},i.setStatus(t,s),e()},i.isEpisode=function(e){return!~e._contentPath.indexOf("channels")},i.getDirection=function(e,t){var s=e.current;return i.isEpisode(t)?"episode"!==s?1:0:"channel"!==s?1:0},i.getElement=function(){return s||(s=e("../watch"))},i.getOptions=function(e){var t=i.isEpisode(e)&&e._parent._parent,s=r.tablet&&t&&t.from,n=e.from,o=s||n;return o?{loader:o}:void 0},i.getParams=function(e,t,s){var o,a=e._parent,l=a.usage,c=a.ms._val.media.$userOrigin,u=i.isEpisode(t),d={media:t,volume:a.volume.from,msmedia:c};if(u){var p=t._parent._parent;s?d.season=p:(r.phone?a.season.$userOrigin.val=p:a.season.$userOrigin=p,d.season=a.season.$userOrigin),d.show=o=n.user.navigation.show.$userOrigin.val=p._parent._parent,d.showusage=l.from.get(o.from._contentPath),d.mediausage=l.from.get(t.from._contentPath,{time:0})}r.$isOnChannel.val=!u;var v={media:{player:{on:{msmedia:c,media:t}}},on:{channel:{val:r.$isOnChannel,listen:t},resize:r.tablet&&n.w},data:d};return v},i.setStatus=function(e,t){var s,n=e.current,o=i.isEpisode(t);s=r.phone&&o?"page"===n?n:"show":"page",e.previous=s,e.current=o?"episode":"channel"}},{"../watch":"/Users/ricksmit/dev/mtv-play/components/first/watch/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/switcher/page.js":[function(e,t,i){var s=e("old-vigour-js/browser/cases"),r=e("old-vigour-js/app").user;t.exports=function(t){var n,o,a,l=this.$userOrigin.val,c=this._parent,u=c._caller,d=c.content.from;if(l){if("discover"===l){void 0===i[l]&&(i[l]=e("../discover"));var p=r.role.val;p&&3!==p?(o={marquee:d.get("discover_marquee_premium.list"),releases:n=d.get("discover_row1_premium.list"),recommended:d.get("discover_row2_premium.list"),free:d.get("discover_row3_premium.list")},a={val:r.role,defer:function(e){p=this.from.val,p&&3!==p||(r.navigation.page.$userOrigin="discover"),e()}}):(o={marquee:d.get("discover_marquee_free.list"),releases:n=d.get("discover_row1_free.list"),recommended:d.get("discover_row2_free.list"),free:d.get("discover_row3_free.list")},a={val:r.role,defer:function(e){p=this.from.val,p&&3!==p&&(r.navigation.page.$userOrigin="discover"),e()}}),o.channels=d.get("channels"),o.watched=c.watched.from,o.scroll=c.scroll.from,o.carousel=c.carousel.from}else"shows"===l?(void 0===i[l]&&(i[l]=e("../shows")),o={shows:n=d.get("shows"),favourites:c.favourites.from,search:c.search._val,highlight:c.highlight.from}):"channels"===l&&(void 0===i[l]&&(i[l]=e("../channels")),o={channels:n=d.get("channels")});u.transition={element:i[l],$params:{data:o,on:a},$options:{loader:s.tablet&&"page"===u.current&&u._last!==l?!0:n&&n.from,animation:!(s.tablet&&"page"===u.current),delay:s.tablet&&"page"===u.current&&350},direction:"page"!==u.current&&-1},u.current="page",u._last=l}t()}},{"../channels":"/Users/ricksmit/dev/mtv-play/components/first/channels/index.js","../discover":"/Users/ricksmit/dev/mtv-play/components/first/discover/index.js","../shows":"/Users/ricksmit/dev/mtv-play/components/first/shows/index.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/switcher/show.js":[function(e,t,i){var s,r=e("old-vigour-js/browser/cases");e("old-vigour-js/app/"),e("./media");r.phone?(t.exports=i=function(e){var t=this._parent,s=t._caller,r=this.$userOrigin.val;s.transition={element:i.getElement(),$params:i.getParams(this,r),$options:i.getOptions(this,r),direction:i.getDirection(s,r)},t.season.$userOrigin._update(),s.previous="page",s.current="show",e()},i.getDirection=function(e,t){var i=e.current;return"page"===i?1:"episode"===i&&-1},i.getElement=function(){return s||(s=e("../show"))},i.getOptions=function(e,t){var i=e._parent.season.from;t.from;return{loader:i}},i.getParams=function(e,t){var i,s=e._parent,r=t._name,n=s.season,o=s.usage;return n.$userOrigin.val&&n.from.checkParent("_name",r)||(n.$userOrigin.val=t.from.get("seasons.0")),i={on:{season:n.$userOrigin,show:t},data:{show:t,showusage:o.from.get(t.from._contentPath)}}}):t.exports=function(e){var t=this.$userOrigin.val,i=t._name,s=this._parent.season,r=s.from._parent._parent===t.from&&s.from._name,n=this._parent,o=n.media;if(o.from.checkParent("_name",i)&&o.$userOrigin.val)o._update(),e();else{r=!r||isNaN(r)?0:r,s=t.get("seasons."+r),s.subscribe({episodes:{0:{title:!0}}}),s.subscribe({episodes:!0});var a=s.get("episodes");a.is("loaded",function(){s.unsubscribe({episodes:{0:{title:!0}}}),s.unsubscribe({episodes:!0}),o.from.checkParent("_name",i)&&o.$userOrigin.val||(o.$userOrigin=a.val?a.get("0"):s.get("extras.0")),e()})}}},{"../show":"/Users/ricksmit/dev/mtv-play/components/first/show/index.js","./media":"/Users/ricksmit/dev/mtv-play/components/first/switcher/media.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/switcher/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/grid.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("../../img"),n=e("old-vigour-js/app/"),o=new r({css:"tv-grid-item",h:{val:n.h,divide:3},w:{self:"h",multiply:4/3},display:"inline-block"}).Class,a=new o({w:{self:"h",multiply:8/3,add:{val:n.w.val,multiply:.016}}}).Class,l=new s({category:{text:"this is the field",h:{val:n.h,divide:3},w:{self:"h",multiply:5/6},css:"tv-grid-category"},display:{data:function(e){return 0===e.length?"none":"block"}},events:{arrowUp:function(){this.$prev.val&&this.$prev.val.$focus()},arrowDown:function(){this.$next.val&&this.$next.val.$focus()},arrowRight:function(){n.focusState.prev=this._name,n.focusState.from.val="row"},click:function(){this.events.arrowRight._val.call(this)},arrowLeft:function(){this.checkParent("sidemenu",!0);n.focusState.val="menu"},back:function(e){e.preventDefault(),n.focusState.val="menu"},$focus:function(e){var t,i=this.category,s=i.node,r=this.parent,o=n.h.val,a=o-80,l=o/5;n.focusState.prev=this._name,i.css=e?"tv-grid-category current":"tv-grid-category",e&&(t=s.getBoundingClientRect(),t.bottom>a?r.y=r.y.val-(t.bottom-a):t.top<l&&(r.y=r.y.val+(l-t.top)),r.y._p=null)}},css:"tv-row",collection:{data:!0,element:o}}).Class;t.exports=i=new s({css:"tv-grid",y:{val:n.h.val/5,animation:{easing:"outCubic",time:18}},on:{$new:{defer:function(e){this._parent._caller.y._p=!0,e()}},focusState:{defer:function(e,t){var i=this;if("grid"===i.from.val){var s=i._parent;if(s){var r=s.focusState.from.prev,o=s._caller,a=r&&o[r]||o.children[0];a.$focus()}}else"row"===i.from.val&&n.user.updateNavigation();e()}},$parent:{defer:function(e,t){var i,s,r=this._parent._caller;if(r&&r.data){for(var n in r.data){var c=n;n="$$"+n,r[n]||(s||(s={}),"marquee"===n?s[n]=new l({"category.text":c.length>2?{dictionary:"text."+c}:c,bigItem:new a({data:r.data[c].get(0)}),item:new o({data:r.data[c].get(1)})}):s[n]=new l({"category.text":c.length>2?{dictionary:"text."+c}:c,data:r.data[c]}),i||(i=n))}i&&(r.set(s),this._parent.focusState._update())}e()}}}}).Class;i.Row=l,i.Item=o},{"../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/tv/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/index.js":[function(e,t,i){function s(e,t){return Math.ceil(e/t)*t}var r=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/app/")),n=(e("old-vigour-js/browser/cases"),e("old-vigour-js/app/ui/switcher")),o=e("old-vigour-js/app/ui/switcher/transitions"),a=e("old-vigour-js/util/config"),l=e("./message"),c=(e("../../icon"),e("old-vigour-js/browser/events")),u=new l({css:{addClass:"tv-signin"},container:{holder:{title:{text:{dictionary:"text.login.tvTitle"}},subtitle:{text:{dictionary:"text.login.tvSubtitle"}},bottomimage:{}}}}).Class,d=new l({css:{addClass:"tv-roadblock"},container:{holder:{topimage:{},title:{text:{dictionary:"text.login.tvTitle"}},subtitle:{text:{dictionary:"text.login.tvSubtitle"}},bottomimage:{}}},events:{$focus:function(){}}}).Class;t.exports=i=new n({css:"first-switcher ui-img",x:{val:r.w,multiply:.2,animation:{easing:"outCubic",time:18}},w:{val:r.w},onTransition:"fade",desktop:{scrollbar:"y"},on:{page:{defer:e("./page")},show:{defer:e("./show")},media:{defer:function(e,t){this._parent.show.update(),e()}},signin:{defer:function(e,t){var i=this._parent._caller;i.transition={element:u},e()}},roadblock:{defer:function(e,t){if(this._val){var i=this,s=this._parent._caller,r=c.$focused.val,n=new d({events:{click:function(){this.events.back._val.call(this)},back:function(){r.$focus(),i.val=!1,this.remove()}}});s.parent.set({roadblock:n}),n.$focus()}e()}}},background:{data:"img",transform:function(e,t){if(!t)return" ";var i=Math.ceil((this.w||this.checkParent("w",!0)).val)||r.w.val,n=Math.ceil((this.h||this.checkParent("h",!0)).val)||r.h.val;return i=s(i,100),n=s(n,100),a.img+"/image/"+t+"/"+i+"/"+n+"?effect=overlayBlur&overlay=overlayDarkpurple3&radius="+(n/15.67|0)+"&sigma="+(n/20|0)},load:function(e){e&&(e.opacity=1)}}}).inject(o).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./message":"/Users/ricksmit/dev/mtv-play/components/first/tv/message.js","./page":"/Users/ricksmit/dev/mtv-play/components/first/tv/page.js","./show":"/Users/ricksmit/dev/mtv-play/components/first/tv/show.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js","old-vigour-js/app/ui/switcher/transitions":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/transitions.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/message.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element");t.exports=new s({css:"tv-message",container:{holder:{topimage:{}}}}).Class},{"old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/page.js":[function(e,t,i){var s,r,n=(e("old-vigour-js/app/ui/element"),e("./grid")),o=e("old-vigour-js/app/"),a=e("./row/page"),l=e("./row/channel"),c=e("old-vigour-js/data").inject(e("old-vigour-js/data/selection")),u="#abcdefghijklmnopqrstuvwxyz".split("");
t.exports=i=function(e,t){function d(){i[v]&&i.stamp===t[1]&&(h.transition={element:i[v],$params:{data:p,on:{focusState:o.focusState}},$options:{force:!0},direction:"page"!==h.current&&-1},h.current="page")}var p,v=this.$userOrigin.val,f=this._parent,h=f._caller;if(h.x={multiply:"row"===o.focusState.val?0:.2},h.data=null,"discover"===v)i[v]="row"===o.focusState.val?a:n,p={spotlight:o.content.get("marquee.list"),free:o.content.get("free.list"),recommended:o.content.get("recommended.list")};else if("shows"===v){if(i[v]="row"===o.focusState.val?a:n,!s){s={},r=new c(o.content.get("shows"),{subscription:{$:{title:!0,img:!0}},block:!0});for(var m=0,g=u.length;g>m;m++)s[u[m]]=new c(o.content.get("shows"),{sort:"title",block:!0,range:[0,5],condition:{title:{$contains:"#"===u[m]?"^\\d":"^["+u[m]+"]"}}})}p=s}else"channels"===v&&(i[v]=l,p=o.content.from.get("channels"));i.stamp=t[1],"shows"===v&&"row"!==o.focusState.val?o.content.get("shows").is(function(){return s.a.length>0&&s["#"].length>0&&s.g.length>3},d):d(),e()}},{"./grid":"/Users/ricksmit/dev/mtv-play/components/first/tv/grid.js","./row/channel":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/channel.js","./row/page":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/data/selection":"/Users/ricksmit/dev/vigour-js/data/selection.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/row/channel.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/app/")),r=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/object"),e("../../../epg_temp")),n=e("../../../player/seekbar"),o=r.clockTime,a=e("./item"),l=e("./elements"),c=new a({background:{gone:!1},information:{channeltitle:{css:"ui-item-text",text:{data:"title"}},now:{w:80,text:{dictionary:"text.now"}},epg:{w:{parent:"w",sub:110},showtitle:{text:{data:"title"}},time:{text:{data:"minutes_since_midnight",transform:o,add:[" - ",{data:"endtime",transform:o}]}},bar:new n({seek:{w:{val:r.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"},transform:function(e,t){return isNaN(parseInt(t))?0:100*t+"%"},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.information.epg.data=r.now(t),this.model=!1)}},events:{arrowRight:function(){var e=s.focusState.val;"row"===e||this.$prev.val&&this.$prev.val.cover?this.$next.val&&this.$next.val.$focus():s.focusState.val="row"},arrowLeft:function(){var e=s.focusState.val;"grid"===e?s.focusState.val="menu":this.$prev.val&&this.$prev.val.cover?this.$prev.val.$focus():s.focusState.val="grid"},back:function(e){e.preventDefault();var t=this.checkParent("rows",!0);t.x._p=!0,s.focusState.val="row"===s.focusState.val?"grid":"menu"},click:function(){if("lockedContent"===this.cover.icon.val){var e=this.checkParent("on.roadblock",!0);e&&(e.val=!0)}else s.user.navigation.media.$userOrigin.val=this.data.from,s.state.val={val:"player",video:this.data.from}}}}).Class;t.exports=i=new l.BasicRowView({css:{addClass:"tv-channels"},indicator:{display:{val:s.focusState,transform:function(e,t){return"row"===t?"block":"none"}},title:{text:{dictionary:"text.nav.channels"}}},rows:{css:"tv-row",collection:{element:c,data:!0}},on:{focusState:{defer:function(e,t){var i=this.from.val,s=this._parent._caller;"grid"===i?s.parent.x={multiply:.2}:"row"===i&&(s.parent.x={multiply:0}),s.rows&&s.rows.children[0]&&("menu"!==i||"$parent"!==t[0])&&s.rows.children[0].$focus(),e()}},$parent:{defer:function(e,t){this._parent.focusState._update("$parent"),e()}}}}).Class},{"../../../epg_temp":"/Users/ricksmit/dev/mtv-play/components/epg_temp.js","../../../player/seekbar":"/Users/ricksmit/dev/mtv-play/components/player/seekbar/index.js","./elements":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/elements.js","./item":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/item.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/row/elements.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/app/");e("old-vigour-js/app/dictionary");i.Indicator=new s({css:"tv-row-indicator",text:{data:!0,dictionary:function(e,t){return t?t instanceof Object&&t.number?{text:t.number&&t.number.val}:(t=String(t),t.length>2?"text."+t:{text:t}):void 0}},display:"inline-block"}).Class;var n=i.BasicRowView=new s({css:"tv-row-view",indicator:{title:{}},rows:{on:{$new:{defer:function(e){this._parent._caller.x._p=!0,e()}}},y:r.h.val/5,x:{val:0,animation:{easing:"outCubic",time:18}}}}).Class;i.RowView=new n({indicator:{list:{text:"",collection:{element:i.Indicator,data:!0,filter:!0}}},info:{on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},opacity:{data:"description",transform:function(e,t){return t?(this.css="",1):(this.css="dontAnimate",0)}},title:{text:{data:"title"}},showsubtitle:{css:"subtitle",display:{data:"episodeCount",transform:function(e,t){return t?"block":"none"}},text:{val:{data:"seasonCount"},add:[" ",{dictionary:"text.seasons"}," ",{data:"episodeCount"}," ",{dictionary:"text.episodes"}]}},episodesubtitle:{css:"subtitle",display:{data:"duration",transform:function(e,t){return t?"block":"none"}},text:{data:"duration",transform:function(e,t){return~~(t/60)+" "},add:{dictionary:"text.min"}}},description:{text:{data:"description"}}}}).Class},{"old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/row/item.js":[function(e,t,i){function s(e,t){t=t?this:this.parent;var i=t&&t.node.nextSibling;return i&&i.base?i.base.children[0]?i.base.children[0]:s.call(i.base,!1,!0):void 0}function r(e,t){t=t?this:this.parent;var i=t&&t.node.previousSibling;if(i&&i.base){var s=i.base.children[void 0===e?i.base.children.length-1:e];return s?s:r.call(i.base,e,!0)}}var n=(e("old-vigour-js/app/ui/element"),e("../../../img")),o=e("old-vigour-js/app/"),a=e("old-vigour-js/browser/cases"),l=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/object"),e("../../../icon"));t.exports=new n({on:{data:"link"},define:{$selectIndicator:function(e){var t=this.checkParent("indicator.list",!0),i=t&&t.find("data",e);i||(i=t&&t.find("data._val",e)),i&&t&&t._focused!==i&&(t._focused&&(t._focused.css="tv-row-indicator"),i.css="tv-row-indicator current",t._focused=i)},$focusCommon:function(e){var t,i,s,r=this.checkParent("rows",!0),n=r.parent,o=this.node,a=40,l=this,c=4;if(e){for(rect=o.getBoundingClientRect(),r.x=r.x.val+(a-rect.left)+n.parent.x.val,i=n.info,t=this.$prev.val;c--&&l;)l.background.gone.val&&(l.background={gone:!1}),l=l.$next.val;t&&t.background.gone&&t.background.gone.val&&(t.background={gone:!1}),i&&(s=this.data,i.data={},i._timer&&(clearTimeout(i._timer),i._timer=null),i._timer=setTimeout(function(){i.data=s,i._timer=null},500)),r.x._p=null}this.css=e?"tv-row-item current":"tv-row-item"}},css:"tv-row-item",h:{val:o.h,divide:3,multiply:1.25},w:{self:"h",multiply:4/3},background:{gone:!0},cover:new l({css:"ui-icon relative-size",icon:{data:"access",transform:function(e,t){return(1!==t||a.$isUpgraded.val)&&(2!==t||a.$isUpgraded.val)&&(3!==t||a.$isUpgraded.val&&3!==o.user.role.val)?"empty":"lockedContent"}}}),display:"inline-block",events:{click:function(e){var t=this.data&&this.data.from;if(t)if(t.link){var i,s=t.link.val.split("."),r="shows"===s[3],n="episodes"===s[s.length-2];n?(i=o.content.from.get(s.slice(3)),o.user.navigation.media.$userOrigin.val=i,o.state.val={val:"player",video:i}):r?o.user.navigation.show.$userOrigin=o.content.get(s.slice(3)):console.error("other type of link!")}else if("shows"===t._parent._name)o.user.navigation.show.$userOrigin=t;else if("episodes"===t._parent._name)if("lockedContent"===this.cover.icon.val){var a=this.checkParent("on.roadblock",!0);a&&(a.val=!0)}else o.user.navigation.media.$userOrigin.val=t,o.state.val={val:"player",video:t}},arrowRight:function(){this.$next.val&&this.$next.val.$focus()},arrowDown:function(){var e=r.call(this,0);e&&e.$focus()},arrowUp:function(){var e=s.call(this);e&&e.$focus()},$focus:function(e){var t,i,s=this.parent._name;s?t=s.slice(2):(s=this.data._parent._parent._name,t=this.data._parent._parent,i=!0),i||(o.focusState.prev=s),this.$selectIndicator(t),this.$focusCommon(e)}},"$next.transform":function(e,t){return t?void 0:s.call(this)},"$prev.transform":function(e,t){return t?void 0:r.call(this)}}).Class},{"../../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/row/page.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=(e("../../../img"),e("old-vigour-js/app/")),n=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/object"),e("./item")),o=e("./elements"),a=e("old-vigour-js/data"),l=new s({css:"tv-row",collection:{data:!0,element:new n({events:{arrowLeft:function(){if(this.$prev.val)this.$prev.val.$focus();else{var e=r.focusState.from;e.val="grid"}},back:function(e){e.preventDefault(),r.focusState.val="grid"}}})}}).Class;t.exports=i=new o.RowView({"indicator.list.model.inherit":!1,on:{focusState:{defer:function(e,t){var i=this,s=i._parent;if("row"===i.from.val){if(s){var n=s.focusState.from.prev,o=s._caller.rows;if(o.children.length){var a=n&&o[n]&&o[n].children[0]||o.children[0].children[0];!a&&o.children[1]&&(a=o.children[1].children[0]),a&&!a._$focused&&a.$focus()}}}else"grid"===i.from.val&&r.user.updateNavigation();e()}},$parent:{defer:function(e,t){var i=this._parent._caller;if(i&&i.data&&this._cachedData!==i.data){this._cachedData=i.data;var s=new a([]),n=r.user.navigation.page.val,o={rows:{}};for(var c in i.data)i[c]||(o.rows["$$"+c]=new l({data:i.data[c]})),s.push(c);i.indicator.title.text={dictionary:"text.nav."+n},i.indicator.list.data=s,i.set(o),this._parent.focusState._update()}e()}}}}).Class},{"../../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","./elements":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/elements.js","./item":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/item.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/row/show.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/app/"),n=(e("old-vigour-js/app/dictionary"),e("old-vigour-js/object"),e("./item")),o=e("./elements"),a=e("old-vigour-js/browser/animation/raf"),l=new s({css:"tv-row",collection:{data:"episodes",element:new n({events:{arrowLeft:function(){if(this.$prev.val)this.$prev.val.$focus();else{var e=r.focusState.from;this.parent&&this.parent.data._parent&&"seasons"===this.parent.data._parent._name&&(e._val="row",r.user.navigation.page.$userOrigin=r.user.navigation.page.val||"shows")}},back:function(){var e=r.focusState.from;e._val="row",r.user.navigation.page.$userOrigin=r.user.navigation.page.val||"shows"}}})}}).Class;t.exports=i=new o.RowView({indicator:{title:{text:{data:"title"}},list:{text:{dictionary:"text.season",add:" "},collection:{data:"seasons"}}},rows:{model:{subscription:{title:!0,seasons:{$:{number:!0,episodes:{$:{img:!0,title:!0}}}}},block:!0},collection:{element:l,data:"seasons"}},on:{$remove:{defer:function(e,t){this._deferRafid&&window.cancelAnimationFrame(this._deferRafid)}},$parent:{defer:function(e,t){var i=this._parent._caller;if(i._deferRafid&&window.cancelAnimationFrame(i._deferRafid),i&&i.data){r.user.navigation.page.val;"shows"===i.data._parent._name&&i.data.get("seasons").is("loaded",function(){i.rows&&i.rows.children[0]?i.rows.children[0].children[0].$focus():i._deferRafid=a(function(){i.rows&&i.rows.children[0]&&i.rows.children[0].children[0].$focus()})})}e()}}}}).Class},{"./elements":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/elements.js","./item":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/item.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/show.js":[function(e,t,i){var s;e("old-vigour-js/app/ui/element"),e("old-vigour-js/data").inject(e("old-vigour-js/data/selection")),e("old-vigour-js/app/");t.exports=function(t,i){var r,n=this.$userOrigin,o=this._parent,a=o._caller,l={};if(a.x={multiply:0},n){a.data=n,s||(s=e("./row/show"));n.get("seasons");r=s,l=n.from}if(!r)throw t(!0),new Error("wrong tv - show.js , no element!");a.transition={element:r,$params:{data:l,info:{data:{}}},$options:{force:!0}},t()}},{"./row/show":"/Users/ricksmit/dev/mtv-play/components/first/tv/row/show.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/data/selection":"/Users/ricksmit/dev/vigour-js/data/selection.js"}],"/Users/ricksmit/dev/mtv-play/components/first/tv/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/first/watch/index.js":[function(e,t,i){function s(e){var t=this._parent,i=t._caller,s=window.innerWidth,n=window.innerHeight,o=i.data,a="side";r=s>n,this.from.val&&(r?i[a]||(i.media[a]&&i.media[a].remove(),i.node.style.tableLayout="auto",i.add(new h({name:a,data:o}),"media"),i.media.info.set({display:"block",h:{val:c.h,sub:[d.base.h.val,{val:c.w,sub:400,multiply:9/16}]}}),t.channel._update()):i.media[a]||(i[a]&&i[a].remove(),i.media.add(new h({name:a,data:o}),"info"),i.node.style.tableLayout="fixed",i.media.info.set({display:"table-cell",h:{val:c.h,sub:[d.base.h.val,{val:c.w,sub:0,multiply:9/16}]}}),t.channel._update()),i.on.resize.val||i.set({on:{resize:c.w}}),e())}e("./style.less");var r,n=e("old-vigour-js/app/ui/element"),o=e("../../icon"),a=e("../../player"),l=e("../favourite"),c=e("old-vigour-js/app/"),u=e("../seasons"),d=e("../menu").Topbar,p=e("../../text"),v=e("../epg"),f=e("old-vigour-js/browser/cases"),h=e("old-vigour-js/app/ui/switcher"),m=e("old-vigour-js/app/dictionary"),g=m.get("text.season"),y=m.get("text.specials"),b=e("../../ad"),w=b.Medium,j=b.Billboard;h=new h({onTransition:function(e,t){t&&t.remove(),this.add(e)}}).Class;var k=new n({touch:{scrollbar:"y"},phone:{h:c.h.val-d.base.h.val-9*c.w.val/16},header:{title:new p.Title({text:{data:"media.title"}})},description:new p.Description({"!phone.ad":new w})}).Class,_=(new k).Class,x=new k({header:{add:[new o({icon:"share",name:"share",events:{click:function(){var e=this.checkParent("on.popup",!0).from;e.data=this.checkParent("data",!0).media.from,e.val="share"}}}),"title"],subtitle:{text:{val:{data:"season.number",transform:function(e,t){return 9e3!==t?g.val+" ":y.val},listen:m},add:[" ",{data:"season.number",transform:function(e,t){return 9e3!==t?t:" "}}," ",{dictionary:"text.episode"}," ",{data:"media.number"}]}}}}).Class,U=new p.Title({text:{data:"media.title"}}).Class,C=new p.Title({text:{data:"show.title"},favourite:new l}).Class;t.exports=new n({css:"first-watch",x:{translate:!0},model:{subscription:{title:!0,number:!0,description:!0}},on:{channel:{val:!1,defer:function(e){var t=this._parent._caller,i=t.media.info,s=t.side||t.media.side,n=t.pageheader&&t.pageheader.container,o={},a=f.$isOnChannel.val;t.data&&(o.data=t.data,o.data.media=c.user.navigation.media),a===!1?(i.transition={element:x,$params:o},n&&(n.transition={element:C,$params:o}),s&&(o.on={media:c.user.navigation.media.$userOrigin},r||(o.list={h:{sub:{add:{val:c.w,divide:16/9}}}}),s.transition={element:u,$params:o},s.css="first-seasons seasons-only")):a===!0&&(f.phone&&(i.css="first-seasons first-epg"),i.transition={element:f.phone?v:_,$params:o},n&&(n.transition={element:U,$params:o}),s&&(r||(o.list={h:{sub:{add:{val:c.w,divide:16/9}}}}),s.transition={element:v,$params:o},s.css="first-seasons first-epg")),e()}},$render:{defer:function(e){var t=this._parent;f.tablet&&t.resize._update(),t.channel._update(),e()}}},tablet:{on:{resize:{defer:s}}},media:{player:new a.Holder,info:new h},desktop:{add:[new n({name:"pageheader",ad:new j,container:new h}),"media"],margin:{},side:new h}}).Class},{"../../ad":"/Users/ricksmit/dev/mtv-play/components/ad/index.js","../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../player":"/Users/ricksmit/dev/mtv-play/components/player/index.js","../../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","../epg":"/Users/ricksmit/dev/mtv-play/components/first/epg/index.js","../favourite":"/Users/ricksmit/dev/mtv-play/components/first/favourite/index.js","../menu":"/Users/ricksmit/dev/mtv-play/components/first/menu/index.js","../seasons":"/Users/ricksmit/dev/mtv-play/components/first/seasons/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/first/watch/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/first/watch/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/icon/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=(e("old-vigour-js/browser/cases"),new s({css:"ui-icon"})),n={discover:"",shows:"",tv:"",settings:"",cast:"",play:"",pause:"",fullscreen:"",pullback:"",swipeup:"",close:"",closesmall:"",dropdown:"",arrowright:"",search:"",cart:"",email:"",favorite:"",favoriteadd:"",favoriteremove:"",locked:"",logout:"",profile:"",share:"",arrowleft:"",exitfullscreen:"",right:"",wrong:"",logo:"",scan:"",facebook:"",twitter:"",phone:"",iphone:"",android:"",tablet:"",desktop:"",laptop:"",menu:"",leftnav:"",rightnav:"",noresult:"",volume:"",rewind:"",fastforward:"",disconnect:"",monster:"",lockedRight:"",watching:"",notWatched:"",airplay:"",gender:"",age:"",newsletter:"",warning:"",whatsapp:"",loader1:"",loader2:"",loader3:"",loader4:"",lockedContent:"",fullscreenAlt:"",exitfullscreenAlt:"",playAlt:"",pauseAlt:"",lockedContentAlt:"",empty:" "};r.extend({icon:function(e){var t="<span>"+(n[e.val]||"")+"</span>",i=this.node.innerHTML,s=i.indexOf("<div");~s&&(t+=i.slice(s)),this.html=t}}),t.exports=i=r.Class,i.map=n},{"./style.less":"/Users/ricksmit/dev/mtv-play/components/icon/style.less","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/icon/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js"][0].apply(i,arguments)},{}],"/Users/ricksmit/dev/mtv-play/components/img/index.js":[function(e,t,i){function s(e,t,i){var s=t/e,r=Math.ceil(e/i)*i,n=Math.ceil(r*s);return{w:r,h:n}}e("./style.less");var r=e("old-vigour-js/app/ui/element"),n=e("old-vigour-js/app/"),o=(e("old-vigour-js/browser/animation/frame"),new r),a=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/util/config"),c=a.retina?2:1,u=l.imgOrigin;t.exports=i=new o.Class({opacity:{val:0},background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(t){var i,r=Math.ceil((this.w||this.checkParent("w",!0)).val)||n.w.val,o=Math.ceil((this.h||this.checkParent("h",!0)).val)||n.h.val,a=e._parent.range;return a&&(i=s(r,o,a.val),r=i.w,o=i.h),l.img+"/image/"+r*c+"/"+o*c+"?url="+u+t+"/original"}}},slow:{opacity:1,"background.load":null},css:"ui-img"}).Class,i.density=c,i.Basic=new r({css:"ui-img",background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){return t?l.img+"/image/"+this.w.val*c+"/"+this.h.val*c+"?url="+u+t+"/original":void 0}},opacity:{val:0},slow:{opacity:1,"background.load":null}}).Class,i.Relative=new r({css:"ui-img",background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(!t)return"";var i,r,n=this.node,o=n.offsetWidth,a=this,d=e._parent.range;return o?(i=n.offsetHeight,d&&(r=s(o,i,d.val),o=r.w,i=r.h),l.img+"/image/"+o*c+"/"+i*c+"?url="+u+t+"/original"):(a.rafId||(a.rafId=window.requestAnimationFrame(function(){a.rendered&&a.background.update(a)})),"")}},opacity:{val:0},slow:{opacity:1,"background.load":null}}).Class,i.Carousel=new i.Relative({background:{transform:function(e,t){if(!t)return"";var i,r,n=this.node,o=n.offsetHeight,a=this,d=e._parent.range;return o?(i=Math.ceil(Math.min(n.offsetWidth,o/9*16)),d&&(r=s(i,o,d.val),i=r.w,o=r.h),l.img+"/image/"+i*c+"/"+o*c+"?url="+u+t+"/original"):(a.rafId||(a.rafId=window.requestAnimationFrame(function(){a.rendered&&a.background.update(a)})),"")}}}).Class,i.Overlay=new i({background:{transform:function(e,t){if(!t)return"";var i=Math.ceil((this.w||this.checkParent("w",!0)).val)||n.w.val,s=Math.ceil((this.h||this.checkParent("h",!0)).val)||n.h.val;return l.img+"/image/"+i*c+"/"+s*c+"?url="+u+t+"/original&effect=overlayBlur&overlay=overlay_lightest&radius=0&sigma=0"}}}).Class,i.Intro=new i({background:{transform:function(e,t){if(!t)return"";var i=this.node,s=i.offsetWidth,r=this;return s?l.img+"/image/"+s*c+"/"+i.offsetHeight*c+"?url=https://wwwmtvplay-a.akamaihd.net/img/intro/"+t:(r.rafId||(r.rafId=window.requestAnimationFrame(function(){r.rendered&&r.background.update(r)})),"")}}}).Class},{"./style.less":"/Users/ricksmit/dev/mtv-play/components/img/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/frame":"/Users/ricksmit/dev/vigour-js/browser/animation/frame.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/img/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/item/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("../icon"),n=e("../img"),o=e("../text"),a=e("old-vigour-js/browser/cases"),l=(o.Input,e("../button").Switcher),c=o.Title,u=new o.TitleSubtitle({css:"ui-item-text"}).Class,d=e("old-vigour-js/app/");d.user;t.exports=i=new s({css:"ui-item"}).Class,i.Basic=new i({txt:new c}).Class,i.IconRight=new i.Basic({righticon:new r({icon:"arrowright"})}).Class,i.IconRightSub=new i.Basic({righticon:new r({icon:"arrowright"}),css:{addClass:"ui-item-sub"},txt:new u}).Class,i.IconLeft=new i({lefticon:new r({icon:{data:"icon"}}),txt:new c}).Class,i.Block=new i({left:{"title.text.dictionary":"text.all","subtitle.text.dictionary":"text.nav.shows"},center:{"title.text.dictionary":"text.all","subtitle.text.dictionary":"text.nav.channels"},right:{"title.text.dictionary":"text.every","subtitle.text.dictionary":"text.episode"},css:{addClass:"block"}}).Class,i.Menu=new i.IconLeft({h:55,css:{addClass:"ui-item-menu"},righticon:new r}).Class,i.Thumb=new i({thumb:{w:{val:100,phone:70},h:{val:71,phone:45},img:new n.Basic({w:{val:100,phone:70},h:{val:71,phone:45}})},txt:new u,righticon:new r({icon:"arrowright"})}).Class,i.Large=new s({crawler:{node:"a",href:{data:function(e){return d.user.$parse(e).url||""}},attr:{onclick:"return false"}},css:"ui-item-large",display:"inline-block",thumb:new n({w:310,h:220}),info:{txt:new u,description:{text:{data:"description"}}}}).Class,i.Indicator=new i.Thumb({righticon:new r({on:{data:"id"},icon:{data:"access",transform:function(e,t){var i=d.util.access(t,this.data),s=i&&~i.indexOf("play")?a.desktop?"empty":"arrowright":i;return"lockedContent"===s?"lockedContentAlt":s},listen:[d.user.role,d.user.purchases]}})}).Class,i.Topbar=new i.Menu({position:"absolute",name:"topbar",h:44,css:{addClass:"ui-item-topbar"},y:{val:0,translate:!0},iosFull:{h:{add:20}},txt:{x:{translate:!0,val:1}}}).Class,i.TitleSubtitle=u,i.Switcher=new i.IconRightSub({righticon:new s({hold:new l})}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/item/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/item/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/loader/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/sprite"),r=e("old-vigour-js/app/ui/element"),n=e("old-vigour-js/browser/cases");t.exports=i=new r({css:"ui-loader",append:new s({w:31,h:31,params:{cols:1,rows:19}})}).Class,i.Simple=new s({css:"ui-loader-simple","w,h":21,params:{cols:1,rows:19}}).Class,n.ios||n.desktop?i.Logo=new s({css:"loader logo",w:110,h:110,params:{cols:1,rows:26}}).Class:i.Logo=new r({css:"loader logo noanim",w:110,h:110}).Class},{"./style.less":"/Users/ricksmit/dev/mtv-play/components/loader/style.less","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/sprite":"/Users/ricksmit/dev/vigour-js/app/ui/sprite/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/loader/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js"][0].apply(i,arguments)},{}],"/Users/ricksmit/dev/mtv-play/components/password/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element");t.exports=new s({css:"password-input",container:{logo:{},header:{text:"MTV Play is currently in BETA"},subtitle:{text:"Enter password to continue"},field:{node:"input",attr:{type:"password",placeholder:"password"}}}}).Class},{"./style.less":"/Users/ricksmit/dev/mtv-play/components/password/style.less","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/password/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/player/backdrop.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app"),r=e("old-vigour-js/app/ui/element"),n=e("../img"),o=e("../icon");t.exports=new r({name:"backdrop",css:"relative-size",img:new n.Relative({css:"relative-size",background:{data:"show.img",load:function(e){e.opacity=.3}}}),holder:{info:{title:{"text.dictionary":"text.sender.remotePlaybackTitle"},txt:{"text.dictionary":"text.sender.remotePlaybackSubtitle"}},pullback:new o({icon:"pullback",pulltext:{"text.dictionary":"text.pullBack"}})},events:{click:function(){s.user.receiver.media.$userOrigin=!1}}}).Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/player/style.less","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/player/controls/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=(e("old-vigour-js/app/"),e("../seekbar")),n=e("old-vigour-js/browser/element/video/util");e("old-vigour-js/browser/cases");t.exports=new s({css:"player-controls",container:{progress:{text:{data:"mediausage.time",multiply:{data:"media.duration"},transform:function(e,t){return n.time(Math.abs(t))}}},seekbar:new r({w:{sub:200}}),duration:{text:{data:"media.duration",transform:function(e,t){return n.time(t)}}}}}).Class},{"../seekbar":"/Users/ricksmit/dev/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/player/controls/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/element/video/util":"/Users/ricksmit/dev/vigour-js/browser/element/video/util.js"}],"/Users/ricksmit/dev/mtv-play/components/player/controls/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/player/index.js":[function(e,t,i){function s(e){var t=e.node||e;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():(t=e.video&&e.video.jqHandle)&&(t=t.proxy.player&&t.proxy.player.video,t&&t.webkitEnterFullscreen&&(g||(g=!0,t.addEventListener("webkitendfullscreen",function(){b.$isFullscreen.val=!1},!1),t.addEventListener("webkitbeginfullscreen",function(){b.$isFullscreen.val=!0},!1)),t.webkitEnterFullscreen()))}function r(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen();
}function n(){var e=y.user.navigation.media.from,t=y.user.receiver.media.from,i=b.$hasReceiver.val&&t._cachedPath===e._cachedPath;return i}function o(){var e=this._parent._caller,t=e.parent;if(t)if(b.$isReceiver.val){if(e.__ready&&!n)return!0}else{if(e._cachedW=null,n())return e._fullscreen?e.x=y.w:e.y={multiply:-1},S(function(){n()&&(y.playing.from.val=!1)}),t.backdrop.empty&&t.set({backdrop:new x({data:e.video.data})}),!0;e.y.multiply.val&&(e.x=0,e.y={multiply:0})}}function a(e){var t=this._parent._caller,i=t.video,s=i&&i.data,r=s&&s.mediausage&&s.mediausage.from,n=i&&i.time.from.val,a=o.call(this);!b.$isOnChannel.val&&a&&r&&(n||0===n)&&r.set("time",Math.abs(n)),e()}function l(e){if(!b.tv&&!b.$isReceiver.val){var t=this._parent._caller;t.y._p=!0,o.call(this),t.y._p=null}e()}function c(e){var t=this._parent,i=t._caller;y.playing.from.val=b.tv||!b.$isActive.val&&b.$isReceiver.val?!0:y.playing.val,t.msmedia.val={val:y.user.receiver.media,listen:[b.$hasReceiver]},t.media.val=y.user.navigation.media,t.fullscreen.val=b.$isFullscreen,S(function(){i.video&&(i.__ready=!0,i.video.$play=y.playing,i.overlay.on.volume.val=y.volume)}),window.player=i,b.desktop?y.addEvent("keydown",function(e){if(!(y.popup.val||!b.$isReceiver.val&&n())){var t=!0;32===e.keyCode||13===e.keyCode?i.togglePlay():37===e.keyCode?i.seekBackward():39===e.keyCode?i.seekForward():38===e.keyCode?i.volumeUp():40===e.keyCode?i.volumeDown():70===e.keyCode?i.goFullscreen():t=!1,t&&e.preventDefault()}},T):b.tv&&i.$focus(),e()}function u(e){y.playing.from.val=!1,y.removeEvent(!1,T),e()}function d(e){var t=this.from.val,i=this._parent._caller,n="ms"===A?11>=E?"MSFullscreenChange":"fullscreenChange":A+"fullscreenchange";t?(window.statusBar?window.statusBar.hide():b.desktop?s(i):b.touch&&s(i),i._exitFullscreen=function(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;t||(y.state.val="first")},document.addEventListener(n,i._exitFullscreen)):(window.statusBar&&window.statusBar.show(),r(),document.removeEventListener(n,i._exitFullscreen)),S.repeat(function(){i.background&&i.background._update()},2),e()}function p(){var e=this.data&&this.data.mediausage;e&&e.time&&!b.$isOnChannel.val&&(e.time.from.val=Math.max(0,Math.abs(e.time.from.val)-.01))}function v(){var e=this.data&&this.data.mediausage;e&&e.time&&!b.$isOnChannel.val&&(e.time.from.val=Math.min(1,Math.abs(e.time.from.val)+.01))}function f(){y.playing.from.val=!y.playing.val}function h(){y.volume.val<=.9&&(y.volume.from.val+=.1)}function m(){y.volume.val>=.1&&(y.volume.from.val-=.1)}e("./style.less");var g,y=e("old-vigour-js/app/"),b=e("old-vigour-js/browser/cases"),w=e("old-vigour-js/browser/ua"),j=e("old-vigour-js/app/ui/element"),k=e("./video"),_=e("./overlay"),x=e("./backdrop"),U=e("old-vigour-js/util/config"),C=b.retina?2:1,T="keyUpID",S=e("old-vigour-js/browser/animation/raf"),A=w.prefix,E=w.version;document.cookie="_L1Nl9uK_DJGt_RDAVBq_=_L1Nl9uK_DJGt_RDAVBq_; domain=.mtvplay.tv",t.exports=i=new j({on:{fullscreen:{defer:d},msmedia:{defer:a},media:{defer:l},$render:{defer:c},$remove:{defer:u}},tv:{css:"base-player fullscreen-player",events:{back:function(){y.state.val="first"},click:f,arrowLeft:p,arrowRight:v,$focus:function(e){}}},chromecast:{css:"base-player fullscreen-player"},x:{val:0,animation:{time:24,easing:"outCubic",done:function(e){e&&(this.y._p=!0,this.y={multiply:-1},this.y._p=null,this.x._p=!0,this.x=0,this.x._p=null,O.exit.call(this))}}},y:{translate:!0,val:y.w,defer:function(e,t){var i=this;return this._caller.rendered?void(t[2]===!1?S(function(){i._p=!0,e(),i._p=null}):e()):(e(!0),!0)},transform:function(e,t){this._cachedW!==t&&(this._cachedW=t,this._cachedY=this.node.offsetHeight);var i=this._cachedY||(this._cachedY=this.node.offsetHeight);return i?i:void 0},multiply:{val:0,animation:{time:24,easing:"outCubic"}}},video:new k,overlay:new _,adMessage:{text:{dictionary:"text.advertisement"},display:{val:"none",$isPlayingAd:"block"},touch:{events:{click:function(){var e=this.parent.video.jqHandle;if(e&&(!b["native"]||!b.ios||window.device)){var t=window.open;window.open=function(e){window.open=t,y.api.url.val=e},e.invokeAd()}}}}},background:{data:"media.img",$bubble:{self:!0},transform:function(e,t){if(!t)return"";var i=this.node,s=i.offsetWidth,r=this;return s?U.img+"/image/"+t+"/"+s*C+"/"+i.offsetHeight*C:(r.rafId||(r.rafId=S(function(){r.rendered&&r.background.update(r)})),"")}}}).Class;var O=b.phone?b["native"]?e("./phone-fullscreen"):function(){b.$isFullscreen.val=!b.$isFullscreen.val}:function(){if(b.$isFullscreen.val){var e,t=y.user,i=b.$isReceiver.val,s=this.checkParent("data.media",!0);i?(s&&("episodes"===s._parent._name&&(e=s._parent._parent,t.navigation.season.$userOrigin.val=e,t.navigation.show.$userOrigin.val=e._parent._parent),t.navigation.media.$userOrigin=s.from),t.activeClient.$userOrigin=t.cloud.client.from,t.receiver.media.$userOrigin=!1):y.state.val="first"}else y.state.val="player"};i.base.define({seekBackward:p,seekForward:v,togglePlay:f,volumeUp:h,volumeDown:m,goFullscreen:O}),i.Holder=new j({css:"player-holder",backdrop:{empty:!0},player:new i({css:{val:"base-player windowed-player",$isFullscreen:!b.phone&&"base-player fullscreen-player"}})}).Class},{"./backdrop":"/Users/ricksmit/dev/mtv-play/components/player/backdrop.js","./overlay":"/Users/ricksmit/dev/mtv-play/components/player/overlay/index.js","./phone-fullscreen":"/Users/ricksmit/dev/mtv-play/components/player/phone-fullscreen.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/player/style.less","./video":"/Users/ricksmit/dev/mtv-play/components/player/video/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/player/overlay/index.js":[function(e,t,i){function s(e){var t=this.checkParent("_d",!0);e.prevent=!0,r.user.receiver.media.$userOrigin.val=t.media.from}var r=e("old-vigour-js/app/"),n=e("old-vigour-js/browser/cases"),o=e("old-vigour-js/app/ui/element"),a=e("../controls"),l=e("../../icon"),c=e("../../img"),u=e("./play"),d=e("../volume"),p=e("old-vigour-js/app/dictionary"),v=p.get("text.specials"),f=new o({on:{data:"media.id"},buttons:{play:new u({display:!n.phone&&{data:"media.access",transform:function(e,t){var i=r.util.access(t,this.data&&this.data.media&&this.data.media.from);return i&&~i.indexOf("play")?"none":"inline-block"}}}),swipe:new l({icon:"swipeup",display:{data:"media.access",transform:function(e){var t=this.data&&this.data.media&&this.data.media.from,i=t&&!(t._parent&&"channels"===t._parent._name&&3===r.user.role.val)&&(n.$isUpgraded.val||t.access&&!t.access.val||t.val&&t.val.access&&!t.val.access.val),s=n.$hasReceiver.val&&i;return s?"inline-block":"none"},listen:[n.$hasReceiver,r.user.role,r.user.purchases]},events:{click:s}})},events:{click:n.touch?function(){var e=this.parent.opacity;e.val=e.val?0:1}:function(){r.playing.from.val=!r.playing.val}}}).Class,h=(new o).Class;h.base.extend({pointerEvents:function(e){this.node.style.pointerEvents=e.val}}),t.exports=new h({on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}},volume:{defer:function(e){var t=this._parent._caller;t.opacity.val=1,e()}}},opacity:{val:1,defer:function(e,t){var i=this._caller;return this._block?!0:(1===this._val&&(i._timer&&clearTimeout(i._timer),i._timer=setTimeout(function(){r.playing.val&&(i.opacity.val=0),i._timer=null},2500)),void e())},listen:r.playing},infoholder:{display:{val:"table",$isPlayingAd:"none",$isOnChannel:"none"},"!phone.thumb":new c({h:{val:50,$isFullscreen:110},w:{self:"h",defer:function(e){this._caller.background._update(),e()}},background:{data:"show.img"}}),titles:{showtitle:{text:{data:"media.title"}},showsubtitle:{text:{val:{dictionary:"text.season",transform:function(e,t){return t&&t[0]},add:{data:"season.number",transform:function(e,t){var i=this.data&&this.data.media.from._parent._parent.number,s=i&&i.val;return s&&(t=s),(t>9?t:"0"+t)+" "}}},add:[{val:{dictionary:"text.episode",transform:function(e,t){return t&&t[0]}}},{data:"media.number",transform:function(e,t){return t>9?t:"0"+t}}],transform:function(e,t){var i=this.text._val;return i&&9e3==i.add.__lval?v.val:t}}}}},clickable:new f,"!iPhoneBrowser.controls":{css:{val:"",$isOnChannel:{val:"on-channel",$isPlayingAd:""}},on:{data:"media.id"},left:new u,display:{data:"media.access",transform:function(e,t){return"lockedContent"===r.util.access(t,this.data&&this.data.media&&this.data.media.from)?"none":"table"},listen:[r.user.role,r.user.purchases]},center:new a({container:{display:{val:"block",$isOnChannel:"none",$isPlayingAd:"none"},seekbar:{bg:{seekLoader:{opacity:{val:0,$isLoadingVideo:1}}}}},adMessage:{text:{dictionary:"text.countdown"},display:{val:"none",$isPlayingAd:"block"}}}),"!tv.right":{volume:{holder:new d({bars:{data:"volume"}})},fullscreen:new l({icon:{val:"fullscreen",$isFullscreen:"exitfullscreen"},events:{click:function(){var e=this.checkParent("player",!0);e&&e.goFullscreen()}}})}},events:{down:function(e){var t=this.opacity;n.$isFullscreen.val&&!t.val&&(e.prevent=!0,t.val=1)}},desktop:{pointerEvents:{val:"auto",$isPlayingAd:"none"},events:{move:function(){var e=this.opacity;e.val||(e.val=1,e._block=!0,setTimeout(function(){e._block=null},1e3))}}}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../controls":"/Users/ricksmit/dev/mtv-play/components/player/controls/index.js","../volume":"/Users/ricksmit/dev/mtv-play/components/player/volume/index.js","./play":"/Users/ricksmit/dev/mtv-play/components/player/overlay/play.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/player/overlay/play.js":[function(e,t,i){var s=e("../../icon"),r=e("old-vigour-js/browser/cases"),n=e("old-vigour-js/app/");t.exports=i=new s({on:{data:"media.id"},icon:{val:{data:"media.access",transform:function(e,t){var i=n.util.access(t,this.data&&this.data.media&&this.data.media.from);return i}},$playing:r.phone?"pause":"pauseAlt",transform:function(e,t){return this._loading||(this.rotate=0),this._loading?"loader2":t},listen:[n.user.role,n.user.purchases.from]},rotate:{val:0,animation:{complete:function(){var e=this.rotate;e._p=!0,e=0,e._p=!1,this._loading=!1,this.icon.update(this)}}},events:{click:function(e){e.prevent=!0,n.playing.from.val=!n.playing.val}}}).Class,i.base.define({load:function(){this._loading=!0,this.icon.update(this),this.rotate=this.rotate.val+360}})},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/player/phone-fullscreen.js":[function(e,t,i){function s(e){var t=this.checkParent("media",!0),n=t.checkParent("switcher",!0),o=t.player.player,a=n.checkParent("topbar",!0),l=o.overlay.controls,c=l.right.fullscreen,u=l.center.container.seekbar,d=(this.checkParent("miniplayer",!0),o.node.style);window.StatusBar&&(e?window.StatusBar.show():window.StatusBar.hide(),void 0===o._fullscreen&&o.setSetting({name:"StatusBar",remove:function(){window.StatusBar.show(),this._listener&&r.h.removeListener(this._listener)}}));var p=a.node.offsetHeight;o.set({rotate:e?0:90,x:0}),o.adMessage.node.style.zIndex=e?null:"1",o.overlay.node.style.zIndex=e?null:"1",n.node.style.zIndex=e?null:"1",d.zIndex=e?null:"1",d.margin=e?"0":"-"+p+"px "+r.w.val+"px",d.width=e?null:r.h.val+"px",d.height=e?null:r.w.val+"px",t.node.style.overflow=e?null:"visible",o._listener&&r.h.removeListener(o._listener),e||(o._listener=function(){d.width=r.h.val+"px"},r.h.on(o._listener)),c.set({icon:e?"fullscreen":"exitfullscreen",events:{click:e?i:function(){s.call(this,!0)}}}),u._left=!e,o._fullscreen=!e}var r=e("old-vigour-js/app/");e("old-vigour-js/browser/cases");t.exports=i=function(){s.call(this)},i.exit=function(){s.call(this,!0)}},{"old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/player/players/viacom.js":[function(e,t,i){function s(e,t){this._correctTime=e,!this.channel&&this._ready&&this._time!==e&&(!this.jqHandle||this.__paused&&!t?this.tset=!0:(this.tset=null,this.out=null,this.cnt=null,this.jqHandle.setCurrentTime(Math.abs(Math.round(e))),this._time=e))}function r(e,t){var s=c.country||c.region.val;if(!s||!~d.availableRegions.indexOf(s.toUpperCase()))return u.$allowPlayback.val=!1,void(c.playing.from.val=!1);if(!o&&"undefined"==typeof VIACOM)return c.api.player.once("success",function(){o||(i.settings=c.api.player.settings,i.adsEnabled=i.settings.ads.enabled,e.rendered&&r(e,t)),o=!0}),void(c.api.player.val=!0);if(o=!0,e.addEvent("down",function(e){u.$isPlayingAd.val||e.preventDefault()}),e.data&&e.data.media)if(e.data.media.from.videolang)i.settings.localization.language=e.data.media.from.videolang.val;else if(!~e.data.media.from._path.indexOf("channels"))return void e.data.media.from.once(function(){r(e,t)});u.tv?(i.settings.force="html5",i.settings.html5smartTVMode="Samsung"):u.chromecast&&(i.settings.force="html5",i.settings.html5smartTVMode="Chromecast",i.settings.ads.enabled=!1),i.settings.ads.fw_ssid=i.settings.ads.viralSID,e.jqHandle=new window.VIACOM.Mediaplayer(".video",i.settings,{controls:!1,"webkit-playsinline":!0},c.api.player.debug),e.jqHandle.addEventListener("error",function(e){console.error(e)}),e.jqHandle.addEventListener("ended",function(e){c.playing.from.val=!1}),e.jqHandle.addEventListener("ads:rollPlaying",function(e){u.$isPlayingAd.val=!0}),e.jqHandle.addEventListener("ads:rollEnded",function(e){u.$isPlayingAd.val=!1});var n=e.jqHandle.proxy.player&&e.jqHandle.proxy.player.video;n&&(n.setAttribute("webkit-playsinline",'"true"'),n.setAttribute("controls",!1),console.warn("check if correct"),l&&n.addEventListener("webkitendfullscreen",function(){window.requestAnimationFrame(function(){document.body.scrollTop=0}),e.pause(),c.playing.from.val=!1},!1),e.video=n,e.setEvents()),e.node.style.backgroundColor="black",i.protoNew.call(e),t&&t()}function n(e,t){var r;e._correctTime=Math.abs(e.time.val)*e.duration.from.val,t&&"string"==typeof t&&(r=e.data.media&&~e.data.media.from._path.indexOf("channels")?"simulcast_stream":"local_playlist",e._correctTime=void 0,e.jqHandle.load(r,t,{startTime:Math.abs(e.time.val)*e.duration.from.val||void 0,simulcastApiKey:i.settings.simulcastApiKey},function(t){e._ready=!0,c.playing.from.val=!u.mobileBrowser,void 0!==e._correctTime&&s.call(e,Math.abs(e._correctTime),!0)},"http://api.mtvnn.com/v2/mrss.xml?uri=mgid:sensei:video:mtvnn.com:"+r+"-"+t))}var o,a=e("old-vigour-js/browser/ua"),l="ios"===a.platform,c=e("old-vigour-js/app/"),u=e("old-vigour-js/browser/cases"),d=e("old-vigour-js/util/config");t.exports=i=e("old-vigour-js/browser/element/video/html5"),i.settings=c.api.player.settings,i.protoNew=i["new"],i["new"]=function(){},i.setEvents=!1,i.play=function(e){var t,i=this;e?(i.jqHandle&&i.__src?i.jqHandle&&(i.tset&&s.call(i,Math.abs(i.time.val)*i.duration.from.val,!0),i.jqHandle.play()):(t=i.src.val,i.__src=t,i.jqHandle?n(i,t):r(i,function(){n(i,t)})),i.tset=null):i.jqHandle&&i.jqHandle.pause()},i.volume=function(e){var t=e.val;this.jqHandle&&!isNaN(t)&&this.jqHandle.setVolume(t)},i.time={set:s,get:function(e){var t=this.jqHandle&&this.jqHandle.getCurrentTime();return t/this.duration.from.val||e.val}},i.remove=function(e){this.jqHandle&&this.jqHandle.destroy(),this.jqHandle=null,this.video=null},i.src=function(e){var t=e.val;if(this.__src!==t)if(this.__src=null,this.jqHandle)this.node.style.backgroundColor=null,this.jqHandle.destroy(),this.jqHandle=null,this._ready=null;else if(u.mobileBrowser&&this.rendered){var i=this;r(i)}else{var s=this.data&&this.data.media.from,n=s&&s.access,o=n&&c.util.access(n.val,s);o&&"lockedContent"!==o&&(c.playing.from.val=!u.mobileBrowser)}}},{"old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/element/video/html5":"/Users/ricksmit/dev/vigour-js/browser/element/video/html5.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/player/seekbar/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=(e("old-vigour-js/app/"),e("old-vigour-js/browser/ua")),n=e("old-vigour-js/browser/cases"),o=(e("old-vigour-js/browser/element/video/util"),e("../../icon"),"ios"===r.platform||"android"===r.platform,"ms"===r.prefix?function(e){if(!n.$isPlayingAd.val){var t,i,s=this.node.getBoundingClientRect();this._left?(t=s.top,i=(e.pageY-t)/s.height):this._right?(t=s.top,i=(s.height-(e.pageY-t))/s.height):(t=s.left,i=(e.pageX-t)/(s.right-t));var r=i>1?1:0>i?0:i;r!==this._prevVal&&(this.seek.data.mediausage.$userOrigin.set("time",r),this._prevVal=r)}}:function(e){if(!n.$isPlayingAd.val){var t,i,s=this.node.getBoundingClientRect();this._left?(t=s.top,i=(e.y-t)/s.height):this._right?(t=s.top,i=(s.height-(e.y-t))/s.height):(t=s.left,i=(e.x-t)/(s.right-t));var r=i>1?1:0>i?0:i;r!==this._prevVal&&(this.seek.data.mediausage.$userOrigin.set("time",r),this._prevVal=r)}}),a=new s({css:"ui-seekbar",bg:{},seek:{w:{data:"mediausage.time",transform:function(e,t){return t?100*Math.abs(t)+"%":void 0}}},"!tv.button":{display:{val:"inline-block",$isPlayingAd:"none",$isReceiver:"none"}},events:{down:n.touch?function(e){var t=this.parent.parent.parent.opacity;t&&1!==t.val?this._skipUp=!0:o.call(this,e)}:o,drag:o,up:n.touch?function(e){this.parent.parent.parent.opacity;this._skipUp?this._skipUp=null:o.call(this,e)}:o}});t.exports=i=a.Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/player/seekbar/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/element/video/util":"/Users/ricksmit/dev/vigour-js/browser/element/video/util.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/mtv-play/components/player/seekbar/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/player/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/player/video/index.js":[function(e,t,i){function s(){return this._overlay||(this._overlay=this.parent&&this.parent.overlay)}var r=e("old-vigour-js/app/"),n=e("old-vigour-js/browser/cases"),o=e("old-vigour-js/browser/element/video"),a=e("../players/viacom"),l=e("old-vigour-js/browser/events/util").postpone,c=l(function(e){r.playing.val&&e.play(!0)},501);t.exports=new o({node:"div",player:a,src:{data:"media.mrss"},duration:0,css:"video-container",time:{data:"mediausage.time",defer:function(e,t){return n.$isOnChannel.val||n.$isPlayingAd.val?!0:void e()}},volume:{data:"volume"},$play:{defer:function(e){var t=this._caller;return"second"===r.state.val?!0:void(n.desktop?window.requestAnimationFrame(function(){t.rendered?e():e(!0)}):e())}},model:{subscription:{videolang:!0,access:!0,video:!0,mrss:!0,duration:!0}},events:{src:function(e){if(this.duration=this.data.media.from.get("duration"),n.$isPlayingAd.val=!1,e.val&&this.rendered){var t=this.data&&this.data.media.from,i=t&&t.access,s=i&&r.util.access(i.val,t);if(s&&"lockedContent"!==s){var o=this.data&&this.data.mediausage;r.playing.from.val=!0,o&&!n.$isOnChannel.val&&o.from.set("time",Math.abs(this.time.from.val)),this.play()}}else r.playing.from.val=!1},progress:function(e,t){var i=-Math.abs(e),s=this.data&&this.data.mediausage;n.$isPlayingAd.val||n.$isOnChannel.val||s&&(r&&r.mediaTime&&(r.mediaTime.val=i),s.from.set("time",i))},play:function(){var e=s.call(this);e&&(e.opacity=this.playing?0:1),n.$isOnChannel.val&&this.playing&&r&&r.mediaTime&&(r.mediaTime.val=-.01)},stalled:function(){var e=s.call(this);e&&!n.chromecast&&(e.opacity=1),n.$isLoadingVideo.val=!0},seeking:function(e){if(!this._notRendered&&this.rendered){var t=s.call(this);t&&(t.opacity=1),r.playing.val&&(this.__paused||this.pause(!0),c(this)),n.$isLoadingVideo.val=!0}else this._notRendered=!0},canplay:function(){}}}).Class},{"../players/viacom":"/Users/ricksmit/dev/mtv-play/components/player/players/viacom.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/element/video":"/Users/ricksmit/dev/vigour-js/browser/element/video/index.js","old-vigour-js/browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js"}],"/Users/ricksmit/dev/mtv-play/components/player/volume/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/browser/ua"),n="ms"===r.prefix?function(e){var t=this.node.getBoundingClientRect(),i=t.left,s=(e.pageX-i)/this.w.val;this.data.volume.from=s>1?1:0>s?0:s}:function(e){var t=this.node.getBoundingClientRect(),i=t.left,s=(e.x-i)/this.w.val;this.data.volume.from=s>1?1:0>s?0:s},o=new s({css:"player-volume",w:50,events:{down:n,drag:n,up:n}});o.extend({bars:function(e){var e=e.val,t=this.children,i=33,s=i*(isNaN(e)?1:e)+5;for(var r in t)s-=i/5,t[r].nested.x=-3+Math.min(s,3)}});for(var a=5;a--;)o.add(new s({nested:{}}));t.exports=o.Class},{"./style.less":"/Users/ricksmit/dev/mtv-play/components/player/volume/style.less","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/mtv-play/components/player/volume/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/popup/article.js":[function(e,t,i){var s=e("../img"),r=e("./page"),n=e("autolinker"),o=e("old-vigour-js/browser/cases");t.exports=i=new r({css:"popup-article",img:new s.Relative({h:190,display:{data:"img",transform:function(e,t){return t?"block":"none"}}}),title:{text:{data:"title"}},body:{html:{data:"text",transform:function(e,t){return o.ios?t&&n.link(t,{className:"popup-article-link",replaceFn:function(e,t){if(t.url){var i=e.getTagBuilder().build(t);return i.setAttr("onclick","return false openFunction(event,"+t.url+")"),i}}}):t&&n.link(t,{className:"popup-article-link"})}}}}).Class,window.openFunction=function(e,t){e.preventDefault(),console.log(t)},i.Cookie=new i({body:{html:{data:"text",transform:function(e,t){return t&&n.link(t.replace("Klik HIER","<span class=\"popup-article-link\" onclick=\"var app = document.body.base, p = app.popup;p.data = app.content.get(['legal_cookies_extended', 'list', '0']);p.val = 'article'\">Klik HIER</span>"),{className:"popup-article-link"})}}}}).Class},{"../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js",autolinker:"/Users/ricksmit/dev/mtv-play/node_modules/autolinker/dist/Autolinker.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/auth.js":[function(e,t,i){function s(){d.dropdown._remove=!0,d.dropdown.y={sub:0},d.dropdownBackdrop.remove()}var r=e("old-vigour-js/app/ui/element"),n=e("../icon"),o=e("old-vigour-js/browser/cases"),a=e("../button"),l=e("../text/input"),c=e("../item"),u=e("./page"),d=e("old-vigour-js/app/"),p=new r({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=d.content.get([this._name,"list","0"]),e.val="article"},css:"term"}).Class;i.FbButton=new a({"events.click":function(){var e=this.checkParent("api",!0);e.facebook.login.val=!0}}).Class,i.GetApp=new u({css:"getapp",on:{$parent:{defer:function(e){var t=this._parent._caller.checkParent("topbar",!0);t&&(t.empty(),t.node.style.backgroundColor="#3a1a58"),e()}}},info:{title:{"text.dictionary":"text.register.redirectTitle"},subtitle:{"text.dictionary":"text.register.redirectSubtitle"},freepass:{display:{val:"block",$hasEpisodePass:"none"}},freepassAlt:{display:{val:"none",$hasEpisodePass:"block"}}},"ios.teleport":new a({text:{dictionary:"text.register.redirectTeleport"},"events.click":function(){window.location.href="fb709421825777638://"}})}).Class;var v=new r({top:{text:{dictionary:"text.signInTOS"}},items:{privacy:new p({text:{dictionary:"text.privacy"}}),terms:new p({text:{dictionary:"text.terms"}})}}).Class;i.Login=new u({css:"login",logo:{},"!windowsMobile.facebook":new i.FbButton({"text.dictionary":"text.account.signin.facebook"}),email:new a({text:{dictionary:"text.account.signin.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="loginEmail"}}),operator:new a({text:{dictionary:"text.account.signin.operator"},display:{val:"none",$hasOperatorRegistration:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;1===d.operators.$length.val?(e.val="operatorList",console.warn("[operators] for time being redirect to list when available_from")):(console.warn("[operators] not integrated"),e.val="operatorList")}}),conditions:new v({css:"alignedTop"})}).Class,i.Login.Email=new l.Form({css:"login",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),"desktop.confirm":new a({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new v,verify:["email","password"],bottom:{"text.dictionary":"text.account.forgot.title","events.click":function(){var e=this.checkParent("api",!0);e.password.forgot.val=this.parent.email.val}},define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.login.val={email:this.email.val,password:this.password.val}}else d.notification.val="invalid"}}}).Class,i.Login.Operator=new l.Form({css:"login",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),"desktop.confirm":new a({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new v,verify:["email","password"],define:{done:function(){if(this.verified){console.log("[operator] verified!");var e=this.checkParent("api",!0).operator;1===d.operators.$length.val?e.login.val={email:this.email.val,password:this.password.val,operator:d.operators.keys[0]}:(console.warn("[operator] selection not implemented"),e.login.val={email:this.email.val,password:this.password.val,operator:this.operator.val})}else d.notification.val="invalid"}}}).Class;var f=i.RegisterConditions=new v({top:{text:{dictionary:"text.termsOfService"}}}).Class;i.Register=new u({css:"register",logo:{},"!windowsMobile.facebook":new i.FbButton({"text.dictionary":"text.account.signup.facebook"}),email:new a({text:{dictionary:"text.account.signup.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="registerEmail"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new a({display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.account.signup.operator"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="operatorList"}}),conditions:new f({css:"alignedTop"})}).Class,i.Register.Email=new l.Form({css:"register",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),repeatPassword:new l({input:{val:"password",text:"text.repeatPassword"}}),verify:["email","password","repeatPassword"],"desktop.confirm":new a({text:{dictionary:"text.next"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new f,define:{done:function(){if(this.verified)if(this.password.val===this.repeatPassword.val){var e=this.checkParent("on.popup",!0).from;e.data={type:this.data&&this.data._name,email:this.email.val,password:this.password.val},e.val="registerNewsletter"}else d.notification.val="noMatchPassword";else d.notification.type=this.verificationError&&this.verificationError.val,d.notification.val="invalid"}}}).Class;var h,m=new c.Switcher({txt:{"title.text.dictionary":"text.newsletterTitle","subtitle.text.dictionary":"text.newsletterSubtitle"},"events.click":function(){this.parent.data||(this.parent.data={});var e=this.parent.data;e.newsletter=!this.righticon.hold.switchOn.val,this.righticon.hold.switchOn=e.newsletter},add:[new n({name:"lefticon",icon:"newsletter"}),"txt"]}).Class;if(o.phone&&o["native"]){var g=new r({css:"auth-dropdown",position:"absolute",y:{animation:{time:18,easing:"outCubic",done:function(){this._remove&&this.remove()}}},model:{complete:function(){var e=this;window.requestAnimationFrame(function(){e.y={sub:e.node.offsetHeight}})}}}).Class;h=new c.IconLeft({lefticon:{icon:"newsletter"},txt:{css:{data:"value",transform:function(e,t){return"txt"===t.trim()?"inactive":" "}},text:{dictionary:{data:"dictionary"}},model:{inherit:!1}},model:function(e){e instanceof Array&&(this.txt.data=e[0])},"events.click":function(){if(!d.dropdown){var e=this.parent,t=this._name,i=this.data;this._dData||(this._dData=i.splice(1)),d.set({dropdownBackdrop:{css:"relative-size","events.click":s},dropdown:new g({y:d.h,collection:{data:!0,element:new r({text:{dictionary:{data:"dictionary"}},"events.click":function(){e.data||(e.data={}),e.data[t]=this.data.value,e[t].txt.data=this.data,s()}})},data:this._dData})})}}}).Class}else h=new c({select:{node:"select",collection:{data:!0,element:new r({node:"option",attr:{value:{data:"value"}},text:{dictionary:{data:"dictionary"}}})}},"events.change":function(e){this.parent.data||(this.parent.data={}),this.parent.data[this._name]=e.target.value},add:[new n({name:"lefticon",icon:"newsletter"}),"select"]}).Class;i.Register.Newsletter=new l.Form({css:"register newsletter",scrollbar:"y",x:{translate:!0},age:new h({"on.$render.defer":function(e){this._parent._caller.data=[{value:"",dictionary:"text.age"},{dictionary:"options.age.0.text",value:"1"},{dictionary:"options.age.1.text",value:"2"},{dictionary:"options.age.2.text",value:"3"}],e()},lefticon:{icon:"age"}}),gender:new h({"on.$render.defer":function(e){this._parent._caller.data=[{value:"",dictionary:"text.gender"},{value:"male",dictionary:"options.gender.0.text"},{value:"female",dictionary:"options.gender.1.text"},{value:"other",dictionary:"options.gender.2.text"}],e()},lefticon:{icon:"gender"}}),newsletter:new m,"desktop.confirm":new a({text:{dictionary:"text.account.signup.title"},"events.confirm":function(){var e=this.parent;e.done.call(e);
}}),conditions:new f,define:{done:function(){var e=this.checkParent("api",!0);this.data||(this.data={}),this.data.type&&localStorage.setItem("registerOperator",this.data.type),e.register.val=this.data}}}).Class,i.PasswordReset=new l.Form({css:"register",scrollbar:"y",x:{translate:!0},password:new l({input:"password"}),repeatPassword:new l({input:{val:"password",text:"text.repeatPassword"}}),"desktop.confirm":new a({text:{dictionary:"text.account.passwordReset"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),define:{done:function(){if(this.password.val===this.repeatPassword.val){var e=this.checkParent("api",!0);e.password.reset.val={password:this.password.val}}else d.notification.val="noMatchPassword"}}}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../text/input":"/Users/ricksmit/dev/mtv-play/components/text/input.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/buy.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/app"),n=e("../button");t.exports=i=new s({css:"upgrade",block:{img:{}},"bottom.text.dictionary":"text.legalContainer","continue":new n({"text.dictionary":"text.continue"})}).Class,i.Monthly=new i({block:{"title.text.dictionary":"text.purchase.monthlyPass.title","txt.text":{dictionary:"text.purchase.monthlyPass.body",add:[" ",r.api.price.monthly]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={subscription:"monthly"}}}).Class,i.Single=new i({block:{"title.text.dictionary":"text.purchase.singlePass.title","txt.text":{dictionary:"text.purchase.singlePass.body",add:[" ",r.api.price.single]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={product:r.user.navigation.media.from}}}).Class,i.Yearly=new i({block:{"title.text.dictionary":"text.purchase.yearlyPass.title","txt.text":{dictionary:"text.purchase.yearlyPass.body",add:[" ",r.api.price.yearly]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={subscription:"yearly"}}}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/comingSoon.js":[function(e,t,i){var s=e("./page"),r=e("old-vigour-js/app"),n=e("old-vigour-js/app/dictionary");t.exports=i=new s({css:"popup-coming-soon",logo:{},img:{},container:{title:{text:{dictionary:"text.notAvailable.title"}},body:{text:{dictionary:"text.notAvailable.text"}},email:{text:"helpme@mtvplay.tv","events.click":function(){r.api.email.send.val={address:"helpme@mtvplay.tv",subject:n.get("text.mailHelp.title").val,body:n.get("text.mailHelp.body").val}}}}}).Class},{"./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/devices.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/util"),e("../icon")),r=e("../item"),n=e("old-vigour-js/browser/cases"),o=e("../button"),a=(e("old-vigour-js/util/config"),e("old-vigour-js/browser/ua")),l=e("old-vigour-js/browser/animation/raf"),c=e("./page");e("old-vigour-js/app/");t.exports=i=new c({css:"devices",myDevice:{icon:new s({icon:a.device}),dInfo:{dTitle:{"text.dictionary":"text.thisDevice"},dSubtitle:{text:n.touch?a.device+" "+("ios"===a.platform?"iOS":a.platform)+(a.version?" "+a.version:""):a.platform+" "+a.browser+" "+a.version}}},middle:{display:{val:"block",$hasDevices:"none"},icon:new s({icon:"monster"})},listTitle:{"text.dictionary":"text.available",display:{val:"none",$hasDevices:"block"}},list:{display:{val:"none",$hasDevices:"block"},collection:{element:new r.IconLeft({model:function(e){e&&e.from&&e.from.device&&!/(desktop)|(tv)|(cast)|(tablet)|(airplay)/.test(e.from.device.val)&&(this.opacity=.5)},events:{click:function(){var e=this.checkParent("on.user",!0)._val,t=this.data.from;/(desktop)|(tv)|(cast)|(tablet)|(airplay)/.test(t.device.val)&&e.setReceiver(t)}},display:{data:"title",transform:function(e,t){return t?"table":"none"}},lefticon:{icon:{data:{val:function(e){var t=e&&e.from&&e.from.device&&e.from.device.val;return"chromecast"===t?"cast":t},listen:"device"}}}}),data:!0}},info:{display:{val:"block",$hasDevices:"none"},"title.text.dictionary":"text.watchBigger","description.text.dictionary":"text.watchBig"},learn:new o({display:{val:"block",$hasDevices:"none"},"text.dictionary":"text.learnMore","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="devices",e.val="faq"}}),on:{$render:{defer:function(){var e=this._parent._caller;e.on.devices._val._update()}},devices:{defer:function(e){var t=this._parent._caller;t.on.receiver._update(),t.data=this.from,e()}},receiver:{defer:function(e){var t=this;l(function(){if(t._parent){var i=t._parent._caller,s=i.checkParent("on.user",!0)._val.receiverClient,r=i.list.find("_d.from",s.from);r?(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=r,r.css={addClass:"current"}):t.focus&&t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"},t.focus=null)}e()})}}}}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/faq.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/element"),e("../icon"),e("../item")),r=e("./page"),n=e("old-vigour-js/app/");t.exports=new r({css:"faq",scrollbar:"y",on:{$parent:{defer:function(e){this._parent._caller.data=n.content.from.get("faq.list"),console.log(this._parent._caller.data),e()}}},collection:{data:!0,element:new s.IconRight({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="faq",e.data=this.data,e.val="article"}})}}).Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/util"),n=e("old-vigour-js/app/"),o=e("../icon"),a=e("old-vigour-js/browser/cases"),l=e("old-vigour-js/app/ui/switcher"),c=e("./auth"),u=e("./operator"),d=e("./settings"),p=e("./profile"),v=e("./share"),f=e("./devices"),h=e("./roadblock"),m=e("./article"),g=e("./languages"),y=e("./faq"),b=e("./wifi"),w=e("./newsletter"),j=e("./mobile"),k=e("./intro"),_=e("./upgrade"),x=e("./buy"),U=c.GetApp,C=e("./comingSoon"),T=a.phone?n.w.val:400;e("old-vigour-js/util/config"),e("old-vigour-js/browser/network/ajax");i=new s({css:"popup-window",on:{$new:{defer:function(e){var t=this._parent._caller;"languages"===n.popup.val&&(t.y._p=!0),window.requestAnimationFrame(function(){t.y&&(t.y._p=!1)}),e()}},loading:{defer:function(e,t){return this._parent._caller?(!t[0]||t[0]!==!0&&"string"!=typeof t[0]?this._parent._caller.overlay.display="none":this._parent._caller.overlay.display="block",void e()):!0}},popup:{defer:function(e){var t,i=this.from.val,s=this._parent,o=s._caller,l=s.overlay._val,T=s.user._val,S=T.receiverClient,A={comingSoon:{dictionary:"text.comingSoon",element:C},verifyMobile:{dictionary:"text.mtvMobile",element:j.Verify},countryCodes:{dictionary:"text.chooseTelCode",element:j.CountryCodes,previous:"verifyMobile"},share:{dictionary:"text.share",element:v},wifi:{dictionary:"settings.connectivity",element:b,previous:"settings"},newsletter:{dictionary:"text.newsletterTitle",element:w,previous:"settings"},roadblock:{dictionary:"text.oops",element:h},roadblockUpgrade:{dictionary:"text.buyPremium",element:h},roadblockMedia:{dictionary:"text.lockedEpisode",element:h.Media},article:{title:"faq"!==this.val,element:m,dictionary:"settings.help"},articleCookie:{title:"faq"!==this.val,element:m.Cookie,dictionary:"settings.help"},getApp:{dictionary:"text.getapp",element:U},operatorList:{dictionary:"text.operator.choose",element:u.List,previous:"register"},operatorAuth:{title:!0,element:u.Register,previous:"operatorList",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},operatorAuthAlt:{previous:"operatorList",title:!0,element:u.RegisterAlternative},operatorListUpgrade:{previous:"upgrade",dictionary:"text.operator.deals",element:u.ListUpgrade},operatorAuthUpgrade:{title:!0,element:u.Upgrade,righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},upgradeOperator:{dictionary:"text.operator.choose",element:c.Register.ChooseOperator,previous:"upgrade"},loginOperator:{dictionary:"text.operator.choose",element:c.Login.Operator,previous:"login",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},devices:{dictionary:"text.devices",element:f,params:{on:{receiver:S,devices:T.devices}}},loginEmail:{dictionary:"text.account.signin.title",element:c.Login.Email,previous:"login",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},passwordReset:{dictionary:"text.account.passwordReset",element:c.PasswordReset},login:{dictionary:"text.account.signin.title",element:c.Login},registerEmail:{dictionary:"text.account.signup.title",element:c.Register.Email,previous:"register",righticon:{icon:{icon:"empty"},text:{dictionary:"text.next"}}},registerSuccess:{dictionary:"text.account.signup.success",element:c.Register.Success},registerNewsletter:{dictionary:"text.account.signup.title",element:c.Register.Newsletter,previous:"registerEmail",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},register:{dictionary:"text.account.signup.title",element:c.Register},upgrade:{dictionary:"text.upgrade",element:_},settings:{dictionary:"text.nav.settings",element:d},profile:{dictionary:"text.profile",element:p,params:{data:{email:T.email,pic:T.profilePic}}},languages:{dictionary:"text.settings.languages.title",element:g,previous:"settings",params:{on:{language:n.language}}},faq:{dictionary:"settings.help",element:y,previous:"settings"},intro:{dictionary:!1,element:k},getStarted:{dictionary:"text.mtvMobile",element:k.getStarted},getStartedContinue:{dictionary:"text.account.signup.title",element:k.getStartedContinue,previous:"intro"},buyMonthly:{dictionary:"text.upgrade",element:x.Monthly,previous:"upgrade"},buySingle:{dictionary:"text.lockedEpisode",element:x.Single,previous:"roadblockMedia"},buyYearly:{dictionary:"text.upgrade",element:x.Yearly,previous:"upgrade"}};if(i)if(l.val="popup",t=A[this.from.val]){if(this.from.previous&&(t.previous=this.from.previous,this.from.previous=null),t.title&&this.from.data)o.topbar.holder.title.text=this.from.data.get("title");else{if(null===o.topbar.holder.title)return;o.topbar.holder.title.text=t.dictionary!==!1?{dictionary:t.dictionary||this.from.val}:""}var E={element:t.element};this.from.data?(E.$params={data:this.from.data},t.params&&r.merge(E.$params,t.params)):t.params?(E.$params=t.params,this.from.data=null):this.from.data=null,t.previous?(o.topbar.holder.lefticon.icon="arrowleft",o.switcher.previous=t.previous):o.topbar.holder.lefticon.icon="empty",a.desktop||(t.righticon?o.topbar.holder.righticon.set(t.righticon):o.topbar.holder.righticon.set({icon:{icon:"close"},text:"",css:""})),o.switcher.transition=E,e()}else console.error("cannot find popup-type",this.from.val),e(!0);else l.val=!1,a.phone?o.y=n.h:o.remove(),e(!0)}}},position:"absolute",phone:{w:n.w,h:n.h,y:{val:0,animation:{time:n.h.val/30,start:n.h,easing:"outCubic",done:function(e){var t=this;e>=100&&t.remove()}}}},"!phone":{w:{val:n.w,sub:30,max:400},h:{val:n.h,sub:30,max:600},x:{val:n.w,sub:{self:"w"},divide:2},y:{val:n.h,sub:{self:"h"},divide:3,min:15},"!android.opacity":{val:1,animation:{time:15,start:0,easing:"outCubic"}}},topbar:{css:"first-topbar",h:{val:40,phone:{iosFull:60}},holder:{lefticon:new o({icon:"arrowleft","events.click":function(){this.checkParent("switcher",!0).back()}}),title:{text:""},righticon:{icon:new o({icon:"close"}),text:"","events.click":a.desktop?function(e){e.preventDefault(),this.checkParent("on.popup",!0).from=!1}:function(e){e.preventDefault();var t=this.checkParent("switcher",!0)._swElem;t&&t.done?t.done.call(t):this.checkParent("on.popup",!0).from=!1}}}},switcher:new l({node:"div",on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},h:{parent:"h",sub:{val:40,phone:{iosFull:60}}},onTransition:a.slow?function(e,t,i){t&&t.remove(),this.add(e)}:function(e,t,i,s){i=void 0!==n.popup.direction?n.popup.direction:1,n.popup.direction=void 0,i&&t?(e.x={val:0,animation:{start:1===i?T:-T,time:20,delay:1,easing:"outCubic",done:function(){t&&t.remove()}}},t.x={val:1===i?-T:T,animation:{time:20,delay:1,easing:"outCubic"}},-1===i?this.add(e,t):this.add(e)):(t&&t.remove(),this.add(e))},backFallback:function(){this.previous&&(n.popup.direction=-1,this.previous instanceof Object?(n.popup.data=this.previous.data,n.popup.val=this.previous.val):n.popup.val=this.previous)}}),overlay:{display:"none"}}),i.topbar.holder.righticon.extend({fn:function(){}}),t.exports=i.Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./article":"/Users/ricksmit/dev/mtv-play/components/popup/article.js","./auth":"/Users/ricksmit/dev/mtv-play/components/popup/auth.js","./buy":"/Users/ricksmit/dev/mtv-play/components/popup/buy.js","./comingSoon":"/Users/ricksmit/dev/mtv-play/components/popup/comingSoon.js","./devices":"/Users/ricksmit/dev/mtv-play/components/popup/devices.js","./faq":"/Users/ricksmit/dev/mtv-play/components/popup/faq.js","./intro":"/Users/ricksmit/dev/mtv-play/components/popup/intro.js","./languages":"/Users/ricksmit/dev/mtv-play/components/popup/languages.js","./mobile":"/Users/ricksmit/dev/mtv-play/components/popup/mobile.js","./newsletter":"/Users/ricksmit/dev/mtv-play/components/popup/newsletter.js","./operator":"/Users/ricksmit/dev/mtv-play/components/popup/operator.js","./profile":"/Users/ricksmit/dev/mtv-play/components/popup/profile.js","./roadblock":"/Users/ricksmit/dev/mtv-play/components/popup/roadblock.js","./settings":"/Users/ricksmit/dev/mtv-play/components/popup/settings.js","./share":"/Users/ricksmit/dev/mtv-play/components/popup/share.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/popup/style.less","./upgrade":"/Users/ricksmit/dev/mtv-play/components/popup/upgrade.js","./wifi":"/Users/ricksmit/dev/mtv-play/components/popup/wifi.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/network/ajax":"/Users/ricksmit/dev/vigour-js/browser/network/ajax.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/intro.js":[function(e,t,i){function s(e,t,i){var s=120,n=10,o=this.children.length,a=this._pos||(this._pos=0),l=a;Math.abs(i.x)>n?(i.x<0&&!(t.x>s)&&(l=Math.max(a-1,-o+1)),i.x>0&&!(t.x<-s)&&(l=Math.min(a+1,0))):(t.x<-s&&(l=Math.max(a-1,-o+1)),t.x>s&&(l=Math.min(a+1,0))),this.x._e&&(this.x={_esub:this.x._e._val}),r(this,l)}function r(e,t){var i=e._pos||(e._pos=0);e._dots;t!==i&&(e.x={multiply:t},e._pos=t)}var n=e("old-vigour-js/app/ui/element"),o=e("../button"),a=e("../img"),l=e("./page"),c=e("old-vigour-js/app/"),u=new n({img:new a.Intro({on:{$new:{defer:function(e){this._parent._caller.background.update(),e()}}}})}).Class;t.exports=i=new l({on:{$parent:{defer:function(e){var t,s=this._parent,r=s._caller,n=r.checkParent("topbar",!0);n&&(t=r.roll,r._topbar=n,t._dots=new i.Dots,n.node.style.backgroundColor="#3a1a58",n.set({holder:{title:{dots:t._dots}}}),t.x=r.parent.parent.w.val-15,s.popup.val=c.popup),e()}},popup:{defer:function(e,t){var i=this._val._val;if("intro"!==i){var s=this._parent._caller._topbar;s&&("settings"===i&&(s.node.style.backgroundColor="#5d4078"),console.log("gaat hier helemaal wrong"),s.holder.title.dots.remove())}e()}}},roll:{css:"intro-roll",x:{val:0,multiply:0,animation:{time:18,easing:"outCubic",complete:function(e){for(var t=this._dots.children,i=t.length-1;i>=0;i--)t[i].css=i===-this._pos?"focus":""}}},append:[u,{"img.background":"1.png","title.text.dictionary":"intro.welcome.title","subtitle.text.dictionary":"intro.welcome.body"},{"img.background":"2.png","title.text.dictionary":"intro.devices.title","subtitle.text.dictionary":"intro.devices.body"},{"img.background":"3.png","title.text.dictionary":"intro.connect.title","subtitle.text.dictionary":"intro.connect.body"},{"img.background":"4.png?1","subtitle.text.dictionary":"intro.free.body",button:new o({"text.dictionary":"intro.free.button","events.click":function(){this.checkParent("on.popup",!0).from="getStartedContinue"}})}],events:{grab:{x:!0,up:s}}}}).Class,i.getStarted=new n({css:"get-started",on:{$parent:{defer:function(e){var t=this._parent,i=t._caller,s=i.checkParent("topbar",!0);s&&(s.node.style.backgroundColor="#5d4078",i._topbar=s),e()}}},"title.text.dictionary":"intro.mobile.title","subtitle.text.dictionary":"intro.mobile.body",append:[o,{css:{addClass:"yes"},"text.dictionary":"intro.mobile.button","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="verifyMobile"}},{css:{addClass:"skip"},"text.dictionary":"button.skip","events.click":function(){this.checkParent("on.popup",!0).from=!1}}]}).Class,i.getStartedContinue=new n({css:"get-started",on:{$parent:{defer:function(e){var t=this._parent,i=t._caller,s=i.checkParent("topbar",!0);s&&(s.node.style.backgroundColor="#5d4078",i._topbar=s),e()}}},"title.text.dictionary":"intro.register.title","subtitle.text.dictionary":"intro.register.body",append:[o,{css:{addClass:"facebook"},"text.dictionary":"text.account.signup.facebook","events.click":function(){var e=this.checkParent("api",!0);e.facebook.login.val=!0}},{css:{addClass:"email"},"text.dictionary":"text.account.signup.email","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="registerEmail"}},{css:{addClass:"operator"},display:{val:"none",$hasOperator:"block"},"text.dictionary":"text.account.signup.operator","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="operatorList"}}],"or.text.dictionary":"text.or",signin:new o({"text.dictionary":"text.account.signin.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="login"}})}).Class,i.Dots=new n({css:"intro-dots",append:[n,{css:"focus"},{},{},{}]}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/languages.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/util"),e("../icon"),e("../item")),r=(e("old-vigour-js/browser/cases"),e("old-vigour-js/util/config")),n=e("old-vigour-js/browser/animation/raf"),o=e("./page");t.exports=new o({css:"languages",on:{$parent:{defer:function(e){this._parent._caller.data=r.languages,this._parent.language._update(),e()}},language:{defer:function(e){var t=this;n(function(){if(t._parent){var i=t._parent._caller,s=t._parent._val||i.checkParent("on.language",!0),r=i.find("_d",s.val);r&&(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=r,r.css={addClass:"current"}),e()}else e(!0)})}}},collection:{data:!0,element:new s({"title.text":{data:!0,dictionary:function(e,t){return t&&"text.languages."+t+".title"}},"events.click":function(){var e=this.checkParent("on.language",!0),t=this.checkParent("on.popup",!0).from;e.$userOrigin.val=String(this.data),t.direction=-1,t.val="settings"}})}}).Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/mobile.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=(e("old-vigour-js/util"),e("../icon"),e("old-vigour-js/browser/cases"),e("../button")),n=e("../text/input"),o=e("../item"),a=e("old-vigour-js/util/config"),l=e("old-vigour-js/browser/animation/raf"),c=e("./page"),u=e("old-vigour-js/app/");i.Verify=new c({css:"verifymobile","on.$parent.defer":function(e){this._parent._caller.data={code:u.telCode},e()},top:{"text.dictionary":"text.enterYourNumber"},country:new o.IconRight({txt:{text:{data:"code",dictionary:function(e,t){return t&&t.slice&&"text.countries."+t.slice(0,2)+".title"},add:[" (+",{data:"code",transform:function(e,t){return t&&a.countrycodes[t]}},")"]}},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="countryCodes"}}),phonenumber:new n({input:"phone","lefticon.html":{data:"code",transform:function(e,t){return t&&("+"+a.countrycodes[t]||t)}}}),verify:new r({text:{dictionary:"text.verify"},"events.click":function(){var e=this.checkParent("api",!0);e.mobile.verify.val={phonenumber:this.parent.phonenumber.val,country:a.countrycodes[this.parent.data.code.val]}}})}).Class,i.CountryCodes=new s({css:"languages codes",on:{$parent:{defer:function(e){this._parent._caller.data=a.mtvmobile,this._parent.language.val=u.telCode,this._parent.language._update(),e()}},language:{defer:function(e){var t=this;l(function(){if(t._parent){var i=t._parent._caller,s=(t._parent._val||i.checkParent("on.language",!0)).from,r=i.find("_d",s.val);r&&(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=r,r.css={addClass:"current"}),e()}else e(!0)})}}},collection:{data:!0,element:new o({"title.text":{data:!0,dictionary:function(e,t){return t&&t.slice&&"text.countries."+t.slice(0,2)+".title"},add:function(e,t){return" (+"+a.countrycodes[String(this.data)]+")"}},"events.click":function(){var e=this.checkParent("on.popup",!0).from;u.telCode.val=String(this.data),e.val="verifyMobile"}})}}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../text/input":"/Users/ricksmit/dev/mtv-play/components/text/input.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/newsletter.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/element"),e("../icon"),e("../item")),r=e("./page"),n=e("old-vigour-js/app/");t.exports=new r({css:"newsletter",newsletterSwitcher:new s.Switcher({css:"ui-item switch","on.$render.defer":function(e){this._parent._caller.righticon.hold.switchOn=n.user.accept_newsletter.from,e()},txt:{"title.text.dictionary":"text.newsletterTitle","subtitle.text.dictionary":"text.newsletterSubtitle"},"events.click":function(){var e=n.user.accept_newsletter.from;e.val=!e.val}})}).Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/operator.js":[function(e,t,i){function s(e){var t=e.split("__$ESCAPED_");return t[1]||t[0]}var r=e("../button"),n=e("../text/input"),o=e("../item"),a=e("./page"),l=e("./auth"),c=l.RegisterConditions,u=e("old-vigour-js/app/"),d=e("old-vigour-js/app/dictionary"),p=d.get("text.operator.future");i.List=new a({css:"operator",on:{$parent:{defer:function(e){this._parent._caller.data=u.operators,e()}}},top:{text:{dictionary:"text.operator.select"}},collection:{data:!0,element:new o.IconRightSub({extend:{support_classic_registration:function(){},available_from:function(){},available:function(){}},support_classic_registration:{data:"support_classic_registration"},available_from:{data:"available_from"},available:{data:"available"},"events.click":function(){if(this.available.val===!0)if(this.available_from.val)u.notification.val=p.val+" "+this.available_from.val;else{var e=this.checkParent("on.popup",!0).from;e.previous={val:"operatorList",data:this.parent.data},e.data=this.data,e.val=this.support_classic_registration.val===!0?"operatorAuthAlt":"operatorAuth"}else u.notification.val=p.val+" "+this.available_from.val}})}}).Class,i.ListUpgrade=new i.List({collection:{data:!0,element:new o.IconRightSub({extend:{support_classic_registration:function(){},available_from:function(){},available:function(){}},support_classic_registration:{data:"support_classic_registration"},available_from:{data:"available_from"},available:{data:"available"},"events.click":function(){if(this.available.val===!0)if(this.available_from.val)u.notification.val=p.val+" "+this.available_from.val;else{var e=this.checkParent("on.popup",!0).from;e.previous={val:"operatorListUpgrade",data:this.parent.data},e.data=this.data,u.cases.$isLoggedIn.val?e.val="operatorAuthUpgrade":e.val="operatorAuth"}else u.notification.val=p.val+" "+this.available_from.val}})}}).Class,i.Register=new n.Form({css:"login operator",scrollbar:"y",x:{translate:!0},top:{text:{data:!0,dictionary:function(){var e=this.checkParent("data",!0);return e&&e._name?"text.operator."+e._name:void 0}}},username:new n({input:function(){return u.cases.$hasOperatorRegistration.val?"email":"user"}}),password:new n({input:"password"}),"desktop.confirm":new r({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){console.log("[operator] Register");var e=this.parent;e.done.call(e)}}),getInTouch:{text:{dictionary:"text.operator.help"},button:{on:{url:{data:"url"},faq_url:{data:"faq_url"}},text:{data:"title"},"events.click":function(){u.api.url.val=this.on.faq_url.val||this.on.url.val}}},conditions:new c,verify:["password"],define:{done:function(){if(this.verified){var e={};console.log("[operator] Register verified");var t=this.checkParent("api",!0);e=u.cases.$hasOperatorRegistration.val?{email:this.username.val,password:this.password.val,operator:"boxer"}:{email:this.username.val,password:this.password.val},t.operator.login.val=e}else u.notification.val="invalid"}}}).Class,i.RegisterAlternative=new a({css:"register operator",top:{text:{dictionary:"text.operator.register"}},"!windowsMobile.facebook":new l.FbButton({"text.dictionary":"text.account.signup.facebook","events.click":function(){var e=s(this.parent.data._name);window.localStorage.setItem("registerOperator",e);var t=this.checkParent("api",!0);t.facebook.login.val=!0}}),email:new r({text:{dictionary:"text.account.signup.email"},"events.click":function(){console.log("[operator] RegisterAlternative");var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=this.parent.data,e.val="registerEmail"}}),conditions:new c({css:"alignedTop"})}).Class,i.Upgrade=new i.Register({top:{text:{data:!0,dictionary:function(){var e=this.checkParent("data",!0);return e&&e._name?"text.operator."+e._name:void 0}}},define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.operator.upgrade.val={operator:s(this.data._name),username:this.username.val,password:this.password.val}}else u.notification.val="invalid"}}}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../text/input":"/Users/ricksmit/dev/mtv-play/components/text/input.js","./auth":"/Users/ricksmit/dev/mtv-play/components/popup/auth.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/page.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element");t.exports=new s({x:{translate:!0},scrollbar:"y"}).Class},{"old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/profile.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=e("../icon"),n=e("../item"),o=e("old-vigour-js/browser/cases"),a=e("old-vigour-js/app/dictionary"),l=e("old-vigour-js/app/"),c=new s({append:[new n({css:"ui-item",lefticon:new r,title:{}}).Class,{"lefticon.icon":"logout","title.text.dictionary":"text.account.logout","events.click":function(){var e=this.checkParent("on.popup",!0);e.from.val="login",l.user.token.val=!1}}]}).Class;t.exports=i=new s({css:"profile",pic:{icon:new r({icon:"profile",display:{val:function(){return l.user.profilepic.val?"none":"block"},listen:l.user.profilepic}}),img:{background:l.user.profilepic,display:{val:function(){return l.user.profilepic.val?"block":"none"},listen:l.user.profilepic}}},username:{text:{val:l.user.first_name,transform:function(e,t){if(t)return t;var i=l.user.email&&l.user.email.val;return i?i.split("@")[0]:""},listen:l.user.email}},email:{text:l.user.email},holder:{display:{val:l.user.operator_name,transform:function(e,t){return t?"none":"block"}},blocks:{allshows:{bold:{text:{dictionary:"text.all"}},light:{
text:{dictionary:"text.nav.shows"}}},allchannels:{display:{val:l.user.role,transform:function(e,t){return 3===t?"none":"table-cell"}},bold:{text:{dictionary:"text.all"}},light:{text:{dictionary:"text.nav.channels"}}},everyepisode:{bold:{text:{dictionary:"text.every"}},light:{text:{dictionary:"text.episode"}}}},unlock:{display:{val:"block",$isUpgraded:"none"},text:{dictionary:"text.purchase.getMore"}}},button:{text:{val:l.user.role,transform:function(e,t){var i=l.user.operator_name.val;return i?a.get("text.premium").val:l.user.role.val?1===l.user.role.val?a.get("text.premium").val:2===l.user.role.val?a.get("text.mtvMobile").val:3===l.user.role.val?a.get("text.trial").val:t:a.get("text.upgrade").val},listen:l.user.operator_name},css:{val:l.user.role.text},"events.click":function(){if(0===l.user.role.val){var e=this.checkParent("on.popup",!0).from;e.previous="profile",e.val=o.$storeAvailable.val||o.$hasMobile.val?"upgrade":"roadblock"}}},operatorSponsor:{display:{val:l.user.operator_name,transform:function(e,t){return t?"block":"none"}},text:"brought to you by",operatorLogo:{background:{val:l.user.operator_name,transform:function(e,t){var i=t&&l.operators;if(i)for(var s in i){var r=i[s];if(r&&(r=r._val)){var n=r.title;if(n&&n.val.toLowerCase()===t.toLowerCase())return r.image._val}}return""}}}},items:new c}).Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/roadblock.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/app"),n=(e("old-vigour-js/util"),e("../icon"),e("../item")),o=(e("old-vigour-js/browser/cases"),e("../button")),a=(e("../text/input"),e("old-vigour-js/util/config"),e("../img"),e("./article"),e("./page"));t.exports=i=new a({css:"roadblock",logo:{display:{val:"block",$isLoggedIn:"none"}},"!native.mockup":{display:{val:"none",$isLoggedIn:"block"}},append:[new s({css:"info"}).Class,{"title.text.dictionary":"text.needToRegister","description.text.dictionary":"text.easyRegister",display:{val:"block",$isLoggedIn:"none"}},{"title.text.dictionary":"text.upgradeRequired","description.text.dictionary":"text.upgradeRequired",display:{val:"none",$isLoggedIn:"block",transform:{val:"none",$storeAvailable:!1}}},{"title.text.dictionary":"text.mobileUpgrade","description.text.dictionary":"text.mobileUpgradeInfo","!native.stores":{windowsstore:{},applestore:{},googlestore:{},googlecast:{},samsungtv:{},lgtv:{}},display:{val:"none",$isLoggedIn:"block",transform:{val:!1,$storeAvailable:"none"}}}],signup:new o({display:{val:"block",$isLoggedIn:"none"},"text.dictionary":"text.account.signup.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="register"}}),signin:new o({display:{val:"block",$isLoggedIn:"none"},"text.dictionary":"text.account.signin.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="login"}}),upgrade:new o({display:{val:"none",$isLoggedIn:"block",transform:{val:"none",$storeAvailable:"block"}},"text.dictionary":"text.upgrade","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="upgrade"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new o({"text.dictionary":"text.purchase.operator",display:{val:"none",$hasOperator:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=r.cloud.data.get(["mtvData","operators"]),e.val="operatorListUpgrade"}})}).Class,i.Media=new a({css:"roadblock media share","holder.thumb":new n.Thumb({thumb:{h:60,img:{h:60}},righticon:!1}),buy:new o({display:{val:"none",$storeAvailable:"block","!$hasEpisodePass":"none"},text:{dictionary:"text.unlockPrice",add:[" ",r.api.price.single]},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buySingle"}}),or:{display:{val:"none",$storeAvailable:"block","!$hasEpisodePass":"none"},text:{val:"- ",add:[{dictionary:"text.or"}," -"]}},upgrade:new o({"text.dictionary":"text.upgrade","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous={val:"roadblockMedia",data:this.parent.data},e.val="upgrade"}}),mobile:new o({"text.dictionary":"text.purchase.freeWithMTV",display:{val:"none",$hasMobile:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="verifyMobile"}})}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../text/input":"/Users/ricksmit/dev/mtv-play/components/text/input.js","./article":"/Users/ricksmit/dev/mtv-play/components/popup/article.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/settings.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=(e("old-vigour-js/util"),e("../icon"),e("../item")),n=e("old-vigour-js/browser/cases"),o=(e("../button"),e("../text/input"),e("old-vigour-js/util/config"),e("old-vigour-js/browser/animation/raf"),e("./page"),e("old-vigour-js/app/dictionary")),a=e("old-vigour-js/app/");t.exports=new s({css:"settings",scroller:{language:new r.IconRightSub({txt:{"title.text.dictionary":"text.settings.languages.title","subtitle.text.dictionary":"text.settings.languages.subtitle"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="languages"}}),FAQ:new r.IconRightSub({txt:{"title.text.dictionary":"settings.help","subtitle.text.dictionary":"settings.helpSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="faq"}}),help:new r.IconRightSub({txt:{"title.text.dictionary":"settings.feedback","subtitle.text.dictionary":"settings.feedbackSub"},"events.click":function(){var e=this.checkParent("api",!0);e.email.send.val={address:"helpme@mtvplay.tv",subject:o.get("text.mailHelp.title").val,body:o.get("text.mailHelp.body").val}}}),"$hasMobile.about":new r.IconRightSub({txt:{"title.text.dictionary":"settings.about","subtitle.text.dictionary":"settings.aboutSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from,t=a.user;e.previous="settings",e.data=t.data.from.get(["about","list","0"]),e.val="article"}}),newsletter:new r.IconRightSub({txt:{"title.text.dictionary":"settings.enableNewsletter.title","subtitle.text.dictionary":"settings.enableNewsletter.subtitle"},display:{val:"none",$isLoggedIn:"table"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="newsletter"}}),"native.wifi":new r.IconRightSub({txt:{"title.text.dictionary":"settings.connectivity","subtitle.text.dictionary":"settings.connectivitySub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="wifi"}}),verifyMobile:new r.IconRightSub({display:{val:n.$hasMobile,transform:function(e,t){return t&&n.$isLoggedIn.val?"table":"none"},listen:n.$isLoggedIn},txt:{"title.text.dictionary":"settings.verifyMobile","subtitle.text.dictionary":"settings.verifyMobileSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="settings",e.val="verifyMobile"}}),"native.intro":new r.IconRightSub({txt:{"title.text.dictionary":"settings.intro","subtitle.text.dictionary":"settings.introSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="settings",e.val="intro"}})},version:{text:{val:"MTV Play -",add:[" ",window["package"]&&window["package"].version]}},phone:{h:{parent:"h"},scroller:{scrollbar:"y",h:{parent:"h",sub:80}}}}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../text/input":"/Users/ricksmit/dev/mtv-play/components/text/input.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/share.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/util"),e("../icon"),e("../item")),r=(e("old-vigour-js/browser/cases"),e("../button"),e("../text/input"),e("old-vigour-js/util/config"),e("../img"),e("./page"));t.exports=i=new r({css:"share","holder.thumb":new s.Thumb({thumb:{h:60,img:{h:60}},righticon:!1}),facebook:new s.IconLeft({lefticon:{icon:"facebook"},"txt.text.dictionary":"text.shareFacebook","events.click":function(){var e=this.checkParent("api",!0);e.facebook.share.val={val:!0,url:!0}}}),email:new s.IconLeft({lefticon:{icon:"email"},"txt.text.dictionary":"text.shareEmail","events.click":function(){var e=this.checkParent("api",!0);e.email.share.val=!0}})}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","../text/input":"/Users/ricksmit/dev/mtv-play/components/text/input.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/popup/upgrade.js":[function(e,t,i){var s=e("old-vigour-js/app"),r=e("../button"),n=e("./page");i=t.exports=new n({css:"upgrade",block:{img:{},"title.text.dictionary":"text.purchase.goPremium","txt.text.dictionary":"text.purchase.getMore"},bottom:{"text.container":"text.legalContainer"},monthlyFee:new r({text:{dictionary:"text.purchase.monthlyPass.title",add:[" ",s.api.price.monthly]},display:{val:"none",$storeAvailable:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buyMonthly"}}),annualFee:new r({text:{dictionary:"text.purchase.yearlyPass.title",add:[" ",s.api.price.yearly]},display:{val:"none",$storeAvailable:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buyYearly"}}),upgradeUsingPhone:new r({text:{dictionary:"tex.buyPremiumPhoneButton"},display:{val:"block",$storeAvailable:"none"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="roadblockUpgrade"}}),mobile:new r({"text.dictionary":"text.purchase.freeWithMTV",display:{val:"none",$hasMobile:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="verifyMobile"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new r({"text.dictionary":"text.purchase.operator",display:{val:"none",$hasOperator:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.data=s.cloud.data.get(["mtvData","operators"]),e.val="operatorListUpgrade"}})}).Class},{"../button":"/Users/ricksmit/dev/mtv-play/components/button/index.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js"}],"/Users/ricksmit/dev/mtv-play/components/popup/wifi.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/element"),e("../icon"),e("../item")),r=e("./page"),n=e("old-vigour-js/app/");t.exports=new r({css:"wifi",wifiSwitcher:new s.Switcher({css:"ui-item switch","on.$render.defer":function(e){this._parent._caller.righticon.hold.switchOn=n.wifiOnly,e()},txt:{"title.text.dictionary":"settings.enableCellular.title","subtitle.text.dictionary":"settings.enableCellular.subtitle"},"events.click":function(){var e=n.wifiOnly;e.val=!e.val}})}).Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../item":"/Users/ricksmit/dev/mtv-play/components/item/index.js","./page":"/Users/ricksmit/dev/mtv-play/components/popup/page.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/rotate-message/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("../icon");t.exports=new s({css:"rotate-message",holder:{icon:new r({icon:"phone"}),message:{text:{dictionary:"text.rotateDevice"}}}}).Class},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/rotate-message/style.less","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/rotate-message/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js"][0].apply(i,arguments)},{}],"/Users/ricksmit/dev/mtv-play/components/second/bar/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/app/dictionary"),n=e("../../icon"),o=e("../../text"),a=r.get("connect.active"),l=r.get("connect.waiting");e("old-vigour-js/browser/cases");t.exports=new s({css:"second-bar",device:new n({icon:{data:"activeClient.device"}}),info:{html:{data:"activeClient.device",transform:function(e,t){return t?a.val+" "+o.highlight(t):l.val},listen:a}}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../text":"/Users/ricksmit/dev/mtv-play/components/text/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/bar/style.less","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/bar/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/channel/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/"),r=e("old-vigour-js/app/ui/element"),n=e("../../icon"),o=e("../../img"),a=e("../grid"),l=new r({w:{val:a.colWidth,add:10,multiply:2,sub:10},y:{val:a.rowHeight,divide:2,add:40},title:{text:{data:"media.title"}},img:new o({background:{data:"media.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),extratitle:{text:{data:"media.title"}},description:{text:{data:"media.description"}}}),c=new o({h:s.h,w:{val:s.w,sub:[l.w,160]},background:{data:"media.img",range:100},overlay:{message:{swipeicon:new n({icon:"swipeup"}),text:"Press Watch Big your device to start playing!"}}});t.exports=new r({css:"second-channel",information:l,cover:c}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../grid":"/Users/ricksmit/dev/mtv-play/components/second/grid/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/channel/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/channel/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/channels/index.js":[function(e,t,i){e("./style.less");var s=e("../grid"),r=e("old-vigour-js/app/ui/element"),n=e("../../img"),o=e("old-vigour-js/app/"),a=e("../../epg_temp"),l=e("../../player/seekbar"),c=a.clockTime,u=new r({w:{parent:"itemWidth",sub:10},css:"grid-item",img:new n({w:{parent:"w",sub:2},h:{parent:"w",multiply:.75},background:{range:100}}),information:{channeltitle:{css:"ui-item-text",text:{data:"title"}},now:{text:{dictionary:"text.now"}},epg:{showtitle:{text:{data:"title"}},time:{text:{data:"minutes_since_midnight",transform:c,add:[" - ",{data:"endtime",transform:c}]}},bar:new l({seek:{w:{val:a.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"},transform:function(e,t){return isNaN(parseInt(t))?0:100*t+"%"},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.information.epg.data=a.now(t),this.model=!1)}}}).Class;s=new s({css:"second-channels",itemWidth:{val:o.w,sub:160,divide:{val:4,min:4},clear:!0},title:{text:"channels"},y:{val:s.rowHeight,divide:2,add:40},collection:{data:"channels",element:new u},model:function(e){var t=e.channels&&e.channels.keys,i=t&&t.length;i!==this._length&&(this.itemWidth={divide:i},this._length=i)}}),t.exports=s.Class},{"../../epg_temp":"/Users/ricksmit/dev/mtv-play/components/epg_temp.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../../player/seekbar":"/Users/ricksmit/dev/mtv-play/components/player/seekbar/index.js","../grid":"/Users/ricksmit/dev/mtv-play/components/second/grid/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/channels/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/channels/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/discover/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/"),r=e("old-vigour-js/app/ui/element"),n=e("../grid"),o=e("../../img"),a=e("old-vigour-js/browser/cases"),l=new n({itemHeight:n.rowHeight,title:{},w:{self:"itemWidth",add:10,multiply:1},collection:{data:!0},model:{val:function(e){e=e[this.collection._flag.data[2]];var t=e&&e.keys,i=t&&t.length;if(t&&i!==this._length){var s=this.parent;this.w={multiply:Math.ceil(i/4)||1},this._length=i,s._index=null,s.horizontalScroll.update()}}}}).Class,c=new r({title:{text:{dictionary:"text.nav.discover"}},holder:{h:{val:n.rowHeight,add:10,multiply:2,sub:10},w:{val:n.colWidth,add:10,multiply:3,sub:10},roll:{w:{parent:"w"},h:{parent:"h"},x:{parent:"w",multiply:{data:"carousel"},animation:!a.chromecast&&{easing:"outCubic",time:36}},collection:{data:"marquee",element:new o({w:{parent:"w"},h:{parent:"h"},background:{range:100}})}}}}).Class,u=new r;u.extend({horizontalScroll:function(e){var t=e.val,i=.25,s=Math.min(~~(t/i),3);if(s!==this._index){var r=this.children;0===s?this.x=0:1===s?this.x=-r[0].holder.w.val-80:2===s?this.x=-r[0].holder.w.val-80-r[1].w.val-80:this.x=-r[0].holder.w.val-80-r[1].w.val-80-r[2].w.val-80;for(var n,o,a=r.length-1;a>=0;a--)o=r[a],n?o.opacity=0:a!==s?o.opacity=.3:(o.opacity=1,n=!0);this._index=s}}}),t.exports=new u.Class({css:"second-discover","!chromecast.x.animation":{easing:"outCubic",time:36},y:{val:n.rowHeight,divide:2,add:40},horizontalScroll:{data:"scroll"},spotlight:new c,releases:new l({title:{text:{dictionary:function(){var e=s.region.val;if(e){var t=s.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row1."+t}},listen:s.user.role}},collection:{data:"releases"}}),recommended:new l({title:{text:{dictionary:function(){var e=s.region.val;if(e){var t=s.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row2."+t}},listen:s.user.role}},collection:{data:"recommended"}}),free:new l({title:{text:{dictionary:function(){var e=s.region.val;if(e){var t=s.user.role.val;return t=t&&3!==t?"premium":"free",e&&"text.discover."+e.toLowerCase()+".row3."+t}},listen:s.user.role}},collection:{data:"free"}})}).Class},{"../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../grid":"/Users/ricksmit/dev/mtv-play/components/second/grid/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/discover/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/discover/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/episode/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/"),r=e("old-vigour-js/app/ui/element"),n=e("../../icon"),o=e("../../img"),a=e("../grid"),l=new r({w:{val:a.colWidth,add:10,multiply:2,sub:10},y:{val:a.rowHeight,divide:2,add:40},title:{text:{data:"show.title"}},holder:{w:{parent:"w"},img:new o({background:{data:"media.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),extratitle:{text:{data:"media.title"}},opacity:{data:"media.number",transform:function(e,t){return t?(this.css="",1):(this.css="dontAnimate",0)}},subtitle:{text:{val:{dictionary:"text.season"},add:[" ",{data:"season.number"}," ",{dictionary:"text.episode"}," ",{data:"media.number"}]}},description:{text:{data:"media.description"}}}}),c=new o({h:s.h,w:{val:s.w,sub:[l.w,160]},background:{data:"show.img",range:100},overlay:{message:{swipeicon:new n({icon:{val:"cast",$isReceiver:"swipeup"}}),text:{dictionary:"text.recieveSecondScreen",transform:!1,$isReceiver:{transform:{dictionary:"text.recieveMainScreen"}}}}}});t.exports=new r({css:"second-episode",information:l,cover:c}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../grid":"/Users/ricksmit/dev/mtv-play/components/second/grid/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/episode/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/episode/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/grid/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/"),r=e("old-vigour-js/app/ui/element"),n=e("old-vigour-js/value"),o=e("../../img"),a=new r,l=new r({w:{parent:"itemWidth"},h:{parent:"itemHeight"},css:"grid-item",img:new o({w:{parent:"w"},h:{parent:"h"},background:{range:100}})}).Class;a.extend({itemWidth:function(){},itemHeight:function(){}}),a.set({itemHeight:{},itemWidth:{self:"itemHeight",divide:.75},collection:{element:new l}}),t.exports=i=a.Class,i.Item=l,i.rowHeight=new n({val:s.h,sub:80,divide:6}),i.colWidth=new n({val:i.rowHeight,divide:.75})},{"../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/grid/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/grid/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=(e("old-vigour-js/app/"),e("old-vigour-js/browser/cases")),n=e("./switcher"),o=e("./screensaver"),a=e("./bar");t.exports=new s({css:"second-state",switcher:r.phone?new o:new n,"!phone.bar":new a,"phone.button.title.text.dictionary":"text.returnTap"}).Class},{"./bar":"/Users/ricksmit/dev/mtv-play/components/second/bar/index.js","./screensaver":"/Users/ricksmit/dev/mtv-play/components/second/screensaver/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/style.less","./switcher":"/Users/ricksmit/dev/mtv-play/components/second/switcher/index.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/screensaver/index.js":[function(e,t,i){e("./style.less");var s=(e("old-vigour-js/app/ui/element"),e("old-vigour-js/app/ui/switcher")),r=e("old-vigour-js/app/"),n=(e("old-vigour-js/browser/cases"),e("../../img")),o=new n({w:r.w,h:r.h}).Class,a=new o({model:{subscription:{$:{img:!0}},val:function(e){if(e._name){var t=e.keys;if(t){var i=t.length;if(i){var s=t[~~(Math.random()*i)];this.model=!1,this.data=e[s]}}}}}}).Class;t.exports=i=new s({css:"second-screensaver",on:{page:{defer:function(e){var t,i=this.$userOrigin.val,s=this._parent,r=s._caller,n=s.content.from;"discover"===i?t=n.get("marquee.list"):"shows"===i?t=n.get("shows"):"channels"===i&&(t=n.get("channels")),r.transition={element:a,$params:{data:t},$options:{force:!0}},e()}},show:{defer:function(e){var t=this.$userOrigin.val,i=this._parent,s=i._caller;s.transition={element:o,$params:{data:t},$options:{force:!0}},e()}},media:{defer:function(e){var t=this.$userOrigin.val,i=this._parent,s=i._caller;s.transition={element:o,$params:{data:t},$options:{force:!0}},e()}}},onTransition:function(e,t,i,s){t&&(t.opacity={val:0,animation:{start:1,time:12}}),e.opacity={val:1,animation:{start:0,time:12,delay:12,done:function(){t&&t.remove()}}},this.add(e)}}).Class},{"../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/screensaver/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/screensaver/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/show/index.js":[function(e,t,i){e("./style.less");var s=(e("old-vigour-js/app/"),e("old-vigour-js/app/ui/element")),r=e("../grid"),n=e("../../img"),o=e("old-vigour-js/browser/cases"),a=new s({x:{val:0,add:{val:r.colWidth,add:50,multiply:2},animation:!o.chromecast&&{easing:"outCubic",time:36}},collection:{data:"seasons",element:new r({itemHeight:r.rowHeight,title:{text:{val:"season",add:[" ",{data:"number"}]}},w:{self:"itemWidth",add:10,multiply:1},collection:{data:"episodes"},model:{val:function(e){if(e.episodes){var t=e.episodes.keys,i=t.length;i!==this._length&&(this.w={multiply:Math.ceil(i/4)},this._length=i)}}}})}});a.extend({pos:function(e){var t=0|e.val,i=this.children;if(i[1]){t?i[t-1]&&(this.x=this.x.val-i[t-1].node.getBoundingClientRect().right):this.x.val=0;for(var s,r,n=i.length-1;n>=0;n--)r=i[n],s?r.opacity=0:n!==t?r.opacity=.3:(r.opacity=1,s=!0)}}}),t.exports=new s({css:"second-show",on:{show:{defer:function(e){var t=this._parent._caller;t.data=this.from.val,e()}},season:{defer:function(e){var t=this._parent._caller,i=this.from.val;if(i){var s=i&&i._name;t.data||(this._parent.show.val=i._parent._parent),void 0!==s&&(t.roll.pos.val=s)}e()}}},y:{val:r.rowHeight,divide:2,add:40},roll:a.set({pos:0,model:{field:"show",complete:function(){var e=this;window.requestAnimationFrame(function(){e.pos.update(),e.model=!1})}}}),information:{title:{text:{data:"show.title"}},holder:{h:{val:r.rowHeight,add:10,multiply:4,sub:10},w:{val:r.colWidth,add:10,multiply:2,sub:10},img:new n({background:{data:"show.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),description:{text:{data:"show.description"}}}}}).Class},{"../../img":"/Users/ricksmit/dev/mtv-play/components/img/index.js","../grid":"/Users/ricksmit/dev/mtv-play/components/second/grid/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/show/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/show/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/shows/index.js":[function(e,t,i){function s(e,t,i,s){for(var r,n,o=e.length-1;o>=0;o--)~t.indexOf(r=e[o])||(n=i[r])&&(n.img.opacity=s)}function r(e,t,i){if(e=i[e],t=i[t],e&&t){var s=n.h.val-80,r=t.node.getBoundingClientRect().bottom;if(r>=s)i.y.val-=r-s+20;else{var o=e.node.getBoundingClientRect().top;0>=o&&(i.y.val-=o)}i.y.val>0&&(i.y.val=0)}}e("./style.less");var n=e("old-vigour-js/app/"),o=e("old-vigour-js/app/ui/element"),a=e("../../icon"),l=e("../grid"),c=e("old-vigour-js/browser/element/properties/collection/display"),u=new l({y:{translate:!0,add:10},"!chromecast.y.animation":{time:36,easing:"outCubic"},itemWidth:{val:n.w,sub:70,divide:6,clear:!0},itemHeight:{self:"itemWidth",divide:4/3,clear:!0},user:{},collection:{data:"shows",options:c,element:new l.Item({display:"inline-block",img:{background:{load:function(e){e.opacity&&e.opacity.val||(e.opacity=.3)}}},model:{val:function(e){var t=e._name;t&&(this.name=t,this.model=!1)}}}),filter:{condition:{title:{$contains:""}},sort:"title"}},model:{subscription:{$:{img:!0,title:!0}}}});u.user.extend({highlight:function(e){var t=e.val,i=this._parent||(this._parent=this.parent);
if(t[0]){var n=t.split("."),o=i._old||(i._old=[]);n[0]&&(s(o,n,i,.3),s(n,o,i,1),r(n[0],n[n.length-1],i),i._old=n)}},search:function(e){for(var t=e.val,i=this._parent||(this._parent=this.parent),s="",r=0,n=t&&t.length;n>r;r++)s+="\\s*"+t[r];s+="\\s*",i.filter&&(i.filter.filter={condition:{title:{$contains:s}},sort:"title"})}}),u.user.set({highlight:{data:"highlight"},search:{data:"search"}});var d=new o({searchicon:new a({icon:"search"}),text:{data:"search",transform:function(e,t){return t}}});d.extend({paddingRight:function(e){this.node.style.paddingRight=e.val+"px"}}),t.exports=new o({css:"second-shows",grid:u,search:{searchholder:{searchbox:new d.Class({paddingRight:{self:"text",transform:function(e,t){return t[0]?20:0}},opacity:{self:"text",transform:function(e,t){return t[0]?1:0}}})}}}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../grid":"/Users/ricksmit/dev/mtv-play/components/second/grid/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/shows/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/element/properties/collection/display":"/Users/ricksmit/dev/vigour-js/browser/element/properties/collection/display.js"}],"/Users/ricksmit/dev/mtv-play/components/second/shows/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/second/switcher/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/app/ui/switcher"),n=(e("old-vigour-js/browser/cases"),e("../../icon")),o=e("old-vigour-js/app"),a=o.user;t.exports=i=new r({css:"second-switcher",on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}},page:{defer:function(t){var s,r,n,o=this.$userOrigin.val,l=this._parent,c=l._caller,u=l.content.from;if(o){if("discover"===o){void 0===i[o]&&(i[o]=e("../discover"));var d=a.role.val;s=d&&3!==d?{marquee:u.get("discover_marquee_premium.list"),releases:r=u.get("discover_row1_premium.list"),recommended:u.get("discover_row2_premium.list"),free:u.get("discover_row3_premium.list")}:{marquee:u.get("discover_marquee_free.list"),releases:r=u.get("discover_row1_free.list"),recommended:u.get("discover_row2_free.list"),free:u.get("discover_row3_free.list")},s.channels=u.get("channels"),s.watched=l.watched.from,s.scroll=l.scroll.from,s.carousel=l.carousel.from}else"shows"===o?(void 0===i[o]&&(i[o]=e("../shows")),s={shows:r=u.get("shows"),search:l.search.from,highlight:l.highlight.from}):"channels"===o&&(void 0===i[o]&&(i[o]=e("../channels")),s={channels:r=u.get("channels")});r&&(c.transition={element:i[o],$params:{data:s,on:n},$options:{loader:r.from}}),c.current="page"}t()}},show:{defer:function(t){var s,r,n=this.$userOrigin.val,o=this._parent,a=o._caller,l=n._name,c=o.season,u=o.media,d=o.usage;c.from.checkParent("_name",l)||(c.$userOrigin.val=n.from.get("seasons.0")),u.from.checkParent("_name",l)||(u.$userOrigin.val=n.from.get("seasons.0.episodes.0")),r=u.$userOrigin,s=c.$userOrigin,a.transition={element:i.show||(i.show=e("../show")),$params:{on:{season:s},data:{show:n,season:s,media:r,showusage:d.from.get(n.from._contentPath),mediausage:d.from.get(r.from._contentPath),volume:o.volume}},$options:{loader:n.from.seasons}},t()}},season:{defer:function(e,t){t[0]&&this._parent.show._update(),e()}},media:{defer:function(t){var s=this._parent,r=s._caller,n=this.$userOrigin.val;if(n||(n=this.$userOrigin.val=this.from),"episodes"===n._parent._name){var o=n._parent._parent,a=o._parent._parent;r.transition={element:i.episode||(i.episode=e("../episode")),$params:{data:{show:a,season:o,media:n}},$options:{loader:n.from},direction:"page"===r.current?1:"media"===r.current&&-1}}else"channels"===n._parent._name&&(r.transition={element:i.channel||(i.channel=e("../channel")),$params:{data:{media:n}},$options:{loader:n.from},direction:"channel"!==r.current&&1});t()}}},onTransition:function(e,t,i,s){t?(this.add(e,t),t.opacity=0,t.node.pointerEvents="none",this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t&&t.remove(),this._timer=null,s.done&&s.done()},200)):(this.add(e),s.done&&s.done())},loader:new s({css:"second-loader",x:{translate:!0},loadicon:new n({icon:"logo"})})}).Class},{"../../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","../channel":"/Users/ricksmit/dev/mtv-play/components/second/channel/index.js","../channels":"/Users/ricksmit/dev/mtv-play/components/second/channels/index.js","../discover":"/Users/ricksmit/dev/mtv-play/components/second/discover/index.js","../episode":"/Users/ricksmit/dev/mtv-play/components/second/episode/index.js","../show":"/Users/ricksmit/dev/mtv-play/components/second/show/index.js","../shows":"/Users/ricksmit/dev/mtv-play/components/second/shows/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/second/switcher/style.less","old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/second/switcher/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/first/discover/style.less"][0].apply(i,arguments)},{"../../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/smartbanner/index.js":[function(e,t,i){(function(t){e("./style.less"),function(e,t,i,s,r,n,o,a,l,c){if(!e[s]||!e[s]._q){for(;a<o.length;)r(n,o[a++]);l=t.createElement(i),l.async=1,l.src="https://cdn.branch.io/branch-latest.min.js",c=t.getElementsByTagName(i)[0],c.parentNode.insertBefore(l,c),e[s]=n}}(window,document,"script","branch",function(e,t){e[t]=function(){e._q.push([t,arguments])}},{_q:[],_v:1},"addListener applyCode banner closeBanner creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setIdentity track validateCode".split(" "),0),t.branch.init("key_live_iam6tXXsY1WSGWH8onTU8hocxDmjmvJJ"),t.branch.banner({icon:"./img/branding/apple-touch-icon-114x114.png",title:"MTV Play",description:"MTV Play – any show, anywhere, anytime!",showDesktop:!1},{})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./style.less":"/Users/ricksmit/dev/mtv-play/components/smartbanner/style.less"}],"/Users/ricksmit/dev/mtv-play/components/smartbanner/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js"][0].apply(i,arguments)},{}],"/Users/ricksmit/dev/mtv-play/components/switcher/index.js":[function(e,t,i){e("./style.less");var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/app/ui/switcher"),n=e("old-vigour-js/browser/cases"),o=e("old-vigour-js/app/");t.exports=i=new r({css:"app-switcher",w:{parent:"w"},h:{parent:"h"},on:{state:{defer:function(t){var r,a,l,c,u,d,p=this._parent,v=p._caller,f=this.from.val,h=p.content._val,m=p.favourites._val,g=p.navigation._val,y=p.receiver._val,b=p.highlight._val,w=p.overlay._val,j=p.watched._val,k=p.search._val,_=p.usage._val,x=p.volume._val,U=p.scroll._val,C=p.carousel._val,T=p.notification._val,S=p.popup._val,A=p.play._val,E=p.loading._val,O=p.activeClient._val;"player"===f?window.StatusBar&&window.StatusBar.hide&&window.StatusBar.hide():window.StatusBar&&window.StatusBar.show&&window.StatusBar.show(),"empty"===f?c=(new s).Class:"first"===f||"player"===f&&(n.desktop||n.tablet)?(c=i.first||(i.first=e("../first")),n.tv?(u={switcher:{on:{content:h,page:g.page,show:g.show,media:g.media}}},u.sidemenu={data:{page:g.page}}):(u={on:{overlay:w,popup:S,notification:T,loading:E,state:this.from},section:{on:{msmedia:y.media,usage:_,play:y.playing,volume:y.volume},topbar:{on:{page:g.page,show:g.show,media:g.media}},switcher:{on:{content:h,favourites:m,page:g.page,show:g.show,season:g.season,media:g.media,highlight:b,scroll:U,search:k,usage:_,volume:x,watched:j,carousel:C,play:A,ms:y}}}},n.phone?u.section.topmenu={data:{page:g.page}}:u.sidemenu={data:{page:g.page}})):"second"===f?(c=i[f]||(i[f]=e("../second")),u={switcher:{on:{content:p.content,page:g.page,show:g.show,season:g.season,channel:g.channel,media:g.media,highlight:b,scroll:U,search:k,usage:_,watched:j,carousel:C}},bar:{data:{activeClient:O}}}):"player"===f&&(c=i[f]||(i[f]=e("../player")),r=this._val.video?this._val.video.from:g.media.from,"episodes"===r._parent._name?(a=r._parent._parent,l=a._parent._parent,u={data:{show:l,season:a,media:r,mediausage:_.from.get(r._contentPath),volume:x}}):"channels"===r._parent._name&&(u={data:{media:r,mediausage:_.from.get(r._contentPath),volume:x}})),c&&(v.transition={element:c,$params:u,$options:{force:d}},o.user.updateNavigation()),t()}}},onTransition:function(e,t){t&&t.remove(),this.add(e)}}).Class},{"../first":"/Users/ricksmit/dev/mtv-play/components/first/index.js","../player":"/Users/ricksmit/dev/mtv-play/components/player/index.js","../second":"/Users/ricksmit/dev/mtv-play/components/second/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/switcher/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/app/ui/switcher":"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/components/switcher/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/components/text/index.js":[function(e,t,i){var s=e("old-vigour-js/app/ui/element"),r=e("old-vigour-js/app/dictionary"),n=r.get("text.season"),o=r.get("text.seasons"),a=r.get("text.episode"),l=r.get("text.episodes");i.Title=new s({text:{data:"title"}}).Class,i.Subtitle=new s({text:{data:{val:function(e){if(e&&(e=e.from),!e)return"";if(e.subtitle)return e.subtitle.val||"";if(e.number){var t=e._parent._parent,i=t.number?t.number.val:e.season&&e.season.val||(0|t._name)+1;if("seasons"===e._parent._name)return n.val+" "+e.number.val;if(!isNaN(i))return n.val+" "+i+" "+a.val+" "+e.number.val}if(e.seasonCount&&e.episodeCount){var s=e.seasonCount.val,r=e.seasonCount.val>1?o.val:n.val,c=e.episodeCount.val,u=e.episodeCount.val>1?l.val:a.val;return s+" "+r+" "+c+" "+u||""}return""},listen:["seasonCount","episodeCount","subtitle","number","season"]},listen:r}}).Class,i.TitleSubtitle=new s({title:new i.Title,subtitle:new i.Subtitle}).Class,i.Description=new s({text:{data:"media.description","default":{dictionary:"text.noDescription"}}}).Class,i.highlight=function(e){var t=e.charAt(0),i=e.slice(1),s="i"!==t?t.toUpperCase()+i:t+i.charAt(0).toUpperCase()+i.slice(1);return'<span class="text-highlight">'+s+"</span>"}},{"old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/mtv-play/components/text/input.js":[function(e,t,i){function s(e,t){t.focused=e,t.corrected||(t.corrected=c.h.val);var i=p.y(e),s=t.corrected-380;i>s&&(d.ios||(t.focusing=!0),t.y.animation||d.ios||(t.y={animation:{time:10,easing:"outCubic",complete:function(){this.focusing=!1}}}),t.y={sub:i-s-10})}function r(e){var t=this.node;document.body.scrollTop=0,window.requestAnimationFrame(function(){document.body.scrollTop=0});var i=this.parent.input;if(c.blockResize=!0,this.parent.css="ui-item ui-input active focus",t.value===this.text.val&&(t.value=""),i&&"password"===i.val&&(t.setAttribute("type","password"),t.setAttribute("autocapitalize","off")),h){var s=this,r=function(){n.call(s),t.removeEventListener("blur",r,!0)};t.addEventListener("blur",r,!0)}}function n(){if(!this.focusing){window.scrollTo(0,0),c.blockResize=!1;var e,t=this.parent.input;d.touch&&t&&t.holder&&(e=t.holder.val,e&&!e.focusing&&(e.y={sub:0})),""===this.node.value?(this.node.value=this.text.val,this.parent.css="ui-item ui-input",t&&"password"===t.val&&this.node.setAttribute("type","text")):this.parent.css="ui-item ui-input active"}}function o(e){var t,i=this.node.type,s=this.parent,r=this.node.value;if("text"!==i||s.input){t=s.input.val,"password"===t?s.verified=r.length>3:"email"===i||"email"===t?(s.verified=/^[a-zA-Z0-9._%+-]+@[A-Za-z0-9.-]+\.[a-zA-Z]{2,4}$/.test(r),this.node.value=r.trim()):s.input&&"phone"===s.input.val?s.verified=/^(\d){6,12}$/.test(r):s.input&&s.input.verify&&1===s.input.verify.__t?s.verified=r>s.input.verify[0]&&r<s.input.verify[1]:s.verified=r.length>2,s.input&&s.input.keyup&&"function"==typeof s.input.keyup._val&&s.input.keyup._val.call(s,s.verified);var n,o,a,l=this._form!==!1&&(this._form||(this._form=this.checkParent("verify"))||!1),c=l&&l.verify;if(c){for(o=this._righticon||(this._righticon=this.checkParent("topbar.holder.righticon",!0)),a=c.length-1;a>=0;a--)l[c[a]._val].verified||(n=!0,l.verificationError=c[a]);o.css=n?"pointer":"pointer verified",o.verified=!n,l.verified=!n}}}e("./style.less");var a=e("old-vigour-js/app/ui/element"),l=e("../icon"),c=e("old-vigour-js/app/"),u=e("old-vigour-js/browser/events"),d=e("old-vigour-js/browser/cases"),p=e("old-vigour-js/browser/events/offset"),v=e("old-vigour-js/browser/ua"),f=new a({css:"ui-item ui-input",lefticon:new l({icon:"email"})}),h="firefox"===v.browser;f.extend({input:function(e){var t,i=e.val,s=e&&e.text&&e.text.val;i&&(t={user:{text:s||"text.username",icon:"profile"},email:{text:s||"text.email",msg:"text.account.invalid.email"},password:{text:s||"text.password",msg:"text.invalid.password",icon:"locked"},phone:{text:"text.cellphone",msg:"text.invalid.phoneWord"}},this.txt.text=t[i]?{dictionary:t[i].text}:i,this.lefticon.icon=t[i].icon||i),"phone"===i?this.txt.attr={type:"tel",pattern:"d*"}:"age"===i&&(this.txt.attr={type:"tel",pattern:"d*"})}},{name:"key",get:function(){return this.input&&this.input.val||this.txt.attr&&this.txt.attr.type.val}},{name:"val",get:function(){return this.txt.node.value}}),t.exports=i=f.set({txt:{node:"input",attr:{type:"text",autocapitalize:"off"},text:"search",css:"inactive",events:{focusin:r,focusout:n,keyup:h&&r,input:o,move:function(e){e.preventDefault()},click:function(e){e&&e.preventDefault(),c.blockResize=!0,this.node.focus(),h&&r.call(this)},down:function(e){if(!u.click.block){var t=this,i=t.parent.input&&t.parent.input.holder;d.touch&&i&&i.val&&s(t,i.val)}}}},events:{out:function(e){"INPUT"!==e.target.tagName&&this.txt.node.blur()}}}).Class,u.confirm={val:{up:function(e,t,i){e.preventDefault(),t.call(this,e,i)}}},i.Form=new a({node:"form",submitfix:{node:"input","attr.type":"submit"},events:{submit:function(e){e.preventDefault(),d.touch&&!this.fDown||!this.done||this.done()},down:function(e){this.fDown=!0}}}).Class,i.Form.base.extend({verify:function(){}})},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/text/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js","old-vigour-js/browser/events/offset":"/Users/ricksmit/dev/vigour-js/browser/events/offset.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/mtv-play/components/text/search.js":[function(e,t,i){function s(e,t){d.touch&&(u.click.block=1!==t,e.items.opacity=t,e.favos.opacity=t)}function r(e,t){if(e&&2===e.__t)throw new Error("object in search");if(e=e&&e.trim()||"",e.length)t.favos.display="none",t.search.clear.icon="closesmall";else{t.favos.display="block",t.search.clear.icon="empty";var i=e?e.trim():"";t.search.field.data.search.$userOrigin=i}for(var s="",r=0,n=e.length;n>r;r++){var o=e[r];"$"!==o&&"S"!==o.toUpperCase()||(o="(\\$|s)"),s+="\\s*"+o}s+="\\s*",t.items.filter&&(t.items.filter.filter={condition:{title:{$contains:s}},sort:"title"})}function n(e,t,i){this.css="ui-search focus",i||(p.blockResize=!0,s(this.parent,.5),this.field.node.focus(),this._active=!0)}function o(e,t){var i=t?"":e.field.node.value.trim();i.length||(e.css="ui-search",e.clear.icon="empty",e.field.node.value=i,r(i,e.parent)),s(e.parent,1),e._active=!1,p.blockResize=!1}e("./style.less");var a=e("old-vigour-js/app/ui/element"),l=e("../icon"),c=e("old-vigour-js/app/dictionary"),u=e("old-vigour-js/browser/events"),d=e("old-vigour-js/browser/cases"),p=e("old-vigour-js/app/");t.exports=new a({node:"form",css:"ui-search",name:"search",w:{val:210,touch:{val:p.w,sub:30}},icon:new l({icon:"search",h:30,placeholder:{"text.dictionary":"text.search"}}),field:{node:"input",attr:{type:"text",name:"search",listen:c.get("text.search"),placeholder:c.get("text.search")},text:{data:function(e){if(e){var t=e.search.val;return(this.first||t)&&(this.first=!0),this.first&&(r(t,this.parent.parent),void 0===t||t===!1?o(this.parent):this.parent.fromDown?this.parent.fromDown=!1:n.call(this.parent,!1,!1,!0)),t||""}return""}},events:{keydown:function(e){13==e.keyCode&&e.preventDefault()},keyup:function(e){if(9!==e.keyCode){var t=this.node.value.length?this.node.value.trim():"";this.data.search.$userOrigin=t}}}},clear:new l({node:"form",icon:"empty",events:{down:function(e){if(e.prevent=!0,this.parent.fromDown=!0,this.parent.field.data.search.$userOrigin="",d.touch){var t="",i=this.parent.field.node;i.value=t,n.call(this.parent),r(t,this.parent.parent)}else o(this.parent,!0)}}}),cancel:{"text.dictionary":"text.cancel",events:{down:function(e){e.prevent=!0,o(this.parent,!0),this.parent.field.data.search.$userOrigin=""}}},events:{click:n,out:function(e){this._active&&o(this)}}})},{"../icon":"/Users/ricksmit/dev/mtv-play/components/icon/index.js","./style.less":"/Users/ricksmit/dev/mtv-play/components/text/style.less","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/app/dictionary":"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js","old-vigour-js/app/ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js"}],"/Users/ricksmit/dev/mtv-play/components/text/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/components/button/style.less"][0].apply(i,arguments)},{"../../common.less":"/Users/ricksmit/dev/mtv-play/common.less"}],"/Users/ricksmit/dev/mtv-play/config.js":[function(e,t,i){window.name="mtvplay",t.exports=i=e("old-vigour-js/util/config").inject({"repository.branch":"branches"},e("old-vigour-js/util/config/ua")),i(function(e){for(var t in e)i[t]=e[t];i.parsed=!0},!1,window["package"],!0)},{"old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/util/config/ua":"/Users/ricksmit/dev/vigour-js/util/config/ua.js"}],"/Users/ricksmit/dev/mtv-play/index.js":[function(e,t,i){window["package"]=e("package.json");var s,r=e("./config");if(r.development&&r.development.button&&(s=e("old-vigour-js/util/debug")["native"](!1,!1,function(e){},"build")),!s){var n=e("old-vigour-js/browser/cases"),o=e("old-vigour-js/browser/ua");if(~window.location.href.indexOf("$tv")&&(n.tv=!0,o.device="tv"),~window.location.href.indexOf("$chromecast")&&(n.chromecast=!0,o.device="chromecast"),"tv"===o.device&&"linux"===o.platform&&(o.platform="lg"),e("old-vigour-js/app/"),(n.tv||n.chromecast)&&(n.$iplogin=!0),n.chromecast)e("./platform/cast.js");else if(n.tv)e("./platform/tv.js");else{var a=n["native"]||n.$isIosFull,l="phone"===o.device,c="tablet"===o.device;n.mobileBrowser=(l||c)&&!a,n.iPhoneBrowser=n.ios&&l&&!a,e("./platform/all.js")}}},{"./config":"/Users/ricksmit/dev/mtv-play/config.js","./platform/all.js":"/Users/ricksmit/dev/mtv-play/platform/all.js","./platform/cast.js":"/Users/ricksmit/dev/mtv-play/platform/cast.js","./platform/tv.js":"/Users/ricksmit/dev/mtv-play/platform/tv.js","old-vigour-js/app/":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/util/debug":"/Users/ricksmit/dev/vigour-js/util/debug/index.js","package.json":"package.json"}],"/Users/ricksmit/dev/mtv-play/node_modules/asap/asap.js":[function(e,t,i){(function(e){function i(){for(;r.next;){r=r.next;var e=r.task;r.task=void 0;var t=r.domain;t&&(r.domain=void 0,t.enter());try{e()}catch(s){if(l)throw t&&t.exit(),setTimeout(i,0),t&&t.enter(),s;setTimeout(function(){throw s},0)}t&&t.exit()}o=!1}function s(t){n=n.next={task:t,domain:l&&e.domain,next:null},o||(o=!0,a())}var r={task:void 0,next:null},n=r,o=!1,a=void 0,l=!1;if("undefined"!=typeof e&&e.nextTick)l=!0,a=function(){e.nextTick(i)};else if("function"==typeof setImmediate)a="undefined"!=typeof window?setImmediate.bind(window,i):function(){setImmediate(i)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=i,a=function(){c.port2.postMessage(0)}}else a=function(){setTimeout(i,0)};t.exports=s}).call(this,e("_process"))},{_process:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/process/browser.js"}],"/Users/ricksmit/dev/mtv-play/node_modules/autolinker/dist/Autolinker.js":[function(e,t,i){!function(e,s){"function"==typeof define&&define.amd?define([],s):"object"==typeof i?t.exports=s():e.Autolinker=s()}(this,function(){var e=function(t){t=t||{},this.version=e.version,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"==typeof t.email?t.email:!0,this.twitter="boolean"==typeof t.twitter?t.twitter:!0,this.phone="boolean"==typeof t.phone?t.phone:!0,this.hashtag=t.hashtag||!1,this.newWindow="boolean"==typeof t.newWindow?t.newWindow:!0,this.stripPrefix="boolean"==typeof t.stripPrefix?t.stripPrefix:!0;var i=this.hashtag;if(i!==!1&&"twitter"!==i&&"facebook"!==i&&"instagram"!==i)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return e.link=function(t,i){var s=new e(i);return s.link(t)},e.version="0.26.0",e.prototype={constructor:e,normalizeUrlsCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"==typeof e.schemeMatches?e.schemeMatches:!0,wwwMatches:"boolean"==typeof e.wwwMatches?e.wwwMatches:!0,tldMatches:"boolean"==typeof e.tldMatches?e.tldMatches:!0}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:e.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(e){for(var t=this.getHtmlParser(),i=t.parse(e),s=0,r=[],n=0,o=i.length;o>n;n++){var a=i[n],l=a.getType();if("element"===l&&"a"===a.getTagName())a.isClosing()?s=Math.max(s-1,0):s++;else if("text"===l&&0===s){var c=this.parseText(a.getText(),a.getOffset());r.push.apply(r,c)}}return r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},compactMatches:function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++)for(var i=e[t],s=i.getOffset()+i.getMatchedText().length;t+1<e.length&&e[t+1].getOffset()<=s;)e.splice(t+1,1);return e},removeUnwantedMatches:function(t){var i=e.Util.remove;return this.hashtag||i(t,function(e){return"hashtag"===e.getType()}),this.email||i(t,function(e){return"email"===e.getType()}),this.phone||i(t,function(e){return"phone"===e.getType()}),this.twitter||i(t,function(e){return"twitter"===e.getType()}),this.urls.schemeMatches||i(t,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()}),this.urls.wwwMatches||i(t,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()}),this.urls.tldMatches||i(t,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()}),t},parseText:function(e,t){t=t||0;for(var i=this.getMatchers(),s=[],r=0,n=i.length;n>r;r++){for(var o=i[r].parseMatches(e),a=0,l=o.length;l>a;a++)o[a].setOffset(t+o[a].getOffset());s.push.apply(s,o)}return s},link:function(e){if(!e)return"";for(var t=this.parse(e),i=[],s=0,r=0,n=t.length;n>r;r++){var o=t[r];i.push(e.substring(s,o.getOffset())),i.push(this.createMatchReturnVal(o)),s=o.getOffset()+o.getMatchedText().length}return i.push(e.substring(s)),i.join("")},createMatchReturnVal:function(t){var i;if(this.replaceFn&&(i=this.replaceFn.call(this,this,t)),"string"==typeof i)return i;if(i===!1)return t.getMatchedText();if(i instanceof e.HtmlTag)return i.toAnchorString();var s=t.buildTag();return s.toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchers:function(){if(this.matchers)return this.matchers;var t=e.matcher,i=this.getTagBuilder(),s=[new t.Hashtag({tagBuilder:i,serviceName:this.hashtag}),new t.Email({tagBuilder:i}),new t.Phone({tagBuilder:i}),new t.Twitter({tagBuilder:i}),new t.Url({tagBuilder:i,stripPrefix:this.stripPrefix})];return this.matchers=s},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.match={},e.matcher={},e.htmlParser={},e.truncate={},e.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},defaults:function(e,t){for(var i in t)t.hasOwnProperty(i)&&void 0===e[i]&&(e[i]=t[i]);return e},extend:function(t,i){var s=t.prototype,r=function(){};r.prototype=s;var n;n=i.hasOwnProperty("constructor")?i.constructor:function(){s.constructor.apply(this,arguments)};var o=n.prototype=new r;return o.constructor=n,o.superclass=s,delete i.constructor,e.Util.assign(o,i),n},ellipsis:function(e,t,i){return e.length>t&&(i=null==i?"..":i,e=e.substring(0,t-i.length)+i),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1},remove:function(e,t){for(var i=e.length-1;i>=0;i--)t(e[i])===!0&&e.splice(i,1)},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var i,s=[],r=0;i=t.exec(e);)s.push(e.substring(r,i.index)),s.push(i[0]),r=i.index+i[0].length;return s.push(e.substring(r)),s},trim:function(e){return e.replace(this.trimRegex,"")}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){var i=this.getAttrs();return i[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var i=this.getAttrs();return e.Util.assign(i,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var i,s=this.getClass(),r=this.whitespaceRegex,n=e.Util.indexOf,o=s?s.split(r):[],a=t.split(r);i=a.shift();)-1===n(o,i)&&o.push(i);return this.getAttrs()["class"]=o.join(" "),this},removeClass:function(t){for(var i,s=this.getClass(),r=this.whitespaceRegex,n=e.Util.indexOf,o=s?s.split(r):[],a=t.split(r);o.length&&(i=a.shift());){var l=n(o,i);-1!==l&&o.splice(l,1)}return this.getAttrs()["class"]=o.join(" "),this},getClass:function(){return this.getAttrs()["class"]||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return t=t?" "+t:"",["<",e,t,">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+'="'+e[i]+'"');return t.join(" ")}}),e.RegexLib=function(){var e="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",t="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",i=e+t,s=new RegExp("["+i+".\\-]*["+i+"\\-]"),r=/(?:travelersinsurance|sandvikcoromant|kerryproperties|cancerresearch|weatherchannel|kerrylogistics|spreadbetting|international|wolterskluwer|lifeinsurance|construction|pamperedchef|scholarships|versicherung|bridgestone|creditunion|kerryhotels|investments|productions|blackfriday|enterprises|lamborghini|photography|motorcycles|williamhill|playstation|contractors|barclaycard|accountants|redumbrella|engineering|management|telefonica|protection|consulting|tatamotors|creditcard|vlaanderen|schaeffler|associates|properties|foundation|republican|bnpparibas|boehringer|eurovision|extraspace|industries|immobilien|university|technology|volkswagen|healthcare|restaurant|cuisinella|vistaprint|apartments|accountant|travelers|homedepot|institute|vacations|furniture|fresenius|insurance|christmas|bloomberg|solutions|barcelona|firestone|financial|kuokgroup|fairwinds|community|passagens|goldpoint|equipment|lifestyle|yodobashi|aquarelle|marketing|analytics|education|amsterdam|statefarm|melbourne|allfinanz|directory|microsoft|stockholm|montblanc|accenture|lancaster|landrover|everbank|istanbul|graphics|grainger|ipiranga|softbank|attorney|pharmacy|saarland|catering|airforce|yokohama|mortgage|frontier|mutuelle|stcgroup|memorial|pictures|football|symantec|cipriani|ventures|telecity|cityeats|verisign|flsmidth|boutique|cleaning|firmdale|clinique|clothing|redstone|infiniti|deloitte|feedback|services|broadway|plumbing|commbank|training|barclays|exchange|computer|brussels|software|delivery|barefoot|builders|business|bargains|engineer|holdings|download|security|helsinki|lighting|movistar|discount|hdfcbank|supplies|marriott|property|diamonds|capetown|partners|democrat|jpmorgan|bradesco|budapest|rexroth|zuerich|shriram|academy|science|support|youtube|singles|surgery|alibaba|statoil|dentist|schwarz|android|cruises|cricket|digital|markets|starhub|systems|courses|coupons|netbank|country|domains|corsica|network|neustar|realtor|lincoln|limited|schmidt|yamaxun|cooking|contact|auction|spiegel|liaison|leclerc|latrobe|lasalle|abogado|compare|lanxess|exposed|express|company|cologne|college|avianca|lacaixa|fashion|recipes|ferrero|komatsu|storage|wanggou|clubmed|sandvik|fishing|fitness|bauhaus|kitchen|flights|florist|flowers|watches|weather|temasek|samsung|bentley|forsale|channel|theater|frogans|theatre|okinawa|website|tickets|jewelry|gallery|tiffany|iselect|shiksha|brother|organic|wedding|genting|toshiba|origins|philips|hyundai|hotmail|hoteles|hosting|rentals|windows|cartier|bugatti|holiday|careers|whoswho|hitachi|panerai|caravan|reviews|guitars|capital|trading|hamburg|hangout|finance|stream|family|abbott|health|review|travel|report|hermes|hiphop|gratis|career|toyota|hockey|dating|repair|google|social|soccer|reisen|global|otsuka|giving|unicom|casino|photos|center|broker|rocher|orange|bostik|garden|insure|ryukyu|bharti|safety|physio|sakura|oracle|online|jaguar|gallup|piaget|tienda|futbol|pictet|joburg|webcam|berlin|office|juegos|kaufen|chanel|chrome|xihuan|church|tennis|circle|kinder|flickr|bayern|claims|clinic|viajes|nowruz|xperia|norton|yachts|studio|coffee|camera|sanofi|nissan|author|expert|events|comsec|lawyer|tattoo|viking|estate|villas|condos|realty|yandex|energy|emerck|virgin|vision|durban|living|school|coupon|london|taobao|natura|taipei|nagoya|luxury|walter|aramco|sydney|madrid|credit|maison|makeup|schule|market|anquan|direct|design|swatch|suzuki|alsace|vuelos|dental|alipay|voyage|shouji|voting|airtel|mutual|degree|supply|agency|museum|mobily|dealer|monash|select|mormon|active|moscow|racing|datsun|quebec|nissay|rodeo|email|gifts|works|photo|chloe|edeka|cheap|earth|vista|tushu|koeln|glass|shoes|globo|tunes|gmail|nokia|space|kyoto|black|ricoh|seven|lamer|sener|epson|cisco|praxi|trust|citic|crown|shell|lease|green|legal|lexus|ninja|tatar|gripe|nikon|group|video|wales|autos|gucci|party|nexus|guide|linde|adult|parts|amica|lixil|boats|azure|loans|locus|cymru|lotte|lotto|stada|click|poker|quest|dabur|lupin|nadex|paris|faith|dance|canon|place|gives|trade|skype|rocks|mango|cloud|boots|smile|final|swiss|homes|honda|media|horse|cards|deals|watch|bosch|house|pizza|miami|osaka|tours|total|xerox|coach|sucks|style|delta|toray|iinet|tools|money|codes|beats|tokyo|salon|archi|movie|baidu|study|actor|yahoo|store|apple|world|forex|today|bible|tmall|tirol|irish|tires|forum|reise|vegas|vodka|sharp|omega|weber|jetzt|audio|promo|build|bingo|chase|gallo|drive|dubai|rehab|press|solar|sale|beer|bbva|bank|band|auto|sapo|sarl|saxo|audi|asia|arte|arpa|army|yoga|ally|zara|scor|scot|sexy|seat|zero|seek|aero|adac|zone|aarp|maif|meet|meme|menu|surf|mini|mobi|mtpc|porn|desi|star|ltda|name|talk|navy|love|loan|live|link|news|limo|like|spot|life|nico|lidl|lgbt|land|taxi|team|tech|kred|kpmg|sony|song|kiwi|kddi|jprs|jobs|sohu|java|itau|tips|info|immo|icbc|hsbc|town|host|page|toys|here|help|pars|haus|guru|guge|tube|goog|golf|gold|sncf|gmbh|gift|ggee|gent|gbiz|game|vana|pics|fund|ford|ping|pink|fish|film|fast|farm|play|fans|fail|plus|skin|pohl|fage|moda|post|erni|dvag|prod|doha|prof|docs|viva|diet|luxe|site|dell|sina|dclk|show|qpon|date|vote|cyou|voto|read|coop|cool|wang|club|city|chat|cern|cash|reit|rent|casa|cars|care|camp|rest|call|cafe|weir|wien|rich|wiki|buzz|wine|book|bond|room|work|rsvp|shia|ruhr|blue|bing|shaw|bike|safe|xbox|best|pwc|mtn|lds|aig|boo|fyi|nra|nrw|ntt|car|gal|obi|zip|aeg|vin|how|one|ong|onl|dad|ooo|bet|esq|org|htc|bar|uol|ibm|ovh|gdn|ice|icu|uno|gea|ifm|bot|top|wtf|lol|day|pet|eus|wtc|ubs|tvs|aco|ing|ltd|ink|tab|abb|afl|cat|int|pid|pin|bid|cba|gle|com|cbn|ads|man|wed|ceb|gmo|sky|ist|gmx|tui|mba|fan|ski|iwc|app|pro|med|ceo|jcb|jcp|goo|dev|men|aaa|meo|pub|jlc|bom|jll|gop|jmp|mil|got|gov|win|jot|mma|joy|trv|red|cfa|cfd|bio|moe|moi|mom|ren|biz|aws|xin|bbc|dnp|buy|kfh|mov|thd|xyz|fit|kia|rio|rip|kim|dog|vet|nyc|bcg|mtr|bcn|bms|bmw|run|bzh|rwe|tel|stc|axa|kpn|fly|krd|cab|bnl|foo|crs|eat|tci|sap|srl|nec|sas|net|cal|sbs|sfr|sca|scb|csc|edu|new|xxx|hiv|fox|wme|ngo|nhk|vip|sex|frl|lat|yun|law|you|tax|soy|sew|om|ac|hu|se|sc|sg|sh|sb|sa|rw|ru|rs|ro|re|qa|py|si|pw|pt|ps|sj|sk|pr|pn|pm|pl|sl|sm|pk|sn|ph|so|pg|pf|pe|pa|zw|nz|nu|nr|np|no|nl|ni|ng|nf|sr|ne|st|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|su|mn|mm|ml|mk|mh|mg|me|sv|md|mc|sx|sy|ma|ly|lv|sz|lu|lt|ls|lr|lk|li|lc|lb|la|tc|kz|td|ky|kw|kr|kp|kn|km|ki|kh|tf|tg|th|kg|ke|jp|jo|jm|je|it|is|ir|tj|tk|tl|tm|iq|tn|to|io|in|im|il|ie|ad|sd|ht|hr|hn|hm|tr|hk|gy|gw|gu|gt|gs|gr|gq|tt|gp|gn|gm|gl|tv|gi|tw|tz|ua|gh|ug|uk|gg|gf|ge|gd|us|uy|uz|va|gb|ga|vc|ve|fr|fo|fm|fk|fj|vg|vi|fi|eu|et|es|er|eg|ee|ec|dz|do|dm|dk|vn|dj|de|cz|cy|cx|cw|vu|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|wf|bz|by|bw|bv|bt|bs|br|bo|bn|bm|bj|bi|ws|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ye|ar|aq|ao|am|al|yt|ai|za|ag|af|ae|zm|id)\b/;
return{alphaNumericCharsStr:i,domainNameRegex:s,tldRegex:r}}(),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},build:function(t){return new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t.getType(),t.getAnchorHref()),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(e,t){var i={href:t},s=this.createCssClass(e);return s&&(i["class"]=s),this.newWindow&&(i.target="_blank",i.rel="noopener noreferrer"),i},createCssClass:function(e){var t=this.className;return t?t+" "+t+"-"+e:""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){var i=this.truncate;if(!i||!i.length)return t;var s=i.length,r=i.location;return"smart"===r?e.truncate.TruncateSmart(t,s,".."):"middle"===r?e.truncate.TruncateMiddle(t,s,".."):e.truncate.TruncateEnd(t,s,"..")}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/!--([\s\S]+?)--/,t=/[0-9a-zA-Z][0-9a-zA-Z:]*/,i=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,s=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,r=i.source+"(?:\\s*=\\s*"+s.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",r,"|",s.source+")",")*",">",")","|","(?:","<(/)?","(?:",e.source,"|","(?:","("+t.source+")","(?:","\\s*",r,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,i,s=this.htmlRegex,r=0,n=[];null!==(t=s.exec(e));){var o=t[0],a=t[3],l=t[1]||t[4],c=!!t[2],u=t.index,d=e.substring(r,u);d&&(i=this.parseTextAndEntityNodes(r,d),n.push.apply(n,i)),a?n.push(this.createCommentNode(u,o,a)):n.push(this.createElementNode(u,o,l,c)),r=u+o.length}if(r<e.length){var p=e.substring(r);p&&(i=this.parseTextAndEntityNodes(r,p),n.push.apply(n,i))}return n},parseTextAndEntityNodes:function(t,i){for(var s=[],r=e.Util.splitAndCapture(i,this.htmlCharacterEntitiesRegex),n=0,o=r.length;o>n;n+=2){var a=r[n],l=r[n+1];a&&(s.push(this.createTextNode(t,a)),t+=a.length),l&&(s.push(this.createEntityNode(t,l)),t+=l.length)}return s},createCommentNode:function(t,i,s){return new e.htmlParser.CommentNode({offset:t,text:i,comment:e.Util.trim(s)})},createElementNode:function(t,i,s,r){return new e.htmlParser.ElementNode({offset:t,text:i,tagName:s.toLowerCase(),closing:r})},createEntityNode:function(t,i){return new e.htmlParser.EntityNode({offset:t,text:i})},createTextNode:function(t,i){return new e.htmlParser.TextNode({offset:t,text:i})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){if(e.Util.assign(this,t),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:e.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),e.htmlParser.CommentNode=e.Util.extend(e.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.match.Match=e.Util.extend(Object,{constructor:function(e){if(null==e.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==e.matchedText)throw new Error("`matchedText` cfg required");if(null==e.offset)throw new Error("`offset` cfg required");this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(e){this.offset=e},getOffset:function(){return this.offset},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod,buildTag:function(){return this.tagBuilder.build(this)}}),e.match.Email=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.email)throw new Error("`email` cfg required");this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Hashtag=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),e.match.Phone=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.number)throw new Error("`number` cfg required");if(null==t.plusSign)throw new Error("`plusSign` cfg required");this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),e.match.Twitter=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),!t.twitterHandle)throw new Error("`twitterHandle` cfg required");this.twitterHandle=t.twitterHandle},getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),e.match.Url=e.Util.extend(e.match.Match,{constructor:function(t){if(e.match.Match.prototype.constructor.call(this,t),"scheme"!==t.urlMatchType&&"www"!==t.urlMatchType&&"tld"!==t.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!t.url)throw new Error("`url` cfg required");if(null==t.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==t.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix},urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix&&(e=this.stripUrlPrefix(e)),e=this.removeTrailingSlash(e)},stripUrlPrefix:function(e){return e.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}}),e.matcher.Matcher=e.Util.extend(Object,{constructor:function(e){if(!e.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=e.tagBuilder},parseMatches:e.Util.abstractMethod}),e.matcher.Email=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=e.RegexLib.alphaNumericCharsStr,i=new RegExp("["+t+"\\-;:&=+$.,]+@"),s=e.RegexLib.domainNameRegex,r=e.RegexLib.tldRegex;return new RegExp([i.source,s.source,"\\.",r.source].join(""),"gi")}(),parseMatches:function(t){for(var i,s=this.matcherRegex,r=this.tagBuilder,n=[];null!==(i=s.exec(t));){var o=i[0];n.push(new e.match.Email({tagBuilder:r,matchedText:o,offset:i.index,email:o}))}return n}}),e.matcher.Hashtag=e.Util.extend(e.matcher.Matcher,{matcherRegex:new RegExp("#[_"+e.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){e.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var i,s=this.matcherRegex,r=this.nonWordCharRegex,n=this.serviceName,o=this.tagBuilder,a=[];null!==(i=s.exec(t));){var l=i.index,c=t.charAt(l-1);if(0===l||r.test(c)){var u=i[0],d=i[0].slice(1);a.push(new e.match.Hashtag({tagBuilder:o,matchedText:u,offset:l,serviceName:n,hashtag:d}))}}return a}}),e.matcher.Phone=e.Util.extend(e.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.])?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]\d{4}/g,parseMatches:function(t){for(var i,s=this.matcherRegex,r=this.tagBuilder,n=[];null!==(i=s.exec(t));){var o=i[0],a=o.replace(/\D/g,""),l=!!i[1];n.push(new e.match.Phone({tagBuilder:r,matchedText:o,offset:i.index,number:a,plusSign:l}))}return n}}),e.matcher.Twitter=e.Util.extend(e.matcher.Matcher,{matcherRegex:new RegExp("@[_"+e.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),nonWordCharRegex:new RegExp("[^"+e.RegexLib.alphaNumericCharsStr+"]"),parseMatches:function(t){for(var i,s=this.matcherRegex,r=this.nonWordCharRegex,n=this.tagBuilder,o=[];null!==(i=s.exec(t));){var a=i.index,l=t.charAt(a-1);if(0===a||r.test(l)){var c=i[0],u=i[0].slice(1);o.push(new e.match.Twitter({tagBuilder:n,matchedText:c,offset:a,twitterHandle:u}))}}return o}}),e.matcher.Url=e.Util.extend(e.matcher.Matcher,{matcherRegex:function(){var t=/(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/,i=/(?:www\.)/,s=e.RegexLib.domainNameRegex,r=e.RegexLib.tldRegex,n=e.RegexLib.alphaNumericCharsStr,o=new RegExp("["+n+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;]*["+n+"\\-+&@#/%=~_()|'$*\\[\\]]");return new RegExp(["(?:","(",t.source,s.source,")","|","(","(//)?",i.source,s.source,")","|","(","(//)?",s.source+"\\.",r.source,")",")","(?:"+o.source+")?"].join(""),"gi")}(),wordCharRegExp:/\w/,openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){if(e.matcher.Matcher.prototype.constructor.call(this,t),this.stripPrefix=t.stripPrefix,null==this.stripPrefix)throw new Error("`stripPrefix` cfg required")},parseMatches:function(t){for(var i,s=this.matcherRegex,r=this.stripPrefix,n=this.tagBuilder,o=[];null!==(i=s.exec(t));){var a=i[0],l=i[1],c=i[2],u=i[3],d=i[5],p=i.index,v=u||d,f=t.charAt(p-1);if(e.matcher.UrlMatchValidator.isValid(a,l)&&!(p>0&&"@"===f||p>0&&v&&this.wordCharRegExp.test(f))){if(this.matchHasUnbalancedClosingParen(a))a=a.substr(0,a.length-1);else{var h=this.matchHasInvalidCharAfterTld(a,l);h>-1&&(a=a.substr(0,h))}var m=l?"scheme":c?"www":"tld",g=!!l;o.push(new e.match.Url({tagBuilder:n,matchedText:a,offset:p,urlMatchType:m,url:a,protocolUrlMatch:g,protocolRelativeMatch:!!v,stripPrefix:r}))}}return o},matchHasUnbalancedClosingParen:function(e){var t=e.charAt(e.length-1);if(")"===t){var i=e.match(this.openParensRe),s=e.match(this.closeParensRe),r=i&&i.length||0,n=s&&s.length||0;if(n>r)return!0}return!1},matchHasInvalidCharAfterTld:function(e,t){if(!e)return-1;var i=0;t&&(i=e.indexOf(":"),e=e.slice(i));var s=/^((.?\/\/)?[A-Za-z0-9\u00C0-\u017F\.\-]*[A-Za-z0-9\u00C0-\u017F\-]\.[A-Za-z]+)/,r=s.exec(e);return null===r?-1:(i+=r[1].length,e=e.slice(r[1].length),/^[^.A-Za-z:\/?#]/.test(e)?i:-1)}}),e.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z\u00C0-\u017F]/,isValid:function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t))},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return e&&t?!this.hasWordCharAfterProtocolRegex.test(e):!1}},e.truncate.TruncateEnd=function(t,i,s){return e.Util.ellipsis(t,i,s)},e.truncate.TruncateMiddle=function(e,t,i){if(e.length<=t)return e;var s=t-i.length,r="";return s>0&&(r=e.substr(-1*Math.floor(s/2))),(e.substr(0,Math.ceil(s/2))+i+r).substr(0,t)},e.truncate.TruncateSmart=function(e,t,i){var s=function(e){var t={},i=e,s=i.match(/^([a-z]+):\/\//i);return s&&(t.scheme=s[1],i=i.substr(s[0].length)),s=i.match(/^(.*?)(?=(\?|#|\/|$))/i),s&&(t.host=s[1],i=i.substr(s[0].length)),s=i.match(/^\/(.*?)(?=(\?|#|$))/i),s&&(t.path=s[1],i=i.substr(s[0].length)),s=i.match(/^\?(.*?)(?=(#|$))/i),s&&(t.query=s[1],i=i.substr(s[0].length)),s=i.match(/^#(.*?)$/i),s&&(t.fragment=s[1]),t},r=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},n=function(e,t){var s=t/2,r=Math.ceil(s),n=-1*Math.floor(s),o="";return 0>n&&(o=e.substr(n)),e.substr(0,r)+i+o};if(e.length<=t)return e;var o=t-i.length,a=s(e);if(a.query){var l=a.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);l&&(a.query=a.query.substr(0,l[1].length),e=r(a))}if(e.length<=t)return e;if(a.host&&(a.host=a.host.replace(/^www\./,""),e=r(a)),e.length<=t)return e;var c="";if(a.host&&(c+=a.host),c.length>=o)return a.host.length==t?(a.host.substr(0,t-i.length)+i).substr(0,t):n(c,o).substr(0,t);var u="";if(a.path&&(u+="/"+a.path),a.query&&(u+="?"+a.query),u){if((c+u).length>=o){if((c+u).length==t)return(c+u).substr(0,t);var d=o-c.length;return(c+n(u,d)).substr(0,t)}c+=u}if(a.fragment){var p="#"+a.fragment;if((c+p).length>=o){if((c+p).length==t)return(c+p).substr(0,t);var v=o-c.length;return(c+n(p,v)).substr(0,t)}c+=p}if(a.scheme&&a.host){var f=a.scheme+"://";if((c+f).length<o)return(f+c).substr(0,t)}if(c.length<=t)return c;var h="";return o>0&&(h=c.substr(-1*Math.floor(o/2))),(c.substr(0,Math.ceil(o/2))+i+h).substr(0,t)},e})},{}],"/Users/ricksmit/dev/mtv-play/node_modules/jquery/dist/jquery.js":[function(e,t,i){!function(e,i){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=ne.type(e);return"function"===i||ne.isWindow(e)?!1:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function s(e,t,i){if(ne.isFunction(t))return ne.grep(e,function(e,s){return!!t.call(e,s,e)!==i});if(t.nodeType)return ne.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(he.test(t))return ne.filter(t,e,i);t=ne.filter(t,e)}return ne.grep(e,function(e){return Q.call(t,e)>-1!==i})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function n(e){var t={};return ne.each(e.match(je)||[],function(e,i){t[i]=!0}),t}function o(){G.removeEventListener("DOMContentLoaded",o),e.removeEventListener("load",o),ne.ready()}function a(){this.expando=ne.expando+a.uid++}function l(e,t,i){var s;if(void 0===i&&1===e.nodeType)if(s="data-"+t.replace(Se,"-$&").toLowerCase(),i=e.getAttribute(s),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Te.test(i)?ne.parseJSON(i):i}catch(r){}Ce.set(e,t,i)}else i=void 0;return i}function c(e,t,i,s){var r,n=1,o=20,a=s?function(){return s.cur()}:function(){return ne.css(e,t,"")},l=a(),c=i&&i[3]||(ne.cssNumber[t]?"":"px"),u=(ne.cssNumber[t]||"px"!==c&&+l)&&Ee.exec(ne.css(e,t));if(u&&u[3]!==c){c=c||u[3],i=i||[],u=+l||1;do n=n||".5",u/=n,ne.style(e,t,u+c);while(n!==(n=a()/l)&&1!==n&&--o)}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],s&&(s.unit=c,s.start=u,s.end=r)),r}function u(e,t){var i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&ne.nodeName(e,t)?ne.merge([e],i):i}function d(e,t){for(var i=0,s=e.length;s>i;i++)Ue.set(e[i],"globalEval",!t||Ue.get(t[i],"globalEval"))}function p(e,t,i,s,r){for(var n,o,a,l,c,p,v=t.createDocumentFragment(),f=[],h=0,m=e.length;m>h;h++)if(n=e[h],n||0===n)if("object"===ne.type(n))ne.merge(f,n.nodeType?[n]:n);else if(Re.test(n)){for(o=o||v.appendChild(t.createElement("div")),a=(De.exec(n)||["",""])[1].toLowerCase(),l=Ne[a]||Ne._default,o.innerHTML=l[1]+ne.htmlPrefilter(n)+l[2],p=l[0];p--;)o=o.lastChild;ne.merge(f,o.childNodes),o=v.firstChild,o.textContent=""}else f.push(t.createTextNode(n));for(v.textContent="",h=0;n=f[h++];)if(s&&ne.inArray(n,s)>-1)r&&r.push(n);else if(c=ne.contains(n.ownerDocument,n),o=u(v.appendChild(n),"script"),c&&d(o),i)for(p=0;n=o[p++];)Le.test(n.type||"")&&i.push(n);return v}function v(){return!0}function f(){return!1}function h(){try{return G.activeElement}catch(e){}}function m(e,t,i,s,r,n){var o,a;if("object"==typeof t){"string"!=typeof i&&(s=s||i,i=void 0);for(a in t)m(e,a,i,s,t[a],n);return e}if(null==s&&null==r?(r=i,s=i=void 0):null==r&&("string"==typeof i?(r=s,s=void 0):(r=s,s=i,i=void 0)),r===!1)r=f;else if(!r)return e;return 1===n&&(o=r,r=function(e){return ne().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=ne.guid++)),e.each(function(){ne.event.add(this,t,r,s,i)})}function g(e,t){return ne.nodeName(e,"table")&&ne.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var i,s,r,n,o,a,l,c;if(1===t.nodeType){if(Ue.hasData(e)&&(n=Ue.access(e),o=Ue.set(t,n),c=n.events)){delete o.handle,o.events={};for(r in c)for(i=0,s=c[r].length;s>i;i++)ne.event.add(t,r,c[r][i])}Ce.hasData(e)&&(a=Ce.access(e),l=ne.extend({},a),Ce.set(t,l))}}function j(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Pe.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function k(e,t,i,s){t=K.apply([],t);var r,n,o,a,l,c,d=0,v=e.length,f=v-1,h=t[0],m=ne.isFunction(h);if(m||v>1&&"string"==typeof h&&!se.checkClone&&He.test(h))return e.each(function(r){var n=e.eq(r);m&&(t[0]=h.call(this,r,n.html())),k(n,t,i,s)});if(v&&(r=p(t,e[0].ownerDocument,!1,e,s),n=r.firstChild,1===r.childNodes.length&&(r=n),n||s)){for(o=ne.map(u(r,"script"),y),a=o.length;v>d;d++)l=r,d!==f&&(l=ne.clone(l,!0,!0),a&&ne.merge(o,u(l,"script"))),i.call(e[d],l,d);if(a)for(c=o[o.length-1].ownerDocument,ne.map(o,b),d=0;a>d;d++)l=o[d],Le.test(l.type||"")&&!Ue.access(l,"globalEval")&&ne.contains(c,l)&&(l.src?ne._evalUrl&&ne._evalUrl(l.src):ne.globalEval(l.textContent.replace(Ve,"")))}return e}function _(e,t,i){for(var s,r=t?ne.filter(t,e):e,n=0;null!=(s=r[n]);n++)i||1!==s.nodeType||ne.cleanData(u(s)),s.parentNode&&(i&&ne.contains(s.ownerDocument,s)&&d(u(s,"script")),s.parentNode.removeChild(s));return e}function x(e,t){var i=ne(t.createElement(e)).appendTo(t.body),s=ne.css(i[0],"display");return i.detach(),s}function U(e){var t=G,i=Xe[e];return i||(i=x(e,t),"none"!==i&&i||(We=(We||ne("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),i=x(e,t),We.detach()),Xe[e]=i),i}function C(e,t,i){var s,r,n,o,a=e.style;return i=i||Ye(e),o=i?i.getPropertyValue(t)||i[t]:void 0,""!==o&&void 0!==o||ne.contains(e.ownerDocument,e)||(o=ne.style(e,t)),i&&!se.pixelMarginRight()&&Ge.test(o)&&Je.test(t)&&(s=a.width,r=a.minWidth,n=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=s,a.minWidth=r,a.maxWidth=n),void 0!==o?o+"":o}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e){if(e in st)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=it.length;i--;)if(e=it[i]+t,e in st)return e}function A(e,t,i){var s=Ee.exec(t);return s?Math.max(0,s[2]-(i||0))+(s[3]||"px"):t}function E(e,t,i,s,r){for(var n=i===(s?"border":"content")?4:"width"===t?1:0,o=0;4>n;n+=2)"margin"===i&&(o+=ne.css(e,i+Oe[n],!0,r)),s?("content"===i&&(o-=ne.css(e,"padding"+Oe[n],!0,r)),"margin"!==i&&(o-=ne.css(e,"border"+Oe[n]+"Width",!0,r))):(o+=ne.css(e,"padding"+Oe[n],!0,r),"padding"!==i&&(o+=ne.css(e,"border"+Oe[n]+"Width",!0,r)));return o}function O(t,i,s){var r=!0,n="width"===i?t.offsetWidth:t.offsetHeight,o=Ye(t),a="border-box"===ne.css(t,"boxSizing",!1,o);if(G.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(n=Math.round(100*t.getBoundingClientRect()[i])),0>=n||null==n){if(n=C(t,i,o),(0>n||null==n)&&(n=t.style[i]),Ge.test(n))return n;r=a&&(se.boxSizingReliable()||n===t.style[i]),n=parseFloat(n)||0}return n+E(t,i,s||(a?"border":"content"),r,o)+"px"}function $(e,t){for(var i,s,r,n=[],o=0,a=e.length;a>o;o++)s=e[o],s.style&&(n[o]=Ue.get(s,"olddisplay"),i=s.style.display,t?(n[o]||"none"!==i||(s.style.display=""),""===s.style.display&&$e(s)&&(n[o]=Ue.access(s,"olddisplay",U(s.nodeName)))):(r=$e(s),"none"===i&&r||Ue.set(s,"olddisplay",r?i:ne.css(s,"display"))));for(o=0;a>o;o++)s=e[o],s.style&&(t&&"none"!==s.style.display&&""!==s.style.display||(s.style.display=t?n[o]||"":"none"));return e}function P(e,t,i,s,r){return new P.prototype.init(e,t,i,s,r)}function D(){return e.setTimeout(function(){rt=void 0}),rt=ne.now()}function L(e,t){var i,s=0,r={height:e};for(t=t?1:0;4>s;s+=2-t)i=Oe[s],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function N(e,t,i){for(var s,r=(M.tweeners[t]||[]).concat(M.tweeners["*"]),n=0,o=r.length;o>n;n++)if(s=r[n].call(i,t,e))return s}function R(e,t,i){var s,r,n,o,a,l,c,u,d=this,p={},v=e.style,f=e.nodeType&&$e(e),h=Ue.get(e,"fxshow");i.queue||(a=ne._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ne.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[v.overflow,v.overflowX,v.overflowY],c=ne.css(e,"display"),u="none"===c?Ue.get(e,"olddisplay")||U(e.nodeName):c,"inline"===u&&"none"===ne.css(e,"float")&&(v.display="inline-block")),i.overflow&&(v.overflow="hidden",d.always(function(){v.overflow=i.overflow[0],v.overflowX=i.overflow[1],v.overflowY=i.overflow[2]}));for(s in t)if(r=t[s],ot.exec(r)){if(delete t[s],n=n||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!h||void 0===h[s])continue;f=!0}p[s]=h&&h[s]||ne.style(e,s)}else c=void 0;if(ne.isEmptyObject(p))"inline"===("none"===c?U(e.nodeName):c)&&(v.display=c);else{h?"hidden"in h&&(f=h.hidden):h=Ue.access(e,"fxshow",{}),n&&(h.hidden=!f),f?ne(e).show():d.done(function(){ne(e).hide()}),d.done(function(){var t;Ue.remove(e,"fxshow");for(t in p)ne.style(e,t,p[t])});for(s in p)o=N(f?h[s]:0,s,d),s in h||(h[s]=o.start,f&&(o.end=o.start,o.start="width"===s||"height"===s?1:0))}}function I(e,t){var i,s,r,n,o;for(i in e)if(s=ne.camelCase(i),r=t[s],n=e[i],ne.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==s&&(e[s]=n,delete e[i]),o=ne.cssHooks[s],o&&"expand"in o){n=o.expand(n),delete e[s];for(i in n)i in e||(e[i]=n[i],t[i]=r)}else t[s]=r}function M(e,t,i){var s,r,n=0,o=M.prefilters.length,a=ne.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=rt||D(),i=Math.max(0,c.startTime+c.duration-t),s=i/c.duration||0,n=1-s,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(n);return a.notifyWith(e,[c,n,i]),1>n&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ne.extend({},t),opts:ne.extend(!0,{specialEasing:{},easing:ne.easing._default},i),originalProperties:t,originalOptions:i,startTime:rt||D(),duration:i.duration,tweens:[],createTween:function(t,i){var s=ne.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(s),s},stop:function(t){var i=0,s=t?c.tweens.length:0;if(r)return this;for(r=!0;s>i;i++)c.tweens[i].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(I(u,c.opts.specialEasing);o>n;n++)if(s=M.prefilters[n].call(c,e,u,c.opts))return ne.isFunction(s.stop)&&(ne._queueHooks(c.elem,c.opts.queue).stop=ne.proxy(s.stop,s)),s;return ne.map(u,N,c),ne.isFunction(c.opts.start)&&c.opts.start.call(e,c),ne.fx.timer(ne.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(e){return e.getAttribute&&e.getAttribute("class")||""}function q(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var s,r=0,n=t.toLowerCase().match(je)||[];if(ne.isFunction(i))for(;s=n[r++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(i)):(e[s]=e[s]||[]).push(i)}}function F(e,t,i,s){function r(a){var l;return n[a]=!0,ne.each(e[a]||[],function(e,a){var c=a(t,i,s);return"string"!=typeof c||o||n[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var n={},o=e===Ct;return r(t.dataTypes[0])||!n["*"]&&r("*")}function H(e,t){var i,s,r=ne.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:s||(s={}))[i]=t[i]);return s&&ne.extend(!0,e,s),e}function z(e,t,i){for(var s,r,n,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}o||(o=r)}n=n||o}return n?(n!==l[0]&&l.unshift(n),i[n]):void 0}function V(e,t,i,s){var r,n,o,a,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(n=u.shift();n;)if(e.responseFields[n]&&(i[e.responseFields[n]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=n,n=u.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(o=c[l+" "+n]||c["* "+n],!o)for(r in c)if(a=r.split(" "),a[1]===n&&(o=c[l+" "+a[0]]||c["* "+a[0]])){o===!0?o=c[r]:c[r]!==!0&&(n=a[0],u.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+n}}}return{state:"success",data:t}}function W(e,t,i,s){var r;if(ne.isArray(t))ne.each(t,function(t,r){i||Et.test(e)?s(e,r):W(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,s)});else if(i||"object"!==ne.type(t))s(e,t);else for(r in t)W(e+"["+r+"]",t[r],i,s)}function X(e){return ne.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],G=e.document,Y=J.slice,K=J.concat,Z=J.push,Q=J.indexOf,ee={},te=ee.toString,ie=ee.hasOwnProperty,se={},re="2.2.2",ne=function(e,t){return new ne.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,le=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};ne.fn=ne.prototype={jquery:re,constructor:ne,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ne.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ne.each(this,e)},map:function(e){return this.pushStack(ne.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:J.sort,splice:J.splice},ne.extend=ne.fn.extend=function(){var e,t,i,s,r,n,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||ne.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],s=e[t],o!==s&&(c&&s&&(ne.isPlainObject(s)||(r=ne.isArray(s)))?(r?(r=!1,n=i&&ne.isArray(i)?i:[]):n=i&&ne.isPlainObject(i)?i:{},o[t]=ne.extend(c,n,s)):void 0!==s&&(o[t]=s));return o},ne.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ne.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ne.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ne.type(e)||e.nodeType||ne.isWindow(e))return!1;if(e.constructor&&!ie.call(e,"constructor")&&!ie.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ie.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=ne.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(le,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var s,r=0;if(i(e))for(s=e.length;s>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var s=t||[];return null!=e&&(i(Object(e))?ne.merge(s,"string"==typeof e?[e]:e):Z.call(s,e)),s},inArray:function(e,t,i){return null==t?-1:Q.call(t,e,i)},merge:function(e,t){for(var i=+t.length,s=0,r=e.length;i>s;s++)e[r++]=t[s];return e.length=r,e},grep:function(e,t,i){for(var s,r=[],n=0,o=e.length,a=!i;o>n;n++)s=!t(e[n],n),s!==a&&r.push(e[n]);return r},map:function(e,t,s){var r,n,o=0,a=[];if(i(e))for(r=e.length;r>o;o++)n=t(e[o],o,s),null!=n&&a.push(n);else for(o in e)n=t(e[o],o,s),null!=n&&a.push(n);return K.apply([],a)},guid:1,proxy:function(e,t){var i,s,r;return"string"==typeof t&&(i=e[t],t=e,e=i),ne.isFunction(e)?(s=Y.call(arguments,2),r=function(){return e.apply(t||this,s.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ne.guid++,r):void 0},now:Date.now,support:se}),"function"==typeof Symbol&&(ne.fn[Symbol.iterator]=J[Symbol.iterator]),ne.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,i,s){var r,n,o,a,l,c,d,v,f=t&&t.ownerDocument,h=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return i;if(!s&&((t?t.ownerDocument||t:B)!==$&&O(t),t=t||$,D)){if(11!==h&&(c=ge.exec(e)))if(r=c[1]){if(9===h){if(!(o=t.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(f&&(o=f.getElementById(r))&&I(t,o)&&o.id===r)return i.push(o),i}else{if(c[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((r=c[3])&&j.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(r)),i}if(j.qsa&&!V[e+" "]&&(!L||!L.test(e))){if(1!==h)f=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,"\\$&"):t.setAttribute("id",a=M),d=U(e),n=d.length,l=pe.test(a)?"#"+a:"[id='"+a+"']";n--;)d[n]=l+" "+p(d[n]);v=d.join(","),f=ye.test(e)&&u(t.parentNode)||t}if(v)try{return Z.apply(i,f.querySelectorAll(v)),i}catch(m){}finally{a===M&&t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,i,s)}function i(){function e(i,s){return t.push(i+" ")>k.cacheLength&&delete e[t.shift()],e[i+" "]=s}var t=[];return e}function s(e){return e[M]=!0,e}function r(e){var t=$.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function n(e,t){for(var i=e.split("|"),s=i.length;s--;)k.attrHandle[i[s]]=t}function o(e,t){var i=t&&e,s=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(s)return s;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();
return("input"===i||"button"===i)&&t.type===e}}function c(e){return s(function(t){return t=+t,s(function(i,s){for(var r,n=e([],i.length,t),o=n.length;o--;)i[r=n[o]]&&(i[r]=!(s[r]=i[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,i=e.length,s="";i>t;t++)s+=e[t].value;return s}function v(e,t,i){var s=t.dir,r=i&&"parentNode"===s,n=F++;return t.first?function(t,i,n){for(;t=t[s];)if(1===t.nodeType||r)return e(t,i,n)}:function(t,i,o){var a,l,c,u=[q,n];if(o){for(;t=t[s];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[s];)if(1===t.nodeType||r){if(c=t[M]||(t[M]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(a=l[s])&&a[0]===q&&a[1]===n)return u[2]=a[2];if(l[s]=u,u[2]=e(t,i,o))return!0}}}function f(e){return e.length>1?function(t,i,s){for(var r=e.length;r--;)if(!e[r](t,i,s))return!1;return!0}:e[0]}function h(e,i,s){for(var r=0,n=i.length;n>r;r++)t(e,i[r],s);return s}function m(e,t,i,s,r){for(var n,o=[],a=0,l=e.length,c=null!=t;l>a;a++)(n=e[a])&&(i&&!i(n,s,r)||(o.push(n),c&&t.push(a)));return o}function g(e,t,i,r,n,o){return r&&!r[M]&&(r=g(r)),n&&!n[M]&&(n=g(n,o)),s(function(s,o,a,l){var c,u,d,p=[],v=[],f=o.length,g=s||h(t||"*",a.nodeType?[a]:a,[]),y=!e||!s&&t?g:m(g,p,e,a,l),b=i?n||(s?e:f||r)?[]:o:y;if(i&&i(y,b,a,l),r)for(c=m(b,v),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[v[u]]=!(y[v[u]]=d));if(s){if(n||e){if(n){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);n(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=n?ee(s,d):p[u])>-1&&(s[c]=!(o[c]=d))}}else b=m(b===o?b.splice(f,b.length):b),n?n(null,o,b,l):Z.apply(o,b)})}function y(e){for(var t,i,s,r=e.length,n=k.relative[e[0].type],o=n||k.relative[" "],a=n?1:0,l=v(function(e){return e===t},o,!0),c=v(function(e){return ee(t,e)>-1},o,!0),u=[function(e,i,s){var r=!n&&(s||i!==S)||((t=i).nodeType?l(e,i,s):c(e,i,s));return t=null,r}];r>a;a++)if(i=k.relative[e[a].type])u=[v(f(u),i)];else{if(i=k.filter[e[a].type].apply(null,e[a].matches),i[M]){for(s=++a;r>s&&!k.relative[e[s].type];s++);return g(a>1&&f(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),i,s>a&&y(e.slice(a,s)),r>s&&y(e=e.slice(s)),r>s&&p(e))}u.push(i)}return f(u)}function b(e,i){var r=i.length>0,n=e.length>0,o=function(s,o,a,l,c){var u,d,p,v=0,f="0",h=s&&[],g=[],y=S,b=s||n&&k.find.TAG("*",c),w=q+=null==y?1:Math.random()||.1,j=b.length;for(c&&(S=o===$||o||c);f!==j&&null!=(u=b[f]);f++){if(n&&u){for(d=0,o||u.ownerDocument===$||(O(u),a=!D);p=e[d++];)if(p(u,o||$,a)){l.push(u);break}c&&(q=w)}r&&((u=!p&&u)&&v--,s&&h.push(u))}if(v+=f,r&&f!==v){for(d=0;p=i[d++];)p(h,g,o,a);if(s){if(v>0)for(;f--;)h[f]||g[f]||(g[f]=Y.call(l));g=m(g)}Z.apply(l,g),c&&!s&&g.length>0&&v+i.length>1&&t.uniqueSort(l)}return c&&(q=w,S=y),h};return r?s(o):o}var w,j,k,_,x,U,C,T,S,A,E,O,$,P,D,L,N,R,I,M="sizzle"+1*new Date,B=e.document,q=0,F=0,H=i(),z=i(),V=i(),W=function(e,t){return e===t&&(E=!0),0},X=1<<31,J={}.hasOwnProperty,G=[],Y=G.pop,K=G.push,Z=G.push,Q=G.slice,ee=function(e,t){for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ie+"*("+se+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+se+"))|)"+ie+"*\\]",ne=":("+se+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),de=new RegExp(ne),pe=new RegExp("^"+se+"$"),ve={ID:new RegExp("^#("+se+")"),CLASS:new RegExp("^\\.("+se+")"),TAG:new RegExp("^("+se+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),je=function(e,t,i){var s="0x"+t-65536;return s!==s||i?t:0>s?String.fromCharCode(s+65536):String.fromCharCode(s>>10|55296,1023&s|56320)},ke=function(){O()};try{Z.apply(G=Q.call(B.childNodes),B.childNodes),G[B.childNodes.length].nodeType}catch(_e){Z={apply:G.length?function(e,t){K.apply(e,Q.call(t))}:function(e,t){for(var i=e.length,s=0;e[i++]=t[s++];);e.length=i-1}}}j=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:B;return s!==$&&9===s.nodeType&&s.documentElement?($=s,P=$.documentElement,D=!x($),(i=$.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ke,!1):i.attachEvent&&i.attachEvent("onunload",ke)),j.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),j.getElementsByTagName=r(function(e){return e.appendChild($.createComment("")),!e.getElementsByTagName("*").length}),j.getElementsByClassName=me.test($.getElementsByClassName),j.getById=r(function(e){return P.appendChild(e).id=M,!$.getElementsByName||!$.getElementsByName(M).length}),j.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var i=t.getElementById(e);return i?[i]:[]}},k.filter.ID=function(e){var t=e.replace(we,je);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(we,je);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),k.find.TAG=j.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):j.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,s=[],r=0,n=t.getElementsByTagName(e);if("*"===e){for(;i=n[r++];)1===i.nodeType&&s.push(i);return s}return n},k.find.CLASS=j.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&D?t.getElementsByClassName(e):void 0},N=[],L=[],(j.qsa=me.test($.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+M+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+M+"+*").length||L.push(".#.+[+~]")}),r(function(e){var t=$.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(j.matchesSelector=me.test(R=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){j.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),N.push("!=",ne)}),L=L.length&&new RegExp(L.join("|")),N=N.length&&new RegExp(N.join("|")),t=me.test(P.compareDocumentPosition),I=t||me.test(P.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return E=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!j.sortDetached&&t.compareDocumentPosition(e)===i?e===$||e.ownerDocument===B&&I(B,e)?-1:t===$||t.ownerDocument===B&&I(B,t)?1:A?ee(A,e)-ee(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return E=!0,0;var i,s=0,r=e.parentNode,n=t.parentNode,a=[e],l=[t];if(!r||!n)return e===$?-1:t===$?1:r?-1:n?1:A?ee(A,e)-ee(A,t):0;if(r===n)return o(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[s]===l[s];)s++;return s?o(a[s],l[s]):a[s]===B?-1:l[s]===B?1:0},$):$},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==$&&O(e),i=i.replace(ue,"='$1']"),j.matchesSelector&&D&&!V[i+" "]&&(!N||!N.test(i))&&(!L||!L.test(i)))try{var s=R.call(e,i);if(s||j.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(r){}return t(i,$,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==$&&O(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==$&&O(e);var i=k.attrHandle[t.toLowerCase()],s=i&&J.call(k.attrHandle,t.toLowerCase())?i(e,t,!D):void 0;return void 0!==s?s:j.attributes||!D?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],s=0,r=0;if(E=!j.detectDuplicates,A=!j.sortStable&&e.slice(0),e.sort(W),E){for(;t=e[r++];)t===e[r]&&(s=i.push(r));for(;s--;)e.splice(i[s],1)}return A=null,e},_=t.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s++];)i+=_(t);return i},k=t.selectors={cacheLength:50,createPseudo:s,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,je),e[3]=(e[3]||e[4]||e[5]||"").replace(we,je),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ve.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=U(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,je).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,s){return function(r){var n=t.attr(r,e);return null==n?"!="===i:i?(n+="","="===i?n===s:"!="===i?n!==s:"^="===i?s&&0===n.indexOf(s):"*="===i?s&&n.indexOf(s)>-1:"$="===i?s&&n.slice(-s.length)===s:"~="===i?(" "+n.replace(oe," ")+" ").indexOf(s)>-1:"|="===i?n===s||n.slice(0,s.length+1)===s+"-":!1):!0}},CHILD:function(e,t,i,s,r){var n="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===s&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,p,v,f,h=n!==o?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(n){for(;h;){for(p=t;p=p[h];)if(a?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;f=h="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&y){for(p=m,d=p[M]||(p[M]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],v=c[0]===q&&c[1],b=v&&c[2],p=v&&m.childNodes[v];p=++v&&p&&p[h]||(b=v=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[q,v,b];break}}else if(y&&(p=t,d=p[M]||(p[M]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],v=c[0]===q&&c[1],b=v),b===!1)for(;(p=++v&&p&&p[h]||(b=v=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++b||(y&&(d=p[M]||(p[M]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[q,b]),p!==t)););return b-=r,b===s||b%s===0&&b/s>=0}}},PSEUDO:function(e,i){var r,n=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return n[M]?n(i):n.length>1?(r=[e,e,"",i],k.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,t){for(var s,r=n(e,i),o=r.length;o--;)s=ee(e,r[o]),e[s]=!(t[s]=r[o])}):function(e){return n(e,0,r)}):n}},pseudos:{not:s(function(e){var t=[],i=[],r=C(e.replace(ae,"$1"));return r[M]?s(function(e,t,i,s){for(var n,o=r(e,null,s,[]),a=e.length;a--;)(n=o[a])&&(e[a]=!(t[a]=n))}):function(e,s,n){return t[0]=e,r(t,null,n,i),t[0]=null,!i.pop()}}),has:s(function(e){return function(i){return t(e,i).length>0}}),contains:s(function(e){return e=e.replace(we,je),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:s(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,je).toLowerCase(),function(t){var i;do if(i=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var s=0>i?i+t:i;--s>=0;)e.push(s);return e}),gt:c(function(e,t,i){for(var s=0>i?i+t:i;++s<t;)e.push(s);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return d.prototype=k.filters=k.pseudos,k.setFilters=new d,U=t.tokenize=function(e,i){var s,r,n,o,a,l,c,u=z[e+" "];if(u)return i?0:u.slice(0);for(a=e,l=[],c=k.preFilter;a;){s&&!(r=le.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(n=[])),s=!1,(r=ce.exec(a))&&(s=r.shift(),n.push({value:s,type:r[0].replace(ae," ")}),a=a.slice(s.length));for(o in k.filter)!(r=ve[o].exec(a))||c[o]&&!(r=c[o](r))||(s=r.shift(),n.push({value:s,type:o,matches:r}),a=a.slice(s.length));if(!s)break}return i?a.length:a?t.error(e):z(e,l).slice(0)},C=t.compile=function(e,t){var i,s=[],r=[],n=V[e+" "];if(!n){for(t||(t=U(e)),i=t.length;i--;)n=y(t[i]),n[M]?s.push(n):r.push(n);n=V(e,b(r,s)),n.selector=e}return n},T=t.select=function(e,t,i,s){var r,n,o,a,l,c="function"==typeof e&&e,d=!s&&U(e=c.selector||e);if(i=i||[],1===d.length){if(n=d[0]=d[0].slice(0),n.length>2&&"ID"===(o=n[0]).type&&j.getById&&9===t.nodeType&&D&&k.relative[n[1].type]){if(t=(k.find.ID(o.matches[0].replace(we,je),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(n.shift().value.length)}for(r=ve.needsContext.test(e)?0:n.length;r--&&(o=n[r],!k.relative[a=o.type]);)if((l=k.find[a])&&(s=l(o.matches[0].replace(we,je),ye.test(n[0].type)&&u(t.parentNode)||t))){if(n.splice(r,1),e=s.length&&p(n),!e)return Z.apply(i,s),i;break}}return(c||C(e,d))(s,t,!D,i,!t||ye.test(e)&&u(t.parentNode)||t),i},j.sortStable=M.split("").sort(W).join("")===M,j.detectDuplicates=!!E,O(),j.sortDetached=r(function(e){return 1&e.compareDocumentPosition($.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||n("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),j.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||n("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||n(te,function(e,t,i){var s;return i?void 0:e[t]===!0?t.toLowerCase():(s=e.getAttributeNode(t))&&s.specified?s.value:null}),t}(e);ne.find=ue,ne.expr=ue.selectors,ne.expr[":"]=ne.expr.pseudos,ne.uniqueSort=ne.unique=ue.uniqueSort,ne.text=ue.getText,ne.isXMLDoc=ue.isXML,ne.contains=ue.contains;var de=function(e,t,i){for(var s=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ne(e).is(i))break;s.push(e)}return s},pe=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},ve=ne.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;ne.filter=function(e,t,i){var s=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?ne.find.matchesSelector(s,e)?[s]:[]:ne.find.matches(e,ne.grep(t,function(e){return 1===e.nodeType}))},ne.fn.extend({find:function(e){var t,i=this.length,s=[],r=this;if("string"!=typeof e)return this.pushStack(ne(e).filter(function(){for(t=0;i>t;t++)if(ne.contains(r[t],this))return!0}));for(t=0;i>t;t++)ne.find(e,r[t],s);return s=this.pushStack(i>1?ne.unique(s):s),s.selector=this.selector?this.selector+" "+e:e,s},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&ve.test(e)?ne(e):e||[],!1).length}});var me,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=ne.fn.init=function(e,t,i){var s,r;if(!e)return this;if(i=i||me,"string"==typeof e){if(s="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ge.exec(e),!s||!s[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(s[1]){if(t=t instanceof ne?t[0]:t,ne.merge(this,ne.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),fe.test(s[1])&&ne.isPlainObject(t))for(s in t)ne.isFunction(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}return r=G.getElementById(s[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ne.isFunction(e)?void 0!==i.ready?i.ready(e):e(ne):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ne.makeArray(e,this))};ye.prototype=ne.fn,me=ne(G);var be=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};ne.fn.extend({has:function(e){var t=ne(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(ne.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,s=0,r=this.length,n=[],o=ve.test(e)||"string"!=typeof e?ne(e,t||this.context):0;r>s;s++)for(i=this[s];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&ne.find.matchesSelector(i,e))){n.push(i);break}return this.pushStack(n.length>1?ne.uniqueSort(n):n)},index:function(e){return e?"string"==typeof e?Q.call(ne(e),this[0]):Q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ne.uniqueSort(ne.merge(this.get(),ne(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ne.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,i){return de(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,i){return de(e,"nextSibling",i)},prevUntil:function(e,t,i){return de(e,"previousSibling",i)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||ne.merge([],e.childNodes)}},function(e,t){ne.fn[e]=function(i,s){var r=ne.map(this,t,i);return"Until"!==e.slice(-5)&&(s=i),s&&"string"==typeof s&&(r=ne.filter(s,r)),this.length>1&&(we[e]||ne.uniqueSort(r),be.test(e)&&r.reverse()),this.pushStack(r)}});var je=/\S+/g;ne.Callbacks=function(e){e="string"==typeof e?n(e):ne.extend({},e);var t,i,s,r,o=[],a=[],l=-1,c=function(){for(r=e.once,s=t=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)o[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!t&&(l=o.length-1,a.push(i)),function s(t){ne.each(t,function(t,i){ne.isFunction(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==ne.type(i)&&s(i)})}(arguments),i&&!t&&c()),this},remove:function(){return ne.each(arguments,function(e,t){for(var i;(i=ne.inArray(t,o,i))>-1;)o.splice(i,1),l>=i&&l--}),this},has:function(e){return e?ne.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||(o=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=i||[],i=[e,i.slice?i.slice():i],a.push(i),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!s}};return u},ne.extend({Deferred:function(e){var t=[["resolve","done",ne.Callbacks("once memory"),"resolved"],["reject","fail",ne.Callbacks("once memory"),"rejected"],["notify","progress",ne.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ne.Deferred(function(i){ne.each(t,function(t,n){var o=ne.isFunction(e[t])&&e[t];r[n[1]](function(){var e=o&&o.apply(this,arguments);e&&ne.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this===s?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ne.extend(e,s):s}},r={};return s.pipe=s.then,ne.each(t,function(e,n){var o=n[2],a=n[3];s[n[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[n[0]]=function(){return r[n[0]+"With"](this===r?s:this,arguments),this},r[n[0]+"With"]=o.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,s,r=0,n=Y.call(arguments),o=n.length,a=1!==o||e&&ne.isFunction(e.promise)?o:0,l=1===a?e:ne.Deferred(),c=function(e,i,s){return function(r){i[e]=this,s[e]=arguments.length>1?Y.call(arguments):r,s===t?l.notifyWith(i,s):--a||l.resolveWith(i,s)}};if(o>1)for(t=new Array(o),i=new Array(o),s=new Array(o);o>r;r++)n[r]&&ne.isFunction(n[r].promise)?n[r].promise().progress(c(r,i,t)).done(c(r,s,n)).fail(l.reject):--a;return a||l.resolveWith(s,n),l.promise()}});var ke;ne.fn.ready=function(e){return ne.ready.promise().done(e),this},ne.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ne.readyWait++:ne.ready(!0)},ready:function(e){(e===!0?--ne.readyWait:ne.isReady)||(ne.isReady=!0,e!==!0&&--ne.readyWait>0||(ke.resolveWith(G,[ne]),ne.fn.triggerHandler&&(ne(G).triggerHandler("ready"),ne(G).off("ready"))))}}),ne.ready.promise=function(t){return ke||(ke=ne.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?e.setTimeout(ne.ready):(G.addEventListener("DOMContentLoaded",o),e.addEventListener("load",o))),ke.promise(t)},ne.ready.promise();var _e=function(e,t,i,s,r,n,o){var a=0,l=e.length,c=null==i;if("object"===ne.type(i)){r=!0;for(a in i)_e(e,t,a,i[a],!0,n,o)}else if(void 0!==s&&(r=!0,ne.isFunction(s)||(o=!0),c&&(o?(t.call(e,s),t=null):(c=t,t=function(e,t,i){return c.call(ne(e),i)})),t))for(;l>a;a++)t(e[a],i,o?s:s.call(e[a],a,t(e[a],i)));return r?e:c?t.call(e):l?t(e[0],i):n},xe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var i=t||{};return e.nodeType?e[this.expando]=i:Object.defineProperty(e,this.expando,{value:i,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!xe(e))return{};var t=e[this.expando];return t||(t={},xe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var s,r=this.cache(e);if("string"==typeof t)r[t]=i;else for(s in t)r[s]=t[s];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,i){var s;return void 0===t||t&&"string"==typeof t&&void 0===i?(s=this.get(e,t),void 0!==s?s:this.get(e,ne.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,s,r,n=e[this.expando];if(void 0!==n){if(void 0===t)this.register(e);else{ne.isArray(t)?s=t.concat(t.map(ne.camelCase)):(r=ne.camelCase(t),t in n?s=[t,r]:(s=r,s=s in n?[s]:s.match(je)||[])),i=s.length;for(;i--;)delete n[s[i]]}(void 0===t||ne.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ne.isEmptyObject(t)}};var Ue=new a,Ce=new a,Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/[A-Z]/g;ne.extend({hasData:function(e){return Ce.hasData(e)||Ue.hasData(e)},data:function(e,t,i){return Ce.access(e,t,i)},removeData:function(e,t){Ce.remove(e,t)},_data:function(e,t,i){return Ue.access(e,t,i)},_removeData:function(e,t){Ue.remove(e,t)}}),ne.fn.extend({data:function(e,t){var i,s,r,n=this[0],o=n&&n.attributes;if(void 0===e){if(this.length&&(r=Ce.get(n),1===n.nodeType&&!Ue.get(n,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(s=o[i].name,0===s.indexOf("data-")&&(s=ne.camelCase(s.slice(5)),l(n,s,r[s])));Ue.set(n,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Ce.set(this,e)}):_e(this,function(t){var i,s;if(n&&void 0===t){if(i=Ce.get(n,e)||Ce.get(n,e.replace(Se,"-$&").toLowerCase()),void 0!==i)return i;if(s=ne.camelCase(e),i=Ce.get(n,s),void 0!==i)return i;if(i=l(n,s,void 0),void 0!==i)return i}else s=ne.camelCase(e),this.each(function(){var i=Ce.get(this,s);Ce.set(this,s,t),e.indexOf("-")>-1&&void 0!==i&&Ce.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ce.remove(this,e)})}}),ne.extend({queue:function(e,t,i){var s;return e?(t=(t||"fx")+"queue",s=Ue.get(e,t),i&&(!s||ne.isArray(i)?s=Ue.access(e,t,ne.makeArray(i)):s.push(i)),s||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=ne.queue(e,t),s=i.length,r=i.shift(),n=ne._queueHooks(e,t),o=function(){ne.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,o,n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Ue.get(e,i)||Ue.access(e,i,{empty:ne.Callbacks("once memory").add(function(){Ue.remove(e,[t+"queue",i])})})}}),ne.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ne.queue(this[0],e):void 0===t?this:this.each(function(){var i=ne.queue(this,e,t);ne._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ne.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ne.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,s=1,r=ne.Deferred(),n=this,o=this.length,a=function(){--s||r.resolveWith(n,[n])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=Ue.get(n[o],e+"queueHooks"),i&&i.empty&&(s++,i.empty.add(a));return a(),r.promise(t)}});var Ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=new RegExp("^(?:([+-])=|)("+Ae+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],$e=function(e,t){return e=t||e,"none"===ne.css(e,"display")||!ne.contains(e.ownerDocument,e)},Pe=/^(?:checkbox|radio)$/i,De=/<([\w:-]+)/,Le=/^$|\/(?:java|ecma)script/i,Ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ne.optgroup=Ne.option,Ne.tbody=Ne.tfoot=Ne.colgroup=Ne.caption=Ne.thead,Ne.th=Ne.td;var Re=/<|&#?\w+;/;!function(){var e=G.createDocumentFragment(),t=e.appendChild(G.createElement("div")),i=G.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ie=/^key/,Me=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Be=/^([^.]*)(?:\.(.+)|)/;ne.event={global:{},add:function(e,t,i,s,r){var n,o,a,l,c,u,d,p,v,f,h,m=Ue.get(e);if(m)for(i.handler&&(n=i,i=n.handler,r=n.selector),i.guid||(i.guid=ne.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return"undefined"!=typeof ne&&ne.event.triggered!==t.type?ne.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(je)||[""],c=t.length;c--;)a=Be.exec(t[c])||[],v=h=a[1],f=(a[2]||"").split(".").sort(),v&&(d=ne.event.special[v]||{},v=(r?d.delegateType:d.bindType)||v,d=ne.event.special[v]||{},u=ne.extend({type:v,origType:h,data:s,handler:i,guid:i.guid,selector:r,needsContext:r&&ne.expr.match.needsContext.test(r),namespace:f.join(".")},n),(p=l[v])||(p=l[v]=[],p.delegateCount=0,d.setup&&d.setup.call(e,s,f,o)!==!1||e.addEventListener&&e.addEventListener(v,o)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),ne.event.global[v]=!0)},remove:function(e,t,i,s,r){var n,o,a,l,c,u,d,p,v,f,h,m=Ue.hasData(e)&&Ue.get(e);if(m&&(l=m.events)){for(t=(t||"").match(je)||[""],c=t.length;c--;)if(a=Be.exec(t[c])||[],v=h=a[1],f=(a[2]||"").split(".").sort(),v){for(d=ne.event.special[v]||{},v=(s?d.delegateType:d.bindType)||v,p=l[v]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=n=p.length;n--;)u=p[n],!r&&h!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||s&&s!==u.selector&&("**"!==s||!u.selector)||(p.splice(n,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));o&&!p.length&&(d.teardown&&d.teardown.call(e,f,m.handle)!==!1||ne.removeEvent(e,v,m.handle),delete l[v])}else for(v in l)ne.event.remove(e,v+t[c],i,s,!0);ne.isEmptyObject(l)&&Ue.remove(e,"handle events")}},dispatch:function(e){e=ne.event.fix(e);var t,i,s,r,n,o=[],a=Y.call(arguments),l=(Ue.get(this,"events")||{})[e.type]||[],c=ne.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=ne.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(n=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(n.namespace)||(e.handleObj=n,e.data=n.data,s=((ne.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,a),void 0!==s&&(e.result=s)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,s,r,n,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(s=[],i=0;a>i;i++)n=t[i],r=n.selector+" ",void 0===s[r]&&(s[r]=n.needsContext?ne(r,this).index(l)>-1:ne.find(r,this,null,[l]).length),s[r]&&s.push(n);s.length&&o.push({elem:l,handlers:s})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){
return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,s,r,n=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||G,s=i.documentElement,r=i.body,e.pageX=t.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),e.which||void 0===n||(e.which=1&n?1:2&n?3:4&n?2:0),e}},fix:function(e){if(e[ne.expando])return e;var t,i,s,r=e.type,n=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Me.test(r)?this.mouseHooks:Ie.test(r)?this.keyHooks:{}),s=o.props?this.props.concat(o.props):this.props,e=new ne.Event(n),t=s.length;t--;)i=s[t],e[i]=n[i];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,n):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ne.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return ne.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ne.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},ne.Event=function(e,t){return this instanceof ne.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?v:f):this.type=e,t&&ne.extend(this,t),this.timeStamp=e&&e.timeStamp||ne.now(),void(this[ne.expando]=!0)):new ne.Event(e,t)},ne.Event.prototype={constructor:ne.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation(),this.stopPropagation()}},ne.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ne.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=this,r=e.relatedTarget,n=e.handleObj;return r&&(r===s||ne.contains(s,r))||(e.type=n.origType,i=n.handler.apply(this,arguments),e.type=t),i}}}),ne.fn.extend({on:function(e,t,i,s){return m(this,e,t,i,s)},one:function(e,t,i,s){return m(this,e,t,i,s,1)},off:function(e,t,i){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,ne(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=f),this.each(function(){ne.event.remove(this,e,i,t)})}});var qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Fe=/<script|<style|<link/i,He=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ne.extend({htmlPrefilter:function(e){return e.replace(qe,"<$1></$2>")},clone:function(e,t,i){var s,r,n,o,a=e.cloneNode(!0),l=ne.contains(e.ownerDocument,e);if(!(se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ne.isXMLDoc(e)))for(o=u(a),n=u(e),s=0,r=n.length;r>s;s++)j(n[s],o[s]);if(t)if(i)for(n=n||u(e),o=o||u(a),s=0,r=n.length;r>s;s++)w(n[s],o[s]);else w(e,a);return o=u(a,"script"),o.length>0&&d(o,!l&&u(e,"script")),a},cleanData:function(e){for(var t,i,s,r=ne.event.special,n=0;void 0!==(i=e[n]);n++)if(xe(i)){if(t=i[Ue.expando]){if(t.events)for(s in t.events)r[s]?ne.event.remove(i,s):ne.removeEvent(i,s,t.handle);i[Ue.expando]=void 0}i[Ce.expando]&&(i[Ce.expando]=void 0)}}}),ne.fn.extend({domManip:k,detach:function(e){return _(this,e,!0)},remove:function(e){return _(this,e)},text:function(e){return _e(this,function(e){return void 0===e?ne.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ne.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ne.clone(this,e,t)})},html:function(e){return _e(this,function(e){var t=this[0]||{},i=0,s=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!Ne[(De.exec(e)||["",""])[1].toLowerCase()]){e=ne.htmlPrefilter(e);try{for(;s>i;i++)t=this[i]||{},1===t.nodeType&&(ne.cleanData(u(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return k(this,arguments,function(t){var i=this.parentNode;ne.inArray(this,e)<0&&(ne.cleanData(u(this)),i&&i.replaceChild(t,this))},e)}}),ne.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ne.fn[e]=function(e){for(var i,s=[],r=ne(e),n=r.length-1,o=0;n>=o;o++)i=o===n?this:this.clone(!0),ne(r[o])[t](i),Z.apply(s,i.get());return this.pushStack(s)}});var We,Xe={HTML:"block",BODY:"block"},Je=/^margin/,Ge=new RegExp("^("+Ae+")(?!px)[a-z%]+$","i"),Ye=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Ke=function(e,t,i,s){var r,n,o={};for(n in t)o[n]=e.style[n],e.style[n]=t[n];r=i.apply(e,s||[]);for(n in t)e.style[n]=o[n];return r},Ze=G.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ze.appendChild(o);var t=e.getComputedStyle(a);i="1%"!==t.top,n="2px"===t.marginLeft,s="4px"===t.width,a.style.marginRight="50%",r="4px"===t.marginRight,Ze.removeChild(o)}var i,s,r,n,o=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),ne.extend(se,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==s&&t(),s},pixelMarginRight:function(){return null==s&&t(),r},reliableMarginLeft:function(){return null==s&&t(),n},reliableMarginRight:function(){var t,i=a.appendChild(G.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",Ze.appendChild(o),t=!parseFloat(e.getComputedStyle(i).marginRight),Ze.removeChild(o),a.removeChild(i),t}}))}();var Qe=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},it=["Webkit","O","Moz","ms"],st=G.createElement("div").style;ne.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=C(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,n,o,a=ne.camelCase(t),l=e.style;return t=ne.cssProps[a]||(ne.cssProps[a]=S(a)||a),o=ne.cssHooks[t]||ne.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(r=o.get(e,!1,s))?r:l[t]:(n=typeof i,"string"===n&&(r=Ee.exec(i))&&r[1]&&(i=c(e,t,r),n="number"),null!=i&&i===i&&("number"===n&&(i+=r&&r[3]||(ne.cssNumber[a]?"":"px")),se.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,s))||(l[t]=i)),void 0)}},css:function(e,t,i,s){var r,n,o,a=ne.camelCase(t);return t=ne.cssProps[a]||(ne.cssProps[a]=S(a)||a),o=ne.cssHooks[t]||ne.cssHooks[a],o&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=C(e,t,s)),"normal"===r&&t in tt&&(r=tt[t]),""===i||i?(n=parseFloat(r),i===!0||isFinite(n)?n||0:r):r}}),ne.each(["height","width"],function(e,t){ne.cssHooks[t]={get:function(e,i,s){return i?Qe.test(ne.css(e,"display"))&&0===e.offsetWidth?Ke(e,et,function(){return O(e,t,s)}):O(e,t,s):void 0},set:function(e,i,s){var r,n=s&&Ye(e),o=s&&E(e,t,s,"border-box"===ne.css(e,"boxSizing",!1,n),n);return o&&(r=Ee.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=ne.css(e,t)),A(e,i,o)}}}),ne.cssHooks.marginLeft=T(se.reliableMarginLeft,function(e,t){return t?(parseFloat(C(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),ne.cssHooks.marginRight=T(se.reliableMarginRight,function(e,t){return t?Ke(e,{display:"inline-block"},C,[e,"marginRight"]):void 0}),ne.each({margin:"",padding:"",border:"Width"},function(e,t){ne.cssHooks[e+t]={expand:function(i){for(var s=0,r={},n="string"==typeof i?i.split(" "):[i];4>s;s++)r[e+Oe[s]+t]=n[s]||n[s-2]||n[0];return r}},Je.test(e)||(ne.cssHooks[e+t].set=A)}),ne.fn.extend({css:function(e,t){return _e(this,function(e,t,i){var s,r,n={},o=0;if(ne.isArray(t)){for(s=Ye(e),r=t.length;r>o;o++)n[t[o]]=ne.css(e,t[o],!1,s);return n}return void 0!==i?ne.style(e,t,i):ne.css(e,t)},e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$e(this)?ne(this).show():ne(this).hide()})}}),ne.Tween=P,P.prototype={constructor:P,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||ne.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(ne.cssNumber[i]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,i=P.propHooks[this.prop];return this.options.duration?this.pos=t=ne.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ne.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ne.fx.step[e.prop]?ne.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ne.cssProps[e.prop]]&&!ne.cssHooks[e.prop]?e.elem[e.prop]=e.now:ne.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ne.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ne.fx=P.prototype.init,ne.fx.step={};var rt,nt,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;ne.Animation=ne.extend(M,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return c(i.elem,e,Ee.exec(t),i),i}]},tweener:function(e,t){ne.isFunction(e)?(t=e,e=["*"]):e=e.match(je);for(var i,s=0,r=e.length;r>s;s++)i=e[s],M.tweeners[i]=M.tweeners[i]||[],M.tweeners[i].unshift(t)},prefilters:[R],prefilter:function(e,t){t?M.prefilters.unshift(e):M.prefilters.push(e)}}),ne.speed=function(e,t,i){var s=e&&"object"==typeof e?ne.extend({},e):{complete:i||!i&&t||ne.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ne.isFunction(t)&&t};return s.duration=ne.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in ne.fx.speeds?ne.fx.speeds[s.duration]:ne.fx.speeds._default,null!=s.queue&&s.queue!==!0||(s.queue="fx"),s.old=s.complete,s.complete=function(){ne.isFunction(s.old)&&s.old.call(this),s.queue&&ne.dequeue(this,s.queue)},s},ne.fn.extend({fadeTo:function(e,t,i,s){return this.filter($e).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var r=ne.isEmptyObject(e),n=ne.speed(t,i,s),o=function(){var t=M(this,ne.extend({},e),n);(r||Ue.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||n.queue===!1?this.each(o):this.queue(n.queue,o)},stop:function(e,t,i){var s=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",n=ne.timers,o=Ue.get(this);if(r)o[r]&&o[r].stop&&s(o[r]);else for(r in o)o[r]&&o[r].stop&&at.test(r)&&s(o[r]);for(r=n.length;r--;)n[r].elem!==this||null!=e&&n[r].queue!==e||(n[r].anim.stop(i),t=!1,n.splice(r,1));!t&&i||ne.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=Ue.get(this),s=i[e+"queue"],r=i[e+"queueHooks"],n=ne.timers,o=s?s.length:0;for(i.finish=!0,ne.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===e&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;o>t;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete i.finish})}}),ne.each(["toggle","show","hide"],function(e,t){var i=ne.fn[t];ne.fn[t]=function(e,s,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(L(t,!0),e,s,r)}}),ne.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ne.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),ne.timers=[],ne.fx.tick=function(){var e,t=0,i=ne.timers;for(rt=ne.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||ne.fx.stop(),rt=void 0},ne.fx.timer=function(e){ne.timers.push(e),e()?ne.fx.start():ne.timers.pop()},ne.fx.interval=13,ne.fx.start=function(){nt||(nt=e.setInterval(ne.fx.tick,ne.fx.interval))},ne.fx.stop=function(){e.clearInterval(nt),nt=null},ne.fx.speeds={slow:600,fast:200,_default:400},ne.fn.delay=function(t,i){return t=ne.fx?ne.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,s){var r=e.setTimeout(i,t);s.stop=function(){e.clearTimeout(r)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),i=t.appendChild(G.createElement("option"));e.type="checkbox",se.checkOn=""!==e.value,se.optSelected=i.selected,t.disabled=!0,se.optDisabled=!i.disabled,e=G.createElement("input"),e.value="t",e.type="radio",se.radioValue="t"===e.value}();var lt,ct=ne.expr.attrHandle;ne.fn.extend({attr:function(e,t){return _e(this,ne.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ne.removeAttr(this,e)})}}),ne.extend({attr:function(e,t,i){var s,r,n=e.nodeType;if(3!==n&&8!==n&&2!==n)return"undefined"==typeof e.getAttribute?ne.prop(e,t,i):(1===n&&ne.isXMLDoc(e)||(t=t.toLowerCase(),r=ne.attrHooks[t]||(ne.expr.match.bool.test(t)?lt:void 0)),void 0!==i?null===i?void ne.removeAttr(e,t):r&&"set"in r&&void 0!==(s=r.set(e,i,t))?s:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(s=r.get(e,t))?s:(s=ne.find.attr(e,t),null==s?void 0:s))},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&ne.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,s,r=0,n=t&&t.match(je);if(n&&1===e.nodeType)for(;i=n[r++];)s=ne.propFix[i]||i,ne.expr.match.bool.test(i)&&(e[s]=!1),e.removeAttribute(i)}}),lt={set:function(e,t,i){return t===!1?ne.removeAttr(e,i):e.setAttribute(i,i),i}},ne.each(ne.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ct[t]||ne.find.attr;ct[t]=function(e,t,s){var r,n;return s||(n=ct[t],ct[t]=r,r=null!=i(e,t,s)?t.toLowerCase():null,ct[t]=n),r}});var ut=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;ne.fn.extend({prop:function(e,t){return _e(this,ne.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ne.propFix[e]||e]})}}),ne.extend({prop:function(e,t,i){var s,r,n=e.nodeType;if(3!==n&&8!==n&&2!==n)return 1===n&&ne.isXMLDoc(e)||(t=ne.propFix[t]||t,r=ne.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(s=r.set(e,i,t))?s:e[t]=i:r&&"get"in r&&null!==(s=r.get(e,t))?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=ne.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),se.optSelected||(ne.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ne.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ne.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;ne.fn.extend({addClass:function(e){var t,i,s,r,n,o,a,l=0;if(ne.isFunction(e))return this.each(function(t){ne(this).addClass(e.call(this,t,B(this)))});if("string"==typeof e&&e)for(t=e.match(je)||[];i=this[l++];)if(r=B(i),s=1===i.nodeType&&(" "+r+" ").replace(pt," ")){for(o=0;n=t[o++];)s.indexOf(" "+n+" ")<0&&(s+=n+" ");a=ne.trim(s),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,s,r,n,o,a,l=0;if(ne.isFunction(e))return this.each(function(t){ne(this).removeClass(e.call(this,t,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(je)||[];i=this[l++];)if(r=B(i),s=1===i.nodeType&&(" "+r+" ").replace(pt," ")){for(o=0;n=t[o++];)for(;s.indexOf(" "+n+" ")>-1;)s=s.replace(" "+n+" "," ");a=ne.trim(s),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ne.isFunction(e)?this.each(function(i){ne(this).toggleClass(e.call(this,i,B(this),t),t)}):this.each(function(){var t,s,r,n;if("string"===i)for(s=0,r=ne(this),n=e.match(je)||[];t=n[s++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||(t=B(this),t&&Ue.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ue.get(this,"__className__")||""))})},hasClass:function(e){var t,i,s=0;for(t=" "+e+" ";i=this[s++];)if(1===i.nodeType&&(" "+B(i)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g,ft=/[\x20\t\r\n\f]+/g;ne.fn.extend({val:function(e){var t,i,s,r=this[0];{if(arguments.length)return s=ne.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=s?e.call(this,i,ne(this).val()):e,null==r?r="":"number"==typeof r?r+="":ne.isArray(r)&&(r=ne.map(r,function(e){return null==e?"":e+""})),t=ne.valHooks[this.type]||ne.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ne.valHooks[r.type]||ne.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(vt,""):null==i?"":i)}}}),ne.extend({valHooks:{option:{get:function(e){var t=ne.find.attr(e,"value");return null!=t?t:ne.trim(ne.text(e)).replace(ft," ")}},select:{get:function(e){for(var t,i,s=e.options,r=e.selectedIndex,n="select-one"===e.type||0>r,o=n?null:[],a=n?r+1:s.length,l=0>r?a:n?r:0;a>l;l++)if(i=s[l],(i.selected||l===r)&&(se.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ne.nodeName(i.parentNode,"optgroup"))){if(t=ne(i).val(),n)return t;o.push(t)}return o},set:function(e,t){for(var i,s,r=e.options,n=ne.makeArray(t),o=r.length;o--;)s=r[o],(s.selected=ne.inArray(ne.valHooks.option.get(s),n)>-1)&&(i=!0);return i||(e.selectedIndex=-1),n}}}}),ne.each(["radio","checkbox"],function(){ne.valHooks[this]={set:function(e,t){return ne.isArray(t)?e.checked=ne.inArray(ne(e).val(),t)>-1:void 0}},se.checkOn||(ne.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ht=/^(?:focusinfocus|focusoutblur)$/;ne.extend(ne.event,{trigger:function(t,i,s,r){var n,o,a,l,c,u,d,p=[s||G],v=ie.call(t,"type")?t.type:t,f=ie.call(t,"namespace")?t.namespace.split("."):[];if(o=a=s=s||G,3!==s.nodeType&&8!==s.nodeType&&!ht.test(v+ne.event.triggered)&&(v.indexOf(".")>-1&&(f=v.split("."),v=f.shift(),f.sort()),c=v.indexOf(":")<0&&"on"+v,t=t[ne.expando]?t:new ne.Event(v,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=s),i=null==i?[t]:ne.makeArray(i,[t]),d=ne.event.special[v]||{},r||!d.trigger||d.trigger.apply(s,i)!==!1)){if(!r&&!d.noBubble&&!ne.isWindow(s)){for(l=d.delegateType||v,ht.test(l+v)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(s.ownerDocument||G)&&p.push(a.defaultView||a.parentWindow||e)}for(n=0;(o=p[n++])&&!t.isPropagationStopped();)t.type=n>1?l:d.bindType||v,u=(Ue.get(o,"events")||{})[t.type]&&Ue.get(o,"handle"),u&&u.apply(o,i),u=c&&o[c],u&&u.apply&&xe(o)&&(t.result=u.apply(o,i),t.result===!1&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),i)!==!1||!xe(s)||c&&ne.isFunction(s[v])&&!ne.isWindow(s)&&(a=s[c],a&&(s[c]=null),ne.event.triggered=v,s[v](),ne.event.triggered=void 0,a&&(s[c]=a)),t.result}},simulate:function(e,t,i){var s=ne.extend(new ne.Event,i,{type:e,isSimulated:!0});ne.event.trigger(s,null,t),s.isDefaultPrevented()&&i.preventDefault()}}),ne.fn.extend({trigger:function(e,t){return this.each(function(){ne.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?ne.event.trigger(e,t,i,!0):void 0}}),ne.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ne.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ne.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),se.focusin="onfocusin"in e,se.focusin||ne.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ne.event.simulate(t,e.target,ne.event.fix(e))};ne.event.special[t]={setup:function(){var s=this.ownerDocument||this,r=Ue.access(s,t);r||s.addEventListener(e,i,!0),Ue.access(s,t,(r||0)+1)},teardown:function(){var s=this.ownerDocument||this,r=Ue.access(s,t)-1;r?Ue.access(s,t,r):(s.removeEventListener(e,i,!0),Ue.remove(s,t))}}});var mt=e.location,gt=ne.now(),yt=/\?/;ne.parseJSON=function(e){return JSON.parse(e+"")},ne.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(s){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||ne.error("Invalid XML: "+t),i};var bt=/#.*$/,wt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_t=/^(?:GET|HEAD)$/,xt=/^\/\//,Ut={},Ct={},Tt="*/".concat("*"),St=G.createElement("a");St.href=mt.href,ne.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:kt.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ne.parseJSON,"text xml":ne.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ne.ajaxSettings),t):H(ne.ajaxSettings,e)},ajaxPrefilter:q(Ut),ajaxTransport:q(Ct),ajax:function(t,i){function s(t,i,s,a){var c,d,y,b,j,_=i;2!==w&&(w=2,l&&e.clearTimeout(l),r=void 0,o=a||"",k.readyState=t>0?4:0,c=t>=200&&300>t||304===t,s&&(b=z(p,k,s)),b=V(p,b,k,c),c?(p.ifModified&&(j=k.getResponseHeader("Last-Modified"),j&&(ne.lastModified[n]=j),j=k.getResponseHeader("etag"),j&&(ne.etag[n]=j)),204===t||"HEAD"===p.type?_="nocontent":304===t?_="notmodified":(_=b.state,d=b.data,y=b.error,c=!y)):(y=_,!t&&_||(_="error",0>t&&(t=0))),k.status=t,k.statusText=(i||_)+"",c?h.resolveWith(v,[d,_,k]):h.rejectWith(v,[k,_,y]),k.statusCode(g),g=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[k,p,c?d:y]),m.fireWith(v,[k,_]),u&&(f.trigger("ajaxComplete",[k,p]),--ne.active||ne.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var r,n,o,a,l,c,u,d,p=ne.ajaxSetup({},i),v=p.context||p,f=p.context&&(v.nodeType||v.jquery)?ne(v):ne.event,h=ne.Deferred(),m=ne.Callbacks("once memory"),g=p.statusCode||{},y={},b={},w=0,j="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=jt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)g[t]=[g[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||j;return r&&r.abort(t),s(0,t),this}};if(h.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,p.url=((t||p.url||mt.href)+"").replace(bt,"").replace(xt,mt.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=ne.trim(p.dataType||"*").toLowerCase().match(je)||[""],null==p.crossDomain){c=G.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=St.protocol+"//"+St.host!=c.protocol+"//"+c.host}catch(_){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ne.param(p.data,p.traditional)),F(Ut,p,i,k),2===w)return k;u=ne.event&&p.global,u&&0===ne.active++&&ne.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!_t.test(p.type),n=p.url,p.hasContent||(p.data&&(n=p.url+=(yt.test(n)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wt.test(n)?n.replace(wt,"$1_="+gt++):n+(yt.test(n)?"&":"?")+"_="+gt++)),p.ifModified&&(ne.lastModified[n]&&k.setRequestHeader("If-Modified-Since",ne.lastModified[n]),ne.etag[n]&&k.setRequestHeader("If-None-Match",ne.etag[n])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Tt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(v,k,p)===!1||2===w))return k.abort();j="abort";for(d in{success:1,error:1,complete:1})k[d](p[d]);if(r=F(Ct,p,i,k)){if(k.readyState=1,u&&f.trigger("ajaxSend",[k,p]),2===w)return k;p.async&&p.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},p.timeout));try{w=1,r.send(y,s)}catch(_){if(!(2>w))throw _;s(-1,_)}}else s(-1,"No Transport");return k},getJSON:function(e,t,i){return ne.get(e,t,i,"json")},getScript:function(e,t){return ne.get(e,void 0,t,"script")}}),ne.each(["get","post"],function(e,t){ne[t]=function(e,i,s,r){return ne.isFunction(i)&&(r=r||s,s=i,i=void 0),ne.ajax(ne.extend({url:e,type:t,dataType:r,data:i,success:s},ne.isPlainObject(e)&&e))}}),ne._evalUrl=function(e){return ne.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ne.fn.extend({wrapAll:function(e){var t;return ne.isFunction(e)?this.each(function(t){ne(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ne(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ne.isFunction(e)?this.each(function(t){ne(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ne(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ne.isFunction(e);return this.each(function(i){ne(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ne.nodeName(this,"body")||ne(this).replaceWith(this.childNodes)}).end()}}),ne.expr.filters.hidden=function(e){return!ne.expr.filters.visible(e)},ne.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var At=/%20/g,Et=/\[\]$/,Ot=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;ne.param=function(e,t){var i,s=[],r=function(e,t){t=ne.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ne.ajaxSettings&&ne.ajaxSettings.traditional),ne.isArray(e)||e.jquery&&!ne.isPlainObject(e))ne.each(e,function(){r(this.name,this.value)});else for(i in e)W(i,e[i],t,r);return s.join("&").replace(At,"+")},ne.fn.extend({serialize:function(){return ne.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ne.prop(this,"elements");return e?ne.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ne(this).is(":disabled")&&Pt.test(this.nodeName)&&!$t.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var i=ne(this).val();return null==i?null:ne.isArray(i)?ne.map(i,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:i.replace(Ot,"\r\n")}}).get()}}),ne.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Dt={0:200,1223:204},Lt=ne.ajaxSettings.xhr();se.cors=!!Lt&&"withCredentials"in Lt,se.ajax=Lt=!!Lt,ne.ajaxTransport(function(t){var i,s;return se.cors||Lt&&!t.crossDomain?{send:function(r,n){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);i=function(e){return function(){i&&(i=s=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?n(0,"error"):n(a.status,a.statusText):n(Dt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),s=a.onerror=i("error"),void 0!==a.onabort?a.onabort=s:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){i&&s()})},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(i)throw l}},abort:function(){i&&i()}}:void 0}),ne.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ne.globalEval(e),e}}}),ne.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ne.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(s,r){t=ne("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Nt=[],Rt=/(=)\?(?=&|$)|\?\?/;ne.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||ne.expando+"_"+gt++;return this[e]=!0,e}}),ne.ajaxPrefilter("json jsonp",function(t,i,s){var r,n,o,a=t.jsonp!==!1&&(Rt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");
return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=ne.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Rt,"$1"+r):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||ne.error(r+" was not called"),o[0]},t.dataTypes[0]="json",n=e[r],e[r]=function(){o=arguments},s.always(function(){void 0===n?ne(e).removeProp(r):e[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,Nt.push(r)),o&&ne.isFunction(n)&&n(o[0]),o=n=void 0}),"script"):void 0}),ne.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||G;var s=fe.exec(e),r=!i&&[];return s?[t.createElement(s[1])]:(s=p([e],t,r),r&&r.length&&ne(r).remove(),ne.merge([],s.childNodes))};var It=ne.fn.load;ne.fn.load=function(e,t,i){if("string"!=typeof e&&It)return It.apply(this,arguments);var s,r,n,o=this,a=e.indexOf(" ");return a>-1&&(s=ne.trim(e.slice(a)),e=e.slice(0,a)),ne.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&ne.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){n=arguments,o.html(s?ne("<div>").append(ne.parseHTML(e)).find(s):e)}).always(i&&function(e,t){o.each(function(){i.apply(o,n||[e.responseText,t,e])})}),this},ne.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ne.fn[t]=function(e){return this.on(t,e)}}),ne.expr.filters.animated=function(e){return ne.grep(ne.timers,function(t){return e===t.elem}).length},ne.offset={setOffset:function(e,t,i){var s,r,n,o,a,l,c,u=ne.css(e,"position"),d=ne(e),p={};"static"===u&&(e.style.position="relative"),a=d.offset(),n=ne.css(e,"top"),l=ne.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(n+l).indexOf("auto")>-1,c?(s=d.position(),o=s.top,r=s.left):(o=parseFloat(n)||0,r=parseFloat(l)||0),ne.isFunction(t)&&(t=t.call(e,i,ne.extend({},a))),null!=t.top&&(p.top=t.top-a.top+o),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):d.css(p)}},ne.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ne.offset.setOffset(this,e,t)});var t,i,s=this[0],r={top:0,left:0},n=s&&s.ownerDocument;if(n)return t=n.documentElement,ne.contains(t,s)?(r=s.getBoundingClientRect(),i=X(n),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,i=this[0],s={top:0,left:0};return"fixed"===ne.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ne.nodeName(e[0],"html")||(s=e.offset()),s.top+=ne.css(e[0],"borderTopWidth",!0),s.left+=ne.css(e[0],"borderLeftWidth",!0)),{top:t.top-s.top-ne.css(i,"marginTop",!0),left:t.left-s.left-ne.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ne.css(e,"position");)e=e.offsetParent;return e||Ze})}}),ne.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;ne.fn[e]=function(s){return _e(this,function(e,s,r){var n=X(e);return void 0===r?n?n[t]:e[s]:void(n?n.scrollTo(i?n.pageXOffset:r,i?r:n.pageYOffset):e[s]=r)},e,s,arguments.length)}}),ne.each(["top","left"],function(e,t){ne.cssHooks[t]=T(se.pixelPosition,function(e,i){return i?(i=C(e,t),Ge.test(i)?ne(e).position()[t]+"px":i):void 0})}),ne.each({Height:"height",Width:"width"},function(e,t){ne.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,s){ne.fn[s]=function(s,r){var n=arguments.length&&(i||"boolean"!=typeof s),o=i||(s===!0||r===!0?"margin":"border");return _e(this,function(t,i,s){var r;return ne.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===s?ne.css(t,i,o):ne.style(t,i,s,o)},t,n?s:void 0,n,null)}})}),ne.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},size:function(){return this.length}}),ne.fn.andSelf=ne.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ne});var Mt=e.jQuery,Bt=e.$;return ne.noConflict=function(t){return e.$===ne&&(e.$=Bt),t&&e.jQuery===ne&&(e.jQuery=Mt),ne},t||(e.jQuery=e.$=ne),ne})},{}],"/Users/ricksmit/dev/mtv-play/node_modules/promise/index.js":[function(e,t,i){"use strict";t.exports=e("./lib/core.js"),e("./lib/done.js"),e("./lib/es6-extensions.js"),e("./lib/node-extensions.js")},{"./lib/core.js":"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/core.js","./lib/done.js":"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/done.js","./lib/es6-extensions.js":"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/es6-extensions.js","./lib/node-extensions.js":"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/node-extensions.js"}],"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/core.js":[function(e,t,i){"use strict";function s(e){function t(e){return null===l?void u.push(e):void o(function(){var t=l?e.onFulfilled:e.onRejected;if(null===t)return void(l?e.resolve:e.reject)(c);var i;try{i=t(c)}catch(s){return void e.reject(s)}e.resolve(i)})}function i(e){try{if(e===d)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void n(t.bind(e),i,s)}l=!0,c=e,a()}catch(r){s(r)}}function s(e){l=!1,c=e,a()}function a(){for(var e=0,i=u.length;i>e;e++)t(u[e]);u=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var l=null,c=null,u=[],d=this;this.then=function(e,i){return new d.constructor(function(s,n){t(new r(e,i,s,n))})},n(e,i,s)}function r(e,t,i,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=i,this.reject=s}function n(e,t,i){var s=!1;try{e(function(e){s||(s=!0,t(e))},function(e){s||(s=!0,i(e))})}catch(r){if(s)return;s=!0,i(r)}}var o=e("asap");t.exports=s},{asap:"/Users/ricksmit/dev/mtv-play/node_modules/asap/asap.js"}],"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/done.js":[function(e,t,i){"use strict";var s=e("./core.js"),r=e("asap");t.exports=s,s.prototype.done=function(e,t){var i=arguments.length?this.then.apply(this,arguments):this;i.then(null,function(e){r(function(){throw e})})}},{"./core.js":"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/ricksmit/dev/mtv-play/node_modules/asap/asap.js"}],"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/es6-extensions.js":[function(e,t,i){"use strict";function s(e){this.then=function(t){return"function"!=typeof t?this:new r(function(i,s){n(function(){try{i(t(e))}catch(r){s(r)}})})}}var r=e("./core.js"),n=e("asap");t.exports=r,s.prototype=r.prototype;var o=new s(!0),a=new s(!1),l=new s(null),c=new s(void 0),u=new s(0),d=new s("");r.resolve=function(e){if(e instanceof r)return e;if(null===e)return l;if(void 0===e)return c;if(e===!0)return o;if(e===!1)return a;if(0===e)return u;if(""===e)return d;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(i){return new r(function(e,t){t(i)})}return new s(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,i){function s(n,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,function(e){s(n,e)},i)}t[n]=o,0===--r&&e(t)}catch(l){i(l)}}if(0===t.length)return e([]);for(var r=t.length,n=0;n<t.length;n++)s(n,t[n])})},r.reject=function(e){return new r(function(t,i){i(e)})},r.race=function(e){return new r(function(t,i){e.forEach(function(e){r.resolve(e).then(t,i)})})},r.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/ricksmit/dev/mtv-play/node_modules/asap/asap.js"}],"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/node-extensions.js":[function(e,t,i){"use strict";var s=e("./core.js"),r=e("asap");t.exports=s,s.denodeify=function(e,t){return t=t||1/0,function(){var i=this,r=Array.prototype.slice.call(arguments);return new s(function(s,n){for(;r.length&&r.length>t;)r.pop();r.push(function(e,t){e?n(e):s(t)});var o=e.apply(i,r);!o||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then||s(o)})}},s.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),i="function"==typeof t[t.length-1]?t.pop():null,n=this;try{return e.apply(this,arguments).nodeify(i,n)}catch(o){if(null===i||"undefined"==typeof i)return new s(function(e,t){t(o)});r(function(){i.call(n,o)})}}},s.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(i){r(function(){e.call(t,null,i)})},function(i){r(function(){e.call(t,i)})})}},{"./core.js":"/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/ricksmit/dev/mtv-play/node_modules/asap/asap.js"}],"/Users/ricksmit/dev/mtv-play/platform/all.js":[function(e,t,i){var s,r=e("../app"),n=e("../components/switcher"),o=e("old-vigour-js/browser/cases"),a=e("../components/cookiebar");if(r.set({switcher:new n({on:{navigation:r.user.navigation,play:r.playing,receiver:r.user.receiver,favourites:r.user.favourites,usage:r.user.usage,content:r.content,highlight:r.user.highlight,search:r.user.search,scroll:r.user.scroll,carousel:r.user.carousel,volume:r.volume,notification:r.notification,watched:r.user.watched.from,state:r.state,popup:r.popup,overlay:r.overlay,loading:r.loading,profilepic:r.user.profilepic,activeClient:r.user.activeClient},display:"none"})}),r.ready.once(!0,function(){if(r.switcher.display="block","CH"!==r.region.val){var e=o.desktop||!o["native"]&&(o.phone||o.tablet);e&&!window.localStorage.getItem("cookieApproved")&&("NL"!==r.region.val?r.set({cookiewall:new a}):r.add(new a,"switcher"))}}),o.phone&&!o["native"]){var l=function(){var t=window.innerWidth,i=window.innerHeight;t>i?r.set({message:new(s||(s=e("../components/rotate-message")))}):r.message&&r.message.remove()};r.w.on(l),l()}r.initialised.val=!0},{"../app":"/Users/ricksmit/dev/mtv-play/app/index.js","../components/cookiebar":"/Users/ricksmit/dev/mtv-play/components/cookiebar/index.js","../components/rotate-message":"/Users/ricksmit/dev/mtv-play/components/rotate-message/index.js","../components/switcher":"/Users/ricksmit/dev/mtv-play/components/switcher/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/platform/cast.js":[function(e,t,i){var s=e("../app"),r=e("../components/switcher");e("old-vigour-js/browser/cases");s.state.val={defer:function(e,t){"first"===this._val&&(this._val="second"),e()}},s.set({switcher:new r({on:{navigation:s.user.navigation,play:s.playing,receiver:s.user.receiver,favourites:s.user.favourites,usage:s.user.usage,content:s.content,fullscreen:s.fullscreen,highlight:s.user.highlight,search:s.user.search,scroll:s.user.scroll,carousel:s.user.carousel,volume:s.volume,notification:s.notification,watched:s.user.watched.from,state:s.state,popup:s.popup,overlay:s.overlay,loading:s.loading,profilepic:s.user.profilepic,activeClient:s.user.activeClient}})}),s.initialised.val=!0},{"../app":"/Users/ricksmit/dev/mtv-play/app/index.js","../components/switcher":"/Users/ricksmit/dev/mtv-play/components/switcher/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/mtv-play/platform/tv.js":[function(e,t,i){var s=(e("old-vigour-js/app/ui/tv"),e("../app")),r=e("../components/switcher");e("old-vigour-js/browser/cases");s.set({switcher:new r({on:{navigation:s.user.navigation,play:s.playing,receiver:s.user.receiver,favourites:s.user.favourites,usage:s.user.usage,content:s.content,fullscreen:s.fullscreen,highlight:s.user.highlight,search:s.user.search,scroll:s.user.scroll,carousel:s.user.carousel,volume:s.volume,notification:s.notification,watched:s.user.watched.from,state:s.state,popup:s.popup,overlay:s.overlay,loading:s.loading,profilepic:s.user.profilepic,activeClient:s.user.activeClient}})}),s.initialised.val=!0},{"../app":"/Users/ricksmit/dev/mtv-play/app/index.js","../components/switcher":"/Users/ricksmit/dev/mtv-play/components/switcher/index.js","old-vigour-js/app/ui/tv":"/Users/ricksmit/dev/vigour-js/app/ui/tv/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/vigour-js/app/cloud.js":[function(e,t,i){function s(e,t){var i,s,r,n=e.data.get(["clients",e.clientid]);l.ios?(i="phone"===c.device?"iphone":"ipad",s="phone"===c.device?i:c.device):"appletv"===c.platform?(i="Apple TV",s="airplay"):l.chromecast?(i="Chromecast",s="chromecast",r=window.sessionId):(s=c.device,i=l.desktop?c.platform:c.platform+" "+s);var o={title:i,device:s};r&&(o.castId=r||!1),n.val=o,e.client.val=n}var r=e("old-vigour-js/browser/network/cloud").inject(e("old-vigour-js/browser/network/cloud/datacloud"),e("old-vigour-js/browser/network/cloud/authenticate")),n=e("old-vigour-js/value"),o=e("old-vigour-js/data"),a=e("old-vigour-js/util"),l=e("old-vigour-js/browser/cases"),c=e("old-vigour-js/browser/ua");e("old-vigour-js/browser/animation/raf");e("old-vigour-js/value/flags/process"),i.extend=a.extend(e("./values"),function(e){var t=new r(new n);l.$connected=new n(t.connected),t.client=new n,t.once("welcome",function(i){s(t,e)}),t.on("reconnect",function(){var e={};t.client.from.each(function(t){"key"!==t&&"type"!==t&&"ip"!==t&&(e[t]=this._val)}),t.client.from.on("remove",function(){Object.keys(e).length&&t.data.clients.set(t.clientid,e)})}),e.define({cloud:{get:function(){return t},set:function(e){a.isObj(e)?(e.fastLogin&&(t.fastLogin.val=!0),e.api&&(t.api.val=e.api),e.url&&(t.url.val=e.url)):t.url.val=e}}});var i=new o(t.data.get("app"),{subscription:{$:!0}});e.versionData=new n({val:i,defer:function(e,t){var i;if(this.from.version)if(console.log("hey hey hey"),window["package"]){var s=this.from.version.val,r=window["package"].version;s&&r&&(s=s.split("."),r=r.split("."),s=Number(s[1]),r=Number(r[1]||0),s>r&&(i=!0,this.clearCache(),window["package"].version=this.from.version.val))}else console.error("no window package",window["package"]);e(i?void 0:!0)}})})},{"./values":"/Users/ricksmit/dev/vigour-js/app/values.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/network/cloud":"/Users/ricksmit/dev/vigour-js/browser/network/cloud/index.js","old-vigour-js/browser/network/cloud/authenticate":"/Users/ricksmit/dev/vigour-js/browser/network/cloud/authenticate.js","old-vigour-js/browser/network/cloud/datacloud":"/Users/ricksmit/dev/vigour-js/browser/network/cloud/datacloud.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js","old-vigour-js/value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/vigour-js/app/content.js":[function(e,t,i){var s=e("../value"),r=e("../browser/network/cloud/data"),n=e("../util");n.define(r,"_contentPath",{get:function(){var e=this._path;for(var t in e)if("shows"===e[t]||"channels"===e[t])return e.slice(t);console.error("_contentPath used on non-content data",this,e)}}),i.extend=n.extend(e("./values"),e("./cloud"),function(e){function t(){var t=e.region.val,s=e.language.val;"it"===s&&(s="en"),t&&s&&(i.val=e.cloud.data.get(["mtvData",t,s]))}var i=e.content=new s({});n.define(i,"get",function(){if(this._val&&this._val.cloud)return this._val.get.apply(this._val,arguments);throw new Error("app.content , dont have cloud data!")}),e.region.on(t),e.language.on(t),t()})},{"../browser/network/cloud/data":"/Users/ricksmit/dev/vigour-js/browser/network/cloud/data.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../value":"/Users/ricksmit/dev/vigour-js/value/index.js","./cloud":"/Users/ricksmit/dev/vigour-js/app/cloud.js","./values":"/Users/ricksmit/dev/vigour-js/app/values.js"}],"/Users/ricksmit/dev/vigour-js/app/dictionary/index.js":[function(e,t,i){var s=e("../../util"),r=(e("../ui/element"),e("../../value")),n=e("../../object");r.operators._dictionary=function(e,t){return t===!1?e:t},t.exports=i=new r({}),s.define(i,"get",function(e){return i.map&&i.map[e]&&(e=i.map[e]),"string"==typeof e&&s.path(i,["responseData"].concat(e.split(".")),"")}),r.flags.dictionary={set:function(e,t){if("string"!=typeof e)this.set("_dictionary",{val:e,transform:function(e,t){if(t&&t.text)return t.text;var s=i.get(t);return s?s instanceof n?(i.once(function(){e._update()}),s.val):s:void 0}});else{var s=i.get(e);s._clearCache=!0,this.val=s}}},i._name="dictionary"},{"../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value":"/Users/ricksmit/dev/vigour-js/value/index.js","../ui/element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/vigour-js/app/index.js":[function(e,t,i){function s(e){void 0===o[e]&&(o[e]=l.device===e||l.platform===e),r.css={addClass:o[e]?e:"not-"+e}}e("./style.less"),e("../browser/animation/easing");var r,n=e("../browser/element"),o=e("../browser/cases"),a=(e("../browser/animation"),e("../browser/events/advanced")),l=e("../browser/ua"),c=(e("../browser/animation/raf"),e("../browser/events/util"),"ios"===l.platform),u="windows"===l.platform,d=["phone","tablet","tv","desktop","ios","android","windows","mac","touch","slow","chromecast"],p=d.length-1;o.iosBrowser=c&&"standalone"in navigator&&!navigator.standalone&&!window.cordova,o.iosFull=!o.iosBrowser&&c||(c||u)&&!!window.cordova||!1,o.retina=window.devicePixelRatio>1,o.slow=u&&"phone"===l.device||l.noRaf&&l.hasTransition||c&&480===window.screen.height||"tv"===l.device,o["native"]=!!window.cordova,o.windowsMobile="windows"===l.platform&&"phone"===l.device&&!!window.cordova,o.crawler=!o.tv&&!o["native"],r=t.exports=new n({"x,y":{val:0,clean:!0,translate:!0},node:document.body,w:window.innerWidth,h:window.innerHeight,css:"app"}),r.cases=o;var v=function(){r.blockResize?r.blockResize=!1:(r.w.val=window.innerWidth,r.h.val=window.innerHeight)};if(o.touch&&a.document.addEvent("move",function(e){a._maybescroll||a._setscroll||e.preventDefault()},"app"),"orientation"in window&&window.addEventListener("orientationchange",v),c||window.addEventListener("resize",v),v(),window.requestAnimationFrame(function(){v(),window.requestAnimationFrame(v)}),window.location.hash){var f=window.location.hash.split("#")[1],h=f.split(",");for(var m in h){var g=h[m].split("=");l[g[0]]=g[1]}}for("tv"===l.device&&(o.slow=!0);p>=0;)s(d[p--])},{"../browser/animation":"/Users/ricksmit/dev/vigour-js/browser/animation/index.js","../browser/animation/easing":"/Users/ricksmit/dev/vigour-js/browser/animation/easing.js","../browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","../browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","../browser/element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","../browser/events/advanced":"/Users/ricksmit/dev/vigour-js/browser/events/advanced.js","../browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js","../browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","./style.less":"/Users/ricksmit/dev/vigour-js/app/style.less"}],"/Users/ricksmit/dev/vigour-js/app/style.less":[function(e,t,i){arguments[4]["/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js"][0].apply(i,arguments)},{}],"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js":[function(e,t,i){var s=e("../../../browser/element");e("../../../value/flags/parent"),e("../../../value/flags/self"),e("../../../value/flags/process"),e("../../../value/flags/util"),e("../../../browser/events"),t.exports=s.inject(e("../../../browser/element/properties/collection"),e("../../../browser/element/properties"),e("../../../browser/element/properties/scrollbar"),e("../../../browser/element/properties/process"),e("../../../value/on"))},{"../../../browser/element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","../../../browser/element/properties":"/Users/ricksmit/dev/vigour-js/browser/element/properties/index.js","../../../browser/element/properties/collection":"/Users/ricksmit/dev/vigour-js/browser/element/properties/collection/index.js","../../../browser/element/properties/process":"/Users/ricksmit/dev/vigour-js/browser/element/properties/process.js","../../../browser/element/properties/scrollbar":"/Users/ricksmit/dev/vigour-js/browser/element/properties/scrollbar.js","../../../browser/events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js","../../../value/flags/parent":"/Users/ricksmit/dev/vigour-js/value/flags/parent.js","../../../value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js","../../../value/flags/self":"/Users/ricksmit/dev/vigour-js/value/flags/self.js","../../../value/flags/util":"/Users/ricksmit/dev/vigour-js/value/flags/util.js","../../../value/on":"/Users/ricksmit/dev/vigour-js/value/on.js"}],"/Users/ricksmit/dev/vigour-js/app/ui/sprite/index.js":[function(e,t,i){function s(){this._spinner&&(this._spinner(),this._spinner=null)}function r(e){"none"===e.val?s.call(this):this._spinner||this.setting("render")}var n=e("../element"),o=e("../../../browser/events/util"),a=new n({"w,h":50,x:{translate:!0,val:0}});a.extend({name:"params",type:!1,set:function(e){this._params=e,this.Class.prototype._params=e}}),a.setSetting({name:"spinner",render:function(){var e=this,t=this._params||{},i=t.start||0,n=t.frames||3,a=t.rows||1,l=t.cols||0,c=t.once,u=i,d=t.steps||a*l-i||19,p=0,v=0;e.display&&!e.display._base!==e||(e.display=e.display&&e.display.val||"block"),e.display.addListener([r,e],!0),e.node.style.backgroundSize=this.w.val*l+"px auto","none"!==e.display.val&&(e._spinner=o.interval(function(){return e.node.style.backgroundPosition=-e.w.val*v+"px "+(a?-e.h.val*p:0)+"px",u++,u===d&&(u=i,c)?void s.call(e):(p=a?~~(u/l):0,void(v=u-p*l))},n))},remove:s}),t.exports=a.Class},{"../../../browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js","../element":"/Users/ricksmit/dev/vigour-js/app/ui/element/index.js"}],"/Users/ricksmit/dev/vigour-js/app/ui/switcher/index.js":[function(e,t,i){var s=e("old-vigour-js/browser/element"),r=e("old-vigour-js/value"),n=e("old-vigour-js/object"),o=new s,a=e("old-vigour-js/browser/cases");r.flags.$params={set:function(e){this.params=e}},r.flags.$options={set:function(e){this.options=e}},o.extend({loader:{},animation:{},delay:{},done:{},force:{},backFallback:{cache:!1},onTransition:{cache:!1},transition:{cache:!1,set:function(e){var t,i,r,o=e.element&&e.element._val,l=e.params,c=e.options||{},u=c&&c.force,d=this.children,p=this._swElem||d[0],v=o&&o.base,f=d.length,h=this;if(f>1)for(var m=f-1;m>=0;m--)i=d[m],i!==p&&i.remove();if(this._loading&&(this._loading[1].removeListener(this._loading[0]),this._loading=void 0),v&&v instanceof s||o===s)if(!u&&this._swElem&&this._swElem instanceof o)this._swElem.set(l);else{if(r=this._direction=e.direction&&e.direction._val,c&&c.loader&&!c.loader.$loaded){if(!this.loader)return void console.error("no loader defined!");var g=new this.loader._val.Class;if(c.loader instanceof n){c.done=function(){t||(t=new o(l)),g._remove&&(c.done=void 0,c.delay=a.tablet?400:200,h._swElem instanceof o?h._swElem.set(l):h.onTransition._val.call(h,t,h._swElem,0,c),c.delay=void 0)};c.loader._path;this._loading=[function(){g._remove=!0,t&&c.done&&c.done()},c.loader],this._loading[1].is("loaded",this._loading[0])}else c.done=function(){t||(t=new o(l)),c.done=void 0,c.delay=200,h._swElem instanceof o?h._swElem.set(l):h.onTransition._val.call(h,t,h._swElem,0,c),c.delay=void 0};c.loader=void 0,this.onTransition._val.call(this,g,p,r,c)}else t=new o(l),c.done=void 0,c.delay=void 0,c.loader=void 0,this.onTransition._val.call(this,t,p,r,c);void 0!==c.animation&&(c.animation=void 0),c.delay&&(c.delay=void 0)}else l?console.error("only params defined!",l):l&&console.error("no params and no element defined!")}}}),o.define({back:function(){this.backFallback._val.call(this)},add:function(e,t){this._swElem=e,s.prototype.add.apply(this,arguments)}}),o.extend({name:"on",set:function(e){},remove:function(){this._loading&&(this._loading[1].removeListener(this._loading[0]),this._loading=null),this._swTimer&&clearTimeout(this._swTimer),this._timer&&clearTimeout(this._timer),this.on.$remove&&this.on.$remove.update()},"new":function(){this.on.$new&&this.on.$new.update()}}),t.exports=(new o.Class).Class},{"old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/app/ui/switcher/transitions.js":[function(e,t,i){function s(e,t,i,s,r){var c=r.done,u=r.animation===!1,d=r.delay;i?(n(e,t,i),u?(a(e,i),n(e,t),c&&(d?l(e,function(){r.done&&r.done()},d):c())):d?l(e,function(){o(e,i,r)},d):o(e,i,r)):n(e,t,!1,c)}function r(e,t,i,s,r){var o,d,p=20,v=c.w.val,f=1===s;f?(o=v,d=v/-3):(o=v/-3,d=v),u.windows?(t.x={translate:!0,val:o},i.x={translate:!0,val:0},window.requestAnimationFrame(function(){t.x=0,i.x=d,l(e,function(){a(e,i,r.done)},210)})):(t.x={val:0,animation:{start:o,time:p,delay:1,easing:"outCubic",done:function(){a(e,i,r.done)}}},i.x={val:d,animation:{time:p,delay:2,easing:"outCubic"}}),f?n(e,t):n(e,t,i)}function n(e,t,i,s){t&&e.add(t,i),s&&s()}function o(e,t,i){t.opacity=0,t.node.pointerEvents="none",l(e,function(){a(e,t,i.done)},200)}function a(e,t,i){t&&t.remove(),i&&i()}function l(e,t,i){e._swTimer&&(clearTimeout(e._swTimer),e._swTimer=null),e._swTimer=setTimeout(function(){t.call(e),e._swTimer=null},i)}var c=e("old-vigour-js/app"),u=e("old-vigour-js/browser/cases"),d=e("old-vigour-js/util");i.extend=d.extend(function(e){e.set({onTransition:{defer:function(e){i[this._val]&&(this._val=i[this._val]),e()}}})}),i.slide=function(e,t,i,n){i&&t?r(this,e,t,i,n):s(this,e,t,i,n)},i.fade=function(e,t,i,r){s(this,e,t,i,r)}},{"old-vigour-js/app":"/Users/ricksmit/dev/vigour-js/app/index.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/app/ui/tv/index.js":[function(e,t,i){function s(e){var t=e+"Sibling";return function(){if(this._node){var i=this._node[t];if(i&&(i=i.base),i&&i.events&&i.events.$focus&&(!i.display||"none"!==i.display.val))return i;if(i&&i._node){var s="$"+("previous"===e?"prev":e);return i[s].val}}}}var r=e("../../../browser/element"),n=(e("../../../browser/cases"),e("../../../browser/animation"),e("../../../browser/events/advanced")),o=e("../../../browser/ua"),a=(e("../../../browser/animation/raf"),e("../../../util")),l=e("../../../value"),c=(e("../../"),e("../../../browser/network/url")),u="lg"===o.platform&&"tv"===o.device,d=0;c.on(function(){var e=c.string.val.split("/"),t=Number(e[e.length-1]);if(d>t){d=t;var i=n.$focused&&n.$focused.val;i&&i.events&&i.events.back&&i.events.back._val.call(i,{preventDefault:function(){}})}}),document.addEventListener("keyup",function(e){e.preventDefault()}),document.addEventListener("keydown",function(e){var t,i=n.$focused&&n.$focused.val;if(i&&!i._node&&(n.$focused.val=!1),i&&i.events){var s={arrowLeft:[37,4],arrowRight:[39,5],arrowDown:[40,29461],arrowUp:[38,29460],click:[13,29443]};u||(s.back=[8,88,"VK_BACK"]),t=i.events;for(var r in s)if(t[r]&&a.checkArray(s[r],e.keyCode)!==!1)return u&&(cached=c.string.val,c.val=d++),e.preventDefault(),void t[r]._val.call(i,e)}}),n.arrowLeft={val:function(e,t,i){t.call(this,e,i)}},n.arrowRight={val:function(e,t,i){t.call(this,e,i)}},n.arrowUp={val:function(e,t,i){t.call(this,e,i)}},n.arrowDown={val:function(e,t,i){t.call(this,e,i)}},n.back={val:function(e,t,i){t.call(this,e,i)}},a.define(n,"$focused",{value:new l}),i.$focused=n.$focused,n.$focus={val:function(e,t,i){t.call(this,e,i)}},a.define(r,"$focus",function(e,t){if(this.events&&this.events.$focus&&(n.$focused.val&&(n.$focused.val._$focused=null,n.$focused.val._node&&n.$focused.val.events.$focus._val.call(n.$focused.val,!1,!0),n.$focused.val=!1),!t)){n.$focused.val=this;var i=this;i._$focused=!0;var i=n.$focused.val;i&&i.events&&i._node&&i.events.$focus._val.call(i,!0,e)}}),r.base.extend({$prev:function(){},$next:function(){}}),r.base.set({$prev:s("previous"),$next:s("next")})},{"../../":"/Users/ricksmit/dev/vigour-js/app/index.js","../../../browser/animation":"/Users/ricksmit/dev/vigour-js/browser/animation/index.js","../../../browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","../../../browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","../../../browser/element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","../../../browser/events/advanced":"/Users/ricksmit/dev/vigour-js/browser/events/advanced.js","../../../browser/network/url":"/Users/ricksmit/dev/vigour-js/browser/network/url.js","../../../browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../../value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/app/user/id.js":[function(e,t,i){var s=e("../../util");e("../../value/flags/process"),i.extend=s.extend(function(e){e.extend({id:function(t){var i=t.val;i&&this.cloud?this.data=this.cloud.data.get(["users",i]):i||(console.log("base.mockdata"),this.data=e.mockdata)},data:{val:e.mockdata,set:function(e){var t=this;if(t.instances&&t.instances.length&&(t=t.instances[0]),e.from.cloud){if(t.___c!==e.from){t.initialised=null,t.___c=e.from;for(var i in t.on.user)t.on.user[i].call(t,i);t.initialised=!0}}else{if(t.___c===!1)return;t.___c=!1;for(var i in t.on.user)t.on.mock[i].call(t,i);t.initialised=null}}}})})},{"../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/vigour-js/app/user/index.js":[function(e,t,i){e("../../value/flags/self"),e("../../value/flags/process"),e("../../value/flags/util");var s=e("../../util"),r=(e("../../value"),e("../../base")),n=(e("../../data"),e("../../object").inject(e("./origin")),e("monotonic-timestamp"),{}),o=e("./mockdata"),a=new o({}),l=r.prototype.extend,c=new r({defaultType:e("./type")});c.define({subscriptions:{get:function(){return n},set:function(e){e&&s.merge(n,e)}},mockdata:{get:function(){return a},set:function(e){e&&a.merge(e)}},on:{value:{mock:{},user:{}}},extend:function(e){e.mock&&(this.mockdata=e.mock);var t=l.apply(this,arguments);return void 0!==e.val&&(this[e.name]=e.val),e.on&&("function"==typeof e.on?e.on.call(this,e.name):this.data&&this.data.cloud?e.on.user&&e.on.user.call(this,e.name):e.on.mock&&e.on.mock.call(this,e.name)),t}}),i.extend=s.extend(e("../cloud"),function(t){var i=t.user=(new c.Class).inject(e("./set"),e("./id"));i.parent=t,i.cases=t.cases,i.cloud=t.cloud})},{"../../base":"/Users/ricksmit/dev/vigour-js/base/index.js","../../data":"/Users/ricksmit/dev/vigour-js/data/index.js","../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value":"/Users/ricksmit/dev/vigour-js/value/index.js","../../value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js","../../value/flags/self":"/Users/ricksmit/dev/vigour-js/value/flags/self.js",
"../../value/flags/util":"/Users/ricksmit/dev/vigour-js/value/flags/util.js","../cloud":"/Users/ricksmit/dev/vigour-js/app/cloud.js","./id":"/Users/ricksmit/dev/vigour-js/app/user/id.js","./mockdata":"/Users/ricksmit/dev/vigour-js/app/user/mockdata.js","./origin":"/Users/ricksmit/dev/vigour-js/app/user/origin.js","./set":"/Users/ricksmit/dev/vigour-js/app/user/set.js","./type":"/Users/ricksmit/dev/vigour-js/app/user/type.js","monotonic-timestamp":"/Users/ricksmit/dev/vigour-js/node_modules/monotonic-timestamp/index.js"}],"/Users/ricksmit/dev/vigour-js/app/user/mockdata.js":[function(e,t,i){var s=e("../../util"),r=e("../../data");t.exports=i=r["new"](),s.define(i,"get",function(e,t,i){return this.path(e instanceof Array?e:String(e).split("."),void 0!==t?t:{},!1,!1,!1,!1,!0,!i)})},{"../../data":"/Users/ricksmit/dev/vigour-js/data/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/app/user/multiscreen/cast/chrome/index.js":[function(e,t,i){function s(){var e=this,t=e._base,i=r(e);i&&(t.setReceiver(i),e.removeListener(s))}function r(e){e=n(e);var t;return e.each(function(){var e=this.from;return"chromecast"===e.device.val?(t=e,!0):void 0}),t}function n(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var o,a=e("old-vigour-js/util/config").chromecast,l=e("old-vigour-js/browser/cases"),c=e("old-vigour-js/browser/ua"),u=e("old-vigour-js/value"),d=e("old-vigour-js/object"),p=e("old-vigour-js/data"),v=(p["new"]({merge:!0,mixed:4}),"deviceDidComeOnline"),f="deviceDidGoOffline";if("undefined"==typeof h)var h=window.chrome||{};if(l.ios&&l["native"]&&!window.GoogleCast){var m={};window.GoogleCast={startScanForDevices:function(e){window.cordova.exec(function(){console.info("initiated Chromecast API")},function(e){console.error("can't initiate Chromecast API:",e)},"Echo","initCast",[e])},connectToDevice:function(e,t){window.cordova.exec(function(i){i?t():window.cordova.exec(t,function(e){console.error("can't connect to Chromecast:",e)},"Echo","selectDevice",[e])},function(){window.cordova.exec(t,function(e){console.error("can't connect to Chromecast:",e)},"Echo","selectDevice",[e])},"Echo","isDeviceConnected",[e])}};var g=function(){window.cordova.exec(function(e){var t;e||(e={});for(t in e)m[t]||(window.GoogleCast.dispatchEvent("deviceDidComeOnline",{id:t,friendlyName:e[t]}),m[t]=e[t]);for(t in m)e[t]||(window.GoogleCast.dispatchEvent("deviceDidGoOffline",{id:t,friendlyName:m[t]}),delete m[t])},function(e){console.error("pollChromecast error:",e)},"Echo","getDevices",[]),window.setTimeout(g,1e4)};window.setTimeout(g)}t.exports=i=window.curn=new u({api:{defer:function(e,t){var s=this,r=l["native"]||l.desktop&&"chrome"===c.browser;if(!r)return!0;var n=t[0];if("error"!==n){if(!r||o)return!0;if(l["native"])setTimeout(function(){i.init(a.id)},0),o=!0,e();else{var u=document.createElement("script");u.onerror=function(){console.error("!!! script.onerror !!!"),s.type="script",s.clearCache(),s.val=t[0]="error",e()},u.src=a.web,u.id="chromecast-script",window.__onGCastApiAvailable=function(r,n){r?(i.init(a.id),o=!0,e()):(s.clearCache(),s.val=t[0]="error",e())},document.getElementsByTagName("head")[0].appendChild(u)}}}},clients:!1,session:!1,apiDefer:function(e,t){var i=this,s=t[0];"connected"===i.session.status?e("success"):s!==!0||e(!0)}}),i.devices=new d({}),i.available=new d({}),i.setReceiver=function(e,t){var r=i.user,n=r.parent&&r.parent.loading;r.candidates.removeListener(s),r.candidates.on(s),n&&(n.val=!0),e.set("loading",!0),i.connect(e,function(i,s){return n&&(n.val=!1),e.set("loading",!1),i?console.error("CHROMECAST setReceiver connect error",i):void(t&&t(s))})},i.available.on(function(){var e,t={},s=i.user;s&&r(s.candidates)||(this.each(function(s){t[s]=!0,i.devices[s]||(e=!0,i.devices.set(this._name,this))}),i.devices.each(function(i){t[i]||(e=!0,this.remove())}))}),i._name="chromecast",i.init=function(e){if(this._init=!0,window.GoogleCast)window.GoogleCast.startScanForDevices(e);else if(h.cast&&h.cast.SessionRequest){var t,s;l["native"]?(s=[],t=function(){var e=h.cast.getRouteListElement().innerHTML;if(e){for(var t=e.split("><"),r=[],n=t.length-1;n>=0;n--){var o=t[n].split('"'),a=o[3];~s.indexOf(a)||i.dispatchEvent(v,{id:a,friendlyName:o[4].split("</li>")[0].substring(1)}),r.push(a)}for(n=s.length-1;n>=0;n--)a=s[n],~r.indexOf(a)||i.dispatchEvent(f,{id:a});s=r}}):t=function(e){"available"===e?i.dispatchEvent(v):i.dispatchEvent(f)};var r=[h.cast.Capability.VIDEO_OUT,h.cast.Capability.AUDIO_OUT],n=h.cast.timeout.requestSession,o=new h.cast.SessionRequest(e,r,n),a=function(e){i.session=e,i.val=e.sessionId},c=h.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED,u=h.cast.DefaultActionPolicy.CREATE_SESSION,d=new h.cast.ApiConfig(o,a,t,c,u);h.cast.initialize(d,function(){},function(e){console.error("CHROMECAST cast:onError: "+JSON.stringify(e))})}},i.connect=function(e,t){var i=e.castid.val,s=function(e){console.log("CHROMECAST connect success!",e),t&&t(null,e)},r=function(e){console.log("CHROMECAST connect error!",e),t&&t(e)};if(window.GoogleCast)window.GoogleCast.connectToDevice(i,s);else if(l["native"]){try{h.cast._emitConnecting()}catch(n){console.error("CHROMECAST Error in _emitConnecting "+n)}try{cordova.exec(s,r,"Chromecast","selectRoute",[i])}catch(n){console.error("CHROMECAST cordova.exec crash",n)}}else h.cast&&h.cast.requestSession(s,r)},i.dispatchEvent=function(e,t){var s=t?t.id:"unknown",r=s.split(".").join("_").split("/").join(""),n=t&&t.friendlyName?t.friendlyName:s,o={};"unknown"===n&&(n="Chromecast"),"deviceDidComeOnline"===e?(o[r]={title:n,device:"chromecast",cast:"chrome",castid:s},i.available.val=o):"deviceDidGoOffline"===e&&i.available[s]&&(o[s]=null,i.available.val=o)},window.GoogleCast&&(window.GoogleCast.dispatchEvent=function(e,t){i.dispatchEvent(e,t)})},{"old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/app/user/multiscreen/cast/index.js":[function(e,t,i){function s(e){e=r(e);var t;return e.each(function(){return t="chromecast"===this.from.device.val}),t}function r(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var n=e("old-vigour-js/util"),o=e("./chrome");i.extend=n.extend(function(e){o.user=e,e.extend({cast:{type:!1,val:{}}}),e.cast.chrome=o,e.candidates.on(function(){n.disjoin(o.devices,e.candidates,"device"),s(e.candidates)||o.available.each(function(e){o.devices[e]||(didset=!0,o.devices.set(e,this))}),e.devices._val._update()}),o.available.on(function(){n.disjoin(o.devices,e.candidates,"device")}),e.devices._val.$sources.push(o.devices)})},{"./chrome":"/Users/ricksmit/dev/vigour-js/app/user/multiscreen/cast/chrome/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/app/user/multiscreen/index.js":[function(e,t,i){function s(){this.clients.update()}function r(){var e=this,t=e.data._val,i=t.get("clients"),r=e.clients._val;e.clients=i,i.addListener([s,e],!0),r&&r.removeListener(s,e);var n=e.candidates&&e.candidates._val,o=e.candidates=new w(i,{condition:{device:{$contains:"(desktop)|(tv)|(cast)|(tablet)|(airplay)"},key:{$exists:!0,$ne:this.cloud.clientid}}});o.on(function(){e.candidates.update()}),n&&n.remove();var a=e.siblings&&e.siblings._val,l=e.siblings=new w(i,{condition:{key:{$exists:!0,$ne:this.cloud.clientid}}});l.on(function(){e.siblings.update()}),a&&a.remove()}function n(e){var t=this;S&&(S.removeListener(a,t),S=null),A&&(A.removeListener(l,t),A=null);var i=t.data._val;t.activeClient=i.get("activeClient",{}),t.activeClient.$userOrigin=t.cloud.client.from}function o(){var e=this;A&&(A.removeListener(l,e),A=null);var t=e.data._val,i=t.get("activeClient",{});if(S&&S.removeListener(a,e),S=i,S.addListener([a,e],!0),e.activeClient=i,b.tv){var s=i.from;s&&"activeClient"!==s._name?e.activeClient.update():e.activeClient.$userOrigin=e.cloud.client.from}else b.chromecast?e.activeClient.update():e.activeClient.$userOrigin=e.cloud.client.from;e.hasCandidates.val&&g(e)}function a(e,t,i,s,r){var n=this;e._removed&&(A&&A.removeListener(l,n),A=e._parent,A.addListener([l,n],!0))}function l(e,t,i,s,r,n){var o=this,c=e;c.activeClient&&(A.removeListener(l,o),A=null,S=c.activeClient,S.addListener([a,o],!0),o.activeClient=c.activeClient)}function c(){var e=this;E&&E.removeListener(p,e),O&&O.removeListener(d,e);var t=e.data._val;e.receiverClient=t.get("receiverClient",!1)}function u(){var e=this;E&&(E.removeListener(p,e),E=null);var t=e.data._val,i=t.get("receiverClient",{});if(O&&O.removeListener(d,e),O=i,O.addListener([d,e],!0),e.receiverClient=i,b.tv){var s=e.activeClient.from;s&&2===s.__t&&s!==e.cloud.client.from&&!e.hasReceiver.val&&e.setReceiver(e.cloud.client.from)}else b.chromecast&&e.setReceiver(e.cloud.client.from)}function d(e,t,i,s,r){var n=this;e._removed&&(E&&E.removeListener(p,n),E=e._parent,E.addListener([p,n],!0))}function p(e,t,i,s,r,n){var o=this,a=e;a.receiverClient&&(E.removeListener(p,o),E=null,O=a.receiverClient,O.addListener([d,o],!0),o.receiverClient=a.receiverClient)}function v(){var e=this;h(e)}function f(){var e=this;h(e)}function h(e){var t=e.data._val,i=t.get("receiver",{});e.receiver={volume:i.get("volume",1),media:i.get("media",!1),playing:i.get("playing",!1)}}function m(e,t){for(;t&&4===t.__t&&!t._filter;)t=t._val;if(!t)return console.error("could not determine list to select from");var i;return t.each(function(){var t=this._val;if(!t||t._removed||!t.device)return console.error("bad client","path:",t&&t._path,"client:",t&&t.raw||t);if(t!==e.activeClient.from){var s=t.device.val;if(C.test(s)&&(!t.token||t.token.val===e.token.val))return i=t,T.test(s)?!0:void 0}}),i}function g(e){e.candidates._val.each(function(){var t=this.from;"tv"!==t.device.val||t.token&&t.token.val||(t.set("token",e.token.val),e.hasReceiver.val||e.setReceiver(t))})}var y=e("old-vigour-js/util"),b=(e("old-vigour-js/value"),e("old-vigour-js/browser/cases")),w=e("old-vigour-js/data").inject(e("old-vigour-js/data/selection")),j=e("old-vigour-js/object/compound"),k=e("old-vigour-js/browser/events"),_=e("old-vigour-js/browser/ua"),x=e("old-vigour-js/browser/animation/raf"),U=e("old-vigour-js/object");U.inject(e("old-vigour-js/value/length"));var C=/(desktop)|(tv)|(cast)|(tablet)|(airplay)/i;b.$isCandidate=C.test(_.device);var T=/(tv)|(cast)|(airplay)/i;e("old-vigour-js/value/flags/process"),i.extend=y.extend(function(t){var i=t.parent.inject(e("../../content")).content;if(i.on("self",function(){t.token.val&&t.receiver.media.val&&t.receiver.media.from!==t.receiver.media&&t.receiver.media.from!==i.get(t.receiver.media.from._contentPath)&&(t.receiver.media.$userOrigin=i.get(t.receiver.media.from._contentPath))}),t.extend({receiver:{mock:{receiver:{volume:1,media:!1,playing:!1}},subscription:{receiver:{volume:!0,playing:!0,media:{$:!0}}},on:{mock:v,user:f}},clients:{subscription:{clients:{$:{$:!0}}},on:{mock:r,user:r}},candidates:{val:{}},siblings:{val:{}},receiverClient:{val:{},on:{mock:c,user:u},subscription:{receiverClient:{$:!0}}},activeClient:{val:{},mock:{activeClient:!0},subscription:{activeClient:{$:!0}},on:{mock:n,user:o}}}),t.extend({devices:{val:new j(t.siblings)}}),t.extend({hasReceiver:{val:{val:t.receiverClient,transform:function(e,i){var s=t.receiverClient.from;return s&&!s._removed&&s.cloud&&"clients"===s._path[0]||0}}},isReceiver:{val:{defer:function(e,i){var s=i[2]||this._updateOrigin;if(!s||!s._prop&&"receiverClient"!==s._name)return!0;var r=i[1];"cleanup"!==r&&(t._handleOldIsReceiver&&(!t._wasReceiver||t.hasReceiver.val||t.isActive.val||t.setReceiver(t.cloud.client.from),t._handleOldIsReceiver=null),this.clearCache(),t._wasReceiver=this.val),e()},val:t.receiverClient,transform:function(e,i){var s=t.receiverClient.from;return s&&!s._removed&&s.cloud&&s===t.cloud.client.from||0}}},hasCandidates:{val:{val:t.candidates.$length,$convertType:"boolean"}},hasDevices:{val:{val:t.devices.$length,$convertType:"boolean"}},isActive:{val:{defer:function(e,i){var s=i[2]||this._updateOrigin;s&&(s._prop||"activeClient"===s._name)||e(!0);var r=i[1];r&&"cleanup"!==r&&(t._handleOldIsActive&&(!t._wasActive||t.activeClient.$userOrigin&&t.activeClient.$userOrigin._val||(t.activeClient.$userOrigin=t.cloud.client._val),t._handleOldIsActive=null),this.clearCache(),t._wasActive=this.val),e()},val:t.activeClient,transform:function(e,i){var s=t.activeClient.from;return s&&s.val===!0||s===t.cloud.client.from||0}}},setReceiver:{type:!1,val:function(e){var t=this;if(e=e.from){var i=e.cast&&e.cast.val;i?t.cast[i].setReceiver(e):(e.set("token",t.token.val),t.receiverClient.$userOrigin=e)}}}}),!b.chromecast){var s=b.tv?"keydown":"down";k.document.addEvent(s,function(){!t.cloud.client._val||b.$isFullscreen&&b.$isFullscreen.val||(t.activeClient.$userOrigin=t.cloud.client.from)})}t.cloud.on("welcome",function(){t.cloud._status>2&&(t._handleOldIsActive=!0,t._handleOldIsReceiver=!0,t.cloud.data.once(function(){t.isActive.update(),t.isReceiver.update()}))}),t.isActive.on(!0,function(){var e=t.isReceiver.val;if(t.hasCandidates.val){if(e||!t.hasReceiver.val){var i=m(t,t.candidates);i?x(function(){t.setReceiver(i)}):e&&(t.receiverClient.$userOrigin=null)}}else e&&(t.receiverClient.$userOrigin=null)}),b.$isCandidate&&t.hasReceiver.on(0,function(e,i,s){i===t.cloud.stamp&&(t.isActive.val||x(function(){var e=m(t,t.clients);e===t.cloud.client.from&&t.setReceiver(e)}))}),t.iplogin.val||t.candidates.on(function(e,i,s,r,n){t.hasCandidates.val&&t.isActive.val&&t.initialised&&g(t)}),b.$isActive=t.isActive,b.$hasDevices=t.hasDevices,b.$hasReceiver=t.hasReceiver,b.$isReceiver=t.isReceiver});var S,A,E,O},{"../../content":"/Users/ricksmit/dev/vigour-js/app/content.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/browser/events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js","old-vigour-js/browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/data/selection":"/Users/ricksmit/dev/vigour-js/data/selection.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/object/compound":"/Users/ricksmit/dev/vigour-js/object/compound.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js","old-vigour-js/value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js","old-vigour-js/value/length":"/Users/ricksmit/dev/vigour-js/value/length.js"}],"/Users/ricksmit/dev/vigour-js/app/user/navigation.js":[function(e,t,i){var s=e("old-vigour-js/util"),r=e("old-vigour-js/object");e("./mockdata");e("old-vigour-js/value/flags/process"),i.extend=s.extend(function(t){function i(e){e._lastupdate&&e.navigation.last&&e.navigation.last.from!==e.navigation.last&&(e.navigation.last.from.removeListener(e._lastupdate),e._lastupdate=null)}function s(e,t){t[1]&&"l"===t[1][0]&&this._name===this._parent.last.from.key.val?(this.clearCache(),e()):e(!0)}var n=t.parent.inject(e("../content")).content;n.on("self",function(){var e=t.navigation,i=this,s=e.media.from,r=e.season.from,n=e.show.from;s._contentPath&&(e.media.$userOrigin.val=i.from.get(s._contentPath)),r._contentPath&&(e.season.$userOrigin.val=i.from.get(r._contentPath)),n._contentPath&&(e.show.$userOrigin.val=i.from.get(n._contentPath))}),t.define({updateNavigation:function(e){return this.navigation.last&&this.navigation.last.$userOrigin&&(e=e||this.navigation.last.$userOrigin.get("key").val,"string"==typeof e)?void this.navigation[e]._update(this.navigation[e]._val._val,"l"+Math.floor(9999*Math.random())):void(this.navigation.page.$userOrigin="discover")}}),t.extend({navigation:{mock:{navigation:{show:!1,page:!1,media:!1,season:!1,last:{key:"page",time:0}}},subscription:{navigation:{show:!0,media:!0,season:!0,page:!0,last:{key:!0,time:!0}}},val:{page:{defer:s},show:{defer:s,val:!1},season:{defer:s,val:!1},media:{defer:s,val:!1}},on:{user:function(e){i(this),this.navigation={last:this.data._val.get([e,"last"])},this.__first=!0;var t=this.navigation,s=this.data.$userOrigin;this._lastupdate=function(e,i,s){this.key&&t[this.key.val]&&t[this.key.val].$userOrigin._update(void 0,"l"+i)},t.last.from.on(this._lastupdate),this.navigation={page:s.get([e,"page"],"discover"),show:s.get([e,"show"]),season:s.get([e,"season"]),media:s.get([e,"media"])},t.last.from.key?t.last.from._update(void 0,r.stamp()):t.last.from.key||(t.page.$userOrigin="discover")},mock:function(){i(this);var e=this.navigation,t=this.mockdata.navigation,s={page:t.page,show:t.show,season:t.season,media:t.media};this.navigation={last:t.last},this.__first&&(t.page.val="discover"),this._lastupdate=function(t,i,s){e[this.key.val]&&e[this.key.val].$userOrigin._update(void 0,"l"+i)},e.last.from.on(this._lastupdate),this.navigation=s}}}})})},{"../content":"/Users/ricksmit/dev/vigour-js/app/content.js","./mockdata":"/Users/ricksmit/dev/vigour-js/app/user/mockdata.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/vigour-js/app/user/origin.js":[function(e,t,i){var s=e("../../util"),r=e("./mockdata"),n=e("monotonic-timestamp");i.extend=s.extend(function(e){var t=e.set,i=function(t){for(var i,s,n=t;n&&!n._removed&&n instanceof e;){if(n._parent&&n._parent._prop&&"navigation"===n._parent._prop.name&&(i=n),n.cloud&&"users"===n._path[0]||n instanceof r)return[n,i];s=n,n=n._val}var o=s&&!s._removed&&s!==t?s:!1;return[o,i]};s.define(e,"$userOrigin",{set:function(e){var s=i(this),r=s[0],o=s[1];if(!r){var a=this._prop&&this._prop.name;if(a){var l=this._caller,c=l.data._val;r=c.get(a,{}),this.val=r}}if(!r)throw new Error("cannot find correct $userOrigin for "+(this._name||this._prop&&"propety "+this._prop.name));t.call(r,e),o&&o._name&&(o._parent.last.from.val={time:n(),key:o._name})},get:function(){return i(this)[0]}})})},{"../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./mockdata":"/Users/ricksmit/dev/vigour-js/app/user/mockdata.js","monotonic-timestamp":"/Users/ricksmit/dev/vigour-js/node_modules/monotonic-timestamp/index.js"}],"/Users/ricksmit/dev/vigour-js/app/user/set.js":[function(e,t,i){var s=e("../../util"),r=(e("./"),e("../../object"));i.extend=s.extend(function(e){function t(e){this[e]=this.data.$userOrigin.get(e,this[e]._prop.$default)}function i(e){this[e]=this.mockdata[e]}e.define({_set:function(e,s){if(this[s]instanceof r&&(this[s].val=e[s]),"function"==typeof this[s])e[s]instanceof Array?this[s].apply(this,e[s]):this[s](e[s]);else if(this.isProperty(s,e))this[s]=e[s];else if(this[s])this[s]=e[s];else{var n={};n[s]=e[s];var o={};o[s]=!0,this.extend({name:s,mock:n,$default:e[s],subscription:o,on:{mock:i,user:t}})}}})})},{"../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/app/user/index.js"}],"/Users/ricksmit/dev/vigour-js/app/user/token.js":[function(e,t,i){var s=e("../../util"),r=e("../../value"),n=e("../../browser/cases");e("../../value/flags/process"),i.extend=s.extend(function(e){e.define({updateId:function(e){this.id=e instanceof Array?e[e.length-1]:e},authenticate:function(e,t,i,s){var r=this,n=r.cloud;if(n.params.fastLogin&&"undefined"!=typeof localStorage){var o=localStorage.getItem("userId");o&&(t.id=o)}n.authenticate(t,function(t){if(t.error&&"undefined"!=typeof localStorage&&localStorage.removeItem("userId"),e.clearCache(),i!==e.val,t.error||!e.val)e.val=!1,r.id=!1,s(),t.error?console.error("authenticate error:",t.error):r.iplogin&&r.iplogin.val||(r.cloud.emit("logout",t),"undefined"!=typeof localStorage&&localStorage.removeItem("userId"));else{if(e.val!==!0&&r.updateId(t),n.params.fastLogin&&"undefined"!=typeof localStorage){var o;o=t instanceof Array?t[t.length-1]:t,localStorage.setItem("userId",o)}r.iplogin&&r.iplogin.val,s()}})}}),e.extend({iplogin:{val:n.tv||n.chromecast},token:{subscription:{token:!0},val:{transform:function(e,t){return t instanceof Object?!1:t},defer:function(e,t,i){if(t[0]&&t[0].defer)return!0;var s=this,r=s._caller;r.cloud.connected.is(!0,function(){var t=s.val,i=r.id&&r.id.val,n=r.iplogin&&r.iplogin.val;if(s.clearCache(),i&&!n){r.cloud.logout(i);"undefined"!=typeof localStorage&&localStorage.removeItem("userId")}if(t){var o=r.cloud.api.get("auth");if(!o)throw new Error("could not determine auth url (got: "+o+")");var a={url:r.cloud.api.auth.val,subs:r.subscriptions,token:t},l=r.__authenticated__;if(n)if(t===!0&&delete a.token,a.tv=!0,l){var c,u=r.cloud.data.get("users");u.each(function(e){var t=this;t.token&&t.token.val===s.val?c=t._name:(t.receiverClient&&t.receiverClient.from===r.cloud.client.from&&(t.receiverClient.$userOrigin=null),t.activeClient&&t.activeClient.from===r.cloud.client.from&&(t.activeClient.$userOrigin=null))}),c?r.id=c:r.id=!1,e()}else r._authrequest=a,r.authenticate(s,a,t,e),r.__authenticated__=!0;else r._authrequest=a,r.authenticate(s,a,t,e)}else r.id=!1,e()})}}},localStorageToken:{val:{defer:function(e,t){var i=this._caller;if(i._readLocalStorage||"string"!=typeof this.val)e(!0);else{i._readLocalStorage=this.val;var s=localStorage.getItem(i._readLocalStorage);s&&"true"!==s&&(i.token=s),i.token.on(function(){var e=this.val;"string"==typeof e?localStorage.setItem(i._readLocalStorage,e):localStorage.removeItem(i._readLocalStorage)}),e()}}}}}),e.cases.$isLoggedIn=new r({val:e.token,transform:function(e,t){return t===!0?0:void 0}});var t=e.cloud.client;t.on(function(i,s,r){if(origin=r||this._updateOrigin,s===e.cloud.stamp){var n=t.from;n.token&&(e.token.val=e._authrequest.token=n.token.val)}}),e.token._name="token"})},{"../../browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value":"/Users/ricksmit/dev/vigour-js/value/index.js","../../value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/vigour-js/app/user/type.js":[function(e,t,i){var s=(e("../../base"),e("../../value")),r=e("../../object").set;e("../../util");t.exports={type:s,create:function(e,t,i,n){var o=new s;return o._base=this,o._caller=o._base,o._prop=i,r.call(o,e,!1,!1,!0),this._class&&(this._class.prototype._[i.name]=o),i&&(i._vset||(i.mock&&(this.mockdata=i.mock),i.subscription&&(this.subscriptions=i.subscription),i.on&&("function"==typeof i.on?(this.on.mock[i.name]=i.on,this.on.user[i.name]=i.on):(i.on.mock&&!this.on.mock[i.name]&&(this.on.mock[i.name]=i.on.mock),i.on.user&&!this.on.user[i.name]&&(this.on.user[i.name]=i.on.user))),i._vset=function(e,t,s,r){var n=this._caller||this._base||this;i.set&&i.set.call(n,this,e,t,s,r)}),n||o._update(e)),o},set:function(e,t,i){return this._caller=this,e},get:function(e,t){return e&&(e._caller=this),t.get?t.get.call(this,e):e}}},{"../../base":"/Users/ricksmit/dev/vigour-js/base/index.js","../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/app/user/url.js":[function(e,t,i){var s=e("old-vigour-js/util");e("old-vigour-js/value/flags/process"),i.extend=s.extend(function(e){e.extend({url:function(e){if(!e.urlset&&4===e.__t){e.urlset=!0;var t=this;t.navigation.page.on(function(i){e.from.val=t.navigation.page.val}),t.navigation.show.on(function(i){e.from.val=t.$parse(this).url}),t.navigation.media.on(function(){e.from.val=t.$parse(this).url}),e.from.on(function(){t.$execUrl()})}}}),e.define({$execUrl:function(e){var t,i,s,r,n,o=this,a=o.url.from.string.val,l=o.navigation,c=o.parent.content;a&&"$tv"!==a||(a=e),~a.indexOf("/")?0===a.indexOf("shows")?(t=a.split("/"),i=Number(t[1].split("-")[0]),t[2]&&(s=Number(t[2])),t[3]&&(r=Number(t[3].split("-")[0])),i&&(i=c.from.get(["shows",i]),l.show.$userOrigin=i),r&&(r=c.from.get(l.show.from._path.slice(3).concat(["seasons",String(s-1),"episodes",String(r-1)])),l.media.$userOrigin=r)):0===a.indexOf("channels")&&(t=a.split("/"),n=Number(t[1].split("-")[0]),l.page.$userOrigin="channels"):l.page.$userOrigin=a},$parse:function(e){var t=e.from._parent&&e.from._parent._name,i={};return e.from&&(i.title=e.from.get("title",!1).val,"episodes"===t&&(i.season=Number(e.from._parent._parent._name)+1,i.media=Number(e.from._name)+1,i.show=e.from._parent._parent._parent._parent),t&&this.urlMap[t]&&(i.url=this.urlMap[t](e,i))),i},urlMap:{value:{episodes:function(e,t){var i=t.title,s=this.shows(t.show)+"/"+t.season+"/"+t.media;return i&&(s+="-"+i),s&&s.replace(/ /g,"+").replace("?","")},shows:function(e,t){var i=t?t.title:e.get("title",!1).val,s=e.from._name,r="shows/"+s;return i&&(r+="-"+i),r&&r.replace(/ /g,"+").replace("?","")}}}})})},{"old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/vigour-js/app/user/usage.js":[function(e,t,i){function s(e){e.watched.from.each(function(){var t=this.media&&this.media.from;if(t){var i=e.parent.content.from._path.concat(t._contentPath),s=t._path;n.compareArrays(s,i)||(console.log("resolve",s,i),this.media.val=e.parent.content.get(i))}})}function r(e,t){var i=e._parent._val;return i&&i.$length.val>0?!0:0}var n=e("old-vigour-js/util"),o=(e("old-vigour-js/object"),e("./mockdata"),e("old-vigour-js/browser/cases")),a=e("old-vigour-js/data").inject(e("old-vigour-js/data/selection"));e("old-vigour-js/value/flags/process"),i.extend=n.extend(function(t){var i=t.parent.inject(e("../content")).content;t.extend({usage:{mock:{usage:{}},subscription:{usage:{shows:{$:{media:{$:!0},favourite:!0,timestamp:!0}}}},on:{mock:function(){this.usage=this.mockdata.usage},user:function(){this.usage=this.data.from.get("usage",{})}}},watched:{on:{mock:function(){this.__watched&&(this.__watched.remove(),this.__watched=null),this.watched&&this.watched.$empty(),this.watched={}},user:function(){var e=this;this.__watched&&(this.__watched.remove(),this.__watched=null);var t=this.__watched=new a(e.usage.from.get("shows"),{condition:{media:{title:{$exists:!0}}}});e.watched={},t.on(function(){var s={};t.each(function(t){var r=i.get(this._path.slice(-2)),o={};n.path(o,r._path,{img:!0,title:!0});var a=e.parent.cloud;a.subscribe(o),e.watched.set(this._name,{show:r,media:this.media.from}),e.watched[this._name].once("remove",function(){a.unsubscribe(o)}),s[this._name]=!0}),e.watched.each(function(t){s[t]||e.watched&&this.remove()}),s=!1,e.watched.update()}),t._update()}}},favourites:{on:{mock:function(){this.__favourites&&(this.__favourites.remove(),this.__favourites=null),this.favourites&&this.favourites.$empty(),this.favourites={}},user:function(){var e=this;e.__favourites&&(e.__favourites.remove(),e.__favourites=null),this.favourites.$empty();var t=e.__favourites=new a(e.usage.from.get("shows"),{condition:{favourite:!0}});e.favourites={},t.on(function(){var s={};t.each(function(t){var r=i.get(this._path.slice(-2));e.favourites.set(this._name,r),s[this._name]=!0}),e.favourites.each(function(e){s[e]||this.remove()}),s=!1,e.favourites.update()}),t._update()}}}}),t.extend({hasWatched:{val:{val:t.watched,transform:r}},hasFavourites:{val:{val:t.favourites,transform:r}}});i._val;i.on("self",function(){t.token.val?(s(t),t.favourites._prop.on.user.call(t),t.watched._prop.on.user.call(t)):(s(t),t.favourites._prop.on.mock.call(t),t.watched._prop.on.user.call(t))}),o.$hasFavourites=t.hasFavourites,o.$hasWatched=t.hasWatched})},{"../content":"/Users/ricksmit/dev/vigour-js/app/content.js","./mockdata":"/Users/ricksmit/dev/vigour-js/app/user/mockdata.js","old-vigour-js/browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","old-vigour-js/data":"/Users/ricksmit/dev/vigour-js/data/index.js","old-vigour-js/data/selection":"/Users/ricksmit/dev/vigour-js/data/selection.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/vigour-js/app/values.js":[function(e,t,i){var s=e("../util/config"),r=s.languages,n=e("../util"),o=e("../value"),a=e("../browser/network/url"),l=e("../browser/ua");e("../value/flags/process"),i.extend=n.extend(function(e){var t=e.cases||(e.cases=equire("../browser/cases"));e.initialised=new o(!1),e.overlay=new o(!1),e.focusState=new o("menu"),e.region=new o({init:e.initialised}),e.url="tv"===l.device&&"lg"===l.platform?new o({defer:function(){},params:{},string:""}):a,e.ready=new o,e.menu=new o({init:e.ready}),e.network=new o,e.loading=new o({init:e.ready,defer:function(e,t){var i=this.updatePath.join(".");t[0]===!1&&(i&&i===this.id||!this.id)?(this.val=t[0],this.id=!1):t[0]===!0&&(this.id=i,this.val=!0),e()}});var i=e.guessLanguage=function(){var t=window.navigator.userLanguage||window.navigator.language,i=t&&t[1]?t:e.region.val;return i?(i=i.slice(0,2).toLowerCase(),"nb"===i&&(i="no"),"da"===i&&(i="dk"),r&&n.checkArray(r,i)===!1&&(i="en"),i):"en"};e.language=new o({transform:function(e,t){return t&&"string"==typeof t||(t=i()),t?t.slice(0,2).toLowerCase():!1},init:e.initialised}),e.fullscreen=new o({force:!0}),e.loader=new o,e.volume=new o({val:1,transform:function(e,t){return isNaN(t)?1:t}}),e.popup=new o({init:e.ready}),e.state=new o({init:e.ready}),e.notification=new o({init:e.ready,force:!0}),e.playing=new o({init:e.ready,val:!1}),e.restrictPlayback=new o,e.wifiOnly=new o(localStorage?{val:localStorage.getItem("wifiOnly")||!1,defer:function(e){this._val?localStorage.setItem("wifiOnly",!0):localStorage.removeItem("wifiOnly"),e()}}:!1),e.restrictPlayback.val={val:e.wifiOnly,transform:function(e,i){return!(!i||!t["native"]||"wifi"===api.network.val)}},t.$playing=e.playing,t.$storeAvailable=new o(t["native"]&&(t.ios||t.android||t.windowsMobile))})},{"../browser/network/url":"/Users/ricksmit/dev/vigour-js/browser/network/url.js","../browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","../value":"/Users/ricksmit/dev/vigour-js/value/index.js","../value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/vigour-js/base/index.js":[function(e,t,i){var s=e("../"),r=e("../util"),n=e("../util/inject"),o=s.Base=t.exports=i=function(e){this._from=this.constructor,e&&this.set(e)};i.settings=e("./settings");var a=i.set=function(e,t,i){for(var s in e)if(~s.indexOf(",")){for(var n=s.split(","),o={},l=0,c=n.length;c>l;l++)o[n[l]]=r.clone(e[s]);if(i){delete e[s];for(var u in o)e[u]=o[u]}else a.call(this,o,t,i)}else s=r.dotField(e,s),this._set&&!i?this._set.call(this,e,s,t):this[s]=e[s];return i?e:this};r.define(o,"isProperty",function(e,t){var i=this,s=!(void 0===i._[e]&&!r.lookup.call(i,e)&&"function"!=typeof i[e]);return s},"defaultType",!1,"extensions",!1,"define",function(e){for(var t in e)r.define(this,t,e[t]),r.define(this.Class,t,e[t])},"extend",function(e){var t,s=r.arg(arguments),n=s.length;if(n>1)for(t=0;n>t;this.extend(s[t++]));else if(e.name)if(e===!0&&alert(),e.def||0===e.def||(e.def=!1),this.Class.prototype._settings&&(i.settings.parse.call(this,e),e._settings&&i.settings.create.call(this,e)),e.type===!1||!e.type&&!this.defaultType)r.define(this.Class,e.name,e);else{e.type||(e.type=this.defaultType);
var o=function(t){return e.type.get?e.type.get.call(this,t,e):t},a=function(t){var i=this[e.name];if(null!==i)return i===e.def?e.type.create.call(this,t,i,e):(t=e.type.set.call(this,t,i,e),void(null!==t&&(i.val=t)))};r.define(this,e.name,e.def,a,o,!0),r.define(this.Class,e.name,e.def,a,o)}else for(t in e)"function"==typeof e[t]?this.extend({name:t,set:e[t]}):(e[t].name=t,this.extend(e[t]))},"remove",function(e,t,i){if(this._from){if(this.setting("remove",[i]),!t){var r=this._from.base.instances;if(r){var n=0;for(r.length;r[n]!==this||!r.splice(n,1);n++);}}for(var o in this.__)this.__[o]instanceof s.Object?(this.__[o].remove(!1,!1,!1,!1,!1,!0),this.__[o]=null):this.__[o]=null;if(this.__=null,e&&this.instances)for(a=this.instances.length-1;a>=0;this.instances[a--].remove(!0,!0));for(var a in this)this[a]=null;this._settings=null,this._=null,delete this._settings,delete this._,delete this.__}},"set",a,"get",function(e,t){return r.get(this,e,t)},"inject",n,"eachInstance",function(e,t,i,s){var r=this.instances;if(r)for(var n,o=0,a=r.length;a>o;o++)if(n=r[o],!n||t&&n.__&&n.__[t])n||console.error("\n\n\n\ninstance in base gone?",o,r);else{if(e.call(n,i,s))return!0;if(n.eachInstance(e,t,i))return!0}},"Class",{get:function(){if(!this._class){this.instances=[],this._class=function(e,t,i){if(!t){var s=this._from.base;s.instances.push(this),this.setting&&this.setting("new",[s,i]),e&&this.set(e)}},this._class.base=this,this._class.prototype=new this._from(!1,!0),this._class.prototype.__=null,r.setstore.call(this);var e,t=this._class.prototype._={};for(e in this.__)t[e]=this.__[e];for(e in this._)void 0===t[e]&&(t[e]=this._[e]);this._class.prototype._from=this._class,this._class.inject=n}return this._class}})},{"../":"/Users/ricksmit/dev/vigour-js/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../util/inject":"/Users/ricksmit/dev/vigour-js/util/inject.js","./settings":"/Users/ricksmit/dev/vigour-js/base/settings.js"}],"/Users/ricksmit/dev/vigour-js/base/settings.js":[function(e,t,i){var s=e("./"),r=e("../util");r.define(s,"_settings"),s.prototype._._settings={};var n=function(e,t,i){var s,o,a,l=e._settings,c=this,u=c._._settings;if(r.setstore.call(c),!c.__._settings){c.__._settings={};for(var d in u)c._settings[d]=u[d]}a=c.__._settings;for(o in l)if(s=l[o],t&&a[s][e.name]||!t&&!a[s][e.name]||i){if(a[s]===u[s]){a[s]={};for(var p in u[s])a[s][p]=u[s][p]}t?(this.eachInstance(function(){this[e.name]!==c[e.name]?this._setting!==a&&this._settings[s]===a[s]&&n.call(this,a[s][e.name],!1,!0):this._setting!==a&&this._settings[s]!==a[s]&&this.removeSetting(e.name,s)}),a[s][e.name]=null,delete a[s][e.name],r.empty(a[s])&&(a[s]=!0)):(a[s]===!0&&(a[s]={}),a[s][e.name]=e)}};i.create=function(e){e._set=e.set,e.set=function(t,i){n.call(this,e),e._set.apply(this,arguments)}},i.parse=function(e,t){t||(t=this._settings);for(var i in t)e[i]&&(e._settings||(e._settings=[]),e._settings.push(i))},i.add=function(e,t){if(e instanceof Array)for(var i in e)t?this.add(e[i],t):this.addSetting(e[i],!1);else if(t)t.prototype._settings[e]=!0;else{r.setstore.call(this),this.__._settings||(this.__._settings={});for(var s in this._._settings)this._settings[s]=this._._settings[s];this._settings[e]=!0}},r.define(s,"addSetting",function(e){i.add.call(this,e),this._class&&(this._class.prototype._._settings=this._settings)},"setSetting",function(e){i.parse.call(this,e),n.call(this,e)},"removeSetting",function(e,t){t instanceof Array||(t=[t]);for(var i,s=t.length-1,r=this._settings;s>=0;s--)if(r&&r[t[s]]&&r[t[s]][e]){i=!0;break}i&&n.call(this,{name:e,_settings:t},!0)},"setting",function(e,t){var i=this._settings;if(i&&i[e]&&i[e]!==!0)for(var s in i[e])i[e][s][e].apply(this,t)}),i.add(["new","remove"],s)},{"../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/base/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/animation/easing.js":[function(e,t,i){var s=e("./");s.easing=i,i.inCubic=function(e,t,i,s){return i*(e/=s)*e*e+t},i.outCubic=function(e,t,i,s){return i*((e=e/s-1)*e*e+1)+t},i.outBack=function(e,t,i,s,r){var r=1.70158;return i*((e=e/s-1)*e*((r+1)*e+r)+1)+t}},{"./":"/Users/ricksmit/dev/vigour-js/browser/animation/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/animation/frame.js":[function(e,t,i){var s=e("../../value"),r=new s(1),n=e("../../util"),o=function(){i.rafId=window.requestAnimationFrame(o),r.val++};r.done=new s(!0),n.define(r,"addListener",function(e,t,i){this._listeners||(this.done.val=!1,o()),s.prototype.addListener.call(this,e,t,i)},"removeListener",function(e,t,r){var n=this;s.prototype.removeListener.call(n,e,t,r),this._listeners||(window.cancelAnimationFrame(i.rafId),this.val=1,this.done.val=!0)}),t.exports=r},{"../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/animation/index.js":[function(e,t,i){function s(e){this._p=!0,this.val=e,this._p=!1}var r=(e("../element").inject(e("../element/properties")),e("../../object")),n=(e("../../util"),e("../../value/flags/util")),o=e("../../value/operators"),a=e("./frame"),l=function(e,t,i,s){return i*e/s+t};o._a=function(e,t){return t},o._a.order=2,n.animation={set:function(e){var t=this,n=t.checkParent("_prop");if(e){t._val||(t.val=0);var o,c,u=n._prop.name,d=n._caller,p=e.noListener,v=t._path,f=u.concat(v.join("")),h=e.skip,m=e.easing&&i.easing[e.easing]||e.easing||l;if(n._animListen||(n._animListen=function(e){var t=this[u];if(t)t.update(this,!0);else{var i=a._listeners&&a._listeners.length;console.log("_animListen setting",a._listeners&&a._listeners.length),a.removeListener(void 0,this),console.log(">> _animListen setting",a._listeners&&a._listeners.length),i&&i===(a._listeners&&a._listeners.length)&&console.error("this >>",this)}}),d.setSetting({name:"animation",remove:function(){var e=a._listeners&&a._listeners.length;if(a.removeListener(void 0,this),a._listeners&&e&&e===(a._listeners&&a._listeners.length))for(var t in a._listeners)a._listeners[t]instanceof Array&&(a._listeners[t][1]===this,a._listeners[t][1])}}),n.preventSet=s,n.set("translate",!0),t.set("_a",{time:e.time||60,val:function(s,l,d){var v,g=this,y=n,b=g[u];if(g._a||(g._a={}),!g._a[f]&&(c=void 0===e.start?g.rendered&&void 0!==t.__lval?t.__lval:l:e.start instanceof r?e.start.val:e.start,g._a[f]={_start:c,_end:c,_current:c,_count:0},!g.rendered))return c;if(g.rendered){if(h)return g._a[f]._current=l,h=!1,l;if(v=g._a[f],b._p||i.prevent)v._frame=0,a.removeListener(y._animListen,this,!0),1!==b._p&&(v._current=v._end=l,e.complete&&(p=e.complete.call(g,l)),e.done&&setTimeout(function(){e.done.call(g,l)},0),e.once&&setTimeout(function(){e.once&&e.once.call(g,l),e.once=null},0));else if(v._frame!==a.val){if(v._frame||void 0!==l&&v._current!==l){if(v._end!==l&&(e.init&&e.init.call(g,v._current),p||a.addListener([y._animListen,this,u],function(e,t){for(var i in t)if(t[i].pop&&t[i].pop&&t[i][1]===g&&t[i][2]===u)return!1;return!0}),v._start=v._current,v._end=l,v._count=0,o=~~s.time.val),v._frame=a.val,e.delay)return e.delay--,v._start;var w=++v._count;v._current=m.call(g,w,v._start,v._end-v._start,o||(o=~~s.time.val)),e[w]&&e[w].call(this,v._current,l)}v._count===o&&(v._current=l,v._frame=0,v._count=0,e.complete&&(p=e.complete.call(g,l)),e.done&&setTimeout(function(){e.done.call(g,l)},0),e.once&&setTimeout(function(){e.once&&e.once.call(g,l),e.once=null},0),p||a.removeListener(y._animListen,this,!0))}return v._current}}}),n._skip=!0,t._skip=!0,void 0!==e.start){var g=this._caller;g||(g=this.checkParent("_prop")._caller),g.setRender(u,function(e){this.update(u)})}}else t.remove("_a"),t._skip=void 0,n._skip=void 0,_remove(n)}}},{"../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value/flags/util":"/Users/ricksmit/dev/vigour-js/value/flags/util.js","../../value/operators":"/Users/ricksmit/dev/vigour-js/value/operators.js","../element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","../element/properties":"/Users/ricksmit/dev/vigour-js/browser/element/properties/index.js","./frame":"/Users/ricksmit/dev/vigour-js/browser/animation/frame.js"}],"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js":[function(e,t,i){var s=e("../ua"),r="equestAnimationFrame",n=e("../../util");lastFrame=0,n.define(s,"hasTransition",{get:function(){if(!s._hasTransition){var e=document.body||document.documentElement,t=e.style,i="ransition";s._hasTransition="string"==typeof t["t"+i]||"string"==typeof t[s.prefix+"T"+i]}return s._hasTransition}}),r="r"+r,(!window||window&&!window[r])&&(s.noRaf=!0,window[r]=function(e){return setTimeout(e,20)},window.cancelAnimationFrame=function(e){clearTimeout(e)}),t.exports=i=window[r],i.timer=function(e,t,s){i(--t?function(){s&&e(),i.timer(e,t,s)}:e)},i.repeat=function(e,t){i.timer(e,t,!0)}},{"../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/vigour-js/browser/cases/base.js":[function(e,t,i){var s=e("./"),r=(e("../element"),e("../element/set")),n=e("../../base"),o=e("../../util"),a=function(e,t,i,s){i||(e.css||(e.css=""),e.css.set(s?"removeClass":"addClass",t),e.css.update(e),e.eachInstance(function(){console.error("\n\n\ninstance! set css!!!!!",t,e.node),this.css.set(s?"removeClass":"addClass",t),this.css.update(this)}))},l=s.methods;r.remove=function(e,t,i,s){if(t&&t.__remove__)if(this[e]instanceof n)s[e]=!1;else{if(!o.lookup.call(this,e))return delete t[e],!0;delete t.__remove__}},r.cases=l.reader(function(e,t,i,r){var c,u,d,p,v,f=this,h=function(e){e=n.set(e,!1,!0);for(var t in e)o.isObj(e[t])&&(e[t]=h(e[t]));return e};return t=h(t),i?(f._cases||(f._cases={}),null===t?(f._cases[e].method&&s[e].removeListener(f._cases[e].method),s[e].val&&(f.css={removeClass:e},f.eachInstance(function(){this.css={removeClass:e}})),delete f._cases[e]):(u=l.original(f,!0,t,f._cases,!0,e),f._cases[e]={val:t,orig:u[0],nested:u[1]},f._cases[e].method||(c=f._cases[e].method=function(){t&&(d=l.merge(!0,e,t,f._cases),p=d[0],v=d[1],delete p.val,delete v.val,s[e].val?(a(f,e,r),f.set(p,!0)):(a(f,e,r,!0),f.set(v,!0)))},s[e].addListener(c),f.setSetting({name:"_c"+e,remove:function(){this===f&&(s[e].removeListener(c),this._cases[e].method=null)}})),s[e].val&&(a(f,e,r),f.set(t,!0)))):(a(f,e,r),f.set(t)),!0})},{"../../base":"/Users/ricksmit/dev/vigour-js/base/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","../element/set":"/Users/ricksmit/dev/vigour-js/browser/element/set.js","./":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/cases/index.js":[function(e,t,i){var s=e("../../object"),r=e("../../util"),n=e("../element"),o=e("../../value"),a=e("../../value/flags");r.define(i,"methods",{});var l=r.isObj,c=function(e,t,i){var s,r,n,o,a;if(i){s={};for(n in e)s[n]=!0}for(r in t)i&&!s[r]||(o=e[r],a=t[r],o instanceof Object?(o.__remove__&&a&&!a.__remove__&&delete o.__remove__,a instanceof Object||(t[r]={val:a}),c(o,a,i)):(e[r]=a,o="burn"))},u=function(e,t,r,o,c,d,p,v,f){v||(f=e,v=[]);var h,m,g;if(c instanceof s&&!d);else if(c instanceof Object)for(h in c)g=c[h],i[h]?(m=i[h],m instanceof s&&(d&&n.set.lookup.call(f,v[v.length-1])||(t[h]=!0)),l(g)?(v.push(h),u(e,t,r,o,g,d,p,v,f)):o.val=e&&(void 0!==e._val?e._val:void 0),o[h]=null):l(g)?(o[h]||(o[h]=e&&e[h]&&e[h].convert&&e[h].convert(g)||(g instanceof Array?[]:{})),v.push(h),u(e&&e[h],t,r,o[h],g,d,p,v,f),!d||e&&e[h]||(o[h].__remove__=!0)):e&&o&&!o[h]&&(a[h]?(delete o[h],o.val=void 0!==e._val?e._val:void 0):o[h]="val"===h?void 0!==e._val?e._val:void 0:void 0!==e[h]&&e[h].convert&&e[h].convert())};i.methods.original=function(e,t,i,s,r,n){var o,a,d=t?e.convert(i):e._val,p={};u(e,p,s,d,i,r,n);for(o in s)p[o]||(a=s[o].orig,t?l(a)?s[o].nested[n]||c(d,a,n):d.val&&(d.val=a):l(a)?a.val&&(d=a.val):d=a);return[d,p]},i.methods.merge=function(e,t,s,n){var o,a,u,d,p=r.clone(n[t].orig),v=s;for(a in n)if(a===t||n[t].nested[a])o=!0;else if(i[a].val)if(u=n[a].val,l(p)||l(u)){l(p)||(p={val:p}),l(u)||(u={val:u}),c(p,u,!0);for(a in i)d=p[a],null!==d&&void 0!==d&&delete p[a];if(o)if(e){v===s&&(v=r.clone(v)),u=r.clone(u);for(a in i)null!==u[a]&&void 0!==u[a]&&delete u[a];c(v,u,!0)}else u.val&&(v=u.val)}else p=u;return[v,p]},i.methods.reader=function(e,t,r){return function(n,a){var l,c="!"===n[0],u=c?i[n.slice(1)]:i[n];return u?u instanceof s?(c&&!i[n]&&(i[n]=new o({val:function(){return!u.val},listen:u})),l=e?e.call(this,n,a,!0,c):t):l=c?!!e:e?e.call(this,n,a):r:c&&(l=e?e.call(this,n,a,!1,c):r),u===!1&&e&&(l=!0),l}},e("./object"),e("./base")},{"../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value":"/Users/ricksmit/dev/vigour-js/value/index.js","../../value/flags":"/Users/ricksmit/dev/vigour-js/value/flags/index.js","../element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","./base":"/Users/ricksmit/dev/vigour-js/browser/cases/base.js","./object":"/Users/ricksmit/dev/vigour-js/browser/cases/object.js"}],"/Users/ricksmit/dev/vigour-js/browser/cases/object.js":[function(e,t,i){var s=e("../../value/flags"),r=e("./"),n=e("../../object"),o=e("../../util"),a=r.methods,l={set:function(e,t,i,s){this._flag||(this._flag={});var c=this,u=c._flag["case"]||(c._flag["case"]=["case",c._val,!1,{},l]),d=u[3],p=o.isObj(e),v=!p||e.val;if(null===e)d[s]&&r[s].removeListener(d[s].method),delete d[s];else{if(u[5]=!0,!d[s]){var f=a.original(c,p,e,d,!1,s);d[s]={val:e,orig:f[0],nested:f[1],method:function(){var t=a.merge(p,s,e,d),i=t[0],n=t[1];u[5]=!0,r[s].val?(i||console.warn(s,"wrong in cases!",i,r,u),v&&i&&(u[1]=i.val||i),c.val=i):(v&&(u[1]=n&&n.val||n),"$isActive"===s&&console.log("no way gozee 2",n,c),c.val=n),u[5]=null}},r[s].addListener(u[3][s].method)}r[s].val&&(v&&(u[1]=e.val||e),n.set.call(c,e,t,!1,!0),c._ignorefornow=!0),u[5]=null}},remove:function(e,t){var i=0;for(var s in e[3])i++,!this._ignorefornow&&!t||s===t?(i--,r[s].removeListener(e[3][s].method)):delete this._ignorefornow;return i?!0:void 0},stack:"case"},c={set:function(e,t,i,s){null!==e&&n.set.call(this,e,t,!1,!0)}};s.dynamic.cases=a.reader(!1,l,c)},{"../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value/flags":"/Users/ricksmit/dev/vigour-js/value/flags/index.js","./":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/css.js":[function(e,t,i){var s="cssRules",r=function(e){e="."+e.replace(/\./g," .").toLowerCase();for(var t,i,r=document.styleSheets,n=r.length,o=0;n>o;o++)if(i=r[o][s]||r[o][s="rules"])for(var a,l=0,c=i.length;c>l;a=i[l++],a.selectorText===e&&(t=a.style));return t},n=function(e,t){var s=i;return t.push(s[e]||(s[e]=r(e))||{}),e};t.exports=function(e,t){if(e){var i=this[e];if(!i){i=[];for(var s,r=e.split(" "),o=0,a=r.length;a>o;o++)(s=n(r[o],i).split("."))instanceof Array&&n(s[s.length-1],i);this[e]=i}if(t){if(!(i instanceof Array))return;for(var l,o=i.length-1;!l&&o>=0;l=i[o--][t]);i=l}return i}}},{}],"/Users/ricksmit/dev/vigour-js/browser/element/index.js":[function(e,t,i){var s=e("../../base"),r=e("../../value/base"),n=e("../../"),o=e("../../util"),a=new s;a.defaultType=r.type,t.exports=i=n.Element=a.Class,i.base=a;var l="undefined"!=typeof document?document:"no document",c=function(){for(var e=this._node.childNodes,t=0,i=e.length;i>t;t++)e[t].base&&e[t].base.remove(!1,!1,!0)};i.base.extend({name:"node",type:!1,set:function(e){e instanceof Object||!e.length?this._node=e:this._node=l.createElement(e),this._node.base=this},get:function(){return this._node||(this.node=l.createElement("div")),this._node},"new":function(e,t){if(t)this._node=t;else{var i=e._node;i&&(this._node=i.cloneNode(!0),this._node.base=this)}if(e._node&&e._node.hasChildNodes()){var s,r,n=this._node.childNodes,o=e._node.childNodes,a=n.length;for(s=0;a>s;s++)r=o[s].base,r&&(n[s].base=new r.Class(!1,!1,n[s]),r._name&&(n[s].base._name=r._name,this[r._name]=n[s].base),n[s].base.setting("parent",[this]))}},remove:function(e){if(c.call(this),this._node&&(this._node.base=null),!e){var t=this._node.parentNode;t&&(t.removeChild(this._node),this._name&&t.base&&(t.base[this._name]=null))}}},{css:function(e){var t=e.val||"";e._skip=!0,e.addClass&&(~t.indexOf(e.addClass.val)||(e._val=(t.length>0?t+" ":"")+e.addClass.val,e.add&&(e._val=e._val.replace(e.add.val,"")),e._lval=!1,e.__lval=!1,e.___lval=!1,t=e.val),e.addClass.remove()),e.removeClass&&(t&&e._val&&(e._val=e._val.replace(new RegExp(" ?"+e.removeClass.val),""),e._lval=!1,e.__lval=!1,e.___lval=!1,t=e.val),e.removeClass.remove()),t?this.node.className=t.replace("$",""):this.node.className=""}},{name:"name",type:!1,set:function(e){var t=this.parent;this._name&&t&&(t[this._name]=null),this._name=e,this._node&&e===this.node.nodeName.toLowerCase()||this.css&&this.css._val===e||(this.css={add:" "+e}),t&&(t[e]=this)},get:function(){return this._name}},{name:"parent",type:!1,get:function(){if(this._node){var e=this._node.parentNode||this._p;return e?e.base||e._p:!1}}},{name:"children",type:!1,get:function(){if(!this._node)return[];var e,t=this._node.childNodes,i=t.length,s=new Array(i);for(e=0;i>e;e++)s[e]=t[e].base||t[e];return s}});var u=function(e){if(this.lastindex||this.setting("render",[e]),this.renders)for(var t,i,s,r=this.node.childNodes,n=this.renders,a=this.lastindex||0,l=n.length;l>a;a++)if(s=n[a])if(t=o.checkArray(r,s,"base"),t!==!1)u.call(s,this);else if(s._from)if(i=s.Class,s.name&&this[s.name]&&this[s.name]===i)u.call(this[s.name],this);else for(var c in r)if(r[c].base&&r[c].base instanceof i){u.call(r[c].base,this);break}this.lastindex=l},d=function(){var e,t;this.parent&&(e=this.parent,e.renders?e.renders.push(this):(e.renders=[this],t=e.parent,!t||t._settings&&t._settings.render!==!0||d.call(e)))},p=function(e){var t=e.__&&e.__._settings||e._._settings;(e._.renders||e.__&&e.__.renders||t.render!==!0)&&(this.renders||(this.renders=[]),this.__&&this.__.renders||(this.renders=o.clone(this.renders)),this.renders.push(e))};o.define(i,"append",function(e){arguments.length>1&&(e=o.arg(arguments));var t;e.length||e instanceof i||!e.val||(t=e.before,e=e.val);var s=e[0],r=0,n=e.length;if(e.length)if("function"==typeof s)for(var r=1,n=e.length;n>r;r++)this.add(new s(e[r]),t);else for(;n>r;r++)this.add(e[r],t);else this.add(e,t)},"checkRender",function(e,t){if(e&&p.call(this,e),!t){var i=this.__&&this.__.renders||this._.renders;(i||(this.__&&this.__._settings||this._._settings).render!==!0)&&(!this.lastindex||i&&this.lastindex<i.length)&&this.rendered?u.call(this,this):this.parent&&p.call(this.parent,this)}},"checkParent",o.checkParentFactory("parent"),"get",function(e,t){return o.get(this,e,t)},"find",function(e,t,i){void 0===i&&(i=!0);for(var s,r,n=this.node.childNodes,o=0,a=n.length,l=i===!0?!0:i-1;a>o;o++)if(r=n[o].base){if(r.get(e,!0)==t)return r;if(i&&(s=r.find(e,t,l)))return s}},"setRender",function(e,t){this.setSetting({name:e,render:t}),d.call(this),this.eachInstance(function(){d.call(this)},e)},"renders",!1,"add",function(e,t){return t?("string"==typeof t&&(t=this[t]),t?this.node.insertBefore(e.node,t.node||t):console.error("cannot find insertbefore")):this.node.appendChild(e.node),e.setting("parent",[this]),e.name&&(this[e.name]=e),this.checkRender(e),this},"empty",function(e){var t,i=this.node.childNodes;for(this.node.innerHtml="",t=i.length-1;t>=0;t--)i[t].base&&i[t].base.remove(e)}),i.base.addSetting("parent"),i.base.addSetting("render"),e("./set")},{"../../":"/Users/ricksmit/dev/vigour-js/index.js","../../base":"/Users/ricksmit/dev/vigour-js/base/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../value/base":"/Users/ricksmit/dev/vigour-js/value/base.js","./set":"/Users/ricksmit/dev/vigour-js/browser/element/set.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/properties/collection/display.js":[function(e,t,i){var s=e("./util");i.prepare=function(e){e.display||(e.display="block")},i.newElement=function(e,t,i){var r=s.children(i);for(var n in r)if(r[n]._d&&r[n]._d===e)return r[n].display=t.display.val,!0},i.rem=function(e,t,i,s){return e.display="none",!0},i.fragment=function(e,t,i,s){i&&(i[s]=null)}},{"./util":"/Users/ricksmit/dev/vigour-js/browser/element/properties/collection/util.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/properties/collection/index.js":[function(e,t,i){var s=e("./util"),r=e("../../../../util");i.extend=r.extend(e("../data"),function(e){e.extend({name:"collection",remove:function(){this._colElem&&this._colElem.remove()},set:function(e,t,i,n,o,a){e._skip=!0;var l,c,u=s.filter(e,this),d=this.filter||e.val,p=this._colOptions||e.options&&(this._colOptions=e.options.convert()),v=e.element,f=this._colElem||v&&v._val&&(this._colElem=new(v._val.Class||v._val)),h=!this._colInit,m=this._colElem;if(d&&f)if(l=v._slStamp,c=v._val,l?v._slStamp=t:m&&v._slStamp!==t&&(c.Class&&m instanceof c.Class||!c.Class&&m instanceof c||(f=this._colElem=new(c.Class||c),v._slStamp=t)),h)p&&p.prepare&&p.prepare(f),this._colInit=!0,this.node.appendChild(s.fragment(d,f,this,!1,p,u));else if(i&&i._parent===d.from)if(n){var g=r.checkArray(s.children(this),i,"_d",!0);g&&(p&&p.rem&&p.rem(g,this,u)||g.remove())}else r.checkArray(s.children(this),i,"_d")===!1?s.element(i,f,this,!0,this.node,p,u,!0):u&&p&&p.indexChange&&p.indexChange(r.checkArray(s.children(this),i,"_d",!0),this,u);else if(!i)if(n)s.clear(this,p);else{var y,b,w,j=s.children(this),k={};u===!0&&(b=d.keys);for(var _ in j)w=j[_],y=j[_]._d._name,(u&&!b?r.checkArray(d,w._d)!==!1:d[y]&&d[y]===w._d)?(k[y]=!0,u&&(p&&p.indexChange?w._d._indexCache[u][0]!==w.i&&p.indexChange(w,this,u,!0):u===!0&&_!=r.checkArray(b,y,!0)&&(delete k[y],p&&p.rem&&p.rem(j[_],this,u,u)||w.remove()))):p&&p.rem&&p.rem(w,this,u,u)||w.remove();this.node.appendChild(s.fragment(d,f,this,k,p,u))}}})})},{"../../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../data":"/Users/ricksmit/dev/vigour-js/browser/element/properties/data.js","./util":"/Users/ricksmit/dev/vigour-js/browser/element/properties/collection/util.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/properties/collection/util.js":[function(e,t,i){var s=(e("../"),e("../../../../data").inject(e("../../../../data/selection")));e("../../../../util");i.element=function(e,t,i,s,r,n,o,a){var l;if(!n||!n.newElement||(l=n.newElement.apply(this,arguments),l!==!0))return l=l||new t.Class,l._col=!0,void 0!==e&&l._dSet(e),r&&r.appendChild(l.node),l.setting("parent",[i]),n&&n.element&&n.element(l,i,o,a),s&&void 0!==e&&l.updateData(),i.checkRender(l,!0),l},i.fragment=function(e,t,s,r,n,o){var a=document.createDocumentFragment(),l=function(e){if(this._name&&(e=this._name),!(n&&n.fragment&&n.fragment(s,this,r,e)||r&&r[e])){var l=i.element(this||null,t,s,!1,a,n,o);l&&a.appendChild(l.node)}};if(a._p=s,e.each)e.each(l);else for(var c in e)l.call(e[c],c);return t.updateData(!0),a},i.children=function(e,t){if(e){var i=[];for(var s in e.node.childNodes){var r=e.node.childNodes[s].base;r&&r._col&&i.push(r)}return t&&t.children&&t.children(i),i}},i.clear=function(e,t){e.colInit=null;var s=i.children(e);for(var r in s)s[r].remove();t&&t.clear&&t.clear(e)},i.filter=function(e,t){var i=e.val;if(e.filter&&e.filter.val===!0)return!0;if(i&&e.filter&&!t.filter){var r=e.filter.raw;return i=t.filter=new s(i,r),r._col=!0,i.addListener(function(e,i,s,r){t.collection._update(e,i,s,r)}),t.setSetting({remove:function(){t.filter.remove(),t.filter=null}}),i._uid}return i&&i._filter?i._uid:t.filter?t.filter._uid:void 0}},{"../":"/Users/ricksmit/dev/vigour-js/browser/element/properties/index.js","../../../../data":"/Users/ricksmit/dev/vigour-js/data/index.js","../../../../data/selection":"/Users/ricksmit/dev/vigour-js/data/selection.js","../../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/properties/data.js":[function(e,t,i){var s=e("../../../data/base"),r=e("../../../util");e("../../../value/flags");i.extend=r.extend([s,{updateData:function(e,t,i){this._d&&(this._subscribed=!1,t=this._d);var s=!1;i||this.model||this._fmodel||(s=!0);for(var r,n=this.node.childNodes,o=n.length-1;o>=0;o--)r=n[o].base,!r||r.model&&r.model.inherit&&r.model.inherit.val===!1||void 0!==r._d&&!r._dfrom||(r.model&&t&&(s&&(r._fmodel=!0),r._dSet(t,!0)),r.updateData(e,t,r._fmodel||i))}}])},{"../../../data/base":"/Users/ricksmit/dev/vigour-js/data/base.js","../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../../value/flags":"/Users/ricksmit/dev/vigour-js/value/flags/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/properties/index.js":[function(e,t,i){var s=e("../../ua"),r=e("../../css"),n=e("../../../value"),o=e("../../../util"),a=e("../../../util/hash"),l=e("../../animation/raf"),c=e("../").images={},u=s.prefix+"Transform",d=s.prefix+"-transform",p=document.body.style,v=void 0!=p.perspectiveProperty||void 0!=p.WebkitPerspective?["translate3d(",",0px)"]:["translate(",")"],f=function(e){var t="margin"+(e[0].toUpperCase()+e.slice(1));return function(i){i.clean&&(g.call(this,e,t),i.clean=null),i.translate?this.translate(i):this.node.style[this.relative?t:e]=i.val+"px"}},h=new RegExp(d+"(.*?);"),m={x:/(margin-left(.*?);)|(left(.*?);)/g,y:/(margin-top(.*?);)|(top(.*?);)/g},g=function(e){var t=this._t,i=!1,s=this[e],r=this.node.style.cssText.replace(m[e],"");if(s&&s.translate&&s.translate.val===!1&&(s.translate=null),this.node.style[u]&&!s.translate){if(t)if(this[e].translate)i=!0;else for(var n=2;6>n;n++)t[n]&&(i=!0);i||(r=r.replace(h,""))}this.node.style.cssText=r};i.extend=o.extend(function(e){function t(e){var t="scroll",i=t+e;return{name:i,set:function(e){var s=e.val,r=this;void 0!==s&&(r.node[i]=s),r.__sT||(r.__sT=!0,r.addEvent(t,function(){void 0!==e._listeners?e.val=r.node[i]:r[i].__lval=void 0}))},get:function(e){return void 0===e.__lval&&(e.val=this.node[i]),e},render:function(){var e=this,t=e[i].__lval;t&&l(function(){e.node[i]=t})}}}o.define(e.Class,"cleanCoordinates",function(e){this._node&&(e?g.call(this,e):(g.call(this,"x"),g.call(this,"y")))},"translate",function(e){var t,i,s,r,n,o,a=e.val,l="",c=e&&e._prop.name,d=this._t=this._t||[],p=!1;return"x"===c?(t=0|a,t===d[0]&&(p=!0)):"y"===c?(i=0|a,i===d[1]&&(p=!0)):"rotate"===c?(r=a,r===d[2]&&(p=!0)):"scale"===c?(s=a,s===d[3]&&(p=!0)):"rotateY"===c?(n=a,n===d[4]&&(p=!0)):"rotateX"===c&&(o=a,o===d[4]&&(p=!0)),p||(d[0]=t||this.x.translate&&0|this.x.val||0,d[1]=i||this.y.translate&&0|this.y.val||0,d[2]=r||this.rotate.val,d[3]=s||this.scale.val,d[4]=n||this.rotateY.val,d[5]=o||this.rotateX.val,(d[0]||d[1])&&(l=l.concat(v[0]+d[0]+"px,"+d[1]+"px"+v[1])),d[2]&&(l=l.concat(" rotate("+d[2]+"deg)")),d[3]&&(l=l.concat(" scale("+d[3]+")")),d[4]&&(l=l.concat(" rotateY("+d[4]+"deg)")),d[5]&&(l=l.concat(" rotateX("+d[5]+"deg)")),this.node.style[u]=l),this},"update",function(){for(var e,t=0,i=o.arg(arguments),s=i.length;s>t;t++)i[t]instanceof Array?this.update.apply(this,i[t]):(e=o.get(this,i[t]),e&&e.update(this));return this}),e.extend({name:"relative",type:!1,get:function(){var e=this.position!==!1?this.position.val:this.position={css:!0,val:r(this.css.val,"position")};return"absolute"!==e}},{type:!1,name:"rendered",get:function(){var e,t=this._rendered||this.node===document.body;if(!t){for(e=this.node.parentNode;!t&&e;)e.base&&e._rendered&&(t=!0),e==document.body&&(t=!0),e=e.parentNode;t&&(this._rendered=!0)}return t}},t("Left"),t("Top"),{position:function(e){this.node.style.position=e.val},rotate:function(e){this.translate(e)},rotateY:function(e){this.translate(e)},rotateX:function(e){this.translate(e)},scale:function(e){this.translate(e)},src:function(e){var t=e.val;t&&"/"!==t[t.length-1]&&(this.node.src=t)},attr:function(e){var t=this;e.each(function(e){t.node.setAttribute(e,this.val)})},backgroundPos:function(e){this.node.style.backgroundPosition=e.val},backgroundBatch:function(e){},background:function(e){var t,i,s,r,u=e.val,d=this,p=this.node.style;if(e.gone&&e.gone.val)e._skip=!0,p.backgroundImage="";else if(u&&"/"!==u[u.length-1]){if(t="url("+u+")",p.backgroundImage===t)return;if(e.size&&(p.backgroundSize=e.size.val),e.load){if(i=a(u),s=this.checkParent("backgroundBatch"),s&&(r=s.backgroundBatch),!c[i]){this._loaded=null,r&&(window.cancelAnimationFrame(r._raf),r.batch||(r.batch=[]),r.batch.push(a)),c[i]=new n(!1);var v=document.createElement("img");v.onload=function(){r&&(r.batch.splice(o.checkArray(r.batch,i),1),0===r.batch.length&&(r.batch=null,r._raf=l(function(){s._node&&r._val.call(s)}))),c[i].val=!0,v.onload=null,v=null,c[i].remove(!1,!1,!1,!1,!1,!0),c[i]=!0},v.src=u}c[i]!==!0?(this._loaded=null,c[i].addListener([function(){e.load&&e.load.val!==!0&&e.load._val.call(this,d)},e._base],!0)):(this._loaded=!0,r&&(r.batch&&0!==r.batch.length||(r.batch=null,window.cancelAnimationFrame(r._raf),r._raf=l(function(){s._node&&r._val.call(s)}))),e.load.val!==!0&&e.load._val.call(this,d))}p.backgroundImage=t}},padding:function(e){this.node.style.padding=e.val+"px"},y:f("top"),x:f("left"),display:function(e){this.node.style.display=e.val},w:function(e){var t=e.val;this.node.style.width=(t>-1?(0|t)+"px":t)||"100%"},h:function(e){var t=e.val;this.node.style.height=(t>-1?(0|t)+"px":t)||"100%"},opacity:function(e){var t=e.val;this.node.style.opacity=t>-1?t:1},html:function(e){var t=e.val||"";t.replace&&(t=t.replace(/\t/g,"    ").replace(/\r\n|\n|\r/g,"<br/>").replace(/  /g,"&nbsp; ").replace(/  /g," &nbsp;"),this.node.innerHTML=t)},href:function(e){this.node.href=e.val},text:function(e){var t=this.node,i=t.childNodes,s=e.val||"";if(s instanceof Object&&(s=""),/text/.test(t.type))return void(t.value=s);if(i)for(var r=0,n=i.length;n>r;r++)if(3===i[r].nodeType)return void(i[r].nodeValue=s);t.appendChild(document.createTextNode(s))}})})},{"../":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../../util/hash":"/Users/ricksmit/dev/vigour-js/util/hash.js","../../../value":"/Users/ricksmit/dev/vigour-js/value/index.js","../../animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","../../css":"/Users/ricksmit/dev/vigour-js/browser/css.js","../../ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/properties/process.js":[function(e,t,i){var s=e("../../../util");i.extend=s.extend(function(e){var t=e.Class.prototype,i=t.add;s.define(t,"add",function(e){e.process?(e.__tempAdd=s.arg(arguments),e.__tempAdd.unshift(this)):i.apply(this,arguments)}),e.extend({process:function(e){console.log("xxxx___xxxx"),this.__tempAdd&&!this.parent&&(i.apply(this.__tempAdd[0],this.__tempAdd.slice(1)),this.__tempAdd=null)}})})},{"../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/properties/scrollbar.js":[function(e,t,i){function s(e){document.activeElement?"INPUT"!==e.target.tagName&&"FORM"!==e.target.tagName&&(document.activeElement.blur(),u.removeEvent(!1,"blur")):u.removeEvent(!1,"blur")}var r,n=e("../../events"),o=e("../../cases"),a=e("../../ua"),l=!1,c=("ios"===a.platform,"android"===a.platform,e("../../../util").extend),u=n.document;o.touch?(n.preventDown={val:{down:function(e,t){document.activeElement?u.addEvent("up",s,"blur"):"INPUT"===e.target.tagName||"FORM"===e.target.tagName||n._maybescroll||e.preventDefault()}}},n.scrollbar={val:{down:function(e,t,i){var r,o,a,l,c,d,p,v=this,f="x"===i._val;if(f?(a="x",l="y",o="scrollLeft",d=v.node.scrollWidth-v.node.offsetWidth):(a="y",l="x",o="scrollTop",d=v.node.scrollHeight-v.node.offsetHeight),r=v.node[o],d>0){n[a]=!0,n._maybescroll=!0,f||(r?r===d?r=v.node[o]=d-1:r>d&&(p=!0):r=v.node[o]=1);var h=e.y,m=e.x,g=o+a;u.addEvent("move",function(e){var t=Math.abs(m-e.x),i=h-e.y,r=Math.abs(i);f?r>t&&(n[a]=!1,n[l]||e.preventDefault()):(t>r&&(n[a]=!1,n[l]||e.preventDefault()),p&&i>0&&e.preventDefault()),
console.log("move"),c=!0,s(e),u.removeEvent(!1,g)},g),u.addEvent("up",function(e){var t,i,s=n._maybescroll;if(!c){var f=v.node[o];c=!(f===r)||0>f||f>d&&!p}if(!c&&!n[l]&&!n.click.block&&s&&s.length)for(t=s.length;t--;)e.prevent||(i=s[t],i[0].call(i[1],e));n[l]&&!c||(n._maybescroll=!1),n[a]=!1,u.removeEvent(!1,o),window.requestAnimationFrame(function(){document.body.scrollTop=0})},o)}}}},r=function(e){var t=this.node.style;"x"===e.val?(t.msTouchAction="pan-x",t.touchAction="pan-x",t.overflowY="hidden"):"y"===e.val&&(t.msTouchAction="pan-y",t.touchAction="pan-y",t.overflowX="hidden"),t.overflow="scroll",t.webkitOverflowScrolling="touch",t.msTouchAction="auto",t.touchAction="auto",this.events={scrollbar:e.val},l||(l=!0,u.events={preventDown:!0})}):r=function(e){var t=this.node.style;t.overflow="auto",t.overflowY="x"!==e.val?"scroll":"hidden",t.overflowX="y"!==e.val?"scroll":"hidden"},i.extend=c(function(e){e.extend({scrollbar:r})})},{"../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","../../events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js","../../ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/properties/util.js":[function(e,t,i){var s=e("../../ua"),r="-"+s.prefix.toLowerCase(),n=r+"-transform";i.getMatrix=function(e){if(e.style[n]){var t=window.getComputedStyle(e,null).getPropertyValue(n).replace("matrix(","").split(",");return t}}},{"../../ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/set.js":[function(e,t,i){var s=e("../../util"),r=e("./"),n=e("../../object"),o=i,a=function(e,t,i,s){var r;for(var n in o)if(r=o[n].call(this,e,t,i,s))return r};s.define(r,"_set",function(e,t,i){if(!a.call(this,t,e[t],i,e))if(this.isProperty(t,e))"function"==typeof this[t]?e[t]instanceof Array?this[t].apply(this,e[t]):this[t](e[t]):this[t]=e[t];else if(e[t]instanceof r){var s;if(this[t]){for(var o=this.node.childNodes,l=0,c=o.length;c>l;l++)if(o[l]===this[t].node){s=o[l+1];break}this[t].remove&&this[t].remove()}var u=i?new e[t].Class:e[t];u.name=t,this.add(u,s),i&&this.eachInstance(function(){var e=new u.Class;e._name=t,this.add(e)})}else if(this[t]instanceof n)this[t].val=e[t];else if(e[t]instanceof n)console.warn("are you sure you want to set using a vObject? maybe require some stuff (e.g. data)"),this[t]=e[t];else if(this[t]instanceof r)e[t]?this[t].set(e[t],i):e[t]===!1&&(i&&this.eachInstance(function(){this[t]&&this[t].remove()}),this[t].remove(),this[t]=null);else if(e[t]instanceof Object){var u=(new r).set(e[t],i);u.name=t,this.add(u),i&&this.eachInstance(function(){var e=new u.Class;e._name=t,this.add(e)})}else console.warn('"'+t+'" is not an existing property. "'+e[t]+'" is a primitive. Adding as primitive.'),this[t]=e[t]},"convert",function(e){var t,i={};for(var o in e)t=s.isObj(e[o]),this[o]instanceof r?i[o]=t?this[o].convert(e[o]):this[o]:this[o]instanceof n?i[o]=this[o].convert(t&&e[o]):void 0===this[o]||s.lookup.call(this,o)&&this[o]===!1?i[o]=!1:i[o]=this[o];return i})},{"../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/browser/element/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/video/html5.js":[function(e,t,i){function s(){var e=arguments,t=e.length;return function(i){for(var s=0,r=this;t>s;this.video.addEventListener(e[s++],function(e){i._val.call(r,e)}));}}function r(){function e(){if(t.time)if(t.time.val||(this._firstT=!0),d&&"chrome"!==o.browser){var i=0;clearInterval(t._timeFixInterval),t._timeFixInterval=setInterval(function(){t.updateTime(),3===i&&(t._canplay=null,clearInterval(t._timeFixInterval)),1!==t.video.duration&&(i++,t.playing&&t.video.play())},200)}else t.time.val?u?setTimeout(function(){t.updateTime()},0):t.updateTime():t._forceTime=!0,t._canplay=null;t.video&&t.video.removeEventListener(p,e)}if(!this._canplay&&!c){this._canplay=!0;var t=this;this._canPlay=e,this.video&&this.video.addEventListener(p,e)}}function n(e){this.video.readyState?(this.video.currentTime=e,u&&(this._correctTime=e)):r.call(this)}var o=e("../../ua"),a=e("./"),l=e("../../../browser/events/util").postpone,c="windows"===o.platform&&"phone"===o.device,u="ios"===o.platform,d="android"===o.platform,p="canplay";t.exports={progress:{set:function(){var e=this;e.video&&e.video.addEventListener("end",e._prEnd=function(){e.clearProgress()})},remove:function(){this.video&&(this.video.removeEventListener("canplay",this._canPlay),this.video.removeEventListener("end",this._prEnd))}},buffer:function(e){if(this.video&&this.video.buffered){for(var t,i,s=this.video.buffered.length,r=-1,n=this.video.currentTime||0,o=0;s>o&&(t=this.video.buffered.start(o),t>r&&n>t);o++)r=o,i=t;return r>-1?(r=this.video.buffered.end(r),n>r?0:r/this.duration.val):0}return 0},play:function(e){e?this.video.play():this.video.pause()},time:{set:u||d?l(n):n,get:function(e){var t=this.video&&this.video.currentTime;return this._correctTime&&(this._correctTime>t-2&&this._correctTime<t+2?(t=this._correctTime,this.cnt?this._cnt<2?(this._correctTime=!1,this._cnt=!1):(this._correctTime+=.5,this._cnt--):this.cnt=3):t=this._correctTime),t/this.duration.val||e.val}},duration:function(e){return this.video&&this.video.readyState?this.video.duration:e&&e.val},autoplay:function(e){this.video&&(this.video.autoplay=e.val)},volume:function(e){var t=e.val;this.video&&!isNaN(t)&&(this.video.volume=t)},"new":function(){r.call(this),this.volume&&this.volume.update(this)},events:{pause:function(e){var t=this;u&&t.video&&t.video.addEventListener("pause",function(e){t.ignoreevents||t.pause()})},progress:a.progress,ready:s("loadedmetadata"),canplay:function(e){var t=this;t.video&&t.video.addEventListener(p,function(i){t.video&&4===t.video.readyState&&(t._stalled=!1,e._val.call(t,i))})},stalled:function(e){var t=this,i=function(i){var s=t.getTime();t.getBuffer(s)-s>.05||(t._stalled=!0,e._val.call(t,i))};t.video&&(t.video.addEventListener("stalled",i),t.video.addEventListener("waiting",i))},play:{play:function(){this.events.play&&this.events.play._val.call(this)},set:!1},end:s("ended")},src:function(e){this.video&&(this.video.src!==e||e||!e&&this.video.src)&&(this.video.src=e.val)}},a.player||(a.player=t.exports)},{"../../../browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js","../../ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","./":"/Users/ricksmit/dev/vigour-js/browser/element/video/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/video/index.js":[function(e,t,i){function s(e){this._readyForEvents=!0;var t=this,i=(this.player||d.player).events;return e.each(function(e){i[e]&&i[e].set!==!1&&(i[e].set||i[e]).call(t,this,e)}),i}function r(e){var t=this,i=(this.player||d.player).events;e.each(function(e){i[e]&&i[e].remove&&i[e].remove.call(t,this,e)})}function n(e){var t=this.events;if(t){var i=this,s=(this.player||d.player).events;t.each(function(t){s[t]&&s[t].play&&s[t].play.call(i,this,t,e)})}}function o(e){if(!this._progress){var t=e,i=t.interval&&t.interval.val||500,s=t._val,r=this,n=(this.player||d.player).progress;n&&n.set&&n.set.call(r),r._progress=setInterval(function(){var e=Number(r.getTime()),t=r.getBuffer(e),i=Number(r.duration.val);1===i&&(i=0),e>=1&&i?r.clearProgress():(r._stalled&&i&&(t>.85||r.__lp&&r.events.canplay&&e>r.__lp+1/i?(r._stalled=!1,r.events.canplay._val.call(r),r.__lp=null):!r.__lp&&e>-1&&(r.__lp=e)),r.ignoreevents||s.call(r,e,t))},i)}}var a=e("../").inject(e("../properties")),l=e("../../events"),c=e("../../../util"),u=new a({node:"video"});t.exports=i=u.Class;var d=i;i.base=u,u.setSetting({name:"_videoSettings","new":function(){this.player["new"]&&this.player["new"].call(this)},remove:function(){this.player.remove&&this.player.remove.call(this)},render:function(){this.player.render&&this.player.render.call(this)}}),u.node.setAttribute("webkit-playsinline",""),this._progress=o,i.progress={play:function(e,t,i){i?o.call(this,this.events.progress):this.clearProgress()},set:function(e){this.playing&&o.call(this,e)},remove:function(){this.clearProgress()}},c.define(i,"setEvents",function(){s.call(this,this.events)},"play",function(e,t){e&&delete this.ignoreevents,t||this.ignoreevents||this.playing===!0?this.__paused&&this.events.progress&&(this.playing=!0,o.call(this,this.events.progress)):(this.playing=!0,n.call(this,!0)),this.__paused=null,(this.player||d.player).play.call(this,!0)},"pause",function(e){e&&(this.ignoreevents=!0),this.ignoreevents||this.playing===!1?this.clearProgress():(this.playing=!1,n.call(this,!1),this.events.pause&&this.events.pause._val.call(this)),this.__paused=!0,(this.player||d.player).play.call(this,!1)},"toggle",function(e){this.playing?this.pause():this.play()},"updateTime",function(){this._firstT=!1,i.setTime.call(this,this.time)},"getTime",function(){return(this.rendered&&this.player||d.player).time.get.call(this,this.time)||0},"getBuffer",function(e){return(this.rendered&&this.player||d.player).buffer.call(this,e||0)},"clearProgress",function(){if(this._progress){clearInterval(this._progress),this._progress=null;var e=(this.player||d.player).progress;e&&e.remove&&e.remove.call(this)}}),u.extend({name:"player",type:!1,set:function(e){c.setstore.call(this),this.__.player=e,e.element&&(this.node=e.element),this._class&&(this._class.prototype._.player=e)},get:function(e){return c.getStore.call(this,"player")||d.player||{}}},{name:"duration",set:function(e){},get:function(e){return e._overwrite=(this.player||d.player).duration.call(this,e),e}},{name:"$play",set:function(e){this.rendered&&(e.val?this.play():this.pause())}},{name:"time",set:i.setTime=function(e){if(!this._ignore){e._overwrite=null;var t=e.val,i=!1;void 0!==t&&(this._firstT&&this._forceTime!==!0||(t=Math.abs(t),i=!0,this._firstT=!0,this._forceTime=null),t>=0&&this.duration&&(this.__lp&&(this.__lp=null),(this.player||d.player).time.set.call(this,t*this.duration.val),this.events.seeking&&!i&&this.events.seeking._val.call(this,t)))}}},{autoplay:function(e){(this.player||d.player).autoplay.call(this,e)},volume:function(e){(this.player||d.player).volume.call(this,e)},src:function(e){e.val!==this.___Src&&(this.___Src=e.val,this.events.src&&this.events.src._val.call(this,e),(this.player||d.player).src.call(this,e))}},{name:"events","new":function(){this.player&&this.player.setEvents!==!1&&s.call(this,this.events)},remove:function(){this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=null),r.call(this,this.events)},set:function(e){var t=c.arg(arguments);t[5]=this._readyForEvents?s.call(this,e):(this.player||d.player).events,t[5].seeking||(t[5].seeking={set:!1}),t[5].src||(t[5].src={set:!1}),l._set.apply(this,t)}})},{"../":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../events":"/Users/ricksmit/dev/vigour-js/browser/events/index.js","../properties":"/Users/ricksmit/dev/vigour-js/browser/element/properties/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/element/video/util.js":[function(e,t,i){i.time=function(e,t){var i=~~(e/3600),s=~~(e%3600/60),r=t?(e%60).toFixed(t):~~(e%60);return ret="",i>0&&(ret+=""+i+":"+(10>s?"0":"")),ret+=""+s+":"+(10>r?"0":""),ret+=""+r,ret||0}},{}],"/Users/ricksmit/dev/vigour-js/browser/events/advanced.js":[function(e,t,i){function s(e,t){return e.move&&e.move._val||!t.__t&&t!==!0&&t||t._val}function r(e,t,i){var r=i.bind?i.bind._val:this,n=s(i,t),o="drag";e.preventDefault(),n&&d.addEvent("move",function(e){n.call(r,e,i)},o),i.down&&i.down._val.call(r,e,i),d.addEvent("up",function(e){i.up&&i.up._val.call(r,e,i),d.removeEvent(!1,o)},o)}function n(e,t,s){var r=this,n="active",o=setTimeout(function(){r.css={addClass:s._val},o=null},50);i._deactivate&&i._deactivate(),i._deactivate=function(){o&&clearTimeout(o),d.removeEvent(!1,n),i._deactivate=null,window.requestAnimationFrame(function(){r&&(r._stayActive?r.css={addClass:s._val}:r.css={removeClass:s._val})})},d.addEvent("move",i._deactivate,n),d.addEvent("up",i._deactivate,n)}function o(e){for(var t,i={},s=e.keys,r=s.length-1;r>=0;r--)t=s[r],i[t]=e[t];return i}function a(e,t,i,s){return e[s]&&e[s]._e||(e[s]={_e:0}),i[s]._val!==!0&&e[s].set("_e",o(i[s])),t[s]-e[s]._e.val}function l(e,t,i,r){var n=i.bind&&!r?i.bind.val:this,o=(i.y?"y":i.x?"x":"xy")+"Grab"+(r||"");if(n)if(n._node){var u,p,v,f,h,m,g=s(i,t),y=e.x,b=e.y,w=y,j=b,k=function(e){n.x._p=!1,n.y._p=!1,i.up&&m&&i.up._val.call(n,e,{x:w-y,y:j-b},{x:w-f,y:j-h}),c.click.block=!1,d.removeEvent(!1,o)};i.x||i.y||(i.x={_val:!0},i.y={_val:!0}),i.down&&i.down._val.call(n,e,i),d.addEvent("move",function(e){f=w,h=j,w=e.x,j=e.y,c.click.block=!0,u?(e.preventDefault(),p&&(n.x={_e:w-p}),v&&(n.y={_e:j-v}),g&&g.call(n,e,{x:w-y,y:j-b},i)):(m=i.pass?i.pass._val.call(n,e,{x:w-y,y:j-b}):!0,m?(e.preventDefault(),i.x&&(p=a(n,e,i,"x"),n.x._p=1),i.y&&(v=a(n,e,i,"y"),n.y._p=1),i.start&&i.start._val.call(n,e,i),u=!0):(k(e),g=!1,d.removeEvent(!1,o)))},o),d.addEvent("up",k,o)}else for(var _=n.length-1;_>=0;_--)l.call(n[_],e,t,i,_+1)}var c=e("./"),u=e("../../value/operators"),d=c.document;t.exports=c,u._e=function(e,t){return e+t},u._esub=function(e,t){return e-t},u._e.order=3,c.drag={val:{down:r}},c.grab={val:{down:l}},c.active={val:{down:n}}},{"../../value/operators":"/Users/ricksmit/dev/vigour-js/value/operators.js","./":"/Users/ricksmit/dev/vigour-js/browser/events/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/events/basic.js":[function(e,t,i){function s(e,t,i){e.x=e.pageX,e.y=e.pageY,t.call(this,e,i)}function r(e,t,i){var s="_"+e;l.define(o,s,{value:[]});var r={create:function(r,n){var l=function(e){if(this.rendered)if(i)i.call(this,e,this.events[n]._val);else if(o[n]&&o[n].val){var t=o[n].val;for(var s in o[n])a[s]&&(t=o[n][s]);t=t[r],t&&t.call(this,e,this.events[n]._val)}else this.events[n]&&this.events[n]._val.call(this,e)};o.document.addEvent(t,function(e){for(var t=o[s],i=t.length-1;i>=0;i--)l.call(t[i],e),t[i]&&t[i].eachInstance(l,"events",e)},e)},add:function(t,i){i=s,this.setSetting({name:i,remove:o[e].remove}),l.checkArray(o[s],this)||o[s].push(this)},remove:function(){var t=l.checkArray(o[s],this,!0);if(~t){var i;this.events&&this._from.base.events&&(i=this.events[e]===this._from.base.events[e]),i?console.log(i,"noRemove evnt, are we sure - fix this asap"):o[s].splice(t,1)}}};o[e]=r}function n(e,t,i){1!==e.which||o.down.block||s.call(this,e,t,i)}var o=t.exports=e("./"),a=e("../cases"),l=e("../../util");e("../ua");a.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints||!1,l.define(o,"_out",{value:[]}),o.$makeKeyBoardEvent=r,r("keyboard","keyup"),r("keyboardDown","keydown"),r("keyboardDown$down","keydown"),r("keyboardDown$click","keydown"),o.down={touch:{touchstart:function(e,t,i){if(!o.down.block){var s=e.targetTouches[0]||{};e.x=s.pageX,e.y=s.pageY,t.call(this,e,i)}}},val:{mousedown:n}},o.rdown={touch:{touchstart:function(){}},val:{mousedown:function(e,t,i){3===e.which&&(document.oncontextmenu=function(){return!1},e.preventDefault(),s.call(this,e,t,i),setTimeout(function(){document.oncontextmenu=!1},0))}}},o.move={touch:{touchmove:function(e,t,i){var s=e.targetTouches[0];e.x=s.pageX,e.y=s.pageY,t.call(this,e,i)}},val:{mousemove:s}},o.up={touch:{touchend:function(e,t,i){var s=e.changedTouches;e.x=s[0].pageX,e.y=s[0].pageY,t.call(this,e,i)}},val:{mouseup:s}},o.click={val:{down:function(e,t,i){var s=this,r="click";o.click.block||(s.addEvent("up",function(e){s.removeEvent("up",r);var n=o._maybescroll;n?n.length?o._maybescroll.unshift([t,s]):o._maybescroll=[[t,s]]:o.click.block||t.call(s,e,i)},r),setTimeout(function(){s.removeEvent("up",r)},300))}}},o.rclick={val:{rdown:o.click.val.down}};var c=function(){var e=l.checkArray(o._out,this,!0);~e&&(o._out.splice(e,1),this.removeSetting("_out",u))},u={name:"_out",render:function(){l.checkArray(o._out,this)||o._out.push(this)},remove:c};o.out={create:function(){this.m=!0,o.document.addEvent("up",function(e){for(var t=e.target,i=function(){for(var i,s=t;s&&!i;)s.base&&this===s.base?i=!0:s=s.parentNode;!i&&this.rendered&&this.events.out._val.call(this,e)},s=o._out,r=s.length-1;r>=0;r--)i.call(s[r]),s[r]&&s[r].eachInstance(i,"events")},"out")},add:function(){this.setSetting(u)},remove:c}},{"../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","../ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","./":"/Users/ricksmit/dev/vigour-js/browser/events/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/events/index.js":[function(e,t,i){function s(e,t){i[e]?a(e,t):(i[e]={_basic:!0},n(e))}function r(e,t){return function(s){for(var r,n,o=s.target;o;){if(r=o.base){if(n=r.events,n[e]&&(t?i[e]._m.call(r,s,n[e]):n[e]._val&&n[e]._val.call(r,s),s.prevent))return;if(n=r.__e,n&&n[e])for(var a in n[e])if("_uid"!==a&&(t?i[e]._m.call(r,s,n[e][a]):n[e][a].call(r,s),s.prevent))return}o=o.parentNode}}}function n(e,t){var s=e||t;i._r[e]=!0,"scroll"===s?document.addEventListener(s,function(t){var i,s=t.target.base;if(s&&(i=s.events,i&&i[e]&&i[e]._val.call(s,t),i=s.__e,i&&i[e]))for(var r in i[e])"_uid"!==r&&i[e][r].call(s,t)},!0):document.addEventListener(s,i[e].m=r(e))}function o(e,t,n,o){var a=i[e]._m=function(e,i){e.prevent||t.call(this,e,i._val||i.val||i,i)};i[e].m=r(e,!0),i._r[e]=!0,i[n]&&(i[n].m||s(n,o),i[n]._basic?i[e].__e=n:(i[e].__e=i[n].__e,i[e]._m=function(e,t){i[n]._m.call(this,e,function(e){a.call(this,e,t)})})),document.addEventListener(i[n]&&i[n].__e||n,i[e].m)}function a(e,t){i[e].create&&i[e].create(e,t);var s,r,a;for(r in i[e])c[r]===!0&&(s=i[e][r]);if(s||(s=i[e].val)){for(a in s);if(i[e].__e=a,s[a]===!0)i[e]._basic=!0,n(e,a);else for(a in s)i[a]&&i[a].add&&i[e]&&!i[e].add&&(i[e].add=p(i[a].add,e,a)),o(e,s[a],a,t)}}var l=e("../element"),c=e("../cases"),u=e("../../util"),d=function(){};u.define(d,"_uid",{value:0}),i._r={},i.document=new l({node:document}),i.document.exec=function(e){if(this.__e[e]){var t=u.arg(arguments,1);for(var i in this.__e[e])this.__e[e][i].apply(this,t)}};var p=function(e,t,i){return function(){return e.apply(this,arguments)}};i._set=function(e,t,r,n,o,a){var l=this;e.each(function(t){a&&a[t]||(this._val===!1?i[t]&&(i[t].remove&&i[t].remove.call(l),l.eachInstance(i[t].remove,e._prop.name),this.remove()):(i[t]&&i[t].m||s(t,t),i[t].add&&i[t].add.call(l,!1,t)))})},l.base.extend({name:"events",set:i._set}),u.define(l,"addEvent",function(e,t,r){i[e]&&i[e].m||s(e);var n=this.__e||(this.__e={}),o=n[e]||(n[e]=new d);return r||(o._uid++,r=o._uid),o[r]=t,i[e].add&&i[e].add.call(this,r,e),this},"removeEvent",function(e,t,s){var r,n=this.__e;if(n)if(e&&n[e]){if(r=i[e]&&i[e].remove,t)!n[e][t]||s&&n[e][t]!==s||(r&&i[e].remove.call(this,t),delete n[e][t]);else for(t in n[e])s&&n[e][t]!==s||(r&&i[e].remove.call(this,t),delete n[e][t]);u.empty(n[e])&&delete n[e]}else if(!e)for(e in n)this.removeEvent(e,t,s);return u.empty(n)&&delete this.__e,this}),e("./basic")},{"../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","../element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js","./basic":"/Users/ricksmit/dev/vigour-js/browser/events/basic.js"}],"/Users/ricksmit/dev/vigour-js/browser/events/offset.js":[function(e,t,i){function s(e,t,s,a,l){if(!e)return 0;var c=!1;t||(t=[],c=!0),n.Element&&e instanceof n.Element&&(e=e.node);var u=e[a];if("number"!=typeof u&&(u=0),e.parentNode&&i[s](e.parentNode,t),"absolute"!==(e.style&&e.style.position||e.__preCss||e.className&&(e.__preCss=o(e.className,"position")||!0)))t.push(["rel",u]);else{var d=r(e);t.push(["abs",d?parseInt(d[l],10)+u:u])}if(c){var p,v,f=0;for(v in t)"abs"==t[v][0]?f+=t[v][1]:p=t[v][1];u="rel"===t[t.length-1][0]?f+p:f}return u||0}var r=e("../element/properties/util").getMatrix,n=e("../../"),o=e("../css");i.left=i.x=function(e,t){return s(e,t,"left","offsetLeft",4)},i.top=i.y=function(e,t){return s(e,t,"top","offsetTop",5)}},{"../../":"/Users/ricksmit/dev/vigour-js/index.js","../css":"/Users/ricksmit/dev/vigour-js/browser/css.js","../element/properties/util":"/Users/ricksmit/dev/vigour-js/browser/element/properties/util.js"}],"/Users/ricksmit/dev/vigour-js/browser/events/util.js":[function(e,t,i){var s=e("../animation/raf"),r=e("../../util");i.throttle=function(e,t,i){t||(t=20);var r,n,o=!i;return function(){n=arguments,o&&(i=this),r||(r=t,s(function a(){r--,r?s(a):e.apply(i,n)}))}},i.postpone=function(e,t,i){t||(t=200);var s,r,n=!i;return function(){return r=arguments,n&&(i=this),s&&clearTimeout(s),s=setTimeout(function(){e.apply(i,r)},t)}},i.interval=function(e,t,i){t||(t=30);var n,o,a=r.arg(arguments,3);return n||(n=t,s(function l(){n--,n||(n=t,e.apply(i,a)),o||s(l)})),function(){o=!0}}},{"../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js"}],"/Users/ricksmit/dev/vigour-js/browser/network/ajax.js":[function(e,t,i){var s,r="addEventListener",n=e("../../util"),o=(e("../ua"),0),a=t.exports=function(e,i){var l=e.url;if(!i&&l instanceof Array){e.m=function(){if(++e.r===e.n){for(var t=0,i=[],s=l.length;s>t;i.push(e.d[l[t++]]));e.complete(i)}},e.r=0,e.d={};for(var u=0,d=e.n=l.length;d>u;t.exports(e,l[u++]));}else{var p=e.data,v=e.encode,f=(e.api||"")+(i||l),h=e.headers,m=e.complete,g=e.progress,y=e.error,b=e.change,w=e.mime,j=e.user,k=e.pass,_=e.jsonp,x=e.parse,U=e.iframe,C=null,T=e.fallback,S=e._fallbackIndex,A=e.type||e.method||"GET",E=e.contentType||"json"===v?"application/json":"application/x-www-form-urlencoded",O=e.async!==!1;if(_)a.jsonp(f,m,y);else{var $=new XMLHttpRequest;if(U){o++;var P,D={},L=o;for(var N in e)"error"!==N&&"iframe"!==N&&"complete"!==N&&(D[N]=e[N]);var R=function(){var e;s[U].onload=null;var t=function(e){if(e.data){var i;try{i=JSON.parse(e.data)}catch(e){return void(y&&y(e))}if(i.id!==L)return;if(i.err)return void(y&&y(i.err));var s=i.msg;if(m){if(x!==!1)try{s=JSON.parse(s)}catch(e){}m(s,e)}removeEventListener("message",t)}};window.addEventListener&&(addEventListener("message",t,!1),e=s[U].contentWindow,D=JSON.stringify({msg:D,id:L}),e.postMessage(D,"*"))};return s||(s={}),void(s[U]?s[U].cListeners?s[U].cListeners.push(R):R():(P=s[U]=document.createElement("iframe"),P.src=U,P.cListeners=[R],P.onload=function(){for(var e in P.cListeners)P.cListeners[e]();P.cListeners=null},P.style.visibility="hidden",P.style.width="0px",P.style.height="0px",P.style.position="absolute",document.body.appendChild(P)))}if(p&&("GET"===A?f+="?"+c(p,"GET",v):C=c(p,"POST",v)),$.open(A,f,O,j,k),$.setRequestHeader("Content-Type",E),h)for(var I in h)$.setRequestHeader(I,h[I]);m&&$[r]("load",function(t){var s=(t.target||t.srcElement).response;if(x!==!1)try{s=JSON.parse(s)}catch(t){}e.m?(e.d[i]=s,e.m()):m(s,t)},!1),y&&(S||(e._fallbackIndex=0),T&&S!==T.length?(e._fallbackIndex++,e=n.merge(e,S),a(e,i)):$[r]("error",y,!1)),g&&$[r]("progress",g,!1),b&&($.onreadystatechange=b),w&&$.overrideMimeType(w),$.send(C)}}},l=0;a.jsonp=function(e,t,i,s,r){r&&r!==!0||(r="callback");var n="_jsonp_"+l++,o=document.createElement("script");e+=e.match(/\?/)?"&"+r+"="+n:"?"+r+"="+n,o.type="text/javascript",o.src=e,i&&(o.onerror=function(e){i(e)}),window[n]=function(e){t.call(s||window,e),document.getElementsByTagName("head")[0].removeChild(o),o=null,delete window[n]},document.getElementsByTagName("head")[0].appendChild(o)};var c=a.encode=function(e,t,i){var s="";if("json"===i)s=JSON.stringify(e);else if(e instanceof Object)if(!n.isNode&&window.FormData&&e instanceof FormData&&"GET"!==t)s=e;else if(e instanceof Array)s=JSON.stringify(e[r]),"uri"===i&&(s=encodeURIComponent(s));else{for(var r in e){var o=e[r];o instanceof Object&&(o=JSON.stringify(o)),"uri"===i&&(r=encodeURIComponent(r),o=encodeURIComponent(o)),s+=r+"="+o+"&"}s=s.slice(0,-1)}else s="uri"===i?encodeURIComponent(e):e;return s}},{"../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js"}],"/Users/ricksmit/dev/vigour-js/browser/network/cloud/authenticate.js":[function(e,t,i){function s(e){r.define(e,"authenticate",function(e,t,i){function s(){console.error("connect ->>> reAuth?"),r._status>2&&(console.error("reconnect ->>> reAuth!",e),r.authenticate(e,t,!0))}window.authrequest=e;var r=this;return"function"==typeof e&&(e=e()),e?(r.emit("authenticate",e,function(e){e.hop?r.hop(e.hop):t&&t(e)}),i||r.on("connect",s),void(r._reAuth=s)):r.socket.removeListener("connect",s)},"logout",function(e){var t=this;t.emit("logout",e),t.data.users[e]&&t.data.users[e].activeClient&&t.data.users[e].activeClient.from._name===t.clientid&&t.data.users[e].activeClient.remove();var i=t.stamp;e?(t.data.users[e]&&t.data.users[e].activeClient&&t.data.users[e].activeClient.from._name===t.clientid&&(t.data.users[e].activeClient.from=t.data.users[e].activeClient),t.data.users[e].remove(void 0,void 0,void 0,void 0,i)):t.data.users.each(function(e){this.remove(void 0,void 0,void 0,void 0,i)}),t.socket.removeListener("connect",t._reAuth),t._reAuth=null})}var r=e("../../../util");i.extend=r.extend(s)},{"../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/network/cloud/data.js":[function(e,t,i){function s(e,t){}function r(e,t,i){return e.length?(l.path(t,e,i,!0),t):i}function n(e){for(var t in e)e[t]instanceof Object&&(e[t]instanceof p?e[t]={$path:e[t]._path}:n(e[t]))}function o(e,t,i,s,r,o){var a=this.cloud;if("localStorage"!==t&&t!==!1&&t!==a.stamp&&void 0!==e)if(s&&i)i._removed&&a.set(i._hashpath,[i._path,null,a.timeStamp()]);else if(i&&!this._cloudignore&&i._updateOrigin===i){2===i.__t&&e instanceof Object&&n(e);var l=i&&i._path;if(l&&"users"===l[0]&&l[l.length-2]&&"clients"===l[l.length-2])return;if(l&&"users"===l[0]&&"media"===l[1])throw new Error("THIS IS WRONG ABORT!---> setting users.media "+l.join("."));a.set(i._hashpath,[i._path,4===i.__t?{$path:e._path}:e,a.timeStamp()])}}var a,l=e("../../../util"),c=e("../data").inject(e("../../../object/hashpath")),u=e("../data/element"),d=e("../../../data"),p=e("../../../object"),v=(e("monotonic-timestamp"),c["new"](!1,function(e,t,i,r){var n=this;r?(n.cloud=r,n.addListener(o),!l.isNode&&window.cordova&&(document.addEventListener("pause",function(){n.preventUpdate=!0},!1),document.addEventListener("resume",function(){r.kickPing(),n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(function(){n.defered&&n.merge(n.defered.data,!1,n.defered.stamp),n.preventUpdate=null,n.defered=null,n.timeout=null},100)},!1)),r.on("set",function(e){var t=(e.s,e.v),i=r.state.subs.map,o=t[1];if(t[0]instanceof Array)for(var a=t[0].length;hash=t[0][--a];)s(i[hash],e.v[1]);else s(i[e.v[0]],e.v[1]);r.stamp=o,n.preventUpdate?n.defered?(n.defered.stamp=o,n.defered.data=l.merge(n.defered.data,e.s)):n.defered={data:e.s,stamp:o}:n.merge(e.s,!1,o)})):i&&(n.cloud=i.cloud)}));t.exports=v,v.prototype._blacklist.push("cloud","datacloud","_batchUnsub","_cloudignore","_lstamp","$t","$loaded"),a=v.prototype.__update,v.inject(e("old-vigour-js/object/flags")),v.flags.$path={reset:!0,set:function(e,t,i){if(i)throw new Error("cloud data $path flag reset???");if(t!==this.cloud.stamp)throw new Error("set with $path only allowed from the hub");var s=l.changeType(e);if(s.length&&this._$setVal(this.cloud.data.get(s,{},void 0,t),t,!1,!0),4!==this.__t)throw new Error("cloud data $path flag __t !== 4")}};var f=v.prototype.set,h=v.prototype._$setVal;l.define(v,"_$setVal",function(e,t){if(this.cloud.stamp===t&&!this.$loaded)for(var i=this;i&&!i.$loaded;)i.$loaded=!0,i=i._parent;h.apply(this,arguments)},"set",function(e,t,i,s){return s===this.cloud.stamp||"clients"!==this._name||this[e]||e===this.cloud.clientid||console.error("\n\nI WANT TO BLOCK THIS YA DURK","\nstamp !== this.cloud.stamp",s!==this.cloud.stamp,"\nthis._name === 'clients'","clients"===this._name,"\n!this[name]",!this[e],"\nname !== this.cloud.clientid",e!==this.cloud.clientid),f.apply(this,arguments)},"updateQueue",function(){},"stamp",function(){return this.cloud?this.cloud.timeStamp():void console.error("WAT NO CLOUD?! in this:\n",this)},"__update",function(e,t,i,s,r,n){return this._lstamp=t,a.call(this,e,t,i,s,r,n)},"_set",function(e,t){return!t||this._lstamp>t?void 0:c.prototype._set.apply(this,arguments)},"subscribe",function(e,t,i){if(t&&t.cloud&&t._val===this,e&&"function"!=typeof e){var s,n,o,a,c,v,f,h=this._path,m=e[1],g=(h&&l.checkArray(h,"usage"),m&&!m._col&&(!m._dfrom||m._fmodel));if(g&&!m.getModel);else if(g){var y;e[1]._ignoreFieldInSubscription&&(e[3]||(y=!0)),f=e[3],n=m.getModel(this,e[3],y)}else if(e instanceof d&&e.__sub)n=u.parseData(e);else{if(e instanceof p){if(v=e._listeners)for(var b=0,w=v.length;w>b;b++)this.subscribe(v[b],e);return}!e||!l.isObj(e)||e instanceof Array||(n=e,e=JSON.stringify(e))}if(n){var j;t&&(n=u.parseData(t,n,this._subs)),t&&t.cloud&&t._val===this&&(h=t._path,j=!0),s=r(h,{},n),o=JSON.stringify(s);var k=j?t:this;k._subs||(k._subs=[]),m&&(m._subscribed=!0),a=[n,m||e,o],f&&a.push(f),c=l.checkArray(k._subs,o,2);var _;for(var x in k._subs)k._subs[x][1]===(m||e)&&k._subs[x][2]===o&&(_=!0);_||(k._subs.push(a),c===!1&&this.cloud.subscribe(s,o))}}},"unsubscribe",function(e,t){if(!(!e||e._col||e._filter&&e._filter._col||e._dfrom&&!e._fmodel)){var i,s,n,o,a,c,u,d=this._path,p=e._listeners;if(!l.isObj(e)||e instanceof Array||(e=JSON.stringify(e)),c=this._subs&&l.checkArray(this._subs,e,1),c!==!1&&void 0!==c){if(e.model&&e.model.parsing){if(e.model&&e.model.field){u=this.get(e.model.field.val),u._subs||(u._subs=[]);var v=l.get(this._subs[c][0],e.model.field.val);v&&(this._subs[c][0]=v)}return}s=this._subs[c],i=s[2],a=s[0],n=r(d,{},a),this._subs.splice(c,1),o=l.checkArray(this._subs,i,2),o===!1&&this.cloud.unsubscribe(n,i)}else if(e._removed);else if(p){for(var f=0,h=p.length;h>f;f++)p[f]instanceof Array?this.unsubscribe(p[f][1],e):p[f].__t&&this.unsubscribe(p[f],e);return}}})},{"../../../data":"/Users/ricksmit/dev/vigour-js/data/index.js","../../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../../object/hashpath":"/Users/ricksmit/dev/vigour-js/object/hashpath.js","../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../data":"/Users/ricksmit/dev/vigour-js/browser/network/data/index.js","../data/element":"/Users/ricksmit/dev/vigour-js/browser/network/data/element.js","monotonic-timestamp":"/Users/ricksmit/dev/vigour-js/node_modules/monotonic-timestamp/index.js","old-vigour-js/object/flags":"/Users/ricksmit/dev/vigour-js/object/flags.js"}],"/Users/ricksmit/dev/vigour-js/browser/network/cloud/datacloud.js":[function(e,t,i){function s(){var e=this;e._joins={},e._status=1,e.on("connect",function(){e._status++,e._reconnect()}),e.state=new v({subs:{map:{},tree:{}},sets:{map:{}}}),e.state.sets.list||e.state.sets.set("list",[]),e.batch={maps:{sets:{},subs:{},unsubs:{}}},e.data=new d({},!1,!1,this),e._qTimer=setInterval(function(){e._doBatch()},h),e.on("subscribed",function(e){})}function r(e,t,i){t.each(function(t){this._subs&&this._subs.each(function(){i&&this.from.subsobj._v&&this.from.subsobj._v.remove(),e.unsubscribe(this.from)}),"_subs"!==t&&r(e,this,i)})}function n(e,t,i,s){var r=i.__t,n=s[e];if(n){var o=t[1],l=t[2],c=n.update[1];if(r&&(c=c.raw),o instanceof Object&&c instanceof Object&&!o.$path&&!c.$path&&(r||(c=u.clone(c)),o=u.merge(c,o)),r?(n.update.set(1,o),n.update.set(2,l)):(n.update[1]=o,n.update[2]=l),!r){var d=n.i,p=i.length-1;if(d!==p){a(i,d);for(var v in s)s[v].i>=d&&s[v].i--;n.i=p}}}else{var f={update:t,i:i.length};r?s.set(e,f):s[e]=f,n=s[e],i.push(n.update)}}function o(e,t,i){t.each(function(s){return"*"===s?(e.$||e.set("$",{}),void t["*"].each(function(s){t["*"][s][1].each(function(r){o(e.$,t["*"][s][1][r],i)})})):(e[s]||e.set(s,{}),void(t[s].val===!0?e[s]._subs?e[s]._subs.push(i):e[s].set("_subs",[i]):o(e[s],t[s],i)))})}function a(e,t){for(var i=e[t];e[t+1];)e[t]=e[++t];e[t]=i}function l(e,t){for(;e[t+1];)e[t]=e[++t];
e.pop()}t.exports=s;var c=e("monotonic-timestamp"),u=e("../../../util/object"),d=e("./data"),p=e("../../../object"),v=(p["new"]({merge:!0}),p["new"]({merge:!0})),f=e("../../../util/hash"),h=20,m="subs",g="sets",y="unsubs";s.prototype.timeSync=function(){var e=this,t=Date.now();e.emit("time",function(i){var s=Date.now()-t,r=t+s/2,n=i-r;s<e._timeTravel&&(e._timeTravel=s,e._timeOffset=n);var o=e._timeTries++;(s>75&&10>o||s>50&&5>o||s>20&&2>o)&&e.timeSync()})},s.prototype.outList=function(e){var t=this.batch;return t.lists?t.lists[e]?t.lists[e]:t.lists[e]=[]:(t.lists={},t.lists[e]=[])},s.prototype._doBatch=function(){var e=this,t=e.batch.lists;t&&(e.emit("batch",t),e.batch.lists=null,e.batch.maps={subs:{},sets:{},unsubs:{}})},s.prototype._clearCache=function(){},s.prototype.subscribe=function(e,t){var i,s,r=this,n=r.state;if(e.hash&&e.subsobj?(i=e.hash,s=e):(t||(t=JSON.stringify(e)),i=f(t),s=n.subs.map[i]),s){if(!s.active||s.active._val)return;s.active.val=r._status}else{n.subs.map.set(i,{hash:i,subsobj:e,active:r._status,cleared:!1}),s=n.subs.map[i];var a=n.subs.tree;o(a,s.subsobj,s)}var l=r.batch.maps.unsubs,c=l[i];if(void 0!==c)return void r.cancel(i,c,y);var d,p=r.outList(m),v=r.batch.maps.subs;if(s.cleared._val)d=s.subsobj.raw,s.cleared.val=r._status;else{s.cleared.val=r._status;var h=r.getDeps(n.subs.tree,s.subsobj,s,{});d=u.empty(h)?s.subsobj.raw:{$subsobj:s.subsobj.raw,$depends:h}}v[i]=p.length,p.push(d)},s.prototype.getDeps=function b(e,t,i,s){return t.each(function(r){var n=e[r];n&&(n._subs&&n._subs.each(function(e){var t=this._val;!t.subsobj._v||t.hash._val===i.hash._val||t.cleared._val||s[t.hash._val]||(t.cleared.val=i.cleared._val,s[t.hash._val]=t.subsobj.raw)}),b(n,t[r],i,s))}),s},s.prototype.unsubscribe=function(e,t){var i=this;if(e instanceof Array){var s=i.state.subs.tree,n=s.get(e);n&&r(i,n,t)}else{var o,a,l=i.batch.maps.subs;if(e.hash)o=e.hash.val,a=e;else{t||(t=JSON.stringify(e)),o=f(t);var c=i.state.subs.map;a=c[o]}var u=l[o];if(void 0!==u)i.cancel(o,u,m);else{var d=i.outList("unsubs");i.batch.maps.unsubs[o]=d.length,d.push(o)}a.active.val=!1}},s.prototype.cancel=function(e,t,i){var s=this.batch,r=s.lists[i];l(r,t),r.length||(delete s.lists[i],u.empty(s.lists)&&delete s.lists);var n=s.maps[i];delete n[e];for(e in n)n[e]>t&&n[e]--},s.prototype.set=function(e,t){!t[0].length;var i=this,s=i.outList(g),r=i.batch.maps.sets;n(e,t,s,r)},s.prototype._reconnect=function(){var e=this,t=e.state,i=t.subs.map;if(e._timeTries=0,e._timeTravel=1/0,e.timeSync(),e.stamp="cleanup",e.data.clients){var s=e.data.clients[e.clientid];s&&(s=s.raw,delete s.key,delete s.type,delete s.ip,delete s.token),e.data.set("clients",{clear:!0},void 0,e.stamp),e.clientid&&e.client&&(e.client.val=e.data.clients.get(e.clientid,{}),s&&(e.client.from.val=s))}e.data.users&&e.data.users.each(function(){this.set("clients",{clear:!0},void 0,e.stamp)});var r=[];i.each(function(e){var t=this,i=t.active,s=t.cleared;1===i._val?(i.val=!0,s.val=!0):i._val?(i.val=!1,1===s._val?s.val=!0:s._val&&(s.val=!1),r.push(t)):s._val&&(1===s._val?s.val=!0:s.val=!1)});for(var n,o=0;n=r[o];o++)e.subscribe(n);for(var a in e._joins)e.join(e._joins[a],!0)},s.prototype.timeStamp=function(){var e=c();return this._timeOffset&&(e+=this._timeOffset),e}},{"../../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../../util/hash":"/Users/ricksmit/dev/vigour-js/util/hash.js","../../../util/object":"/Users/ricksmit/dev/vigour-js/util/object.js","./data":"/Users/ricksmit/dev/vigour-js/browser/network/cloud/data.js","monotonic-timestamp":"/Users/ricksmit/dev/vigour-js/node_modules/monotonic-timestamp/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/network/cloud/emitter.js":[function(e,t,i){function s(e){return e?r(e):void 0}function r(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}t.exports=s,s.prototype.on=s.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},s.prototype.once=function(e,t){function i(){s.off(e,i),t.apply(this,arguments)}var s=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var s,r=0;r<i.length;r++)if(s=i[r],s===t||s.fn===t){i.splice(r,1);break}return this},s.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var s=0,r=i.length;r>s;++s)i[s].apply(this,t)}return this},s.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},s.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],"/Users/ricksmit/dev/vigour-js/browser/network/cloud/index.js":[function(e,t,i){function s(e,t,i){for(var s=i.length-1;s>=0;s--)r(e,t,i[s])}function r(e,t,i){e[i]=function(){var e=this[t];e[i].apply(e,arguments)}}function n(){var e=u.arg(arguments);e.unshift(b),console.log.apply(console,e)}function o(e){return function(){var t=u.arg(arguments);t.unshift(b,e),console.log.apply(console,t)}}function a(e){return e=e||p.session("VID")||v("V_"),p.session("VID",e)}function l(e,t){for(var i in e._callbacks)for(var s,r=e._callbacks[i],n=0;s=r[n];n++)"on"===s.name&&s.fn?t.once(i,s.fn):t.on(i,s);e.off()}function c(e,t){var i=e.indexOf("?");return i>-1&&(e=e.slice(0,i)),e+"?"+f(t,"GET","uri")}var u=e("../../../util"),d=e(u.isNode?"socket.io-client":"./socket.io.js"),p=e("../../../util/global"),v=e("../../../util/id"),f=e("../ajax").encode,h=e("../../../object"),m=e("../../../value"),g=e("./emitter"),y=t.exports=function(e,t){t||(t={});var i=this;if(i.params=t,i.url=e,i.VID=t.VID=a(t.VID),i.connected=new m(!1),i.api=new m({defer:function(e,t){var i=this.from.__t;if(2!==i)throw new Error("cloud.api needs to be an Object");e()}}),t.api&&(i.api.val=t.api),i.addDocumentListeners(),e instanceof h){var s=e.val;if(s)i.init(e,t);else{var r=new g;r.emit=function(){var e=i.emitbuffer||(i.emitbuffer=[]);e.push(arguments)},r.placeholder=!0,i.socket=r,e.addListener(function(s,r,n,o){this.val&&i.init(e,t)})}}else i.init(e,t)};y.inject=e("../../../util/inject"),y.prototype.addDocumentListeners=function(){var e=this;!u.isNode&&window.cordova&&(document.addEventListener("resume",function(){e.connected.val=!1},!1),document.addEventListener("pause",function(){e.connected.val=!1},!1))},y.prototype.init=function(e,t){var i=this,s=i.connect(e,t,{disconnect:function(){n("disconnect"),i.connected.val=!1},connect:function(){n("connect"),i.connected.val=!0,s.io.engine.on("heartbeat",function(){i.connected.val=!0})},welcome:function(e){n("welcome"),e=e.split("@");var s=(i.clientid=e[0],e[1]);i.state;i.hub=t.h=s,i.socket.io.uri=c(i.socket.io.uri,t)},hop:function(e){n("hop"),i.hop(e)},err:function(e){n.error(e),"tokenCheck"===e.type&&"undefined"!=typeof localStorage&&(localStorage.removeItem("productionuserToken"),localStorage.removeItem("userId"))},reconnecting:o("reconnecting"),reconnect_attempt:o("reconnect_attempt"),reconnect:o("reconnect"),reconnect_failed:o("reconnect_failed")}),r=i.emitbuffer;if(r){for(var a in r)s.emit.apply(s,r[a]);i.emitbuffer=null}},y.prototype.connect=function(e,t,i){var s=this;e||(e=s.url),t||(t=s.params),e instanceof h&&(e=e.val),e=c(e,t);var r=s.socket;r&&!r.placeholder&&(r.disconnect(),r.io.disconnect());var n=s.socket=new d(e,{forceNew:!0,timeout:5e3});if(i)for(var o in i)n.on(o,i[o]);r&&l(r,n),window.cloudmessages=[];var a=s.socket.onevent;s.socket.onevent=function(e){window.cloudmessages.push(JSON.stringify(e.data,!1,2)),a.apply(this,arguments)};var u=s.socket.emit;return s.socket.emit=function(e,t){if("function"!=typeof t&&"batch"===e){if(t.subs)for(var i in t.subs)t.subs[i].mtvData;if(t.sets)for(var i in t.sets);}u.apply(this,arguments)},n},y.prototype.hop=function(e){var t=this,i=t.params;-1!==e.indexOf("@")&&(t.url="ws://"+e.split("@")[1]),t.hub=i.h=e,t.connect()},y.prototype.whenReady=function(e){this.clientid?e():this.once("welcome",e)},y.prototype.kickPing=function(e){var t=this.socket.io.engine;t.ping(),t.onHeartbeat(e||t.pingTimeout),t.setPing()},y.prototype.disconnect=function(){var e=this.socket;e&&(e.disconnect(),e.io.disconnect())},s(y.prototype,"socket",["on","once","emit"]);var b=":: vigour-cloud ::";n.error=function(e,t){console.error(b,e,"\n",t)}},{"../../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../../util/global":"/Users/ricksmit/dev/vigour-js/util/global.js","../../../util/id":"/Users/ricksmit/dev/vigour-js/util/id.js","../../../util/inject":"/Users/ricksmit/dev/vigour-js/util/inject.js","../../../value":"/Users/ricksmit/dev/vigour-js/value/index.js","../ajax":"/Users/ricksmit/dev/vigour-js/browser/network/ajax.js","./emitter":"/Users/ricksmit/dev/vigour-js/browser/network/cloud/emitter.js","./socket.io.js":"/Users/ricksmit/dev/vigour-js/browser/network/cloud/socket.io.js","socket.io-client":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/network/cloud/socket.io.js":[function(e,t,i){(function(s){!function(e){if("object"==typeof i&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof s?r=s:"undefined"!=typeof self&&(r=self),r.io=e()}}(function(){var t;return function i(t,s,r){function n(a,l){if(!s[a]){if(!t[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=s[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return n(i?i:e)},u,u.exports,i,t,s,r)}return s[a].exports}for(var o="function"==typeof e&&e,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,i){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,i){function s(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,s=r(e),n=s.source,c=s.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",n),i=o(n,t)):(l[c]||(a("new io instance for %s",n),l[c]=o(n,t)),i=l[c]),i.socket(s.path)}var r=e("./url"),n=e("socket.io-parser"),o=e("./manager"),a=e("debug")("socket.io-client");t.exports=i=s;var l=i.managers={};i.protocol=n.protocol,i.connect=s,i.Manager=e("./manager"),i.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(e,t,i){function s(e,t){return this instanceof s?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=0,this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new s(e,t)}var r=(e("./url"),e("engine.io-client")),n=e("./socket"),o=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),u=(e("object-component"),e("debug")("socket.io-client:manager"));t.exports=s,s.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},o(s.prototype),s.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},s.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},s.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this):this._reconnectionDelay},s.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this):this._reconnectionDelayMax},s.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},s.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())},s.prototype.open=s.prototype.connect=function(e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var t=this.engine,i=this;this.readyState="opening";var s=l(t,"open",function(){i.onopen(),e&&e()}),n=l(t,"error",function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var s=new Error("Connection error");s.data=t,e(s)}i.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;u("connect attempt will timeout after %d",o);var a=setTimeout(function(){u("connect attempt timed out after %d",o),s.destroy(),t.close(),t.emit("error","timeout"),i.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(s),this.subs.push(n),this},s.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose")))},s.prototype.ondata=function(e){this.decoder.add(e)},s.prototype.ondecoded=function(e){this.emit("packet",e)},s.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},s.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new n(this,e),this.nsps[e]=t;var i=this;t.on("connect",function(){i.connected++})}return t},s.prototype.destroy=function(e){--this.connected||this.close()},s.prototype.packet=function(e){u("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var i=0;i<e.length;i++)t.engine.write(e[i]);t.encoding=!1,t.processPacketQueue()}))},s.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},s.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},s.prototype.close=s.prototype.disconnect=function(){this.skipReconnect=!0,this.engine.close()},s.prototype.onclose=function(e){u("close"),this.cleanup(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},s.prototype.reconnect=function(){if(this.reconnecting)return this;var e=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)u("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.attempts*this.reconnectionDelay();t=Math.min(t,this.reconnectionDelayMax()),u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var i=setTimeout(function(){u("attempting reconnect"),e.emitAll("reconnect_attempt",e.attempts),e.emitAll("reconnecting",e.attempts),e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})},t);this.subs.push({destroy:function(){clearTimeout(i)}})}},s.prototype.onreconnect=function(){var e=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",e)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,"object-component":37,"socket.io-parser":40}],4:[function(e,t,i){function s(e,t,i){return e.on(t,i),{destroy:function(){e.removeListener(t,i)}}}t.exports=s},{}],5:[function(e,t,i){function s(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.subEvents()}var r=e("socket.io-parser"),n=e("component-emitter"),o=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");e("indexof");t.exports=i=s;var d={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},p=n.prototype.emit;n(s.prototype),s.prototype.subEvents=function(){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]},s.prototype.open=s.prototype.connect=function(){return this.connected?this:(this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},s.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},s.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=o(arguments),i=r.EVENT;u(t)&&(i=r.BINARY_EVENT);var s={type:i,data:t};return"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),s.id=this.ids++),this.connected?this.packet(s):this.sendBuffer.push(s),this},s.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},s.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},s.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,this.emit("disconnect",e)},s.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(e);break;case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:this.onack(e);break;case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},s.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},s.prototype.ack=function(e){var t=this,i=!1;return function(){if(!i){i=!0;var s=o(arguments);c("sending ack %j",s);var n=u(s)?r.BINARY_ACK:r.ACK;t.packet({type:n,id:e,data:s})}}},s.prototype.onack=function(e){c("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},s.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},s.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},s.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},s.prototype.destroy=function(){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.io.destroy(this)},s.prototype.close=s.prototype.disconnect=function(){return this.connected?(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT}),this.destroy(),this.onclose("io client disconnect"),this):this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,indexof:36,"socket.io-parser":40,"to-array":44}],6:[function(e,t,i){(function(i){function s(e,t){var s=e,t=t||i.location;return null==e&&(e=t.protocol+"//"+t.hostname),"string"==typeof e&&("/"==e.charAt(0)&&"undefined"!=typeof t&&(e=t.hostname+e),/^(https?|wss?):\/\//.test(e)||(n("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),n("parse %s",e),s=r(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/",s.id=s.protocol+"://"+s.host+":"+s.port,s.href=s.protocol+"://"+s.host+(t&&t.port==s.port?"":":"+s.port),s}var r=e("parseuri"),n=e("debug")("socket.io-client:url");t.exports=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:9,parseuri:38}],7:[function(e,t,i){var s=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=s.call(arguments,2);return function(){return t.apply(e,i.concat(s.call(arguments)))}}},{}],8:[function(e,t,i){function s(e){return e?r(e):void 0}function r(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}t.exports=s,s.prototype.on=s.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},s.prototype.once=function(e,t){function i(){s.off(e,i),t.apply(this,arguments)}var s=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var s,r=0;r<i.length;r++)if(s=i[r],s===t||s.fn===t){i.splice(r,1);break}return this},s.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var s=0,r=i.length;r>s;++s)i[s].apply(this,t)}return this},s.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},s.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,i){function s(e){return s.enabled(e)?function(t){t=r(t);var i=new Date,n=i-(s[e]||i);s[e]=i,t=e+" "+t+" +"+s.humanize(n),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(e){return e instanceof Error?e.stack||e.message:e}t.exports=s,s.names=[],s.skips=[],s.enable=function(e){try{localStorage.debug=e}catch(t){}for(var i=(e||"").split(/[\s,]+/),r=i.length,n=0;r>n;n++)e=i[n].replace("*",".*?"),"-"===e[0]?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$"))},s.disable=function(){s.enable("")},s.humanize=function(e){var t=1e3,i=6e4,s=60*i;return e>=s?(e/s).toFixed(1)+"h":e>=i?(e/i).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},s.enabled=function(e){for(var t=0,i=s.skips.length;i>t;t++)if(s.skips[t].test(e))return!1;for(var t=0,i=s.names.length;i>t;t++)if(s.names[t].test(e))return!0;return!1};try{window.localStorage&&s.enable(localStorage.debug)}catch(n){}},{}],10:[function(e,t,i){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t,i){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":21}],12:[function(e,t,i){(function(i){function s(e,t){if(!(this instanceof s))return new s(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=u(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:i.location&&"https:"==location.protocol,t.host){var r=t.host.split(":");t.hostname=r.shift(),r.length&&(t.port=r.pop())}this.agent=t.agent||!1,this.hostname=t.hostname||(i.location?location.hostname:"localhost"),this.port=t.port||(i.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades}function r(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var n=e("./transports"),o=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=s,s.priorWebsocketSuccess=!1,o(s.prototype),s.protocol=c.protocol,s.Socket=s,s.Transport=e("./transport"),s.transports=e("./transports"),s.parser=e("engine.io-parser"),s.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=r(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var i=new n[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return i},s.prototype.open=function(){var e;if(this.rememberUpgrade&&s.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(i){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},s.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},s.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data)a('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",u),s.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&"closing"!=p.readyState&&(a("changing transport and sending upgrade packet"),c(),p.setTransport(u),u.send([{type:"upgrade"}]),p.emit("upgrade",u),u=null,p.upgrading=!1,p.flush())});else{a('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=u.name,p.emit("upgradeError",i)}}))}function i(){d||(d=!0,c(),u.close(),u=null)}function r(t){var s=new Error("probe error: "+t);s.transport=u.name,i(),a('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",s)}function n(){r("transport closed")}function o(){r("socket closed")}function l(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),i())}function c(){u.removeListener("open",t),u.removeListener("error",r),u.removeListener("close",n),p.removeListener("close",o),p.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,p=this;s.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",r),u.once("close",n),this.once("close",o),this.once("upgrading",l),u.open()},s.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",s.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},s.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},s.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},s.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},s.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},s.prototype.ping=function(){this.sendPacket("ping")},s.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},s.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},s.prototype.write=s.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},s.prototype.sendPacket=function(e,t,i){var s={type:e,data:t};this.emit("packetCreate",s),this.writeBuffer.push(s),this.callbackBuffer.push(i),this.flush()},s.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.onClose("forced close"),a("socket closing - telling transport to close"),this.transport.close()),this},s.prototype.onError=function(e){a("socket error %j",e),s.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},s.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState){a('socket close with reason: "%s"',e);var i=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){i.writeBuffer=[],i.callbackBuffer=[],i.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},s.prototype.filterUpgrades=function(e){for(var t=[],i=0,s=e.length;s>i;i++)~l(this.transports,e[i])&&t.push(e[i]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(e,t,i){function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR}var r=e("engine.io-parser"),n=e("component-emitter");t.exports=s,n(s.prototype),s.timestamps=0,s.prototype.onError=function(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},s.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close");
}},{"component-emitter":8,"engine.io-parser":21}],14:[function(e,t,i){(function(t){function s(e){var i,s=!1,a=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),s=e.hostname!=location.hostname||u!=e.port,a=e.secure!=c}if(e.xdomain=s,e.xscheme=a,i=new r(e),"open"in i&&!e.forceJSONP)return new n(e);if(!l)throw new Error("JSONP disabled");return new o(e)}var r=e("xmlhttprequest"),n=e("./polling-xhr"),o=e("./polling-jsonp"),a=e("./websocket");i.polling=s,i.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(e,t,i){(function(i){function s(){}function r(e){n.call(this,e),this.query=this.query||{},a||(i.___eio||(i.___eio=[]),a=i.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,i.document&&i.addEventListener&&i.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=s)})}var n=e("./polling"),o=e("component-inherit");t.exports=r;var a,l=/\n/g,c=/\\n/g;o(r,n),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),n.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i),this.script=t;var s="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);s&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function i(){s(),t()}function s(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(t)}catch(e){n=document.createElement("iframe"),n.name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}var r=this;if(!this.form){var n,o=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=u,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}this.form.action=this.uri(),s(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==r.iframe.readyState&&i()}:this.iframe.onload=i}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(e,t,i){(function(i){function s(){}function r(e){if(l.call(this,e),i.location){var t="https:"==location.protocol,s=location.port;s||(s=t?443:80),this.xd=e.hostname!=i.location.hostname||s!=e.port,this.xs=e.secure!=t}}function n(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.create()}function o(){for(var e in n.requests)n.requests.hasOwnProperty(e)&&n.requests[e].abort()}var a=e("xmlhttprequest"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=r,t.exports.Request=n,u(r,l),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,new n(e)},r.prototype.doWrite=function(e,t){var i="string"!=typeof e&&void 0!==e,s=this.request({method:"POST",data:e,isBinary:i}),r=this;s.on("success",t),s.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=s},r.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(n.prototype),n.prototype.create=function(){var e=this.xhr=new a({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),t=this;try{if(d("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){t.onLoad()},e.onerror=function(){t.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?t.onLoad():setTimeout(function(){t.onError(e.status)},0))},d("xhr data %s",this.data),e.send(this.data)}catch(s){return void setTimeout(function(){t.onError(s)},0)}i.document&&(this.index=n.requestsCount++,n.requests[this.index]=this)},n.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},n.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},n.prototype.onError=function(e){this.emit("error",e),this.cleanup()},n.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s;try{this.xhr.abort()}catch(e){}i.document&&delete n.requests[this.index],this.xhr=null}},n.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(i){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(i){this.onError(i)}null!=e&&this.onData(e)},n.prototype.hasXDR=function(){return"undefined"!=typeof i.XDomainRequest&&!this.xs&&this.enablesXDR},n.prototype.abort=function(){this.cleanup()},i.document&&(n.requestsCount=0,n.requests={},i.attachEvent?i.attachEvent("onunload",o):i.addEventListener&&i.addEventListener("beforeunload",o))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(e,t,i){function s(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),n=e("parseqs"),o=e("engine.io-parser"),a=e("component-inherit"),l=e("debug")("engine.io-client:polling");t.exports=s;var c=function(){var t=e("xmlhttprequest"),i=new t({agent:this.agent,xdomain:!1});return null!=i.responseType}();a(s,r),s.prototype.name="polling",s.prototype.doOpen=function(){this.poll()},s.prototype.pause=function(e){function t(){l("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var s=0;this.polling&&(l("we are currently polling - waiting to pause"),s++,this.once("pollComplete",function(){l("pre-pause polling complete"),--s||t()})),this.writable||(l("we are currently writing - waiting to pause"),s++,this.once("drain",function(){l("pre-pause writing complete"),--s||t()}))}else t()},s.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},s.prototype.onData=function(e){var t=this;l("polling got data %s",e);var i=function(e,i,s){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};o.decodePayload(e,this.socket.binaryType,i),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},s.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},s.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")},t=this;o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,i)})},s.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+r.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=n.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(i=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+i+this.path+e}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],18:[function(e,t,i){function s(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),n=e("engine.io-parser"),o=e("parseqs"),a=e("component-inherit"),l=e("debug")("engine.io-client:websocket"),c=e("ws");t.exports=s,a(s,r),s.prototype.name="websocket",s.prototype.supportsBinary=!0,s.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,i={agent:this.agent};this.ws=new c(e,t,i),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},s.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(s.prototype.onData=function(e){var t=this;setTimeout(function(){r.prototype.onData.call(t,e)},0)}),s.prototype.write=function(e){function t(){i.writable=!0,i.emit("drain")}var i=this;this.writable=!1;for(var s=0,r=e.length;r>s;s++)n.encodePacket(e[s],this.supportsBinary,function(e){try{i.ws.send(e)}catch(t){l("websocket closed before onclose event")}});setTimeout(t,0)},s.prototype.onClose=function(){r.prototype.onClose.call(this)},s.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},s.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=o.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+i+this.path+e},s.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===s.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(e,t,i){var s=e("has-cors");t.exports=function(e){var t=e.xdomain,i=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XDomainRequest&&!i&&r)return new XDomainRequest}catch(n){}try{if("undefined"!=typeof XMLHttpRequest&&(!t||s))return new XMLHttpRequest}catch(n){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}},{"has-cors":34}],20:[function(e,t,i){t.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],21:[function(e,t,i){(function(t){function s(e,t,s){if(!t)return i.encodeBase64Packet(e,s);var r=e.data,n=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=v[e.type];for(var a=0;a<n.length;a++)o[a+1]=n[a];return s(o.buffer)}function r(e,t,s){if(!t)return i.encodeBase64Packet(e,s);var r=new FileReader;return r.onload=function(){e.data=r.result,i.encodePacket(e,t,!0,s)},r.readAsArrayBuffer(e.data)}function n(e,t,s){if(!t)return i.encodeBase64Packet(e,s);if(p)return r(e,t,s);var n=new Uint8Array(1);n[0]=v[e.type];var o=new m([n.buffer,e.data]);return s(o)}function o(e,t,i){for(var s=new Array(e.length),r=u(e.length,i),n=function(e,i,r){t(i,function(t,i){s[e]=i,r(t,s)})},o=0;o<e.length;o++)n(o,e[o],r)}var a=e("./keys"),l=e("arraybuffer.slice"),c=e("base64-arraybuffer"),u=e("after"),d=e("utf8"),p=navigator.userAgent.match(/Android/i);i.protocol=3;var v=i.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=a(v),h={type:"error",data:"parser error"},m=e("blob");i.encodePacket=function(e,i,r,o){"function"==typeof i&&(o=i,i=!1),"function"==typeof r&&(o=r,r=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return s(e,i,o);if(m&&a instanceof t.Blob)return n(e,i,o);var l=v[e.type];return void 0!==e.data&&(l+=r?d.encode(String(e.data)):String(e.data)),o(""+l)},i.encodeBase64Packet=function(e,s){var r="b"+i.packets[e.type];if(m&&e.data instanceof m){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];s(r+e)},n.readAsDataURL(e.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];o=String.fromCharCode.apply(null,c)}return r+=t.btoa(o),s(r)},i.decodePacket=function(e,t,s){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return i.decodeBase64Packet(e.substr(1),t);if(s)try{e=d.decode(e)}catch(r){return h}var n=e.charAt(0);return Number(n)==n&&f[n]?e.length>1?{type:f[n],data:e.substring(1)}:{type:f[n]}:h}var o=new Uint8Array(e),n=o[0],a=l(e,1);return m&&"blob"===t&&(a=new m([a])),{type:f[n],data:a}},i.decodeBase64Packet=function(e,i){var s=f[e.charAt(0)];if(!t.ArrayBuffer)return{type:s,data:{base64:!0,data:e.substr(1)}};var r=c.decode(e.substr(1));return"blob"===i&&m&&(r=new m([r])),{type:s,data:r}},i.encodePayload=function(e,t,s){function r(e){return e.length+":"+e}function n(e,s){i.encodePacket(e,t,!0,function(e){s(null,r(e))})}return"function"==typeof t&&(s=t,t=null),t?m&&!p?i.encodePayloadAsBlob(e,s):i.encodePayloadAsArrayBuffer(e,s):e.length?void o(e,n,function(e,t){return s(t.join(""))}):s("0:")},i.decodePayload=function(e,t,s){if("string"!=typeof e)return i.decodePayloadAsBinary(e,t,s);"function"==typeof t&&(s=t,t=null);var r;if(""==e)return s(h,0,1);for(var n,o,a="",l=0,c=e.length;c>l;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(n=Number(a)))return s(h,0,1);if(o=e.substr(l+1,n),a!=o.length)return s(h,0,1);if(o.length){if(r=i.decodePacket(o,t,!0),h.type==r.type&&h.data==r.data)return s(h,0,1);var d=s(r,l+n,c);if(!1===d)return}l+=n,a=""}}return""!=a?s(h,0,1):void 0},i.encodePayloadAsArrayBuffer=function(e,t){function s(e,t){i.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void o(e,s,function(e,i){var s=i.reduce(function(e,t){var i;return i="string"==typeof t?t.length:t.byteLength,e+i.toString().length+i+2},0),r=new Uint8Array(s),n=0;return i.forEach(function(e){var t="string"==typeof e,i=e;if(t){for(var s=new Uint8Array(e.length),o=0;o<e.length;o++)s[o]=e.charCodeAt(o);i=s.buffer}t?r[n++]=0:r[n++]=1;for(var a=i.byteLength.toString(),o=0;o<a.length;o++)r[n++]=parseInt(a[o]);r[n++]=255;for(var s=new Uint8Array(i),o=0;o<s.length;o++)r[n++]=s[o]}),t(r.buffer)}):t(new ArrayBuffer(0))},i.encodePayloadAsBlob=function(e,t){function s(e,t){i.encodePacket(e,!0,!0,function(e){var i=new Uint8Array(1);if(i[0]=1,"string"==typeof e){for(var s=new Uint8Array(e.length),r=0;r<e.length;r++)s[r]=e.charCodeAt(r);e=s.buffer,i[0]=0}for(var n=e instanceof ArrayBuffer?e.byteLength:e.size,o=n.toString(),a=new Uint8Array(o.length+1),r=0;r<o.length;r++)a[r]=parseInt(o[r]);if(a[o.length]=255,m){var l=new m([i.buffer,a.buffer,e]);t(null,l)}})}o(e,s,function(e,i){return t(new m(i))})},i.decodePayloadAsBinary=function(e,t,s){"function"==typeof t&&(s=t,t=null);for(var r=e,n=[],o=!1;r.byteLength>0;){for(var a=new Uint8Array(r),c=0===a[0],u="",d=1;255!=a[d];d++){if(u.length>310){o=!0;break}u+=a[d]}if(o)return s(h,0,1);r=l(r,2+u.length),u=parseInt(u);var p=l(r,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(v){var f=new Uint8Array(p);p="";for(var d=0;d<f.length;d++)p+=String.fromCharCode(f[d])}n.push(p),r=l(r,u)}var m=n.length;n.forEach(function(e,r){s(i.decodePacket(e,t,!0),r,m)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(e,t,i){t.exports=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var s in e)i.call(e,s)&&t.push(s);return t}},{}],23:[function(e,t,i){function s(e,t,i){function s(e,r){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(n=!0,t(e),t=i):0!==s.count||n||t(null,r)}var n=!1;return i=i||r,s.count=e,0===e?t():s}function r(){}t.exports=s},{}],24:[function(e,t,i){t.exports=function(e,t,i){var s=e.byteLength;if(t=t||0,i=i||s,e.slice)return e.slice(t,i);if(0>t&&(t+=s),0>i&&(i+=s),i>s&&(i=s),t>=s||t>=i||0===s)return new ArrayBuffer(0);for(var r=new Uint8Array(e),n=new Uint8Array(i-t),o=t,a=0;i>o;o++,a++)n[a]=r[o];return n.buffer}},{}],25:[function(e,t,i){!function(e){"use strict";i.encode=function(t){var i,s=new Uint8Array(t),r=s.length,n="";for(i=0;r>i;i+=3)n+=e[s[i]>>2],n+=e[(3&s[i])<<4|s[i+1]>>4],n+=e[(15&s[i+1])<<2|s[i+2]>>6],n+=e[63&s[i+2]];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n},i.decode=function(t){var i,s,r,n,o,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(i=0;l>i;i+=4)s=e.indexOf(t[i]),r=e.indexOf(t[i+1]),n=e.indexOf(t[i+2]),o=e.indexOf(t[i+3]),d[c++]=s<<2|r>>4,d[c++]=(15&r)<<4|n>>2,d[c++]=(3&n)<<6|63&o;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(e,t,i){(function(e){function i(e,t){t=t||{};for(var i=new s,r=0;r<e.length;r++)i.append(e[r]);return t.type?i.getBlob(t.type):i.getBlob()}var s=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return 2==e.size}catch(t){return!1}}(),n=s&&s.prototype.append&&s.prototype.getBlob;t.exports=function(){return r?e.Blob:n?i:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,i,s){(function(e){!function(r){function n(e){for(var t,i,s=[],r=0,n=e.length;n>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&n>r?(i=e.charCodeAt(r++),56320==(64512&i)?s.push(((1023&t)<<10)+(1023&i)+65536):(s.push(t),r--)):s.push(t);return s}function o(e){for(var t,i=e.length,s=-1,r="";++s<i;)t=e[s],t>65535&&(t-=65536,r+=b(t>>>10&1023|55296),t=56320|1023&t),r+=b(t);return r}function a(e,t){return b(e>>t&63|128)}function l(e){if(0==(4294967168&e))return b(e);var t="";return 0==(4294965248&e)?t=b(e>>6&31|192):0==(4294901760&e)?(t=b(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=b(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=b(63&e|128)}function c(e){for(var t,i=n(e),s=i.length,r=-1,o="";++r<s;)t=i[r],o+=l(t);return o}function u(){if(y>=g)throw Error("Invalid byte index");var e=255&m[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,t,i,s,r;if(y>g)throw Error("Invalid byte index");if(y==g)return!1;if(e=255&m[y],y++,0==(128&e))return e;if(192==(224&e)){var t=u();if(r=(31&e)<<6|t,r>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),i=u(),r=(15&e)<<12|t<<6|i,r>=2048)return r;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),i=u(),s=u(),r=(15&e)<<18|t<<12|i<<6|s,r>=65536&&1114111>=r))return r;throw Error("Invalid UTF-8 detected")}function p(e){m=n(e),g=m.length,y=0;for(var t,i=[];(t=d())!==!1;)i.push(t);return o(i)}var v="object"==typeof s&&s,f="object"==typeof i&&i&&i.exports==v&&i,h="object"==typeof e&&e;h.global!==h&&h.window!==h||(r=h);var m,g,y,b=String.fromCharCode,w={version:"2.0.0",encode:c,decode:p};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return w});else if(v&&!v.nodeType)if(f)f.exports=w;else{var j={},k=j.hasOwnProperty;for(var _ in w)k.call(w,_)&&(v[_]=w[_])}else r.utf8=w}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,i){(function(e){var i=/^[\],:{}\s]*$/,s=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,n=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(o,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):i.test(t.replace(s,"@").replace(r,"]").replace(n,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,i){i.encode=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t},i.decode=function(e){for(var t={},i=e.split("&"),s=0,r=i.length;r>s;s++){var n=i[s].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}},{}],30:[function(e,t,i){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,i=e.indexOf("["),n=e.indexOf("]");-1!=i&&-1!=n&&(e=e.substring(0,i)+e.substring(i,n).replace(/:/g,";")+e.substring(n,e.length));for(var o=s.exec(e||""),a={},l=14;l--;)a[r[l]]=o[l]||"";return-1!=i&&-1!=n&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],31:[function(e,t,i){function s(e,t,i){var s;return s=t?new n(e,t):new n(e)}var r=function(){return this}(),n=r.WebSocket||r.MozWebSocket;t.exports=n?s:null,n&&(s.prototype=n.prototype)},{}],32:[function(e,t,i){(function(i){function s(e){function t(e){if(!e)return!1;if(i.Buffer&&i.Buffer.isBuffer(e)||i.ArrayBuffer&&e instanceof ArrayBuffer||i.Blob&&e instanceof Blob||i.File&&e instanceof File)return!0;if(r(e)){for(var s=0;s<e.length;s++)if(t(e[s]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(e,t,i){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],34:[function(e,t,i){var s=e("global");try{t.exports="XMLHttpRequest"in s&&"withCredentials"in new s.XMLHttpRequest}catch(r){t.exports=!1}},{global:35}],35:[function(e,t,i){t.exports=function(){return this}()},{}],36:[function(e,t,i){var s=[].indexOf;t.exports=function(e,t){if(s)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},{}],37:[function(e,t,i){var s=Object.prototype.hasOwnProperty;i.keys=Object.keys||function(e){var t=[];for(var i in e)s.call(e,i)&&t.push(i);return t},i.values=function(e){var t=[];for(var i in e)s.call(e,i)&&t.push(e[i]);return t},i.merge=function(e,t){for(var i in t)s.call(t,i)&&(e[i]=t[i]);return e},i.length=function(e){return i.keys(e).length},i.isEmpty=function(e){return 0==i.length(e)}},{}],38:[function(e,t,i){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=s.exec(e||""),i={},n=14;n--;)i[r[n]]=t[n]||"";return i}},{}],39:[function(e,t,i){(function(t){var s=e("isarray"),r=e("./is-buffer");i.deconstructPacket=function(e){function t(e){if(!e)return e;if(r(e)){var n={_placeholder:!0,num:i.length};return i.push(e),n}if(s(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=t(e[a]);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var l in e)o[l]=t(e[l]);return o}return e}var i=[],n=e.data,o=e;return o.data=t(n),o.attachments=i.length,{packet:o,buffers:i}},i.reconstructPacket=function(e,t){function i(e){if(e&&e._placeholder){var r=t[e.num];return r}if(s(e)){for(var n=0;n<e.length;n++)e[n]=i(e[n]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=i(e[o]);return e}return e}return e.data=i(e.data),e.attachments=void 0,e},i.removeBlobs=function(e,i){function n(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){o++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--o||i(a)},u.readAsArrayBuffer(e)}else if(s(e))for(var d=0;d<e.length;d++)n(e[d],d,e);else if(e&&"object"==typeof e&&!r(e))for(var p in e)n(e[p],p,e)}var o=0,a=e;n(a),o||i(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(e,t,i){function s(){}function r(e){var t="",s=!1;return t+=e.type,i.BINARY_EVENT!=e.type&&i.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(s=!0,t+=e.nsp),null!=e.id&&(s&&(t+=",",s=!1),t+=e.id),null!=e.data&&(s&&(t+=","),t+=d.stringify(e.data)),u("encoded %j as %s",e,t),t}function n(e,t){function i(e){var i=v.deconstructPacket(e),s=r(i.packet),n=i.buffers;n.unshift(s),t(n)}v.removeBlobs(e,i)}function o(){this.reconstructor=null}function a(e){var t={},s=0;if(t.type=Number(e.charAt(0)),null==i.types[t.type])return c();if(i.BINARY_EVENT==t.type||i.BINARY_ACK==t.type){for(t.attachments="";"-"!=e.charAt(++s);)t.attachments+=e.charAt(s);t.attachments=Number(t.attachments)}if("/"==e.charAt(s+1))for(t.nsp="";++s;){var r=e.charAt(s);if(","==r)break;if(t.nsp+=r,s+1==e.length)break}else t.nsp="/";var n=e.charAt(s+1);if(""!=n&&Number(n)==n){for(t.id="";++s;){var r=e.charAt(s);if(null==r||Number(r)!=r){--s;break}if(t.id+=e.charAt(s),s+1==e.length)break}t.id=Number(t.id)}if(e.charAt(++s))try{t.data=d.parse(e.substr(s))}catch(o){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:i.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),d=e("json3"),p=(e("isarray"),e("component-emitter")),v=e("./binary"),f=e("./is-buffer");i.protocol=4,i.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],i.CONNECT=0,i.DISCONNECT=1,i.EVENT=2,i.ACK=3,i.ERROR=4,i.BINARY_EVENT=5,i.BINARY_ACK=6,i.Encoder=s,i.Decoder=o,s.prototype.encode=function(e,t){if(u("encoding packet %j",e),i.BINARY_EVENT==e.type||i.BINARY_ACK==e.type)n(e,t);else{var s=r(e);t([s])}},p(o.prototype),o.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),i.BINARY_EVENT==t.type||i.BINARY_ACK==t.type?(this.reconstructor=new l(t),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=v.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(e,t,i){(function(e){function i(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t,i){t.exports=e(33)},{}],43:[function(e,i,s){!function(e){function i(e){if(i[e]!==o)return i[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=i("json-stringify")&&i("json-parse");else{var s,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var n=u.stringify,l="function"==typeof n&&d;if(l){(s=function(){return 1}).toJSON=s;try{l="0"===n(0)&&"0"===n(new Number)&&'""'==n(new String)&&n(a)===o&&n(o)===o&&n()===o&&"1"===n(s)&&"[1]"==n([s])&&"[null]"==n([o])&&"null"==n(null)&&"[null,null,null]"==n([o,a,null])&&n({a:[s,!0,!1,null,"\x00\b\n\f\r	"]})==r&&"1"===n(null,s)&&"[\n 1,\n 2\n]"==n([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==n(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==n(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==n(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==n(new Date(-1))}catch(c){l=!1}}t=l}if("json-parse"==e){var p=u.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){s=p(r);var v=5==s.a.length&&1===s.a[0];if(v){try{v=!p('"	"')}catch(c){}if(v)try{v=1!==p("01")}catch(c){}if(v)try{v=1!==p("1.")}catch(c){}}}}catch(c){v=!1}t=v}}return i[e]=!!t}var r,n,o,a={}.toString,l="function"==typeof t&&t.amd,c="object"==typeof JSON&&JSON,u="object"==typeof s&&s&&!s.nodeType&&s;u&&c?(u.stringify=c.stringify,u.parse=c.parse):u=e.JSON=c||{};var d=new Date(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(p){}if(!i("json")){var v="[object Function]",f="[object Date]",h="[object Number]",m="[object String]",g="[object Array]",y="[object Boolean]",b=i("bug-string-char-index");if(!d)var w=Math.floor,j=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(e,t){return j[t]+365*(e-1970)+w((e-1969+(t=+(t>1)))/4)-w((e-1901+t)/100)+w((e-1601+t)/400)};(r={}.hasOwnProperty)||(r=function(e){var t,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=a?r=function(e){var t=this.__proto__,i=e in(this.__proto__=null,this);return this.__proto__=t,i}:(t=i.constructor,r=function(e){var i=(this.constructor||t).prototype;return e in this&&!(e in i&&this[e]===i[e])}),i=null,r.call(this,e)});var _={"boolean":1,number:1,string:1,undefined:1},x=function(e,t){var i=typeof e[t];return"object"==i?!!e[t]:!_[i]};if(n=function(e,t){var i,s,o,l=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,s=new i;for(o in s)r.call(s,o)&&l++;return i=s=null,l?n=2==l?function(e,t){var i,s={},n=a.call(e)==v;for(i in e)n&&"prototype"==i||r.call(s,i)||!(s[i]=1)||!r.call(e,i)||t(i)}:function(e,t){var i,s,n=a.call(e)==v;for(i in e)n&&"prototype"==i||!r.call(e,i)||(s="constructor"===i)||t(i);(s||r.call(e,i="constructor"))&&t(i)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],n=function(e,t){var i,n,o=a.call(e)==v,l=!o&&"function"!=typeof e.constructor&&x(e,"hasOwnProperty")?e.hasOwnProperty:r;for(i in e)o&&"prototype"==i||!l.call(e,i)||t(i);for(n=s.length;i=s[--n];l.call(e,i)&&t(i));}),n(e,t)},!i("json-stringify")){var U={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C="000000",T=function(e,t){return(C+(t||0)).slice(-e)},S="\\u00",A=function(e){var t,i='"',s=0,r=e.length,n=r>10&&b;for(n&&(t=e.split(""));r>s;s++){var o=e.charCodeAt(s);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:i+=U[o];break;default:if(32>o){i+=S+T(2,o.toString(16));break}i+=n?t[s]:b?e.charAt(s):e[s]}}return i+'"'},E=function(e,t,i,s,l,c,u){var d,p,v,b,j,_,x,U,C,S,O,$,P,D,L,N;try{d=t[e]}catch(R){}if("object"==typeof d&&d)if(p=a.call(d),p!=f||r.call(d,"toJSON"))"function"==typeof d.toJSON&&(p!=h&&p!=m&&p!=g||r.call(d,"toJSON"))&&(d=d.toJSON(e));else if(d>-1/0&&1/0>d){if(k){for(j=w(d/864e5),v=w(j/365.2425)+1970-1;k(v+1,0)<=j;v++);for(b=w((j-k(v,0))/30.42);k(v,b+1)<=j;b++);j=1+j-k(v,b),_=(d%864e5+864e5)%864e5,x=w(_/36e5)%24,U=w(_/6e4)%60,C=w(_/1e3)%60,S=_%1e3}else v=d.getUTCFullYear(),b=d.getUTCMonth(),j=d.getUTCDate(),x=d.getUTCHours(),U=d.getUTCMinutes(),C=d.getUTCSeconds(),S=d.getUTCMilliseconds();d=(0>=v||v>=1e4?(0>v?"-":"+")+T(6,0>v?-v:v):T(4,v))+"-"+T(2,b+1)+"-"+T(2,j)+"T"+T(2,x)+":"+T(2,U)+":"+T(2,C)+"."+T(3,S)+"Z";
}else d=null;if(i&&(d=i.call(t,e,d)),null===d)return"null";if(p=a.call(d),p==y)return""+d;if(p==h)return d>-1/0&&1/0>d?""+d:"null";if(p==m)return A(""+d);if("object"==typeof d){for(D=u.length;D--;)if(u[D]===d)throw TypeError();if(u.push(d),O=[],L=c,c+=l,p==g){for(P=0,D=d.length;D>P;P++)$=E(P,d,i,s,l,c,u),O.push($===o?"null":$);N=O.length?l?"[\n"+c+O.join(",\n"+c)+"\n"+L+"]":"["+O.join(",")+"]":"[]"}else n(s||d,function(e){var t=E(e,d,i,s,l,c,u);t!==o&&O.push(A(e)+":"+(l?" ":"")+t)}),N=O.length?l?"{\n"+c+O.join(",\n"+c)+"\n"+L+"}":"{"+O.join(",")+"}":"{}";return u.pop(),N}};u.stringify=function(e,t,i){var s,r,n,o;if("function"==typeof t||"object"==typeof t&&t)if((o=a.call(t))==v)r=t;else if(o==g){n={};for(var l,c=0,u=t.length;u>c;l=t[c++],o=a.call(l),(o==m||o==h)&&(n[l]=1));}if(i)if((o=a.call(i))==h){if((i-=i%1)>0)for(s="",i>10&&(i=10);s.length<i;s+=" ");}else o==m&&(s=i.length<=10?i:i.slice(0,10));return E("",(l={},l[""]=e,l),r,n,s,"",[])}}if(!i("json-parse")){var O,$,P=String.fromCharCode,D={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},L=function(){throw O=$=null,SyntaxError()},N=function(){for(var e,t,i,s,r,n=$,o=n.length;o>O;)switch(r=n.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?n.charAt(O):n[O],O++,e;case 34:for(e="@",O++;o>O;)if(r=n.charCodeAt(O),32>r)L();else if(92==r)switch(r=n.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=D[r],O++;break;case 117:for(t=++O,i=O+4;i>O;O++)r=n.charCodeAt(O),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||L();e+=P("0x"+n.slice(t,O));break;default:L()}else{if(34==r)break;for(r=n.charCodeAt(O),t=O;r>=32&&92!=r&&34!=r;)r=n.charCodeAt(++O);e+=n.slice(t,O)}if(34==n.charCodeAt(O))return O++,e;L();default:if(t=O,45==r&&(s=!0,r=n.charCodeAt(++O)),r>=48&&57>=r){for(48==r&&(r=n.charCodeAt(O+1),r>=48&&57>=r)&&L(),s=!1;o>O&&(r=n.charCodeAt(O),r>=48&&57>=r);O++);if(46==n.charCodeAt(O)){for(i=++O;o>i&&(r=n.charCodeAt(i),r>=48&&57>=r);i++);i==O&&L(),O=i}if(r=n.charCodeAt(O),101==r||69==r){for(r=n.charCodeAt(++O),43!=r&&45!=r||O++,i=O;o>i&&(r=n.charCodeAt(i),r>=48&&57>=r);i++);i==O&&L(),O=i}return+n.slice(t,O)}if(s&&L(),"true"==n.slice(O,O+4))return O+=4,!0;if("false"==n.slice(O,O+5))return O+=5,!1;if("null"==n.slice(O,O+4))return O+=4,null;L()}return"$"},R=function(e){var t,i;if("$"==e&&L(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=N(),"]"!=e;i||(i=!0))i&&(","==e?(e=N(),"]"==e&&L()):L()),","==e&&L(),t.push(R(e));return t}if("{"==e){for(t={};e=N(),"}"!=e;i||(i=!0))i&&(","==e?(e=N(),"}"==e&&L()):L()),","!=e&&"string"==typeof e&&"@"==(b?e.charAt(0):e[0])&&":"==N()||L(),t[e.slice(1)]=R(N());return t}L()}return e},I=function(e,t,i){var s=M(e,t,i);s===o?delete e[t]:e[t]=s},M=function(e,t,i){var s,r=e[t];if("object"==typeof r&&r)if(a.call(r)==g)for(s=r.length;s--;)I(r,s,i);else n(r,function(e){I(r,e,i)});return i.call(e,t,r)};u.parse=function(e,t){var i,s;return O=0,$=""+e,i=R(N()),"$"!=N()&&L(),O=$=null,t&&a.call(t)==v?M((s={},s[""]=i,s),"",t):i}}}l&&t(function(){return u})}(this)},{}],44:[function(e,t,i){function s(e,t){var i=[];t=t||0;for(var s=t||0;s<e.length;s++)i[s-t]=e[s];return i}t.exports=s},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/ricksmit/dev/vigour-js/browser/network/data/element.js":[function(e,t,i){function s(e,t){if(e.sort&&e.sort.field){var i={$:{}};i.$[e.sort.field]=!0,a.merge(t,i)}return t}function r(e,t,i,r,n,u,d){var p,v,f;u&&(v=void 0!==u._name?u._name:u,u instanceof c&&(v=u._name),u instanceof Array&&u[1]);var h=d&&u&&(d._d||d.checkParent("data",!0));if("collection"===r){var m;if(i.filter&&i.filter.val!==!0){m={};var g=i.filter.raw,y=a.path(e,t.split("."),[]);y.push([g,{$:s(g,m)}]);var b=a.path(e,t.split("."),{},!0);for(var w in y[y.length-1][1])b[w]=y[y.length-1][1][w];y=b}else{var j,g=t===!0?"$":t+".$",k=g.split(".");h&&h[v]&&(p=!0,k[0]===v&&(k.shift(),p=!1)),p?j&&(e.specialFix=v,f&&(e.specialFix=[v,f]),m=a.path(e,k,{}),o(i.element._val instanceof l?i.element._val:i.element._val.base,m)):(m=a.path(e,k,{}),o(i.element._val instanceof l?i.element._val:i.element._val.base,m))}}else if(h&&h[v]&&(p=!0),t instanceof Array)for(var w in t)p?(t[w]instanceof Array&&(t[w]=t[w][0]),t[w]=t[w].split("."),t[w][0]===v&&(t[w].shift(),a.path(e,t[w],!0))):(t[w]instanceof Array&&(t[w]=t[w][0]),a.path(e,t[w].split("."),!0));else t!==!0&&"string"==typeof t&&(p?(t=t.split("."),t[0]===v&&(t.shift(),t.length>0&&a.path(e,t,!0))):a.path(e,t.split("."),!0))}function n(e,t,i,s,n,o){if(t instanceof Array)for(var a=0,l=t.length;l>a;a++)r(e,t[a]._flag.data[2],t,i,s,n,o);else r(e,t._flag.data[2],t,i,s,n,o)}function o(e,t,i,s,r){if(e.model&&(e.model.flags||e.model.subscription||e.model.field)){var l,c=t;if(r);else if(!e.model.field||!e.model.field.val||e.model.parsing||e.model.parsed||"string"==typeof s&&e.model.field.val!==s){if(s&&e.model.field&&e.model.field.val!==s)return}else l=e.model.field.val.split("."),e.model.field.val===s||(c=a.path(t,l,{},!0));if(e.model&&e.model.subscription){var u=e.model.subscription.raw;if(u===!0)l&&(l.length>1?c=a.path(t,l,!0,!0):(t[l[0]]=!0,c=!0));else{var d=e.model.subscription.raw;if("string"==typeof d){var p=d;d={},d[p]=!0}a.merge(c,d)}}for(var v in e.model.flags)n(c,e.model.flags[v],v,i,s,e)}if(!e.model||!e.model.block||!e.model.block.val)for(var f,h=e.children,m=0,g=h&&h.length;g>m;f=m++)f=h[m],(f.model&&f.model.inherit&&f.model.inherit.val===!1||f._col||f.data)&&!f._dfrom||o(f,t,i,s);return t["__#__"]&&delete t["__#__"],e.model&&e.model.block&&"all"===e.model.block.val?void 0:t}var a=e("../../../util"),l=e("../../element"),c=(e("../../../util/hash"),e("../../../object"));i.parseData=function(e,t,i){if(e){var r={},n=e._filter,o=t||e.__sub;if(o)if(n){r["*"]||(r["*"]=[]),r["*"].push([a.clone(n,{subsObj:!0,fn:!0,type:!0}),s(n,t||{$:o})]);for(var l in r["*"][1])r[l]=r["*"][1][l];delete r["*"]}else r=o;return r}},a.define(l,"getModel",function(e,t,i){var s=o(this,{},e,t,i);return a.empty(s)?null:s})},{"../../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../../util/hash":"/Users/ricksmit/dev/vigour-js/util/hash.js","../../element":"/Users/ricksmit/dev/vigour-js/browser/element/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/network/data/index.js":[function(e,t,i){var s=e("../../../object"),r=e("../../../data"),n=(e("../../../value"),e("../../../util")),o=e("../../../"),a=t.exports=i=o.Networkdata=r["new"]({mixed:4,merge:!0}),l="subscribe",c="un"+l,u="Listener",d="add"+u,p="remove"+u,v=s.prototype,f=v[d],h=v[p],m=function(e,t){for(var i=this;i&&4===i.__t;){if(i.__block)return;i=i._val}i instanceof a&&i[e]&&i[e](t,this)};e("../../../");a.prototype._blacklist.push("_subs","_complete"),n.define(a,"get",function(e,t,i,s){return this.path(e instanceof Array?e:String(e).split("."),void 0!==t?t:{},!1,!1,!1,s||!1,!0,!i)},d,function(e){this[l]&&this[l](e),f.apply(this,arguments)},p,function(e,t){this._listeners&&this[c]&&this[c](t),h.apply(this,arguments)}),n.define(r,d,function(e){this.__block||m.call(this,l,e),f.apply(this,arguments)},p,function(e,t){this.__block||m.call(this,c,t),h.apply(this,arguments)})},{"../../../":"/Users/ricksmit/dev/vigour-js/index.js","../../../data":"/Users/ricksmit/dev/vigour-js/data/index.js","../../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../../value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/browser/network/url.js":[function(e,t,i){function s(e){var t;o.hashUrl&&i.blocks===d?d++:(d++,t="u"+d,i.clearCache(),i.string.clearCache(),i.string._update(i.string.val,t),i.params._update(i.string.val,t),i._update(i.string.val,t),i._lstamp=null)}var r=e("../../util"),n=e("../../value"),o=e("../../util/config"),a=(e("../../value/flags/process"),e("../../browser/animation/raf")),l=e("../../browser/events/util").postpone,c=(e("../../browser/ua"),e("../../browser/cases"));t.exports=i=new n,c.crawler&&(o.hashUrl=!1),console.log("config.hashUrl",o.hashUrl);var u=!o.hashUrl,d=0,p=l(u?function(e){window.history.pushState({},"","/"+e.replace(/ /g,"+").replace(/^#\//,"").toLowerCase())}:function(e){i.block=!0,window.location.href="#/"+e.replace(/ /g,"+").toLowerCase(),i.block=!1}),v=(n.prototype._set,function(){if(u){var e=window.location.href;return e&&(t=f(e),e=e.replace(t,"")),String(window.location.href).replace(String(window.location.origin)+"/","").replace(/^#\//,"").replace(/\+/g," ")||""}var e=window.location.href.split("#"),t="";return e&&1===e.length&&(t=f(e[0]),e[0]=e[0].replace(t,"")),(e.length>1?e[1].replace(/\+/g," "):" ").slice(1)+t}),f=function(e){e||(e=v()||"");var t=e.split("?"),i=t.length;return e=i>1&&t[t.length-1]?"?"+t[t.length-1]:""};i.parse=v,i.val={string:function(){for(var e=v(),t=e.split("/",1),i=0;i<o.languages.length;i++)o.languages[i]===t&&(app.region.val=t,app.language.val=t);return e.replace(f(e),"")},params:{val:function(){return f()},defer:function(e,t){this.clearCache();var i,s,r,n=this.val;if(n&&n!==this._last){this._last=n,i=n.slice(1).split("&"),s={};for(var o in i)r=i[o].split("="),r.length>1?s[r[0]]=r[1]:console.error("url: no [key]=[value] format -- not implemented yet");this.val=s}a(function(){e()})}},transform:function(e,t){return t},defer:function(e,t){if(!t[1]||"u"!==t[1][0]){this.clearCache();var s="string"==typeof t[0]?t[0]:t[0]&&t[0].val||this.val;return s&&(i.blocks=d,p(s+this.params.val)),!0}this.clearCache(),a(function(){e()})}},r.define(i,"update",function(){s()}),r.define(i.string,"raw",{get:function(){return this.val.replace(/ /g,"+")}}),o.hashUrl?window.onhashchange=s:window.onpopstate=s},{"../../browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js","../../browser/cases":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","../../browser/events/util":"/Users/ricksmit/dev/vigour-js/browser/events/util.js","../../browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../util/config":"/Users/ricksmit/dev/vigour-js/util/config/index.js","../../value":"/Users/ricksmit/dev/vigour-js/value/index.js","../../value/flags/process":"/Users/ricksmit/dev/vigour-js/value/flags/process.js"}],"/Users/ricksmit/dev/vigour-js/browser/ua.js":[function(e,t,i){var s=e("../util"),r=i.test=function(e,t){for(var i=s.arg(arguments,1),r=i.length-1,n=i[r][0];n!==!0&&!new RegExp(n).test(e);n=i[--r][0]);(t.slice||t.call(this,n,i[r]))&&(this[t]=i[r][1])},n=i.parse=function(e,t){e||(t=i,e="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"no navigator"),e=e.toLowerCase(),t||(t={});var n="firefox",o="android",a=".+mobile",l="webkit",c="playstation",u="xbox",d="linux",p="crkey",v="chromecast",f="tablet",h="windows",m="phone";r.call(t,e,function(i,s){t.browser=s[2]||i;var r=e.match(new RegExp("((([\\/ ]version|"+s[0]+"(?!.+version))[/ ])| rv:)([0-9]{1,4}\\.[0-9]{0,2})"));t.version=r?Number(r[4]):0,t.prefix=s[1]},[!0,l],["\\(windows","ms","ie"],["safari",l],[n,"Moz"],["opera","O"],["msie","ms","ie"],["chrome|crios/",l,"chrome"]),r.call(t,e,"platform",[!0,h],[d,d],["lg.{0,3}netcast","lg"],[n+a,n],["mac os x","mac"],["iphone|ipod|ipad","ios"],[u,u],[c,c],[o,o],[h,h],[p,v],["smart-tv;|;samsung;smarttv","samsung"]),r.call(t,e,"device",[!0,"desktop"],[h+".+touch|ipad|"+o,f],["iphone|("+o+a+")|("+n+a+")|"+h+" phone|iemobile",m],[u+"|"+c,"console"],["tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv|webos.+large","tv"],[p,v],["amazon-fireos",f]);var g=304704;return t.platform===o&&!s.isNode&&t.device===m&&window.innerWidth*window.innerHeight>g&&(t.device="tablet"),t};if(!s.isNode&&(n(),window.__ua__))for(var o in window.__ua__)i[o]=window.__ua__[o]},{"../util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/data/base.js":[function(e,t,i){var s=e("./"),r=(e("../base"),e("../util")),n=(e("../value/flags/data"),e("../object"));i.extend=r.extend(function(e,t,i){var o=r.compareArrays,a={_dUpdate:function(e,t,i,n,a,l,c,u,d,p){if(this.model){if("$ndata"===e&&(t=n,i=a,n=l,a=c,l=u,c=d,u=p),!this._d&&this.parent)for(var v=this.parent;!this._d&&v;)v._d?this._dSet(v._d,!0):v=v.parent;var f=this,h=f.model,m=h.flags,g=f._d&&f._d._path||[],y=(n||(n=f._d&&f._d._updateOrigin)&&!(n===f._d&&(n=!1)))&&n.updatePath,b=n&&n._path,w=function(i,s){var d,p,v,h;if(!s._flag.data)return void console.error("NO DATA FLAG",y,s._flag,t,e,a,l,c);if(s=s._flag.data[2],"collection"!==i||!f._colFilter){if(s===!0)p=!0;else if(s.pop){s=s.concat();for(var m=s.length-1;m>=0;m--)void 0!==!h&&(d=r.get(f._d,s[m]),void 0!==d&&(h=!0)),s[m]=s[m].split(".")}else s=s.split("."),d=r.get(f._d,s),!d&&f._d&&f._d.from&&s&&(d=r.get(f._d.from,s)),d&&n&&4===n.__t&&(h=!0);if(!p&&n){v=!0;var w;if(n===d||(w=n.from)===d)p=!0;else if(f._d._filter&&d&&d._ancestor(n))p=!0;else if(h)for(var j=0;j<s.length;j++){if(y&&o(y,s[j])||s[j][0]===y[0]&&r.get(t,s[j].concat().shift())){v=!1;break}if(o(g.concat(s[j]),b)||o(s[j],b)){v=!1;break}if(d&&null!==n._val&&t&&(t[s[j]]||t.$path||4===t.__t)&&(d._ancestor(n)||d.from._ancestor(w))){p=!0;break}}else if(null===t);else if(void 0===t);else if(y&&o(y,s)||s[0]===y&&y[0]&&r.get(t,s.concat().shift()))v=!1;else if(g&&(o(g.concat(s),b)||o(s,b)))v=!1;else if(d&&t[s[0]]&&d._ancestor(n))p=!0;else if(f.__checkKeys__)for(var k in f.__checkKeys__)s!==f.__checkKeys__[k]&&s[0]!==f.__checkKeys__[k]||(p=!0)}return p||a||(u||a||void 0!==d)&&(!v||1===a)?(f[i]._update(t,!1,n,a,l,c,!u,f),!0):void 0}},j=function(){if(this._d){var e,t=this;t.model.val,h.field&&(e=r.get(t._d,h.field.val)),h._val&&(e=h._val.call(t,e||t._d)||e),e&&t._d!==e&&(h.parsing=!0,h.field&&(h.parsed=h.field.val),this._dSet(e),h.parsing=!1)}};if(j.call(f),u&&f.eachInstance(j,"model"),m&&(u||f._d))for(var k in m)if(m[k].__t)w(k,m[k]);else for(var _=0,x=m[k].length;x>_&&!w(k,m[k][_]);_++);this.model.complete&&this.model.complete._val.call(this,s)}},_dSet:function(e,t){return this.model._flag&&this.model._flag.defer&&!this.__processing?void(this.__pFlag=[e,t]):(this._d&&this._d.__t&&this._d.removeListener(!0,this),this._d=e,t&&(this._dfrom=!0),this._dListen(),e)},_dListen:function(){var e;if(this.model&&this._d&&this._d instanceof n)this._d.addListener([this._dUpdate,this]),e=this,this._d.cloud||this._d.each(function(){e.__checkKeys__=!0,4===this.__t&&this.addListener([e._dUpdate,e,"$ndata",this])});else if(this.model&&this._d)for(var t in this._d)this.__checkKeys__&&this.__checkKeys__!==!0||(this.__checkKeys__=[]),this._d[t]instanceof n&&(this.__checkKeys__.push||console.error("xxxxxx",this,this.__checkKeys__,t,this._d),this.__checkKeys__.push(t),this._d[t].addListener([this._dUpdate,this,"$ndata",t]))},updateData:function(e){return this.model._flag&&this.model._flag.defer&&!this.__processing?(this.__pFlagU=[e],void this.model._update()):void this._dUpdate(this._d,void 0,!1,!1,!1,!1,!1,e)}},l=function(i){e.extend({name:i,type:!1,value:t&&t[i]?function(){a[i].apply(this,arguments),t[i].apply(this,arguments)}:a[i]})};for(var c in a)l(c);e.extend({name:"model",cache:!1,set:function(e){if((this.__pFlag||this.__pFlagU)&&(this.__processing=!0,this.model.parsing=!1,this.__pFlag&&this._dSet.apply(this,this.__pFlag),this.__pFlagU&&this.updateData.apply(this,this.__pFlagU),this.__pFlagU=null,this.__pFlag=null,this.__processing=null),e.field&&e.field.val!==e.parsed){var t,i=e.parsed&&e.parsed.split(".");if(e.parsed=null,this._d)if(t=this._d,i){for(var s=i.length-1;s>=0;s--)t=t._parent;t&&(this._dSet(t),this.updateData(!0))}else this.updateData(!0);e.parsed=null}},remove:function(){if(this._d)if(this._d.__t){if(this._d.removeListener(void 0,this),!this._d.cloud){var e=this;this._d.each(function(){4===this.__t&&this.removeListener(void 0,e)})}}else if(this.__checkKeys__)for(var t in this.__checkKeys__)this._d[this.__checkKeys__[t]]instanceof n&&this._d[this.__checkKeys__[t]].removeListener(void 0,this)}},{name:"data",type:!1,set:function(e){if(this._d!==e){if(this.model._flag&&this.model._flag.defer)return this.__pFlag=[e],void(this.__pFlagU=[!0]);this.model.parsing=!1,this._dSet(e),this.updateData(!0)}},get:function(){return this._d}})})},{"../base":"/Users/ricksmit/dev/vigour-js/base/index.js","../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../value/flags/data":"/Users/ricksmit/dev/vigour-js/value/flags/data.js","./":"/Users/ricksmit/dev/vigour-js/data/index.js"}],"/Users/ricksmit/dev/vigour-js/data/conditions.js":[function(e,t,i){function s(e,t,i){var s;switch(e){case"$not":if(t instanceof Object){var o=l(t,i);s=function(e){return o(e)===!1}}else s=function(e){return e!==t};break;case"$ne":s=function(e){return e!==t};break;case"$and":var c=r(t,i);s=n(c);break;case"$nand":var c=r(t,i);s=function(e){for(var t=0,i=c.length;i>t;t++)if(c[t](e)===!1)return!0;return!1};break;case"$or":var c=r(t,i);s=function(e){for(var t=0,i=c.length;i>t;t++)if(c[t](e))return!0;return!1};break;case"$nor":var c=r(t,i);s=function(e){for(var t=0,i=c.length;i>t;t++)if(c[t](e))return!1;return!0};break;case"$every":i.set("$",{});var o=l(t,i.$);s=function(e){if(e&&e.__t<3){var t=!0;return e.each(function(){return o(this)?void 0:!(t=!1)}),t}return!1};break;case"$nevery":i.set("$",{});var o=l(t,i.$);s=function(e){if(e&&e.__t<3){var t=!1;return e.each(function(){return o(this)?void 0:t=!0}),t}return!0};break;case"$":case"$some":if(i.set("$",{}),t instanceof Object){var o=l(t,i.$);s=function(e){if(e&&e.__t<3){var t;return e.each(function(){return o(this)?t=!0:void 0}),t||!1}return!1}}else s=function(e){if(e&&e.__t<3){var i;return e.each(function(){return this===t?i=!0:void 0}),i||!1}return!1},i.$._check=function(e){return e===t};break;case"$nsome":i.set("$",{});var o=l(t,i.$);s=function(e){if(e&&e.__t<3){var t=!0;return e.each(function(){return o(this)?!(t=!1):void 0}),t}return!0};break;case"$lt":s=function(e){return t>e};break;case"$lte":s=function(e){return t>=e};break;case"$gt":s=function(e){return e>t};break;case"$gte":s=function(e){return e>=t};break;case"$contains":var u=new RegExp(t,"i");s=function(e){return u.test(e)};break;case"$ncontains":var u=new RegExp(t,"i");s=function(e){return!u.test(e)};break;case"$containsall":break;case"$ncontainsall":break;case"$has":s=function(e){return e&&void 0!==e[t]};break;case"$nhas":s=function(e){return!e||void 0===e[t]};break;case"$exists":s=function(e){return(void 0!==e&&null!==e)===t};break;case"$in":s=function(e){for(var i=0,s=t.length;s>i;i++)if(e===t[i])return!0;return!1};break;case"$nin":s=function(e){for(var i=0,s=t.length;s>i;i++)if(e===t[i])return!1;return!0};break;case"$regex":s=function(e){return t.test(e)};break;default:if(t instanceof Object){var d=i[e];d||(i.set(e,{}),d=i[e]);var o=l(t,d);s=function(t){return t=a(t,e),o(t)}}else s=function(i){return i=a(i,e),i===t},i.set(e,{}),i[e]._check=s}return i?i._check=s:s}function r(e,t){for(var i=[],s=0,r=e.length;r>s;s++)i.push(l(e[s],t));return i}function n(e,t){return function(t){for(var i=o(t),s=0,r=e.length;r>s;s++)if(e[s](i)===!1)return!1;return!0}}function o(e){var t=e&&e.from&&e.from.val;return void 0!==t?t:e}function a(e,t){return e=o(e),e?o(e[t]):void 0}var l=(e("./"),t.exports=function(e,t){if(e instanceof Object){var i=Object.keys(e);if(1===i.length){var r=i[0],a=s(r,e[r],t);return t._check=function(e){var t=o(e);return a(t)}}for(var r,l=[],c=0,u=i.length;u>c;c++)r=i[c],l.push(s(r,e[r],t));return t._check=n(l)}return t._check=function(t){return o(t)===e}})},{"./":"/Users/ricksmit/dev/vigour-js/data/index.js"}],"/Users/ricksmit/dev/vigour-js/data/index.js":[function(e,t,i){var s=e("old-vigour-js"),r=e("old-vigour-js/object"),n=e("old-vigour-js/util");t.exports=i=s.Data=r["new"](),i.prototype._blacklist.push("__sub","__block"),n.define(i,"_hook",function(e,t){t.subscription&&(this.__sub=t.subscription,delete t.subscription),t.block&&(this.__block=!0,delete t.block)})},{"old-vigour-js":"/Users/ricksmit/dev/vigour-js/index.js","old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/data/selection.js":[function(e,t,i){function s(e,t){var i=e.val;return i&&i[t]&&i[t].val}function r(e,t){var i=e.path(t);return i&&i.val}var n=e("./conditions"),o=e("../util/hash"),a=e("../object"),l=e("../util");i.SubsObj=a["new"](),i.SubsObj.prototype._blacklist.push("_root","_check","_sort","_uid"),i.extend=l.extend(function(e){e.prototype._blacklist.push("_filter","_uid","_hash","_indexCache","_subscnt");var t=e.prototype._update,s=e.prototype._hook,r=e.prototype.remove;l.define(e,"remove",function(){var e;if(this._filter&&(e=this.length))for(var t=0;e>t;t++)delete this[t];return r.apply(this,arguments)},"filter",{get:function(){return this._filter},set:function(e){this._filter=e,this._build(void 0,!0),t.call(this,void 0,this.stamp(),void 0,!1,!1,void 0)}},"_hook",function(e,t){if(s&&s.call(this,e,t),!l.empty(t)&&e){var i=this;i._subscnt=0,i._filter=t,i._hash=o(e._path+JSON.stringify([t.condition,t.range,t.sort])),i._uid||(i._uid=i._hash)}},"_build",function(e,s){var r=this;if(e||(e=r._val),e){r.length&&r._clear();var o,a,l=[],p=this._itemsHandler,v=r._filter,f=v.subsObj||new i.SubsObj({},r),h=this.stamp();if(4!==e.__t||e._filter||(e=e.from),v.sort&&("string"==typeof v.sort&&(v.sort={field:v.sort}),o=v.sort,o.fn||(o.type||(o.type="string"),o.fn=d[o.type](o)),f.path(o.field.split("."),{}).set("_sort",!0)),v.condition){var m=0,g=0,y=v.check||(v.check=n(v.condition,f));v.subsObj=f,e.each(function(e){a=this,p&&p(a,f,r),y(a)?(m++,l.push(a)):void 0!==r._has(a)?(u(a,r),s||t.call(r,a,h,r,a,!1,null),g++):g++})}else e.each(function(){p&&p(this,f,r),l.push(this)});v.subsObj=f,o&&l.length>1&&l.sort(v.sort.fn);var b,a,w=v.range;if(w&&(w instanceof Array||(w=v.range=[0,v.range]),l.length)){var j=l.splice(w[0],w[1]);for(b=l.length;a=l[--b];)void 0!==r._has(a)&&u(a,r);l=j}for(var a,b=l.length;a=l[--b];){r[b]=a;void 0===r._has(a);c(a,r,b)}r.length=l.length}},"_update",function(e,i,s,r,n,o){if(this._filter){var a=this,l=a.updatePath;if(void 0!==l[0]){var c=1===l.length,u=c&&r,d=u?a._lfrom:a.val[l[0]];if(a._val._filter&&void 0===a._val._has(d))return void(void 0!==a._has(d)&&a._checkItem(d,!1,e,i));var p=u?!1:c&&n?void 0:l;a._checkItem(d,p,e,i)===!0&&t.apply(a,arguments)}else s||(r?a.length&&a._clear():a._build()),t.apply(this,arguments)}else t.apply(this,arguments)},"_has",function(e){var t,i=e._indexCache,s=this._uid;return i&&s&&(t=i[s])?t[0]:void 0},"_clear",function(){var e=this;e.each(function(t){e[t]=void 0,delete e[t]}),e.length=0},"_checkItem",function(e,t,i,s){if(e){var r,n,o,a=this,d=e,p=a._filter,v=p.sort,f=p.range,h=f&&!(0===f[0]&&f[1]>=a._val.length||a.length<f[1]-f[0]),m=t===!1||e._removed,g=o=void 0!==(n=a._has(e)),y=p.check,b=m?!1:h||1!==t?!y||y(e):o;if(o!==b)if(o){g=1,u(e,a),m=e;for(var w;w=a[++n];)a[n-1]=w,c(w,a,n-1);var j=n-1;a[j]=null,delete a[j];var k;h&&(v?a._val.each(function(){void 0!==a._has(this)||a[j]&&!(v.fn(this,a[j])<0)||y&&!y(this)||(k=a[j]=this)}):a._val.each(function(){return void 0!==a._has(this)||y&&!y(this)?void 0:k=a[j]=this})),k?(c(k,a,n-1),r=k):a.length--}else{var _;if(v){var x=v.fn;if(a.length&&a.each(function(t){return x(e,this)<0?_=t:void 0}),void 0!==_){g=1,_=Number(_),c(e,a,_),r=e,h?(m=a[a.length-1],u(m,a)):this.length++;for(var n=a.length-2;n>=_;)c(a[n],a,n+1),a[n+1]=a[n--];a[_]=e}else h||(g=1,_=a.length++,a[_]=e,c(e,a,_),r=e)}else h||(g=1,_=a.length++,a[_]=e,c(e,a,_),r=e)}else if(o&&v){if(t.length&&v.field)if(~v.field.indexOf(".")){var U=v.field.split(".");if(!l.compareArrays(t.slice(1),U))return g}else if(t[1]!==v.field)return g;var _;if(a.each(function(t){if(t!=n){var i=v.fn(e,this);if(-1===i)return t==n+1?!0:(_=n>t?t:t-1,!0);if(t>=n+1&&0===i)return!0;t>n&&(_=t)}}),void 0!==_){g=1;var C;if(n>_)for(;n>_;)C=a[n]=a[--n],C&&c(C,a,n+1);else for(;_>n;)C=a[n]=a[++n],C&&c(C,a,n-1);a[_]=e}var j=a.length-1;if(h&&(_==j||void 0===_&&n==j)){var T;a._val.each(function(){void 0!==a._has(this)||-1!==v.fn(this,e)||y&&!y(this)||(T||(T=e),a[j]=e=this)}),c(e,a,j),T&&(u(T,a),m=T,r=e,g=1)}else void 0!==_&&c(e,a,Number(_))}return 1===g&&a.__update(i,s,d,m,r),g}})});var c=i.storeIndex=function(e,t,i){var s,r=e._indexCache;r?(s=r[t._uid],s?(s[1]=s[0],s[0]=i):r[t._uid]=[i]):(e._indexCache={},e._indexCache[t._uid]=[i])},u=i.unstoreIndex=function(e,t){var i=e._indexCache;if(i){var s=i[t._uid];s[1]=s[0],s[0]=void 0}},d={number:function(e){var t=e.field;return function(i,s){var r=i[t]&&i[t].val,n=s[t]&&s[t].val;return void 0===r||void 0===n?r===n?0:void 0===r?1:-1:e.order?-1*(r-n):r-n}},string:function(e){var t=e.field;if(~t.indexOf(".")){var i=t.split(".");return function(t,s){if(t=r(t,i),s=r(s,i),void 0===t||void 0===s)return t===s?0:void 0===t?1:-1;var n=t>s?1:t===s?0:-1;return e.order?-1*n:n}}return function(i,r){i=s(i,t),r=s(r,t);var n=void 0===i||null===i,o=void 0===r||null===r;if(n||o)return i===r?0:n?1:-1;var a=i>r?1:i===r?0:-1;return e.order?-1*a:a}}}},{"../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../util/hash":"/Users/ricksmit/dev/vigour-js/util/hash.js","./conditions":"/Users/ricksmit/dev/vigour-js/data/conditions.js"}],"/Users/ricksmit/dev/vigour-js/index.js":[function(e,t,i){},{}],"/Users/ricksmit/dev/vigour-js/node_modules/after/index.js":[function(e,t,i){function s(e,t,i){function s(e,r){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(n=!0,t(e),t=i):0!==s.count||n||t(null,r)}var n=!1;return i=i||r,s.count=e,0===e?t():s}function r(){}t.exports=s},{}],"/Users/ricksmit/dev/vigour-js/node_modules/arraybuffer.slice/index.js":[function(e,t,i){t.exports=function(e,t,i){var s=e.byteLength;if(t=t||0,i=i||s,e.slice)return e.slice(t,i);if(0>t&&(t+=s),0>i&&(i+=s),i>s&&(i=s),t>=s||t>=i||0===s)return new ArrayBuffer(0);for(var r=new Uint8Array(e),n=new Uint8Array(i-t),o=t,a=0;i>o;o++,a++)n[a]=r[o];return n.buffer}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/asap/asap.js":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/node_modules/asap/asap.js"][0].apply(i,arguments)},{_process:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/process/browser.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/backo2/index.js":[function(e,t,i){function s(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=s,s.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-i:e+i}return 0|Math.min(e,this.max)},s.prototype.reset=function(){this.attempts=0},s.prototype.setMin=function(e){this.ms=e},s.prototype.setMax=function(e){this.max=e},s.prototype.setJitter=function(e){this.jitter=e}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":[function(e,t,i){!function(e){"use strict";i.encode=function(t){var i,s=new Uint8Array(t),r=s.length,n="";for(i=0;r>i;i+=3)n+=e[s[i]>>2],n+=e[(3&s[i])<<4|s[i+1]>>4],n+=e[(15&s[i+1])<<2|s[i+2]>>6],n+=e[63&s[i+2]];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n},i.decode=function(t){var i,s,r,n,o,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(i=0;l>i;i+=4)s=e.indexOf(t[i]),r=e.indexOf(t[i+1]),n=e.indexOf(t[i+2]),o=e.indexOf(t[i+3]),d[c++]=s<<2|r>>4,d[c++]=(15&r)<<4|n>>2,d[c++]=(3&n)<<6|63&o;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],"/Users/ricksmit/dev/vigour-js/node_modules/blob/index.js":[function(e,t,i){(function(e){function i(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.buffer instanceof ArrayBuffer){var s=i.buffer;if(i.byteLength!==s.byteLength){var r=new Uint8Array(i.byteLength);r.set(new Uint8Array(s,i.byteOffset,i.byteLength)),s=r.buffer}e[t]=s}}}function s(e,t){t=t||{};var s=new n;i(e);for(var r=0;r<e.length;r++)s.append(e[r]);return t.type?s.getBlob(t.type):s.getBlob()}function r(e,t){return i(e),new Blob(e,t||{})}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),a=o&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),l=n&&n.prototype.append&&n.prototype.getBlob;t.exports=function(){return o?a?e.Blob:r:l?s:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/ricksmit/dev/vigour-js/node_modules/colors/colors.js":[function(e,t,i){function s(e,t){var s;if("console"===i.mode)s={bold:["[1m","[22m"],italic:["[3m","[23m"],underline:["[4m","[24m"],inverse:["[7m","[27m"],strikethrough:["[9m","[29m"],white:["[37m","[39m"],grey:["[90m","[39m"],black:["[30m","[39m"],blue:["[34m","[39m"],cyan:["[36m","[39m"],green:["[32m","[39m"],magenta:["[35m","[39m"],red:["[31m","[39m"],yellow:["[33m","[39m"],whiteBG:["[47m","[49m"],greyBG:["[49;5;8m","[49m"],blackBG:["[40m","[49m"],blueBG:["[44m","[49m"],cyanBG:["[46m","[49m"],greenBG:["[42m","[49m"],magentaBG:["[45m","[49m"],redBG:["[41m","[49m"],yellowBG:["[43m","[49m"]};else if("browser"===i.mode)s={bold:["<b>","</b>"],italic:["<i>","</i>"],underline:["<u>","</u>"],inverse:['<span style="background-color:black;color:white;">',"</span>"],strikethrough:["<del>","</del>"],white:['<span style="color:white;">',"</span>"],grey:['<span style="color:gray;">',"</span>"],black:['<span style="color:black;">',"</span>"],blue:['<span style="color:blue;">',"</span>"],cyan:['<span style="color:cyan;">',"</span>"],green:['<span style="color:green;">',"</span>"],magenta:['<span style="color:magenta;">',"</span>"],red:['<span style="color:red;">',"</span>"],yellow:['<span style="color:yellow;">',"</span>"],whiteBG:['<span style="background-color:white;">',"</span>"],greyBG:['<span style="background-color:gray;">',"</span>"],blackBG:['<span style="background-color:black;">',"</span>"],blueBG:['<span style="background-color:blue;">',"</span>"],cyanBG:['<span style="background-color:cyan;">',"</span>"],greenBG:['<span style="background-color:green;">',"</span>"],magentaBG:['<span style="background-color:magenta;">',"</span>"],redBG:['<span style="background-color:red;">',"</span>"],yellowBG:['<span style="background-color:yellow;">',"</span>"]};else{if("none"===i.mode)return e+"";console.log('unsupported mode, try "browser", "console" or "none"')}return s[t][0]+e+s[t][1]}function r(e){var t=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(e).forEach(function(s){-1!==t.indexOf(s)?console.log("warn: ".red+("String.prototype"+s).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof e[s]?l(s,function(){return i[e[s]](this)}):l(s,function(){for(var t=this,r=0;r<e[s].length;r++)t=i[e[s][r]](t);return t})})}function n(e){return function(){if(!a)return this.replace(/( )/,"$1");var t=this.split("");return t=t.map(e),t.join("")}}function o(e,t){function i(e){var t=Math.floor(Math.random()*e);return t}function s(e){var t=!1;return o.filter(function(i){t=i===e}),t}function r(e,t){var r,o,a="";t=t||{},t.up=t.up||!0,t.mid=t.mid||!0,t.down=t.down||!0,t.size=t.size||"maxi",e=e.split("");for(o in e)if(!s(o)){switch(a+=e[o],
r={up:0,down:0,mid:0},t.size){case"mini":r.up=i(8),r.min=i(2),r.down=i(8);break;case"maxi":r.up=i(16)+3,r.min=i(4)+1,r.down=i(64)+3;break;default:r.up=i(8)+1,r.mid=i(6)/2,r.down=i(8)+1}var l=["up","mid","down"];for(var c in l)for(var u=l[c],d=0;d<=r[u];d++)t[u]&&(a+=n[u][i(n[u].length)])}return a}var n={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},o=[].concat(n.up,n.down,n.mid);return r(e)}var a=!1;if("undefined"!=typeof t&&(a=!0),a)i.mode="console";else{var i={},t={};i.mode="browser"}var l=function(e,t){i[e]=function(e){return t.apply(e)},String.prototype.__defineGetter__(e,t)},c=["bold","underline","strikethrough","italic","inverse","grey","black","yellow","red","green","blue","white","cyan","magenta","greyBG","blackBG","yellowBG","redBG","greenBG","blueBG","whiteBG","cyanBG","magentaBG"];c.forEach(function(e){l(e,function(){return s(this,e)})});var u=function(){var e=["red","yellow","green","blue","magenta"];return function(t,i,r){return" "===t?t:s(t,e[i++%e.length])}}();i.themes={},i.addSequencer=function(e,t){l(e,n(t))},i.addSequencer("rainbow",u),i.addSequencer("zebra",function(e,t,i){return t%2===0?e:e.inverse}),i.setTheme=function(t){if("string"==typeof t)try{return i.themes[t]=e(t),r(i.themes[t]),i.themes[t]}catch(s){return console.log(s),s}else r(t)},l("stripColors",function(){return(""+this).replace(/\x1B\[\d+m/g,"")}),l("zalgo",function(){return o(this)})},{}],"/Users/ricksmit/dev/vigour-js/node_modules/component-bind/index.js":[function(e,t,i){var s=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=s.call(arguments,2);return function(){return t.apply(e,i.concat(s.call(arguments)))}}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/component-emitter/index.js":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/vigour-js/browser/network/cloud/emitter.js"][0].apply(i,arguments)},{}],"/Users/ricksmit/dev/vigour-js/node_modules/component-inherit/index.js":[function(e,t,i){t.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js":[function(e,t,i){function s(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+i.humanize(this.diff),!t)return e;var s="color: "+this.color;e=[e[0],s,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,n=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(n=r))}),e.splice(n,0,s),e}function n(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?i.storage.removeItem("debug"):i.storage.debug=e}catch(t){}}function a(){var e;try{e=i.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}i=t.exports=e("./debug"),i.log=n,i.formatArgs=r,i.save=o,i.load=a,i.useColors=s,i.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(e){return JSON.stringify(e)},i.enable(a())},{"./debug":"/Users/ricksmit/dev/vigour-js/node_modules/debug/debug.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/debug/debug.js":[function(e,t,i){function s(){return i.colors[u++%i.colors.length]}function r(e){function t(){}function r(){var e=r,t=+new Date,n=t-(c||t);e.diff=n,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=i.useColors()),null==e.color&&e.useColors&&(e.color=s());var o=Array.prototype.slice.call(arguments);o[0]=i.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var a=0;o[0]=o[0].replace(/%([a-z%])/g,function(t,s){if("%%"===t)return t;a++;var r=i.formatters[s];if("function"==typeof r){var n=o[a];t=r.call(e,n),o.splice(a,1),a--}return t}),"function"==typeof i.formatArgs&&(o=i.formatArgs.apply(e,o));var l=r.log||i.log||console.log.bind(console);l.apply(e,o)}t.enabled=!1,r.enabled=!0;var n=i.enabled(e)?r:t;return n.namespace=e,n}function n(e){i.save(e);for(var t=(e||"").split(/[\s,]+/),s=t.length,r=0;s>r;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$")))}function o(){i.enable("")}function a(e){var t,s;for(t=0,s=i.skips.length;s>t;t++)if(i.skips[t].test(e))return!1;for(t=0,s=i.names.length;s>t;t++)if(i.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}i=t.exports=r,i.coerce=l,i.disable=o,i.enable=n,i.enabled=a,i.humanize=e("ms"),i.names=[],i.skips=[],i.formatters={};var c,u=0},{ms:"/Users/ricksmit/dev/vigour-js/node_modules/ms/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/index.js":[function(e,t,i){t.exports=e("./lib/")},{"./lib/":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/index.js":[function(e,t,i){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/socket.js","engine.io-parser":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-parser/lib/browser.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/socket.js":[function(e,t,i){(function(i){function s(e,t){if(!(this instanceof s))return new s(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:i.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(i.location?location.hostname:"localhost"),this.port=t.port||(i.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate?t.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized;var r="object"==typeof i&&i;r.global===r&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function r(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}var n=e("./transports"),o=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=s,s.priorWebsocketSuccess=!1,o(s.prototype),s.protocol=c.protocol,s.Socket=s,s.Transport=e("./transport"),s.transports=e("./transports"),s.parser=e("engine.io-parser"),s.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=r(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var i=new n[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return i},s.prototype.open=function(){var e;if(this.rememberUpgrade&&s.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(i){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},s.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},s.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",u),!u)return;s.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&(a("changing transport and sending upgrade packet"),c(),p.setTransport(u),u.send([{type:"upgrade"}]),p.emit("upgrade",u),u=null,p.upgrading=!1,p.flush())})}else{a('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=u.name,p.emit("upgradeError",i)}}))}function i(){d||(d=!0,c(),u.close(),u=null)}function r(t){var s=new Error("probe error: "+t);s.transport=u.name,i(),a('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",s)}function n(){r("transport closed")}function o(){r("socket closed")}function l(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),i())}function c(){u.removeListener("open",t),u.removeListener("error",r),u.removeListener("close",n),p.removeListener("close",o),p.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,p=this;s.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",r),u.once("close",n),this.once("close",o),this.once("upgrading",l),u.open()},s.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",s.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},s.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},s.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},s.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},s.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},s.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},s.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},s.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},s.prototype.write=s.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},s.prototype.sendPacket=function(e,t,i,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof i&&(s=i,i=null),"closing"!=this.readyState&&"closed"!=this.readyState){i=i||{},i.compress=!1!==i.compress;var r={type:e,data:t,options:i};this.emit("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}},s.prototype.close=function(){function e(){s.onClose("forced close"),a("socket closing - telling transport to close"),s.transport.close()}function t(){s.removeListener("upgrade",t),s.removeListener("upgradeError",t),e()}function i(){s.once("upgrade",t),s.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var s=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}return this},s.prototype.onError=function(e){a("socket error %j",e),s.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},s.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var i=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),i.writeBuffer=[],i.prevBufferLen=0}},s.prototype.filterUpgrades=function(e){for(var t=[],i=0,s=e.length;s>i;i++)~l(this.transports,e[i])&&t.push(e[i]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transport.js","./transports":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/index.js","component-emitter":"/Users/ricksmit/dev/vigour-js/node_modules/component-emitter/index.js",debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js","engine.io-parser":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-parser/lib/browser.js",indexof:"/Users/ricksmit/dev/vigour-js/node_modules/indexof/index.js",parsejson:"/Users/ricksmit/dev/vigour-js/node_modules/parsejson/index.js",parseqs:"/Users/ricksmit/dev/vigour-js/node_modules/parseqs/index.js",parseuri:"/Users/ricksmit/dev/vigour-js/node_modules/parseuri/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transport.js":[function(e,t,i){function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var r=e("engine.io-parser"),n=e("component-emitter");t.exports=s,n(s.prototype),s.prototype.onError=function(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},s.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":"/Users/ricksmit/dev/vigour-js/node_modules/component-emitter/index.js","engine.io-parser":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-parser/lib/browser.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/index.js":[function(e,t,i){(function(t){function s(e){var i,s=!1,a=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),s=e.hostname!=location.hostname||u!=e.port,a=e.secure!=c}if(e.xdomain=s,e.xscheme=a,i=new r(e),"open"in i&&!e.forceJSONP)return new n(e);if(!l)throw new Error("JSONP disabled");return new o(e)}var r=e("xmlhttprequest-ssl"),n=e("./polling-xhr"),o=e("./polling-jsonp"),a=e("./websocket");i.polling=s,i.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/polling-jsonp.js","./polling-xhr":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/polling-xhr.js","./websocket":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/websocket.js","xmlhttprequest-ssl":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/polling-jsonp.js":[function(e,t,i){(function(i){function s(){}function r(e){n.call(this,e),this.query=this.query||{},a||(i.___eio||(i.___eio=[]),a=i.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,i.document&&i.addEventListener&&i.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=s)},!1)}var n=e("./polling"),o=e("component-inherit");t.exports=r;var a,l=/\n/g,c=/\\n/g;o(r,n),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t;var s="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);s&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function i(){s(),t()}function s(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(t)}catch(e){n=document.createElement("iframe"),n.name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}var r=this;if(!this.form){var n,o=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=u,o.method="POST",o.setAttribute("accept-charset","utf-8"),a.name="d",o.appendChild(a),document.body.appendChild(o),this.form=o,this.area=a}this.form.action=this.uri(),s(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==r.iframe.readyState&&i()}:this.iframe.onload=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/polling.js","component-inherit":"/Users/ricksmit/dev/vigour-js/node_modules/component-inherit/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/polling-xhr.js":[function(e,t,i){(function(i){function s(){}function r(e){if(l.call(this,e),i.location){var t="https:"==location.protocol,s=location.port;s||(s=t?443:80),this.xd=e.hostname!=i.location.hostname||s!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function n(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function o(){for(var e in n.requests)n.requests.hasOwnProperty(e)&&n.requests[e].abort()}var a=e("xmlhttprequest-ssl"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=r,t.exports.Request=n,u(r,l),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new n(e)},r.prototype.doWrite=function(e,t){var i="string"!=typeof e&&void 0!==e,s=this.request({method:"POST",data:e,isBinary:i}),r=this;s.on("success",t),s.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=s},r.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(n.prototype),n.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),s=this;try{d("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var r in this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}}catch(o){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){s.onLoad()},t.onerror=function(){s.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?s.onLoad():setTimeout(function(){s.onError(t.status)},0))},d("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){s.onError(o)},0)}i.document&&(this.index=n.requestsCount++,n.requests[this.index]=this)},n.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},n.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},n.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},n.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s,e)try{this.xhr.abort()}catch(t){}i.document&&delete n.requests[this.index],this.xhr=null}},n.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(i){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(i){for(var s=new Uint8Array(this.xhr.response),r=[],n=0,o=s.length;o>n;n++)r.push(s[n]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(i){this.onError(i)}null!=e&&this.onData(e)},n.prototype.hasXDR=function(){return"undefined"!=typeof i.XDomainRequest&&!this.xs&&this.enablesXDR},n.prototype.abort=function(){this.cleanup()},i.document&&(n.requestsCount=0,n.requests={},i.attachEvent?i.attachEvent("onunload",o):i.addEventListener&&i.addEventListener("beforeunload",o,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/polling.js","component-emitter":"/Users/ricksmit/dev/vigour-js/node_modules/component-emitter/index.js","component-inherit":"/Users/ricksmit/dev/vigour-js/node_modules/component-inherit/index.js",debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js","xmlhttprequest-ssl":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/polling.js":[function(e,t,i){function s(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),n=e("parseqs"),o=e("engine.io-parser"),a=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:polling");t.exports=s;var u=function(){var t=e("xmlhttprequest-ssl"),i=new t({xdomain:!1});return null!=i.responseType}();a(s,r),s.prototype.name="polling",s.prototype.doOpen=function(){this.poll()},s.prototype.pause=function(e){function t(){c("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var s=0;this.polling&&(c("we are currently polling - waiting to pause"),s++,this.once("pollComplete",function(){c("pre-pause polling complete"),--s||t()})),this.writable||(c("we are currently writing - waiting to pause"),s++,this.once("drain",function(){c("pre-pause writing complete"),--s||t()}))}else t()},s.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},s.prototype.onData=function(e){var t=this;c("polling got data %s",e);var i=function(e,i,s){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};o.decodePayload(e,this.socket.binaryType,i),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},s.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},s.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")},t=this;o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,i)})},s.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=n.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(i=":"+this.port),e.length&&(e="?"+e);var s=-1!==this.hostname.indexOf(":");return t+"://"+(s?"["+this.hostname+"]":this.hostname)+i+this.path+e}},{"../transport":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transport.js","component-inherit":"/Users/ricksmit/dev/vigour-js/node_modules/component-inherit/index.js",debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js","engine.io-parser":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-parser/lib/browser.js",parseqs:"/Users/ricksmit/dev/vigour-js/node_modules/parseqs/index.js","xmlhttprequest-ssl":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js",yeast:"/Users/ricksmit/dev/vigour-js/node_modules/yeast/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transports/websocket.js":[function(e,t,i){(function(i){function s(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,r.call(this,e)}var r=e("../transport"),n=e("engine.io-parser"),o=e("parseqs"),a=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:websocket"),u=i.WebSocket||i.MozWebSocket,d=u;if(!d&&"undefined"==typeof window)try{d=e("ws")}catch(p){}t.exports=s,a(s,r),s.prototype.name="websocket",s.prototype.supportsBinary=!0,s.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,i={agent:this.agent,perMessageDeflate:this.perMessageDeflate};i.pfx=this.pfx,i.key=this.key,i.passphrase=this.passphrase,i.cert=this.cert,i.ca=this.ca,i.ciphers=this.ciphers,i.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(i.headers=this.extraHeaders),this.ws=u?new d(e):new d(e,t,i),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},s.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(s.prototype.onData=function(e){var t=this;setTimeout(function(){r.prototype.onData.call(t,e)},0)}),s.prototype.write=function(e){function t(){s.emit("flush"),setTimeout(function(){s.writable=!0,s.emit("drain")},0)}var s=this;this.writable=!1;for(var r=e.length,o=0,a=r;a>o;o++)!function(e){n.encodePacket(e,s.supportsBinary,function(n){if(!u){var o={};if(e.options&&(o.compress=e.options.compress),s.perMessageDeflate){var a="string"==typeof n?i.Buffer.byteLength(n):n.length;a<s.perMessageDeflate.threshold&&(o.compress=!1)}}try{u?s.ws.send(n):s.ws.send(n,o)}catch(l){c("websocket closed before onclose event")}--r||t()})}(e[o])},s.prototype.onClose=function(){r.prototype.onClose.call(this)},s.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},s.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=o.encode(e),e.length&&(e="?"+e);var s=-1!==this.hostname.indexOf(":");return t+"://"+(s?"["+this.hostname+"]":this.hostname)+i+this.path+e},s.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===s.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"../transport":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/transport.js","component-inherit":"/Users/ricksmit/dev/vigour-js/node_modules/component-inherit/index.js",debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js","engine.io-parser":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-parser/lib/browser.js",parseqs:"/Users/ricksmit/dev/vigour-js/node_modules/parseqs/index.js",ws:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browser-resolve/empty.js",yeast:"/Users/ricksmit/dev/vigour-js/node_modules/yeast/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js":[function(e,t,i){var s=e("has-cors");t.exports=function(e){var t=e.xdomain,i=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||s))return new XMLHttpRequest}catch(n){}try{if("undefined"!=typeof XDomainRequest&&!i&&r)return new XDomainRequest}catch(n){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}},{"has-cors":"/Users/ricksmit/dev/vigour-js/node_modules/has-cors/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-parser/lib/browser.js":[function(e,t,i){(function(t){function s(e,t){var s="b"+i.packets[e.type]+e.data.data;return t(s)}function r(e,t,s){if(!t)return i.encodeBase64Packet(e,s);var r=e.data,n=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=g[e.type];for(var a=0;a<n.length;a++)o[a+1]=n[a];return s(o.buffer)}function n(e,t,s){if(!t)return i.encodeBase64Packet(e,s);var r=new FileReader;return r.onload=function(){e.data=r.result,i.encodePacket(e,t,!0,s)},r.readAsArrayBuffer(e.data)}function o(e,t,s){if(!t)return i.encodeBase64Packet(e,s);if(m)return n(e,t,s);var r=new Uint8Array(1);r[0]=g[e.type];var o=new w([r.buffer,e.data]);return s(o)}function a(e,t,i){for(var s=new Array(e.length),r=p(e.length,i),n=function(e,i,r){t(i,function(t,i){s[e]=i,r(t,s)})},o=0;o<e.length;o++)n(o,e[o],r)}var l=e("./keys"),c=e("has-binary"),u=e("arraybuffer.slice"),d=e("base64-arraybuffer"),p=e("after"),v=e("utf8"),f=navigator.userAgent.match(/Android/i),h=/PhantomJS/i.test(navigator.userAgent),m=f||h;i.protocol=3;var g=i.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=l(g),b={type:"error",data:"parser error"},w=e("blob");i.encodePacket=function(e,i,n,a){"function"==typeof i&&(a=i,i=!1),"function"==typeof n&&(a=n,n=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return r(e,i,a);if(w&&l instanceof t.Blob)return o(e,i,a);if(l&&l.base64)return s(e,a);var c=g[e.type];return void 0!==e.data&&(c+=n?v.encode(String(e.data)):String(e.data)),a(""+c)},i.encodeBase64Packet=function(e,s){var r="b"+i.packets[e.type];if(w&&e.data instanceof t.Blob){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];s(r+e)},n.readAsDataURL(e.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];o=String.fromCharCode.apply(null,c)}return r+=t.btoa(o),s(r)},i.decodePacket=function(e,t,s){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return i.decodeBase64Packet(e.substr(1),t);if(s)try{e=v.decode(e)}catch(r){return b}var n=e.charAt(0);return Number(n)==n&&y[n]?e.length>1?{type:y[n],data:e.substring(1)}:{type:y[n]}:b}var o=new Uint8Array(e),n=o[0],a=u(e,1);return w&&"blob"===t&&(a=new w([a])),{type:y[n],data:a}},i.decodeBase64Packet=function(e,i){var s=y[e.charAt(0)];if(!t.ArrayBuffer)return{type:s,data:{base64:!0,data:e.substr(1)}};var r=d.decode(e.substr(1));return"blob"===i&&w&&(r=new w([r])),{type:s,data:r}},i.encodePayload=function(e,t,s){function r(e){return e.length+":"+e}function n(e,s){i.encodePacket(e,o?t:!1,!0,function(e){s(null,r(e))})}"function"==typeof t&&(s=t,t=null);var o=c(e);return t&&o?w&&!m?i.encodePayloadAsBlob(e,s):i.encodePayloadAsArrayBuffer(e,s):e.length?void a(e,n,function(e,t){return s(t.join(""))}):s("0:")},i.decodePayload=function(e,t,s){if("string"!=typeof e)return i.decodePayloadAsBinary(e,t,s);"function"==typeof t&&(s=t,t=null);var r;if(""==e)return s(b,0,1);for(var n,o,a="",l=0,c=e.length;c>l;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(n=Number(a)))return s(b,0,1);if(o=e.substr(l+1,n),a!=o.length)return s(b,0,1);if(o.length){if(r=i.decodePacket(o,t,!0),b.type==r.type&&b.data==r.data)return s(b,0,1);var d=s(r,l+n,c);if(!1===d)return}l+=n,a=""}}return""!=a?s(b,0,1):void 0},i.encodePayloadAsArrayBuffer=function(e,t){function s(e,t){i.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,s,function(e,i){var s=i.reduce(function(e,t){var i;return i="string"==typeof t?t.length:t.byteLength,e+i.toString().length+i+2},0),r=new Uint8Array(s),n=0;return i.forEach(function(e){var t="string"==typeof e,i=e;if(t){for(var s=new Uint8Array(e.length),o=0;o<e.length;o++)s[o]=e.charCodeAt(o);i=s.buffer}t?r[n++]=0:r[n++]=1;for(var a=i.byteLength.toString(),o=0;o<a.length;o++)r[n++]=parseInt(a[o]);r[n++]=255;for(var s=new Uint8Array(i),o=0;o<s.length;o++)r[n++]=s[o]}),t(r.buffer)}):t(new ArrayBuffer(0))},i.encodePayloadAsBlob=function(e,t){function s(e,t){i.encodePacket(e,!0,!0,function(e){var i=new Uint8Array(1);if(i[0]=1,"string"==typeof e){for(var s=new Uint8Array(e.length),r=0;r<e.length;r++)s[r]=e.charCodeAt(r);e=s.buffer,i[0]=0}for(var n=e instanceof ArrayBuffer?e.byteLength:e.size,o=n.toString(),a=new Uint8Array(o.length+1),r=0;r<o.length;r++)a[r]=parseInt(o[r]);if(a[o.length]=255,w){var l=new w([i.buffer,a.buffer,e]);t(null,l)}})}a(e,s,function(e,i){return t(new w(i))})},i.decodePayloadAsBinary=function(e,t,s){"function"==typeof t&&(s=t,t=null);for(var r=e,n=[],o=!1;r.byteLength>0;){for(var a=new Uint8Array(r),l=0===a[0],c="",d=1;255!=a[d];d++){if(c.length>310){o=!0;break}c+=a[d]}if(o)return s(b,0,1);r=u(r,2+c.length),c=parseInt(c);var p=u(r,0,c);if(l)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(v){var f=new Uint8Array(p);p="";for(var d=0;d<f.length;d++)p+=String.fromCharCode(f[d])}n.push(p),r=u(r,c)}var h=n.length;n.forEach(function(e,r){s(i.decodePacket(e,t,!0),r,h)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-parser/lib/keys.js",after:"/Users/ricksmit/dev/vigour-js/node_modules/after/index.js","arraybuffer.slice":"/Users/ricksmit/dev/vigour-js/node_modules/arraybuffer.slice/index.js","base64-arraybuffer":"/Users/ricksmit/dev/vigour-js/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js",blob:"/Users/ricksmit/dev/vigour-js/node_modules/blob/index.js","has-binary":"/Users/ricksmit/dev/vigour-js/node_modules/has-binary/index.js",utf8:"/Users/ricksmit/dev/vigour-js/node_modules/utf8/utf8.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-parser/lib/keys.js":[function(e,t,i){t.exports=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var s in e)i.call(e,s)&&t.push(s);return t}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/has-binary/index.js":[function(e,t,i){(function(i){function s(e){function t(e){if(!e)return!1;if(i.Buffer&&i.Buffer.isBuffer(e)||i.ArrayBuffer&&e instanceof ArrayBuffer||i.Blob&&e instanceof Blob||i.File&&e instanceof File)return!0;if(r(e)){for(var s=0;s<e.length;s++)if(t(e[s]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:"/Users/ricksmit/dev/vigour-js/node_modules/isarray/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/has-cors/index.js":[function(e,t,i){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(s){t.exports=!1}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/indexof/index.js":[function(e,t,i){var s=[].indexOf;t.exports=function(e,t){if(s)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/isarray/index.js":[function(e,t,i){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/json3/lib/json3.js":[function(e,t,i){(function(e){(function(){function s(e,t){function i(e){if(i[e]!==m)return i[e];var s;if("bug-string-char-index"==e)s="a"!="a"[0];else if("json"==e)s=i("json-stringify")&&i("json-parse");else{var n,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,u="function"==typeof l&&b;if(u){(n=function(){return 1}).toJSON=n;try{u="0"===l(0)&&"0"===l(new r)&&'""'==l(new o)&&l(y)===m&&l(m)===m&&l()===m&&"1"===l(n)&&"[1]"==l([n])&&"[null]"==l([m])&&"null"==l(null)&&"[null,null,null]"==l([m,y,null])&&l({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===l(null,n)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(d){u=!1}}s=u}if("json-parse"==e){var p=t.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){n=p(a);var v=5==n.a.length&&1===n.a[0];if(v){try{v=!p('"	"')}catch(d){}if(v)try{v=1!==p("01")}catch(d){}if(v)try{v=1!==p("1.")}catch(d){}}}}catch(d){v=!1}s=v}}return i[e]=!!s}e||(e=a.Object()),t||(t=a.Object());var r=e.Number||a.Number,o=e.String||a.String,l=e.Object||a.Object,c=e.Date||a.Date,u=e.SyntaxError||a.SyntaxError,d=e.TypeError||a.TypeError,p=e.Math||a.Math,v=e.JSON||a.JSON;"object"==typeof v&&v&&(t.stringify=v.stringify,t.parse=v.parse);var f,h,m,g=l.prototype,y=g.toString,b=new c(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(w){}if(!i("json")){var j="[object Function]",k="[object Date]",_="[object Number]",x="[object String]",U="[object Array]",C="[object Boolean]",T=i("bug-string-char-index");if(!b)var S=p.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(e,t){return A[t]+365*(e-1970)+S((e-1969+(t=+(t>1)))/4)-S((e-1901+t)/100)+S((e-1601+t)/400)};if((f=g.hasOwnProperty)||(f=function(e){var t,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=y?f=function(e){var t=this.__proto__,i=e in(this.__proto__=null,this);return this.__proto__=t,i}:(t=i.constructor,f=function(e){var i=(this.constructor||t).prototype;return e in this&&!(e in i&&this[e]===i[e])}),i=null,f.call(this,e)}),h=function(e,t){var i,s,r,o=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,s=new i;for(r in s)f.call(s,r)&&o++;return i=s=null,o?h=2==o?function(e,t){var i,s={},r=y.call(e)==j;for(i in e)r&&"prototype"==i||f.call(s,i)||!(s[i]=1)||!f.call(e,i)||t(i)}:function(e,t){var i,s,r=y.call(e)==j;for(i in e)r&&"prototype"==i||!f.call(e,i)||(s="constructor"===i)||t(i);(s||f.call(e,i="constructor"))&&t(i)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(e,t){var i,r,o=y.call(e)==j,a=!o&&"function"!=typeof e.constructor&&n[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(i in e)o&&"prototype"==i||!a.call(e,i)||t(i);for(r=s.length;i=s[--r];a.call(e,i)&&t(i));}),h(e,t)},!i("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},$="000000",P=function(e,t){return($+(t||0)).slice(-e)},D="\\u00",L=function(e){for(var t='"',i=0,s=e.length,r=!T||s>10,n=r&&(T?e.split(""):e);s>i;i++){var o=e.charCodeAt(i);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=O[o];break;default:if(32>o){t+=D+P(2,o.toString(16));break}t+=r?n[i]:e.charAt(i)}}return t+'"'},N=function(e,t,i,s,r,n,o){var a,l,c,u,p,v,g,b,w,j,T,A,O,$,D,R;try{a=t[e]}catch(I){}if("object"==typeof a&&a)if(l=y.call(a),l!=k||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(l!=_&&l!=x&&l!=U||f.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&1/0>a){if(E){for(p=S(a/864e5),c=S(p/365.2425)+1970-1;E(c+1,0)<=p;c++);for(u=S((p-E(c,0))/30.42);E(c,u+1)<=p;u++);p=1+p-E(c,u),v=(a%864e5+864e5)%864e5,g=S(v/36e5)%24,b=S(v/6e4)%60,w=S(v/1e3)%60,j=v%1e3}else c=a.getUTCFullYear(),u=a.getUTCMonth(),p=a.getUTCDate(),g=a.getUTCHours(),b=a.getUTCMinutes(),w=a.getUTCSeconds(),j=a.getUTCMilliseconds();a=(0>=c||c>=1e4?(0>c?"-":"+")+P(6,0>c?-c:c):P(4,c))+"-"+P(2,u+1)+"-"+P(2,p)+"T"+P(2,g)+":"+P(2,b)+":"+P(2,w)+"."+P(3,j)+"Z"}else a=null;if(i&&(a=i.call(t,e,a)),null===a)return"null";if(l=y.call(a),l==C)return""+a;if(l==_)return a>-1/0&&1/0>a?""+a:"null";if(l==x)return L(""+a);if("object"==typeof a){for($=o.length;$--;)if(o[$]===a)throw d();if(o.push(a),T=[],D=n,n+=r,l==U){for(O=0,$=a.length;$>O;O++)A=N(O,a,i,s,r,n,o),T.push(A===m?"null":A);R=T.length?r?"[\n"+n+T.join(",\n"+n)+"\n"+D+"]":"["+T.join(",")+"]":"[]"}else h(s||a,function(e){var t=N(e,a,i,s,r,n,o);t!==m&&T.push(L(e)+":"+(r?" ":"")+t)}),R=T.length?r?"{\n"+n+T.join(",\n"+n)+"\n"+D+"}":"{"+T.join(",")+"}":"{}";return o.pop(),R}};t.stringify=function(e,t,i){var s,r,o,a;if(n[typeof t]&&t)if((a=y.call(t))==j)r=t;else if(a==U){o={};for(var l,c=0,u=t.length;u>c;l=t[c++],a=y.call(l),(a==x||a==_)&&(o[l]=1));}if(i)if((a=y.call(i))==_){if((i-=i%1)>0)for(s="",i>10&&(i=10);s.length<i;s+=" ");}else a==x&&(s=i.length<=10?i:i.slice(0,10));return N("",(l={},l[""]=e,l),r,o,s,"",[])}}if(!i("json-parse")){var R,I,M=o.fromCharCode,B={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},q=function(){throw R=I=null,u()},F=function(){for(var e,t,i,s,r,n=I,o=n.length;o>R;)switch(r=n.charCodeAt(R)){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=T?n.charAt(R):n[R],R++,e;case 34:for(e="@",R++;o>R;)if(r=n.charCodeAt(R),32>r)q();else if(92==r)switch(r=n.charCodeAt(++R)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=B[r],R++;break;case 117:for(t=++R,i=R+4;i>R;R++)r=n.charCodeAt(R),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||q();e+=M("0x"+n.slice(t,R));break;default:q()}else{if(34==r)break;for(r=n.charCodeAt(R),t=R;r>=32&&92!=r&&34!=r;)r=n.charCodeAt(++R);e+=n.slice(t,R)}if(34==n.charCodeAt(R))return R++,e;q();default:if(t=R,45==r&&(s=!0,r=n.charCodeAt(++R)),r>=48&&57>=r){for(48==r&&(r=n.charCodeAt(R+1),r>=48&&57>=r)&&q(),s=!1;o>R&&(r=n.charCodeAt(R),r>=48&&57>=r);R++);if(46==n.charCodeAt(R)){for(i=++R;o>i&&(r=n.charCodeAt(i),r>=48&&57>=r);i++);i==R&&q(),R=i}if(r=n.charCodeAt(R),101==r||69==r){for(r=n.charCodeAt(++R),43!=r&&45!=r||R++,i=R;o>i&&(r=n.charCodeAt(i),r>=48&&57>=r);i++);i==R&&q(),R=i}return+n.slice(t,R)}if(s&&q(),"true"==n.slice(R,R+4))return R+=4,!0;if("false"==n.slice(R,R+5))return R+=5,!1;if("null"==n.slice(R,R+4))return R+=4,null;q()}return"$"},H=function(e){var t,i;if("$"==e&&q(),"string"==typeof e){if("@"==(T?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=F(),"]"!=e;i||(i=!0))i&&(","==e?(e=F(),"]"==e&&q()):q()),","==e&&q(),t.push(H(e));return t}if("{"==e){for(t={};e=F(),"}"!=e;i||(i=!0))i&&(","==e?(e=F(),"}"==e&&q()):q()),","!=e&&"string"==typeof e&&"@"==(T?e.charAt(0):e[0])&&":"==F()||q(),t[e.slice(1)]=H(F());return t}q()}return e},z=function(e,t,i){var s=V(e,t,i);s===m?delete e[t]:e[t]=s},V=function(e,t,i){var s,r=e[t];if("object"==typeof r&&r)if(y.call(r)==U)for(s=r.length;s--;)z(r,s,i);else h(r,function(e){z(r,e,i)});return i.call(e,t,r)};t.parse=function(e,t){var i,s;return R=0,I=""+e,i=H(F()),"$"!=F()&&q(),R=I=null,t&&y.call(t)==j?V((s={},s[""]=i,s),"",t):i}}}return t.runInContext=s,t}var r="function"==typeof define&&define.amd,n={"function":!0,object:!0},o=n[typeof i]&&i&&!i.nodeType&&i,a=n[typeof window]&&window||this,l=o&&n[typeof t]&&t&&!t.nodeType&&"object"==typeof e&&e;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(a=l),o&&!r)s(a,o);else{var c=a.JSON,u=a.JSON3,d=!1,p=s(a,a.JSON3={noConflict:function(){return d||(d=!0,a.JSON=c,a.JSON3=u,c=u=null),p}});a.JSON={parse:p.parse,stringify:p.stringify}}r&&define(function(){return p})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/ricksmit/dev/vigour-js/node_modules/monotonic-timestamp/index.js":[function(e,t,i){var s=0,r=1,n=0,o=0;t.exports=function(){var e=Date.now();if(s===e){do n=e+r++/(r+999);while(n===o);o=n}else r=1,n=e;return o=n,s=e,n}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/ms/index.js":[function(e,t,i){function s(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return i*d;case"days":case"day":case"d":return i*u;case"hours":case"hour":case"hrs":case"hr":case"h":return i*c;case"minutes":case"minute":case"mins":case"min":case"m":return i*l;case"seconds":case"second":case"secs":case"sec":case"s":return i*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i}}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function n(e){return o(e,u,"day")||o(e,c,"hour")||o(e,l,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,i){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}var a=1e3,l=60*a,c=60*l,u=24*c,d=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?s(e):t["long"]?n(e):r(e)}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/parsejson/index.js":[function(e,t,i){(function(e){var i=/^[\],:{}\s]*$/,s=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,n=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(o,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):i.test(t.replace(s,"@").replace(r,"]").replace(n,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/ricksmit/dev/vigour-js/node_modules/parseqs/index.js":[function(e,t,i){i.encode=function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t},i.decode=function(e){for(var t={},i=e.split("&"),s=0,r=i.length;r>s;s++){var n=i[s].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/parseuri/index.js":[function(e,t,i){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,i=e.indexOf("["),n=e.indexOf("]");-1!=i&&-1!=n&&(e=e.substring(0,i)+e.substring(i,n).replace(/:/g,";")+e.substring(n,e.length));for(var o=s.exec(e||""),a={},l=14;l--;)a[r[l]]=o[l]||"";return-1!=i&&-1!=n&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/promise/index.js":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/node_modules/promise/index.js"][0].apply(i,arguments)},{"./lib/core.js":"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/core.js","./lib/done.js":"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/done.js","./lib/es6-extensions.js":"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/es6-extensions.js","./lib/node-extensions.js":"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/node-extensions.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/core.js":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/core.js"][0].apply(i,arguments)},{asap:"/Users/ricksmit/dev/vigour-js/node_modules/asap/asap.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/done.js":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/done.js"][0].apply(i,arguments)},{"./core.js":"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/core.js",asap:"/Users/ricksmit/dev/vigour-js/node_modules/asap/asap.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/es6-extensions.js":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/es6-extensions.js"][0].apply(i,arguments)},{"./core.js":"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/core.js",asap:"/Users/ricksmit/dev/vigour-js/node_modules/asap/asap.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/node-extensions.js":[function(e,t,i){arguments[4]["/Users/ricksmit/dev/mtv-play/node_modules/promise/lib/node-extensions.js"][0].apply(i,arguments)},{"./core.js":"/Users/ricksmit/dev/vigour-js/node_modules/promise/lib/core.js",asap:"/Users/ricksmit/dev/vigour-js/node_modules/asap/asap.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/index.js":[function(e,t,i){function s(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,s=r(e),n=s.source,c=s.id,u=s.path,d=l[c]&&u in l[c].nsps,p=t.forceNew||t["force new connection"]||!1===t.multiplex||d;return p?(a("ignoring socket cache for %s",n),i=o(n,t)):(l[c]||(a("new io instance for %s",n),l[c]=o(n,t)),i=l[c]),i.socket(s.path)}var r=e("./url"),n=e("socket.io-parser"),o=e("./manager"),a=e("debug")("socket.io-client");t.exports=i=s;var l=i.managers={};i.protocol=n.protocol,i.connect=s,i.Manager=e("./manager"),i.Socket=e("./socket")},{"./manager":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/manager.js","./socket":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/socket.js","./url":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/url.js",debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js","socket.io-parser":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/manager.js":[function(e,t,i){function s(e,t){return this instanceof s?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new s(e,t)}var r=e("engine.io-client"),n=e("./socket"),o=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),u=e("debug")("socket.io-client:manager"),d=e("indexof"),p=e("backo2"),v=Object.prototype.hasOwnProperty;t.exports=s,s.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)v.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},s.prototype.updateSocketIds=function(){for(var e in this.nsps)v.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},o(s.prototype),s.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},s.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},s.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},s.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},s.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},s.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},s.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},s.prototype.open=s.prototype.connect=function(e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var t=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=l(t,"open",function(){i.onopen(),e&&e()}),n=l(t,"error",function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var s=new Error("Connection error");s.data=t,e(s)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;u("connect attempt will timeout after %d",o);var a=setTimeout(function(){u("connect attempt timed out after %d",o),s.destroy(),t.close(),t.emit("error","timeout"),i.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(s),this.subs.push(n),this},s.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(e,"ping",c(this,"onping"))),this.subs.push(l(e,"pong",c(this,"onpong"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded")))},s.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},s.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},s.prototype.ondata=function(e){this.decoder.add(e)},s.prototype.ondecoded=function(e){this.emit("packet",e)},s.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},s.prototype.socket=function(e){function t(){~d(s.connecting,i)||s.connecting.push(i)}var i=this.nsps[e];if(!i){i=new n(this,e),this.nsps[e]=i;var s=this;i.on("connecting",t),i.on("connect",function(){i.id=s.engine.id}),this.autoConnect&&t()}return i},s.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},s.prototype.packet=function(e){u("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(i){for(var s=0;s<i.length;s++)t.engine.write(i[s],e.options);t.encoding=!1,t.processPacketQueue()}))},s.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},s.prototype.cleanup=function(){u("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},s.prototype.close=s.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},s.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},s.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var i=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(i)}})}},s.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/on.js","./socket":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/socket.js",backo2:"/Users/ricksmit/dev/vigour-js/node_modules/backo2/index.js","component-bind":"/Users/ricksmit/dev/vigour-js/node_modules/component-bind/index.js","component-emitter":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js","engine.io-client":"/Users/ricksmit/dev/vigour-js/node_modules/engine.io-client/index.js",indexof:"/Users/ricksmit/dev/vigour-js/node_modules/indexof/index.js","socket.io-parser":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/on.js":[function(e,t,i){function s(e,t,i){return e.on(t,i),{destroy:function(){e.removeListener(t,i)}}}t.exports=s},{}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/socket.js":[function(e,t,i){function s(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var r=e("socket.io-parser"),n=e("component-emitter"),o=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");t.exports=i=s;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=n.prototype.emit;n(s.prototype),s.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]}},s.prototype.open=s.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},s.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},s.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=o(arguments),i=r.EVENT;u(t)&&(i=r.BINARY_EVENT);var s={type:i,data:t};return s.options={},s.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),s.id=this.ids++),this.connected?this.packet(s):this.sendBuffer.push(s),delete this.flags,this},s.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},s.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},s.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},s.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(e);break;case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:this.onack(e);break;case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},s.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},s.prototype.ack=function(e){
var t=this,i=!1;return function(){if(!i){i=!0;var s=o(arguments);c("sending ack %j",s);var n=u(s)?r.BINARY_ACK:r.ACK;t.packet({type:n,id:e,data:s})}}},s.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},s.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},s.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},s.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},s.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},s.prototype.close=s.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},s.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/on.js","component-bind":"/Users/ricksmit/dev/vigour-js/node_modules/component-bind/index.js","component-emitter":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js","has-binary":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/node_modules/has-binary/index.js","socket.io-parser":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/index.js","to-array":"/Users/ricksmit/dev/vigour-js/node_modules/to-array/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/lib/url.js":[function(e,t,i){(function(i){function s(e,t){var s=e,t=t||i.location;null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(n("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),n("parse %s",e),s=r(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";var o=-1!==s.host.indexOf(":"),a=o?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port,s.href=s.protocol+"://"+a+(t&&t.port==s.port?"":":"+s.port),s}var r=e("parseuri"),n=e("debug")("socket.io-client:url");t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js",parseuri:"/Users/ricksmit/dev/vigour-js/node_modules/parseuri/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js":[function(e,t,i){function s(e){return e?r(e):void 0}function r(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}t.exports=s,s.prototype.on=s.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},s.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s,r=0;r<i.length;r++)if(s=i[r],s===t||s.fn===t){i.splice(r,1);break}return this},s.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks["$"+e];if(i){i=i.slice(0);for(var s=0,r=i.length;r>s;++s)i[s].apply(this,t)}return this},s.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},s.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-client/node_modules/has-binary/index.js":[function(e,t,i){(function(i){function s(e){function t(e){if(!e)return!1;if(i.Buffer&&i.Buffer.isBuffer&&i.Buffer.isBuffer(e)||i.ArrayBuffer&&e instanceof ArrayBuffer||i.Blob&&e instanceof Blob||i.File&&e instanceof File)return!0;if(r(e)){for(var s=0;s<e.length;s++)if(t(e[s]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:"/Users/ricksmit/dev/vigour-js/node_modules/isarray/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/binary.js":[function(e,t,i){(function(t){var s=e("isarray"),r=e("./is-buffer");i.deconstructPacket=function(e){function t(e){if(!e)return e;if(r(e)){var n={_placeholder:!0,num:i.length};return i.push(e),n}if(s(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=t(e[a]);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var l in e)o[l]=t(e[l]);return o}return e}var i=[],n=e.data,o=e;return o.data=t(n),o.attachments=i.length,{packet:o,buffers:i}},i.reconstructPacket=function(e,t){function i(e){if(e&&e._placeholder){var r=t[e.num];return r}if(s(e)){for(var n=0;n<e.length;n++)e[n]=i(e[n]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=i(e[o]);return e}return e}return e.data=i(e.data),e.attachments=void 0,e},i.removeBlobs=function(e,i){function n(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){o++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--o||i(a)},u.readAsArrayBuffer(e)}else if(s(e))for(var d=0;d<e.length;d++)n(e[d],d,e);else if(e&&"object"==typeof e&&!r(e))for(var p in e)n(e[p],p,e)}var o=0,a=e;n(a),o||i(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/is-buffer.js",isarray:"/Users/ricksmit/dev/vigour-js/node_modules/isarray/index.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/index.js":[function(e,t,i){function s(){}function r(e){var t="",s=!1;return t+=e.type,i.BINARY_EVENT!=e.type&&i.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(s=!0,t+=e.nsp),null!=e.id&&(s&&(t+=",",s=!1),t+=e.id),null!=e.data&&(s&&(t+=","),t+=d.stringify(e.data)),u("encoded %j as %s",e,t),t}function n(e,t){function i(e){var i=v.deconstructPacket(e),s=r(i.packet),n=i.buffers;n.unshift(s),t(n)}v.removeBlobs(e,i)}function o(){this.reconstructor=null}function a(e){var t={},s=0;if(t.type=Number(e.charAt(0)),null==i.types[t.type])return c();if(i.BINARY_EVENT==t.type||i.BINARY_ACK==t.type){for(var r="";"-"!=e.charAt(++s)&&(r+=e.charAt(s),s!=e.length););if(r!=Number(r)||"-"!=e.charAt(s))throw new Error("Illegal attachments");t.attachments=Number(r)}if("/"==e.charAt(s+1))for(t.nsp="";++s;){var n=e.charAt(s);if(","==n)break;if(t.nsp+=n,s==e.length)break}else t.nsp="/";var o=e.charAt(s+1);if(""!==o&&Number(o)==o){for(t.id="";++s;){var n=e.charAt(s);if(null==n||Number(n)!=n){--s;break}if(t.id+=e.charAt(s),s==e.length)break}t.id=Number(t.id)}if(e.charAt(++s))try{t.data=d.parse(e.substr(s))}catch(a){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:i.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),d=e("json3"),p=(e("isarray"),e("component-emitter")),v=e("./binary"),f=e("./is-buffer");i.protocol=4,i.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],i.CONNECT=0,i.DISCONNECT=1,i.EVENT=2,i.ACK=3,i.ERROR=4,i.BINARY_EVENT=5,i.BINARY_ACK=6,i.Encoder=s,i.Decoder=o,s.prototype.encode=function(e,t){if(u("encoding packet %j",e),i.BINARY_EVENT==e.type||i.BINARY_ACK==e.type)n(e,t);else{var s=r(e);t([s])}},p(o.prototype),o.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),i.BINARY_EVENT==t.type||i.BINARY_ACK==t.type?(this.reconstructor=new l(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=v.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/binary.js","./is-buffer":"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/is-buffer.js","component-emitter":"/Users/ricksmit/dev/vigour-js/node_modules/component-emitter/index.js",debug:"/Users/ricksmit/dev/vigour-js/node_modules/debug/browser.js",isarray:"/Users/ricksmit/dev/vigour-js/node_modules/isarray/index.js",json3:"/Users/ricksmit/dev/vigour-js/node_modules/json3/lib/json3.js"}],"/Users/ricksmit/dev/vigour-js/node_modules/socket.io-parser/is-buffer.js":[function(e,t,i){(function(e){function i(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/ricksmit/dev/vigour-js/node_modules/to-array/index.js":[function(e,t,i){function s(e,t){var i=[];t=t||0;for(var s=t||0;s<e.length;s++)i[s-t]=e[s];return i}t.exports=s},{}],"/Users/ricksmit/dev/vigour-js/node_modules/utf8/utf8.js":[function(e,t,i){(function(e){!function(s){function r(e){for(var t,i,s=[],r=0,n=e.length;n>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&n>r?(i=e.charCodeAt(r++),56320==(64512&i)?s.push(((1023&t)<<10)+(1023&i)+65536):(s.push(t),r--)):s.push(t);return s}function n(e){for(var t,i=e.length,s=-1,r="";++s<i;)t=e[s],t>65535&&(t-=65536,r+=b(t>>>10&1023|55296),t=56320|1023&t),r+=b(t);return r}function o(e){if(e>=55296&&57343>=e)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function a(e,t){return b(e>>t&63|128)}function l(e){if(0==(4294967168&e))return b(e);var t="";return 0==(4294965248&e)?t=b(e>>6&31|192):0==(4294901760&e)?(o(e),t=b(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=b(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=b(63&e|128)}function c(e){for(var t,i=r(e),s=i.length,n=-1,o="";++n<s;)t=i[n],o+=l(t);return o}function u(){if(y>=g)throw Error("Invalid byte index");var e=255&m[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,t,i,s,r;if(y>g)throw Error("Invalid byte index");if(y==g)return!1;if(e=255&m[y],y++,0==(128&e))return e;if(192==(224&e)){var t=u();if(r=(31&e)<<6|t,r>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),i=u(),r=(15&e)<<12|t<<6|i,r>=2048)return o(r),r;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),i=u(),s=u(),r=(15&e)<<18|t<<12|i<<6|s,r>=65536&&1114111>=r))return r;throw Error("Invalid UTF-8 detected")}function p(e){m=r(e),g=m.length,y=0;for(var t,i=[];(t=d())!==!1;)i.push(t);return n(i)}var v="object"==typeof i&&i,f="object"==typeof t&&t&&t.exports==v&&t,h="object"==typeof e&&e;h.global!==h&&h.window!==h||(s=h);var m,g,y,b=String.fromCharCode,w={version:"2.0.0",encode:c,decode:p};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return w});else if(v&&!v.nodeType)if(f)f.exports=w;else{var j={},k=j.hasOwnProperty;for(var _ in w)k.call(w,_)&&(v[_]=w[_])}else s.utf8=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/ricksmit/dev/vigour-js/node_modules/yeast/index.js":[function(e,t,i){"use strict";function s(e){var t="";do t=a[e%l]+t,e=Math.floor(e/l);while(e>0);return t}function r(e){var t=0;for(d=0;d<e.length;d++)t=t*l+c[e.charAt(d)];return t}function n(){var e=s(+new Date);return e!==o?(u=0,o=e):e+"."+s(u++)}for(var o,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,c={},u=0,d=0;l>d;d++)c[a[d]]=d;n.encode=s,n.decode=r,t.exports=n},{}],"/Users/ricksmit/dev/vigour-js/object/array.js":[function(e,i,s){var r=e("../util"),n=e("./");r.define(n,"push",function(){if(1===this.__t){void 0===this.length&&(this.length=0);for(var e=0,t=arguments.length;t>e;e++)this._push(arguments[e]);return this.length}},"_push",function(e,t,i,s,r){return this.length++,this.set(this.length-1,e,t,i,s,r),this[this.length-1]},"pop",function(){if(1===this.__t){var e=this.length;0!==e&&(t=this[e-1],this.length--,t.remove())}},"splice",function(e,t){if(e>-1&&1===this.__t)for(var i,s=0,r=this.length;r>s;s++)i?s===r-1?this[s]=null:(this[s]=this[s+1],this[s]._name=s):s===e&&(s===r-1?this.pop():(i=!0,this.length--,this[s].remove(),this[s]=this[s+1],this[s]._name=s))},"include",function(e,t,i){return r.include(this,e,t,i)},"concat",function(e){for(var t=this,i=(t.length,0),s=e.length;s>i;i++)t._push(e[i],!1,!1,!0);return t._update(e),t},"moveItem",function(e,t){var i=this;if(void 0===t&&(t=i.length-1),e!==t){var s=i[e];if(s){var r=t>e?1:-1;do i[e]=null,i.set(e,i[e+r],!0),e+=r;while(e!==t);i[t]=null,i.set(t,s,!0)}}})},{"../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/object/index.js"}],"/Users/ricksmit/dev/vigour-js/object/compound.js":[function(e,t,i){function s(e,t){var i=this;i._parent=e,t&&(t instanceof Array||(t=[t]),this.push.apply(this,t))}var r=e("old-vigour-js/object").inject(e("old-vigour-js/value/length")),n=e("old-vigour-js/util"),o=e("old-vigour-js/util/id"),a=r["new"](void 0,function(e){var t=this;return t.$sources=new s(t,e),this.__t=2,!1});n.define(a,"_class",r),t.exports=a,a.prototype._blacklist.push("$sources"),n.define(a,"_absorb",function(e){for(var t=this,i=e.source,s=e.name,r=i;r&&4===r.__t&&!r._filter;)r=r._val;e.endpoint=r,r&&r.each(function(){t.set(s+"-"+this._name,this)}),t.each(function(){var e=this,i=e._val;if(t.$sources){var s,r=e._name.split("-")[0],n=t.$sources[r].endpoint;n.each(function(){return this===i?s=!0:void 0}),s||e.remove()}})},"_addCompoundListener",function(e){var t=this;e.source.on(function(){t._absorb(e)})}),s.prototype.push=function(){for(var e,t=this,i=t._parent,s=(arguments.length,0);e=arguments[s];s++){var r=o(),n=t[r]={name:r,source:e};i._absorb(n),i._addCompoundListener(n)}}},{"old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/util/id":"/Users/ricksmit/dev/vigour-js/util/id.js","old-vigour-js/value/length":"/Users/ricksmit/dev/vigour-js/value/length.js"}],"/Users/ricksmit/dev/vigour-js/object/flags.js":[function(e,t,i){var s=e("../util");i.extend=s.extend(function(e,t){var i=e.prototype,r=i.convert,n=i._set,o=i._remove,a=function(t){var i;for(var s in e.flags.dynamic)if(i=e.flags.dynamic[s](t))break;return i},l=function(t){for(var i in t)if(e.flags[i]||a(i))return!0};t||(t=i.set),i._blacklist.push("_flag"),s.define(e,"convert",function(e){var t=r.call(this,e);if(this._flag&&(!e||!s.isObj(e)||e.val||l(e)))for(var i in this._flag){var n=this._flag[i];n[4]&&n[4].stack||(t===n[1]&&(t={}),t.val===n[1]&&delete t.val,t[n[0]]=n[2])}return t},"__flags__",{},"_remove",function(t,i,s){if(this._flag){for(var r in this._flag){var n=this._flag[r];n&&(e.flags[n[0]]?e.flags[n[0]].remove&&e.flags[n[0]].remove.call(this,n):n[4].remove.call(this,n))}this._flag=null}o.call(this,t,i,s)},"_set",function(t,i,r,o,a){if(n.call(this,t,i,r,o,a),this._flag)for(var l in this._flag){var c=this._flag[l];if(c){var u=e.flags[c[0]]||c[4];this._val!==c[1]&&u.useVal?e.flags[c[0]]?(e.flags[c[0]].remove&&e.flags[c[0]].remove.call(this,c),delete this._flag[l],s.empty(this._flag)&&delete this._flag):c[5]||(c[4].remove.call(this,c),delete this._flag[l],s.empty(this._flag)&&delete this._flag):e.flags[c[0]]&&e.flags[c[0]].reset&&c[3]!==this&&e.flags[c[0]].set.call(this,c[2],i,!0,this._name)}}},"set",function(i,r,n,o,l){var c,u,d=e.flags[i]||a(i);if(d){if(r===!1){var p=d.stack||i,v=this._flag&&this._flag[p];if(v&&d.remove){var f=d.remove.call(this,v,i);f||(delete this._flag[p],s.empty(this._flag)&&delete this._flag)}c=!0}else{if(this._flag)for(var p in this._flag){var v=this._flag[p];if(v&&d.remove)if(d.stack||i!==v[0]){if(!d.stack||d.stack!==v[0]){var h=e.flags[v[0]]||v[4];h.useVal&&d.useVal&&(h.remove.call(this,v),delete this._flag[p],s.empty(this._flag)&&delete this._flag)}}else r!==v[2]?d.remove.call(this,v):u=!0}u||(d.set.call(this,r,o,!1,i),c=!0)}this[i]&&this[i].remove(!1,!1,!1,!1,!1,!0)}else c=t.call(this,i,r,n,o,l);return c}),e.flags=i.__flags__,s.define(e.flags,"dynamic",{})})},{"../util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/object/hashpath.js":[function(e,t,i){var s=e("../util"),r=e("../util/hash");i.extend=s.extend(function(e){e.prototype._blacklist.push("__hp"),s.define(e,"_hashpath",{get:function(){return this.__hp||(this.__hp=r(this._path.toString()))}})})},{"../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../util/hash":"/Users/ricksmit/dev/vigour-js/util/hash.js"}],"/Users/ricksmit/dev/vigour-js/object/index.js":[function(e,t,i){var s=e("../util"),r=e("../"),n=e("../util/inject"),o=t.exports=i=r.Object=function(e,t,i){i&&(this._parent=i),t&&this._hook&&this._hook(e,t),void 0!==e&&(this.val=e)};o.inject=n;var a=function(e,t,i,n,a){if(null===e&&(t||(t=this.stamp()),this.remove(!1,!1,!1,i,t,n)),!(!this.__t||this.__t<3||e!==this._val||this._ignoreValue))return!1;if(!this.stamp)return void console.error("ERROR in vigour-js/object,  OBJECT no .stamp",this);t||(t=this.stamp());var l,c,u,d,p,v=this._val;if(this._changevobj&&(this.__t<4&&e instanceof o||4===this.__t&&(!this._mixed||4===this._mixed||e instanceof Array||e instanceof Object&&(e instanceof o||e.val)))&&(this._changevobj(e,t),4===this._mixed&&(this._val=null)),r.Base&&e instanceof r.Base)this.remove(!0,!0,!1,!1,t),this.__t=5,this._val=e;else if(e instanceof o)(this.__t<3&&!this._mixed||1===this.__t)&&this.remove(!0,!0,!1,void 0,t),this._val=e,this.__t=4,this._setvobj&&this._setvobj(e);else if(e instanceof Object&&"function"!=typeof e)if(e instanceof Array){this._val=void 0,this.__t=1,this.length=e.length,c=this.remove(!0,!0,e,!1,t);for(var f=0,h=this.length;h>f;f++)c=!this.set(f,e[f],!1,t,n,!0)&&c!==!1}else{e.clear?(c=this.remove(!0,!0,!1,!1,t),delete e.clear):1===this.__t?1!==this._mixed&&4!==this._mixed?this.remove(!0,!0,!1,!1,t):d=!0:this._merge||this._mixed&&2!==this.__t||(c=this.remove(!0,!0,e,!1,t)),e.val&&s.isObj(e.val)?(p=!0,this._$setVal(new this._class(e.val,!1,this),t,i,!0),this._val._contained=!0):this._mixed||(this._val=void 0),d||(this.__t=2);for(var m in e)s.checkArray(this._blacklist,m)||("val"===m?(p||(u=this._$setVal(e.val,t,i,!0)),l=!0):c=!this.set(m,e[m],!1,t,n,!0)&&c!==!1)}else if((this.__t<3&&!this._mixed||1===this.__t)&&(this.remove(!0,!0,!1,!1,t),1===this.__t&&delete this.length),e!==this._val||this._ignoreValue)this._val=e,this.__t=3;else if(c!==!1)return this.__t=3,!1;if(l)!this._set||u===!1&&c!==!1||this._set(e,t,i,!1,n,a,v);else if(this._set){if(c)return!1;this._set(e,t,i,!1,n,a,v)}},l=0,c=function(e,t){for(var i,r=t.length-1;r>=0;r--)e&&void 0!==e[t[r]]&&(i="_"+t[r],s.define(this,i,e[t[r]]))};i.stamp=function(){return l++},i.set=a,o["new"]=function(e,t){var i=function(e,i,s){s&&(this._parent=s);var r;t&&(r=t.apply(this,arguments)),i&&this._hook&&this._hook(e,i),this._onConstruct&&this._onConstruct(e,i),void 0!==e&&r!==!1&&(this.val=e)},r=i.prototype=new this;return i["new"]=o["new"],i.inject=n,s.define(i,"_blacklist",r._blacklist.concat()),c.call(i,e,["mixed","merge"]),s.define(i,"_class",i),i},s.define(o,"_$setVal",a,"_blacklist",["_","__","__t","_val","length","_name","_parent","_contained","_removed","extensions","__cachedPath","_ignoreValue","_indexCache"],"_class",o,"stamp",o.stamp,"_get",function(){var e,t=this,i=t.__t;return 3>i?t:(e=t._val,4!==i?e:e&&e._get())},"val",{set:function(e){return this._$setVal(e)},get:function(){return this._get()}},"set",function(e,t,i,s,r,n){if(n=n&&this,!i&&this[e]instanceof o){if(this._$setVal.call(this[e],t,s,n,r)===!1&&s)return!1}else i?(this[e]&&this[e].remove(),this[e]=t,this[e]._name=e,this[e]._parent=this,r||t._update(t,s||this.stamp(),n,void 0,!0)):(this[e]=new this._class(void 0,!1,this),this[e]._name=e,this._$setVal.call(this[e],t,s,n,r,!0)),1===this.__t&&this._setArrayItem&&this._setArrayItem(this[e],t);return!0},"remove",function(e,t,i,r,n,a){e||(this._removed=!0);var l,c,u;n||(n=this.stamp()),e||(this._parent&&(this._parent[this._name]=null,delete this._parent[this._name]),void 0!==this._val&&(this._val instanceof o&&this._val._contained&&this._val.remove(!1,!1,!1,r||this,n,a),u=this._val,this._val=null));for(c in this)i&&i[c]||s.checkArray(this._blacklist,c)||(this[c]instanceof o&&(l=!1,this[c].remove(!1,!1,!1,r||this,n,a)),this[c]=null,delete this[c]);if(!e){if(this._remove&&(this._remove(r,a?!1:r,n,u),!t))for(var d in this)void 0!==this[d]&&("_parent"!==d&&this[d]instanceof o&&this[d]._contained&&this[d].remove(),this[d]=null,delete this[d]);this._removed=!0}return l}),i.listen=e("./listen"),e("./array"),e("./util")},{"../":"/Users/ricksmit/dev/vigour-js/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../util/inject":"/Users/ricksmit/dev/vigour-js/util/inject.js","./array":"/Users/ricksmit/dev/vigour-js/object/array.js","./listen":"/Users/ricksmit/dev/vigour-js/object/listen.js","./util":"/Users/ricksmit/dev/vigour-js/object/util.js"}],"/Users/ricksmit/dev/vigour-js/object/listen.js":[function(e,t,i){function s(e,t,i,s){i?e.addListener([t,i],!0,!1,!1,s):e.addListener(t,!1,!1,!1,s)}var r=e("../util"),n=e("./"),o=e("../"),a=e("old-vigour-js/browser/animation/raf"),l=e("promise"),c=i._update=function(e,t,i,s,r,o,a){var l,c,u=this._listeners;if(u)for(l=u.length;c=u[--l];)if(c instanceof n)c._lfrom=i||this,c._update(e,t,!1,s,r,o),c&&(c._lfrom=null);else if(c[0]){if(!a||!a(c))if(c.length>2){for(var d=c.length-2,p=arguments.length,v=[],f=-1,h=d+p;h>f;v[++f]=d>f?c[f+2]:f===d?this:arguments[f-d-1]);c[0].apply(c[1],v)}else c[0].call(c[1],this,e,t,i,s,r,o)}else c.call(this,e,t,i,s,r,o)};n.prototype._blacklist.push("_listeners","_listens","_lfrom","_listenMap"),r.define(n,"_set",function(e,t,i,s,r,n,o){r||this._update(e,t,i,s,n,o)},"is",function(e,t,i){if(t&&"function"==typeof t){var s=i?function(){var e=(r.arg(arguments),this);a(function(){t.call(e)})}:t;if("loaded"===e)this.$loaded||this.from.$loaded?s.call(this):this.once("loaded",s);else{var n;if(this.val==e)return s.call(this);if(n="function"==typeof e&&e.call(this))return n instanceof l?n:s.call(this);"function"==typeof e?this.once(e,s):this.once({$val:e},s)}return this}var o=this;return i=t,new l(function(t,i){o.is(e,function(){t.apply(this,arguments)})})},"__update",c,"_update",function(e,t,i,s,r,n,o){for(var a=this,l=!0;a;)a.__update(e,t,i||l!==!0?this:!1,s,r,n,o),a=i?!1:a._parent,l=!1,s&&(s=1)},"_remove",function(e,t,i,s){t!==!1&&this._update(null,i,e,!0,!1,s),this.removeListener();var r,n=this._listens;if(n)for(r=n.length-1;r>=0;n[r--].removeListener(this,void 0,!1,!0));},"_setvobj",function(e){e.addListener(this)},"_changevobj",function(e){if(4===this.__t){var t,i=this._listens,s=this._val;if(i)for(t=i.length;t>=0;i[--t]&&i[t].removeListener(this,this));s instanceof n&&s._contained&&s.remove()}},"addListener",function(e,t,i,s,o){var a,l,c=this._listeners||(this._listeners=[]);if(o&&(this._listenMap||(this._listenMap=[])),t){if(l=r.checkArray(c,e[1],1),!(l===!1||!s&&r.checkArray(c,e[0],0)===!1||t!==!0&&t.call(this,c[l],c,l,e)===!0))return c[l];o&&e!==orginal&&this._listenMap.push([orginal,e]),c.push(e)}else e.__t&&r.checkArray(c,e)||(o&&e!==o&&this._listenMap.push([o,e]),c.push(e));(t||e instanceof n)&&(a=t?e[1]:e,a instanceof n&&(_li=a._listens||(a._listens=[]),!i&&r.checkArray(_li,this)||(o&&e!==o&&this._listenMap.push([o,e]),_li.push(this))))},"once",function(e,t,i){var s,r=function(){this.removeListener(s,i),s.apply(this,arguments)};return t?(s=t,this.on(e,r,!1,s)):(s=e,this.on(r,!1,!1,s)),this},"on",function(e,t,i,n){return o.Base&&t instanceof o.Base&&(i=t,t=null),n||(n=t),t?r.isObj(e)?e.$val?s(this,function(i){this.val===e.$val&&t.apply(this,arguments)},i,n):console.warn("this will become a condition later on for now its not supported!, conditions will be used eveyrwhere"):"function"==typeof e?s(this,function(i){e.apply(this,arguments)&&t.apply(this,arguments)},i,n):r.isObj(t)?(i=e,console.warn("untested -- add as mark"),s(this,function(e,i,s,r,n,o){r&&t.apply(this,arguments)},i,n)):"remove"===e?s(this,function(e,i,s,r,n,o){r&&t.apply(this,arguments)},i,n):"loaded"===e?s(this,function(e,i,s,r,n,o){(this.$loaded||this.from.$loaded)&&t.apply(this,arguments)},i,n):"added"===e?s(this,function(e,i,s,r,n,o){n&&t.apply(this,arguments)},i,n):"self"===e?s(this,function(i,s,r,n,o,a){(this._val===i||!e&&this._updateOrigin===this)&&t.apply(this,arguments)},i,n):s(this,function(i){i!==e&&this.val!==e&&this._val!==e||t.apply(this,arguments)},i,n):s(this,e,i,n),this},"removeListener",function(e,t,i,s){var r,o=this._listeners;if(o){for(r=o.length-1;r>=0;r--){var a=o[r];if(!t&&!e||e&&a===e||t!==!1&&a instanceof Array&&(t&&a[1]===t&&(!e||a[0]===e)||e&&a[1]===e)&&(!i||(i===!0?a[0]===e:i.call(this,a,t)))){var l=t?t:a instanceof n?a:a instanceof Array?a[1]:!1,c=l&&l._listens;if(c)for(var u=c.length-1;u>=0;u--)if(c[u]===this){c.splice(u,1),0===c.length&&(l._listens=null),4===l.__t&&a._val===this&&(a._val=void 0);break}if(o.splice(r,1),0===o.length&&(this._listeners=null),e&&!s)break}}if(this._listenMap&&e){for(var d,r=0,p=this._listenMap.length;p>r;r++)if(this._listenMap[r][0]===e){this.removeListener(this._listenMap[r][1]),d=r;break}void 0!==d&&(this._listenMap.splice(d,1),0===this._listenMap.length&&(this._listenMap=!1))}}})},{"../":"/Users/ricksmit/dev/vigour-js/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/browser/animation/raf":"/Users/ricksmit/dev/vigour-js/browser/animation/raf.js",promise:"/Users/ricksmit/dev/vigour-js/node_modules/promise/index.js"}],"/Users/ricksmit/dev/vigour-js/object/util.js":[function(e,t,i){var s=e("../util"),r=e("./");e("../");_c=s.checkArray;var n=r.set,o=this.from=function(e){for(var t,i=e;i instanceof r;)i._filter,t=i,i=i._val;return t!==e?t:!1},a=function(e){for(;e&&4===e.__t;){if(e._lfrom)return e._lfrom;e=e._val}},l=function(e,t){for(var i,r=this,n=[];r&&(void 0!==r._name||t);){if(i=r._lfrom||a(r)){var o=l.call(i),c=r.from._name;s.add(o,n),n=o,c&&(c=o.indexOf(c),o.splice(c,o.length-c))}r!==e?(n.push(r._name),r=r._parent):r=!1}return e?n.reverse():n};s.define(r,"toString",function(e){return e?JSON.stringify(this.raw):JSON.stringify(this.raw,!1,2)},"referenceLevel",function(e){for(var t=this,i=0;t&&t.__t;){if(t===e)return i;t=t._val,i++}return!1},"destroy",function(e,t,i,s,r,n){r||(r=this.stamp()),this._removed=!0,this.destroyReferences(e,t,i,s,r,n),this.remove(e,t,i,s,r,n)},"destroyReferences",function(e,t,i,s,n,o){n||(n=this.stamp());var a,l=this._listeners;if(l)for(var c,u=l.length;c=l[--u];)c instanceof r&&(a=c._parent,a&&1===a.__t?a.splice(c._name,1):c.remove(e,t,i,s,n,o))},"each",function(e,t,i){var r,n;if(void 0!==i){i=s.arg(arguments,2);for(r in this)if(!_c(this._blacklist,r)){if(n=this[r],e.apply(n,i))return!0;if(t&&(4!==n.__t||n._contained)&&n.each.apply(n,i))return!0}}else for(r in this)if(!_c(this._blacklist,r)){if(n=this[r],e.call(n,r))return!0;if(t&&(4!==n.__t||n._contained)&&n.each(e,t,i))return!0}},"_path",{get:function(){for(var e=this,t=[];e&&void 0!==e._name;)t.push(e._name),e=e._parent;return t.reverse()}},"_cachedPath",{get:function(){return this.__cachedPath||(this.__cachedPath=this._path.join("."))}},"updatePath",{get:function(){var e=l.call(this,this,!0),t=this._name;return void 0!==t&&e.unshift(t),e}},"keys",{get:function(){var e,t=[];for(e in this)_c(this._blacklist,e)||t.push(e);return t}},"_ancestor",function(e){for(var t=this;t;){if(e===t)return!0;t=t._parent}},"checkParent",s.checkParentFactory("_parent"),"convert",function(e){var t={},i=0;if(e&&!e.val||(t.val=this._val),1===this.__t){t=[];for(var s=0;s<this.length;s++)i++,t[s]=this[s].convert()}else this.each(function(s){e&&void 0===e[s]||(i++,t[s]=this.convert())});if(e)for(var s in e)void 0===t[s]&&(t[s]=void 0),i++;return i||e&&!e.val||(t=t.val),t},"raw",{get:function(){var e,t,i,s=this,r=s._filter?2:s.__t;if(4===r)return s._val&&s._val.raw;if(3===r)return s.val;if(1===r)for(e=[],t=-1,i=s.length-1;i>t;s[++t]&&e.push(s[t].raw));else{e={};for(t in s)!_c(s._blacklist,t)&&s[t]&&(e[t]=s[t].raw)}return e}},"from",{set:function(e){var t=o(this);n.call(t||this,e)},get:function(){return o(this)||this}},"merge",function(e,t,i,r,o,a,l){var c,u,d,p,v,f,h,m=this._mergeArray;if(l||(h=!0,l=[]),i||(i=this.stamp()),1===this.__t)if(m)m(e,i,r);else for(var g in e)v=e[g],f=this[g],(g=Number(g))>-1&&(c=!0,f?f.merge(v,!1,i,!0,o,a,l):(g>this.length-1&&(this.length=g+1),this.set(g,v,!1,i,!0,!0)));else{for(u in e)if(d=!0,v=e[u],f=this[u],"val"!==u&&!_c(this._blacklist,u))if(!t&&f&&s.isObj(v))v.clear?(n.call(f,v,i,!1,!0),c=!0):(p=f.merge(v,!1,i,!0,o,a,l),c!==!0&&(c=p),p||(e[u]=void 0));else if(f&&f._val===v)c!==!0&&(c=!1),e[u]=void 0;else{if(null===v&&this[u])try{this[u].remove(!1,!1,!1,void 0,i)}catch(y){console.log(y)}else this.set(u,v,!1,i,!0),this[u]&&this[u]._listeners&&l.push([this[u],v]);c||(c=p),p||(c=!0)}e.val?(p=n.call(this,e.val,i,!1,!0),c||(c=p),p||(e.val=void 0)):d||c||(c=!1),c=c!==!1||c}if(c&&(o||(r?h?this._update(e,i):(this.__update(e,i),l.push([this,e])):this._update(e,i))),h&&l)for(var b in l)l[b][0]&&l[b][0].__update&&l[b][0].__update(l[b][1],i);return c},"clone",function(e,t,i,n){var o,a=new this._class,l=this._val;if(n&&(a._parent=n),a.__t=this.__t,1===this.__t&&(a.length=this.length),i)for(var c,u=i.length-1;u>=0;u--)c=i[u],c instanceof Array&&this[c[0]]?c[1]===!0?a[c[0]]=s.clone(this[c[0]],!1,!0):a[c[0]]=c[1]:this[c]&&(a[c]=this[c]);l&&l instanceof r&&l._contained?(a.val=l.clone(a,!1,i,a),a._val._contained=!0):r.set.call(a,l,!1,!1,!0);for(o in this)_c(this._blacklist,o)||(t?a.set(o,this[o],!1,!1,!0):this[o]instanceof r?a.set(o,this[o].clone(void 0,!1,i,a),!0,!1,!0):a[o]=s.clone(this[o]));return void 0!==e&&(s.isObj(e)?a.merge(e,t):r.set.call(a,e,!1,!1,!0)),a.__t=this.__t,a},"path",function(e,t,i,r,n,o,a,l){return e instanceof Array||(e=e.split(".")),s.path(this,e,t,i,r,n,o,a,l)},"get",function(e,t){return s.get(this,e,t)},"empty",{get:function(){return s.empty(this,this._blacklist)}},"$empty",function(e,t){var i=this;this.each(function(t){(e&&"string"!=typeof e?s.checkArray(e,t):t===e)||(this.remove?this.remove(!1,!1,!1,!1,!1,!0):i[t]=null)}),this.clearCache&&this.clearCache(),t&&this._update("empty")},"_updateOrigin",{get:function(){for(var e=this;e._lfrom;)e=e._lfrom;return e}},"_origin",{get:function(){for(var e=this;e&&4===e.__t;)e=e._val;return e}})},{"../":"/Users/ricksmit/dev/vigour-js/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/object/index.js"}],"/Users/ricksmit/dev/vigour-js/util/config/index.js":[function(e,t,i){(function(s){var r,n=e("../"),o="/package.json";t.exports=i=function(e,s,r,o){r=r||(n.isNode?{}:window["package"]);var a={},l=t.exports,c=e&&function(i){a=i.vigour,
l.parse(a,r,l._checks),o||(t.exports=a),e(a)};return s?i.options[s]?i.options[s](a,c,!1,r):i.options.val(a,c,s,r):i.options.val(a,c,!1,r),a},n.isNode?i.options={val:function(e,t,i,s){t(s)}}:(r=e("../../browser/network/ajax"),i.options={val:function(e,t,i){if(window["package"])t&&t(window["package"]);else{var n=!window.cordova&&String(window.location).match(/https?:\/\/([^\/]+)/);n&&(n=n[0]),r({url:i&&i.url?i.url:n+o,fallback:[{url:o},i&&i.fallback?i.fallback:{url:s+o},{url:"../"+o},{url:"../../"+o},{url:"../../../"+o}],complete:function(e){window["package"]=e,t&&t(e)}})}}}),i.inject=function(){return i._checks=n.arg(arguments),i},i.loop=function(e,t,i,s,r,o){if(r){var a=t(e,i,s,o);a&&n.merge(e,a)}else for(var l in e[t])if(i===l){n.merge(e,s[l]);break}},i.parse=function(e,t,s,r){s instanceof Array||(s=[s]);for(var o in s)for(var a in s[o]){var l=n.get(t,a),c=s[o][a];i.loop(e,c,l,e[s[o][a]],"function"==typeof c,r)}return e}}).call(this,"/../vigour-js/util/config")},{"../":"/Users/ricksmit/dev/vigour-js/util/index.js","../../browser/network/ajax":"/Users/ricksmit/dev/vigour-js/browser/network/ajax.js"}],"/Users/ricksmit/dev/vigour-js/util/config/ua.js":[function(e,t,i){var s=e("../../browser/ua"),r=e("../"),n=e("../../data").inject(e("../../data/selection"));bla=i,i.parse=function(e,t,i,o){var a=s;o&&o.ua&&(a=s.parse(o.ua.toLowerCase(),{}));var l,c=new n({bla:r.clone(a)});if(e.ua)for(var u in e.ua){if(a.platform===u||a.device===u||a.browser===u)return e.ua[u];if(e.ua[u].condition&&(l?l.filter=e.ua[u]:l=new n(c,e.ua[u]),l.length))return delete e.ua[u].condition,l.remove(),e.ua[u]}delete e.subsObj,l&&l.remove()}},{"../":"/Users/ricksmit/dev/vigour-js/util/index.js","../../browser/ua":"/Users/ricksmit/dev/vigour-js/browser/ua.js","../../data":"/Users/ricksmit/dev/vigour-js/data/index.js","../../data/selection":"/Users/ricksmit/dev/vigour-js/data/selection.js"}],"/Users/ricksmit/dev/vigour-js/util/debug/index.js":[function(e,t,i){(function(s){function r(e,t,i){function s(){r.parentNode.removeChild(r)}var r=document.createElement("div"),n=document.createElement("p"),o=document.createElement("input"),a=document.createElement("button"),l=document.createElement("button");n.appendChild(document.createTextNode(e)),o.type="text",o.value=t,o.style.display="block",a.appendChild(document.createTextNode("OK")),l.appendChild(document.createTextNode("Cancel")),a.addEventListener("click",function(){s(),i(o.value)}),l.addEventListener("click",function(){s(),i(null)}),r.appendChild(n),r.appendChild(o),r.appendChild(a),r.appendChild(l),r.style.position="absolute",r.style.top="25px",r.style.left="50px",r.style.zIndex=1e3,r.style.fontSize="24px",r.style.backgroundColor="white",document.body.appendChild(r)}var n=i;DEBUG$=n;var o=e("../"),a=o.isNode,l=(e("../../"),n.log=e("./log"));l.logger("DEBUG$","rainbow");if(n.perf=n.performance=e("./performance"),a){var c=s.env.DEBUG;if(c){var u=c.split(",");for(var d in u){var p=u[d].split(":");DEBUG$.level[p[0]]=p[1]?Number(p[1]):3}}}else n.cases=e("../../browser/cases/"),i.body=document.body.base,Object.defineProperty(t.exports,"domain",{get:function(){return String(window.location).match(/https?:\/\/([^\/]+)/)[1].replace(/:.+/,"")}});i["int"]=function(e,t){function i(){return e=e||1e3,~~Math.floor(Math.random()*e)}return t?i():i},i.text=function(e,t,s,r,n){if(t)return function(){return i.text(Math.round(Math.random()*e)+1,!1,s,r,n)};var o=[".",".",".",";",","],a=["ab","able","zo","x","lax","bur","rem","lur","fur","jur","lex","rex","wurd","shur","burn","heps","a","i","y","u","e","p","l","splurf"],l="",c=0;s&&(a=s),s=function(){return a[Math.round(Math.random()*(a.length-1))]},e||(e=~~(101*Math.random()));for(var u,d=0;e>d;d++)if(n||l[l.length-1]&&"."!==l[l.length-2]&&"\n"!==l[l.length-2]?l+=s():(u=s(),l+=u[0].toUpperCase()+u.slice(1)),c++,!n&&~~(Math.random()*(c/2))){var p,v=!1;!r&&~~(21*Math.random())>17&&(p=o[~~(Math.random()*(o.length-1))],l+=p,"."===p&&~~(11*Math.random())>6&&(v=!0,l+="\n",~~(11*Math.random())>7&&(l+="\n"))),v||(l+=" "),c=0}return l},i.data=function(e,t,s,r,n){s||(s={}),r||(r=0),t||(t=0);for(var o in e)if(e[o]instanceof Object&&e[o].length&&e[o].val){if(e&&e[o]){s[o]=[];for(var a=0;a<e[o].length;a++)s[o][a]="function"==typeof e[o].val?e[o].val():i.data(e[o].val,t+1,!1,a+1,s)}}else e[o]instanceof Object&&"function"!=typeof e[o]?s[o]=i.data(e[o],t+1,s[o],!1,r,s):e&&e[o]&&(s[o]="function"==typeof e[o]?e[o].call(s,r,n):e[o]);return s},n.download=function(e,t){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download",e),i.click()},n.remote=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","http://jsconsole.com/remote.js?"+e),document.getElementsByTagName("head")[0].appendChild(t)},n.findScript=function(e,t,i){var s=e.childNodes,r=t.match(/\.([a-zA-Z0-9]{1,30})$/)[1],n=!i&&new RegExp(t+"$"),o="js"===r?"src":"href";for(var a in s)if(i?s[a][o]===t:n.test(s[a][o]))return s[a]},n["native"]=function(e,t,i,s){if(!document.getElementById("dev")){var n=document.createElement("div");n.id="dev",n.style.zIndex=9999999,n.style.position="absolute",n.style.left="2px",n.style.top="80px",n.style.padding="15px",n.style.backgroundColor="rgba(50,50,50,0.8)",n.style.borderRadius="50%",n.addEventListener("click",function(){r("IP",localStorage.getItem("devip")||e||"http://10.0.1.2:8080",function(e){e?(localStorage.setItem("devip",e),window.location.reload()):(localStorage.removeItem("devip"),window.location.reload())})}),document.body.appendChild(n)}return s||(s="build"),localStorage.getItem("devip")&&(DEBUG$.remoteResource(localStorage.getItem("devip")+"/bundle.css",s+".css",!1),DEBUG$.remoteResource(localStorage.getItem("devip")+"/bundle.js",s+".js",!1))?(document.getElementById("dev").style.backgroundColor="rgba(0,255,0,0.8)",i&&i(localStorage.getItem("devip")),!0):void 0},n.remoteResource=function(e,t,i){console.log("remote resource",e);var s,r,i=void 0!==i?i:!0,o=e.match(/\.([a-zA-Z0-9]{1,30})$/)[1],a=document.createElement("js"===o?"script":"link"),l=document.getElementsByTagName("head")[0],c=document.body;if(t||(i=!1,t=e.match("js"===o?/(\/)([a-zA-Z0-9-_+$]){0,30}\.js$/:/(\/)([a-zA-Z0-9-_+$]){0,30}\.css$/)[0].slice(1)),r=e+"?"+~~(9999999*Math.random()),"js"===o?(a.setAttribute("type","text/javascript"),a.setAttribute("src",r)):(a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",r),a.setAttribute("id",r)),s=n.findScript(l,t,i),s||(console.log(c,s,"!@!@#!@#JS"),s=n.findScript(c,t,i)),s){console.log("remote resource found:",s,s.src,r,e);var u=s.parentNode;if(String(s.src).indexOf(e)>-1)return;return u.removeChild(s),u.appendChild(a),!0}}}).call(this,e("_process"))},{"../":"/Users/ricksmit/dev/vigour-js/util/index.js","../../":"/Users/ricksmit/dev/vigour-js/index.js","../../browser/cases/":"/Users/ricksmit/dev/vigour-js/browser/cases/index.js","./log":"/Users/ricksmit/dev/vigour-js/util/debug/log.js","./performance":"/Users/ricksmit/dev/vigour-js/util/debug/performance.js",_process:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/process/browser.js"}],"/Users/ricksmit/dev/vigour-js/util/debug/log.js":[function(e,t,i){function s(e){e||(e=1);for(var t,i=(new Error).stack.split("\n"),s=3,r=[];e--;)line=i[s++],t=")"===line[line.length-1]?line.length-1:line.length,r.push(line.slice(line.indexOf("/"),t));return r.join("\n").grey}function r(e,t){void 0===a.level[e]&&(a.level[e]=t)}var n,o,a=e("./"),l=e("../"),c=l.isNode,o=(e("../../"),console,{green:"#56db68",red:"#ff0000",grey:"#ccc",yellow:"#e0e67c",cyan:"#00ffff",magenta:"#ff00ff",blue:"#1111ff",white:"#fff"});a.level={DEBUG$:1/0,test:2};var u,d,p,v,f,h;if(c){n=e("repl"),o=e("colors"),p="log  ".grey,v="info ".green,f="error".red,h="-----".grey,a.repl=function(){return n.start(">"),a},n.context&&(n.context.DEBUG$=DEBUG$),console.group=function(){console.log("\n____________________________________________________".grey)},console.groupEnd=function(){console.log("____________________________________________________\n".grey)};var m=e("util");d=function(e){return m.inspect(e,{colors:!0,depth:50})},u=function(e){console.log(d(e))}}else{p=":",v="::",f="ERREX!",h=":::";var g=function(e,t,i){this.color=(i?t:"color: "+t)+";",this.val=new String("%c"+e)};d=function(e){if("string"==typeof e)return e;var t="";for(var i in e)t+=i+" : "+("string"==typeof e[i]?e[i]:JSON.stringify(e[i],!1,2))+"\n";return t.inverse.green},u=function(e){console.log(d(e))}}l.define(Object,"DEBUG$log",function(e,t){console.group&&console.group(),e="string"==typeof e?e:!1;var i="JSON "+(e||" normal");return a.log.header(i),a.level.test>1&&console.log(JSON.stringify(this,!1,2)),t&&(console.log("\n"),a.log.fn.apply(this,l.arg(arguments,1))),console.group&&console.groupEnd(),JSON.stringify(this,!1,2)}),!c&&localStorage&&l.define(localStorage,"DEBUG$log",function(e,t){console.group&&console.group(),e="string"==typeof e?e:!1;var i="localStorage "+(e||" normal");a.log.header(i);var s={};for(var r in this)try{s[r]=JSON.parse(this[r])}catch(n){s[r]=this[r]}return a.level.test>1&&console.log(JSON.stringify(s,!1,2)),t&&(console.log("\n"),a.log.fn.apply(this,l.arg(arguments,1))),console.group&&console.groupEnd(),s});var y=t.exports=i={stack:!1,i:function(e){e=this.indent;var t="";for(var i in e)t+="  ";return t},parse:d,object:u,"default":function(e,t){if(e instanceof Object)for(var i in e)r(i,e[i]);else r(e,t)},logger:function(e,t,i){function r(){var t=void 0!==a.level.global?a.level.global:a.level[e];t>2&&y.stack&&console.log(s(y.stack).grey)}return y["default"](e,i||1),r.info=function(){var i=void 0!==a.level.global?a.level.global:a.level[e];i>1&&(console.log.apply(null,[e[t].bold,v].concat(l.arg(arguments))),y.stack&&console.log(s(y.stack).grey))},r.error=function(){var i=void 0!==a.level.global?a.level.global:a.level[e];i>0&&(console.log.apply(null,[e[t].bold,f].concat(l.arg(arguments))),y.stack&&console.log(s(y.stack).grey))},r.detail=function(){var i=void 0!==a.level.global?a.level.global:a.level[e];i>3&&(console.log.apply(null,[e[t].bold,h].concat(l.arg(arguments))),y.stack&&console.log(s(y.stack).grey))},r.parse=d,r},label:function(e,t,i){c?console.log.apply(null,i):console.log.apply(null,["%c "+e+" ",t].concat(i))},header:function(e){this._lh=e,console.log(e.inverse)},header2:function(e){this._lh=e,console.log(e.grey.inverse)},end:function(e){console.log(("end ["+e+"]").grey.inverse)},level:function(e,t){(e>=a.level.test||a.level[e]||t&&a.level[e]>=t)&&console.log.apply(this,l.arg(arguments,1))},fn:function(e){a.log.indent++,"function"==typeof e?e.call(this,l.arg(arguments,1)):console.log(arguments),a.log.indent--},indent:0};setTimeout(function(){},0),l.define(a,"localStorageSize",{get:function(){var e=0;for(var t in localStorage){var i=(t.length+localStorage[t].length)/1024;e+=i}return console.log("LOCAL STORAGE SIZE TOTAL".inverse.green,(e/1024).toFixed(5)+" MB"),1024*e}}),l.define(a,"localStorageKeysSize",{get:function(){var e=0;for(var t in localStorage){var i=t.length/1024;e+=i}return console.log("LOCAL STORAGE KEY SIZE TOTAL".inverse.green,(e/1024).toFixed(5)+" MB"),1024*e}})},{"../":"/Users/ricksmit/dev/vigour-js/util/index.js","../../":"/Users/ricksmit/dev/vigour-js/index.js","./":"/Users/ricksmit/dev/vigour-js/util/debug/index.js",colors:"/Users/ricksmit/dev/vigour-js/node_modules/colors/colors.js",repl:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/browserify/lib/_empty.js",util:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/util/util.js"}],"/Users/ricksmit/dev/vigour-js/util/debug/performance.js":[function(e,t,i){(function(s){function r(e,t,s,r,n,o){var a,c,u,d,p,v=i.now(),f=i.memory();return t||(t="TEST PERFORMANCE"),p=r?e.apply(r,n):e.apply(this,n),d=i.now(),a=i.memory(),c=a-f,u=d-v-(p||0),s?s(u/1e3,a-f):o||l.level.test>0&&console.log(t.inverse,"\nparse time: "+(d-v)/1e3+" sec"+(c?"\nmemory used (approximate): "+c+" bytes":"")),u}function n(e,t,s){e.complete?e.complete(t,s,e,i.average(t)[0],i.average(t)[1]):l.level.test>0&&console.log(e.name.inverse," n="+e.loop+"\nparse time:"+(e.extensive?" \n\n"+t.join(" sec\n")+" sec\n\n":"")+"average: "+i.average(t)[1]+" sec\ntotal: "+i.average(t)[0]+" sec")}var o,a=e("../"),l=e("./"),c=a.isNode;c?o=e("os"):console.log('DEBUG \n\nif you want to check memory usage start chrome using: \n\n open -a Google\\ Chrome --args --enable-memory-info --js-flags="--expose-gc"\n'.grey);var u=[];l.countNewListeners=function(e,t){t={val:0};var i=[];l.countListeners(e,t,i);var s=[];for(var r in i)a.checkArray(u,i[r])===!1&&s.push(i[r]);return u=i,{amount:t.val,newchecks:s}},l.countListeners=function(e,t,i){var t,i;if(i||(i=[]),a.checkArray(i,e)!==!1||!e)return t.val;if(i.push(e),t||(t={val:0}),e._listeners&&(t.val+=e._listeners.length),e.each)e.each(function(e){l.countListeners(this,t,i)});else if(e instanceof Object)for(var s in e)e[s]&&(e[s].__t||e[s]._from||e._from&&"cloud"===s)&&l.countListeners(e[s],t,i);return t.val},l.countSubs=function(e,t,i){var t;return t||(t={val:0}),e._subs&&(console.log("!!!!!SUB",e._path,e._subs),t.val+=e._subs.length),e.each||console.log("no EACH!",i),e.each(function(e){l.countSubs(this,t,e)}),t.val},t.exports=i=function(e,t){if(t&&"string"==typeof e)return r(t,e);if("function"==typeof e)return r(e);if(e instanceof Object){if(e.name||(e.name="performance test"),e.loop){var s=[],o=[],a=function(e,t){s.push(e),t&&o.push(t)};if(e.interval)var l=0,c=setInterval(function(){l++,l===e.loop-1?(clearInterval(c),n(e,s,o)):r(e.method,!1,a)},e.interval);else{for(var u=e.loop;u>0;u--)r(e.method,!1,a);n(e,s,o)}return i.average(s)}return r(e.method,e.name,e.complete,e.call,e.args,e.nolog)}},l.log&&l.log["default"]("test",4),i.now=function(){return c?1e3*s.hrtime()[0]+1e-6*s.hrtime()[1]:window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},i.memory=function(){return c?s.memoryUsage().heapUsed:window&&window.performance&&window.performance.memory?976562e-9*window.performance.memory.usedJSHeapSize:0},i.average=function(e){for(var t=0,i=e.length-1;i>=0;i--)t+=e[i];return[t,t/e.length]}}).call(this,e("_process"))},{"../":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/util/debug/index.js",_process:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/process/browser.js",os:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/os-browserify/browser.js"}],"/Users/ricksmit/dev/vigour-js/util/encode64.js":[function(e,t,i){var s={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,r,n,o,a,l,c="",u=0;for(e=s._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),i=e.charCodeAt(u++),r=e.charCodeAt(u++),n=t>>2,o=(3&t)<<4|i>>4,a=(15&i)<<2|r>>6,l=63&r,isNaN(i)?a=l=64:isNaN(r)&&(l=64),c=c+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return c},decode:function(e){var t,i,r,n,o,a,l,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)n=this._keyStr.indexOf(e.charAt(u++)),o=this._keyStr.indexOf(e.charAt(u++)),a=this._keyStr.indexOf(e.charAt(u++)),l=this._keyStr.indexOf(e.charAt(u++)),t=n<<2|o>>4,i=(15&o)<<4|a>>2,r=(3&a)<<6|l,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(i)),64!=l&&(c+=String.fromCharCode(r));return c=s._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var s=e.charCodeAt(i);128>s?t+=String.fromCharCode(s):s>127&&2048>s?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(63&s|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(63&s|128))}return t},_utf8_decode:function(e){for(var t="",i=0,s=c1=c2=0;i<e.length;)s=e.charCodeAt(i),128>s?(t+=String.fromCharCode(s),i++):s>191&&224>s?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&s)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),i+=3);return t}};t.exports=i=s},{}],"/Users/ricksmit/dev/vigour-js/util/global.js":[function(e,t,i){(function(e,i){function s(e,t,i,s,r){return e?void 0===i?s?e[s](t):e[t]:r?(e[r](t,i),i):e[t]=i:void 0}var r="undefined"!=typeof window?window:"undefined"!=typeof i?i:!1,n="undefined"!=typeof localStorage,o="undefined"!=typeof e;t.exports={session:function(e,t){return s(r,e,t)},env:function(t,i){return n?s(localStorage,t,i,"getItem","setItem"):o?s(e.env,t,i):void 0}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/ricksmit/.node_modules_global/lib/node_modules/gaston/node_modules/process/browser.js"}],"/Users/ricksmit/dev/vigour-js/util/hash.js":[function(e,t,i){i=t.exports=function(e,t){var i,s,r,n,o,a,l,c;for(t=1,i=3&e.length,s=e.length-i,r=t,o=3432918353,a=461845907,c=0;s>c;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,r^=l,r=r<<13|r>>>19,n=5*(65535&r)+((5*(r>>>16)&65535)<<16)&4294967295,r=(65535&n)+27492+(((n>>>16)+58964&65535)<<16);switch(l=0,i){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:l^=255&e.charCodeAt(c),l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,r^=l}return r^=e.length,r^=r>>>16,r=2246822507*(65535&r)+((2246822507*(r>>>16)&65535)<<16)&4294967295,r^=r>>>13,r=3266489909*(65535&r)+((3266489909*(r>>>16)&65535)<<16)&4294967295,r^=r>>>16,(r>>>0).toString(36)},i.encode=function s(e,t){return t=t||"",~~e?s(e/62,String.fromCharCode(((e%=62)>9?e>35?29:87:48)+e)+t):t},i.decode=function(e,t,i,s){for(t=i=0;s=e.charCodeAt(i++);t=62*t+s-[,48,29,87][s>>5]);return t}},{}],"/Users/ricksmit/dev/vigour-js/util/id.js":[function(e,t,i){function s(){return Number(String(Math.random()).slice(2)).toString(36)}t.exports=function(e,t){var i=s();if(t)for(;t--;)i+=s();return e?e+i:i}},{}],"/Users/ricksmit/dev/vigour-js/util/index.js":[function(e,t,i){e("./object"),e("./prop"),i.isNode="undefined"==typeof window,i.add=function(e,t){return t&&e.push.apply(e,t),e},i.checkArray=function(e,t,s,r){var n=s instanceof Array;if(!e)return!1;for(var o,a=0,l=e.length;l>a;a++)if(o=e[a],void 0!==s){if(s===!0){if(o===t)return a}else if(n?i.path(o,s)===t:o[s]===t)return r?o:a}else if(o===t)return!0;return!1},i.arg=function(e,t){return Array.prototype.slice.call(e,t?t:0)},i.empty=function(e,t){for(var i in e)if(!t||!this.checkArray(t,i))return!1;return!0},i.inject=e("./inject")},{"./inject":"/Users/ricksmit/dev/vigour-js/util/inject.js","./object":"/Users/ricksmit/dev/vigour-js/util/object.js","./prop":"/Users/ricksmit/dev/vigour-js/util/prop.js"}],"/Users/ricksmit/dev/vigour-js/util/inject.js":[function(e,t,i){function s(e,t){if(o&&console.log("9",t,e),t.extend)o&&console.log("9.1",e),t.extend(e);else if(t instanceof Array){var i=t.concat(),s=i[0];i[0]=e,o&&console.log("9.2"),s.extend.apply(s,i)}}function r(){o&&console.log("5");for(var e,t,i=[],r=[this],a=0,l=arguments,c=l.length;c>a;a++)if(t=l[a],"function"==typeof t){e||(e=function(){for(var e=0,t=r.length;t>e;e++)r[e].apply(this,arguments)},n(e,this)),r.push(t);for(var u in t.prototype)if({}.hasOwnProperty.call(t.prototype,u)){if("constructor"===u)continue;e.prototype[u]=t.prototype[u]}}else o&&console.log("6"),e?(o&&console.log("7"),s(e,t)):i.push(t);e||(e=this);for(var d in i)s(e,i[d]);return e}function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var o,a=e("../"),l=e("./");l.isNode||(o=window.$TEST),t.exports=i=function(e){var t=arguments;if(t[0]&&t[0].$TEST&&(o=window.$TEST=!0),"function"==typeof this||a.Base&&this instanceof a.Base||"object"==typeof this){if(!a.Base||!(this===a.Base||this.prototype instanceof a.Base||this instanceof a.Base))return r.apply(this,t);t=l.arg(t),t.unshift(this),e=this}for(var i=1;i<t.length;i++)s(e,t[i]);return e}},{"../":"/Users/ricksmit/dev/vigour-js/index.js","./":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/util/object.js":[function(e,t,i){function s(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var r=t.exports=i=e("./"),n=e("../"),o=".";i.lookup=Object.__lookupSetter__||function(e){for(var t,i=this;i;){if(t=Object.getOwnPropertyDescriptor(i,e),t&&t.set)return!0;i=Object.getPrototypeOf(i)}return!1},i.set=function(e,t,i,s,r,o){return n.Object&&e instanceof n.Object?e.set(t,i,s,r,o):e[t]=i},i.path=function(e,t,s,r,n,o,a,l,c,u,d){d||(d=0);var p,v,f=t[d],h=!c&&e&&4===e.__t?e.from[f]:e&&e[f],m=d<t.length-1;return!m||h instanceof Object||(h=void 0),void 0!==s&&(void 0===h||!m&&r)&&(v=!0,i.set(e,f,m?{}:s,m?!1:o,a,l),h=e[f]),m?p=h?this.path(h,t,s,r,n,o,a,l,c,u,++d):h:(p=!c&&h&&4===h.__t?h.from:h,v&&n&&n(p)),p},i.dotField=function(e,t){if(~t.indexOf(o)){var i=t.split(o),s=i.shift(),r={};this.path(r,i,e[t]),delete e[t],e[s]=r,t=s}return t},i.compareArrays=function(e,t,i){var s=i?Object.keys(t).length:t.length;if(e.length!==s)return!1;for(var r=e.length-1;r>=0;r--)if(e[r]!=t[r])return!1;return!0},i.get=function(e,t,i){if(e&&t){if(i||4!==e.__t||e._filter||(e=e.from),!(t instanceof Array)){if(!~t.indexOf(o))return!i&&e[t]&&e[t].from||e[t];t=t.split(o)}return this.path(e,t,void 0,!1,!1,!1,!1,!1,i)}},i.isObj=function(e){return!(!(e instanceof Object&&"function"!=typeof e)||n.Object&&e instanceof n.Object||n.Base&&e instanceof n.Base)},i.clone=function(e,t,i){if(this.isObj(e)){var s=new e.constructor;for(var r in e)t&&t[r]||(s[r]=i?e[r]:this.clone(e[r],t));return s}return e},i.merge=function(e,t,i,s){for(var n in t){var o=r.isObj(e[n]),a=r.isObj(t[n]);o&&a?r.merge(e[n],t[n],i,s):i&&a?(e[n]=t[n]instanceof Array?[]:{},r.merge(e[n],t[n],i,s)):void 0!==s&&n in e&&("function"!=typeof s||!s(e[n],t[n]))||(e[n]=t[n])}return e},i.resolve=function(e,t,s,r){var n=!0;if(t instanceof Object){for(var o in t)void 0!==e[o]&&i.resolve(e[o],t[o],void 0!==s&&null!==s?s[o]:t[o],o)?void 0!==s&&null!==s&&(null===s[o]?n=!1:delete s[o]):n=!1;if(n){if(!s||void 0===r)return!0;delete s[r]}return n}return e==t?(s&&void 0!==r&&delete s[r],!0):void 0},i.include=function(e,t,s,r){if(r&&t instanceof Array){for(var n=!1,o=0,a=t.length;a>o;o++)n=i.include(e,t[o],s);return n}var l,c,o=0,u=e.length;if(1===e.__t){for(;u>o;o++)if(l=c=e[o],4===c.__t&&(c=c.from),c===t||c.val===t)return s&&s(l),!1;return e.push(t),!0}if(e instanceof Array){for(;u>o;o++)if(e[o]===t)return!1;return e.push(t),!0}},i.changeType=function(e){var t;if(e instanceof Array){t={};for(var i=0,s=e.length;s>i;i++)t[i]=e[i]}else{t=[];for(var i in e)t.push(e[i])}return t},i.raw=function(e,t){if(e instanceof Object){if(e instanceof n.Object)return e.raw;var i;if(e instanceof Array){i=[];for(var s=0,r=e.length;r>s;s++)i[s]=this.raw(e[s],t)}else{i={};for(var o in e)i[o]=this.raw(e[o],t)}return i}return e},i.walk=function(e,t){for(var s in e)if(e[s]instanceof Object){if(t(s,e[s],e,!0))return!0;if(i.walk(e[s],t))return!0}else if(t(s,e[s],e))return!0},i.checkParentFactory=function(e){return function(t,s,r,o){s&&s!==!0&&(o=s,s=!1);for(var a,l=t instanceof n.Object?!1:t,c=this;c;){if(a=l===!1?c===t:i.get(c,l,!r)){if(!o)return!s&&l?c:a;if(o===a||a instanceof n.Object&&a.val===o)return!s&&l?c:a}c=c[e]}}},i.disjoin=function(e,t,i){var r="function"==typeof i;e=s(e),t=s(t),e.each(function(){var e,s=this,n=s.from;t.each(function(){var t=this,s=t.from;return e=r?i(n,s):i===!0?n===s:n[i]&&s[i]&&n[i].val===s[i].val}),e&&s.remove()})}},{"../":"/Users/ricksmit/dev/vigour-js/index.js","./":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/util/process.js":[function(e,t,i){e("../object");t.exports={}},{"../object":"/Users/ricksmit/dev/vigour-js/object/index.js"}],"/Users/ricksmit/dev/vigour-js/util/prop.js":[function(e,t,i){function s(e,t,i,s,o){if(window.$TEST&&console.log(12,e),e.extensions||(i?e.extensions=[]:n.Object&&e instanceof n.Object?r.define(e,"extensions",[]):r.define(e,"extensions",{val:[],setClass:!0})),r.checkArray(e.extensions,this)===!1){o||(e.extensions=[this].concat(e.extensions));var a=r.arg(s);i&&!o&&(a[0]=i),window.$TEST&&console.error("??xxx?",a,t,this);var l=t.apply(this,a);if(window.$TEST,l)return l}else window.$TEST&&console.error("???")}var r=t.exports=i=e("./"),n=e("../");i.setstore=function(){this.__||(this.__={})},i.getStore=function(e){return this.__?void 0!==this.__[e]?this.__[e]:this._[e]:this._&&this._[e]},i.extend=function(){var e=r.arg(arguments);return function(t){window.$TEST&&console.log("10 --->",t);var i,o;"function"==typeof t?n.Base&&t.prototype instanceof n.Base?(i=t.base,o=!0):o=t.prototype:n.Base&&t instanceof n.Base&&(o=t);for(var a,l,c,u=r.arg(arguments),d=0,p=e.length;p>d;d++)e[d]instanceof Array?(l=e[d][0],c=r.arg(e[d],1),c.unshift(t)):(c=u,l=e[d]),window.$TEST&&console.log("11",l.extend?l:this,i||o),a=s.call(l.extend?l:this,i||o||t,l.extend||l,i,c,!!l.extend)||t;return a}},i.define=function(e,t,s,n,o,a){if("string"==typeof n)for(var l=r.arg(arguments),c=1,u=l.length;u>c;c+=2)i.define(e,l[c],l[c+1]);else if(t instanceof Array)for(var c=0,u=t.length;u>c;c++)i.define(e,t[c],s);else{if("function"==typeof s||s instanceof Array)s={enumerable:!1,value:s,configurable:!0};else if(s&&s instanceof Object&&!s.setClass)s.enumerable||(r.empty(s)&&(s.value={}),s.configurable=!0,s.enumerable=!1);else{s&&s.setClass&&(s=s.val);var d=e.prototype||e;a?(d.__||(d.__={}),d.__[t]=s):(d._||(d._={}),d._[t]=s);var p=function(e){i.setstore.call(this),(e||0===e||e===!1)&&(this.__[t]=e)},v=function(e){e=n.call(this,e),p.call(this,e)},f=function(){return i.getStore.call(this,t)},h=function(){var e=f.call(this);return o.call(this,e)};s={enumerable:!1,configurable:!0,get:o?h:f,set:n?v:p}}Object.defineProperty(e.prototype||e,t,s)}}},{"../":"/Users/ricksmit/dev/vigour-js/index.js","./":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"/Users/ricksmit/dev/vigour-js/value/base.js":[function(e,t,i){function s(e,t,i,s){e&&(e._bind===s&&4===e.__t?e.val=t:e._bind||(4===e.__t&&e._val===i?(e.val=t,console.log("----------",e.__t)):t.addListener(e)))}var r=(e("../base"),e("./")),n=e("../object").set,o=e("../util");i.clonelist=[["_base",!1],"_caller","_prop","_name","_skip"],i.type={type:r,create:function(e,t,i,s){var o=new r;return o._base=this,o._caller=o._base,o._prop=i,n.call(o,e,!1,!1,!0),this._class&&(this._class.prototype._[i.name]=o),i.set&&(i._vset||(i._vset=function(e,t,s,r){i.set.call(this._caller||this._base||this,this,e,t,s,r)}),s||o._update(e)),o},set:function(e,t,n){if(t){if(t._caller=this,t._bind=!1,this!==t._base){var a,l=t._listeners,c=(t._base,this);if(o.setstore.call(this),i.clonelist[0][1]=this,void 0===e||e.clear){var u=new r;u._base=this,u._prop=n,u._caller=this,e&&delete e.clear,u.val=e,e=u}else e=t.clone(e,!1,i.clonelist);if(this.__[n.name]=e,this._class&&(this._class.prototype._[n.name]=e),t.each(function(i){if(this._listeners){for(a=this._listeners.length-1;a>=0;a--)s(this._listeners[a],e[i],t,c);e[i].val!==this.val}}),l)for(a=l.length-1;a>=0;a--)s(l[a],e,t,c);e=null,this[n.name]._update(e)}return e}},get:function(e,t){return e&&(e._caller=this),t.get?t.get.call(this,e):e}}},{"../base":"/Users/ricksmit/dev/vigour-js/base/index.js","../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/value/flags/data.js":[function(e,t,i){var s=t.exports=e("./"),r=e("../../util"),n=e("../../object"),o=function(e){return e.__&&e.__.model||(e.model={},e._.model||e._dListen()),e.model};s.data={useVal:!0,set:function(e,t,i){var s=this.checkParent("_prop.name"),n=s._prop.name,a=s._base,l=o(a);l.flags&&l.flags[n]?(l.flags[n]instanceof Array||(l.flags[n]=[l.flags[n]]),r.checkArray(l.flags[n],this)||l.flags[n].push(this)):(a.model.flags||(a.model.flags={}),a.model.flags[n]=this);var c=function(){var e=this._d;if(void 0===e)for(var t=this;void 0===e&&t;)t._d?e=this._dSet(t._d,!0):(t=t.node.parentNode,t&&(t=t.base));return e};if(e instanceof Object){var u=e.val||e;this._val=function(){var e=c.call(this);return e&&u.call(this,e)},e=e.listen||!0}else this._val=function(){var t,i=c.call(this);return i=e===!0?i:r.get(i,e),void 0!==i?(t=i.__t&&!i._filter&&i.val,t||0===t||""===t||(t=i)):t="",t};this._flag||(this._flag={}),this._flag.data=["data",this._val,e,n]},remove:function(){var e=this.checkParent("_prop.name"),t=o(e._base),i=this;if(t&&t.flags)for(var s in t.flags)if(s===e._prop.name){var a=t.flags[s];a instanceof n||1===a.length?(t.flags[s]=null,delete t.flags[s]):t.flags[s].splice(r.checkArray(a,i),1)}this._update(),setTimeout(function(){i._update()},0)}}},{"../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/value/flags/index.js"}],"/Users/ricksmit/dev/vigour-js/value/flags/index.js":[function(e,t,i){var s=e("../"),r=e("../base"),n=e("../../object/flags");r.clonelist.push(["_flag",!0]),n.extend(s),t.exports=s.flags},{"../":"/Users/ricksmit/dev/vigour-js/value/index.js","../../object/flags":"/Users/ricksmit/dev/vigour-js/object/flags.js","../base":"/Users/ricksmit/dev/vigour-js/value/base.js"}],"/Users/ricksmit/dev/vigour-js/value/flags/parent.js":[function(e,t,i){function s(e,t){e&&e.node&&("x"!==t&&"y"!==t||e.cleanCoordinates(t),e[t]&&e[t]._prop._vset.call(e[t]))}function r(e,t,i,r,n,o,a,l,c,u,d,p,v,f,h){if(h&&this.parent instanceof r||!h&&this.parent===r||f){var m,g=this._from.base.node&&this._from.base,y=t._prop.name;t._caller=this,e.call(t,l,c,u,a),g&&g[y]&&g[y+"__p"]!==l&&(t._caller=g,t._caller[y+"__p"]=l,e.call(t,l,c,u,a),t._caller=this,m=!0);for(var b in t._listeners)t._listeners[b].pop&&"parent"===t._listeners[b][2]&&(t._listeners[b][1]._lstamp===l&&(t._listeners[b][1]._lstamp=null),t._listeners[b][0].call(t._listeners[b][1],i,this,g,o,a,l,c,u,d,p,!0));m&&s(g,y)}}function n(e,t,i,s,o,a,l,c,u,d,v,f){var h=this;this._parentStore[0]=t,this._update(o,l?this.stamp():a,l,c,u,d,!1,!1,function(){var m,g=this.checkParent("_prop._vset",!0),y=this.checkParent("_base",!0);t===y.parent&&l&&(m=!0),r.call(y,g,h,e,t,i,s,o,a,!1,c,u,d,!0,v),y.eachInstance(function(){r.call(this,g,h,e,t,i,s,o,a,!1,c,u,d,!1,m)},h._prop.name),p.prototype._update.call(this,o,a,!1,c,u,d,function(e){return"parent"===e[2]}),!f&&s._caller&&t!==s._caller&&n.call(this,e,s._caller,i,s,o,a,!1,c,u,d,v,!0)})}function o(e,t,i,r,o){var a,l,c=i._parentStore[0],u=r[2],d=e[u],v=this._from.base;d&&(d.addListener([n,i,"parent",e,this],function(t,s,r){t[3]!==e&&c!==e&&t[4]!==v&&(i._parentStore[0]=e,t[4]=v,a=!0)},!1,!0),(a||!c||c!==e&&c[u]!==d)&&(i._parentStore[0]=e,t||(i._caller=l=v.node&&v||i._base,i._prop._vset.call(i,i),i._caller=this,n.call(i,"parent",e,v,d,!1,p.stamp(),!1,!1,!1,!1,!0,!0),s(l,i._prop.name))))}function a(e,t,i){var s=this.parent;s&&o.call(this,s,!0,e,t,i)}function l(e){var t=this.parent||e.checkParent("_parentStore.0",!0);return t&&!e._flag.parent?void console.error("NO PARENT FLAG!"):t?t[e._flag.parent[2]].val:void 0}var c=t.exports=e("./"),u=e("../"),d=e("../../util"),p=e("../../object");u.prototype._blacklist.push("_parentStore"),c.parent={reset:!0,useVal:!0,set:function(e,t,i){var s=this.checkParent("_prop.name"),r=s._prop.name;this._flag||(this._flag={}),this._flag.parent=["parent",l,e,this],s._parentStore||(s._parentStore=[!1]),s._parentStore.push(this),s._caller.setSetting({name:r,parent:function(e){for(var t=this[r]._parentStore,i=t?t.length-1:0;i>0;i--)t[i]._flag.parent?o.call(this,e,!1,this[r],t[i]._flag.parent):console.error("2 NO PARENT FLAG!")}}),this._val=l,this._skip=!0,a.call(s._base,s,this._flag.parent,i),s._base.eachInstance(a,r,s,this._flag.parent)},remove:function(e){var t=this.checkParent("_prop.name"),i=t._base,s=t._listens,r=t._prop.name,n=e[2],o=t._parentStore,a=function(){
var e=this.parent;if(e&&e[n]){if(!(s.length>0))return!0;d.checkArray(s,e[n])&&e[n].removeListener(!1,t)}};this._val=0,s&&!a.call(i)&&i.eachInstance(a,r),o.splice(d.checkArray(o,this,!0),1),1===o.length&&(i.removeSetting(r,"parent"),t._parentStore=null)}}},{"../":"/Users/ricksmit/dev/vigour-js/value/index.js","../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/value/flags/index.js"}],"/Users/ricksmit/dev/vigour-js/value/flags/process.js":[function(e,t,i){var s=t.exports=e("./"),r=e("../../util/process"),n=e("../"),o=e("../../util"),a=e("../../browser/network/ajax"),l=e("../../object");i.create=function(e,t,i,a){a||(a=s),i||(i=n);var l,c,u="__temp"+e+"__",d="__inprogress"+e+"__",p=i.prototype._update,v=t&&t.once,f=t&&t.deferMethod,h={reset:!0,set:function(t,i,s){this._flag||(this._flag={}),this._flag[e]=[e,!1,t,this]},remove:function(){var t,i=this._flag&&this._flag[e];if(i&&i[1])if(t="string"==typeof i[2]?r[i[2]]:"function"!=typeof i[2]&&i[2],t&&t.removeListener)t.removeListener(i[1]);else if(t&&t!==!0)for(var s in t)t.removeListener(t[s])}};if(i.prototype._blacklist.push(u,d,"_history"),f&&(t.deferMethod=null),v&&(t.once=null,i.prototype._blacklist.push(v)),t)for(var m in t)"set"===m?(l=h.set,h.set=function(e,i,s){t.set.call(this,l,arguments)}):"remove"===m?(c=h.remove,h.remove=function(e,i,s){t.remove.call(this,c,arguments)}):h[m]=t[m];a[e]=h,o.define(i,"_update",function(t,s){if(!this._flag||!this._flag[e]||v&&this[v])p.apply(this,arguments);else{var n,a,l,c,h,m=this,g=m._flag&&m._flag[e],y=m[u];if(y){if(s&&y[0][1]!==s){var b=o.arg(arguments);for(var w in b)y[0][w]=b[w]}return}if(m[u]=y=[],n=!0,a=o.arg(arguments),y.push(a),n&&(l=f?f.call(m,a,g[2],u,p,i,d):"string"==typeof g[2]?r[g[2]]:g[2])){if(c=function(){v&&(m[v]=!0);for(var e=0;e<y.length;e++)p.apply(m,y[e]);this.removeListener&&this.removeListener(c),m[u]=null},"function"==typeof l)m[d]||(h=function(e){e!==!0&&m[d]&&m[d](),m[d]=null,m[u]=null},m[d]=c,l.call(this,h,a,y)===!0&&(m[u]=null,m[d]=null));else if(l===!0)this.val||0===this.val?(p.apply(m,a),m[u]=null):console.error("no value! from defer type:",e);else if(l.addListener)l.addListener(c);else for(var j in l)l[j].addListener(c);g[1]=c}}})},i.create("$bubble",{deferMethod:function(e,t,i,s){var r,n,o=this;o[i]=null,t?((n=t.references)?n instanceof Object?n.$lte&&o.referenceLevel(o._updateOrigin)<=n.$lte&&(r=!0):n>-1?o.referenceLevel(o._updateOrigin)===n&&(r=!0):n===!0&&o.referenceLevel(o._updateOrigin)!==!1&&(r=!0):t&&t.self===!0&&(void 0===e[2]||this._val===e[0]||!e[0]&&this._updateOrigin===this)&&(r=!0),r?s.apply(o,e):o.clearReferencesCache()):s.apply(o,e)}}),i.create("defer"),n.operators.responseData=function(e,t){return t===!1?e:t},i.create("ajax",{remove:function(e,t){e.apply(this,t)},set:function(e,t){this.loading||this.set("loading",!1,!1,!1,!0),e.apply(this,t)},deferMethod:function(e,t,i,s,r){var n=this;return t&&function(e,i){var s=e;if(e=function(e,t){n.clearCache(),n._skip=!0,n._ignoreValue=!0,e&&(i[0]=e,n._val instanceof l||(n.val=e)),n.loading&&(n.loading.val=!1),s(t),n._ignoreValue=null},"object"==typeof t){var o=t;t={};for(var c in o)if("defer"===c)t[c]=o[c];else if(!t[c]){if("complete"!==c&&"error"!==c&&"function"==typeof o[c]){if(t[c]=o[c].call(n,t,i[0],i),!t[c])return!0}else t[c]=o[c];t[c]instanceof l&&(t[c]=t[c].val)}}if("function"==typeof t&&(t=t.call(n,t,i[0],i),!t))return!0;if("string"==typeof t&&(t={url:t}),t.url instanceof l&&(t.url=t.url.val),!t||!t.url&&!t.api)return!0;var u=t.complete,d=t.error;t.complete=function(s){t.defer?t.defer.call(n,e,i,null,s,t):(n.responseData?n.responseData.merge(s):n.set("responseData",s),u&&u(s),e("success"))},t.error=function(s){t.defer?t.defer.call(n,e,i,s,t):(n.responseData&&n.responseData.each(function(e){r.operators[e]||r.flags[e]||this.remove()}),n.set("responseData",void 0),d&&d(data),e("error"))},n.loading&&(n.loading.val=!0),a(t)}}}),i.create("apiDefer",{remove:function(e,t){e.apply(this,t)},set:function(e,t){this.loading||this.set("loading",!1,!1,!1,!0),e.apply(this,t)},deferMethod:function(e,t,i,s,r,n){var o=this;return t&&function(e,i){if(!i[0]||i[0].apiDefer)return!0;var s=function(t,s){if(o.loading.val=!1,t&&t!==!0){o.val=i[0]=t;try{e(t)}catch(r){o.type=r,e("error")}o.clearCache(),o._val=!1}else e(t)};o.loading.val=!0;var r=o.checkParent("api",!0);r&&r.val!==!0?(r.once(function(e){"error"===e?(o.clearCache(),o.val=i[0]="error",o.type=this.type||"api",o.loading.val=!1,s()):e===!0&&t.call(o,s,i)}),r.val=!0):t.call(o,s,i)}}}),i.create("init",{set:function(e,t){this.initialised||e.apply(this,t)},remove:function(e,t){e.apply(this,t),this.initialised=null},once:"initialised"}),t.exports=i},{"../":"/Users/ricksmit/dev/vigour-js/value/index.js","../../browser/network/ajax":"/Users/ricksmit/dev/vigour-js/browser/network/ajax.js","../../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../../util":"/Users/ricksmit/dev/vigour-js/util/index.js","../../util/process":"/Users/ricksmit/dev/vigour-js/util/process.js","./":"/Users/ricksmit/dev/vigour-js/value/flags/index.js"}],"/Users/ricksmit/dev/vigour-js/value/flags/self.js":[function(e,t,i){var s=t.exports=e("./");s.self={reset:!0,useVal:!0,set:function(e,t,i){var s=this.checkParent("_prop.name");s._base&&s._base[e]&&(s._base[e].addListener(this),this._val=function(){return this[e]&&this[e].val},this._flag||(this._flag={}),this._flag.self=["self",this._val,e,this])}}},{"./":"/Users/ricksmit/dev/vigour-js/value/flags/index.js"}],"/Users/ricksmit/dev/vigour-js/value/flags/util.js":[function(e,t,i){var s=t.exports=e("./");s.listen={reset:!0,set:function(e,t,i){if(!e)return void console.error("no val in flags listen!");if(this._flag||(this._flag={}),this._flag.listen=["listen",!1,e,this],e instanceof Array)for(var s=e.length-1;s>=0;e[s--].addListener(this));else{e.addListener(this)}},remove:function(){if(this._flag&&this._flag.listen){var e=this._flag.listen[2];if(e instanceof Array)for(var t=e.length-1;t>=0;e[t--].removeListener(this));else e.removeListener(this)}}}},{"./":"/Users/ricksmit/dev/vigour-js/value/flags/index.js"}],"/Users/ricksmit/dev/vigour-js/value/index.js":[function(e,t,i){var s=e("../object"),r=e("../util"),n=e("../");t.exports=i=n.Value=s["new"]({mixed:!0,merge:!0});var o=function(e,t,i,s,r,n){var o=s[i]._get(r,t,e);return void 0!==o&&null!==o&&(e=n[i](e||("string"==typeof o?"":0),o)),e};i.prototype._blacklist.push("_lstamp","_clearCache","_lval","__lval","___lval","_base","_caller","_bind","_prop","_instances","_skip","_overwrite"),r.define(i,"clearCache",function(){this.___lval=null,this.__lval=null,this._lval=null},"clearReferencesCache",function(){for(from=this._val;from;)from.clearCache&&from.clearCache(),from&&from._val?from=from._val:from=null},"ignoreCache",{get:function(){for(var e=this;e;){if(e._prop&&e._prop.cache===!1)return!0;e=e._parent}}},"_get",function(e,t,i){if(this._clearCache&&this.clearCache(),this._overwrite)return this._overwrite;if(!this._lval&&0!==this._lval||t){var r,n=this._val,a=this.operators;if(n instanceof s)n=n._get(this._bind||e,t,i);else if("function"==typeof n){var l=this;if(!e)for(;l._parent&&!l._caller;)l=l._parent;n=n.call(e||l._caller||l._base||this,this,i),r=!0}if(a)if(1===this.__t&&a[this._name]){n=0;for(var c=0,u=this.length;u>c;c++)this[c]&&(vj=this[c]._get(e,!1,(i||0)+n),vj||(vj=0),"string"==typeof vj&&0===n&&(n=""),n+=vj,this[c]._lval||(r=!0))}else{var d;for(var p in this)if(a[p])if(a[p].order)if(d){d.pop||(d=[d]);for(var v=a[p].order,f=d.length-1,h=0;h!==!0&&f>=h;h++)if(h===f){if(v<a[d[h]].order){var l=d[h];d[f]=p,d.push(l)}else d.push(p);h=!0}else h===f&&v>a[d[h]].order&&(d.push(p),h=!0)}else d=p;else t||this[p]._lstamp===this._lstamp||1!==this[p].__t||(t=!0),n=o(n,t,p,this,e,a),r||this[p]._lval||(r=!0);if(d){var m;for(p=d.pop?(m=1)&&d[0]:d;p&&this[p];)t||this[p]._lstamp===this._lstamp||1!==this[p].__t||(t=!0),n=o(n,t,p,this,e,a),r||this[p]._lval||(r=!0),p=d[m++]}}return r||t?this._base&&this._base.instances||(this.__lval=n):(this._lval=n,this.__lval=n),n}return this.__lval},"update",function(e,t,i,s,r,n,o){return this._update.call(this,void 0,s||this.stamp(),r,n,!1,!1,t,e,i),this},"_update",function(e,t,r,n,o,a,l,c,u){var d=this,p=d._base;if(e instanceof i&&!d._bind&&e._caller&&(d._bind=e._caller),(!d._lstamp||d._lstamp!==t)&&(d._lval=!1,p&&p.instances||d._skip||void 0===d.__lval||d.___lval!==d.val)){var v=d._prop,f=d._parent,h=v&&v._vset,m=d.operators;if((!r||!n)&&m&&(m[d._name]||f&&1===f.__t&&m[f._name]&&(!r||d._name==f.length-1))){for(var g=this._parent;m[g._name];)g._lval=!1,g=g._parent;g&&g._update(e,t,this,n,o,a,l,c,u)}u?u.call(d,e,t,r,n,o,a,l,c,u):(c&&(p=c),h&&(d._caller=p,h.call(d,t,r,n,e)),p&&h&&p.instances&&!l&&v.updateinstances!==!1&&(p.eachInstance(function(){d._caller=this,h.call(d,t,r,n,e)},v.name,d),d._caller=p),s.prototype._update.call(d,e,t,r||d,n,o,a)),d._lstamp=t}}),r.define(i,"operators",{value:i.operators=e("./operators")})},{"../":"/Users/ricksmit/dev/vigour-js/index.js","../object":"/Users/ricksmit/dev/vigour-js/object/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./operators":"/Users/ricksmit/dev/vigour-js/value/operators.js"}],"/Users/ricksmit/dev/vigour-js/value/length.js":[function(e,t,i){function s(e){var t=new n({val:function(){return r(e)}});return e.on(function(e){t._update.apply(t,arguments)}),t}function r(e){return e?e._filter?e.length:4===e.__t?r(e._val):e.__t<3?e.keys.length:"string"==typeof e._val?e._val.length:0:0}var n=e("old-vigour-js/value"),o=e("old-vigour-js/util"),a=e("old-vigour-js/object");i.extend=o.extend(function(e){if(!(e.prototype instanceof a||e===a))throw new Error('cannot extend "$length" on non VObject Class');e.prototype._blacklist.push("_$length"),o.define(e,"$length",{get:function(){return o.include(this._blacklist,"_$length"),this._$length||(this._$length=s(this))}})})},{"old-vigour-js/object":"/Users/ricksmit/dev/vigour-js/object/index.js","old-vigour-js/util":"/Users/ricksmit/dev/vigour-js/util/index.js","old-vigour-js/value":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/value/on.js":[function(e,t,i){var s=(e("./"),e("../util")),r=e("../base");i.extend=s.extend(function(e){if(!(e instanceof r))throw new Error('cannot extend "on" on non Base Class');e.extend({name:"on",set:function(e){},remove:function(e){this.on.$remove&&this.on.$remove.update()},"new":function(e){this.on.$new&&this.on.$new.update()},parent:function(e){this.on.$parent&&this.on.$parent.update()},render:function(e){this.on.$render&&this.on.$render.update()}})})},{"../base":"/Users/ricksmit/dev/vigour-js/base/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js","./":"/Users/ricksmit/dev/vigour-js/value/index.js"}],"/Users/ricksmit/dev/vigour-js/value/operators.js":[function(e,t,i){e("../util"),e("../");i.add=function(e,t){return e+t},i.sub=function(e,t){return e-t},i.multiply=function(e,t){return e*t},i.divide=function(e,t){return e/t},i.max=function(e,t){return e>t?t:e},i.min=function(e,t){return t>e?t:e},i.transform=function(e,t){return t===!1?e:t},i.abs=function(e,t){return t?Math.abs(e):e},i.floor=function(e,t){return 0|e},i.ceil=function(e,t){return Math.ceil(e)},i.$convertType=function(e,t){return"boolean"===t?!!e:"number"===t?Number(e):void 0},i["default"]=function(e,t){return!e&&0!==e||e._val===!1||"error"===e||"success"===e?t:e},i["default"].order=1e3},{"../":"/Users/ricksmit/dev/vigour-js/index.js","../util":"/Users/ricksmit/dev/vigour-js/util/index.js"}],"package.json":[function(e,t,i){t.exports={name:"mtv-play",version:"1.2.93",description:"mtv's multiscreen adventure",main:"index.js",scripts:{test:"test/test.js",build:"gaston build -s ./index.js -o . -i && cd xhr && gaston build -s ./index.js -o . && cp build.js bundle.js",bundle:"gaston bundle -s ./index.js -o . -i",ios:"npm run build && ./node_modules/.bin/wrapper build --native.selectedPlatforms ios",release:'cp build.css bundle.css && ./node_modules/.bin/ferry --release --mergeFiles \'["./package.json","./.package.json"]\''},repository:{type:"git",url:"https://github.com/vigour-io/mtv-play",branch:"staging"},keywords:["multiscreen","play","shows","smart","tv","js"],dependencies:{autolinker:"^0.18.1",jquery:"^2.2.0",lodash:"3.2.0",markdown:"^0.5.0","monotonic-timestamp":"0.0.9","old-vigour-js":"git+ssh://git@github.com:vigour-io/vigour-js.git#hotfix/iosBrowser","package-branch-config":"^1.2.2",promise:"6.1.0",through2:"^2.0.0","zepto-browserify":"x"},devDependencies:{"vigour-wrapper":"^2.0.1","vigour-ferry":"^3.0.0"},author:"Jim de Beer",license:"other",bugs:{url:"https://github.com/vigour-io/mtv-play/issues"},homepage:"https://github.com/vigour-io/mtv-play",vigour:{ga:"UA-43955457-3",hashUrl:!0,defaultRegion:!1,regionOverride:!1,availableRegions:["DE","NL","CH","PL","BE","NO","AT","DK"],geo:"https://wwwmtvplay-a.akamaihd.net/geo/",development:{button:!1},cloud:"-staging-mtv-hubs.dev.vigour.io",othercloud:"http://localhost:10001",languages:["en","de","nl","pl","it","fr","no","dk"],mtvmobile:["de","ch"],roles:["free","premium","mtv","trial"],countrycodes:{de:49,ch:41,nl:31},dictionary:"https://mtv-staging.vigour.io/translations/lang_$language.json",epg:"https://wwwmtvplay-a.akamaihd.net/xhr/index.html",img:"https://imgmtvplay-a.akamaihd.net",imgOrigin:"http://staging.riptide.mtvnn.com/",api:{type:"staging",url:"https://utt-staging.mtvnn.com/",acceptHeader:"application/json",key:"4e99c9381b74354fbae9f468497912f0"},player:{debug:!1,web:"http://player.mtvnn.com/html5player/staging/player.js?v=2",settings:{homadURL:"/homad/config.json",tolerateadblocker:!1,ad_playpostrolls:!0,domain:"mtv",tld:"de",localization:{language:"de",country:"DE"},ads:{autoSID:!1,context:null,defaultAssetID:41349526,defaults:{interval:0},enabled:!0,engine:"Freewheel",fallbackID:41349526,midroll_intervals:{longer_than_15:null,longer_than_20:null,longer_than_30:null},networkID:174975,profileID:"174975:MTVNE_live_HTML5",server:"http://2ab7f.v.fwmrm.net/ad/p/1",viralSID:"mtvplaytv/test"},controls:!1,blankVideo:"http://player.mtvnn.com/codebase/blank.m4v",simulcastApiKey:"c153f28d950ae49a"}},chromecast:{id:"30C914C1",web:"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"},facebook:{id:"709421825777638",web:"https://connect.facebook.net/de_DE/sdk.js"},wrapper:{assets:{"build.html":!0,"build.js":!0,"build.css":!0,"bundle.css":!0,"fonts.css":!0,fonts:"*",img:"*",assets:"*",translations:"*"}},fburl:"http://play.mtvutt.com/",packer:{language:"https://wwwmtvplay-a.akamaihd.net/translations/",url:"https://wwwmtvplay-a.akamaihd.net/",domain:"https://mtv-staging.vigour.io"},ferry:{assets:{"build.html":!0,"build.js":!0,"build.css":!0,"bundle.css":!0,"fonts.css":!0,fonts:"*",img:"*",assets:"*",translations:"*",cast:"*","cast.html":!0,xhr:"*",homad:"*","googleebecff275dd42f4a.html":!0,"google2c4a46fac7686373.html":!0,"sitemap.xml":!0,"crossdomain.xml":!0,"robots.txt":!0,meta:"*"},transforms:{"build.js":["inform"],"bundle.css":["rebase"],"build.css":["rebase"],"build.html":["meta"]},main:"build.js",web:"build.html",fbDefaults:{title:"MTV Play",description:"Mtv's new app to view shows on all devices",image:"http://img.mtvutt.com/image/180/180?url=http://play.mtvutt.com/apple-touch-icon-180x180.png"}},store:{customAvailablility:{DK:{monthly:!0,yearly:!0,single:!1}},ios:{monthly:"$region_subscription_monthly",yearly:"$region_subscription_annual",single:"$region_single_purchase"},android:{monthly:"mtvplay_subscription_0616_monthly",yearly:"mtvplay_subscription_0616_annually",single:"mtvplay_single_purchase"},windows:{monthly:"mtvplay_subscription_monthly",yearly:"mtvplay_subscription_annual",single:"mtvplay_single_purchase"},amazon:{monthly:"com.mtvplay.app.sub.month",yearly:"com.mtvplay.app.sub.year",single:"com.mtvplay.app.episode"}},omniture:"vianorthtestweb"},gaston:{transforms:{"package-branch-config":{section:"vigour"}},"less-options":{},"source-maps":!1,"package":!0,"index-path":"index.html",es5:!0,aliasify:{}},sha:"1.2.93"}},{}]},{},["/Users/ricksmit/dev/mtv-play/index.js"]);