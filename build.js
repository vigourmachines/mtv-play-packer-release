require=function e(t,s,n){function r(i,a){if(!s[i]){if(!t[i]){var l="function"==typeof require&&require;if(!a&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=s[i]={exports:{}};t[i][0].call(u.exports,function(e){var s=t[i][1][e];return r(s?s:e)},u,u.exports,e,t,s,n)}return s[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({"/Users/shawn/Work/mtv-play/api/email.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases")),o=window.location;t.exports=s=new n({send:{apiDefer:function(e,t){if(this.body||this.address||this.subject){var s=this.body&&this.body.val,n=this.subject&&this.subject.val,i=this.address&&this.address.val,a=this;if(r.android&&window.cordova&&window.plugins.socialsharing)window.plugins.socialsharing.shareViaEmail(s,n,i?[i]:[],null,null,null,function(t){e("success"),this.$empty("loading")},function(t){a.type=t,e("error"),this.$empty("loading")});else{var l="mailto:"+(i||"")+"?subject="+(n||"")+"&body="+(s||"");if(r.android)o.replace(l);else{o.href;o.href=l}e("success"),this.$empty("loading")}}else e(!0)}},share:{apiDefer:function(e,t){var s=this._parent;this.val===!0||t[0]===!0?(s.send.once(function(t){e(t)}),s.send.val={address:this.address.val,body:this.body.val,subject:this.subject.val,val:!0}):e(!0)}}})},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/facebook/index.js":[function(e,t,s){var n,r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process");t.exports=s=new r({api:{defer:function(e,t){if(t[0]!==!0||n)return!0;if(window.cordova&&!n)n=!0,e();else{if(t[0]!==!0||n)return!0;var s=document.createElement("script"),r=this,i=s.onerror=function(){r.clearCache(),r.val=t[0]="error",e()};s.src=o.facebook.web,s.id="facebook-jssdk",window.fbAsyncInit=function(){try{window.FB.init({appId:o.facebook.id,xfbml:!0,version:"v2.1"}),n=!0,e()}catch(t){r.type=t.message,i()}},document.getElementsByTagName("head")[0].appendChild(s)}}}}),s._name="facebook",e("./login"),e("./share")},{"./login":"/Users/shawn/Work/mtv-play/api/facebook/login.js","./share":"/Users/shawn/Work/mtv-play/api/facebook/share.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/api/facebook/login.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("./index.js")),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");n.val={login:{apiDefer:function(e,t){var s=this;t[0]!==!0?(e("error"),this.type="type"):!window.cordova||"windows"===r.platform&&"phone"===r.device?window.FB.login(function(t){"connected"===t.status?(s.set("token",t.authResponse.accessToken),s.set("id",t.authResponse.userID),e("success")):(s.type=t,e("error"))},{scope:"public_profile,email"}):facebookConnectPlugin.login(["public_profile","email"],function(t){"connected"===t.status?s.token&&s.token.val===t.authResponse.accessToken?e("error"):(s.set("token",t.authResponse.accessToken),s.set("id",t.authResponse.userID),e("success")):(s.type=t,e("error"))},function(t){s.type=t,e("error")})}}}},{"./index.js":"/Users/shawn/Work/mtv-play/api/facebook/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url":"/Users/shawn/Work/vigour-js/browser/network/url.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/facebook/share.js":[function(e,t,s){var n,r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("./index.js")),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"));e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");r.val={share:{apiDefer:function(e,t){var s=this,r=this.url&&this.url.val;r?window.cordova?"windows"===i.platform&&"phone"===i.device?window.plugins.socialsharing.share(null,this.title&&this.title.val,null,this.url&&this.url.val,function(t){e("success")},function(r){r&&(n?n.call(s,e,t):(s.type="no cordovaFallback",e("error")))}):window.plugins.socialsharing.shareViaFacebook(null,null,this.url?this.url.val:null,function(t){e("success")},function(r){r&&(n?n.call(s,e,t):(s.type="no cordovaFallback",e("error")))}):(console.log("FB.ui"),FB.ui({method:"share",href:r},function(t){!t||t&&t.error_code?(t&&4201==t.error_code&&(s.type="cancelled"),e("error")):e("success")})):e(!0)}}},window.cordova&&!function(){n=function(e,t){function s(){window.facebookConnectPlugin.showDialog({method:"share",href:r,link:r},function(t){"string"!=typeof t?e("success"):~t.indexOf("User cancelled")&&(i.type="cancelled",e("error"))},function(t){"string"==typeof t&&t.indexOf("User cancelled")&&(i.type="cancelled"),e("error")})}function n(){window.facebookConnectPlugin.login(["public_profile"],s,function(t){i.type="login",e("error")})}var r=this.url&&this.url.val,i=this;o.android?window.facebookConnectPlugin.getLoginStatus(function(e){"connected"===e.status?s():n()},n):s()}}()},{"./index.js":"/Users/shawn/Work/mtv-play/api/facebook/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url":"/Users/shawn/Work/vigour-js/browser/network/url.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/index.js":[function(e,t,s){s.login=e("./login"),s.verify=e("./verify"),s.register=e("./register"),s.facebook=e("./facebook"),s.email=e("./email"),s.network=e("./network"),s.password=e("./password"),s.mobile=e("./mobile"),s.user=e("./user"),s.purchase=e("./purchase"),s.receipt=e("./receipt"),s.url=e("./url"),s.player=e("./player"),s.price=e("./purchase/pricing"),s.operator=e("./operator")},{"./email":"/Users/shawn/Work/mtv-play/api/email.js","./facebook":"/Users/shawn/Work/mtv-play/api/facebook/index.js","./login":"/Users/shawn/Work/mtv-play/api/login.js","./mobile":"/Users/shawn/Work/mtv-play/api/mobile.js","./network":"/Users/shawn/Work/mtv-play/api/network.js","./operator":"/Users/shawn/Work/mtv-play/api/operator.js","./password":"/Users/shawn/Work/mtv-play/api/password.js","./player":"/Users/shawn/Work/mtv-play/api/player.js","./purchase":"/Users/shawn/Work/mtv-play/api/purchase/index.js","./purchase/pricing":"/Users/shawn/Work/mtv-play/api/purchase/pricing.js","./receipt":"/Users/shawn/Work/mtv-play/api/receipt.js","./register":"/Users/shawn/Work/mtv-play/api/register.js","./url":"/Users/shawn/Work/mtv-play/api/url.js","./user":"/Users/shawn/Work/mtv-play/api/user.js","./verify":"/Users/shawn/Work/mtv-play/api/verify.js"}],"/Users/shawn/Work/mtv-play/api/login.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=e("./util"),i=n.api.url;e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process");t.exports=s=new r({ajax:{condition:function(e,t){return this.email&&this.password?(e.url=i+"api/v2/sessions.json",e.data={user:{email:this.email.val,password:this.password.val,app_version:window["package"].version}},!0):this.region&&this.facebook&&this.facebook.token?(e.url=i+"api/v2/sessions.json",e.data={auth_method:1,user:{oauth_token:this.facebook.token.val,accept_data_protection_tcs:!0,accept_mtv_country_tcs_for:this.region.val,app_version:window["package"].version}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,s,n){!s&&n&&n.success?(this.set("token",n.authentication_token),n.new_record?this.set("new_record",n.new_record):this.new_record&&this.new_record.remove(),e("success")):(this.type=s?s.message:o.findError(n),e("error"),this.$empty(["loading","region"]))}}}),s._name="_mtvlogin"},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/mtv-play/api/mobile.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=e("./util"),i=n.api.url;t.exports=s=new r({verify:{ajax:{url:i+"api/v2/mbl_verifications.json",encode:"json",method:"POST",headers:{Accept:"*/*",redirectUrl:n.packer.domain+"/?m=$data"},data:function(e,t){return this.token&&this.token.val&&this.phonenumber&&this.phonenumber.val&&this.country&&this.country.val?{auth_token:this.token.val,user:{mobile_number:Number(this.phonenumber.val),mobile_country_prefix:Number(this.country.val),app_version:window["package"].version}}:void 0},defer:function(e,t,s,n){!s&&n&&n.valid?e("success"):(this.type=s?s.message:o.findError(n),e("error"),this.$empty(["loading","token"]))}}},sms:{ajax:{url:function(e,t){return"string"==typeof t&&i+"api/v2/mblconfirmation/"+t+".json"},method:"GET",defer:function(e,t,s,n){n.success?(this.set("token",n.authentication_token),e("success")):(this.type=s?s.message:o.findError(n),e("error"))}}},available:{ajax:{url:function(){var e=this._val instanceof r?this._val:this;if("string"==typeof e.val){var t=i+"api/v1/utt_info/c153f28d950ae49a/"+e.val;return this._cached=e.val,t}},defer:function(e,t,s,n){var o=this._val instanceof r?this._val:this;o.val!==this._cached?(e(!0),this._update()):n&&n.success?(this.set("transform",n&&n.country_info&&n.country_info.mbl_available&&!0||!1),e()):e(!0)}}}})},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/network.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value");t.exports=s=new n,window.cordova&&(document.addEventListener("offline",function(){s.val=!1},!1),document.addEventListener("online",function(){s.val=navigator.connection.type},!1))},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/operator.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),i=e("./util"),a=n.api.url;s.login=new r({ajax:{condition:function(e,t){return this.username&&this.password&&this.operator?(e.url=a+"api/v2/sessions.json",e.data={auth_method:3,operator_name:this.operator.val,operator_credentials:{username:this.username.val,password:this.password.val},user:{accept_mtv_country_tcs:["de"],language_code:"de"}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,s,n){!s&&n&&n.success?(this.set("token",n.authentication_token),n.new_record?this.set("new_record",n.new_record):this.new_record&&this.new_record.remove(),e("success")):(this.type=s?s.message:i.findError(n),e("error"),this.$empty(["loading","region"]))}}}),s.upgrade=new r({ajax:{condition:function(e,t){return this.username&&this.password&&this.operator?(e.url=a+"api/v2/operators/upgrade.json",e.data={auth_token:o.user.token.val,operator_name:this.operator.val,operator_credentials:{username:this.username.val,password:this.password.val}},!0):void 0},headers:{appVersion:3},method:"POST",encode:"json",defer:function(e,t,s,n){!s&&n&&n.success?e("success"):(this.type="operatorUpgradeError",e("error"),this.$empty("loading"))}}})},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/password.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=e("./util"),i=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),n.api.url);t.exports=s=new r({reset:{ajax:{url:function(e,t){return t="string"==typeof t?t:this.token&&this.token.val,"string"==typeof t&&i+"api/v1/password_resets/"+t+".json"},data:function(e,t){return this.password&&this.password.val&&{user:{password:this.password.val,password_confirmation:this.password.val,app_version:window["package"].version}}},encode:"json",method:"PUT",defer:function(e,t,s,n){n.success?(this.set("token",n.authentication_token),e("success")):(this.type=s?s.message:o.findError(n),e("error"))}}},forgot:{ajax:{url:i+"api/v1/password_resets.json",method:"POST",encode:"uri",headers:{appVersion:3,redirectUrl:n.packer.domain+"/?reset=$data"},data:function(e,t){return"string"==typeof t?{email:t}:void 0},defer:function(e,t,s,n){n.success?e("success"):(this.type=s?s.message:o.findError(n),e("error"))}}}}),s._name="password"},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/player.js":[function(e,t,s){var n,r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value");t.exports=s=new o({api:{defer:function(t,s){if(s[0]!==!0||n)return!0;n=!0,window.$=e("../libs/zepto").$,window.jQuery=window.$;var o=this,i=document.createElement("script");i.onerror=function(e){console.error(e),o.type="script",o.clearCache(),o.val=s[0]="error",t()},i.onload=function(){t("success")},i.src=r.player.web,i.id="player-script",this._parent.debug=r.player.debug,this._parent.settings=r.player.settings,document.getElementsByTagName("head")[0].appendChild(i)}},apiDefer:function(e,t){e("success")}})},{"../libs/zepto":"/Users/shawn/Work/mtv-play/libs/zepto.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/purchase/index.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=(e("../util"),n.api.url,e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"));t.exports=s=new r({apiDefer:function(e){function t(t,n){if(n&&(t=null),t)s.type=t,e("error");else{try{console.log("response "+JSON.stringify(n,!1,2)),localStorage.setItem("receiptData",JSON.stringify(n))}catch(r){s.type=r}s.set("packageName",n.packageName),s.set("subscriptionId",n.productId),s.set("orderId",n.orderId),s.set("purchaseTime",n.purchaseTime),s.set("purchaseState",n.purchaseState),s.set("developerPayload",n.developerPayload),s.set("signature",n.signature),s.set("token",n.purchaseToken),e("success")}s.subscription&&(s.subscription.val=!1),s.product&&(s.product.val=!1)}var s=this;if(window.Store){var n=this.subscription&&this.subscription.val||this.product&&this.product.val;n?o.ios?Store.buy(n,function(t,n){if(n&&(t=null),t)s.type=t.description,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(n))}catch(r){s.type=r,e("error")}s.set("token",window.atob(n.restoreTransaction?n.restoreTransaction.transactionReceipt:n.completeTransaction.transactionReceipt)),e("success")}s.subscription&&(s.subscription.val=!1),s.product&&(s.product.val=!1)}):o.windowsMobile?Store.buy(n,function(t,n){if(n&&(t=null),t)s.type=t,e("error");else{try{localStorage.setItem("receiptData",JSON.stringify(n))}catch(r){s.type=r,e("error")}n.purchaseResults&&"Succeeded"===n.purchaseResults.status?(s.set("token",n.purchaseResults.receiptXml),s.set("transactionId",n.purchaseResults.transactionId),e("success")):(s.type=n.purchaseResults,e("error"))}s.subscription&&(s.subscription.val=!1),s.product&&(s.product.val=!1)}):this.subscription&&this.subscription.val?Store.subscribe(n,t):Store.buy(n,t):(e(!0),this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1))}else this.type="no store available",this.subscription&&(this.subscription.val=!1),this.product&&(this.product.val=!1)}}),s._name="purchase"},{"../util":"/Users/shawn/Work/mtv-play/api/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/purchase/pricing.js":[function(e,t,s){function n(e){var t=e.split("=")[1];return h[t]||t}function r(e){for(var t=e.length-1;t>=0;t--){var s=p&&p[e[t]];s?d[e[t]]=e[t]=s.replace("$region",(a.region.val||"").toLowerCase()):e.splice(t,1)}}function o(e){for(var t in d)if(d[t]===e)return t}var i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),p=l.store[c.platform],d={},h={EUR:"€",PLN:"zł",RON:"Lei"};t.exports=s=function(e){e?e instanceof Array||(e=[e]):e=["single","yearly","monthly"],r(e),!s._fetching&&window.cordova&&window.Store&&e.length&&(console.log("====> Store.fetch",e),s._fetching=!0,Store.fetch(e,function(e,t){s._fetching=null;try{console.log("====> fetch returns "+JSON.stringify(t,null,2))}catch(r){console.log("====> fetch returns. Impossible to stringify data")}if(e||!t)return console.error(e),s.single._fetching=null,s.monthly._fetching=null,void(s.yearly._fetching=null);var a,l,c,u,p=t.validProducts;if(i.ios)for(u=p.length-1;u>=0;u--)a=p[u],l=a.productIdentifier,c=o(l),s[c]?s[c].val=n(a.priceLocale)+a.price:console.error("can not find type ",c);else for(u=p.length-1;u>=0;u--){a=p[u];for(c in d)l=d[c],a[l]?s[c].val=a[l].price:console.error("can not find type ",c)}}))},s.single=new u({val:function(){this._fetching||s(),this._fetching=!0}}),s.monthly=new u({val:function(){this._fetching||s(),this._fetching=!0}}),s.yearly=new u({val:function(){this._fetching||s(),this._fetching=!0}})},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/receipt.js":[function(e,t,s){function n(){var e;o&&(clearTimeout(o),o=null),e=v+.08*h,v=6e4>=e?e:0,o=setTimeout(function(){o=null,r()},e)}function r(){function e(){t&&(console.log("resetting auth token"),s.token.val=t)}var t,n=localStorage.getItem(d);if(!n)return!0;t=s.token&&s.token._val,s.once("success",e).once("error",e);try{console.log("Resending receipt data to backend",n),s.val=JSON.parse(n)}catch(r){console.error("Can't JSON.parse receipt data stored in local storage")}}var o,i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),l=e("./util"),c=i.api.url,u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/encode64.js"),d="receiptData",h=1e4,v=0;t.exports=s=new a({ajax:{url:c+"api/v2/subscriptions",encode:"json",method:"POST",headers:{Accept:"*/*"},data:function(e,t){var s;if(this.token&&this.token.val&&this.receipt&&this.receipt.val){try{localStorage.setItem(d,JSON.stringify(this.raw))}catch(r){this.type=r,update("error")}if(u.ios)s={receipt:this.receipt.val,vendor:"apple"},this.episodeId&&(s.episode=this.episodeId.val);else if(u.android){if(!this.packageName)return void console.error(" add a packagename for android!");s={packageName:this.packageName.val,token:this.receipt.val,orderId:this.orderId.val,purchaseTime:this.purchaseTime.val,purchaseState:this.purchaseState.val,developerPayload:this.developerPayload.val,signature:this.signature.val,vendor:"google"},this.episodeId&&(s.episode=this.episodeId.val),this.subscriptionId&&(s.subscriptionId=this.subscriptionId.val)}else u.windowsMobile&&(s={receipt:p.encode(this.receipt.val),vendor:"microsoft"},this.episodeId&&(s.episode=this.episodeId.val));s&&(s.auth_token=this.token.val,n())}return s},defer:function(e,t,s,n){localStorage.removeItem(d),!s&&n&&n.success?(v=0,e("success")):(this.type=s?s.message:l.findError(n),e("error"),this.$empty("loading"))}}}),s._name="receipt",u["native"]&&(document.addEventListener("resume",r,!1),r())},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/encode64.js":"/Users/shawn/Work/vigour-js/util/encode64.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/register.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=e("./util"),a=n.api.url;t.exports=s=new r({ajax:{url:a+"api/v1/users.json",headers:{appVersion:3,redirectUrl:n.packer.domain+"/?e=$data"},method:"POST",encode:"json",data:function(){if(this.email&&this.password){var e=o.iphone&&"iphone"||o.android&&"android",t={user:{email:this.email.val,password:this.password.val,password_confirmation:this.password.val,accept_data_protection_tcs:!0,accept_mtv_country_tcs_for:this.region.val,app_version:window["package"].version}};return this.gender&&(t.user.gender=this.gender.val),this.newsletter&&(t.user.accept_newsletter=this.newsletter.val),this.age&&this.age.min_age&&(t.user.min_age=this.age.min_age.val,t.user.max_age=this.age.max_age.val),e&&(t.user.device_type=e),t}},defer:function(e,t,s,n){!s&&n&&n.success?e("success"):(this.type=s?s.message:i.findError(n),e("error"),this.$empty("region"))}}}),s._name="register"},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/context.js":[function(e,t,s){var n=e("./map"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),i=e("./omniture"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=function(e,t,s){var c,u,p,d,h=i.user,v=window["package"],m=h&&h.data&&h.data.from.cloud&&h.data.from,f=h?h.role.val:0,g=new Date,w=v?v.repository&&v.repository.branch:"master",y=m&&m._name||"not available";"userData"===y&&(y="unregistered"),"master"===w&&(w="dev"),t?(c=0,u="prop"):(c=1,u="eVar"),f=0===f?"free":1===f?"premium":2===f?"mtv mobile":3===f?"trial":"unregistered","ios"===r.platform&&(d="phone"===r.device?"iPhone":"iPad"),p={branch:w,title:e,version:window["package"]&&window["package"].version,role:f,device:d||r.platform+" "+r.device,region:o.region.val,lang:o.language.val,weekDay:n.weekDays[g.getDay()],hour:g.getHours()||24,age:m&&m.get&&m.get("birthday",!1).val||"not available",gender:m&&m.get&&m.get("gender",!1).val||"not available","native":window.cordova||"tv"===r.device||"cast"===r.device?"native":"web",userId:y||"unregistered",connected:String(a.$hasReceiver.val)||"none",secondscreen:String(!a.$isActive.val)||"none",devicesPresent:String(a.$hasDevices.val)||"none",loginStyle:a.$isLoggedIn.val&&m?m.facebook_id&&m.facebook_id.val?"facebook":"email":"none",network:l.network.val||"not available",networkOperator:"not available"},s||(p.title="none");for(var k in p)i[u+n.vars[k][c]]=p[k]}},{"./map":"/Users/shawn/Work/mtv-play/api/tracking/map.js","./omniture":"/Users/shawn/Work/mtv-play/api/tracking/omniture.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/dataform.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/ajax");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util").postpone;e("./ga");var r;window.device?r=window.device.uuid:ga(function(e){r=e.get("clientId")});var o=function(e){e.an="MTV Play",e.tid="UA-43955457-6",e.cid=r,n({url:"http://www.google-analytics.com/collect?v=1",method:"POST",headers:{accept:"text/plain"},data:e})},i=function(e,t,s){o({t:"event",ec:e,ea:t,el:s})},a=function(e){o({uid:e})},l=function(e){var t={};t.cm1=e,o(t)};s.sendData=o,s.sendEvent=i,s.setUserid=a,s.setDimension=l},{"./ga":"/Users/shawn/Work/mtv-play/api/tracking/ga.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/ajax":"/Users/shawn/Work/vigour-js/browser/network/ajax.js"}],"/Users/shawn/Work/mtv-play/api/tracking/ga.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");!function(e,t,s,n,r,o,i){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,o=t.createElement(s),i=t.getElementsByTagName(s)[0],o.async=1,o.src=n,i.parentNode.insertBefore(o,i)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),n["native"]?ga("set",{checkProtocolTask:null,storage:"none"}):ga("create","UA-43955457-6","auto"),t.exports=window.ga},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/index.js":[function(e,t,s){function n(e){var t=v.token.val,s=c.api.url+"api/v1/users/"+t+"/activities",n=m.$isOnChannel.val,r={activity:{action:"watch",resource_type:n?"simulcast":"episode",resource_id:e,repository:"sensei",environment:"production"}};g("event","video","watch"),t&&h({url:s,method:"POST",headers:{accept:"application/json"},encode:"json",data:r,error:function(e){console.error("POST",s,r,e)}})}function r(){g("event","sharing","facebook")}var o,i,a=e("./omniture"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util").postpone,c=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config")),u=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url"),e("./map")),p=e("./context"),d=e("./pagename"),h=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/ajax"),v=e("../../app/user"),m=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),f=e("./dataform").sendData,g=e("./dataform").sendEvent;s.omniture=a,a.account=c.omniture;var w=l(function(){a.tl.apply(this,arguments),delete a.events},1e3);s.setSearchProp=l(function(e){e&&(a["prop"+u.vars.search[0]]=e)},1e3),s.video=function(e,t,s){if(s||(s=t),t.from&&(s=t.from._cachedPath),"string"==typeof s){var r,o="videoPlay"===e||"videoPause"===e?e:"",l={videostart:[0,.1],video25:[.25,.26],video50:[.5,.51],video75:[.75,.76],videofinished:[.9,.95]};if(e=-1*e,!o)for(var c in l)if(e>l[c][0]&&e<l[c][1]){if(o=c,r=o+s,i&&o+s===i)return;i=o+s;break}if(o&&t.from._parent._parent){var h=d(t.from._parent._parent._parent._cachedPath),v="video > "+h.name;p(h.title,!1,!0),v.split(">").length<7&&(v+=" > seasons 1 > episodes 1"),v+=(" : "+t.get("title","").val).toLowerCase(),m.$isOnChannel.val&&(v=t.get("title","").val),a["eVar"+u.vars.videoName[1]]=v,a.events="event"+u.events[o],"videostart"===o&&n(t.id.val),a.tl(!0,"o",o)}}},s.event=l(function(e,t,s,n){"swipeUp"===e&&g("event","multiscreen","swipe-up"),a.events="event"+u.events[e],p(),"upgradeMtvFailed"===e&&(a["eVar"+u.events.mtvMobileFailed]=t),"search"===e?w(!0,"o",e):(a.tl(!0,"o",e),delete a.events),"sharingFacebookSucces"===e&&r()},1e3),s.popup=l(function(e){if(e){var t="";p(e,!0,!1),a.pageName=(t+"other > "+e).toLowerCase(),
a.t()}},1e3),s.pageView=l(function(e){if(e.from&&(e=e.from._cachedPath),"string"==typeof e){var t=d(e),s=t.title;a.pageName=t.name.toLowerCase(),p(s,!0,~e.lastIndexOf(".")),a.t();var n={t:"appview",aip:1,cd:t.name};o&&(n.uid=o),f(n)}},1e3),m.$isLoggedIn.on(function(){o=m.$isLoggedIn.val?v.id.val:!1})},{"../../app/user":"/Users/shawn/Work/mtv-play/app/user.js","./context":"/Users/shawn/Work/mtv-play/api/tracking/context.js","./dataform":"/Users/shawn/Work/mtv-play/api/tracking/dataform.js","./map":"/Users/shawn/Work/mtv-play/api/tracking/map.js","./omniture":"/Users/shawn/Work/mtv-play/api/tracking/omniture.js","./pagename":"/Users/shawn/Work/mtv-play/api/tracking/pagename.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/ajax":"/Users/shawn/Work/vigour-js/browser/network/ajax.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url":"/Users/shawn/Work/vigour-js/browser/network/url.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/api/tracking/lib/AppMeasurement.js":[function(e,t,s){function n(){var e=this;e.version="1.4.1";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var s=t.sb;s||(s=null);var n,r,o=t;try{for(n=o.parent,r=o.location;n&&n.location&&r&&""+n.location!=""+r&&o.location&&""+n.location!=""+o.location&&n.location.host==r.host;)o=n,n=o.parent}catch(i){}e.eb=function(e){try{console.log(e)}catch(t){}},e.ta=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,s){return!e||e.indexOf(t)<0?e:e.split(t).join(s)},e.escape=function(t){var s,n;if(!t)return t;for(t=encodeURIComponent(t),s=0;7>s;s++)n="+~!*()'".substring(s,s+1),t.indexOf(n)>=0&&(t=e.replace(t,n,"%"+n.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=t.indexOf("+")>=0?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(s){}return unescape(t)},e.Va=function(){var s,n=t.location.hostname,r=e.fpCookieDomainPeriods;if(r||(r=e.cookieDomainPeriods),n&&!e.cookieDomain&&!/^[0-9.]+$/.test(n)&&(r=r?parseInt(r):2,r=r>2?r:2,s=n.lastIndexOf("."),s>=0)){for(;s>=0&&r>1;)s=n.lastIndexOf(".",s-1),r--;e.cookieDomain=s>0?n.substring(s):n}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var s=" "+e.d.cookie,n=s.indexOf(" "+t+"="),r=0>n?n:s.indexOf(";",n);return t=0>n?"":e.unescape(s.substring(n+2+t.length,0>r?s.length:r)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,s,n){var r,o=e.Va(),i=e.cookieLifetime;return s=""+s,i=i?(""+i).toUpperCase():"",n&&"SESSION"!=i&&"NONE"!=i&&((r=""!=s?parseInt(i?i:0):-60)?(n=new Date,n.setTime(n.getTime()+1e3*r)):1==n&&(n=new Date,r=n.getYear(),n.setYear(r+5+(1900>r?1900:0)))),t&&"NONE"!=i?(e.d.cookie=t+"="+e.escape(""!=s?s:"[[B]]")+"; path=/;"+(n&&"SESSION"!=i?" expires="+n.toGMTString()+";":"")+(o?" domain="+o+";":""),e.cookieRead(t)==s):0},e.C=[],e.B=function(t,s,n){if(e.ma)return 0;e.maxDelay||(e.maxDelay=250);var r=0,o=(new Date).getTime()+e.maxDelay,i=e.d.qb,a=["webkitvisibilitychange","visibilitychange"];if(i||(i=e.d.rb),i&&"prerender"==i){if(!e.X)for(e.X=1,n=0;n<a.length;n++)e.d.addEventListener(a[n],function(){var t=e.d.qb;t||(t=e.d.rb),"visible"==t&&(e.X=0,e.delayReady())});r=1,o=0}else n||e.q("_d")&&(r=1);return r&&(e.C.push({m:t,a:s,t:o}),e.X||setTimeout(e.delayReady,e.maxDelay)),r},e.delayReady=function(){var t,s=(new Date).getTime(),n=0;for(e.q("_d")&&(n=1);e.C.length>0;){if(t=e.C.shift(),n&&!t.t&&t.t>s){e.C.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ma=1,e[t.m].apply(e,t.a),e.ma=0}},e.setAccount=e.sa=function(t){var s,n;if(!e.B("setAccount",arguments))if(e.account=t,e.allAccounts)for(s=e.allAccounts.concat(t.split(",")),e.allAccounts=[],s.sort(),n=0;n<s.length;n++)(0==n||s[n-1]!=s[n])&&e.allAccounts.push(s[n]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,s){var n,r,o,i,a="";for(o=r="",e.lightProfileID?(n=e.H,(a=e.lightTrackVars)&&(a=","+a+","+e.ba.join(",")+",")):(n=e.c,(e.pe||e.linkType)&&(a=e.linkTrackVars,r=e.linkTrackEvents,e.pe&&(o=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[o])&&(a=e[o].pb,r=e[o].ob)),a&&(a=","+a+","+e.z.join(",")+","),r&&a&&(a+=",events,")),s&&(s=","+s+","),r=0;r<n.length;r++)o=n[r],(i=e[o])&&(!a||a.indexOf(","+o+",")>=0)&&(!s||s.indexOf(","+o+",")>=0)&&t(o,i)},e.J=function(t,s,n,r,o){var i,a,l,c,u="",p=0;if("contextData"==t&&(t="c"),s){for(i in s)if(!Object.prototype[i]&&(!o||i.substring(0,o.length)==o)&&s[i]&&(!n||n.indexOf(","+(r?r+".":"")+i+",")>=0)){if(l=!1,p)for(a=0;a<p.length;a++)i.substring(0,p[a].length)==p[a]&&(l=!0);if(!l&&(""==u&&(u+="&"+t+"."),a=s[i],o&&(i=i.substring(o.length)),i.length>0))if(l=i.indexOf("."),l>0)a=i.substring(0,l),l=(o?o:"")+a+".",p||(p=[]),p.push(l),u+=e.J(a,s,n,r,l);else if("boolean"==typeof a&&(a=a?"true":"false"),a){if("retrieveLightData"==r&&o.indexOf(".contextData.")<0)switch(l=i.substring(0,4),c=i.substring(4),i){case"transactionID":i="xact";break;case"channel":i="ch";break;case"campaign":i="v0";break;default:e.ta(c)&&("prop"==l?i="c"+c:"eVar"==l?i="v"+c:"list"==l?i="l"+c:"hier"==l&&(i="h"+c,a=a.substring(0,255)))}u+="&"+e.escape(i)+"="+e.escape(a)}}""!=u&&(u+="&."+t)}return u},e.Xa=function(){var t,s,n,r,o,i,a,l,c="",u="",p="",d=s="";for(e.lightProfileID?(t=e.H,(u=e.lightTrackVars)&&(u=","+u+","+e.ba.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(u=e.linkTrackVars,p=e.linkTrackEvents,e.pe&&(s=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[s])&&(u=e[s].pb,p=e[s].ob)),u&&(u=","+u+","+e.z.join(",")+","),p&&(p=","+p+",",u&&(u+=",events,")),e.events2&&(d+=(""!=d?",":"")+e.events2)),e.AudienceManagement&&e.AudienceManagement.isReady()&&(c+=e.J("d",e.AudienceManagement.getEventCallConfigParams())),s=0;s<t.length;s++){if(r=t[s],o=e[r],n=r.substring(0,4),i=r.substring(4),!o&&"events"==r&&d&&(o=d,d=""),o&&(!u||u.indexOf(","+r+",")>=0)){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",o.length>255&&(e.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(o="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(d&&(o+=(""!=o?",":"")+d),p)for(i=o.split(","),o="",n=0;n<i.length;n++)a=i[n],l=a.indexOf("="),l>=0&&(a=a.substring(0,l)),l=a.indexOf(":"),l>=0&&(a=a.substring(0,l)),p.indexOf(","+a+",")>=0&&(o+=(o?",":"")+i[n]);break;case"events2":o="";break;case"contextData":c+=e.J("c",e[r],u,r),o="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(o="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(o="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(c+=e.J("mts",e[r],u,r)),o="";break;default:e.ta(i)&&("prop"==n?r="c"+i:"eVar"==n?r="v"+i:"list"==n?r="l"+i:"hier"==n&&(r="h"+i,o=o.substring(0,255)))}o&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(o):o))}"pev3"==r&&e.g&&(c+=e.g)}return c},e.u=function(e){var t=e.tagName;return""+e.wb!="undefined"||""+e.ib!="undefined"&&"HTML"!=(""+e.ib).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.oa=function(e){var t,s,n,r=e.href?e.href:"";return t=r.indexOf(":"),s=r.indexOf("?"),n=r.indexOf("/"),r&&(0>t||s>=0&&t>s||n>=0&&t>n)&&(s=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),r=(s?s+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>t?0:t)+"/":"")+r),r},e.D=function(t){var s,n,r=e.u(t),o="",i=0;return r&&(s=t.protocol,n=t.onclick,!t.href||"A"!=r&&"AREA"!=r||n&&s&&!(s.toLowerCase().indexOf("javascript")<0)?n?(o=e.replace(e.replace(e.replace(e.replace(""+n,"\r",""),"\n",""),"	","")," ",""),i=2):"INPUT"==r||"SUBMIT"==r?(t.value?o=t.value:t.innerText?o=t.innerText:t.textContent&&(o=t.textContent),i=3):t.src&&"IMAGE"==r&&(o=t.src):o=e.oa(t),o)?{id:o.substring(0,100),type:i}:0},e.tb=function(t){for(var s=e.u(t),n=e.D(t);t&&!n&&"BODY"!=s;)(t=t.parentElement?t.parentElement:t.parentNode)&&(s=e.u(t),n=e.D(t));return n&&"BODY"!=s||(t=0),t&&(s=t.onclick?""+t.onclick:"",s.indexOf(".tl(")>=0||s.indexOf(".trackLink(")>=0)&&(t=0),t},e.hb=function(){var s,n,r,o,i=e.linkObject,a=e.linkType,l=e.linkURL;if(e.ca=1,i||(e.ca=0,i=e.clickObject),i){for(s=e.u(i),n=e.D(i);i&&!n&&"BODY"!=s;)(i=i.parentElement?i.parentElement:i.parentNode)&&(s=e.u(i),n=e.D(i));if(n&&"BODY"!=s||(i=0),i){var c=i.onclick?""+i.onclick:"";(c.indexOf(".tl(")>=0||c.indexOf(".trackLink(")>=0)&&(i=0)}}else e.ca=1;if(!l&&i&&(l=e.oa(i)),l&&!e.linkLeaveQueryString&&(r=l.indexOf("?"),r>=0&&(l=l.substring(0,r))),!a&&l){var u,p=0,d=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(c=l.toLowerCase(),r=c.indexOf("?"),o=c.indexOf("#"),r>=0?o>=0&&r>o&&(r=o):r=o,r>=0&&(c=c.substring(0,r)),r=e.linkDownloadFileTypes.toLowerCase().split(","),o=0;o<r.length;o++)(u=r[o])&&c.substring(c.length-(u.length+1))=="."+u&&(a="d");if(e.trackExternalLinks&&!a&&(c=l.toLowerCase(),e.ra(c))&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),r=0,e.linkExternalFilters?(r=e.linkExternalFilters.toLowerCase().split(","),p=1):e.linkInternalFilters&&(r=e.linkInternalFilters.toLowerCase().split(",")),r)){for(o=0;o<r.length;o++)u=r[o],c.indexOf(u)>=0&&(d=1);d?p&&(a="e"):p||(a="e")}}e.linkObject=i,e.linkURL=l,e.linkType=a,(e.trackClickMap||e.trackInlineStats)&&(e.g="",i&&(a=e.pageName,l=1,i=i.sourceIndex,a||(a=e.pageURL,l=0),t.s_objectID&&(n.id=t.s_objectID,i=n.type=1),a&&n&&n.id&&s&&(e.g="&pid="+e.escape(a.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(n.id.substring(0,100))+(n.type?"&oidt="+n.type:"")+"&ot="+s+(i?"&oi="+i:""))))},e.Ya=function(){var t=e.ca,s=e.linkType,n=e.linkURL,r=e.linkName;if(s&&(n||r)&&(s=s.toLowerCase(),"d"!=s&&"e"!=s&&(s="o"),e.pe="lnk_"+s,e.pev1=n?e.escape(n):"",e.pev2=r?e.escape(r):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){s={},n=0;var o,i,a,l=e.cookieRead("s_sq"),c=l?l.split("&"):0;if(l=0,c)for(o=0;o<c.length;o++)i=c[o].split("="),r=e.unescape(i[0]).split(","),i=e.unescape(i[1]),s[i]=r;if(r=e.account.split(","),t||e.g){t&&!e.g&&(l=1);for(i in s)if(!Object.prototype[i])for(o=0;o<r.length;o++)for(l&&(a=s[i].join(","),a==e.account&&(e.g+=("&"!=i.charAt(0)?"&":"")+i,s[i]=[],n=1)),c=0;c<s[i].length;c++)a=s[i][c],a==r[o]&&(l&&(e.g+="&u="+e.escape(a)+("&"!=i.charAt(0)?"&":"")+i+"&u=0"),s[i].splice(c,1),n=1);if(t||(n=1),n){l="",o=2,!t&&e.g&&(l=e.escape(r.join(","))+"="+e.escape(e.g),o=1);for(i in s)!Object.prototype[i]&&o>0&&s[i].length>0&&(l+=(l?"&":"")+e.escape(s[i].join(","))+"="+e.escape(i),o--);e.cookieWrite("s_sq",l)}}}return t},e.Za=function(){if(!e.nb){var t,s,n=new Date,r=o.location,i=s=t="",a="",l="",c="1.2",u=e.cookieWrite("s_cc","true",0)?"Y":"N",p="",d="";if(n.setUTCDate&&(c="1.3",0..toPrecision&&(c="1.5",n=[],n.forEach))){c="1.6",s=0,t={};try{s=new Iterator(t),s.next&&(c="1.7",n.reduce&&(c="1.8",c.trim&&(c="1.8.1",Date.parse&&(c="1.8.2",Object.create&&(c="1.8.5")))))}catch(h){}}t=screen.width+"x"+screen.height,i=navigator.javaEnabled()?"Y":"N",s=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,a=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),p=e.b.ub(r)?"Y":"N"}catch(v){}try{e.b.addBehavior("#default#clientCaps"),d=e.b.connectionType}catch(m){}e.resolution=t,e.colorDepth=s,e.javascriptVersion=c,e.javaEnabled=i,e.cookiesEnabled=u,e.browserWidth=a,e.browserHeight=l,e.connectionType=d,e.homepage=p,e.nb=1}},e.I={},e.loadModule=function(s,n){var r=e.I[s];if(!r){r=t["AppMeasurement_Module_"+s]?new t["AppMeasurement_Module_"+s](e):{},e.I[s]=e[s]=r,r.Fa=function(){return r.Ja},r.Ka=function(t){(r.Ja=t)&&(e[s+"_onLoad"]=t,e.B(s+"_onLoad",[e,r],1)||t(e,r))};try{Object.defineProperty?Object.defineProperty(r,"onLoad",{get:r.Fa,set:r.Ka}):r._olc=1}catch(o){r._olc=1}}n&&(e[s+"_onLoad"]=n,e.B(s+"_onLoad",[e,r],1)||n(e,r))},e.q=function(t){var s,n;for(s in e.I)if(!Object.prototype[s]&&(n=e.I[s])&&(n._olc&&n.onLoad&&(n._olc=0,n.onLoad(e,n)),n[t]&&n[t]()))return 1;return 0},e.bb=function(){var t=Math.floor(1e13*Math.random()),s=e.visitorSampling,n=e.visitorSamplingGroup;n="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(n?"_"+n:"");var r=e.cookieRead(n);if(s){if(r&&(r=parseInt(r)),!r){if(!e.cookieWrite(n,t))return 0;r=t}if(r%1e4>v)return 0}return 1},e.K=function(t,s){var n,r,o,i,a,l;for(n=0;2>n;n++)for(r=n>0?e.ia:e.c,o=0;o<r.length;o++)if(i=r[o],(a=t[i])||t["!"+i]){if(!s&&("contextData"==i||"retrieveLightData"==i)&&e[i])for(l in e[i])a[l]||(a[l]=e[i][l]);e[i]=a}},e.Aa=function(t,s){var n,r,o,i;for(n=0;2>n;n++)for(r=n>0?e.ia:e.c,o=0;o<r.length;o++)i=r[o],t[i]=e[i],!s&&!t[i]&&(t["!"+i]=1)},e.Ua=function(e){var t,s,n,r,o,i,a=0,l="",c="";if(e&&e.length>255&&(t=""+e,s=t.indexOf("?"),s>0&&(i=t.substring(s+1),t=t.substring(0,s),r=t.toLowerCase(),n=0,"http://"==r.substring(0,7)?n+=7:"https://"==r.substring(0,8)&&(n+=8),s=r.indexOf("/",n),s>0&&(r=r.substring(n,s),o=t.substring(s),t=t.substring(0,s),r.indexOf("google")>=0?a=",q,ie,start,search_key,word,kw,cd,":r.indexOf("yahoo.co")>=0&&(a=",p,ei,"),a&&i)))){if((e=i.split("&"))&&e.length>1){for(n=0;n<e.length;n++)r=e[n],s=r.indexOf("="),s>0&&a.indexOf(","+r.substring(0,s)+",")>=0?l+=(l?"&":"")+r:c+=(c?"&":"")+r;l&&c?i=l+"&"+c:c=""}s=253-(i.length-c.length)-t.length,e=t+(s>0?o.substring(0,s):"")+"?"+i}return e},e.U=!1,e.O=!1,e.Ia=function(t){e.marketingCloudVisitorID=t,e.O=!0,e.k()},e.R=!1,e.L=!1,e.Ca=function(t){e.analyticsVisitorID=t,e.L=!0,e.k()},e.T=!1,e.N=!1,e.Ea=function(t){e.audienceManagerLocationHint=t,e.N=!0,e.k()},e.S=!1,e.M=!1,e.Da=function(t){e.audienceManagerBlob=t,e.M=!0,e.k()},e.isReadyToTrack=function(){var t=!0,s=e.visitor;return s&&s.isAllowed()&&(!e.U&&!e.marketingCloudVisitorID&&s.getMarketingCloudVisitorID&&(e.U=!0,e.marketingCloudVisitorID=s.getMarketingCloudVisitorID([e,e.Ia]),e.marketingCloudVisitorID)&&(e.O=!0),!e.R&&!e.analyticsVisitorID&&s.getAnalyticsVisitorID&&(e.R=!0,e.analyticsVisitorID=s.getAnalyticsVisitorID([e,e.Ca]),e.analyticsVisitorID)&&(e.L=!0),!e.T&&!e.audienceManagerLocationHint&&s.getAudienceManagerLocationHint&&(e.T=!0,e.audienceManagerLocationHint=s.getAudienceManagerLocationHint([e,e.Ea]),e.audienceManagerLocationHint)&&(e.N=!0),!e.S&&!e.audienceManagerBlob&&s.getAudienceManagerBlob&&(e.S=!0,e.audienceManagerBlob=s.getAudienceManagerBlob([e,e.Da]),e.audienceManagerBlob)&&(e.M=!0),(e.U&&!e.O&&!e.marketingCloudVisitorID||e.R&&!e.L&&!e.analyticsVisitorID||e.T&&!e.N&&!e.audienceManagerLocationHint||e.S&&!e.M&&!e.audienceManagerBlob)&&(t=!1)),t},e.j=s,e.l=0,e.callbackWhenReadyToTrack=function(t,n,r){var o;o={},o.Oa=t,o.Na=n,o.La=r,e.j==s&&(e.j=[]),e.j.push(o),0==e.l&&(e.l=setInterval(e.k,100))},e.k=function(){var t;if(e.isReadyToTrack()&&(e.l&&(clearInterval(e.l),e.l=0),e.j!=s))for(;e.j.length>0;)t=e.j.shift(),t.Na.apply(t.Oa,t.La)},e.Ga=function(t){var n,r,o=s,i=s;if(!e.isReadyToTrack()){if(n=[],t!=s)for(r in o={},t)o[r]=t[r];return i={},e.Aa(i,!0),n.push(o),n.push(i),e.callbackWhenReadyToTrack(e,e.track,n),!0}return!1},e.Wa=function(){var t,s=e.cookieRead("s_fid"),n="",r="";t=8;var o=4;if(!s||s.indexOf("-")<0){for(s=0;16>s;s++)t=Math.floor(Math.random()*t),n+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*o),r+="0123456789ABCDEF".substring(t,t+1),t=o=16;s=n+"-"+r}return e.cookieWrite("s_fid",s,1)||(s=0),s},e.t=e.track=function(s,n){var r,i=new Date,a="s"+Math.floor(i.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=i.getYear();l="t="+e.escape(i.getDate()+"/"+i.getMonth()+"/"+(1900>l?l+1900:l)+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+" "+i.getDay()+" "+i.getTimezoneOffset()),e.visitor&&(e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,e.expectSupplementalData?!1:!0))),e.q("_s"),e.B("track",arguments)||(e.Ga(s)||(n&&e.K(n),s&&(r={},e.Aa(r,0),e.K(s)),e.bb()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.Wa()),e.hb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(i.getTime()/1e3)),i=t.location,e.pageURL||(e.pageURL=i.href?i.href:i),e.referrer||e.Ba||(e.referrer=o.document.referrer,e.Ba=1),e.referrer=e.Ua(e.referrer),e.q("_g")),e.Ya()&&!e.abort&&(e.Za(),l+=e.Xa(),e.gb(a,l),e.q("_t"),e.referrer=""))),s&&e.K(r,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.vb=e.pe=e.pev1=e.pev2=e.pev3=e.g=0)},e.tl=e.trackLink=function(t,s,n,r,o){return e.linkObject=t,e.linkType=s,e.linkName=n,o&&(e.i=t,e.p=o),e.track(r)},e.trackLight=function(t,s,n,r){return e.lightProfileID=t,e.lightStoreForSeconds=s,e.lightIncrementBy=n,e.track(r)},e.clearVars=function(){var t,s;for(t=0;t<e.c.length;t++)s=e.c[t],("prop"==s.substring(0,4)||"eVar"==s.substring(0,4)||"hier"==s.substring(0,4)||"list"==s.substring(0,4)||"channel"==s||"events"==s||"eventList"==s||"products"==s||"productList"==s||"purchaseID"==s||"transactionID"==s||"state"==s||"zip"==s||"campaign"==s)&&(e[s]=void 0)},e.tagContainerMarker="",e.gb=function(t,s){var n,r=e.trackingServer;n="";var o=e.dc,i="sc.",a=e.visitorNamespace;r?e.trackingServerSecure&&e.ssl&&(r=e.trackingServerSecure):(a||(a=e.account,r=a.indexOf(","),r>=0&&(a=a.substring(0,r)),a=a.replace(/[^A-Za-z0-9]/g,"")),n||(n="2o7.net"),o=o?(""+o).toLowerCase():"d1","2o7.net"==n&&("d1"==o?o="112":"d2"==o&&(o="122"),i=""),r=a+"."+o+"."+i+n),n=e.ssl?"https://":"http://",o=e.AudienceManagement&&e.AudienceManagement.isReady(),n+=r+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(o?"10":"1")+"/JS-"+e.version+(e.mb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(o?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+s+"&AQE=1",e.Sa(n),e.Y()},e.Sa=function(t){e.e||e.$a(),e.e.push(t),e.aa=e.r(),e.za()},e.$a=function(){e.e=e.cb(),e.e||(e.e=[])},e.cb=function(){var s,n;if(e.fa()){try{(n=t.localStorage.getItem(e.da()))&&(s=t.JSON.parse(n))}catch(r){}return s}},e.fa=function(){var s=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(s=!1),s},e.pa=function(){var t=0;return e.e&&(t=e.e.length),e.v&&t++,t},e.Y=function(){if(!e.v)if(e.qa=s,e.ea)e.aa>e.G&&e.xa(e.e),e.ha(500);else{var t=e.Ma();t>0?e.ha(t):(t=e.na())&&(e.v=1,e.fb(t),e.jb(t))}},e.ha=function(t){e.qa||(t||(t=0),e.qa=setTimeout(e.Y,t))},e.Ma=function(){var t;return!e.trackOffline||e.offlineThrottleDelay<=0?0:(t=e.r()-e.wa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.na=function(){return e.e.length>0?e.e.shift():void 0},e.fb=function(t){if(e.debugTracking){var s="AppMeasurement Debug: "+t;t=t.split("&");var n;for(n=0;n<t.length;n++)s+="\n	"+e.unescape(t[n]);e.eb(s)}},e.Ha=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Q=!1;var a;try{a=JSON.parse('{"x":"y"}')}catch(c){a=null}a&&"y"==a.x?(e.Q=!0,e.P=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.P=function(e){return t.$.parseJSON(e)},e.Q=!0):e.P=function(){return null},e.jb=function(s){var n,r,o;if(e.Ha()&&s.length>2047&&("undefined"!=typeof XMLHttpRequest&&(n=new XMLHttpRequest,"withCredentials"in n?r=1:n=0),!n&&"undefined"!=typeof XDomainRequest&&(n=new XDomainRequest,r=2),n&&e.AudienceManagement&&e.AudienceManagement.isReady())&&(e.Q?n.ja=!0:n=0),!n&&e.ab&&(s=s.substring(0,2047)),!n&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(n=e.d.createElement("SCRIPT"))&&"async"in n&&((o=(o=e.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:e.d.body)?(n.type="text/javascript",n.setAttribute("async","async"),r=3):n=0),n||(n=new Image,n.alt=""),n.la=function(){try{e.ga&&(clearTimeout(e.ga),e.ga=0),n.timeout&&(clearTimeout(n.timeout),n.timeout=0)}catch(t){}},n.onload=n.lb=function(){if(n.la(),e.Ra(),e.V(),e.v=0,e.Y(),n.ja){n.ja=!1;try{var t=e.P(n.responseText);AudienceManagement.passData(t)}catch(s){}}},n.onabort=n.onerror=n.Ta=function(){n.la(),(e.trackOffline||e.ea)&&e.v&&e.e.unshift(e.Qa),e.v=0,e.aa>e.G&&e.xa(e.e),e.V(),e.ha(500)},n.onreadystatechange=function(){4==n.readyState&&(200==n.status?n.lb():n.Ta())},e.wa=e.r(),1==r||2==r){var i=s.indexOf("?");o=s.substring(0,i),i=s.substring(i+1),i=i.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==r?(n.open("POST",o,!0),n.send(i)):2==r&&(n.open("POST",o),n.send(i))}else if(n.src=s,3==r){if(e.ua)try{o.removeChild(e.ua)}catch(a){}o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),e.ua=e.Pa}n.abort&&(e.ga=setTimeout(n.abort,5e3)),e.Qa=s,e.Pa=t["s_i_"+e.replace(e.account,",","_")]=n,(e.useForcedLinkTracking&&e.A||e.p)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.W=setTimeout(e.V,e.forcedLinkTrackingTimeout))},e.Ra=function(){if(e.fa()&&!(e.va>e.G))try{t.localStorage.removeItem(e.da()),e.va=e.r()}catch(s){}},e.xa=function(s){if(e.fa()){e.za();try{t.localStorage.setItem(e.da(),t.JSON.stringify(s)),e.G=e.r()}catch(n){}}},e.za=function(){if(e.trackOffline)for((!e.offlineLimit||e.offlineLimit<=0)&&(e.offlineLimit=10);e.e.length>e.offlineLimit;)e.na()},e.forceOffline=function(){e.ea=!0},e.forceOnline=function(){e.ea=!1},e.da=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.r=function(){return(new Date).getTime()},e.ra=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")?!0:!1},e.setTagContainer=function(t){var s,n,r;for(e.mb=t,s=0;s<e._il.length;s++)if((n=e._il[s])&&"s_l"==n._c&&n.tagContainerName==t){if(e.K(n),n.lmq)for(s=0;s<n.lmq.length;s++)r=n.lmq[s],e.loadModule(r.n);if(n.ml)for(r in n.ml)if(e[r])for(s in t=e[r],r=n.ml[r])!Object.prototype[s]&&("function"!=typeof r[s]||(""+r[s]).indexOf("s_c_il")<0)&&(t[s]=r[s]);if(n.mmq)for(s=0;s<n.mmq.length;s++)r=n.mmq[s],e[r.m]&&(t=e[r.m],t[r.f]&&"function"==typeof t[r.f]&&(r.a?t[r.f].apply(t,r.a):t[r.f].apply(t)));if(n.tq)for(s=0;s<n.tq.length;s++)e.track(n.tq[s]);n.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(s,n,r){var o;return n||(n=e.pageURL?e.pageURL:t.location),r||(r="&"),s&&n&&(n=""+n,o=n.indexOf("?"),o>=0&&(n=r+n.substring(o+1)+r,o=n.indexOf(r+s+"="),o>=0&&(n=n.substring(o+r.length+s.length+1),o=n.indexOf(r),o>=0&&(n=n.substring(0,o)),n.length>0)))?e.unescape(n):""}},e.z=["supplementalDataID","timestamp","dynamicVariablePrefix","visitorID","marketingCloudVisitorID","analyticsVisitorID","audienceManagerLocationHint","authState","fid","vmk","visitorMigrationKey","visitorMigrationServer","visitorMigrationServerSecure","charSet","visitorNamespace","cookieDomainPeriods","fpCookieDomainPeriods","cookieLifetime","pageName","pageURL","referrer","contextData","currencyCode","lightProfileID","lightStoreForSeconds","lightIncrementBy","retrieveLightProfiles","deleteLightProfiles","retrieveLightData","pe","pev1","pev2","pev3","pageURLRest"],e.c=e.z.concat(["purchaseID","variableProvider","channel","server","pageType","transactionID","campaign","state","zip","events","events2","products","audienceManagerBlob","tnt"]),e.ba=["timestamp","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","contextData","lightProfileID","lightStoreForSeconds","lightIncrementBy"],e.H=e.ba.slice(0),e.ia=["account","allAccounts","debugTracking","visitor","trackOffline","offlineLimit","offlineThrottleDelay","offlineFilename","usePlugins","doPlugins","configURL","visitorSampling","visitorSamplingGroup","linkObject","clickObject","linkURL","linkName","linkType","trackDownloadLinks","trackExternalLinks","trackClickMap","trackInlineStats","linkLeaveQueryString","linkTrackVars","linkTrackEvents","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","useForcedLinkTracking","forcedLinkTrackingTimeout","trackingServer","trackingServerSecure","ssl","abort","mobile","dc","lightTrackVars","maxDelay","expectSupplementalData","AudienceManagement"];for(n=0;250>=n;n++)76>n&&(e.c.push("prop"+n),e.H.push("prop"+n)),e.c.push("eVar"+n),e.H.push("eVar"+n),6>n&&e.c.push("hier"+n),4>n&&e.c.push("list"+n);n=["latitude","longitude","resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage"],e.c=e.c.concat(n),e.z=e.z.concat(n),e.ssl=t.location.protocol.toLowerCase().indexOf("https")>=0,e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.wa=0,e.aa=0,e.G=0,e.va=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{e.ab="Microsoft Internet Explorer"==navigator.appName}catch(u){}e.V=function(){e.W&&(t.clearTimeout(e.W),e.W=s),e.i&&e.A&&e.i.dispatchEvent(e.A),e.p&&("function"==typeof e.p?e.p():e.i&&e.i.href&&(e.d.location=e.i.href)),e.i=e.A=e.p=0},e.ya=function(){e.b=e.d.body,e.b?(e.o=function(s){var n,r,o,i,a;if(!(e.d&&e.d.getElementById("cppXYctnr")||s&&s["s_fe_"+e._in])){if(e.ka){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.o,!0),void(e.ka=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.o,!1)}else e.useForcedLinkTracking=0;e.clickObject=s.srcElement?s.srcElement:s.target;try{if(!e.clickObject||e.F&&e.F==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.F=e.clickObject;if(e.Z&&(clearTimeout(e.Z),e.Z=0),e.Z=setTimeout(function(){e.F==l&&(e.F=0)},1e4),o=e.pa(),e.track(),o<e.pa()&&e.useForcedLinkTracking&&s.target){for(i=s.target;i&&i!=e.b&&"A"!=i.tagName.toUpperCase()&&"AREA"!=i.tagName.toUpperCase();)i=i.parentNode;if(i&&(a=i.href,e.ra(a)||(a=0),r=i.target,s.target.dispatchEvent&&a&&(!r||"_self"==r||"_top"==r||"_parent"==r||t.name&&r==t.name))){try{n=e.d.createEvent("MouseEvents")}catch(c){n=new t.MouseEvent}if(n){try{n.initMouseEvent("click",s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget)}catch(u){n=0}n&&(n["s_fe_"+e._in]=n.s_fe=1,s.stopPropagation(),s.kb&&s.kb(),s.preventDefault(),e.i=s.target,e.A=n)}}}}}catch(p){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.o):e.b&&e.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&e.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&t.MouseEvent)&&(e.ka=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.o,!0)),e.b.addEventListener("click",e.o,!1))):setTimeout(e.ya,30)},e.ya()}function r(e){var t,s,r,o,i,a=window.s_c_il,l=e.split(","),c=0;if(a)for(s=0;!c&&s<a.length;){if(t=a[s],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)c=1;else for(r=t.account?t.account:t.oun,r=t.allAccounts?t.allAccounts:r.split(","),o=0;o<l.length;o++)for(i=0;i<r.length;i++)l[o]==r[i]&&(c=1);s++}return c||(t=new n),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function o(){var e,t,s,n=window,o=n.s_giq;if(o)for(e=0;e<o.length;e++)t=o[e],s=r(t.oun),s.setAccount(t.un),s.setTagContainer(t.tagContainerName);n.s_giq=0}n.getInstance=r,window.s_objectID||(window.s_objectID=0),o(),window.AppMeasurement=n},{}],"/Users/shawn/Work/mtv-play/api/tracking/map.js":[function(e,t,s){s.vars={branch:[13,13],title:[49,49],version:[3,3],role:[4,4],device:[5,5],region:[6,6],lang:[7,7],age:[19,19],gender:[20,20],weekDay:[8,8],hour:[9,9],"native":[21,21],userId:[10,10],connected:[16,16],network:[11,11],networkOperator:[12,12],secondscreen:[17,17],devicesPresent:[18,18],search:[14,14],mtvMobileFailed:[null,22],loginStyle:[15,15],teaserCollection:[null,23],teaserClicked:[null,24],videoName:[null,33],franchiseName:[49,49],subscriptionFailure:[null,25]},s.events={appstart:8,menu:9,enable3g:10,disable3g:11,favoAdded:12,favoRemoved:13,sharingFacebookStart:34,sharingFacebookSucces:35,swipeUp:32,swipeDown:33,sharingEmailStart:16,sharingEmailSucces:17,search:18,upgradeMonthFailed:26,upgradeMonthSucces:25,upgradeAnFailed:28,upgradeAnSucces:27,upgradeMtvFailed:30,upgradeMtvSucces:29,loginSucces:23,loginFailed:24,signupSucces:21,signupFailed:22,introSkipped:20,introCompleted:19,teaserClick:31,videofinished:76,videoPlay:6,videoPause:7,videostart:15,video25:2,video50:3,video75:4,purchaseFailed:35,receiptFailed:36},s.weekDays=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]},{}],"/Users/shawn/Work/mtv-play/api/tracking/omniture.js":[function(e,t,s){var n=(e("./lib/AppMeasurement.js"),e("./map")),r=function(e,t,s){var n;e&&(n=e.match(/\d+$/i),n&&(n=n[0]));for(var r in t)if(t[r][s]==n)return r;return" "};s.t=function(){console.warn("omniture T"),console.info("THIS WOULD BE SEND TO OMNI");for(var e in s)if("t"!==e&&"tl"!==e){var t=r(e,n.vars,0);console.log(e,"   value:",s[e],"   name:",t)}console.log("\n\n\n\n\n")},s.tl=function(){console.warn("\n\nomniture Tl",s.event),console.warn("EVENT",s.events);var e=s.events.match(/\d+$/i)[0];for(var t in n.events)n.events[t]==e&&console.log("-------->",t);var o;console.info("THIS WOULD BE SEND TO OMNI");for(var i in s)"t"!==i&&"tl"!==i&&"account"!==i&&"user"!==i&&(o=r(i,n.vars,1),0!==i.indexOf("prop")&&console.log(i,"   name:",o,"   value:",s[i]));console.log("\n\n\n\n\n")}},{"./lib/AppMeasurement.js":"/Users/shawn/Work/mtv-play/api/tracking/lib/AppMeasurement.js","./map":"/Users/shawn/Work/mtv-play/api/tracking/map.js"}],"/Users/shawn/Work/mtv-play/api/tracking/pagename.js":[function(e,t,s){var n=e("./omniture"),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util").postpone,e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url"));e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("./map"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("./context");t.exports=function(e){"string"!=typeof e&&(e="");var t,s,o,i,a=n.user,l=a.cloud,c=e.split("."),u="";return c.length>1?(s=c[4],~e.indexOf("shows")?(t=l.data.get(e).checkParent("_parent._name","shows").get("title","").val,c[4]=t,c[6]&&c[6]++,c[8]&&c[8]++):(t=l.data.get(e+".title","").val,c[4]=t),c[4]||(o=r.val&&r.val.match(/\-(.*?)$/),o&&o[1]?(i=o[1].indexOf("/"),t=c[4]=-1!==i?o[1].slice(0,i):o[1]):c[4]=s),u+=~e.indexOf(".channels.")?"tv > "+c.slice(4).join(" > "):c.slice(3).join(" > ")):u+=e,
{current:e,name:u,title:t}}},{"./context":"/Users/shawn/Work/mtv-play/api/tracking/context.js","./map":"/Users/shawn/Work/mtv-play/api/tracking/map.js","./omniture":"/Users/shawn/Work/mtv-play/api/tracking/omniture.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url":"/Users/shawn/Work/vigour-js/browser/network/url.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/api/url.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");t.exports=s=new n({apiDefer:function(e,t){if(this.clearCache(),console.log("???"),"string"!=typeof this.val)e(!0);else if(r["native"])navigator.app&&navigator.app.loadUrl?(navigator.app.loadUrl(this.val,{openExternal:!0}),e("success")):r.windowsMobile?(window.open(this.val,"_system"),e("success")):r.ios?(window.open(this.val,"_system"),e("success")):(this.type="can not find navigator.app.loadUrl",e("error"));else{console.log(this.val);var s=window.open(this.val,this.val);s?(s.focus(),e("success")):e("error")}}}),s._name="_urlApi"},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/user.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=n.api.url;t.exports=s=new r({newsletter:{ajax:{url:function(e,t){return this._parent.token&&this._parent.token.val?o+"api/v1/users/"+this._parent.token.val+".json":void 0},method:"PUT",encode:"json",data:function(e,t){return this.clearCache(),(this.val===!0||this.val===!1)&&{user:{accept_newsletter:this.val,app_version:window["package"].version}}}}},role:{poll:!1,ajax:{url:function(e,t){return this._parent.token&&this._parent.token.val&&o+"api/v1/users/"+this._parent.token.val+".json"},defer:function(e,t,s,n){n.user?(this.val=t[0]=n.user.role,e()):e(!0)}}}}),s.role.poll.on(function(e){e===!0&&(e=1e3),e>0?(this._d&&clearInterval(this._id),this._id=setInterval(function(){s.role._update()},e)):(clearInterval(this._id),this._d=null)}),s._name="userApi"},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/api/util.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),{emailExists:"Email has already been taken",invalid:"Username or password is invalid",expired:"Your confirmation link expired. Please sign up again using the app.",mobileTimeout:"Timeout error",terms:"MTV country terms and conditions must be accepted",email:"Email can't be blank",password:"Password can't be blank",privacy:"Data protection terms and conditions must be accepted",numberExists:"Mobile number has already been taken",subscription:"Subscription is not verified",resetTokenExpired:"Outdated password reset token.",invalidPasswordToken:"Invalid password reset token.",invalidEmail:"Email is invalid"});s.findError=function(e){if(e){var t=e&&e.errors;if(e.error_message)for(var s in n)if(e.error_message===n[s])return s;if(t instanceof Array)for(var r,o=t.length;r=t[--o];)for(var s in n)if(r.description===n[s])return s;return"invalid"}}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/api/verify.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=e("./util"),i=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),n.api.url);t.exports=s=new r({email:{ajax:{url:function(e,t){return"string"==typeof t&&i+"api/v2/confirmations/"+t+".json"},method:"GET",defer:function(e,t,s,n){n.success?(this.set("token",n.authentication_token),e("success")):(this.type=s?s.message:o.findError(n),e("error"))}}}}),s._name="verify"},{"./util":"/Users/shawn/Work/mtv-play/api/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/config.js":[function(e,t,s){t.exports=s=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config");var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases")),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value");if(s.language=new r,s.region=new r,"webtranslateit"===s.dictionary)s.dictionary=function(e){return"https://webtranslateit.com/api/projects/"+s.webtranslateit.token+"/files/"+s.webtranslateit.files[e]+"/locales/"+e};else{var o=s.dictionary;s.dictionary=function(e){return o.replace("$language",e)}}var i,a;if("production"===s.cloud)if(i=n.tv?"http://":"https://",a="https://"===i?443:80,"production"===s.cloud)s.cloud=new r({val:s.region,transform:function(e,t){return"PL"===t&&(t="po"),t?i+t.toLowerCase()+"-hubs.mtvplay.tv:"+a:!1}});else{var l=s.regionOverride;if("url"===l){var c=["CH","BE","DE","NO","NL","PL","RO"],u=window.location.href,p=u.indexOf("r=");l=u.slice(p+2,p+4),-1===c.indexOf(l)&&(l="DE"),s.regionOverride=l}s.cloud=i+(s.regionOverride||"nl").toLowerCase()+"-hubs.mtvplay.tv:"+a}if(n["native"]||(s.hashUrl=!1),s.player&&"production"===s.player.settings.ads.viralSID){var d;d=n.tv?"mtvplaytv/smarttv":n.phone||n.tablet?"mtvplaytv/app":"mtvplaytv/web",s.player.settings.ads.viralSID=d}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/index.js":[function(e,t,s){var n,r=t.exports=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app").inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/content"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user")),o=r.config=e("./config"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),l=r.cases,c=e("./user"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util");r.cloud={api:{auth:o.api.url+"api/v1/users/"},url:o.cloud},r.state.val={"default":"first"},r.frame=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/frame"),r.ua=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),r.util=e("./util"),r.versionData.on(function(){r.notification.val="appUpgrade"}),r.telCode=new i({"default":{val:r.region,transform:function(e,t){return t&&t.toLowerCase()}}});var p=document.referrer;if(p)for(var d=["mtv.de","at.mtv.de","mtv.ch","mtv.nl","mtv.be","fr.mtv.be","nl.mtv.be","mtv.dk","mtv.no","mtv.se","musictelevision.fi","mtv.pl"],h=d.length-1;h>=0;h--){var v=d[h];if(-1!==p.indexOf(v)){r.fromMtvSite=p;break}}r.cloud.subscribe({mtvData:{operators:{$:{$:!0}}}}),l.$allowPlayback=new i({val:!1,transform:function(e,t){return l["native"]?!0:t}}),l.$hasOperator=new i(!1),r.operators=new a({}),r.region.on(function(){var e=r.region.val;if("string"==typeof e){var t=r.country||r.region.val;t&&~o.availableRegions.indexOf(t.toUpperCase())?l.$allowPlayback.val=!0:l.$allowPlayback.val=!1;var s=r.cloud.data.get(["mtvData","operators"]),n=function(){var t=!1;this.$length.val&&this.each(function(s){this.region.val.toLowerCase()===e.toLowerCase()&&(t=!0,r.operators.set(s,this))}),l.$hasOperator.val=t};s.$length.val?n.call(s):s.once(n)}}),l.$fromMtvSite=new i(!!r.fromMtvSite),l.$storeAvailable=new i(l["native"]&&(l.ios||l.android||l.windowsMobile)),l.$hasMobile=new i({val:function(){return u.checkArray(o.mtvmobile,r.region.val.toLowerCase())!==!1?!0:!1},listen:r.region}),e("./intro"),e("./localisation"),n=r.api=e("../api"),n.user.val={token:c.token,newsletter:c.accept_newsletter},e("./login"),e("./share"),e("./register"),e("./upgrade"),e("./playback"),e("./popup"),e("./tracking"),e("./init")},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","./init":"/Users/shawn/Work/mtv-play/app/init.js","./intro":"/Users/shawn/Work/mtv-play/app/intro.js","./localisation":"/Users/shawn/Work/mtv-play/app/localisation.js","./login":"/Users/shawn/Work/mtv-play/app/login.js","./playback":"/Users/shawn/Work/mtv-play/app/playback.js","./popup":"/Users/shawn/Work/mtv-play/app/popup.js","./register":"/Users/shawn/Work/mtv-play/app/register.js","./share":"/Users/shawn/Work/mtv-play/app/share.js","./tracking":"/Users/shawn/Work/mtv-play/app/tracking.js","./upgrade":"/Users/shawn/Work/mtv-play/app/upgrade.js","./user":"/Users/shawn/Work/mtv-play/app/user.js","./util":"/Users/shawn/Work/mtv-play/app/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/content":"/Users/shawn/Work/vigour-js/app/content.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user":"/Users/shawn/Work/vigour-js/app/user/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/frame":"/Users/shawn/Work/vigour-js/browser/animation/frame.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/init.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=n.user,o=n.cases,i=e("promise"),a=e("./config"),l=e("../components/password");n.css={addClass:"preload"},!o.chromecast&&!o.tv||r.token.val||(r.token=!0),n.region.is(function(){return"string"==typeof this.val}).then(function(){var e=a["protected"]&&~a["protected"].indexOf(n.region.val.toLowerCase());return!e||new i(function(e){window.requestAnimationFrame(function(){window.clearPackerLoader&&window.clearPackerLoader();var t=new l({container:{field:{events:{change:function(t){"viacomnorth"===this.node.value?(this.remove(),e()):alert("Incorrect password. Please try again.")}}}}});window.requestAnimationFrame(function(){t.container.opacity=1}),n.set({passwordInput:t})})})}).then(function(){return n.cloud.connected.is(!0)}).then(function(){return r.token.val===!0?new i(function(e){var t=r.data.is("loaded"),s=setTimeout(function(){i.reject(t),e()},500);t.done(function(){clearTimeout(s),e()})}):r.token.val?r.data.is("loaded"):void 0}).then(function(){return n.ready.val=!0,o.chromecast||r.$execUrl("discover"),n.content.is("loaded")}).done(function(){n.css={removeClass:"preload"},window.clearPackerLoader&&window.clearPackerLoader(),o.touch&&(n.node.style.backgroundColor="black")})},{"../components/password":"/Users/shawn/Work/mtv-play/components/password/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js",promise:"/Users/shawn/Work/mtv-play/node_modules/promise/index.js"}],"/Users/shawn/Work/mtv-play/app/intro.js":[function(e,t,s){var n=t.exports=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=n.cases;r["native"]&&!localStorage.getItem("haveSeenIntro")&&n.ready.on(!0,function(){setTimeout(function(){n.popup.val="intro"},1e3),localStorage.setItem("haveSeenIntro",!0)})},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js"}],"/Users/shawn/Work/mtv-play/app/localisation.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=n.config=e("./config"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value");n.dictionary=o;var c=r.regionOverride;if(c){if("url"===c){var u=["CH","BE","DE","NO","NL","PL"],p=window.location.href,d=p.indexOf("r=");c=p.slice(d+2,d+4),-1===u.indexOf(c)&&(c="DE"),r.regionOverride=c}n.region.val={ajax:r.geo,transform:function(e,t){return r.regionOverride||0}}}else n.region.val={responseData:function(e,t){var s=this.country_code&&this.country_code.val;return n.country=s,i.checkArray(r.availableRegions,s)!==!1&&s},ajax:r.geo,transform:function(e,t){return t&&"string"==typeof t&&"error"!==t&&i.checkArray(r.availableRegions,t)!==!1?t:r.defaultRegion||("lg"===a.platform&&"tv"===a.device?"DE":0)||t&&"DE"}};r.language.val=n.language,r.region.val=n.region,n.dictionary.val={ajax:function(e,t){if(this.val){if(this._cached===this.val)return;return this._cached=this.val,this.val&&r.dictionary(this.val)}},val:n.language},n.localDictionary=new l({ajax:function(e,t){var s=n.region.val,o=n.country;if(o&&s!==o&&(s="en"),"CH"===s&&(s="de"),s){var i=s.toLowerCase();if(this._cached===i)return;return this._cached=i,r.dictionary(i)}},val:n.region})},{"./config":"/Users/shawn/Work/mtv-play/app/config.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/login.js":[function(e,t,s){var n=e("./config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=o.user,a=e("../api");a.user.role.val={token:o.user.token},a.login.val={region:n.region},a.user.role.on(function(){i.role.$userOrigin.cloud&&(i.role.$userOrigin=a.user.role.val)}),i.token.on(function(){i.token.val||(a.login.$empty(["loading","region"]),o.state.val="empty",o.state.val="first")}).on(function(){a.user.role.poll.val=i.token.val?6e5:!1}),a.login.on("error",function(){a.timeout||(o.notification.type=this.type,o.notification.val="loginError")}).on("success",function(){if(o.notification.val="loginSuccess",this.facebook&&this.facebook.token&&this.facebook.token.val){var e=this.facebook.token.val,t=this.facebook.id.val;i.token.once(function(s){this.val&&(i.FB_token.$userOrigin=e,i.facebook_id.$userOrigin=t)})}i.token=this.token.val;var s=window.localStorage.getItem("registerOperator");if(s){var n=s.toLowerCase();"get"===n&&(s="__$ESCAPED_"+n),o.popup.data=o.cloud.data.get(["mtvData","operators",s]),o.popup.val="operatorAuthUpgrade",window.localStorage.removeItem("registerOperator")}else r.$hasMobile.val&&this.new_record?o.popup.val="getStarted":("login"===o.popup.val||"loginEmail"===o.popup.val||"register"===o.popup.val)&&(o.popup.val=!1)}).loading.on(function(e){e!==!0||a.timeout?"login"===o.loading.val&&(o.loading.val=!1):o.loading.val="login"}),a.operator.login.on("error",function(){a.timeout||(o.notification.type=this.type,o.notification.val="loginError")}).on("success",function(){o.notification.val="loginSuccess",i.token=this.token.val,o.popup.val=!1}).loading.on(function(e){e!==!0||a.timeout?"login"===o.loading.val&&(o.loading.val=!1):o.loading.val="login"}),a.facebook.login.on("success",function(e){a.login.val={facebook:{token:this.token.val,id:this.id.val}}}).on("error",function(){o.notification.val="facebookError"}).loading.on(o.loading)},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/app/playback.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=(n.config=e("./config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value")),o=n.cases,i=n.user;o.$playing=n.playing,o.$isFullscreen=new r({val:function(){return"player"===n.state.val},listen:n.state}),o.$isPlayingAd=new r,o.$isLoadingVideo=new r({val:!1,defer:function(e){var t=this;this._timer&&(clearTimeout(this._timer),this._timer=null),this._val&&(this._timer=setTimeout(function(){t.val=!1,t._timer=null},2e3)),e()}}),o.$isOnChannel=new r,n.wifiOnly=new r({val:localStorage.getItem("wifiOnly")||!1,defer:function(e){this._val?localStorage.setItem("wifiOnly",!0):localStorage.removeItem("wifiOnly"),e()}}),n.restrictPlayback.val={val:n.wifiOnly,transform:function(e,t){return t&&o["native"]&&"wifi"!==api.network.val?!0:!1}},n.playing.on(function(e){if(o.$isLoggedIn.val&&e===!0){var t=n.user.navigation.media.from;if("channels"!==t._parent._name){var s=n.user.usage.from.get(t._contentPath),r=s._parent._parent._parent._parent;r&&r.set("media",t)}}}),n.playing.val={defer:function(e,t){var s=i.navigation.media.from,r=s&&s.access&&s.access.val,a=s&&s.id&&s.id.val,l=3===i.role.val;this.val&&!o.$allowPlayback.val?n.notification.val="Oops! Playback is not allowed in your region...":t[0]===!0&&n.wifiOnly.val&&n.api.network.val?(this.val=t[0]=!1,n.notification.from.val="enable4g"):!o.$accessForEveryone.val&&t[0]===!0&&r&&this.val&&(o.$isLoggedIn.val?"channels"!==s._parent._name||!l&&o.$isUpgraded.val?(!o.$isUpgraded.val&&!i.purchases.$userOrigin[a]||"channels"===s._parent._name&&l||l&&2===r)&&(this.val=t[0]=!1,n.popup.from.data=s,n.popup.from.val="roadblockMedia"):(this.val=t[0]=!1,n.popup.from.val="upgrade"):(this.val=t[0]=!1,n.popup.from.val="roadblock")),e()}}},{"./config":"/Users/shawn/Work/mtv-play/app/config.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/popup.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=n.cases;n.popup.val={defer:function(e,t){var s=t[0];r.windows&&r["native"]&&"share"===t[0]?(n.api.facebook.share.val={val:!0,url:!0},this._val=t[0]=!1):"upgrade"!==s||r.$hasMobile.val||r.$storeAvailable.val?"devices"!==s||r.$isLoggedIn.val||(this._val=t[0]="roadblock"):this._val=t[0]="roadblockUpgrade",e()}}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js"}],"/Users/shawn/Work/mtv-play/app/register.js":[function(e,t,s){var n=e("./config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),o=r.user,i=e("../api"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");i.register.val={age:{defer:function(e,t){var s=t[0];!s||s.defer?e(!0):(1==s?this.val={min_age:1,max_age:20}:2==s?this.val={min_age:20,max_age:30}:3==s&&(this.val={min_age:30,max_age:40}),e())}},region:n.region},i.register.on("error",function(){r.notification.type=this.type,r.notification.val="registerError"}).on("success",function(){if(r.notification.val="registerSuccess",r.popup.val=!1,this.email&&this.email.val)var e=this.email.val,t=this.password.val;i.timeout&&clearInterval(i.timeout),a["native"]&&(i.timeout=setInterval(function(){i.login.val={email:e,password:t}},500),i.login.once("success",function(){clearInterval(i.timeout),i.timeout=!1}))}).loading.on(r.loading),i.verify.email.on("success",function(e){var t=window.localStorage.getItem("registerOperator");if(t){var s=t.toLowerCase();"get"===s&&(t="__$ESCAPED_"+s),r.popup.data=r.cloud.data.get(["mtvData","operators",t]),r.popup.val="operatorAuthUpgrade",window.localStorage.removeItem("registerOperator")}else(a.phone||a.tablet)&&(r.popup.val="getApp");o.token.val=this.token.val,r.notification.val="verifyEmailSuccess"}).on("error",function(e){r.notification.type=this.type,r.notification.val="verifyEmailError"}).loading.on(r.loading),r.url.params.on(function(e){this.e&&(i.verify.email.val=this.e.val,this.val="")}),i.password.forgot.on("success",function(){r.notification.val="passwordForgot",r.popup.val=!1}).on("error",function(){r.notification.type=this.type,r.notification.val="passwordForgotError"}).loading.on(r.loading),i.password.reset.on("success",function(){r.notification.val="passwordResetSuccess",r.popup.val=!1,o.token.val=this.token.val}).on("error",function(){r.notification.type=this.type,r.notification.val="passwordResetError"}).loading.on(r.loading),r.url.params.on(function(e){this.reset&&(i.password.reset.val={token:this.reset.val},r.popup.from.val="passwordReset",this.val="")})},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/app/share.js":[function(e,t,s){var n=e("./config"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),a=o.user,l=e("../api");l.facebook.share.val={url:{transform:function(e,t){if(!t)return!1;var s,r,o,l,c=t instanceof i?t.from:a.navigation.media.from,u=a.$parse(c),p=n.fburl+u.url,d=c,h="";return d&&u.title&&(u.episode<10&&(u.episode="0"+u.episode),s=u.season+u.episode,r=u.title?"og:title="+encodeURIComponent((u.show.title.val?u.show.title.val+(s?"#"+s:"")+" | ":"")+u.title+" - MTV Play")+"&":"",o=d.img?"og:image="+encodeURIComponent(d.img.val)+"&":"",l=d.description?"og:description="+encodeURIComponent(d.description.val):"",h="?"+r+o+l),p+h},init:o.ready}},l.facebook.share.on("success",function(){}).on("error",function(){o.notification.type=this.type,o.notification.val="shareError",l.facebook.share.url.val=!1,l.facebook.share.$empty(["url","loading"])}).loading.on(o.loading),l.email.share.val={address:"",subject:r.get("text.mailShare.title"),body:function(e,t){var s=a.$parse(a.navigation.media).url,e=s&&s.replace(/&/g,"and");return e?"http://mtvplay.tv/#/"+e:!1}}},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/app/spotlight.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/")),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=n.user,i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data");t.exports=s=o.spotlight=new r({transform:function(e,t){return this._parent.map&&this._parent.map[t]},defer:function(e,t){if(this.clearCache(),this.val||0===this.val&&n.cases.$isLoggedIn.val){var s=o.data.from.get("spotlight_sub.list.0"),r=this;this.selected&&this.selected.from!==s&&(this.selected.remove(),this.selected=null),this.selected||(this.set("selected",new i(s,{subscription:{time:!0,title:!0,text:!0,img:!0,mtvid:!0}})),this.selected.on(function(e){var t,s=this.from.title&&this.from.title.val;this.from.mtvid&&this.from.mtvid.val;s&&n.cases.$isLoggedIn.val&&this.from.mtvid&&(hashed=this.from.mtvid.val,t=o.notification_stamp.from,t.val&&t.val===hashed||(t.val=hashed,r._update("success")))}),this.selected._update.apply(this.selected,t))}"success"===t[0]?e():e(!0)}}),s.map={0:"spotlight_sub",1:"spotlight_sub",2:"spotlight_mbl"},s.val=o.role},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/tracking.js":[function(e,t,s){function n(){var e;return e="player"===r.state.val&&r.state.video?r.state.video.val:r.user.navigation.media.from,e&&e.val===!1?void 0:e}var r=e("./index"),o=e("../api/tracking"),i=e("../api"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=e("../api/tracking/dataform").sendEvent,c=e("../api/tracking/dataform").setDimension,u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value");r.mediaTime=new u,o.omniture.user=r.user,r.popup.on(function(){o.popup(this.val)}),r.user.navigation.page.on(function(){o.pageView(this.val)}),r.user.navigation.show.on(function(){o.pageView(this.val)}),r.user.navigation.media.on(function(){o.pageView(this.val)}),r.user.navigation.season.on(function(){o.pageView(this.val)}),r.popup.on("intro",function(){r.popup.once(function(e){o.event(e===!1?"introSkipped":"introCompleted",!0)})}),i.login.on("success",function(){this.new_record?(o.event("signupSucces",!0),l("event","login","signup")):(o.event("loginSucces",!0),l("event","login","login"))}).on("error",function(){o.event("loginFailed",!0)}),i.register.on("success",function(){o.event("signupSucces",!0),l("event","login","signup")}).on("error",function(){o.event("signupFailed",!0)}),i.facebook.share.on(function(){o.event("sharingFacebookStart",!0)}).on("success",function(){o.event("sharingFacebookSucces",!0)}),i.email.share.on(function(){o.event("sharingEmailStart",!0)}).on("success",function(){o.event("sharingEmailSucces",!0),l("event","sharing","email")});var p=!0;r.user.search.on(function(){var e=r.user.search.val;e&&"string"==typeof e&&(o.event("search",e),p&&(p=!1,l("event","search","query"),r.user.navigation.page.on(function(){p=!0})))}),i.mobile.verify.on("error",function(){o.event("upgradeMtvFailed")}),r.menu.on(function(){this.val&&o.event("menu",this.val)}),r.ready.once(!0,function(){o.event("appstart",!0)}),r.notification.on("favourite",function(){o.event("favoAdded",!0),l("event","favourite","added")}).on("unFavourite",function(){o.event("favoRemoved",!0),l("event","favourite","removed")}),r.user.receiver.media.on(function(e){this.from&&"media"===this.from._name||o.event(e?"swipeUp":"swipeDown",this.from&&this.from._cachedPath)}),a.$hasReceiver.on(function(){if(this.val){var e=r.user.receiverClient.val,t=e.device&&e.device.val;t&&c(t)}}),i.purchase.on("success",function(){o.event("monthly"===this.subscription.val?"upgradeMonthSucces":"upgradeAnSucces",!0),l("event","purchase","month")}).on("error",function(){o.event("monthly"===this.subscription.val?"upgradeMonthError":"upgradeAnError",!0)}),i.mobile.sms.on("success",function(e){o.event("upgradeMtvSucces",!0)}).on("error",function(e){o.event("upgradeMtvFailed",!0)}),r.mediaTime.on(function(e){var t=n();e&&e>0||t&&o.video(e,t)}),r.playing.on(function(e){var t=n();t&&o.video(e?"videoPlay":"videoPause",t)})},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","../api/tracking":"/Users/shawn/Work/mtv-play/api/tracking/index.js","../api/tracking/dataform":"/Users/shawn/Work/mtv-play/api/tracking/dataform.js","./index":"/Users/shawn/Work/mtv-play/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/upgrade.js":[function(e,t,s){function n(e,t){if(t){var s=r.store[l.platform],n=s&&s[t];if(n)return n.replace("$region",(o.region.val||"").toLowerCase())}return 0}var r=e("./config"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=o.user,a=e("../api"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua");a.mobile.verify.val={token:i.token},a.mobile.verify.on("success",function(e){2!==i.role.val?(a.user.role.poll.val=500,o.loading.val=!0,i.role.once(function(){o.notification.val="mobileUpgradeSuccess",a.user.role.poll.val=!1,o.loading.val=!1})):a.user.role.poll.val=!1,o.popup.val=!1,o.notification.val="mobileVerifySuccess"}).on("error",function(e){o.notification.val="mobileVerifyError"}).loading.on(o.loading),a.mobile.sms.on("success",function(e){i.token.val=this.token.val,o.notification.val="mobileUpgraded"}).on("error",function(e){o.notification.val="mobileUpgradeError"}).loading.on(o.loading),o.url.params.on(function(e){this.m&&(a.mobile.sms.val=this.m.val,this.val="")}),a.purchase.val={subscription:{transform:n},product:{transform:function(e,t){var s=t?n(e,"single"):0;return s}}},a.purchase.on("success",function(){var e={receipt:this.token.val};if(this.packageName&&(e.packageName=this.packageName.val),this.subscriptionId&&(e.subscriptionId=this.subscriptionId.val),this.orderId&&(e.orderId=this.orderId.val),this.purchaseTime&&(e.purchaseTime=this.purchaseTime.val),this.purchaseState&&(e.purchaseState=this.purchaseState.val),this.developerPayload&&(e.developerPayload=this.developerPayload.val),this.signature&&(e.signature=this.signature.val),this.product.val){if(!this.product.from.cloud)throw new Error("trying to buy something else then an episode");this.product.from.get("id").is("loaded",function(){e.episodeId=this.val,a.receipt.val=e})}else e.episodeId=!1,a.receipt.val=e}).on("error",function(){o.notification.type=this.type,o.notification.val="purchaseError"}).loading.on(o.loading),a.receipt.val={token:i.token},a.receipt.on("success",function(){var e=this.episodeId&&this.episodeId.val;e?(i.purchases.$userOrigin.set(e,!0),o.popup.val=!1,o.notification.val="singleEpisodePurchased"):(o.notification.val="upgraded",o.user.role.$userOrigin=1,o.popup.val="profile")}).on("error",function(){o.notification.type=this.type,o.notification.val="purchaseError"}).loading.on(o.loading),a.operator.upgrade.on("success",function(){o.notification.val="upgraded",o.user.role.$userOrigin=2,o.user.operator_name.val=a.operator.upgrade.operator.val,o.popup.val="profile"}).on("error",function(){o.notification.type=this.type,o.notification.val="purchaseError"}).loading.on(o.loading)},{"../api":"/Users/shawn/Work/mtv-play/api/index.js","./config":"/Users/shawn/Work/mtv-play/app/config.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/app/user.js":[function(e,t,s){
var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=n.cases,o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),i=n.config,a=t.exports=n.user.inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/token"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/usage"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/navigation"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/multiscreen"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/multiscreen/cast"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/url"));a.set({profilepic:!1,first_name:!1,email:!1,language:!1,role:!1,highlight:!1,carousel:!1,search:!1,accept_newsletter:!1,FB_token:!1,scroll:!1,facebook_id:!1,url:e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url"),localStorageToken:i.api.type+"userToken"}),a.extend({name:"purchases",mock:{purchases:{}},subscription:{purchases:{$:!0}},on:{mock:function(){this.purchases=this.mockdata.purchases},user:function(){this.purchases=this.data.from.get("purchases",{})}}}),a.extend({name:"operator_name",mock:{operator_name:!1},subscription:{operator_name:!0},on:{mock:function(){this.operator_name=this.mockdata.operator_name},user:function(){this.operator_name=this.data.from.get("operator_name",!1)}}}),r.$isActive.on(function(){"player"!==n.state.val&&(n.state.val=this.val?"first":"second")}),n.language.val=n.user.language,n.content.on("self",function(e,t){var s=n.state.val;n.state.val="empty",n.state.val=s}),a.spotlight=e("./spotlight"),a.spotlight.on(function(e){n.popup.from.data=a.spotlight.selected.from,n.popup.from.val="article"}),a.role.set("text",{val:a.role,transform:function(e,t){return n.user.operator_name.val?"operatorPremium":i.roles[t]||""},listen:n.user.operator_name}),r.$isUpgraded=new o({val:a.role,transform:function(e,t){return t>0?!0:0}}),r.$accessForEveryone=new o(!1),a.receiver.media.on(function(){r.$isReceiver.val&&(this.val?(n.state.clearCache(),n.state._ignoreValue=!0,n.state.val={val:"player",video:this.from},n.state._ignoreValue=null):n.state.val=r.$isActive.val?"first":"second")}),r.$isReceiver.on(function(){this.val?(n.volume.val=a.receiver.volume,n.playing.val=a.receiver.playing,a.receiver.media.clearCache(),a.receiver.media._update()):(n.volume.val=n.volume.from.val||1,n.playing.val=n.playing.from.val,n.state.val=r.$isActive.val?"first":"second")}),r.$isReceiver.on(function(){this.val?n.css.val={addClass:"isReceiver"}:n.css.val={removeClass:"isReceiver"}})},{"./spotlight":"/Users/shawn/Work/mtv-play/app/spotlight.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/multiscreen":"/Users/shawn/Work/vigour-js/app/user/multiscreen/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/multiscreen/cast":"/Users/shawn/Work/vigour-js/app/user/multiscreen/cast/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/navigation":"/Users/shawn/Work/vigour-js/app/user/navigation.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/token":"/Users/shawn/Work/vigour-js/app/user/token.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/url":"/Users/shawn/Work/vigour-js/app/user/url.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/user/usage":"/Users/shawn/Work/vigour-js/app/user/usage.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/url":"/Users/shawn/Work/vigour-js/browser/network/url.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/app/util.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),o=r.phone?"play":"playAlt";s.access=function(e,t){if(t){var s=3===n.user.role.val,i=t.id&&t.id.val,a=t&&!(t._parent&&"channels"===t._parent._name&&3===n.user.role.val)&&(!e||r.$isUpgraded.val&&(!s||s&&2>e));return i&&n.user.purchases.$userOrigin[i]&&(a=!0),r.$allowPlayback.val&&a?o:"lockedContent"}}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/common.less":[function(e,t,s){},{}],"/Users/shawn/Work/mtv-play/components/button/index.js":[function(e,t,s){e("./style.less");var n,r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("../icon");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util");t.exports=s=new r({node:"button",css:"ui-button",text:"this is a button",righticon:new o({icon:"arrowright"})}).Class,n=new r({css:function(){return"ui-switch"+(this.switchOn&&this.switchOn.val===!0?" ui-switch-on":"")},btn:{}}),n.extend({switchOn:function(e){this.css="ui-switch"+(e.val&&e.val===!0?" ui-switch-on":"")}}),s.Switcher=n.Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/button/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/components/button/style.less":[function(e,t,s){e("../../common.less")},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/cookiebar/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),i=e("../icon");t.exports=new o({css:"cookie-bar",on:{$new:{defer:function(e){r.phone||n.set({h:{sub:40},position:"relative"}),e()}},$remove:{defer:function(e){r.phone||(n.h={sub:null}),window.localStorage.setItem("cookieApproved",!0),e()}}},container:{message:{text:{val:n.localDictionary,transform:function(e,t){var s=n.localDictionary.responseData;return s&&s.text.cookieBar?s.text.cookieBar.text.val:void 0}}},info:{text:{val:n.localDictionary,transform:function(e,t){var s=n.localDictionary.responseData;return s&&s.text.cookieBar?s.text.cookieBar.link.val:void 0}},"events.click":function(){var e=n.popup,t=n.region.val;"DE"===t||"BE"===t||"NO"===t?e.data=n.content.get(["privacy","list","0"]):e.data=n.content.get(["legal_cookies","list","0"]),e.val="article"}},button:{exit:new i({icon:"close"}),text:{val:n.localDictionary,transform:function(e,t){var s=n.localDictionary.responseData;return s&&s.text.cookieBar?s.text.cookieBar.close.val:void 0}},events:{down:function(e){e.prevent=!0,this.parent.parent.remove()}}}}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/cookiebar/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/cookiebar/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/epg_temp.js":[function(e,t,s){function n(e){return["mtvData",o.region.val,o.language.val,"channels",e].join(".")}var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/ajax"),l=new r,c=[];t.exports=s=function(e,t){if(~c.indexOf(e))return void(t&&t());var n=s.getDate(),r=o.region.val.toLowerCase()+"/channels/"+e+"/"+n;return l[n]||(l.empty,l.set(n,{})),l[n][r]&&l[n][r].val||(l[n].set(r,!1),a({url:"https://api.mtvnn.com/v2/airings.json/?channel_id="+e+"&filter=today&bust="+~~(1e6*Math.random()),headers:{Accept:"*/*"},iframe:i.epg,method:"GET",complete:function(s){if(s instanceof Array){var o=[];s.forEach(function(e,t){var n=e.airing,r=s[t+1];n.duration=(r?r.airing.minutes_since_midnight:s[0].airing.minutes_since_midnight)-n.minutes_since_midnight||1440,n.endtime=n.minutes_since_midnight+n.duration,o.push(n)}),l[n].set(r,o)}else c.push(e),l[n][r].removeListener(),t&&t()},error:function(s){c.push(e),t&&t()}})),l[n][r]},s.now=function(e,t){function n(){var e=this.minutes_since_midnight.val,t=e+this.duration.val;return a>=e&&t>a?(o?o.val=this:o=this,void(i&&l.removeListener(i))):void 0}var o,i,a=s.minutesSinceMidnight(),l=s(e);if(l){if(l.val)l.each(n);else{var o=new r;i=function c(){this.each(n),l.removeListener(c)},l.addListener(i)}return o}},s.anyNow=function(e){if("channels"===e._name){var t=e.keys,o=t.length,i=this;if(!o)return;for(this._findNow=new r,o--;o>=0;o--){var a=e[t[o]].epgid;if(void 0!==a){this.model=!1;var l=s.now(a.val);l&&(l.title?(this.data=l,this._link=n(t[o])):(this._findNow[o]=l,this._findNow[o]._index=t[o],this._findNow[o].addListener(function(){void 0!==this._index&&(i.model=!1,i.data=this.from.val,i._link=n(this._index),setTimeout(function(){i._findNow&&i._findNow.remove()}))})))}}}},s.getDate=function(e){e||(e="-");var t=new Date,s=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return 10>s&&(s="0"+s),10>n&&(n="0"+n),r+e+n+e+s},s.minutesSinceMidnight=function(){var e=new Date,t=new Date(e),s=t-e.setHours(0,0,0,0);return s/6e4},s.clockTime=function(e,t){var s=~~(t/60),n=~~(t%60);return s>23?s-=24:10>s&&(s="0"+s),10>n&&(n="0"+n),s+":"+n}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/ajax":"/Users/shawn/Work/vigour-js/browser/network/ajax.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/first/channels/index.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("../overview")),r=e("../../icon"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=new n.Items({pageheader:{"text.dictionary":"text.nav.channels"},collection:{data:"channels",element:n.Item.Tv?new n.Item.Tv:new n.Item({righticon:new r({on:{data:"id"},icon:{data:"access",transform:function(e,t){var s=o.util.access(t,this.data);return"lockedContent"===s?"lockedContentAlt":"arrowright"},listen:o.user.role}}),events:{click:function(){this.checkParent("on.media",!0).$userOrigin=this.data.from}}})},model:{complete:function(){this.parent.node.scrollTop||(this.parent.node.scrollTop=1),this.model=!1}}});t.exports=new n({items:i}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../overview":"/Users/shawn/Work/mtv-play/components/first/overview/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/discover/carousel.js":[function(e,t,s){function n(e){clearTimeout(a),a=setTimeout(function(){e._pos!==-e.children.length+1?e._pos-1:0;n(e)},5e3)}function r(e){if(!e._i)for(var t=e.parent.children,s=t.length-1;s>=0;)t[s]._i=s--;return e._i}function o(e,t,s){var n=120,r=10,o=this.children.length,a=this._pos||(this._pos=0),c=a;Math.abs(s.x)>r?(s.x<0&&!(t.x>n)&&(c=Math.max(a-1,-o+1)),s.x>0&&!(t.x<-n)&&(c=Math.min(a+1,0))):(t.x<-n&&(c=Math.max(a-1,-o+1)),t.x>n&&(c=Math.min(a+1,0))),this.x._e&&(this.x={_esub:this.x._e._val}),l=!1,i(this,c)}function i(e,t){var s=e._pos||(e._pos=0),r=e.parent.dotholder.dots;(r||e.parent.parent.parent.parent.topbar.txt.dotholder.dots).children;t!==s&&(e.data.carousel.from=t,e._pos=t),r&&a&&n(e)}e("./style.less");var a,l,c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),u=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),e("../../img")),p=e("../../icon"),d=e("../../text").Title,h=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),v=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),m=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/frame"),new c({img:new u.Carousel({teaser:{title:new d},background:{range:100},events:{active:"clicked",click:function(){var e,t,s=this.data,n=s.type&&s.type.val,r=s.link&&s.link.val;"Article"===n?r?h.api.url.val=r:(h.popup.from.data=s.from,h.popup.from.val="article"):r&&(r=r.split("."),e="shows"===r[3],t="episodes"===r[r.length-2],t?(linkdata=h.content.from.get(r.slice(3)),h.user.navigation.media.$userOrigin.val=linkdata,h.state.val={val:"player",video:linkdata}):e&&(h.user.navigation.show.$userOrigin=h.content.from.get(r.slice(3))))}}}),model:{subscription:{link:!0,type:!0}}})),f=new c({css:"ui-roll",x:{data:"carousel",transform:function(e,t){return isNaN(t)&&(t=t._val||0),this._pos=t,t*this.node.offsetWidth||0},animation:{time:{val:36,phone:18},easing:"outCubic"},listen:h.w},collection:{data:"marquee",element:m},touch:{events:{grab:{x:!0,pass:function(e,t){return Math.abs(t.x)>Math.abs(t.y)?(l=!0,!0):void 0},up:o}}},model:{complete:function(){var e=this;e.x._p=!0,window.requestAnimationFrame(function(){e.x&&(e.x.update(),e.x._p=null)}),this.model={complete:null}}}}),g=new c({css:"ui-car-buttons",prevBtn:new p({icon:"leftnav",events:{click:function(){var e=this.parent.parent.roll,t=e._pos;0>t&&i(e,t+1)}}}),nextBtn:new p({icon:"rightnav",events:{click:function(){var e=this.parent.parent.roll,t=0|e._pos;t-1>-e.children.length&&i(e,t-1)}}})}),w=new c({css:"ui-dots",collection:{data:"marquee",element:new c({events:{click:function(){i(this.checkParent("roll",!0),-r(this))}}})}});w.extend({dotFocus:function(e){for(var t=-e.val||0,s=this.children,n=s.length-1;n>=0;n--){var r=s[n];n===t?r.css="dot-focus":r.css=!1}}});var y=new c({on:{$remove:{defer:function(e){clearTimeout(a)}}},tablet:{bgTeaser:{}},roll:f,"desktop.buttons":g,dotholder:{dots:new w.Class({dotFocus:{data:"carousel"}})}});v.tablet&&(y.h={val:h.w,multiply:9/16,max:{val:h.h,multiply:.5}}),t.exports=s=y,s.Dots=w.Class,s.Buttons=g.Class,s.Roll=f.Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/discover/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/frame":"/Users/shawn/Work/vigour-js/browser/animation/frame.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/first/discover/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),e("./carousel")),o=(e("../../icon"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases")),i=(e("../../item"),e("./lists")),a=new n({css:"first-discover",x:{translate:!0},carousel:new r.Class,touch:{scrollbar:"y",on:{$render:{defer:function(e){var t=this._parent._caller;s.scrollTop&&window.requestAnimationFrame(function(){t._node&&(t.node.scrollTop=s.scrollTop||o.touch&&1)}),e()}}},model:{complete:function(){this.node.scrollTop=s.scrollTop||o.touch&&1,this.model={complete:null}}}},lists:i,"events.scroll":function(){var e=this.node,t=s.scrollTop=e.scrollTop;if(o.$hasReceiver.val){var n=e.getBoundingClientRect();this.data.scroll.$userOrigin=t/(e.scrollHeight-n.height)}}});t.exports=a.Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./carousel":"/Users/shawn/Work/mtv-play/components/first/discover/carousel.js","./lists":"/Users/shawn/Work/mtv-play/components/first/discover/lists.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/discover/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/discover/lists.js":[function(e,t,s){function n(){var e=this.data.link.val;this.parent.header&&this.parent.header.text.val||this.parent.parent.header&&this.parent.parent.header.text.val;e&&(e=e.split(".").splice(3),this._stayActive=!0,~e.indexOf("episodes")?this.checkParent("on.media",!0).$userOrigin=this.checkParent("on.content",!0).from.get(e):this.checkParent("on.show",!0).$userOrigin=this.checkParent("on.content",!0).from.get(e))}var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element")),a=e("../../icon"),l=e("../../img"),c=e("../../item"),u=e("../../text"),p=e("../../epg_temp"),d=(u.Title,c.TitleSubtitle),h=o.phone?150:220,v=new i({x:{translate:!0},img:new l({h:{val:152,phone:100},w:{val:220,phone:150}}),txt:new d}),m=new v.Class({model:{subscription:{link:!0}},events:{active:"ui-item-clicked",click:n}}),f=new i({css:"list",on:{$render:{defer:function(e){var t=this._parent._caller,s=t.scroller.children.length;s?t.display="block":t.display="none",e()}}},header:{},scroller:{css:"preload",scrollbar:"x",x:{translate:!0},y:{translate:!0},collection:{data:!0,element:m},touch:{events:{scroll:function(){this.css=""}}}},"model.complete":function(){if(this.scroller){var e=this.scroller.children.length;this.display=e?"block":"none"}}}).Class;t.exports=new i({action:new c({ontv:{text:"on tv"},program:{text:{data:"title"}},arrow:new a({icon:"arrowright"}),events:{active:"action-clicked",click:function(){this._link&&(this._stayActive=!0,this.checkParent("on.media",!0).$userOrigin=r.cloud.data.get(this._link))}},model:{subscription:{$:{epgid:!0}},val:function(e){e.channels&&p.anyNow.call(this,e.channels)}}}),allshows:{"text.dictionary":"text.nav.allShows",events:{active:"ui-item-clicked",click:function(){this._stayActive=!0,this.checkParent("on.page",!0).$userOrigin="shows"}}},watched:new f({css:"list watched",header:{text:{dictionary:"text.showsYouWatch"}},scroller:{collection:{data:"watched",element:new m.Class({events:{active:"ui-item-clicked",click:function(){r.user.navigation.media.$userOrigin=this.data.media.from}},model:function(e){var t=e.media&&e.media.from._contentPath;t&&(this.img.cover.data=r.user.usage.from.get(t),this.txt.subtitle.data=e.media.from,this.model=!1)},img:{background:{data:"show.img"},cover:{model:{inherit:!1},desktop:{percentage:{text:{data:"time",transform:function(e,t){var s=Math.floor(100*t);return s?Math.abs(s)+"%":""}}}},bar:{y:{tablet:147,phone:95},w:{data:"time",transform:function(e,t){return isNaN(t)?0:Math.abs(t)*h}}}}},txt:{title:{text:{data:"show.title"}},subtitle:new u.Subtitle({model:{inherit:!1}})}})}}}),releases:new f({header:{text:{dictionary:"text.newReleases"}},scroller:{collection:{data:"releases",element:new m.Class({txt:{title:{text:{data:"show.title"}}}}),desktop:{element:new c.Large({info:{txt:{title:{text:{data:"show.title"}}}},model:{subscription:{link:!0}},events:{active:"ui-item-clicked",click:n},crawler:{href:{data:function(e){if(e.link){var t=e.link.val.split("."),s="episodes"===t[t.length-2];if(s){var n=t[4],r=e.season.val;return"shows/"+n+"/"+r+"/"+s||""}}}},attr:{onclick:"return false"}}})}}}}),recommended:new f({header:{text:{dictionary:"text.recommended"}},scroller:{collection:{data:"recommended"}}}),free:new f({header:{text:{dictionary:"text.free"}},scroller:{collection:{data:"free",element:new m.Class({txt:{title:{text:{data:"show.title"}},subtitle:{text:{data:"title"}}}})}}})})},{"../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/discover/style.less":[function(e,t,s){e("../../../common.less")},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/epg/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=e("../../icon"),a=e("../../item"),l=e("../../player/seekbar"),c=e("../../epg_temp"),u=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value")),p=c.clockTime,d=c.minutesSinceMidnight,h=(new u({val:360,phone:o.w,sub:30}),new n({holder:{txt:new a.TitleSubtitle({subcontainer:{subtitle:{text:{data:"minutes_since_midnight",transform:p}},seekbar:{text:" - ",css:"subtitle"},endtime:{css:"subtitle",text:{data:"endtime",transform:p}}}})},border:{}}).Class);t.exports=s=new n({message:{icon:new i({icon:"empty"})},container:{list:{touch:{scrollbar:"y",h:{val:o.h,sub:{val:40,iosFull:60,add:{phone:{val:o.w,divide:16/9}}}}},collection:{data:!0,element:new h,filter:{condition:{endtime:{$gt:d}}}},model:{complete:function(){var e=this,t=this.children[0],s=this.parent.parent.message;if(!t)return s.icon.icon="warning",void(s.text={dictionary:"text.noEPG"});s.icon.icon="",s.text="";var n=t.data.minutes_since_midnight.val,o=t.data.endtime.val,i=t.data.duration.val,a=~~(6e4*(o-d()))+3e3,c=t.holder.txt.subcontainer.seekbar;if(!c.seek&&i){t.set({"holder.txt.subcontainer.seekbar":new l({seek:{w:{data:"time"}},button:!1,data:new r({time:(d()-n)/i})})}),this._interval&&clearInterval(this._interval);var e=this;this._interval=setInterval(function(){if(t&&t.holder&&t.holder.txt){var s=d()-n;t.holder.txt.subcontainer.seekbar.data.time.val=s/i}else clearInterval(e._interval),e._interval=null},1e3)}a>0&&(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){e.updateData(),e._timer=null},a+2e3))}}},model:{inherit:!1}},phone:{position:"absolute"},model:{field:"media",subscription:{epgid:!0},val:function(e){var t,s=e.epgid&&e.epgid.val;void 0!==s&&(t=c(s),this.container.data=t,this.model=!1)}}}).Class,s.base.container.list.setSetting({name:"remove",remove:function(){this._timer&&clearTimeout(this._timer),this._interval&&clearInterval(this._interval)}})},{"../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../../player/seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/epg/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/components/first/epg/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/favourite/index.js":[function(e,t,s){e("./style.less");var n=e("../../icon"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=new n({icon:{data:"showusage.favourite",transform:function(e,t){return!t||"true"!==t&&t!==!0?(this.css="ui-icon","favoriteadd"):(this.css="ui-icon favorited","favorite")}},"events.click":function(){if(r.$isLoggedIn.val){var e=this.data.showusage.$userOrigin;e.favourite&&e.favourite.val?e.val={favourite:!1}:e.val={favourite:!0}}else o.popup.from.val="roadblock"}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/favourite/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/favourite/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/index.js":[function(e,t,s){function n(e){var t=this._parent,s=t._caller,n=this.$userOrigin;return n.val?(s.miniplayer||(s.miniplayer=new f({on:{usage:t.usage.from,msmedia:n,volume:t.volume.from},data:{media:n,mediausage:t.usage.from.get(n.from._contentPath),volume:t.volume.from},play:{icon:t.play},y:p.phone&&"channels"===n.from._parent._name?24:0}),s.add(s.miniplayer,p.phone&&"topmenu")),void e()):!0}function r(t,s){var n=this._parent._caller;if(this.val&&!n.popupWindow){v||(v=e("../popup"));var r=new v({name:"popupWindow",on:{user:u.user,language:u.user.language,token:u.user.token,newsletter:u.user.newsletter,overlay:u.overlay,loading:u.loading,popup:u.popup}});n.add(r,n.notification),n.popupWindow.on.popup._update()}t()}function o(e,t){var s=this._parent._caller;this.val&&!s.notification&&(s.set({notification:new m({on:{notification:u.notification}})}),s.notification.on.notification._update()),e()}function i(e,t){var s=this._parent._caller,n=s.loader,r=s.cancel,o=s.checkParent("on.overlay",!0),i=this;this.clearCache(),s._cancelTimer&&(clearTimeout(s._cancelTimer),s._cancelTimer=null),this.val?(o.val||(o.from.val="loading"),n||(s.set({loader:new g}),s._cancelTimer=setTimeout(function(){s.set({cancel:{btn:{text:"cancel"},events:{click:function(){i.from.val=!1}}}}),s._cancelTimer=null},8e3))):this.val||(r&&r.remove(),n&&n.remove(),"loading"===o.val&&(o.from.val=!1)),e()}function a(e){var t=this._parent._caller;t._cancelTimer&&clearTimeout(t._cancelTimer),e()}e("./style.less");var l,c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),d=e("./menu"),h=e("../icon");if(p.tv)l=e("./tv"),t.exports=s=new c({css:"first-state",sidemenu:new d.Sidemenu,w:{parent:"w"},h:{parent:"h"},switcher:new l({position:"absolute",h:{parent:"h"}})}).Class;else{var v,m=e("./notification"),l=e("./switcher"),f=e("./miniplayer"),g=(e("../player"),e("./watch"),e("../loader")),w=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util").postpone,y=w(function(e,t){e.topbar&&(e.topbar.display=t?"block":"none",e.switcher.y=t?40:0,e._block=!0,e.w.update())},100);p.phone?t.exports=s=new c({css:"first-state",on:{popup:{defer:r},notification:{defer:o},loading:{defer:i},$remove:{defer:a},$render:{defer:function(e){var t=this._parent._caller,s=t.section;s.on.msmedia._update(),t.on.popup._update(t.on.popup.val),e()}}},w:{parent:"w"},h:{parent:"h"},section:{on:{msmedia:{init:n}},w:{parent:"w"},h:{parent:"h"},switcher:new l({position:"absolute",y:{translate:!0,val:d.Topbar.base.h,add:{val:0,$fromMtvSite:30}},h:{parent:"h",sub:{val:d.Topbar.base.h,add:{val:0,$fromMtvSite:30}}}}),linkback:{position:"absolute",y:{translate:!0,val:d.Topbar.base.h,sub:{val:30,$fromMtvSite:0}},title:{text:{dictionary:"text.backlink"}},close:new h({icon:"close","events.click":function(e){e.prevent=!0,e.preventDefault(),p.$fromMtvSite.val=!1}}),"events.click":function(){document.location.href=u.fromMtvSite}},topmenu:new d.Topmenu({on:{menu:u.menu}}),topbar:new d.Topbar({display:{desktop:"none"}})}}).Class:t.exports=s=new c({css:"first-state",on:{state:{defer:function(e){var t=this.from.val,s=this._parent._caller,l=s.section;"first"!==t||s.w||(s.set({on:{popup:{defer:r},notification:{defer:o},loading:{defer:i},$remove:{defer:a},fullscreen:{val:p.$isFullscreen,defer:function(e){var t=this._parent._caller.section;t.x._p=!0,window.requestAnimationFrame(function(){t&&t.x&&(t.x._p=null)}),e()}}},w:{parent:"w"},h:{parent:"h"},sidemenu:new d.Sidemenu({data:u.user.navigation}),section:{on:{msmedia:{init:n}},x:{val:p.tablet?{val:0,$isFullscreen:0}:{val:200,$isFullscreen:0},animation:{time:18,easing:"outCubic"}},w:{parent:"w",desktop:{sub:{self:"x"}}},h:{parent:"h"},switcher:{position:"absolute",h:{parent:"h"},touch:{y:{translate:!0,val:d.Topbar.base.h,add:{val:0,$fromMtvSite:30,$isFullscreen:0},$isFullscreen:0},h:{sub:{val:d.Topbar.base.h,add:{val:0,$fromMtvSite:30}}}}}}}),l.on.msmedia._update(),s.on.popup._update(s.on.popup.val),p.desktop&&(l.x._p=!0,l.x={val:u.w,defer:function(e,t){t[0]?(this._p=!0,e(),this._p=null):e()},transform:function(e,t){if(p.$isFullscreen.val)return 0;var s=u.w.val<1300;return this._block?this._block=null:y(this,s),s&&!u.menu.val?0:200}},l.x._p=null)),l.x._p=!0,window.requestAnimationFrame(function(){l.x&&(l.x._p=null)}),e()}},$parent:{defer:function(e){this._parent.state._update(),e()}}},sidemenu:{},section:{x:{translate:!0},switcher:new l,tablet:{linkback:{position:"absolute",y:{translate:!0,val:d.Topbar.base.h,sub:{val:30,$fromMtvSite:0}},title:{text:{dictionary:"text.backlink"}},close:new h({icon:"close","events.click":function(e){e.prevent=!0,e.preventDefault(),p.$fromMtvSite.val=!1}}),"events.click":function(){document.location.href=u.fromMtvSite}}},topbar:new d.Topbar({display:{desktop:"none"}})}}).Class,s.base.set({overlay:{display:"none","events.click":function(){var e=this.parent.on.loading,t=this.parent.on.popup;e.val||(t.from=!1)}},on:{overlay:{defer:function(e,t){var s=this.from;return s?(s.val?this._parent._caller.overlay.display.val="block":s.val||(this._parent._caller.overlay.display.val="none"),
void e()):!0}}}})}},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../loader":"/Users/shawn/Work/mtv-play/components/loader/index.js","../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../popup":"/Users/shawn/Work/mtv-play/components/popup/index.js","./menu":"/Users/shawn/Work/mtv-play/components/first/menu/index.js","./miniplayer":"/Users/shawn/Work/mtv-play/components/first/miniplayer/index.js","./notification":"/Users/shawn/Work/mtv-play/components/first/notification/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/style.less","./switcher":"/Users/shawn/Work/mtv-play/components/first/switcher/index.js","./tv":"/Users/shawn/Work/mtv-play/components/first/tv/index.js","./watch":"/Users/shawn/Work/mtv-play/components/first/watch/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js"}],"/Users/shawn/Work/mtv-play/components/first/menu/casticon.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=(e("../../item"),e("../../img"),e("../../icon")),o=(e("../../text"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/")),i=e("../../loader"),a=new n({css:"relative-size",text:o.user.devices.$length,display:"relative",opacity:{val:0,$isLoggedIn:1}}).Class;t.exports=s=new n({content:new r({icon:"cast",scale:{val:1,animation:{start:1,time:18,easing:"outCubic",done:function(){this.scale.val=1}}},display:"block",number:new a,css:{$hasReceiver:"ui-icon hasReceiver"},opacity:{val:.5,$hasDevices:{val:.5,$isLoggedIn:1}},"events.click":function(e){e.prevent=!0;var t=this.checkParent("on.popup",!0);t.from="devices"}}),css:"ui-icon cast","!$connected":{content:{display:"none"},loader:new i.Simple}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../../loader":"/Users/shawn/Work/mtv-play/components/loader/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/menu/index.js":[function(e,t,s){function n(e){return l.phone?function(){this.checkParent("topmenu",!0).hide(),c.user.navigation.page.$userOrigin=e}:l.tablet?function(){this.checkParent("section",!0).x=0,c.user.navigation.page.$userOrigin=e}:function(){console.log("menu",e),c.user.navigation.page.$userOrigin=e}}function r(e){if(e.prevent=!0,l.touch){var t=this._d,s=void 0===t||t&&!t.__t;if(s)if(l.phone){var n=this.checkParent("topmenu",!0);n.toggle()}else{var r=this.checkParent("section",!0),o=r.x.val,i=this.parent.caret,a="closeMenu";o?(r.x=0,i.rotate=-90):(r.x=200,i.rotate=90,r.node.style.pointerEvents="none",c.addEvent("click",function(e){r.x=0,i.rotate=-90,c.removeEvent(!1,a),r.node.style.pointerEvents="auto"},a))}else this.checkParent("switcher",!0).back()}else{var r=this.checkParent("section",!0),o=r.x.val,i=this.parent.caret,a="closeMenu";o?(c.menu.val=!1,r.x.update(),i.rotate=-90):(c.menu.val=!0,i.rotate=90,r.x.update(),r.node.style.pointerEvents="none",c.addEvent("click",function(e){c.menu.val=!1,r.x.update(),i.rotate=-90,c.removeEvent(!1,a),r.node.style.pointerEvents="auto"},a))}}e("./style.less");var o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),i=e("../../icon"),a=e("../../text"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),u=e("./casticon"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),d=p.get("text.nav.television"),h=p.get("text.nav.shows"),v=new a.Title({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.data=c.content.get([this._name,"list","0"]),e.val="article"},css:"term"}).Class,m=new o({append:[new o({tv:{text:{data:"page",transform:function(e,t){return t===this.name&&"menu"===c.focusState.val&&this.$focus(),"menu"!==c.focusState.val&&this._$focused&&this.$focus(!1,!0),""},listen:c.focusState},css:"menu-item"},events:{arrowUp:function(){this.$prev.val&&this.$prev.val.events.click._val.call(this.$prev.val)},arrowRight:function(){"settings"!==this.name&&(c.focusState.from.val="grid")},$focus:function(e){if(e){var t,s=this.parent&&this.parent.children;if(s){for(var n=s.length-1;n>=0;n--)t=s[n],t!==this&&(t.css.val="menu-item");this.css.val="menu-item current"}}},arrowDown:function(){this.$next.val&&this.$next.val.events.click._val.call(this.$next.val)}},"!tv":{css:{data:"page",transform:function(e,t){var s="menu-item",n=s+" current";return"string"==typeof t?t===this.name?n:s:"shows"===this.name?n:s}},lefticon:new i},title:{crawler:{node:"a",attr:{onclick:"return false"}}}}).Class,{name:"discover","!tv.lefticon.icon":"discover","title.text.dictionary":"text.nav.discover","events.click":n("discover"),"title.href":"discover"},{name:"shows","!tv.lefticon.icon":"shows","title.text.dictionary":"text.nav.shows","events.click":n("shows"),"title.href":"shows"},{name:"channels","!tv.lefticon.icon":"tv","title.text.dictionary":"text.nav.television","events.click":n("channels"),"title.href":"channels"},{name:"settings","!tv.lefticon.icon":"settings","title.text.dictionary":l.tv?"text.account.signin.title":"text.nav.settings","tv.display":{val:"table",$isLoggedIn:"none"},"events.click":function(){if(l.tv){this.$focus(!0);var e=this.checkParent("switcher",!0);e&&e.on.signin.update()}else this.checkParent("on.popup",!0).from.val="settings"}}]}).Class;s.Sidemenu=new o({css:l.tv?{val:c.focusState,transform:function(e,t){var s="menu"!==t?" unfocus":"";return"first-menu first-sidemenu"+s}}:"first-menu first-sidemenu","desktop.$fromMtvSite.linkback":{arrow:new i({icon:"leftnav"}),title:{text:{dictionary:"text.backlink"}},"events.click":function(){document.location.href=c.fromMtvSite}},"!tv.logo":new i({icon:"logo"}),items:new m({y:{tv:c.h.val/5-28}}),"!tv.bottom":{button:{display:{val:"block",tv:"none",$isUpgraded:"none"},css:"register",text:{dictionary:{val:"text.account.signup.title",$isLoggedIn:"text.upgrade"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?!l.$isUpgraded.val&&"upgrade":"register"}},login:{css:"button",display:{val:"block",$isLoggedIn:"none"},text:{dictionary:"text.account.signin.title"},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from="login"}},profile:{"!tv.icon":new i({y:-34,icon:{val:"profile",transform:{val:function(e,t){return c.user.profilepic.val?"empty":void 0},listen:c.user.profilepic}}}),img:{background:{val:c.user.profilepic,display:{val:function(){return c.user.profilepic.val?"block":"none"},listen:c.user.profilepic}}},"events.click":function(){this.checkParent("on.popup",!0).from.val="profile"}},"!tv.cast":new u({opacity:{"!phone":{"!$isLoggedIn":0}}})},"!tv.terms":{display:{val:function(){return c.h.val<=600?"none":"block"},listen:c.h},imprint:new v({"text.dictionary":"text.imprint"}),privacy:new v({"text.dictionary":"text.privacy"}),terms:new v({"text.dictionary":"text.terms"})}}).Class,s.Topbar=new o({css:"first-menu first-topbar",on:{page:{defer:function(e,t){var s=this._parent._caller,n=this.from.val,r="first-menu first-topbar toplevel";"discover"===n?(s.css=r+" logo",s.holder.title.text.val={transform:""}):(s.css=r,s.holder.title.text.val={transform:"channels"===n?d:h}),s.data={title:n,icon:n},e()}},show:{defer:function(e,t){var s=this._parent._caller;s.parent.topmenu;s.holder.title.text.val={transform:!1},s.data=this.from.val,s.css="first-menu first-topbar",e()}},media:{defer:function(e,t){var s=this._parent._caller;s.parent.topmenu;s.holder.title.text.val={transform:!1},s.data=this.from.val,s.css="first-menu first-topbar",e()}},$parent:function(e,t){e()}},h:{val:40,iosFull:60},holder:{lefticon:new i({icon:l.desktop?"menu":{data:"title",transform:l.phone?function(e,t){var s=this._d,n=s&&!s.__t;return void 0===s?"menu":n?"channels"===t?"tv":t:"arrowleft"}:function(e,t){var s=this._d,n=s&&!s.__t;return n?"menu":"arrowleft"}},"events.click":r}),caret:new i({icon:"dropdown","!phone":{rotate:-90},"events.click":r}),title:{text:{data:"title","default":""}},righticon:new u},"events.click":function(e){e.prevent=!0;var t=this._d,s=void 0===t||t&&!t.__t;if(s&&l.touch){var n=this.holder.lefticon;n.events.click._val.call(n,e)}}}).Class,s.Topmenu=new o({css:"first-menu first-topmenu",position:"absolute",h:{parent:"h",sub:s.Topbar.base.h},on:{menu:{defer:function(e,t){var s=this._parent._caller;this.clearCache(),this.val?s.show():s.hide(),e()}},$render:{defer:function(e){this._parent.menu._update(),e()}}},y:{translate:!0,val:-c.h.val,add:s.Topbar.base.h},bottom:{position:"absolute",y:256,h:{parent:"h",sub:256},terms:{imprint:new v({"text.dictionary":"text.imprint"}),privacy:new v({"text.dictionary":"text.privacy"}),terms:new v({"text.dictionary":"text.terms"})}},top:{items:new m,account:{css:"menu-item",left:{css:{val:"profile",$isUpgraded:"$isUpgraded"},picture:{display:{val:"none",$isLoggedIn:"block"},icon:new i({icon:{val:"profile",transform:{val:function(e,t){return c.user.profilepic.val?"empty":void 0},listen:c.user.profilepic}}}),img:{background:{val:c.user.profilepic,display:{val:function(){return c.user.profilepic.val?"block":"none"},listen:c.user.profilepic}}}},text:{dictionary:{val:"text.account.signin.title",$isLoggedIn:"text.profile"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?"profile":"login"}},right:{css:{val:"register",$isLoggedIn:"upgrade"},display:{val:"table-cell",$isUpgraded:"none"},text:{dictionary:{val:"text.account.signup.title",$isLoggedIn:"text.upgrade"}},"events.click":function(){var e=this.checkParent("on.popup",!0);e.from=l.$isLoggedIn.val?"upgrade":"register"}}}}}).Class,s.Topmenu.base.define({hide:function(){this.y=-this.h.val,this.parent.topbar.holder?this.parent.topbar.holder.caret.rotate=0:console.error("!ERROR this.parent.topbar.holder.caret",this)},show:function(){this.y=0,this.parent.topbar.holder.caret.rotate=180},toggle:function(){var e=this.y.val<0;e?this.show():this.hide()}})},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","./casticon":"/Users/shawn/Work/mtv-play/components/first/menu/casticon.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/menu/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/menu/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/miniplayer/index.js":[function(e,t,s){function n(e){var t=this.node.getBoundingClientRect(),s=t.left,n=(e.x-s)/(t.right-s);i.user.receiver.volume.from.val=n>1?1:0>n?0:n}e("./style.less");var r=e("../../icon"),o=e("../../img"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),l=e("../../player/controls"),c=e("../../player/volume"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),p=new r({icon:{val:!1,transform:function(e,t){return t?"pause":"play"}},"events.click":function(e){e.prevent=!0;var t=this.checkParent("on.play",!0).from;t.val=t.val?!1:!0}});t.exports=new a({css:"mini-player",position:"absolute",on:{msmedia:{defer:function(e){var t=this._parent,s=t._caller,n=this.$userOrigin,r=n.val&&"channels"===n.from._parent._name;if(n.val&&(s.data={media:n,mediausage:t.usage.from.get(n.from._contentPath),volume:t.volume.from}),s.y=n.val?u.phone&&r?24:0:u.phone?82:58,!u.phone){var o=s.controls.node.style;r?(o.visibility="hidden",o.pointerEvents="none"):(o.visibility="visible",o.pointerEvents="auto ")}e()}}},y:{translate:!0,val:u.phone?82:58,animation:{time:18,easing:"outCubic"},transform:function(e,t){return u.$hasReceiver.val?t:u.phone?82:58},listen:u.$hasReceiver},clickable:{img:new o({background:{data:"media.img"},h:58,w:{val:115,phone:58}}),info:{title:{text:{data:"media.show.title","default":{dictionary:"text.nowOnTv"}}},subtitle:{text:{data:"media.title"}}},events:{click:function(){var e=this.parent.data.media.from,t=this.checkParent("on.navigation._val",!0);t.media.$userOrigin=e}}},phone:{slider:new r({icon:"volume","events.click":function(e){e.prevent=!0;var t=this.checkParent("section",!0);t.volumepopup?t.volumepopup.remove():t.set({volumepopup:{h:i.h,modal:{css:"move-in",title:{text:"volume"},bar:{css:"ui-seekbar",bg:{},seek:{w:{data:"volume",transform:function(e,t){return t=isNaN(t)||!t&&0!==t?1:t,100*Math.abs(t)+"%"}},data:i.user.receiver},button:{},events:{down:n,drag:n,up:n}},done:{text:"done",events:{click:function(){t.volumepopup.remove()}}},events:{click:function(e){e.prevent=!0}}},events:{click:function(){t.volumepopup.remove()}}}})}})},play:p,controls:new l,"!phone":{volume:new c({bars:{data:"volume"}})},model:{subscription:{epgid:!0}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../player/controls":"/Users/shawn/Work/mtv-play/components/player/controls/index.js","../../player/volume":"/Users/shawn/Work/mtv-play/components/player/volume/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/miniplayer/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/miniplayer/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/notification/config.js":[function(e,t,s){t.exports={timeout:1e4,map:{favourite:{lefticon:{icon:"favoriteadd",css:{addClass:"favorite"}},css:{addClass:"success"},txt:{title:{text:{dictionary:"text.favoriteAdded"}}}},unfavourite:{lefticon:{icon:"favoriteremove",css:{addClass:"unfavorite"}},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.favoriteRemoved"}}}},loginSuccess:{lefticon:{icon:"right"},css:{addClass:"success"},txt:{title:{text:{dictionary:"text.account.signin.success"}}}},loginError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.signin.wrong"}}}},facebookError:{lefticon:{icon:"facebook"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.signin.facebookError"}}}},registerSuccess:{lefticon:{icon:"email"},css:{addClass:""},duration:5e5,txt:{title:{text:{dictionary:"text.verifyEmail.title"}},subtitle:{text:{dictionary:"text.verifyEmail.subtitle"}}}},email:{"txt.title.text.dictionary":"text.account.invalid.email"},emailExists:{"txt.title.text.dictionary":"text.account.signup.already"},registerError:{"txt.title.text.dictionary":"text.account.signin.wrong"},registerErrorExists:{"txt.title.text.dictionary":"text.account.signup.already"},registerErrorInvalid:{"txt.title.text.dictionary":"text.account.signin.wrong"},blankEmail:{"txt.title.text.dictionary":"text.account.signin.wrong"},password:{"txt.title.text.dictionary":"text.account.passwordResetError"},passwordShort:{"txt.title.text.dictionary":"text.account.invalid.password"},noMatchPassword:{"txt.title.text.dictionary":"text.noMatchPassword"},verifyEmailSuccess:{lefticon:{icon:"email"},css:{addClass:"success"},duration:5e5,txt:{title:{text:{dictionary:"text.account.verifyEmailSuccess.title"}},subtitle:{text:{dictionary:"text.account.verifyEmailSuccess.subtitle"}}}},verifyEmailError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.account.verifyEmailError"}}}},operatorUpgradeError:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.operator.credentials.wrong"}}}},appUpgrade:{lefticon:{icon:"warning"},duration:5e8,txt:{title:{text:{dictionary:"text.versionAvailable"}},"events.click":function(e){window.location.reload()}}},enable4g:{txt:{title:{text:{dictionary:"modal.warning.cellular.title"}},subtitle:{text:{dictionary:"modal.warning.cellular.subtitle"}}}},passwordForgot:{"txt.title.text.dictionary":"text.account.forgot.success"},passwordForgotError:{"txt.title.text.dictionary":"text.account.forgot.wrong"},passwordReset:{"txt.title.text.dictionary":"text.account.passwordReset"},passwordResetError:{"txt.title.text.dictionary":"text.account.passwordResetError"},invalidPasswordToken:{"txt.title.text.dictionary":"text.account.passwordResetError"},resetTokenExpired:{"txt.title.text.dictionary":"text.account.passwordResetError"},shareSuccess:{"txt.title.text.dictionary":"share.success"},shareError:{"txt.title.text.dictionary":"share.failed"},mobileUpgradeSuccess:{"txt.title.text.dictionary":"text.hoorayMobileTitle"},mobileUpgradeError:{"txt.title.text.dictionary":"modal.warning.unabletoverify"},mobileVerifySuccess:{"txt.title.text.dictionary":"text.verifysuccess"},mobileVerifyError:{"txt.title.text.dictionary":"text.verifyfail"},invalidNumber:{"txt.title.text.dictionary":"text.verifyfail"},numberExists:{"txt.title.text.dictionary":"text.verifytaken"},purchaseError:{"txt.title.text.dictionary":"text.account.purchaseError"},upgraded:{"txt.title.text.dictionary":"text.upgradedMessage"},subscription:{"txt.title.text.dictionary":"text.account.purchaseError"},singleEpisodePurchased:{"txt.title.text.dictionary":"singleEpisodePurchased"},invalid:{lefticon:{icon:"wrong"},css:{addClass:"error"},txt:{title:{text:{dictionary:"text.invalidEntry"}}}},expired:{"txt.title.text.dictionary":"text.invalidEntry"},terms:{"txt.title.text.dictionary":"text.invalidEntry"},privacy:{"txt.title.text.dictionary":"text.invalidEntry"},invalidEmail:{"txt.title.text.dictionary":"text.account.forgot.wrong"},mobileTimeout:{"txt.title.text.dictionary":"text.mobileTimeout"}}}},{}],"/Users/shawn/Work/mtv-play/components/first/notification/index.js":[function(e,t,s){e("./style.less");var n=e("../../icon"),r=e("../../item"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher"),i=e("./config"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=i.map,c=new r({on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},position:"absolute",y:{val:40,iosFull:64,animation:{start:0,time:18,easing:"outCubic",complete:function(){var e=this.duration;if(e){var t=this;this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t&&t.parent&&(t.parent.remove(),t.css={addClass:"fade-out"}),this._timer=null},e)}}}},lefticon:new n({icon:"warning"}),txt:{title:{text:""},subtitle:{text:{val:"",defer:function(e){this._caller.display=this._val?"block":"none",e()}}}},"events.click":function(){var e=this.checkParent("on.notification",!0).from;e.val=!1},righticon:new n({icon:"close",events:{click:function(e){e.prevent=!0;var t=this.checkParent("on.notification",!0).from;t.val=!1}}})}).Class;t.exports=new o({css:"first-notification",y:{val:-40,iosFull:-64},iosFull:{},on:{notification:{defer:function(e,t){var s,n=this._parent._caller,r=this.from,o=r.val;if("appUpgrade"===o&&!a["native"])return void e();if(t[0]===!1){var u=n.node.childNodes[n.node.childNodes.length-1].base;u.css={addClass:"fade-out"},u._timer=setTimeout(function(){n.remove()},500)}else{s=r.type,s&&"api"!==s&&(o=s,r.type=null);var p=l[o]&&l[o].duration||i.timeout;n.transition={element:c,$params:l[o]||{txt:{title:{text:o}}},$options:{force:!0,duration:p}},this._timer&&(clearTimeout(this._timer),this._timer=null),setTimeout(function(){r.val===o&&(r.val=!1),this._timer=null},p)}e()}}},onTransition:function(e,t,s,n){this.add(e),e.duration=n.duration,t&&(t.css={addClass:"fade-out"})}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./config":"/Users/shawn/Work/mtv-play/components/first/notification/config.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/notification/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher":"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/notification/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/overview/index.js":[function(e,t,s){e("./style.less");var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element")),r=(e("../../icon"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/properties/collection/display"),e("../../text/search"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util"),e("./item"));e("../../img");t.exports=s=new n({css:"first-overview","touch.scrollbar":"y",x:{translate:!0}}).Class,s.Items=new n({pageheader:{}}).Class,s.Item=r},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../text/search":"/Users/shawn/Work/mtv-play/components/text/search.js","./item":"/Users/shawn/Work/mtv-play/components/first/overview/item.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/overview/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/properties/collection/display":"/Users/shawn/Work/vigour-js/browser/element/properties/collection/display.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js"}],"/Users/shawn/Work/mtv-play/components/first/overview/item.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("../../icon"),i=e("../../img"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=e("../../epg_temp"),c=e("../../item"),u=e("../../player/seekbar"),p=(c.TitleSubtitle,l.clockTime),d=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),h=a.touch?new c.Thumb({display:"table"}):new c.Large({display:"inline-block"});if(a.slow||((a.touch?h.thumb.img:h.thumb).background={load:function(e){e.opacity=1}}),t.exports=s=h.set({events:{active:"ui-item-clicked"}}).Class,!a.touch){var v=d.get("text.noEPG");s.Tv=new r({css:"ui-item-large tv",display:"inline-block",thumb:new i.Overlay({w:310,h:221,access:new o({on:{data:"id"},icon:{data:"access",transform:function(e,t){var s=n.util.access(t,this.data);return"playAlt"===s?"empty":s},listen:n.user.role}})}),info:{title:{css:"ui-item-text",text:{data:"title"}},"now.text.dictionary":"text.now",epg:{showtitle:{text:{data:"title"}},time:{text:{val:{data:"minutes_since_midnight",transform:p,add:[" - ",{data:"endtime",transform:p}]},transform:function(e,t){var s=this.data;return s&&s.val?t:v.val},listen:d}},bar:new u({w:{val:221,clear:!0},seek:{w:{val:221,multiply:{val:l.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"}},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.info.epg.data=l.now(t),this.model=!1)}},events:{click:function(){this.checkParent("on.media",!0).$userOrigin=this.data.from}}}).Class}},{"../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../../player/seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/overview/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/overview/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/seasons/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("../../icon"),o=e("../../img"),i=e("../../text"),a=e("../favourite"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),u="dropDownEventId",p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),d=p.get("text.season"),h=p.get("text.episode"),v=p.get("text.min"),m=p.get("text.specials"),f=new n({collection:{data:"season.episodes",filter:!0,element:new n({model:function(e){var t=e._contentPath;t&&!~t.indexOf("channels")&&(this.holder.thumb.cover.data=l.user.usage.from.get(t),this.model=!1)},holder:{crawler:{node:"a",href:{data:function(e){return l.user.$parse(e).url||""}},attr:{onclick:"return false"}},thumb:{w:100,img:new o({w:100,h:75}),cover:{y:c.desktop?-75:-5,h:c.desktop?75:5,model:{inherit:!1},desktop:{percentage:{text:{data:"time",transform:function(e,t){var s=Math.floor(100*t);return s?Math.abs(s)+"%":""}}}},bar:{w:{data:"time",transform:function(e,t){return isNaN(t)?0:100*Math.abs(t)}}}}},txt:{title:new i.Title,subtitle:{text:{data:"number",transform:function(e,t){return t>9e3?"":h.val+" "+t+" - "},add:{data:"duration",transform:function(e,t){return t?~~(t/60)+" "+v.val:""},listen:p}}}},righticon:new r({on:{data:"id"},icon:{data:"access",transform:function(e,t){var s=l.util.access(t,this.data),n="playAlt"===s?c.desktop?"empty":"arrowright":s;return"lockedContent"===n?"lockedContentAlt":n},listen:[l.user.role,l.user.purchases]}})},border:{},"events.click":function(){l.user.navigation.media.$userOrigin=this.data.from}})}}).Class;t.exports=new n({on:{media:{defer:function(e,t){var s=l.user.navigation.media.from.val;if(s){var n=this._parent._caller,r=n.list.find("data",s);r&&!r.css.val&&(n.prev&&(n.prev.css=!1),r.css="current",n.prev=r)}e()}}},title:{text:{val:{dictionary:"text.episodes"},tablet:{data:"show.title"}}},tablet:{favourite:new a},list:{tablet:{scrollbar:"y",h:{val:l.h,sub:{val:99,iosFull:119}}},eps:new f({display:{val:!0,transform:function(e,t){return t===!1?"none":"block"}},model:{complete:function(e){this.parent&&this.parent.parent.on.media._update()}}}),extrasHeader:{display:{data:"season.extras",transform:function(e,t){return t&&t[0]?"block":"none"}},text:{dictionary:"text.extras"}},extras:new f({collection:{data:"season.extras"}})},dropdown:{h:30,on:{$remove:{defer:function(e){l.removeEvent(!1,u),e()}}},current:{text:{data:"season.number",transform:function(e,t){return 9e3!==t?d.val+" "+t:m.val},listen:p},caret:new r({icon:"dropdown"})},collection:{data:"show.seasons",filter:!0,element:new n({crawler:{node:"a",attr:{onclick:"return false"},href:{data:function(e){return"shows/"+e._parent._parent._name+"/"+e.number+"/1"||""}},attr:{onclick:"return false"}},text:{data:"number",transform:function(e,t){return 9e3!==t?d.val+" "+t:m.val},listen:p},"events.click":function(){var e=this.data.from;l.user.navigation.season.$userOrigin=e,e.get("episodes")}})},"events.click":function(){var e=this.children.length,t=this;30===this.h.val&&e>2?(this.h=30*e+4,l.addEvent("click",function(){t.h&&(t.h=30),l.removeEvent(!1,u)},u)):this.h=30},"model.complete":function(){this.children.length<=2?this.css={addClass:"inactive"}:this.css={removeClass:"inactive"}}},model:function(e){e.media&&(this.model=!1)}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","../favourite":"/Users/shawn/Work/mtv-play/components/first/favourite/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/seasons/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/seasons/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/show/cover.js":[function(e,t,s){e("./style.less");var n=e("../../img"),r=(e("../../text").TitleSubtitle,e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("./switcher"),e("../favourite")),o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),new n({background:{data:"show.img"},h:{val:220,ios:{animation:{time:24,easing:"outCubic"}}},w:{parent:"w"},info:{position:"absolute",y:{translate:!0},opacity:{parent:"h",transform:function(e,t){return 440/t-1}},box:{star:new r,description:{model:{subscription:{description:!0}},text:{data:"show.description",transform:function(e,t){if(!t.length)return t;var s=t.slice(0,300),n=Math.max(Math.max(s.lastIndexOf("."),s.lastIndexOf("!")),s.lastIndexOf("?"));return~n?s.slice(0,n+1):s+".."}}}}}}).Class);t.exports=s=o},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js",
"../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","../favourite":"/Users/shawn/Work/mtv-play/components/first/favourite/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/show/style.less","./switcher":"/Users/shawn/Work/mtv-play/components/first/show/switcher.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/show/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");if(n.phone){var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("./switcher"),i=(e("./list"),e("./cover")),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events"),n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),c=(a.document,e("../overview/item"),e("../favourite")),u=(e("../../player"),new r({css:"show",x:{translate:!0},model:function(e){if(e.show){var t=e.show._cachedPath;t&&(s.state&&s.state.path===t&&this.set(s.state.params),this.model=!1)}},on:{$remove:{defer:function(e){var t=this._parent._caller;s.state={path:t.data.show&&t.data.show._cachedPath,params:{cover:{h:t.cover.h.val},switcher:{y:t.switcher.y.val}}},e()}},season:{defer:function(e){var t=this._parent._caller,s=this._val.from;o.set(t.switcher,s._parent,s._name),e()}}},phone:{cover:new i},desktop:{header:{css:"ui-header",append:new r({text:{data:"title"},display:"inline"}),star:c}},switcher:new o({w:l.w}),events:{down:n.ios?function(e){var t=this,s=t.cover,n="seasonmove",r=s.h.val,i=this.switcher._currentList,l=i.node.scrollTop>1;t._y=e.y,s.h._p=!0,t.addEvent("move",function(e){var n=e.y,i=e.x,c=t._y-n,u=!r&&c>0||l;!o.block&&!l&&Math.abs(t._x-i)<Math.abs(c)&&(a.click.block=!0,s.h=s.h.val-c),u||e.preventDefault(),t._y=n,t._x=i},n),t.addEvent("up",function(){a.click.block=!1,s.h._p=!1,s.h=s.h.val>110?220:0,t._y=null,t._x=null,t.removeEvent(!1,n)},n)}:n.slow?function(e){function t(){a.click.block=!1,r.y._p=!1,s._y=null,s._x=null,s.removeEvent(!1,n)}var s=this,n=(s.cover,"seasonmove"),r=this.switcher,i=-220!==r.y.val,l=r._currentList,c=l.node.style,u=l.node.scrollTop>1;s._y=e.y,r.y._p=!0,s.addEvent("move",function(e){var n=e.y,l=e.x,p=s._y-n,d=!i&&p>0||u;!o.block&&!u&&Math.abs(s._x-l)<Math.abs(p)&&(a.click.block=!0,p>0?r.y.val=-220:r.y=0,t()),d?c.overflow="scroll":(c.overflow="hidden",e.preventDefault()),s._y=n,s._x=l},n),s.addEvent("up",t,n)}:function(e){var t,s=this,n=(s.cover,"seasonmove"),r=this.switcher,i=-220!==r.y.val,l=r._currentList,c=l.node.scrollTop>1;s._y=e.y,r.y._p=!0,s.addEvent("move",function(e){var n=e.y,l=e.x,u=s._y-n,p=!i&&u>0||c;!o.block&&!c&&Math.abs(s._x-l)<Math.abs(u)&&(a.click.block=!0,t=r.y.val-u,r.y=Math.min(Math.max(t,-220),0)),p||e.preventDefault(),s._y=n,s._x=l},n),s.addEvent("up",function(){a.click.block=!1,r.y._p=!1,r.y=r.y.val<-110?-220:0,s._y=null,s._x=null,s.removeEvent(!1,n)},n)}}}));t.exports=s=u.Class}else t.exports=e("../watch")},{"../../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../favourite":"/Users/shawn/Work/mtv-play/components/first/favourite/index.js","../overview/item":"/Users/shawn/Work/mtv-play/components/first/overview/item.js","../watch":"/Users/shawn/Work/mtv-play/components/first/watch/index.js","./cover":"/Users/shawn/Work/mtv-play/components/first/show/cover.js","./list":"/Users/shawn/Work/mtv-play/components/first/show/list.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/show/style.less","./switcher":"/Users/shawn/Work/mtv-play/components/first/show/switcher.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events":"/Users/shawn/Work/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/components/first/show/list.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=e("../../img").Basic,a=e("../../item").Indicator,l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),c=new r({collection:{data:"episodes",filter:!0,element:new a({model:function(e){var t=e._contentPath;t&&(this.thumb.bar.w=o.user.usage.from.get(t.concat(["time"])),this.model=!1)},thumb:{img:new i({w:70,h:45}),bar:{w:{transform:function(e,t){return isNaN(t)?0:70*Math.abs(t)}}}},txt:{"subtitle.text.data":{val:function(e){var t,s="";return(t=e.number&&e.number.val)&&9e3>=t&&(s+=l.get("text.episode").val+" "+t),e.duration?(s&&(s+=" - "),s+=Math.round(e.duration.val/60)+" "+l.get("text.min").val):void 0},listen:["number","duration"]}},events:{active:!n.desktop&&"ui-item-clicked",click:function(){s.block||(this.checkParent("on.media",!0).$userOrigin=this.data.from)}}})},model:{complete:function(){var e=this.parent;if(s.state){var t=this.data&&this.data._cachedPath;t&&(s.state.path===t&&(e._scrollTop=s.state.scrollTop,e.node.scrollTop=s.state.scrollTop||1),s.state=null)}else e&&n.touch&&(e.node.scrollTop=1);this.model=!1}}}).Class,u=new r({eps:new c,extrasHeader:{display:{data:"extras",transform:function(e,t){return t&&t[0]?"block":"none"}},text:{dictionary:"text.extras"}},extras:new c({collection:{data:"extras"}})}),p=new r({css:"list",scroller:u,on:{$render:{defer:function(e){var t=this._parent._caller;t.node.scrollTop=t._scrollTop||n.touch&&1,e()}}},h:{val:o.h,sub:{val:89,iosFull:109}},scrollbar:"y",model:{inherit:!1}});t.exports=s=p.Class},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../item":"/Users/shawn/Work/mtv-play/components/item/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/show/seasons.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element")),r=(e("../../icon"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/")),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),i=o.get("text.season"),a=o.get("text.specials"),l=new n({text:{data:"number",transform:function(e,t){return 9e3!==t?i.val+" "+t:a.val},listen:o}}).Class;t.exports=new n({items:{collection:{data:"show.seasons",filter:!0,element:new l({node:"a","events.click":function(){this.checkParent("on.season",!0).$userOrigin=this.data.from}})}},x:{translate:!0,parent:"w",multiply:0,"!slow":{animation:{time:Math.min(r.w.val/14,32),easing:"outCubic"}}},highlight:{x:{translate:!0}}})},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events":"/Users/shawn/Work/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/components/first/show/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/show/switcher.js":[function(e,t,s){function n(){s.block=!1;var e=this.parent,t=e.parent.data.show.seasons,n=this._current||(this._current=0),r=this._keys||(this._keys=t.keys);if(r&&t){var o=this._l||(this._l=r.length),i=this.children,a=i[n-1],l=i[n+1];o>n&&!l&&(l=new d,this.add(l)),a&&!a.data&&(a.data=t[n-1]),l&&!l.data&&(l.data=t[n+1])}}function r(e,t){var n=Math.abs(t.x)>Math.abs(t.y);return n&&(s.block=!0),n}function o(e,t){var s=this.parent,n=s.seasons,r=this._l||this._keys.length,o=t.x,i=o/(r-1)/(3/(r-3))+this._start,a=this.x.val,l=this._current,c=this._focus||0,u=120;if(r>3&&0>a&&a>this._max&&(n.x={_e:i}),-u>o&&l!==r-1?l+=1:o>u&&0!==l&&(l-=1),c!==l){var p=n.items.children,d=s.w.val/3;n.highlight.x=d*l,p[c].css="",p[l].css="focus",this._focus=l}}function i(e,t,s){var n,r=this.parent.seasons,o=120,i=3,a=-this._current,l=this._keys.length,c=t.x||t,u=s.x||s;Math.abs(u)>i?(0>u&&!(c>o)&&(n=Math.max(a-1,-l+1)),u>0&&!(-o>c)&&(n=Math.min(a+1,0))):(-o>c&&(n=Math.max(a-1,-l+1)),c>o&&(n=Math.min(a+1,0))),void 0!==this.x._e?this.x={_esub:this.x._e.val}:void 0!==r.x._e&&(r.x={_esub:r.x._e.val}),void 0!==n&&(this.checkParent("switcher.on.season",!0).$userOrigin=r.items.children[-n].data.from)}e("./style.less");var a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events"),p=u.document,d=e("./list"),h=e("./seasons"),v=new a({on:{$remove:{defer:function(e){var t=this._parent._caller,n=t._currentList;d.state={path:n.data._cachedPath,scrollTop:n.node.scrollTop},s.block=!1,e()}}},y:{translate:!0,"!ios":{"!slow":{animation:{time:24,easing:"outCubic"}}}},touch:{line:{}},seasons:h,roll:{w:{parent:"w"},x:{translate:!0,parent:"w",multiply:0,"!slow":{animation:{time:Math.min(l.w.val/14,32),easing:"outCubic",init:function(){s.block=!0},complete:n}}},events:c.touch&&c.slow&&{down:function(e){var t,s=e.x,n=s,r=s,o=e.y,a="swipe",l=this;p.addEvent("move",function(e){s=e.x,t=s-n,n=s,t&&(u.click.block=!0)},a),p.addEvent("up",function(e){var s=e.x-r;u.click.block=!1,Math.abs(s)>Math.abs(o-e.y)&&i.call(l,e,s,t),p.removeEvent(!1,a)},a)}}},model:function(e){if(e=e.show&&e.show.seasons){var t=e.keys,n=t.length;n&&n!==this._l&&(this._keys=t,this._l=n,s.set(this,e))}},events:c.touch&&!c.slow&&{grab:{x:!0,bind:function(){return this.roll},down:function(){if(this._keys){var e=this.parent.seasons.x._e,t=this._keys.length;this._start=e?e.val:0,this._max=-l.w.val*(t-1)}},pass:r,move:o,up:i}}});t.exports=s=v.Class,s.set=function(e,t,s){for(var r=0|s,o=e.roll,i=o.children.length-1,a=e._keys||(e._keys=t.keys),l=e._l||(e._l=a.length),u=o._current,p=-r,h=e.seasons,v=h.items,m=v.children[c.desktop?r+1:r];r>i++;)o.add(new d);var f=o.children[r];if(void 0!==u){var g=v.children[c.desktop?u+1:u];h.x._p=!1,l>3&&(h.x={multiply:p/(l-1)/(3/(l-3))}),g&&(g.css=""),e.parent.x.val?o.x.preventSet({multiply:p}):o.x={multiply:p}}else l>3&&(h.x._p=!0,h.x={multiply:p/(l-1)/(3/(l-3))},h.x._p=!1),o.x.preventSet({multiply:p});e._current=o._current=r,e._currentList=f,e._keys=o._keys=a,c.touch&&(h.highlight.x=o.w.val/3*r),f.data||(f.data=t[r]),n.call(o),m&&(m.css="focus",c.desktop&&(v.current.data=m.data))}},{"./list":"/Users/shawn/Work/mtv-play/components/first/show/list.js","./seasons":"/Users/shawn/Work/mtv-play/components/first/show/seasons.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/show/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events":"/Users/shawn/Work/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/components/first/shows/index.js":[function(e,t,s){function n(e,t){var s=t&&t.keys,n="block"===e._parent._parent._val;return s&&s.length&&n?"block":"none"}function r(e,t,s,n){var r=e/t,o=s/t,i=n.length,a=Math.round(i*o),l=a+Math.round(i*r);return 0>a&&(l+=-a,a=0),n.slice(a,l).join(".")}var o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("../overview")),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),a=e("../../icon"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/properties/collection/display"),c=(e("../../player"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),new o.Items({pageheader:{text:{dictionary:"text.nav.shows",touch:"a - z"}},collection:{data:"shows",filter:{condition:{title:{$contains:""}},sort:"title"},option:l,element:new o.Item({"events.click":function(){this.checkParent("on.show",!0).$userOrigin=this.data.from}})},model:{subscription:{$:{$:!0}}}})),u=new o.Items({pageheader:{"text.dictionary":"text.favorites"},collection:{data:"favourites",option:l,element:new o.Item({desktop:{css:{addClass:"favo-item"},thumb:{w:{sub:15,multiply:.5},h:{self:"w",divide:4/3}},info:!1},"events.click":function(){this.checkParent("on.show",!0).$userOrigin=this.data.from}})},"!touch":{display:{val:"block",transform:{data:"favourites",transform:n}}},touch:{pageheader:{display:{val:"block",transform:{data:"favourites",transform:n}}},message:new a({icon:"favoriteadd","text.dictionary":"text.noFavos",display:{data:"favourites",transform:function(e,t){var s=t&&t.keys&&t.keys.length;return s?"none":"block"}}})}});t.exports=new o({search:e("../../text/search"),on:{$render:{defer:function(e){var t=this._parent._caller;i.desktop?(t._parent=t.parent).addEvent("scroll",function(){},"overviewScroll"):window.requestAnimationFrame(function(){t._node&&(t.node.scrollTop=s.scrollTop||i.touch&&1,t.events.scroll._val.call(t,!1))}),t.set({on:{connect:i.$hasReceiver}}),e()}},$remove:i.desktop&&{defer:function(e){var t=this._parent._caller;t._parent.removeEvent(!1,"overviewScroll"),e()}},connect:{defer:function(e){var t=this._parent._caller;t.events.scroll._val.call(t,!1),e()}}},favos:u,items:c,events:{scroll:function(e){var t=this.node.scrollTop;if(e!==!1&&(s.scrollTop=t),i.$hasReceiver.val&&this&&this.items){var n=this.items.children,o=n.length;if(void 0===this._k||this._l!==o){for(var a=[],l=n.length-1;l>=0;l--){var c=n[l].data;c&&a.unshift(c._name)}this._k=a,this._h=this.node.offsetHeight,this._s=n[1]&&n[1].node.offsetTop,this._sh=this.node.scrollHeight-this._s,this._l=o}var u=this._h,p=this._s,d=this._sh,h=this._k;p>t&&(u-=p-t),this.data.highlight.$userOrigin=r(u,d,t-p,h)}}},model:{complete:function(){this.model={complete:null},this.node.scrollTop=s.scrollTop||i.touch&&1,this.events.scroll._val.call(this,!1)}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../../text/search":"/Users/shawn/Work/mtv-play/components/text/search.js","../overview":"/Users/shawn/Work/mtv-play/components/first/overview/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/properties/collection/display":"/Users/shawn/Work/vigour-js/browser/element/properties/collection/display.js"}],"/Users/shawn/Work/mtv-play/components/first/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/switcher/index.js":[function(e,t,s){function n(e){var t=this._parent,s=t.ms._val,n=c.$isReceiver.val?s.media.$userOrigin.val:t.media.$userOrigin.val;t._caller.transition={element:d.getElement(),$params:d.getParams(t.media,n,!0)},o.state.video={val:n.from},e()}function r(){var e=this.previous;this.current;if(e){if("page"===e)return void(this.on.page.$userOrigin=this.on.page.val||("show"===this.current||"episode"===this.current)&&"shows"||"channel"===this.current&&"channels"||"discover");if(this.on[e]){var t=this.on[e].from,s=this.on.media.from;if("navigation"===t._parent._name&&("show"===e&&"navigation"!==s._parent._name?(t=s._parent._parent._parent._parent,"show"!==t._name&&(t=null)):t=null),t)return void(this.on[e].$userOrigin=t)}}this.on.page.$userOrigin="string"==typeof this.on.page.val?this.on.page.val:"discover"}e("./style.less");var o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher/transitions"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),u=e("../../icon"),p=e("./page"),d=e("./media"),h=e("./show");t.exports=s=new a({css:"first-switcher",desktop:{scrollbar:{val:o.w,transform:function(e,t){return 1300>t||"y"}},transition:{defer:function(e){this._caller.node.scrollTop=0,e()}}},on:{page:{defer:function(){(c.$isFullscreen.val?n:p).apply(this,arguments)}},show:{defer:function(){(c.$isFullscreen.val?n:h).apply(this,arguments)}},season:{defer:function(e,t){t[0]&&this._parent.show._update(),e()}},media:{defer:function(){(c.$isFullscreen.val?n:d).apply(this,arguments)}}},onTransition:{val:"fade",touch:"slide"},backFallback:r,loader:new i({css:"first-loader",x:{translate:!0},loadicon:new u({icon:"logo"})})}).inject(l).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./media":"/Users/shawn/Work/mtv-play/components/first/switcher/media.js","./page":"/Users/shawn/Work/mtv-play/components/first/switcher/page.js","./show":"/Users/shawn/Work/mtv-play/components/first/switcher/show.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/switcher/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher":"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher/transitions":"/Users/shawn/Work/vigour-js/app/ui/switcher/transitions.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/switcher/media.js":[function(e,t,s){var n,r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=s=function(e){var t=this._parent._caller,n=this.$userOrigin.val||(n=this.$userOrigin.val=this.from);if(!s.isEpisode(n)){var r,i,a=n.from._path,l=a.indexOf("seasons");~l&&(r=a.lastIndexOf("channels"),i=a.slice(r,l),n=this.$userOrigin.val=o.content.get(i))}t.transition={element:s.getElement(),direction:s.getDirection(t,n),$params:s.getParams(this,n),$options:s.getOptions(n)},s.setStatus(t,n),e()},s.isEpisode=function(e){return!~e._contentPath.indexOf("channels")},s.getDirection=function(e,t){var n=e.current;return s.isEpisode(t)?"episode"!==n?1:0:"channel"!==n?1:0},s.getElement=function(){return n||(n=e("../watch"))},s.getOptions=function(e){var t=s.isEpisode(e)&&e._parent._parent,n=r.tablet&&t&&t.from,o=e.from,i=n||o;return i?{loader:i}:void 0},s.getParams=function(e,t,n){var i,a=e._parent,l=a.usage,c=a.ms._val.media.$userOrigin,u=s.isEpisode(t),p={media:t,volume:a.volume.from,msmedia:c};if(u){var d=t._parent._parent;n?p.season=d:(r.phone?a.season.$userOrigin.val=d:a.season.$userOrigin=d,p.season=a.season.$userOrigin),p.show=i=o.user.navigation.show.$userOrigin.val=d._parent._parent,p.showusage=l.from.get(i.from._contentPath),p.mediausage=l.from.get(t.from._contentPath,{time:0})}r.$isOnChannel.val=!u;var h={media:{player:{on:{msmedia:c,media:t}}},on:{channel:{val:r.$isOnChannel,listen:t},resize:r.tablet&&o.w},data:p};return h},s.setStatus=function(e,t){var n,o=e.current,i=s.isEpisode(t);n=r.phone&&i?"page"===o?o:"show":"page",e.previous=n,e.current=i?"episode":"channel"}},{"../watch":"/Users/shawn/Work/mtv-play/components/first/watch/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/switcher/page.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");t.exports=function(t){var r,o,i=this.$userOrigin.val,a=this._parent,l=a._caller,c=a.content.from;i&&("discover"===i?(void 0===s[i]&&(s[i]=e("../discover")),o={marquee:c.get("marquee.list"),recommended:c.get("recommended.list"),releases:r=c.get("releases.list"),watched:a.watched.from,free:c.get("free.list"),channels:c.get("channels"),scroll:a.scroll.from,carousel:a.carousel.from}):"shows"===i?(void 0===s[i]&&(s[i]=e("../shows")),o={shows:r=c.get("shows"),favourites:a.favourites.from,search:a.search._val,highlight:a.highlight.from}):"channels"===i&&(void 0===s[i]&&(s[i]=e("../channels")),o={channels:r=c.get("channels")}),l.transition={element:s[i],$params:{data:o},$options:{loader:n.tablet&&"page"===l.current&&l._last!==i?!0:r&&r.from,animation:!(n.tablet&&"page"===l.current),delay:n.tablet&&"page"===l.current&&350},direction:"page"!==l.current&&-1},l.current="page",l._last=i),t()}},{"../channels":"/Users/shawn/Work/mtv-play/components/first/channels/index.js","../discover":"/Users/shawn/Work/mtv-play/components/first/discover/index.js","../shows":"/Users/shawn/Work/mtv-play/components/first/shows/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/switcher/show.js":[function(e,t,s){var n,r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),e("./media");r.phone?(t.exports=s=function(e){var t=this._parent,n=t._caller,r=this.$userOrigin.val;n.transition={element:s.getElement(),$params:s.getParams(this,r),$options:s.getOptions(this,r),direction:s.getDirection(n,r)},t.season.$userOrigin._update(),n.previous="page",n.current="show",e()},s.getDirection=function(e,t){var s=e.current;return"page"===s?1:"episode"===s&&-1},s.getElement=function(){return n||(n=e("../show"))},s.getOptions=function(e,t){var s=e._parent.season.from;t.from;return{loader:s}},s.getParams=function(e,t){var s,n=e._parent,r=t._name,o=n.season,i=n.usage;return o.$userOrigin.val&&o.from.checkParent("_name",r)||(o.$userOrigin.val=t.from.get("seasons.0")),s={on:{season:o.$userOrigin,show:t},data:{show:t,showusage:i.from.get(t.from._contentPath)}}}):t.exports=function(e){var t=this.$userOrigin.val,s=t._name,n=this._parent.season,r=n.from._parent._parent===t.from&&n.from._name,o=this._parent,i=o.media;if(i.from.checkParent("_name",s)&&i.$userOrigin.val)i._update(),e();else{r=!r||isNaN(r)?0:r,n=t.get("seasons."+r),n.subscribe({episodes:{0:{title:!0}}}),n.subscribe({episodes:!0});var a=n.get("episodes");a.is("loaded",function(){n.unsubscribe({episodes:{0:{title:!0}}}),n.unsubscribe({episodes:!0}),i.from.checkParent("_name",s)&&i.$userOrigin.val||(i.$userOrigin=a.val?a.get("0"):n.get("extras.0")),e()})}}},{"../show":"/Users/shawn/Work/mtv-play/components/first/show/index.js","./media":"/Users/shawn/Work/mtv-play/components/first/switcher/media.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/switcher/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/tv/grid.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("../../img"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=new r({css:"tv-grid-item",h:{val:o.h,divide:3},w:{self:"h",multiply:4/3},display:"inline-block"}).Class,a=new i({w:{self:"h",multiply:8/3,add:{val:o.w.val,multiply:.016}}}).Class,l=new n({category:{text:"this is the field",h:{val:o.h,divide:3},w:{self:"h",multiply:5/6},css:"tv-grid-category"},display:{data:function(e){return 0===e.length?"none":"block"}},events:{arrowUp:function(){this.$prev.val&&this.$prev.val.$focus()},arrowDown:function(){this.$next.val&&this.$next.val.$focus()},arrowRight:function(){o.focusState.prev=this._name,o.focusState.from.val="row"},click:function(){this.events.arrowRight._val.call(this)},arrowLeft:function(){this.checkParent("sidemenu",!0);o.focusState.val="menu"},back:function(e){e.preventDefault(),o.focusState.val="menu"},$focus:function(e){var t,s=this.category,n=s.node,r=this.parent,i=o.h.val,a=i-80,l=i/5;o.focusState.prev=this._name,s.css=e?"tv-grid-category current":"tv-grid-category",e&&(t=n.getBoundingClientRect(),t.bottom>a?r.y=r.y.val-(t.bottom-a):t.top<l&&(r.y=r.y.val+(l-t.top)),r.y._p=null)}},css:"tv-row",collection:{data:!0,element:i}}).Class;t.exports=s=new n({css:"tv-grid",y:{val:o.h.val/5,animation:{easing:"outCubic",time:18}},on:{$new:{defer:function(e){this._parent._caller.y._p=!0,e()}},focusState:{defer:function(e,t){var s=this;if("grid"===s.from.val){var n=s._parent;if(n){var r=n.focusState.from.prev,i=n._caller,a=r&&i[r]||i.children[0];a.$focus()}}else"row"===s.from.val&&o.user.updateNavigation();e()}},$parent:{defer:function(e,t){var s,n,r=this._parent._caller;if(r&&r.data){for(var o in r.data){var c=o;o="$$"+o,r[o]||(n||(n={}),"marquee"===o?n[o]=new l({"category.text":c.length>2?{dictionary:"text."+c}:c,bigItem:new a({data:r.data[c].get(0)}),item:new i({data:r.data[c].get(1)})}):n[o]=new l({"category.text":c.length>2?{dictionary:"text."+c}:c,data:r.data[c]}),s||(s=o))}s&&(r.set(n),this._parent.focusState._update())}e()}}}}).Class;s.Row=l,s.Item=i},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/tv/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/index.js":[function(e,t,s){function n(e,t){return Math.ceil(e/t)*t}var r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/")),o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher")),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher/transitions"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),l=e("./message"),c=(e("../../icon"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events")),u=new l({css:{addClass:"tv-signin"},container:{holder:{title:{text:{dictionary:"text.login.tvTitle"}},subtitle:{text:{dictionary:"text.login.tvSubtitle"}},bottomimage:{}}}}).Class,p=new l({css:{addClass:"tv-roadblock"},container:{holder:{topimage:{},title:{text:{dictionary:"text.login.tvTitle"}},subtitle:{text:{dictionary:"text.login.tvSubtitle"}},bottomimage:{}}},events:{$focus:function(){}}}).Class;t.exports=s=new o({css:"first-switcher ui-img",x:{val:r.w,multiply:.2,animation:{easing:"outCubic",time:18}},w:{val:r.w},onTransition:"fade",desktop:{scrollbar:"y"},on:{page:{defer:e("./page")},show:{defer:e("./show")},media:{defer:function(e,t){this._parent.show.update(),e()}},signin:{defer:function(e,t){var s=this._parent._caller;s.transition={element:u},e()}},roadblock:{defer:function(e,t){if(this._val){var s=this,n=this._parent._caller,r=c.$focused.val,o=new p({events:{click:function(){this.events.back._val.call(this)},back:function(){r.$focus(),s.val=!1,this.remove()}}});n.parent.set({roadblock:o}),o.$focus()}e()}}},background:{data:"img",transform:function(e,t){if(!t)return" ";var s=Math.ceil((this.w||this.checkParent("w",!0)).val)||r.w.val,o=Math.ceil((this.h||this.checkParent("h",!0)).val)||r.h.val;return s=n(s,100),o=n(o,100),a.img+"/image/"+t+"/"+s+"/"+o+"?effect=overlayBlur&overlay=overlayDarkpurple3&radius="+(o/15.67|0)+"&sigma="+(o/20|0)},load:function(e){e&&(e.opacity=1)}}}).inject(i).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./message":"/Users/shawn/Work/mtv-play/components/first/tv/message.js","./page":"/Users/shawn/Work/mtv-play/components/first/tv/page.js","./show":"/Users/shawn/Work/mtv-play/components/first/tv/show.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher":"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher/transitions":"/Users/shawn/Work/vigour-js/app/ui/switcher/transitions.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events":"/Users/shawn/Work/vigour-js/browser/events/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/message.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element");t.exports=new n({css:"tv-message",container:{holder:{topimage:{}}}}).Class},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/page.js":[function(e,t,s){var n,r,o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("./grid")),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),a=e("./row/page"),l=e("./row/channel"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data").inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data/selection")),u="#abcdefghijklmnopqrstuvwxyz".split("");t.exports=s=function(e,t){function p(){s[h]&&s.stamp===t[1]&&(m.transition={element:s[h],$params:{data:d,on:{focusState:i.focusState}},$options:{force:!0},direction:"page"!==m.current&&-1},m.current="page")}var d,h=this.$userOrigin.val,v=this._parent,m=v._caller;if(m.x={multiply:"row"===i.focusState.val?0:.2},m.data=null,"discover"===h)s[h]="row"===i.focusState.val?a:o,d={spotlight:i.content.get("marquee.list"),free:i.content.get("free.list"),
recommended:i.content.get("recommended.list")};else if("shows"===h){if(s[h]="row"===i.focusState.val?a:o,!n){n={},r=new c(i.content.get("shows"),{subscription:{$:{title:!0,img:!0}},block:!0});for(var f=0,g=u.length;g>f;f++)n[u[f]]=new c(i.content.get("shows"),{sort:"title",block:!0,range:[0,5],condition:{title:{$contains:"#"===u[f]?"^\\d":"^["+u[f]+"]"}}})}d=n}else"channels"===h&&(s[h]=l,d=i.content.from.get("channels"));s.stamp=t[1],"shows"===h&&"row"!==i.focusState.val?i.content.get("shows").is(function(){return n.a.length>0&&n["#"].length>0&&n.g.length>3},p):p(),e()}},{"./grid":"/Users/shawn/Work/mtv-play/components/first/tv/grid.js","./row/channel":"/Users/shawn/Work/mtv-play/components/first/tv/row/channel.js","./row/page":"/Users/shawn/Work/mtv-play/components/first/tv/row/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data/selection":"/Users/shawn/Work/vigour-js/data/selection.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/channel.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/")),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),e("../../../epg_temp")),o=e("../../../player/seekbar"),i=r.clockTime,a=e("./item"),l=e("./elements"),c=new a({background:{gone:!1},information:{channeltitle:{css:"ui-item-text",text:{data:"title"}},now:{w:80,text:{dictionary:"text.now"}},epg:{w:{parent:"w",sub:110},showtitle:{text:{data:"title"}},time:{text:{data:"minutes_since_midnight",transform:i,add:[" - ",{data:"endtime",transform:i}]}},bar:new o({seek:{w:{val:r.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"},transform:function(e,t){return isNaN(parseInt(t))?0:100*t+"%"},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.information.epg.data=r.now(t),this.model=!1)}},events:{arrowRight:function(){var e=n.focusState.val;"row"===e||this.$prev.val&&this.$prev.val.cover?this.$next.val&&this.$next.val.$focus():n.focusState.val="row"},arrowLeft:function(){var e=n.focusState.val;"grid"===e?n.focusState.val="menu":this.$prev.val&&this.$prev.val.cover?this.$prev.val.$focus():n.focusState.val="grid"},back:function(e){e.preventDefault();var t=this.checkParent("rows",!0);t.x._p=!0,n.focusState.val="row"===n.focusState.val?"grid":"menu"},click:function(){if("lockedContent"===this.cover.icon.val){var e=this.checkParent("on.roadblock",!0);e&&(e.val=!0)}else n.user.navigation.media.$userOrigin.val=this.data.from,n.state.val={val:"player",video:this.data.from}}}}).Class;t.exports=s=new l.BasicRowView({css:{addClass:"tv-channels"},indicator:{display:{val:n.focusState,transform:function(e,t){return"row"===t?"block":"none"}},title:{text:{dictionary:"text.nav.channels"}}},rows:{css:"tv-row",collection:{element:c,data:!0}},on:{focusState:{defer:function(e,t){var s=this.from.val,n=this._parent._caller;"grid"===s?n.parent.x={multiply:.2}:"row"===s&&(n.parent.x={multiply:0}),n.rows&&n.rows.children[0]&&("menu"!==s||"$parent"!==t[0])&&n.rows.children[0].$focus(),e()}},$parent:{defer:function(e,t){this._parent.focusState._update("$parent"),e()}}}}).Class},{"../../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../../player/seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","./elements":"/Users/shawn/Work/mtv-play/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/mtv-play/components/first/tv/row/item.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/elements.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary");s.Indicator=new n({css:"tv-row-indicator",text:{data:!0,dictionary:function(e,t){return t?t instanceof Object&&t.number?{text:t.number&&t.number.val}:(t=String(t),t.length>2?"text."+t:{text:t}):void 0}},display:"inline-block"}).Class;var o=s.BasicRowView=new n({css:"tv-row-view",indicator:{title:{}},rows:{on:{$new:{defer:function(e){this._parent._caller.x._p=!0,e()}}},y:r.h.val/5,x:{val:0,animation:{easing:"outCubic",time:18}}}}).Class;s.RowView=new o({indicator:{list:{text:"",collection:{element:s.Indicator,data:!0,filter:!0}}},info:{on:{$remove:{defer:function(e){console.log("remove?");var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},opacity:{data:"description",transform:function(e,t){return t?(this.css="",1):(this.css="dontAnimate",0)}},title:{text:{data:"title"}},showsubtitle:{css:"subtitle",display:{data:"episodeCount",transform:function(e,t){return t?"block":"none"}},text:{val:{data:"seasonCount"},add:[" ",{dictionary:"text.seasons"}," ",{data:"episodeCount"}," ",{dictionary:"text.episodes"}]}},episodesubtitle:{css:"subtitle",display:{data:"duration",transform:function(e,t){return t?"block":"none"}},text:{data:"duration",transform:function(e,t){return~~(t/60)+" "},add:{dictionary:"text.min"}}},description:{text:{data:"description"}}}}).Class},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/item.js":[function(e,t,s){function n(e,t){t=t?this:this.parent;var s=t&&t.node.nextSibling;return s&&s.base?s.base.children[0]?s.base.children[0]:n.call(s.base,!1,!0):void 0}function r(e,t){t=t?this:this.parent;var s=t&&t.node.previousSibling;if(s&&s.base){var n=s.base.children[void 0===e?s.base.children.length-1:e];return n?n:r.call(s.base,e,!0)}}var o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("../../../img")),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),e("../../../icon"));t.exports=new o({on:{data:"link"},define:{$selectIndicator:function(e){var t=this.checkParent("indicator.list",!0),s=t&&t.find("data",e);s||(s=t&&t.find("data._val",e)),s&&t&&t._focused!==s&&(t._focused&&(t._focused.css="tv-row-indicator"),s.css="tv-row-indicator current",t._focused=s)},$focusCommon:function(e){var t,s,n,r=this.checkParent("rows",!0),o=r.parent,i=this.node,a=40,l=this,c=4;if(e){for(rect=i.getBoundingClientRect(),r.x=r.x.val+(a-rect.left)+o.parent.x.val,s=o.info,t=this.$prev.val;c--&&l;)l.background.gone.val&&(l.background={gone:!1}),l=l.$next.val;t&&t.background.gone&&t.background.gone.val&&(t.background={gone:!1}),s&&(n=this.data,s.data={},s._timer&&(clearTimeout(s._timer),s._timer=null),s._timer=setTimeout(function(){s.data=n,s._timer=null},500)),r.x._p=null}this.css=e?"tv-row-item current":"tv-row-item"}},css:"tv-row-item",h:{val:i.h,divide:3,multiply:1.25},w:{self:"h",multiply:4/3},background:{gone:!0},cover:new l({css:"ui-icon relative-size",icon:{data:"access",transform:function(e,t){return(1!==t||a.$isUpgraded.val)&&(2!==t||a.$isUpgraded.val)&&(3!==t||a.$isUpgraded.val&&3!==i.user.role.val)?"empty":"lockedContent"}}}),display:"inline-block",events:{click:function(e){var t=this.data&&this.data.from;if(t)if(t.link){var s,n=t.link.val.split("."),r="shows"===n[3],o="episodes"===n[n.length-2];o?(s=i.content.from.get(n.slice(3)),i.user.navigation.media.$userOrigin.val=s,i.state.val={val:"player",video:s}):r?i.user.navigation.show.$userOrigin=i.content.get(n.slice(3)):console.error("other type of link!")}else if("shows"===t._parent._name)i.user.navigation.show.$userOrigin=t;else if("episodes"===t._parent._name)if("lockedContent"===this.cover.icon.val){var a=this.checkParent("on.roadblock",!0);a&&(a.val=!0)}else i.user.navigation.media.$userOrigin.val=t,i.state.val={val:"player",video:t}},arrowRight:function(){this.$next.val&&this.$next.val.$focus()},arrowDown:function(){var e=r.call(this,0);e&&e.$focus()},arrowUp:function(){var e=n.call(this);e&&e.$focus()},$focus:function(e){var t,s,n=this.parent._name;n?t=n.slice(2):(n=this.data._parent._parent._name,t=this.data._parent._parent,s=!0),s||(i.focusState.prev=n),this.$selectIndicator(t),this.$focusCommon(e)}},"$next.transform":function(e,t){return t?void 0:n.call(this)},"$prev.transform":function(e,t){return t?void 0:r.call(this)}}).Class},{"../../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/page.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=(e("../../../img"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/")),o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),e("./item")),i=e("./elements"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data"),l=new n({css:"tv-row",collection:{data:!0,element:new o({events:{arrowLeft:function(){if(this.$prev.val)this.$prev.val.$focus();else{var e=r.focusState.from;e.val="grid"}},back:function(e){e.preventDefault(),r.focusState.val="grid"}}})}}).Class;t.exports=s=new i.RowView({"indicator.list.model.inherit":!1,on:{focusState:{defer:function(e,t){var s=this,n=s._parent;if("row"===s.from.val){if(n){var o=n.focusState.from.prev,i=n._caller.rows;if(i.children.length){var a=o&&i[o]&&i[o].children[0]||i.children[0].children[0];!a&&i.children[1]&&(a=i.children[1].children[0]),a&&!a._$focused&&a.$focus()}}}else"grid"===s.from.val&&r.user.updateNavigation();e()}},$parent:{defer:function(e,t){var s=this._parent._caller;if(s&&s.data&&this._cachedData!==s.data){this._cachedData=s.data;var n=new a([]),o=r.user.navigation.page.val,i={rows:{}};for(var c in s.data)s[c]||(i.rows["$$"+c]=new l({data:s.data[c]})),n.push(c);s.indicator.title.text={dictionary:"text.nav."+o},s.indicator.list.data=n,s.set(i),this._parent.focusState._update()}e()}}}}).Class},{"../../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./elements":"/Users/shawn/Work/mtv-play/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/mtv-play/components/first/tv/row/item.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/row/show.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),e("./item")),i=e("./elements"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf"),l=new n({css:"tv-row",collection:{data:"episodes",element:new o({events:{arrowLeft:function(){if(this.$prev.val)this.$prev.val.$focus();else{var e=r.focusState.from;this.parent&&this.parent.data._parent&&"seasons"===this.parent.data._parent._name&&(e._val="row",r.user.navigation.page.$userOrigin=r.user.navigation.page.val||"shows")}},back:function(){var e=r.focusState.from;e._val="row",r.user.navigation.page.$userOrigin=r.user.navigation.page.val||"shows"}}})}}).Class;t.exports=s=new i.RowView({indicator:{title:{text:{data:"title"}},list:{text:{dictionary:"text.season",add:" "},collection:{data:"seasons"}}},rows:{model:{subscription:{title:!0,seasons:{$:{number:!0,episodes:{$:{img:!0,title:!0}}}}},block:!0},collection:{element:l,data:"seasons"}},on:{$remove:{defer:function(e,t){this._deferRafid&&window.cancelAnimationFrame(this._deferRafid)}},$parent:{defer:function(e,t){var s=this._parent._caller;if(s._deferRafid&&window.cancelAnimationFrame(s._deferRafid),s&&s.data){r.user.navigation.page.val;"shows"===s.data._parent._name&&s.data.get("seasons").is("loaded",function(){s.rows&&s.rows.children[0]?s.rows.children[0].children[0].$focus():s._deferRafid=a(function(){s.rows&&s.rows.children[0]&&s.rows.children[0].children[0].$focus()})})}e()}}}}).Class},{"./elements":"/Users/shawn/Work/mtv-play/components/first/tv/row/elements.js","./item":"/Users/shawn/Work/mtv-play/components/first/tv/row/item.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/show.js":[function(e,t,s){var n;e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data").inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data/selection")),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=function(t,s){var r,o=this.$userOrigin,i=this._parent,a=i._caller,l={};if(a.x={multiply:0},o){a.data=o,n||(n=e("./row/show"));o.get("seasons");r=n,l=o.from}if(!r)throw t(!0),new Error("wrong tv - show.js , no element!");a.transition={element:r,$params:{data:l,info:{data:{}}},$options:{force:!0}},t()}},{"./row/show":"/Users/shawn/Work/mtv-play/components/first/tv/row/show.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data/selection":"/Users/shawn/Work/vigour-js/data/selection.js"}],"/Users/shawn/Work/mtv-play/components/first/tv/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/first/watch/index.js":[function(e,t,s){function n(e){var t=this._parent,s=t._caller,n=window.innerWidth,o=window.innerHeight,i=s.data,a="side";r=n>o,this.from.val&&(r?s[a]||(s.media[a]&&s.media[a].remove(),s.node.style.tableLayout="auto",s.add(new m({name:a,data:i}),"media"),s.media.info.set({display:"block",h:{val:c.h,sub:[p.base.h.val,{val:c.w,sub:400,multiply:9/16}]}}),t.channel._update()):s.media[a]||(s[a]&&s[a].remove(),s.media.add(new m({name:a,data:i}),"info"),s.node.style.tableLayout="fixed",s.media.info.set({display:"table-cell",h:{val:c.h,sub:[p.base.h.val,{val:c.w,sub:0,multiply:9/16}]}}),t.channel._update()),s.on.resize.val||s.set({on:{resize:c.w}}),e())}e("./style.less");var r,o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),i=e("../../icon"),a=e("../../player"),l=e("../favourite"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),u=e("../seasons"),p=e("../menu").Topbar,d=e("../../text"),h=e("../epg"),v=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),m=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher"),f=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),g=f.get("text.season"),w=f.get("text.specials");m=new m({onTransition:function(e,t){t&&t.remove(),this.add(e)}}).Class;var y=new o({touch:{scrollbar:"y"},phone:{h:c.h.val-p.base.h.val-9*c.w.val/16},header:{title:new d.Title({text:{data:"media.title"}})},description:new d.Description}).Class,k=(new y).Class,_=new y({header:{add:[new i({icon:"share",name:"share",events:{click:function(){var e=this.checkParent("on.popup",!0).from;e.data=this.checkParent("data",!0).media.from,e.val="share"}}}),"title"],subtitle:{text:{val:{data:"season.number",transform:function(e,t){return 9e3!==t?g.val+" ":w.val},listen:f},add:[" ",{data:"season.number",transform:function(e,t){return 9e3!==t?t:" "}}," ",{dictionary:"text.episode"}," ",{data:"media.number"}]}}}}).Class,j=new d.Title({text:{data:"media.title"}}).Class,b=new d.Title({text:{data:"show.title"},favourite:new l}).Class;t.exports=new o({css:"first-watch",x:{translate:!0},model:{subscription:{title:!0,number:!0,description:!0}},on:{channel:{val:!1,defer:function(e){var t=this._parent._caller,s=t.media.info,n=t.side||t.media.side,o=t.pageheader,i={},a=v.$isOnChannel.val;t.data&&(i.data=t.data,i.data.media=c.user.navigation.media),a===!1?(s.transition={element:_,$params:i},o&&(o.transition={element:b,$params:i}),n&&(i.on={media:c.user.navigation.media.$userOrigin},r||(i.list={h:{sub:{add:{val:c.w,divide:16/9}}}}),n.transition={element:u,$params:i},n.css="first-seasons seasons-only")):a===!0&&(v.phone&&(s.css="first-seasons first-epg"),s.transition={element:v.phone?h:k,$params:i},o&&(o.transition={element:j,$params:i}),n&&(r||(i.list={h:{sub:{add:{val:c.w,divide:16/9}}}}),n.transition={element:h,$params:i},n.css="first-seasons first-epg")),e()}},$render:{defer:function(e){var t=this._parent;v.tablet&&t.resize._update(),t.channel._update(),e()}}},tablet:{on:{resize:{defer:n}}},media:{player:new a.Holder,info:new m},desktop:{add:[new m({name:"pageheader"}),"media"],margin:{},side:new m}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","../epg":"/Users/shawn/Work/mtv-play/components/first/epg/index.js","../favourite":"/Users/shawn/Work/mtv-play/components/first/favourite/index.js","../menu":"/Users/shawn/Work/mtv-play/components/first/menu/index.js","../seasons":"/Users/shawn/Work/mtv-play/components/first/seasons/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/first/watch/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher":"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/first/watch/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/icon/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),new n({css:"ui-icon"})),o={discover:"",shows:"",tv:"",settings:"",cast:"",play:"",pause:"",fullscreen:"",pullback:"",swipeup:"",close:"",closesmall:"",dropdown:"",arrowright:"",search:"",cart:"",email:"",favorite:"",favoriteadd:"",favoriteremove:"",locked:"",logout:"",profile:"",share:"",arrowleft:"",exitfullscreen:"",right:"",wrong:"",logo:"",scan:"",facebook:"",twitter:"",phone:"",iphone:"",android:"",tablet:"",desktop:"",laptop:"",menu:"",leftnav:"",rightnav:"",noresult:"",volume:"",rewind:"",fastforward:"",disconnect:"",monster:"",lockedRight:"",watching:"",notWatched:"",airplay:"",gender:"",age:"",newsletter:"",warning:"",whatsapp:"",loader1:"",loader2:"",loader3:"",loader4:"",lockedContent:"",fullscreenAlt:"",exitfullscreenAlt:"",playAlt:"",pauseAlt:"",lockedContentAlt:"",empty:" "};r.extend({icon:function(e){var t="<span>"+(o[e.val]||"")+"</span>",s=this.node.innerHTML,n=s.indexOf("<div");~n&&(t+=s.slice(n)),this.html=t}}),t.exports=s=r.Class,s.map=o},{"./style.less":"/Users/shawn/Work/mtv-play/components/icon/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/icon/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(s,arguments)},{}],"/Users/shawn/Work/mtv-play/components/img/index.js":[function(e,t,s){function n(e,t,s){var n=t/e,r=Math.ceil(e/s)*s,o=Math.ceil(r*n);return{w:r,h:o}}e("./style.less");var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/frame"),new r),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),c=a.retina?2:1,u=l.imgOrigin;t.exports=s=new i.Class({opacity:{val:0},background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(t){var s,r=Math.ceil((this.w||this.checkParent("w",!0)).val)||o.w.val,i=Math.ceil((this.h||this.checkParent("h",!0)).val)||o.h.val,a=e._parent.range;return a&&(s=n(r,i,a.val),r=s.w,i=s.h),l.img+"/image/"+r*c+"/"+i*c+"?url="+u+t+"/original"}}},slow:{opacity:1,"background.load":null},css:"ui-img"}).Class,s.density=c,s.Basic=new r({css:"ui-img",background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){return t?l.img+"/image/"+this.w.val*c+"/"+this.h.val*c+"?url="+u+t+"/original":void 0}},opacity:{val:0},slow:{opacity:1,"background.load":null}}).Class,s.Relative=new r({css:"ui-img",background:{data:"img",load:function(e){e&&(e.opacity=1)},transform:function(e,t){if(!t)return"";var s,r,o=this.node,i=o.offsetWidth,a=this,p=e._parent.range;return i?(s=o.offsetHeight,p&&(r=n(i,s,p.val),i=r.w,s=r.h),l.img+"/image/"+i*c+"/"+s*c+"?url="+u+t+"/original"):(a.rafId||(a.rafId=window.requestAnimationFrame(function(){a.rendered&&a.background.update(a)})),"")}},opacity:{val:0},slow:{opacity:1,"background.load":null}}).Class,s.Carousel=new s.Relative({background:{transform:function(e,t){if(!t)return"";var s,r,o=this.node,i=o.offsetHeight,a=this,p=e._parent.range;return i?(s=Math.ceil(Math.min(o.offsetWidth,i/9*16)),p&&(r=n(s,i,p.val),s=r.w,i=r.h),l.img+"/image/"+s*c+"/"+i*c+"?url="+u+t+"/original"):(a.rafId||(a.rafId=window.requestAnimationFrame(function(){a.rendered&&a.background.update(a)})),"")}}}).Class,s.Overlay=new s({background:{transform:function(e,t){if(!t)return"";var s=Math.ceil((this.w||this.checkParent("w",!0)).val)||o.w.val,n=Math.ceil((this.h||this.checkParent("h",!0)).val)||o.h.val;return l.img+"/image/"+s*c+"/"+n*c+"?url="+u+t+"/original&effect=overlayBlur&overlay=overlay_lightest&radius=0&sigma=0"}}}).Class,s.Intro=new s({background:{transform:function(e,t){if(!t)return"";var s=this.node,n=s.offsetWidth,r=this;return n?l.img+"/image/"+n*c+"/"+s.offsetHeight*c+"?url=https://wwwmtvplay-a.akamaihd.net/img/intro/"+t:(r.rafId||(r.rafId=window.requestAnimationFrame(function(){r.rendered&&r.background.update(r)})),"")}}}).Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/img/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/frame":"/Users/shawn/Work/vigour-js/browser/animation/frame.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/img/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/item/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("../icon"),o=e("../img"),i=e("../text"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=(i.Input,e("../button").Switcher),c=i.Title,u=new i.TitleSubtitle({css:"ui-item-text"}).Class,p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");p.user;t.exports=s=new n({css:"ui-item"}).Class,s.Basic=new s({txt:new c}).Class,s.IconRight=new s.Basic({righticon:new r({icon:"arrowright"})}).Class,s.IconRightSub=new s.Basic({righticon:new r({icon:"arrowright"}),css:{addClass:"ui-item-sub"},txt:new u}).Class,s.IconLeft=new s({lefticon:new r({icon:{data:"icon"}}),txt:new c}).Class,s.Block=new s({left:{"title.text.dictionary":"text.all","subtitle.text.dictionary":"text.nav.shows"},center:{"title.text.dictionary":"text.all","subtitle.text.dictionary":"text.nav.channels"},right:{"title.text.dictionary":"text.every","subtitle.text.dictionary":"text.episode"},css:{addClass:"block"}}).Class,s.Menu=new s.IconLeft({h:55,css:{addClass:"ui-item-menu"},righticon:new r}).Class,s.Thumb=new s({thumb:{w:{val:100,phone:70},h:{val:71,phone:45},img:new o.Basic({w:{val:100,phone:70},h:{val:71,phone:45}})},txt:new u,righticon:new r({icon:"arrowright"})}).Class,s.Large=new n({crawler:{node:"a",href:{data:function(e){return p.user.$parse(e).url||""}},attr:{onclick:"return false"}},css:"ui-item-large",display:"inline-block",thumb:new o({w:310,h:220}),info:{txt:new u,description:{text:{data:"description"}}}}).Class,s.Indicator=new s.Thumb({righticon:new r({on:{data:"id"},icon:{data:"access",transform:function(e,t){var s=p.util.access(t,this.data),n=s&&~s.indexOf("play")?a.desktop?"empty":"arrowright":s;return"lockedContent"===n?"lockedContentAlt":n},listen:[p.user.role,p.user.purchases]}})}).Class,s.Topbar=new s.Menu({position:"absolute",name:"topbar",h:44,css:{addClass:"ui-item-topbar"},y:{val:0,translate:!0},iosFull:{h:{add:20}},txt:{x:{translate:!0,val:1}}}).Class,s.TitleSubtitle=u,s.Switcher=new s.IconRightSub({righticon:new n({hold:new l})}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../text":"/Users/shawn/Work/mtv-play/components/text/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/item/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/item/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/loader/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/sprite"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");t.exports=s=new r({css:"ui-loader",append:new n({w:31,h:31,params:{cols:1,rows:19}})}).Class,s.Simple=new n({css:"ui-loader-simple","w,h":21,params:{cols:1,rows:19}}).Class,o.ios||o.desktop?s.Logo=new n({css:"loader logo",w:110,h:110,params:{cols:1,rows:26}}).Class:s.Logo=new r({css:"loader logo noanim",w:110,h:110}).Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/loader/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/sprite":"/Users/shawn/Work/vigour-js/app/ui/sprite/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/loader/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(s,arguments)},{}],"/Users/shawn/Work/mtv-play/components/password/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element");t.exports=new n({css:"password-input",container:{logo:{},header:{text:"MTV Play is currently in BETA"},subtitle:{text:"Enter password to continue"},field:{node:"input",attr:{type:"password",placeholder:"password"}}}}).Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/password/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/password/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/player/backdrop.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("../img"),i=e("../icon");t.exports=new r({name:"backdrop",css:"relative-size",img:new o.Relative({css:"relative-size",background:{data:"show.img",load:function(e){e.opacity=.3}}}),holder:{info:{title:{"text.dictionary":"text.sender.remotePlaybackTitle"},txt:{"text.dictionary":"text.sender.remotePlaybackSubtitle"}},pullback:new i({icon:"pullback",
pulltext:{"text.dictionary":"text.pullBack"}})},events:{click:function(){n.user.receiver.media.$userOrigin=!1}}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/player/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/player/controls/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),e("../seekbar")),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/video/util");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");t.exports=new n({css:"player-controls",container:{progress:{text:{data:"mediausage.time",multiply:{data:"media.duration"},transform:function(e,t){return o.time(Math.abs(t))}}},seekbar:new r({w:{sub:200}}),duration:{text:{data:"media.duration",transform:function(e,t){return o.time(t)}}}}}).Class},{"../seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/player/controls/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/video/util":"/Users/shawn/Work/vigour-js/browser/element/video/util.js"}],"/Users/shawn/Work/mtv-play/components/player/controls/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/player/index.js":[function(e,t,s){function n(e){var t=e.node||e;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():(t=e.video&&e.video.jqHandle.node)&&t.webkitEnterFullscreen()&&t.webkitEnterFullscreen()}function r(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function o(){var e=g.user.navigation.media.from,t=g.user.receiver.media.from,s=w.$hasReceiver.val&&t._cachedPath===e._cachedPath;return s}function i(){var e=this._parent._caller,t=e.parent,s=e.video;s&&s.data;if(t)if(w.$isReceiver.val){if(e.__ready&&!o)return!0}else{if(e._cachedW=null,o())return e._fullscreen?e.x=g.w:e.y={multiply:-1},C(function(){o()&&(g.playing.from.val=!1)}),t.backdrop.empty&&t.set({backdrop:new b({data:e.video.data})}),!0;e.y.multiply.val&&(e.x=0,e.y={multiply:0})}}function a(e){var t=this._parent._caller,s=t.video,n=s&&s.data,r=n&&n.mediausage&&n.mediausage.from,o=s&&s.time.from.val,a=i.call(this);!w.$isOnChannel.val&&a&&r&&(o||0===o)&&r.set("time",Math.abs(o)),e()}function l(e){if(!w.tv&&!w.$isReceiver.val){var t=this._parent._caller;t.y._p=!0,i.call(this),t.y._p=null}e()}function c(e){var t=this._parent,s=t._caller;g.playing.from.val=w.tv||!w.$isActive.val&&w.$isReceiver.val?!0:!1,t.msmedia.val={val:g.user.receiver.media,listen:[w.$hasReceiver]},t.media.val=g.user.navigation.media,t.fullscreen.val=w.$isFullscreen,C(function(){s.video&&(s.__ready=!0,s.video.$play=g.playing,s.overlay.on.volume.val=g.volume)}),window.player=s,w.desktop?g.addEvent("keydown",function(e){if(!(g.popup.val||!w.$isReceiver.val&&o())){var t=!0;32===e.keyCode||13===e.keyCode?s.togglePlay():37===e.keyCode?s.seekBackward():39===e.keyCode?s.seekForward():38===e.keyCode?s.volumeUp():40===e.keyCode?s.volumeDown():70===e.keyCode?s.goFullscreen():t=!1,t&&e.preventDefault()}},W):w.tv&&s.$focus(),e()}function u(e){g.playing.from.val=!1,g.removeEvent(!1,W),e()}function p(e){var t=this.from.val,s=this._parent._caller,o=y.prefix+"fullscreenchange";t?(window.statusBar?window.statusBar.hide():w.desktop?n(s):w.phone&&n(s),s._exitFullscreen=function(e){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;t||(g.state.val="first")},document.body.addEventListener(o,s._exitFullscreen)):(window.statusBar&&window.statusBar.show(),w.desktop&&r(),document.body.removeEventListener(o,s._exitFullscreen)),C.repeat(function(){s.background&&s.background._update()},2),e()}function d(){var e=this.data&&this.data.mediausage;e&&e.time&&!w.$isOnChannel.val&&(e.time.from.val=Math.max(0,Math.abs(e.time.from.val)-.01))}function h(){var e=this.data&&this.data.mediausage;e&&e.time&&!w.$isOnChannel.val&&(e.time.from.val=Math.min(1,Math.abs(e.time.from.val)+.01))}function v(){g.playing.from.val=!g.playing.val}function m(){g.volume.val<=.9&&(g.volume.from.val+=.1)}function f(){g.volume.val>=.1&&(g.volume.from.val-=.1)}e("./style.less");var g=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),w=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),y=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),k=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),_=e("./video"),j=e("./overlay"),b=e("./backdrop"),x=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),U=w.retina?2:1,W="keyUpID",C=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf");document.cookie="_L1Nl9uK_DJGt_RDAVBq_=_L1Nl9uK_DJGt_RDAVBq_; domain=.mtvplay.tv",t.exports=s=new k({on:{fullscreen:{defer:p},msmedia:{defer:a},media:{defer:l},$render:{defer:c},$remove:{defer:u}},tv:{css:"base-player fullscreen-player",events:{back:function(){g.state.val="first"},click:v,arrowLeft:d,arrowRight:h,$focus:function(e){}}},chromecast:{css:"base-player fullscreen-player"},x:{val:0,animation:{time:24,easing:"outCubic",done:function(e){e&&(this.y._p=!0,this.y={multiply:-1},this.y._p=null,this.x._p=!0,this.x=0,this.x._p=null,S.exit.call(this))}}},y:{translate:!0,val:g.w,defer:function(e,t){var s=this;return this._caller.rendered?void(t[2]===!1?C(function(){s._p=!0,e(),s._p=null}):e()):(e(!0),!0)},transform:function(e,t){this._cachedW!==t&&(this._cachedW=t,this._cachedY=this.node.offsetHeight);var s=this._cachedY||(this._cachedY=this.node.offsetHeight);return s?s:void 0},multiply:{val:0,animation:{time:24,easing:"outCubic"}}},video:new _,overlay:new j,adMessage:{text:{dictionary:"text.advertisement"},display:{val:"none",$isPlayingAd:"block"},touch:{events:{click:function(){var e=this.parent.video.jqHandle;if(e&&(!w["native"]||!w.ios||window.device)){var t=window.open;window.open=function(e){window.open=t,g.api.url.val=e},e.invokeAd()}}}}},background:{data:"media.img",$bubble:{self:!0},transform:function(e,t){if(!t)return"";var s=this.node,n=s.offsetWidth,r=this;return n?x.img+"/image/"+t+"/"+n*U+"/"+s.offsetHeight*U:(r.rafId||(r.rafId=C(function(){r.rendered&&r.background.update(r)})),"")}}}).Class;var S=w.phone?e("./phone-fullscreen"):function(){if(w.$isFullscreen.val){var e,t=g.user,s=w.$isReceiver.val,n=this.checkParent("data.media",!0);s?(n&&("episodes"===n._parent._name&&(e=n._parent._parent,t.navigation.season.$userOrigin.val=e,t.navigation.show.$userOrigin.val=e._parent._parent),t.navigation.media.$userOrigin=n.from),t.activeClient.$userOrigin=t.cloud.client.from,t.receiver.media.$userOrigin=!1):g.state.val="first"}else g.state.val="player"};s.base.define({seekBackward:d,seekForward:h,togglePlay:v,volumeUp:m,volumeDown:f,goFullscreen:S}),s.Holder=new k({css:"player-holder",backdrop:{empty:!0},player:new s({css:{val:"base-player windowed-player",$isFullscreen:!w.phone&&"base-player fullscreen-player"}})}).Class},{"./backdrop":"/Users/shawn/Work/mtv-play/components/player/backdrop.js","./overlay":"/Users/shawn/Work/mtv-play/components/player/overlay/index.js","./phone-fullscreen":"/Users/shawn/Work/mtv-play/components/player/phone-fullscreen.js","./style.less":"/Users/shawn/Work/mtv-play/components/player/style.less","./video":"/Users/shawn/Work/mtv-play/components/player/video/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/player/overlay/index.js":[function(e,t,s){function n(e){var t=this.checkParent("_d",!0);e.prevent=!0,r.user.receiver.media.$userOrigin.val=t.media.from}var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),a=e("../controls"),l=e("../../icon"),c=e("../../img"),u=e("./play"),p=e("../volume"),d=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),h=d.get("text.specials"),v=new i({on:{data:"media.id"},buttons:{play:new u({display:!o.phone&&{data:"media.access",transform:function(e,t){var s=r.util.access(t,this.data&&this.data.media&&this.data.media.from);return s&&~s.indexOf("play")?"none":"inline-block"}}}),swipe:new l({icon:"swipeup",display:{data:"media.access",transform:function(e){var t=this.data&&this.data.media&&this.data.media.from,s=t&&!(t._parent&&"channels"===t._parent._name&&3===r.user.role.val)&&(o.$isUpgraded.val||t.access&&!t.access.val||t.val&&t.val.access&&!t.val.access.val),n=o.$hasReceiver.val&&s;return n?"inline-block":"none"},listen:[o.$hasReceiver,r.user.role,r.user.purchases]},events:{click:n}})},events:{click:o.touch?function(){var e=this.parent.opacity;e.val=e.val?0:1}:function(){r.playing.from.val=!r.playing.val}}}).Class,m=(new i).Class;m.base.extend({pointerEvents:function(e){this.node.style.pointerEvents=e.val}}),t.exports=new m({on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}},volume:{defer:function(e){var t=this._parent._caller;t.opacity.val=1,e()}}},opacity:{val:1,defer:function(e,t){var s=this._caller;return this._block?!0:(1===this._val&&(s._timer&&clearTimeout(s._timer),s._timer=setTimeout(function(){r.playing.val&&(s.opacity.val=0),s._timer=null},2500)),void e())},listen:r.playing},infoholder:{display:{val:"table",$isPlayingAd:"none",$isOnChannel:"none"},"!phone.thumb":new c({h:{val:50,$isFullscreen:110},w:{self:"h",defer:function(e){this._caller.background._update(),e()}},background:{data:"show.img"}}),titles:{showtitle:{text:{data:"media.title"}},showsubtitle:{text:{val:{dictionary:"text.season",transform:function(e,t){return t&&t[0]},add:{data:"season.number",transform:function(e,t){var s=this.data&&this.data.media.from._parent._parent.number,n=s&&s.val;return n&&(t=n),(t>9?t:"0"+t)+" "}}},add:[{val:{dictionary:"text.episode",transform:function(e,t){return t&&t[0]}}},{data:"media.number",transform:function(e,t){return t>9?t:"0"+t}}],transform:function(e,t){var s=this.text._val;return s&&9e3==s.add.__lval?h.val:t}}}}},clickable:new v,"!phoneBrowser.controls":{css:{val:"",$isOnChannel:{val:"on-channel",$isPlayingAd:""}},on:{data:"media.id"},left:new u,display:{data:"media.access",transform:function(e,t){return"lockedContent"===r.util.access(t,this.data&&this.data.media&&this.data.media.from)?"none":"table"},listen:[r.user.role,r.user.purchases]},center:new a({container:{display:{val:"block",$isOnChannel:"none",$isPlayingAd:"none"},seekbar:{bg:{seekLoader:{opacity:{val:0,$isLoadingVideo:1}}}}},adMessage:{text:{dictionary:"text.countdown"},display:{val:"none",$isPlayingAd:"block"}}}),"!tv.right":{volume:{holder:new p({bars:{data:"volume"}})},fullscreen:new l({icon:{val:"fullscreen",$isFullscreen:"exitfullscreen"},events:{click:function(){var e=this.checkParent("player",!0);e&&e.goFullscreen()}}})}},events:{down:function(e){var t=this.opacity;o.$isFullscreen.val&&!t.val&&(e.prevent=!0,t.val=1)}},desktop:{pointerEvents:{val:"auto",$isPlayingAd:"none"},events:{move:function(){var e=this.opacity;e.val||(e.val=1,e._block=!0,setTimeout(function(){e._block=null},1e3))}}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../controls":"/Users/shawn/Work/mtv-play/components/player/controls/index.js","../volume":"/Users/shawn/Work/mtv-play/components/player/volume/index.js","./play":"/Users/shawn/Work/mtv-play/components/player/overlay/play.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/player/overlay/play.js":[function(e,t,s){var n=e("../../icon"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=s=new n({on:{data:"media.id"},icon:{val:{data:"media.access",transform:function(e,t){var s=o.util.access(t,this.data&&this.data.media&&this.data.media.from);return s}},$playing:r.phone?"pause":"pauseAlt",transform:function(e,t){return this._loading||(this.rotate=0),this._loading?"loader2":t},listen:[o.user.role,o.user.purchases.from]},rotate:{val:0,animation:{complete:function(){var e=this.rotate;e._p=!0,e=0,e._p=!1,this._loading=!1,this.icon.update(this)}}},events:{click:function(e){e.prevent=!0,o.playing.from.val=!o.playing.val}}}).Class,s.base.define({load:function(){this._loading=!0,this.icon.update(this),this.rotate=this.rotate.val+360}})},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/player/phone-fullscreen.js":[function(e,t,s){function n(e){var t=this.checkParent("media",!0),o=t.checkParent("switcher",!0),i=t.player.player,a=o.checkParent("topbar",!0),l=i.overlay.controls,c=l.right.fullscreen,u=l.center.container.seekbar,p=(this.checkParent("miniplayer",!0),i.node.style);window.StatusBar&&(e?window.StatusBar.show():window.StatusBar.hide(),void 0===i._fullscreen&&i.setSetting({name:"StatusBar",remove:function(){window.StatusBar.show(),this._listener&&r.h.removeListener(this._listener)}}));var d=a.node.offsetHeight;i.set({rotate:e?0:90,x:0}),i.adMessage.node.style.zIndex=e?null:"1",i.overlay.node.style.zIndex=e?null:"1",o.node.style.zIndex=e?null:"1",p.zIndex=e?null:"1",p.margin=e?"0":"-"+d+"px "+r.w.val+"px",p.width=e?null:r.h.val+"px",p.height=e?null:r.w.val+"px",t.node.style.overflow=e?null:"visible",i._listener&&r.h.removeListener(i._listener),e||(i._listener=function(){p.width=r.h.val+"px"},r.h.on(i._listener)),c.set({icon:e?"fullscreen":"exitfullscreen",events:{click:e?s:function(){n.call(this,!0)}}}),u._left=e?!1:!0,i._fullscreen=e?!1:!0}var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");t.exports=s=function(){n.call(this)},s.exit=function(){n.call(this,!0)}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/player/players/viacom.js":[function(e,t,s){function n(e,t){this._correctTime=e,!this.channel&&this._ready&&this._time!==e&&(!this.jqHandle||this.__paused&&!t?this.tset=!0:(this.tset=null,this.out=null,this.cnt=null,this.jqHandle.setCurrentTime(Math.abs(Math.round(e))),this._time=e))}function r(e,t){var n=l.country||l.region.val;if(!n||!~u.availableRegions.indexOf(n.toUpperCase()))return c.$allowPlayback.val=!1,void(l.playing.from.val=!1);if("undefined"==typeof VIACOM)return l.api.player.once("success",function(){s.settings=l.api.player.settings,s.adsEnabled=s.settings.ads.enabled,s.viralSID=s.settings.ads.viralSID,e.rendered&&r(e,t)}),void(l.api.player.val=!0);e.addEvent("down",function(e){c.$isPlayingAd.val||e.preventDefault()}),e.data&&e.data.media&&e.data.media.from.videolang&&(s.settings.localization.language=e.data.media.from.videolang.val),c.tv?(s.settings.force="html5",s.settings.html5smartTVMode="Samsung"):c.chromecast&&(s.settings.force="html5",s.settings.html5smartTVMode="Chromecast",s.settings.ads.enabled=!1);var o=s.viralSID;if(-1===o.indexOf("test")){var i=l.user.role.val;o+=1===i?"/b2c":2===i?"/b2b":"/free"}s.settings.ads.viralSID=o,e.jqHandle=new window.VIACOM.Mediaplayer(".video",s.settings,{controls:!1,"webkit-playsinline":!0},l.api.player.debug),e.jqHandle.addEventListener("error",function(e){console.error(e)}),e.jqHandle.addEventListener("ended",function(e){l.playing.from.val=!1}),e.jqHandle.addEventListener("ads:rollPlaying",function(e){c.$isPlayingAd.val=!0}),e.jqHandle.addEventListener("ads:rollEnded",function(e){c.$isPlayingAd.val=!1});var p=e.jqHandle.proxy.player&&e.jqHandle.proxy.player.video;p&&(p.setAttribute("webkit-playsinline",'"true"'),p.removeAttribute("controls"),a&&p.addEventListener("webkitendfullscreen",function(){window.requestAnimationFrame(function(){document.body.scrollTop=0}),e.pause(),l.playing.from.val=!1},!1),e.video=p,e.setEvents()),e.node.style.backgroundColor="black",s.protoNew.call(e),t&&t()}function o(e,t){var r;e._correctTime=Math.abs(e.time.val)*e.duration.from.val,t&&"string"==typeof t&&(r=e.data.media&&~e.data.media.from._path.indexOf("channels")?"simulcast_stream":"local_playlist",e._correctTime=void 0,e.jqHandle.load(r,t,{startTime:Math.abs(e.time.val)*e.duration.from.val||void 0,simulcastApiKey:s.settings.simulcastApiKey},function(t){e._ready=!0,c.phoneBrowser||(l.playing.from.val=!0),void 0!==e._correctTime&&n.call(e,Math.abs(e._correctTime),!0)},"http://api.mtvnn.com/v2/mrss.xml?uri=mgid:sensei:video:mtvnn.com:"+r+"-"+t))}var i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),a="ios"===i.platform,l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config");t.exports=s=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/video/html5"),s.settings=l.api.player.settings,s.protoNew=s["new"],s["new"]=function(){},s.setEvents=!1,s.play=function(e){var t,s=this;e?(s.jqHandle&&s.__src?s.jqHandle&&(s.tset&&n.call(s,Math.abs(s.time.val)*s.duration.from.val,!0),s.jqHandle.play()):(t=s.src.val,s.__src=t,s.jqHandle?o(s,t):r(s,function(){o(s,t)})),s.tset=null):s.jqHandle&&s.jqHandle.pause()},s.volume=function(e){var t=e.val;this.jqHandle&&!isNaN(t)&&this.jqHandle.setVolume(t)},s.time={set:n,get:function(e){var t=this.jqHandle&&this.jqHandle.getCurrentTime();return t/this.duration.from.val||e.val}},s.remove=function(e){this.jqHandle&&this.jqHandle.destroy(),this.jqHandle=null,this.video=null},s.src=function(e){var t=e.val;if(this.__src!==t)if(this.__src=null,this.jqHandle)this.node.style.backgroundColor=null,this.jqHandle.destroy(),this.jqHandle=null,this._ready=null;else if(c.phoneBrowser&&this.rendered){var s=this;r(s)}}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/video/html5":"/Users/shawn/Work/vigour-js/browser/element/video/html5.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js":[function(e,t,s){function n(e){if(!i.$isPlayingAd.val){var t,s,n=this.node.getBoundingClientRect();this._left?(t=n.top,s=(e.y-t)/n.height):this._right?(t=n.top,s=(n.height-(e.y-t))/n.height):(t=n.left,s=(e.x-t)/(n.right-t));var r=s>1?1:0>s?0:s;r!==this._prevVal&&(this.seek.data.mediausage.$userOrigin.set("time",r),this._prevVal=r)}}e("./style.less");var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua")),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),a=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/video/util"),e("../../icon"),"ios"===o.platform||"android"===o.platform,new r({css:"ui-seekbar",bg:{},seek:{w:{data:"mediausage.time",transform:function(e,t){return t?100*Math.abs(t)+"%":void 0}}},"!tv.button":{display:{val:"inline-block",$isPlayingAd:"none",$isReceiver:"none"}},events:{down:i.touch?function(e){var t=this.parent.parent.parent.opacity;t&&1!==t.val?this._skipUp=!0:n.call(this,e)}:n,drag:n,up:i.touch?function(e){this.parent.parent.parent.opacity;this._skipUp?this._skipUp=null:n.call(this,e)}:n}}));t.exports=s=a.Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/player/seekbar/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/video/util":"/Users/shawn/Work/vigour-js/browser/element/video/util.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/components/player/seekbar/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/player/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/player/video/index.js":[function(e,t,s){function n(){return this._overlay||(this._overlay=this.parent&&this.parent.overlay)}var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/video"),a=e("../players/viacom"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util").postpone,c=l(function(e){r.playing.val&&e.play(!0)},501);t.exports=new i({node:"div",player:a,src:{data:"media.mrss"},duration:0,css:"video-container",time:{data:"mediausage.time",defer:function(e,t){return o.$isOnChannel.val||o.$isPlayingAd.val?!0:void e()}},volume:{data:"volume"},$play:{defer:function(e){var t=this._caller;return"second"===r.state.val?!0:void(o.desktop?window.requestAnimationFrame(function(){t.rendered?e():e(!0)}):e())}},model:{subscription:{videolang:!0,access:!0,video:!0,mrss:!0,duration:!0}},events:{src:function(e){if(this.duration=this.data.media.from.get("duration"),o.$isPlayingAd.val=!1,e.val&&(o.tv||o.$isReceiver.val)&&this.rendered){var t=this.data&&this.data.mediausage;r.playing.from.val=!0,t&&!o.$isOnChannel.val&&t.from.set("time",Math.abs(this.time.from.val)),this.play()}else r.playing.from.val=!1},progress:function(e,t){var s=-Math.abs(e),n=this.data&&this.data.mediausage;o.$isPlayingAd.val||o.$isOnChannel.val||n&&(r&&r.mediaTime&&(r.mediaTime.val=s),n.from.set("time",s))},play:function(){var e=n.call(this);e&&(e.opacity=this.playing?0:1),o.$isOnChannel.val&&this.playing&&r&&r.mediaTime&&(r.mediaTime.val=-.01)},stalled:function(){var e=n.call(this);e&&!o.chromecast&&(e.opacity=1),o.$isLoadingVideo.val=!0},seeking:function(e){if(!this._notRendered&&this.rendered){var t=n.call(this);t&&(t.opacity=1),r.playing.val&&(this.__paused||this.pause(!0),c(this)),o.$isLoadingVideo.val=!0}else this._notRendered=!0},canplay:function(){}}}).Class},{"../players/viacom":"/Users/shawn/Work/mtv-play/components/player/players/viacom.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/video":"/Users/shawn/Work/vigour-js/browser/element/video/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js"}],"/Users/shawn/Work/mtv-play/components/player/volume/index.js":[function(e,t,s){function n(e){var t=this.node.getBoundingClientRect(),s=t.left,n=(e.x-s)/this.w.val;this.data.volume.from=n>1?1:0>n?0:n}e("./style.less");var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=new r({css:"player-volume",w:50,events:{down:n,drag:n,up:n}});o.extend({bars:function(e){var e=e.val,t=this.children,s=33,n=s*(isNaN(e)?1:e)+5;for(var r in t)n-=s/5,t[r].nested.x=-3+Math.min(n,3)}});for(var i=5;i--;)o.add(new r({nested:{}}));t.exports=o.Class},{"./style.less":"/Users/shawn/Work/mtv-play/components/player/volume/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/player/volume/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/popup/article.js":[function(e,t,s){var n=e("../img"),r=e("./page"),o=e("autolinker");t.exports=s=new r({css:"popup-article",img:new n.Relative({h:190,display:{data:"img",transform:function(e,t){return t?"block":"none"}}}),title:{text:{data:"title"}},body:{html:{data:"text",transform:function(e,t){return t&&o.link(t,{className:"popup-article-link"})}}}}).Class},{"../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js",autolinker:"/Users/shawn/Work/mtv-play/node_modules/autolinker/dist/Autolinker.js"}],"/Users/shawn/Work/mtv-play/components/popup/auth.js":[function(e,t,s){function n(){p.dropdown._remove=!0,p.dropdown.y={sub:0},p.dropdownBackdrop.remove()}var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("../icon"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),a=e("../button"),l=e("../text/input"),c=e("../item"),u=e("./page"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),d=new r({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=p.content.get([this._name,"list","0"]),e.val="article"},css:"term"}).Class;s.FbButton=new a({"events.click":function(){var e=this.checkParent("api",!0);e.facebook.login.val=!0}}).Class,s.GetApp=new u({css:"getapp",on:{$parent:{defer:function(e){var t=this._parent._caller.checkParent("topbar",!0);t&&(t.empty(),t.node.style.backgroundColor="#3a1a58"),e()}}},info:{title:{"text.dictionary":"text.register.redirectTitle"},subtitle:{"text.dictionary":"text.register.redirectSubtitle"},freepass:{}},"ios.teleport":new a({text:{dictionary:"text.register.redirectTeleport"},"events.click":function(){window.location.href="fb709421825777638://"}})}).Class;var h=new r({top:{text:{dictionary:"text.signInTOS"}},items:{privacy:new d({text:{dictionary:"text.privacy"}}),terms:new d({text:{dictionary:"text.terms"}})}}).Class;s.Login=new u({css:"login",logo:{},"!windowsMobile.facebook":new s.FbButton({"text.dictionary":"text.account.signin.facebook"}),email:new a({text:{dictionary:"text.account.signin.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="loginEmail"}}),conditions:new h({css:"alignedTop"})}).Class,s.Login.Email=new l.Form({css:"login",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),"desktop.confirm":new a({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new h,verify:["email","password"],bottom:{"text.dictionary":"text.account.forgot.title","events.click":function(){var e=this.checkParent("api",!0);e.password.forgot.val=this.parent.email.val}},define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.login.val={email:this.email.val,password:this.password.val}}else p.notification.val="invalid"}}}).Class;var v=s.RegisterConditions=new h({top:{text:{dictionary:"text.termsOfService"}}}).Class;s.Register=new u({css:"register",logo:{},"!windowsMobile.facebook":new s.FbButton({"text.dictionary":"text.account.signup.facebook"}),email:new a({text:{dictionary:"text.account.signup.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="registerEmail"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new a({display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.account.signup.operator"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="operatorList"}}),conditions:new v({css:"alignedTop"})}).Class,s.Register.Email=new l.Form({css:"register",scrollbar:"y",x:{translate:!0},email:new l({input:"email"}),password:new l({input:"password"}),repeatPassword:new l({input:{val:"password",text:"text.repeatPassword"}}),verify:["email","password","repeatPassword"],"desktop.confirm":new a({text:{dictionary:"text.next"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new v,define:{done:function(){if(this.verified)if(this.password.val===this.repeatPassword.val){var e=this.checkParent("on.popup",!0).from;e.data={type:this.data&&this.data._name,email:this.email.val,password:this.password.val},e.val="registerNewsletter"}else p.notification.val="noMatchPassword";else p.notification.type=this.verificationError&&this.verificationError.val,p.notification.val="invalid"}}}).Class;var m,f=new c.Switcher({txt:{"title.text.dictionary":"text.newsletterTitle","subtitle.text.dictionary":"text.newsletterSubtitle"},"events.click":function(){this.parent.data||(this.parent.data={});var e=this.parent.data;e.newsletter=!this.righticon.hold.switchOn.val,this.righticon.hold.switchOn=e.newsletter},add:[new o({name:"lefticon",icon:"newsletter"}),"txt"]}).Class;if(i.phone&&i["native"]){var g=new r({css:"auth-dropdown",position:"absolute",y:{animation:{time:18,easing:"outCubic",done:function(){this._remove&&this.remove()}}},model:{complete:function(){var e=this;window.requestAnimationFrame(function(){e.y={sub:e.node.offsetHeight
}})}}}).Class;m=new c.IconLeft({lefticon:{icon:"newsletter"},txt:{css:{data:"value",transform:function(e,t){return"txt"===t.trim()?"inactive":" "}},text:{dictionary:{data:"dictionary"}},model:{inherit:!1}},model:function(e){e instanceof Array&&(this.txt.data=e[0])},"events.click":function(){if(!p.dropdown){var e=this.parent,t=this._name,s=this.data;this._dData||(this._dData=s.splice(1)),p.set({dropdownBackdrop:{css:"relative-size","events.click":n},dropdown:new g({y:p.h,collection:{data:!0,element:new r({text:{dictionary:{data:"dictionary"}},"events.click":function(){e.data||(e.data={}),e.data[t]=this.data.value,e[t].txt.data=this.data,n()}})},data:this._dData})})}}}).Class}else m=new c({select:{node:"select",collection:{data:!0,element:new r({node:"option",attr:{value:{data:"value"}},text:{dictionary:{data:"dictionary"}}})}},"events.change":function(e){this.parent.data||(this.parent.data={}),this.parent.data[this._name]=e.target.value},add:[new o({name:"lefticon",icon:"newsletter"}),"select"]}).Class;s.Register.Newsletter=new l.Form({css:"register newsletter",scrollbar:"y",x:{translate:!0},age:new m({"on.$render.defer":function(e){this._parent._caller.data=[{value:"",dictionary:"text.age"},{dictionary:"options.age.0.text",value:"1"},{dictionary:"options.age.1.text",value:"2"},{dictionary:"options.age.2.text",value:"3"}],e()},lefticon:{icon:"age"}}),gender:new m({"on.$render.defer":function(e){this._parent._caller.data=[{value:"",dictionary:"text.gender"},{value:"male",dictionary:"options.gender.0.text"},{value:"female",dictionary:"options.gender.1.text"},{value:"other",dictionary:"options.gender.2.text"}],e()},lefticon:{icon:"gender"}}),newsletter:new f,"desktop.confirm":new a({text:{dictionary:"text.account.signup.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),conditions:new v,define:{done:function(){var e=this.checkParent("api",!0);this.data||(this.data={}),console.log("???",this.data.type),this.data.type&&localStorage.setItem("registerOperator",this.data.type),e.register.val=this.data}}}).Class,s.PasswordReset=new l.Form({css:"register",scrollbar:"y",x:{translate:!0},password:new l({input:"password"}),repeatPassword:new l({input:{val:"password",text:"text.repeatPassword"}}),"desktop.confirm":new a({text:{dictionary:"text.account.passwordReset"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),define:{done:function(){if(this.password.val===this.repeatPassword.val){var e=this.checkParent("api",!0);e.password.reset.val={password:this.password.val}}else p.notification.val="noMatchPassword"}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/buy.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),o=e("../button");t.exports=s=new n({css:"upgrade",block:{img:{}},"bottom.text.dictionary":"text.legalContainer","continue":new o({"text.dictionary":"text.continue"})}).Class,s.Monthly=new s({block:{"title.text.dictionary":"text.purchase.monthlyPass.title","txt.text":{dictionary:"text.purchase.monthlyPass.body",add:[" ",r.api.price.monthly]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={subscription:"monthly"}}}).Class,s.Single=new s({block:{"title.text.dictionary":"text.purchase.singlePass.title","txt.text":{dictionary:"text.purchase.singlePass.body",add:[" ",r.api.price.single]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={product:r.user.navigation.media.from}}}).Class,s.Yearly=new s({block:{"title.text.dictionary":"text.purchase.yearlyPass.title","txt.text":{dictionary:"text.purchase.yearlyPass.body",add:[" ",r.api.price.yearly]}},"continue.events.click":function(){var e=this.checkParent("api",!0);e.purchase.val={subscription:"yearly"}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/devices.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("../icon")),r=e("../item"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=e("../button"),a=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua")),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf"),c=e("./page");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=s=new c({css:"devices",myDevice:{icon:new n({icon:a.device}),dInfo:{dTitle:{"text.dictionary":"text.thisDevice"},dSubtitle:{text:o.touch?a.device+" "+("ios"===a.platform?"iOS":a.platform)+(a.version?" "+a.version:""):a.platform+" "+a.browser+" "+a.version}}},middle:{display:{val:"block",$hasDevices:"none"},icon:new n({icon:"monster"})},listTitle:{"text.dictionary":"text.available",display:{val:"none",$hasDevices:"block"}},list:{display:{val:"none",$hasDevices:"block"},collection:{element:new r.IconLeft({model:function(e){e&&e.from&&e.from.device&&!/(desktop)|(tv)|(cast)|(tablet)|(airplay)/.test(e.from.device.val)&&(this.opacity=.5)},events:{click:function(){var e=this.checkParent("on.user",!0)._val,t=this.data.from;/(desktop)|(tv)|(cast)|(tablet)|(airplay)/.test(t.device.val)&&e.setReceiver(t)}},display:{data:"title",transform:function(e,t){return t?"table":"none"}},lefticon:{icon:{data:{val:function(e){var t=e&&e.from&&e.from.device&&e.from.device.val;return"chromecast"===t?"cast":t},listen:"device"}}}}),data:!0}},info:{display:{val:"block",$hasDevices:"none"},"title.text.dictionary":"text.watchBigger","description.text.dictionary":"text.watchBig"},learn:new i({display:{val:"block",$hasDevices:"none"},"text.dictionary":"text.learnMore","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="devices",e.val="faq"}}),on:{$render:{defer:function(){var e=this._parent._caller;e.on.devices._val._update()}},devices:{defer:function(e){var t=this._parent._caller;t.on.receiver._update(),t.data=this.from,e()}},receiver:{defer:function(e){var t=this;l(function(){if(t._parent){var s=t._parent._caller,n=s.checkParent("on.user",!0)._val.receiverClient,r=s.list.find("_d.from",n.from);r?(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=r,r.css={addClass:"current"}):t.focus&&t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"},t.focus=null)}e()})}}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/faq.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("../icon"),e("../item")),r=e("./page"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=new r({css:"faq",scrollbar:"y",on:{$parent:{defer:function(e){this._parent._caller.data=o.content.from.get("faq.list"),e()}}},collection:{data:!0,element:new n.IconRight({"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="faq",e.data=this.data,e.val="article"}})}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=e("../icon"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher"),c=e("./auth"),u=e("./operator"),p=e("./settings"),d=e("./profile"),h=e("./share"),v=e("./devices"),m=e("./roadblock"),f=e("./article"),g=e("./languages"),w=e("./faq"),y=e("./wifi"),k=e("./newsletter"),_=e("./mobile"),j=e("./intro"),b=e("./upgrade"),x=e("./buy"),U=c.GetApp,W=a.phone?o.w.val:400;s=new n({css:"popup-window",on:{$new:{defer:function(e){var t=this._parent._caller;"languages"===o.popup.val&&(t.y._p=!0),window.requestAnimationFrame(function(){t.y&&(t.y._p=!1)}),e()}},loading:{defer:function(e,t){return this._parent._caller?(!t[0]||t[0]!==!0&&"string"!=typeof t[0]?this._parent._caller.overlay.display="none":this._parent._caller.overlay.display="block",void e()):!0}},popup:{defer:function(e){var t,s=this.from.val,n=this._parent,i=n._caller,l=n.overlay._val,W=n.user._val,C=W.receiverClient,S={verifyMobile:{dictionary:"text.mtvMobile",element:_.Verify},countryCodes:{dictionary:"text.chooseTelCode",element:_.CountryCodes,previous:"verifyMobile"},share:{dictionary:"text.share",element:h},wifi:{dictionary:"settings.connectivity",element:y,previous:"settings"},newsletter:{dictionary:"text.newsletterTitle",element:k,previous:"settings"},roadblock:{dictionary:"text.oops",element:m},roadblockUpgrade:{dictionary:"text.buyPremium",element:m},roadblockMedia:{dictionary:"text.lockedEpisode",element:m.Media},article:{title:"faq"!==this.val,element:f,dictionary:"settings.help"},getApp:{dictionary:"text.getapp",element:U},operatorList:{dictionary:"text.operator.choose",element:u.List,previous:"register"},operatorAuth:{title:!0,element:u.Register,previous:"operatorList",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},operatorAuthAlt:{previous:"operatorList",title:!0,element:u.RegisterAlternative},operatorListUpgrade:{previous:"upgrade",dictionary:"text.operator.deals",element:u.ListUpgrade},operatorAuthUpgrade:{title:!0,element:u.Upgrade,righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},upgradeOperator:{dictionary:"text.operator.choose",element:c.Register.ChooseOperator,previous:"upgrade"},devices:{dictionary:"text.devices",element:v,params:{on:{receiver:C,devices:W.devices}}},loginEmail:{dictionary:"text.account.signin.title",element:c.Login.Email,previous:"login",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},passwordReset:{dictionary:"text.account.passwordReset",element:c.PasswordReset},login:{dictionary:"text.account.signin.title",element:c.Login},registerEmail:{dictionary:"text.account.signup.title",element:c.Register.Email,previous:"register",righticon:{icon:{icon:"empty"},text:{dictionary:"text.next"}}},registerSuccess:{dictionary:"text.account.signup.success",element:c.Register.Success},registerNewsletter:{dictionary:"text.account.signup.title",element:c.Register.Newsletter,previous:"registerEmail",righticon:{icon:{icon:"empty"},text:{dictionary:"text.done"}}},register:{dictionary:"text.account.signup.title",element:c.Register},upgrade:{dictionary:"text.upgrade",element:b},settings:{dictionary:"text.nav.settings",element:p},profile:{dictionary:"text.profile",element:d,params:{data:{email:W.email,pic:W.profilePic}}},languages:{dictionary:"text.settings.languages.title",element:g,previous:"settings",params:{on:{language:o.language}}},faq:{dictionary:"settings.help",element:w,previous:"settings"},intro:{dictionary:!1,element:j},getStarted:{dictionary:"text.mtvMobile",element:j.getStarted},getStartedContinue:{dictionary:"text.account.signup.title",element:j.getStartedContinue,previous:"intro"},buyMonthly:{dictionary:"text.upgrade",element:x.Monthly,previous:"upgrade"},buySingle:{dictionary:"text.lockedEpisode",element:x.Single,previous:"roadblockMedia"},buyYearly:{dictionary:"text.upgrade",element:x.Yearly,previous:"upgrade"}};if(s)if(l.val="popup",t=S[this.from.val]){this.from.previous&&(t.previous=this.from.previous,this.from.previous=null),t.title&&this.from.data?i.topbar.holder.title.text=this.from.data.get("title"):i.topbar.holder.title.text=t.dictionary!==!1?{dictionary:t.dictionary||this.from.val}:"";var A={element:t.element};this.from.data?(A.$params={data:this.from.data},t.params&&r.merge(A.$params,t.params)):t.params?(A.$params=t.params,this.from.data=null):this.from.data=null,t.previous?(i.topbar.holder.lefticon.icon="arrowleft",i.switcher.previous=t.previous):i.topbar.holder.lefticon.icon="empty",a.desktop||(t.righticon?i.topbar.holder.righticon.set(t.righticon):i.topbar.holder.righticon.set({icon:{icon:"close"},text:"",css:""})),i.switcher.transition=A,e()}else console.error("cannot find popup-type",this.from.val),e(!0);else l.val=!1,a.phone?i.y=o.h:i.remove(),e(!0)}}},position:"absolute",phone:{w:o.w,h:o.h,y:{val:0,animation:{time:o.h.val/30,start:o.h,easing:"outCubic",done:function(e){var t=this;e>=100&&t.remove()}}}},"!phone":{w:{val:o.w,sub:30,max:400},h:{val:o.h,sub:30,max:600},x:{val:o.w,sub:{self:"w"},divide:2},y:{val:o.h,sub:{self:"h"},divide:3,min:15},"!android.opacity":{val:1,animation:{time:15,start:0,easing:"outCubic"}}},topbar:{css:"first-topbar",h:{val:40,phone:{iosFull:60}},holder:{lefticon:new i({icon:"arrowleft","events.click":function(){this.checkParent("switcher",!0).back()}}),title:{text:""},righticon:{icon:new i({icon:"close"}),text:"","events.click":a.desktop?function(e){e.preventDefault(),this.checkParent("on.popup",!0).from=!1}:function(e){e.preventDefault();var t=this.checkParent("switcher",!0)._swElem;t&&t.done?t.done.call(t):this.checkParent("on.popup",!0).from=!1}}}},switcher:new l({node:"div",on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}}},h:{parent:"h",sub:{val:40,phone:{iosFull:60}}},onTransition:a.slow?function(e,t,s){t&&t.remove(),this.add(e)}:function(e,t,s,n){s=void 0!==o.popup.direction?o.popup.direction:1,o.popup.direction=void 0,s&&t?(e.x={val:0,animation:{start:1===s?W:-W,time:20,delay:1,easing:"outCubic",done:function(){t&&t.remove()}}},t.x={val:1===s?-W:W,animation:{time:20,delay:1,easing:"outCubic"}},-1===s?this.add(e,t):this.add(e)):(t&&t.remove(),this.add(e))},backFallback:function(){this.previous&&(o.popup.direction=-1,this.previous instanceof Object?(o.popup.data=this.previous.data,o.popup.val=this.previous.val):o.popup.val=this.previous)}}),overlay:{display:"none"}}),s.topbar.holder.righticon.extend({fn:function(){}}),t.exports=s.Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./article":"/Users/shawn/Work/mtv-play/components/popup/article.js","./auth":"/Users/shawn/Work/mtv-play/components/popup/auth.js","./buy":"/Users/shawn/Work/mtv-play/components/popup/buy.js","./devices":"/Users/shawn/Work/mtv-play/components/popup/devices.js","./faq":"/Users/shawn/Work/mtv-play/components/popup/faq.js","./intro":"/Users/shawn/Work/mtv-play/components/popup/intro.js","./languages":"/Users/shawn/Work/mtv-play/components/popup/languages.js","./mobile":"/Users/shawn/Work/mtv-play/components/popup/mobile.js","./newsletter":"/Users/shawn/Work/mtv-play/components/popup/newsletter.js","./operator":"/Users/shawn/Work/mtv-play/components/popup/operator.js","./profile":"/Users/shawn/Work/mtv-play/components/popup/profile.js","./roadblock":"/Users/shawn/Work/mtv-play/components/popup/roadblock.js","./settings":"/Users/shawn/Work/mtv-play/components/popup/settings.js","./share":"/Users/shawn/Work/mtv-play/components/popup/share.js","./style.less":"/Users/shawn/Work/mtv-play/components/popup/style.less","./upgrade":"/Users/shawn/Work/mtv-play/components/popup/upgrade.js","./wifi":"/Users/shawn/Work/mtv-play/components/popup/wifi.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher":"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/intro.js":[function(e,t,s){function n(e,t,s){var n=120,o=10,i=this.children.length,a=this._pos||(this._pos=0),l=a;Math.abs(s.x)>o?(s.x<0&&!(t.x>n)&&(l=Math.max(a-1,-i+1)),s.x>0&&!(t.x<-n)&&(l=Math.min(a+1,0))):(t.x<-n&&(l=Math.max(a-1,-i+1)),t.x>n&&(l=Math.min(a+1,0))),this.x._e&&(this.x={_esub:this.x._e._val}),r(this,l)}function r(e,t){var s=e._pos||(e._pos=0);e._dots;t!==s&&(e.x={multiply:t},e._pos=t)}var o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),i=e("../button"),a=e("../img"),l=e("./page"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),u=new o({img:new a.Intro({on:{$new:{defer:function(e){this._parent._caller.background.update(),e()}}}})}).Class;t.exports=s=new l({on:{$parent:{defer:function(e){var t,n=this._parent,r=n._caller,o=r.checkParent("topbar",!0);o&&(t=r.roll,r._topbar=o,t._dots=new s.Dots,o.node.style.backgroundColor="#3a1a58",o.set({holder:{title:{dots:t._dots}}}),t.x=r.parent.parent.w.val-15,n.popup.val=c.popup),e()}},popup:{defer:function(e,t){var s=this._val._val;if("intro"!==s){var n=this._parent._caller._topbar;n&&("settings"===s&&(n.node.style.backgroundColor="#5d4078"),n.holder.title.dots.remove())}e()}}},roll:{css:"intro-roll",x:{val:0,multiply:0,animation:{time:18,easing:"outCubic",complete:function(e){for(var t=this._dots.children,s=t.length-1;s>=0;s--)t[s].css=s===-this._pos?"focus":""}}},append:[u,{"img.background":"1.png","title.text.dictionary":"intro.welcome.title","subtitle.text.dictionary":"intro.welcome.body"},{"img.background":"2.png","title.text.dictionary":"intro.devices.title","subtitle.text.dictionary":"intro.devices.body"},{"img.background":"3.png","title.text.dictionary":"intro.connect.title","subtitle.text.dictionary":"intro.connect.body"},{"img.background":"4.png?1","subtitle.text.dictionary":"intro.free.body",button:new i({"text.dictionary":"intro.free.button","events.click":function(){this.checkParent("on.popup",!0).from="getStartedContinue"}})}],events:{grab:{x:!0,up:n}}}}).Class,s.getStarted=new o({css:"get-started",on:{$parent:{defer:function(e){var t=this._parent,s=t._caller,n=s.checkParent("topbar",!0);n&&(n.node.style.backgroundColor="#5d4078",s._topbar=n),e()}}},"title.text.dictionary":"intro.mobile.title","subtitle.text.dictionary":"intro.mobile.body",append:[i,{css:{addClass:"yes"},"text.dictionary":"intro.mobile.button","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="verifyMobile"}},{css:{addClass:"skip"},"text.dictionary":"button.skip","events.click":function(){this.checkParent("on.popup",!0).from=!1}}]}).Class,s.getStartedContinue=new o({css:"get-started",on:{$parent:{defer:function(e){var t=this._parent,s=t._caller,n=s.checkParent("topbar",!0);n&&(n.node.style.backgroundColor="#5d4078",s._topbar=n),e()}}},"title.text.dictionary":"intro.register.title","subtitle.text.dictionary":"intro.register.body",append:[i,{css:{addClass:"facebook"},"text.dictionary":"text.account.signup.facebook","events.click":function(){var e=this.checkParent("api",!0);e.facebook.login.val=!0}},{css:{addClass:"email"},"text.dictionary":"text.account.signup.email","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="registerEmail"}},{css:{addClass:"operator"},display:{val:"none",$hasOperator:"block"},"text.dictionary":"text.account.signup.operator","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="operatorList"}}],"or.text.dictionary":"text.or",signin:new i({"text.dictionary":"text.account.signin.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;this.parent._topbar.node.style.backgroundColor="#5d4078",e.previous=e.val,e.val="login"}})}).Class,s.Dots=new o({css:"intro-dots",append:[o,{css:"focus"},{},{},{}]}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/languages.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("../icon"),e("../item")),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config")),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf"),i=e("./page");t.exports=new i({css:"languages",on:{$parent:{defer:function(e){this._parent._caller.data=r.languages,this._parent.language._update(),e()}},language:{defer:function(e){var t=this;o(function(){if(t._parent){var s=t._parent._caller,n=t._parent._val||s.checkParent("on.language",!0),r=s.find("_d",n.val);r&&(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=r,r.css={addClass:"current"}),e()}else e(!0)})}}},collection:{data:!0,element:new n({"title.text":{data:!0,dictionary:function(e,t){return t&&"text.languages."+t+".title"}},"events.click":function(){var e=this.checkParent("on.language",!0),t=this.checkParent("on.popup",!0).from;e.$userOrigin.val=String(this.data),t.direction=-1,t.val="settings"}})}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/mobile.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("../icon"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("../button")),o=e("../text/input"),i=e("../item"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf"),c=e("./page"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");s.Verify=new c({css:"verifymobile","on.$parent.defer":function(e){this._parent._caller.data={code:u.telCode},e()},top:{"text.dictionary":"text.enterYourNumber"},country:new i.IconRight({txt:{text:{data:"code",dictionary:function(e,t){return t&&t.slice&&"text.countries."+t.slice(0,2)+".title"},add:[" (+",{data:"code",transform:function(e,t){return t&&a.countrycodes[t]}},")"]}},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="countryCodes"}}),phonenumber:new o({input:"phone","lefticon.html":{data:"code",transform:function(e,t){return t&&("+"+a.countrycodes[t]||t)}}}),verify:new r({text:{dictionary:"text.verify"},"events.click":function(){var e=this.checkParent("api",!0);this.parent.phonenumber.input&&console.log(this.parent.phonenumber.input),e.mobile.verify.val={phonenumber:this.parent.phonenumber.val,country:a.countrycodes[this.parent.data.code.val]}}})}).Class,s.CountryCodes=new n({css:"languages codes",on:{$parent:{defer:function(e){this._parent._caller.data=a.mtvmobile,this._parent.language.val=u.telCode,this._parent.language._update(),e()}},language:{defer:function(e){var t=this;l(function(){if(t._parent){var s=t._parent._caller,n=(t._parent._val||s.checkParent("on.language",!0)).from,r=s.find("_d",n.val);r&&(t.focus&&t.focus._node&&(t.focus.css={removeClass:"current"}),t.focus=r,r.css={addClass:"current"}),e()}else e(!0)})}}},collection:{data:!0,element:new i({"title.text":{data:!0,dictionary:function(e,t){return t&&t.slice&&"text.countries."+t.slice(0,2)+".title"},add:function(e,t){return" (+"+a.countrycodes[String(this.data)]+")"}},"events.click":function(){var e=this.checkParent("on.popup",!0).from;u.telCode.val=String(this.data),e.val="verifyMobile"}})}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/newsletter.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("../icon"),e("../item")),r=e("./page"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=new r({css:"newsletter",newsletterSwitcher:new n.Switcher({css:"ui-item switch","on.$render.defer":function(e){this._parent._caller.righticon.hold.switchOn=o.user.accept_newsletter.from,e()},txt:{"title.text.dictionary":"text.newsletterTitle","subtitle.text.dictionary":"text.newsletterSubtitle"},"events.click":function(){var e=o.user.accept_newsletter.from;e.val=!e.val}})}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/operator.js":[function(e,t,s){function n(e){var t=e.split("__$ESCAPED_");return t[1]||t[0]}var r=e("../button"),o=e("../text/input"),i=e("../item"),a=e("./page"),l=e("./auth"),c=l.RegisterConditions,u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),d=p.get("text.operator.future");s.List=new a({css:"operator",on:{$parent:{defer:function(e){this._parent._caller.data=u.operators,e()}}},top:{text:{dictionary:"text.operator.select"}},collection:{data:!0,element:new i.IconRightSub({extend:{support_classic_registration:function(){},available_from:function(){},available:function(){}},support_classic_registration:{data:"support_classic_registration"},available_from:{data:"available_from"},available:{data:"available"},"events.click":function(){if(this.available.val===!0){var e=this.checkParent("on.popup",!0).from;e.previous={val:"operatorList",data:this.parent.data},e.data=this.data,e.val=this.support_classic_registration.val===!0?"operatorAuthAlt":"operatorAuth"}else u.notification.val=d.val+" "+this.available_from.val}})}}).Class,s.ListUpgrade=new s.List({collection:{data:!0,element:new i.IconRightSub({extend:{support_classic_registration:function(){},available_from:function(){},available:function(){}},support_classic_registration:{data:"support_classic_registration"},available_from:{data:"available_from"},available:{data:"available"},"events.click":function(){if(this.available.val===!0){var e=this.checkParent("on.popup",!0).from;e.previous={val:"operatorListUpgrade",data:this.parent.data},e.data=this.data,e.val="operatorAuthUpgrade"}else u.notification.val=d.val+" "+this.available_from.val}})}}).Class,s.Register=new o.Form({css:"login operator",scrollbar:"y",x:{translate:!0},top:{text:{dictionary:"text.operator.register"}},username:new o({input:"user"}),password:new o({input:"password"}),"desktop.confirm":new r({text:{dictionary:"text.account.signin.title"},"events.confirm":function(){var e=this.parent;e.done.call(e)}}),getInTouch:{text:{dictionary:"text.operator.help"},button:{on:{url:{data:"url"},faq_url:{data:"faq_url"}},text:{data:"title"},"events.click":function(){u.api.url.val=this.on.faq_url.val||this.on.url.val}}},conditions:new c,verify:["password"],define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.operator.login.val={operator:this.data._name,username:this.username.val,password:this.password.val}}else u.notification.val="invalid"}}}).Class,s.RegisterAlternative=new a({css:"register operator",top:{text:{dictionary:"text.operator.register"}},"!windowsMobile.facebook":new l.FbButton({"text.dictionary":"text.account.signup.facebook","events.click":function(){var e=n(this.parent.data._name);window.localStorage.setItem("registerOperator",e);var t=this.checkParent("api",!0);t.facebook.login.val=!0}}),email:new r({text:{dictionary:"text.account.signup.email"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=this.parent.data,e.val="registerEmail"}}),conditions:new c({css:"alignedTop"})}).Class,s.Upgrade=new s.Register({top:{text:{dictionary:"text.operator.authenticate"}},define:{done:function(){if(this.verified){var e=this.checkParent("api",!0);e.operator.upgrade.val={operator:n(this.data._name),
username:this.username.val,password:this.password.val}}else u.notification.val="invalid"}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./auth":"/Users/shawn/Work/mtv-play/components/popup/auth.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/page.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element");t.exports=new n({x:{translate:!0},scrollbar:"y"}).Class},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/profile.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("../icon"),o=e("../item"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),c=new n({append:[new o({css:"ui-item",lefticon:new r,title:{}}).Class,{"lefticon.icon":"logout","title.text.dictionary":"text.account.logout","events.click":function(){var e=this.checkParent("on.popup",!0);e.from.val="login",l.user.token.val=!1}}]}).Class;t.exports=s=new n({css:"profile",pic:{icon:new r({icon:"profile",display:{val:function(){return l.user.profilepic.val?"none":"block"},listen:l.user.profilepic}}),img:{background:l.user.profilepic,display:{val:function(){return l.user.profilepic.val?"block":"none"},listen:l.user.profilepic}}},username:{text:{val:l.user.first_name,transform:function(e,t){if(t)return t;var s=l.user.email&&l.user.email.val;return s?s.split("@")[0]:""},listen:l.user.email}},email:{text:l.user.email},holder:{display:{val:l.user.operator_name,transform:function(e,t){return t?"none":"block"}},blocks:{allshows:{bold:{text:{dictionary:"text.all"}},light:{text:{dictionary:"text.nav.shows"}}},allchannels:{display:{val:l.user.role,transform:function(e,t){return 3===t?"none":"table-cell"}},bold:{text:{dictionary:"text.all"}},light:{text:{dictionary:"text.nav.channels"}}},everyepisode:{bold:{text:{dictionary:"text.every"}},light:{text:{dictionary:"text.episode"}}}},unlock:{display:{val:"block",$isUpgraded:"none"},text:{dictionary:"text.purchase.getMore"}}},button:{text:{val:l.user.role,transform:function(e,t){var s=l.user.operator_name.val;return s?a.get("text.premium").val:l.user.role.val?1===l.user.role.val?a.get("text.premium").val:2===l.user.role.val?a.get("text.mtvMobile").val:3===l.user.role.val?a.get("text.trial").val:t:a.get("text.upgrade").val},listen:l.user.operator_name},css:{val:l.user.role.text},"events.click":function(){if(0===l.user.role.val){var e=this.checkParent("on.popup",!0).from;e.previous="profile",e.val=i.$storeAvailable.val||i.$hasMobile.val?"upgrade":"roadblock"}}},operatorSponsor:{display:{val:l.user.operator_name,transform:function(e,t){return t?"block":"none"}},text:"brought to you by",operatorLogo:{background:{val:l.user.operator_name,transform:function(e,t){var s=t&&l.operators;if(s)for(var n in s){var r=s[n];if(r&&(r=r._val)){var o=r.title;if(o&&o.val.toLowerCase()===t.toLowerCase())return r.image._val}}return""}}}},items:new c}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/roadblock.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("../icon"),e("../item")),i=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("../button")),a=(e("../text/input"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("../img"),e("./article"),e("./page"));t.exports=s=new a({css:"roadblock",logo:{display:{val:"block",$isLoggedIn:"none"}},"!native.mockup":{display:{val:"none",$isLoggedIn:"block"}},append:[new n({css:"info"}).Class,{"title.text.dictionary":"text.needToRegister","description.text.dictionary":"text.easyRegister",display:{val:"block",$isLoggedIn:"none"}},{"title.text.dictionary":"text.upgradeRequired","description.text.dictionary":"text.upgradeRequired",display:{val:"none",$isLoggedIn:"block",transform:{val:"none",$storeAvailable:!1}}},{"title.text.dictionary":"text.mobileUpgrade","description.text.dictionary":"text.mobileUpgradeInfo","!native.stores":{windowsstore:{},applestore:{},googlestore:{},googlecast:{},samsungtv:{},lgtv:{}},display:{val:"none",$isLoggedIn:"block",transform:{val:!1,$storeAvailable:"none"}}}],signup:new i({display:{val:"block",$isLoggedIn:"none"},"text.dictionary":"text.account.signup.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="register"}}),signin:new i({display:{val:"block",$isLoggedIn:"none"},"text.dictionary":"text.account.signin.title","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="login"}}),upgrade:new i({display:{val:"none",$isLoggedIn:"block",transform:{val:"none",$storeAvailable:!1}},"text.dictionary":"text.upgrade","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.val="upgrade"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new i({"text.dictionary":"text.purchase.operator",display:{val:"none",$hasOperator:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous=e.val,e.data=r.cloud.data.get(["mtvData","operators"]),e.val="operatorListUpgrade"}})}).Class,s.Media=new a({css:"roadblock media share","holder.thumb":new o.Thumb({thumb:{h:60,img:{h:60}},righticon:!1}),buy:new i({display:{val:"none",$storeAvailable:"block"},text:{dictionary:"text.unlockPrice",add:[" ",r.api.price.single]},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buySingle"}}),or:{display:{val:"none",$storeAvailable:"block"},text:{val:"- ",add:[{dictionary:"text.or"}," -"]}},upgrade:new i({"text.dictionary":"text.upgrade","events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous={val:"roadblockMedia",data:this.parent.data},e.val="upgrade"}}),mobile:new i({"text.dictionary":"text.purchase.freeWithMTV",display:{val:"none",$hasMobile:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="verifyMobile"}})}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./article":"/Users/shawn/Work/mtv-play/components/popup/article.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/settings.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("../icon"),e("../item")),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=(e("../button"),e("../text/input"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf"),e("./page"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary")),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=new n({css:"settings",scroller:{language:new r.IconRightSub({txt:{"title.text.dictionary":"text.settings.languages.title","subtitle.text.dictionary":"text.settings.languages.subtitle"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="languages"}}),FAQ:new r.IconRightSub({txt:{"title.text.dictionary":"settings.help","subtitle.text.dictionary":"settings.helpSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="faq"}}),help:new r.IconRightSub({txt:{"title.text.dictionary":"settings.feedback","subtitle.text.dictionary":"settings.feedbackSub"},"events.click":function(){var e=this.checkParent("api",!0);e.email.send.val={address:"helpme@mtvplay.tv",subject:i.get("text.mailHelp.title").val,body:i.get("text.mailHelp.body").val}}}),"$hasMobile.about":new r.IconRightSub({txt:{"title.text.dictionary":"settings.about","subtitle.text.dictionary":"settings.aboutSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from,t=a.user;e.previous="settings",e.data=t.data.from.get(["about","list","0"]),e.val="article"}}),newsletter:new r.IconRightSub({txt:{"title.text.dictionary":"settings.enableNewsletter.title","subtitle.text.dictionary":"settings.enableNewsletter.subtitle"},display:{val:"none",$isLoggedIn:"table"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="newsletter"}}),"native.wifi":new r.IconRightSub({txt:{"title.text.dictionary":"settings.connectivity","subtitle.text.dictionary":"settings.connectivitySub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="wifi"}}),verifyMobile:new r.IconRightSub({display:{val:o.$hasMobile,transform:function(e,t){return t&&o.$isLoggedIn.val?"table":"none"},listen:o.$isLoggedIn},txt:{"title.text.dictionary":"settings.verifyMobile","subtitle.text.dictionary":"settings.verifyMobileSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="settings",e.val="verifyMobile"}}),"native.intro":new r.IconRightSub({txt:{"title.text.dictionary":"settings.intro","subtitle.text.dictionary":"settings.introSub"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="settings",e.val="intro"}})},version:{text:{val:"MTV Play -",add:[" ",window["package"]&&window["package"].version]}},phone:{h:{parent:"h"},scroller:{scrollbar:"y",h:{parent:"h",sub:80}}}}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/share.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),e("../icon"),e("../item")),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("../button"),e("../text/input"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config"),e("../img"),e("./page"));t.exports=s=new r({css:"share","holder.thumb":new n.Thumb({thumb:{h:60,img:{h:60}},righticon:!1}),facebook:new n.IconLeft({lefticon:{icon:"facebook"},"txt.text.dictionary":"text.shareFacebook","events.click":function(){var e=this.checkParent("api",!0);e.facebook.share.val={val:!0,url:!0}}}),email:new n.IconLeft({lefticon:{icon:"email"},"txt.text.dictionary":"text.shareEmail","events.click":function(){var e=this.checkParent("api",!0);e.email.share.val=!0}})}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","../text/input":"/Users/shawn/Work/mtv-play/components/text/input.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/popup/upgrade.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),r=e("../button"),o=e("./page");s=t.exports=new o({css:"upgrade",block:{img:{},"title.text.dictionary":"text.purchase.goPremium","txt.text.dictionary":"text.purchase.getMore"},bottom:{"text.container":"text.legalContainer"},monthlyFee:new r({text:{dictionary:"text.purchase.monthlyPass.title",add:[" ",n.api.price.monthly]},display:{val:"none",$storeAvailable:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buyMonthly"}}),annualFee:new r({text:{dictionary:"text.purchase.yearlyPass.title",add:[" ",n.api.price.yearly]},display:{val:"none",$storeAvailable:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.val="buyYearly"}}),upgradeUsingPhone:new r({text:{dictionary:"tex.buyPremiumPhoneButton"},display:{val:"block",$storeAvailable:"none"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="roadblockUpgrade"}}),mobile:new r({"text.dictionary":"text.purchase.freeWithMTV",display:{val:"none",$hasMobile:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.val="verifyMobile"}}),or:{display:{val:"none",$hasOperator:"block"},text:{dictionary:"text.or"}},operator:new r({"text.dictionary":"text.purchase.operator",display:{val:"none",$hasOperator:"block"},"events.click":function(){var e=this.checkParent("on.popup",!0).from;e.previous="upgrade",e.data=n.cloud.data.get(["mtvData","operators"]),e.val="operatorListUpgrade"}})}).Class},{"../button":"/Users/shawn/Work/mtv-play/components/button/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js"}],"/Users/shawn/Work/mtv-play/components/popup/wifi.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("../icon"),e("../item")),r=e("./page"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=new r({css:"wifi",wifiSwitcher:new n.Switcher({css:"ui-item switch","on.$render.defer":function(e){this._parent._caller.righticon.hold.switchOn=o.wifiOnly,e()},txt:{"title.text.dictionary":"settings.enableCellular.title","subtitle.text.dictionary":"settings.enableCellular.subtitle"},"events.click":function(){var e=o.wifiOnly;e.val=!e.val}})}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../item":"/Users/shawn/Work/mtv-play/components/item/index.js","./page":"/Users/shawn/Work/mtv-play/components/popup/page.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/rotate-message/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("../icon");t.exports=new n({css:"rotate-message",holder:{icon:new r({icon:"phone"}),message:{text:{dictionary:"text.rotateDevice"}}}}).Class},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/rotate-message/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/rotate-message/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(s,arguments)},{}],"/Users/shawn/Work/mtv-play/components/second/bar/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),o=e("../../icon"),i=e("../../text"),a=r.get("connect.active"),l=r.get("connect.waiting");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");t.exports=new n({css:"second-bar",device:new o({icon:{data:"activeClient.device"}}),info:{html:{data:"activeClient.device",transform:function(e,t){return t?a.val+" "+i.highlight(t):l.val},listen:a}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../text":"/Users/shawn/Work/mtv-play/components/text/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/bar/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/bar/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/channel/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("../../icon"),i=e("../../img"),a=e("../grid"),l=new r({w:{val:a.colWidth,add:10,multiply:2,sub:10},y:{val:a.rowHeight,divide:2,add:40},title:{text:{data:"media.title"}},img:new i({background:{data:"media.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),extratitle:{text:{data:"media.title"}},description:{text:{data:"media.description"}}}),c=new i({h:n.h,w:{val:n.w,sub:[l.w,160]},background:{data:"media.img",range:100},overlay:{message:{swipeicon:new o({icon:"swipeup"}),text:"Press Watch Big your device to start playing!"}}});t.exports=new r({css:"second-channel",information:l,cover:c}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/channel/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/second/channel/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/channels/index.js":[function(e,t,s){e("./style.less");var n=e("../grid"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("../../img"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),a=e("../../epg_temp"),l=e("../../player/seekbar"),c=a.clockTime,u=new r({w:{parent:"itemWidth",sub:10},css:"grid-item",img:new o({w:{parent:"w",sub:2},h:{parent:"w",multiply:.75},background:{range:100}}),information:{channeltitle:{css:"ui-item-text",text:{data:"title"}},now:{text:{dictionary:"text.now"}},epg:{showtitle:{text:{data:"title"}},time:{text:{data:"minutes_since_midnight",transform:c,add:[" - ",{data:"endtime",transform:c}]}},bar:new l({seek:{w:{val:a.minutesSinceMidnight,sub:{data:"minutes_since_midnight"},divide:{data:"duration"},transform:function(e,t){return isNaN(parseInt(t))?0:100*t+"%"},clear:!0}},button:!1}),model:{inherit:!1}}},model:{subscription:{epgid:!0},val:function(e){var t=e.epgid&&e.epgid.val;void 0!==t&&(this.information.epg.data=a.now(t),this.model=!1)}}}).Class;n=new n({css:"second-channels",itemWidth:{val:i.w,sub:160,divide:{val:4,min:4},clear:!0},title:{text:"channels"},y:{val:n.rowHeight,divide:2,add:40},collection:{data:"channels",element:new u},model:function(e){var t=e.channels&&e.channels.keys,s=t&&t.length;s!==this._length&&(this.itemWidth={divide:s},this._length=s)}}),t.exports=n.Class},{"../../epg_temp":"/Users/shawn/Work/mtv-play/components/epg_temp.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../../player/seekbar":"/Users/shawn/Work/mtv-play/components/player/seekbar/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/channels/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/second/channels/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/discover/index.js":[function(e,t,s){e("./style.less");var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element")),r=e("../grid"),o=e("../../img"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),a=new r({itemHeight:r.rowHeight,title:{},w:{self:"itemWidth",add:10,multiply:1},collection:{data:!0},model:{val:function(e){e=e[this.collection._flag.data[2]];var t=e&&e.keys,s=t&&t.length;if(t&&s!==this._length){var n=this.parent;this.w={multiply:Math.ceil(s/4)||1},this._length=s,n._index=null,n.horizontalScroll.update()}}}}).Class,l=new n({title:{text:{dictionary:"text.nav.discover"}},holder:{h:{val:r.rowHeight,add:10,multiply:2,sub:10},w:{val:r.colWidth,add:10,multiply:3,sub:10},roll:{w:{parent:"w"},h:{parent:"h"},x:{parent:"w",multiply:{data:"carousel"},animation:!i.chromecast&&{easing:"outCubic",time:36}},collection:{data:"marquee",element:new o({w:{parent:"w"},h:{parent:"h"},background:{range:100}})}}}}).Class,c=new n;c.extend({horizontalScroll:function(e){var t=e.val,s=.25,n=Math.min(~~(t/s),3);if(n!==this._index){var r=this.children;0===n?this.x=0:1===n?this.x=-r[0].holder.w.val-80:2===n?this.x=-r[0].holder.w.val-80-r[1].w.val-80:this.x=-r[0].holder.w.val-80-r[1].w.val-80-r[2].w.val-80;for(var o,i,a=r.length-1;a>=0;a--)i=r[a],o?i.opacity=0:a!==n?i.opacity=.3:(i.opacity=1,o=!0);this._index=n}}}),t.exports=new c.Class({css:"second-discover","!chromecast.x.animation":{easing:"outCubic",time:36},y:{val:r.rowHeight,divide:2,add:40},horizontalScroll:{data:"scroll"},spotlight:new l,releases:new a({title:{text:{dictionary:"text.newReleases"}},collection:{data:"releases"}}),recommended:new a({title:{text:{dictionary:"text.recommended"}},collection:{data:"recommended"}}),free:new a({title:{text:{dictionary:"text.free"}},collection:{data:"free"}})}).Class},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/discover/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/discover/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/episode/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("../../icon"),i=e("../../img"),a=e("../grid"),l=new r({w:{val:a.colWidth,add:10,multiply:2,sub:10},y:{val:a.rowHeight,divide:2,add:40},title:{text:{data:"show.title"}},holder:{w:{parent:"w"},img:new i({background:{data:"media.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),extratitle:{text:{data:"media.title"}},opacity:{data:"media.number",transform:function(e,t){return t?(this.css="",1):(this.css="dontAnimate",0)}},subtitle:{text:{val:{dictionary:"text.season"},add:[" ",{data:"season.number"}," ",{dictionary:"text.episode"}," ",{data:"media.number"}]}},description:{text:{data:"media.description"}}}}),c=new i({h:n.h,w:{val:n.w,sub:[l.w,160]},background:{data:"show.img",range:100},overlay:{message:{swipeicon:new o({icon:{val:"cast",$isReceiver:"swipeup"}}),text:{dictionary:"text.recieveSecondScreen",transform:!1,$isReceiver:{transform:{dictionary:"text.recieveMainScreen"}}}}}});t.exports=new r({css:"second-episode",information:l,cover:c}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/episode/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/second/episode/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/grid/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),i=e("../../img"),a=new r,l=new r({w:{parent:"itemWidth"},h:{parent:"itemHeight"},css:"grid-item",img:new i({w:{parent:"w"},h:{parent:"h"},background:{range:100}})}).Class;a.extend({itemWidth:function(){},itemHeight:function(){}}),a.set({itemHeight:{},itemWidth:{self:"itemHeight",divide:.75},collection:{element:new l}}),t.exports=s=a.Class,s.Item=l,s.rowHeight=new o({val:n.h,sub:80,divide:6}),s.colWidth=new o({val:s.rowHeight,divide:.75})},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/grid/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/mtv-play/components/second/grid/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases")),o=e("./switcher"),i=e("./screensaver"),a=e("./bar");t.exports=new n({css:"second-state",switcher:r.phone?new i:new o,"!phone.bar":new a,"phone.button.title.text.dictionary":"text.returnTap"}).Class},{"./bar":"/Users/shawn/Work/mtv-play/components/second/bar/index.js","./screensaver":"/Users/shawn/Work/mtv-play/components/second/screensaver/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/style.less","./switcher":"/Users/shawn/Work/mtv-play/components/second/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/screensaver/index.js":[function(e,t,s){e("./style.less");var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher")),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("../../img")),i=new o({w:r.w,h:r.h}).Class,a=new i({model:{subscription:{$:{img:!0}},val:function(e){if(e._name){var t=e.keys;if(t){var s=t.length;if(s){var n=t[~~(Math.random()*s)];this.model=!1,this.data=e[n]}}}}}}).Class;t.exports=s=new n({css:"second-screensaver",on:{page:{defer:function(e){var t,s=this.$userOrigin.val,n=this._parent,r=n._caller,o=n.content.from;"discover"===s?t=o.get("marquee.list"):"shows"===s?t=o.get("shows"):"channels"===s&&(t=o.get("channels")),r.transition={element:a,$params:{data:t},$options:{force:!0}},e()}},show:{defer:function(e){var t=this.$userOrigin.val,s=this._parent,n=s._caller;n.transition={element:i,$params:{data:t},$options:{force:!0}},e()}},media:{defer:function(e){var t=this.$userOrigin.val,s=this._parent,n=s._caller;n.transition={element:i,$params:{data:t},$options:{force:!0}},e()}}},onTransition:function(e,t,s,n){
t&&(t.opacity={val:0,animation:{start:1,time:12}}),e.opacity={val:1,animation:{start:0,time:12,delay:12,done:function(){t&&t.remove()}}},this.add(e)}}).Class},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/screensaver/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher":"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/screensaver/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/show/index.js":[function(e,t,s){e("./style.less");var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element")),r=e("../grid"),o=e("../../img"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),a=new n({x:{val:0,add:{val:r.colWidth,add:50,multiply:2},animation:!i.chromecast&&{easing:"outCubic",time:36}},collection:{data:"seasons",element:new r({itemHeight:r.rowHeight,title:{text:{val:"season",add:[" ",{data:"number"}]}},w:{self:"itemWidth",add:10,multiply:1},collection:{data:"episodes"},model:{val:function(e){if(e.episodes){var t=e.episodes.keys,s=t.length;s!==this._length&&(this.w={multiply:Math.ceil(s/4)},this._length=s)}}}})}});a.extend({pos:function(e){var t=0|e.val,s=this.children;if(s[1]){t?s[t-1]&&(this.x=this.x.val-s[t-1].node.getBoundingClientRect().right):this.x.val=0;for(var n,r,o=s.length-1;o>=0;o--)r=s[o],n?r.opacity=0:o!==t?r.opacity=.3:(r.opacity=1,n=!0)}}}),t.exports=new n({css:"second-show",on:{show:{defer:function(e){var t=this._parent._caller;t.data=this.from.val,e()}},season:{defer:function(e){var t=this._parent._caller,s=this.from.val;if(s){var n=s&&s._name;t.data||(this._parent.show.val=s._parent._parent),void 0!==n&&(t.roll.pos.val=n)}e()}}},y:{val:r.rowHeight,divide:2,add:40},roll:a.set({pos:0,model:{field:"show",complete:function(){var e=this;window.requestAnimationFrame(function(){e.pos.update(),e.model=!1})}}}),information:{title:{text:{data:"show.title"}},holder:{h:{val:r.rowHeight,add:10,multiply:4,sub:10},w:{val:r.colWidth,add:10,multiply:2,sub:10},img:new o({background:{data:"show.img",range:100},w:{parent:"w"},h:{self:"w",divide:4/3}}),description:{text:{data:"show.description"}}}}}).Class},{"../../img":"/Users/shawn/Work/mtv-play/components/img/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/show/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/show/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/shows/index.js":[function(e,t,s){function n(e,t,s,n){for(var r,o,i=e.length-1;i>=0;i--)~t.indexOf(r=e[i])||(o=s[r])&&(o.img.opacity=n)}function r(e,t,s){if(e=s[e],t=s[t],e&&t){var n=o.h.val-80,r=t.node.getBoundingClientRect().bottom;if(r>=n)s.y.val-=r-n+20;else{var i=e.node.getBoundingClientRect().top;0>=i&&(s.y.val-=i)}s.y.val>0&&(s.y.val=0)}}e("./style.less");var o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),a=e("../../icon"),l=e("../grid"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/properties/collection/display"),u=new l({y:{translate:!0,add:10},"!chromecast.y.animation":{time:36,easing:"outCubic"},itemWidth:{val:o.w,sub:70,divide:6,clear:!0},itemHeight:{self:"itemWidth",divide:4/3,clear:!0},user:{},collection:{data:"shows",options:c,element:new l.Item({display:"inline-block",img:{background:{load:function(e){e.opacity&&e.opacity.val||(e.opacity=.3)}}},model:{val:function(e){var t=e._name;t&&(this.name=t,this.model=!1)}}}),filter:{condition:{title:{$contains:""}},sort:"title"}},model:{subscription:{$:{img:!0,title:!0}}}});u.user.extend({highlight:function(e){var t=e.val,s=this._parent||(this._parent=this.parent);if(t[0]){var o=t.split("."),i=s._old||(s._old=[]);o[0]&&(n(i,o,s,.3),n(o,i,s,1),r(o[0],o[o.length-1],s),s._old=o)}},search:function(e){for(var t=e.val,s=this._parent||(this._parent=this.parent),n="",r=0,o=t&&t.length;o>r;r++)n+="\\s*"+t[r];n+="\\s*",s.filter&&(s.filter.filter={condition:{title:{$contains:n}},sort:"title"})}}),u.user.set({highlight:{data:"highlight"},search:{data:"search"}});var p=new i({searchicon:new a({icon:"search"}),text:{data:"search",transform:function(e,t){return t}}});p.extend({paddingRight:function(e){this.node.style.paddingRight=e.val+"px"}}),t.exports=new i({css:"second-shows",grid:u,search:{searchholder:{searchbox:new p.Class({paddingRight:{self:"text",transform:function(e,t){return t[0]?20:0}},opacity:{self:"text",transform:function(e,t){return t[0]?1:0}}})}}}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../grid":"/Users/shawn/Work/mtv-play/components/second/grid/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/shows/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element/properties/collection/display":"/Users/shawn/Work/vigour-js/browser/element/properties/collection/display.js"}],"/Users/shawn/Work/mtv-play/components/second/shows/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/second/switcher/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher"),o=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),e("../../icon"));t.exports=s=new r({css:"second-switcher",on:{$remove:{defer:function(e){var t=this._parent._caller;t._timer&&clearTimeout(t._timer),e()}},page:{defer:function(t){var n,r,o=this.$userOrigin.val,i=this._parent,a=i._caller,l=i.content.from;o&&("discover"===o?(void 0===s[o]&&(s[o]=e("../discover")),n={marquee:l.get("marquee.list"),recommended:l.get("recommended.list"),releases:r=l.get("releases.list"),watched:i.watched.from,free:l.get("free.list"),channels:l.get("channels"),scroll:i.scroll.from,carousel:i.carousel.from}):"shows"===o?(void 0===s[o]&&(s[o]=e("../shows")),n={shows:r=l.get("shows"),search:i.search.from,highlight:i.highlight.from}):"channels"===o&&(void 0===s[o]&&(s[o]=e("../channels")),n={channels:r=l.get("channels")}),r&&(a.transition={element:s[o],$params:{data:n},$options:{loader:r.from}}),a.current="page"),t()}},show:{defer:function(t){var n,r,o=this.$userOrigin.val,i=this._parent,a=i._caller,l=o._name,c=i.season,u=i.media,p=i.usage;c.from.checkParent("_name",l)||(c.$userOrigin.val=o.from.get("seasons.0")),u.from.checkParent("_name",l)||(u.$userOrigin.val=o.from.get("seasons.0.episodes.0")),r=u.$userOrigin,n=c.$userOrigin,a.transition={element:s.show||(s.show=e("../show")),$params:{on:{season:n},data:{show:o,season:n,media:r,showusage:p.from.get(o.from._contentPath),mediausage:p.from.get(r.from._contentPath),volume:i.volume}},$options:{loader:o.from.seasons}},t()}},season:{defer:function(e,t){t[0]&&this._parent.show._update(),e()}},media:{defer:function(t){var n=this._parent,r=n._caller,o=this.$userOrigin.val;if(o||(o=this.$userOrigin.val=this.from),"episodes"===o._parent._name){var i=o._parent._parent,a=i._parent._parent;r.transition={element:s.episode||(s.episode=e("../episode")),$params:{data:{show:a,season:i,media:o}},$options:{loader:o.from},direction:"page"===r.current?1:"media"===r.current&&-1}}else"channels"===o._parent._name&&(r.transition={element:s.channel||(s.channel=e("../channel")),$params:{data:{media:o}},$options:{loader:o.from},direction:"channel"!==r.current&&1});t()}}},onTransition:function(e,t,s,n){t?(this.add(e,t),t.opacity=0,t.node.pointerEvents="none",this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){t&&t.remove(),this._timer=null,n.done&&n.done()},200)):(this.add(e),n.done&&n.done())},loader:new n({css:"second-loader",x:{translate:!0},loadicon:new o({icon:"logo"})})}).Class},{"../../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","../channel":"/Users/shawn/Work/mtv-play/components/second/channel/index.js","../channels":"/Users/shawn/Work/mtv-play/components/second/channels/index.js","../discover":"/Users/shawn/Work/mtv-play/components/second/discover/index.js","../episode":"/Users/shawn/Work/mtv-play/components/second/episode/index.js","../show":"/Users/shawn/Work/mtv-play/components/second/show/index.js","../shows":"/Users/shawn/Work/mtv-play/components/second/shows/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/second/switcher/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher":"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/second/switcher/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/first/discover/style.less"][0].apply(s,arguments)},{"../../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/switcher/index.js":[function(e,t,s){e("./style.less");var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=s=new r({css:"app-switcher",w:{parent:"w"},h:{parent:"h"},on:{state:{defer:function(t){var r,a,l,c,u,p,d=this._parent,h=d._caller,v=this.from.val,m=d.content._val,f=d.favourites._val,g=d.navigation._val,w=d.receiver._val,y=d.highlight._val,k=d.overlay._val,_=d.watched._val,j=d.search._val,b=d.usage._val,x=d.volume._val,U=d.scroll._val,W=d.carousel._val,C=d.notification._val,S=d.popup._val,A=d.play._val,T=d.loading._val,E=d.activeClient._val;"player"===v?window.StatusBar&&window.StatusBar.hide&&window.StatusBar.hide():window.StatusBar&&window.StatusBar.show&&window.StatusBar.show(),"empty"===v?c=(new n).Class:"first"===v||"player"===v&&(o.desktop||o.tablet)?(c=s.first||(s.first=e("../first")),o.tv?(u={switcher:{on:{content:m,page:g.page,show:g.show,media:g.media}}},u.sidemenu={data:{page:g.page}}):(u={on:{overlay:k,popup:S,notification:C,loading:T,state:this.from},section:{on:{msmedia:w.media,usage:b,play:w.playing,volume:w.volume},topbar:{on:{page:g.page,show:g.show,media:g.media}},switcher:{on:{content:m,favourites:f,page:g.page,show:g.show,season:g.season,media:g.media,highlight:y,scroll:U,search:j,usage:b,volume:x,watched:_,carousel:W,play:A,ms:w}}}},o.phone?u.section.topmenu={data:{page:g.page}}:u.sidemenu={data:{page:g.page}})):"second"===v?(c=s[v]||(s[v]=e("../second")),u={switcher:{on:{content:d.content,page:g.page,show:g.show,season:g.season,channel:g.channel,media:g.media,highlight:y,scroll:U,search:j,usage:b,watched:_,carousel:W}},bar:{data:{activeClient:E}}}):"player"===v&&(c=s[v]||(s[v]=e("../player")),r=this._val.video.from,"episodes"===r._parent._name?(a=r._parent._parent,l=a._parent._parent,u={data:{show:l,season:a,media:r,mediausage:b.from.get(r._contentPath),volume:x}}):"channels"===r._parent._name&&(u={data:{media:r,mediausage:b.from.get(r._contentPath),volume:x}})),c&&(h.transition={element:c,$params:u,$options:{force:p}},i.user.updateNavigation()),t()}}},onTransition:function(e,t){t&&t.remove(),this.add(e)}}).Class},{"../first":"/Users/shawn/Work/mtv-play/components/first/index.js","../player":"/Users/shawn/Work/mtv-play/components/player/index.js","../second":"/Users/shawn/Work/mtv-play/components/second/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/switcher/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/switcher":"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/components/switcher/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/components/text/index.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),o=r.get("text.season"),i=r.get("text.seasons"),a=r.get("text.episode"),l=r.get("text.episodes");s.Title=new n({text:{data:"title"}}).Class,s.Subtitle=new n({text:{data:{val:function(e){if(e&&(e=e.from),!e)return"";if(e.subtitle)return e.subtitle.val||"";if(e.number){var t=e._parent._parent,s=t.number?t.number.val:e.season&&e.season.val||(0|t._name)+1;if("seasons"===e._parent._name)return o.val+" "+e.number.val;if(!isNaN(s))return o.val+" "+s+" "+a.val+" "+e.number.val}if(e.seasonCount&&e.episodeCount){var n=e.seasonCount.val,r=e.seasonCount.val>1?i.val:o.val,c=e.episodeCount.val,u=e.episodeCount.val>1?l.val:a.val;return n+" "+r+" "+c+" "+u||""}return""},listen:["seasonCount","episodeCount","subtitle","number","season"]},listen:r}}).Class,s.TitleSubtitle=new n({title:new s.Title,subtitle:new s.Subtitle}).Class,s.Description=new n({text:{data:"media.description","default":{dictionary:"text.noDescription"}}}).Class,s.highlight=function(e){var t=e.charAt(0),s=e.slice(1),n="i"!==t?t.toUpperCase()+s:t+s.charAt(0).toUpperCase()+s.slice(1);return'<span class="text-highlight">'+n+"</span>"}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/mtv-play/components/text/input.js":[function(e,t,s){function n(e,t){t.focused=e,t.corrected||(t.corrected=c.h.val);var s=d.y(e),n=t.corrected-380;s>n&&(p.ios||(t.focusing=!0),t.y.animation||p.ios||(t.y={animation:{time:10,easing:"outCubic",complete:function(){this.focusing=!1}}}),t.y={sub:s-n-10})}function r(e){var t=this.node;document.body.scrollTop=0,window.requestAnimationFrame(function(){document.body.scrollTop=0});var s=this.parent.input;if(c.blockResize=!0,this.parent.css="ui-item ui-input active focus",t.value===this.text.val&&(t.value=""),s&&"password"===s.val&&(t.setAttribute("type","password"),t.setAttribute("autocapitalize","off")),m){var n=this,r=function(){o.call(n),t.removeEventListener("blur",r,!0)};t.addEventListener("blur",r,!0)}}function o(){if(!this.focusing){window.scrollTo(0,0),c.blockResize=!1;var e,t=this.parent.input;p.touch&&t&&t.holder&&(e=t.holder.val,e&&!e.focusing&&(e.y={sub:0})),""===this.node.value?(this.node.value=this.text.val,this.parent.css="ui-item ui-input",t&&"password"===t.val&&this.node.setAttribute("type","text")):this.parent.css="ui-item ui-input active"}}function i(e){var t,s=this.node.type,n=this.parent,r=this.node.value;if("text"!==s||n.input){t=n.input.val,"password"===t?n.verified=r.length>3:"email"===s||"email"===t?(n.verified=/^[a-zA-Z0-9._%+-]+@[A-Za-z0-9.-]+\.[a-zA-Z]{2,4}$/.test(r),this.node.value=r.trim()):n.input&&"phone"===n.input.val?n.verified=/^(\d){6,12}$/.test(r):n.input&&n.input.verify&&1===n.input.verify.__t?n.verified=r>n.input.verify[0]&&r<n.input.verify[1]:n.verified=r.length>2,n.input&&n.input.keyup&&"function"==typeof n.input.keyup._val&&n.input.keyup._val.call(n,n.verified);var o,i,a,l=this._form!==!1&&(this._form||(this._form=this.checkParent("verify"))||!1),c=l&&l.verify;if(c){for(i=this._righticon||(this._righticon=this.checkParent("topbar.holder.righticon",!0)),a=c.length-1;a>=0;a--)l[c[a]._val].verified||(o=!0,l.verificationError=c[a]);i.css=o?"pointer":"pointer verified",i.verified=!o,l.verified=!o}}}e("./style.less");var a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),l=e("../icon"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),d=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/offset"),h=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),v=new a({css:"ui-item ui-input",lefticon:new l({icon:"email"})}),m="firefox"===h.browser;v.extend({input:function(e){var t,s=e.val,n=e&&e.text&&e.text.val;s&&(t={user:{text:n||"text.username",icon:"profile"},email:{text:n||"text.email",msg:"text.account.invalid.email"},password:{text:n||"text.password",msg:"text.invalid.password",icon:"locked"},phone:{text:"text.cellphone",msg:"text.invalid.phoneWord"}},this.txt.text=t[s]?{dictionary:t[s].text}:s,this.lefticon.icon=t[s].icon||s),"phone"===s?this.txt.attr={type:"tel",pattern:"d*"}:"age"===s&&(this.txt.attr={type:"tel",pattern:"d*"})}},{name:"key",get:function(){return this.input&&this.input.val||this.txt.attr&&this.txt.attr.type.val}},{name:"val",get:function(){return this.txt.node.value}}),t.exports=s=v.set({txt:{node:"input",attr:{type:"text",autocapitalize:"off"},text:"search",css:"inactive",events:{focusin:r,focusout:o,keyup:m&&r,input:i,move:function(e){e.preventDefault()},click:function(e){e&&e.preventDefault(),c.blockResize=!0,this.node.focus(),m&&r.call(this)},down:function(e){if(!u.click.block){var t=this,s=t.parent.input&&t.parent.input.holder;p.touch&&s&&s.val&&n(t,s.val)}}}},events:{out:function(e){"INPUT"!==e.target.tagName&&this.txt.node.blur()}}}).Class,u.confirm={val:{up:function(e,t,s){e.preventDefault(),t.call(this,e,s)}}},s.Form=new a({node:"form",submitfix:{node:"input","attr.type":"submit"},events:{submit:function(e){e.preventDefault(),p.touch&&!this.fDown||!this.done||this.done()},down:function(e){this.fDown=!0}}}).Class,s.Form.base.extend({verify:function(){}})},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/text/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events":"/Users/shawn/Work/vigour-js/browser/events/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events/offset":"/Users/shawn/Work/vigour-js/browser/events/offset.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js"}],"/Users/shawn/Work/mtv-play/components/text/search.js":[function(e,t,s){function n(e,t){p.touch&&(u.click.block=1===t?!1:!0,e.items.opacity=t,e.favos.opacity=t)}function r(e,t){if(e&&2===e.__t)throw new Error("object in search");if(e=e&&e.trim()||"",e.length)t.favos.display="none",t.search.clear.icon="closesmall";else{t.favos.display="block",t.search.clear.icon="empty";var s=e?e.trim():"";t.search.field.data.search.$userOrigin=s}for(var n="",r=0,o=e.length;o>r;r++){var i=e[r];("$"===i||"S"===i.toUpperCase())&&(i="(\\$|s)"),n+="\\s*"+i}n+="\\s*",t.items.filter&&(t.items.filter.filter={condition:{title:{$contains:n}},sort:"title"})}function o(e,t,s){this.css="ui-search focus",s||(d.blockResize=!0,n(this.parent,.5),this.field.node.focus(),this._active=!0)}function i(e,t){var s=t?"":e.field.node.value.trim();s.length||(e.css="ui-search",e.clear.icon="empty",e.field.node.value=s,r(s,e.parent)),n(e.parent,1),e._active=!1,d.blockResize=!1}e("./style.less");var a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element"),l=e("../icon"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),d=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/");t.exports=new a({node:"form",css:"ui-search",name:"search",w:{val:210,touch:{val:d.w,sub:30}},icon:new l({icon:"search",h:30,placeholder:{"text.dictionary":"text.search"}}),field:{node:"input",attr:{type:"text",name:"search",listen:c.get("text.search"),placeholder:c.get("text.search")},text:{data:function(e){if(e){var t=e.search.val;return(this.first||t)&&(this.first=!0),this.first&&(r(t,this.parent.parent),void 0===t||t===!1?i(this.parent):this.parent.fromDown?this.parent.fromDown=!1:o.call(this.parent,!1,!1,!0)),t||""}return""}},events:{keydown:function(e){13==e.keyCode&&e.preventDefault()},keyup:function(e){if(9!==e.keyCode){var t=this.node.value.length?this.node.value.trim():"";this.data.search.$userOrigin=t}}}},clear:new l({node:"form",icon:"empty",events:{down:function(e){if(e.prevent=!0,this.parent.fromDown=!0,this.parent.field.data.search.$userOrigin="",p.touch){var t="",s=this.parent.field.node;s.value=t,o.call(this.parent),r(t,this.parent.parent)}else i(this.parent,!0)}}}),cancel:{"text.dictionary":"text.cancel",events:{down:function(e){e.prevent=!0,i(this.parent,!0),this.parent.data.search.$userOrigin=""}}},events:{click:o,out:function(e){this._active&&i(this)}}})},{"../icon":"/Users/shawn/Work/mtv-play/components/icon/index.js","./style.less":"/Users/shawn/Work/mtv-play/components/text/style.less","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/dictionary":"/Users/shawn/Work/vigour-js/app/dictionary/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events":"/Users/shawn/Work/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/mtv-play/components/text/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/components/button/style.less"][0].apply(s,arguments)},{"../../common.less":"/Users/shawn/Work/mtv-play/common.less"}],"/Users/shawn/Work/mtv-play/config.js":[function(e,t,s){window.name="mtvplay",t.exports=s=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config").inject({"repository.branch":"branches"},e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config/ua")),s(function(e){for(var t in e)s[t]=e[t];s.parsed=!0},!1,window["package"],!0)},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config/ua":"/Users/shawn/Work/vigour-js/util/config/ua.js"}],"/Users/shawn/Work/mtv-play/index.js":[function(e,t,s){window["package"]=e("package.json");var n,r=e("./config");if(r.development&&r.development.button&&(n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/debug")["native"](!1,!1,function(e){},"build")),!n){var o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua");~window.location.href.indexOf("$tv")&&(o.tv=!0,i.device="tv"),~window.location.href.indexOf("$chromecast")&&(o.chromecast=!0,i.device="chromecast"),"tv"===i.device&&"linux"===i.platform&&(i.platform="lg"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/"),(o.tv||o.chromecast)&&(o.$iplogin=!0),o.chromecast?e("./platform/cast.js"):o.tv?e("./platform/tv.js"):(o.phoneBrowser="phone"===i.device&&!(o["native"]||o.$isIosFull),e("./platform/all.js"))}},{"./config":"/Users/shawn/Work/mtv-play/config.js","./platform/all.js":"/Users/shawn/Work/mtv-play/platform/all.js","./platform/cast.js":"/Users/shawn/Work/mtv-play/platform/cast.js","./platform/tv.js":"/Users/shawn/Work/mtv-play/platform/tv.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/debug":"/Users/shawn/Work/vigour-js/util/debug/index.js","package.json":"package.json"}],"/Users/shawn/Work/mtv-play/libs/zepto.js":[function(e,t,s){var n=function(){function e(e){return null==e?String(e):J[X.call(e)]||"object"}function t(t){return"function"==e(t)}function s(e){return null!=e&&e==e.window}function n(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function o(e){return r(e)&&!s(e)&&Object.getPrototypeOf(e)==Object.prototype}function i(e){return"number"==typeof e.length}function a(e){return T.call(e,function(e){return null!=e})}function l(e){return e.length>0?x.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e){return e in P?P[e]:P[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||L[c(e)]?t:t+"px"}function d(e){var t,s;return $[e]||(t=O.createElement(e),O.body.appendChild(t),s=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==s&&(s="block"),$[e]=s),$[e]}function h(e){return"children"in e?E.call(e.children):x.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function v(e,t){var s,n=e?e.length:0;for(s=0;n>s;s++)this[s]=e[s];this.length=n,this.selector=t||""}function m(e,t,s){for(b in t)s&&(o(t[b])||Q(t[b]))?(o(t[b])&&!o(e[b])&&(e[b]={}),Q(t[b])&&!Q(e[b])&&(e[b]=[]),m(e[b],t[b],s)):t[b]!==j&&(e[b]=t[b])}function f(e,t){return null==t?x(e):x(e).filter(t)}function g(e,s,n,r){return t(s)?s.call(e,n,r):s}function w(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)}function y(e,t){var s=e.className||"",n=s&&s.baseVal!==j;return t===j?n?s.baseVal:s:void(n?s.baseVal=t:e.className=t)}function k(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?x.parseJSON(e):e):e}catch(t){return e}}function _(e,t){t(e);for(var s=0,n=e.childNodes.length;n>s;s++)_(e.childNodes[s],t)}var j,b,x,U,W,C,S=[],A=S.concat,T=S.filter,E=S.slice,O=window.document,$={},P={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},R=/^\s*<(\w+|!)[^>]*>/,D=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,I=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,N=/^(?:body|html)$/i,B=/([A-Z])/g,M=["val","css","html","text","data","width","height","offset"],F=["after","prepend","before","append"],q=O.createElement("table"),H=O.createElement("tr"),z={tr:O.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:H,th:H,"*":O.createElement("div")},V=/complete|loaded|interactive/,G=/^[\w-]*$/,J={},X=J.toString,Y={},K=O.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Q=Array.isArray||function(e){return e instanceof Array};return Y.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var s=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(s)return s.call(e,t);var n,r=e.parentNode,o=!r;return o&&(r=K).appendChild(e),n=~Y.qsa(r,t).indexOf(e),o&&K.removeChild(e),n},W=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},C=function(e){return T.call(e,function(t,s){return e.indexOf(t)==s})},Y.fragment=function(e,t,s){var n,r,i;return D.test(e)&&(n=x(O.createElement(RegExp.$1))),n||(e.replace&&(e=e.replace(I,"<$1></$2>")),t===j&&(t=R.test(e)&&RegExp.$1),t in z||(t="*"),i=z[t],i.innerHTML=""+e,n=x.each(E.call(i.childNodes),function(){i.removeChild(this)})),o(s)&&(r=x(n),x.each(s,function(e,t){M.indexOf(e)>-1?r[e](t):r.attr(e,t)})),n},Y.Z=function(e,t){return new v(e,t)},Y.isZ=function(e){return e instanceof Y.Z},Y.init=function(e,s){var n;if(!e)return Y.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&R.test(e))n=Y.fragment(e,RegExp.$1,s),e=null;else{if(s!==j)return x(s).find(e);n=Y.qsa(O,e)}else{if(t(e))return x(O).ready(e);if(Y.isZ(e))return e;if(Q(e))n=a(e);else if(r(e))n=[e],e=null;else if(R.test(e))n=Y.fragment(e.trim(),RegExp.$1,s),e=null;else{if(s!==j)return x(s).find(e);n=Y.qsa(O,e)}}return Y.Z(n,e)},x=function(e,t){return Y.init(e,t)},x.extend=function(e){var t,s=E.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),s.forEach(function(s){m(e,s,t)}),e},Y.qsa=function(e,t){var s,n="#"==t[0],r=!n&&"."==t[0],o=n||r?t.slice(1):t,i=G.test(o);return e.getElementById&&i&&n?(s=e.getElementById(o))?[s]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:E.call(i&&!n&&e.getElementsByClassName?r?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},x.contains=O.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},x.type=e,x.isFunction=t,x.isWindow=s,x.isArray=Q,x.isPlainObject=o,x.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},x.inArray=function(e,t,s){return S.indexOf.call(t,e,s)},x.camelCase=W,x.trim=function(e){return null==e?"":String.prototype.trim.call(e)},x.uuid=0,x.support={},x.expr={},x.noop=function(){},x.map=function(e,t){var s,n,r,o=[];if(i(e))for(n=0;n<e.length;n++)s=t(e[n],n),null!=s&&o.push(s);else for(r in e)s=t(e[r],r),null!=s&&o.push(s);return l(o)},x.each=function(e,t){var s,n;if(i(e)){for(s=0;s<e.length;s++)if(t.call(e[s],s,e[s])===!1)return e}else for(n in e)if(t.call(e[n],n,e[n])===!1)return e;return e},x.grep=function(e,t){return T.call(e,t)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),x.fn={constructor:Y.Z,length:0,forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,splice:S.splice,indexOf:S.indexOf,concat:function(){
var e,t,s=[];for(e=0;e<arguments.length;e++)t=arguments[e],s[e]=Y.isZ(t)?t.toArray():t;return A.apply(Y.isZ(this)?this.toArray():this,s)},map:function(e){return x(x.map(this,function(t,s){return e.call(t,s,t)}))},slice:function(){return x(E.apply(this,arguments))},ready:function(e){return V.test(O.readyState)&&O.body?e(x):O.addEventListener("DOMContentLoaded",function(){e(x)},!1),this},get:function(e){return e===j?E.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return S.every.call(this,function(t,s){return e.call(t,s,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):x(T.call(this,function(t){return Y.matches(t,e)}))},add:function(e,t){return x(C(this.concat(x(e,t))))},is:function(e){return this.length>0&&Y.matches(this[0],e)},not:function(e){var s=[];if(t(e)&&e.call!==j)this.each(function(t){e.call(this,t)||s.push(this)});else{var n="string"==typeof e?this.filter(e):i(e)&&t(e.item)?E.call(e):x(e);this.forEach(function(e){n.indexOf(e)<0&&s.push(e)})}return x(s)},has:function(e){return this.filter(function(){return r(e)?x.contains(this,e):x(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:x(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:x(e)},find:function(e){var t,s=this;return t=e?"object"==typeof e?x(e).filter(function(){var e=this;return S.some.call(s,function(t){return x.contains(t,e)})}):1==this.length?x(Y.qsa(this[0],e)):this.map(function(){return Y.qsa(this,e)}):x()},closest:function(e,t){var s=this[0],r=!1;for("object"==typeof e&&(r=x(e));s&&!(r?r.indexOf(s)>=0:Y.matches(s,e));)s=s!==t&&!n(s)&&s.parentNode;return x(s)},parents:function(e){for(var t=[],s=this;s.length>0;)s=x.map(s,function(e){return(e=e.parentNode)&&!n(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return f(t,e)},parent:function(e){return f(C(this.pluck("parentNode")),e)},children:function(e){return f(this.map(function(){return h(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||E.call(this.childNodes)})},siblings:function(e){return f(this.map(function(e,t){return T.call(h(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return x.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var s=t(e);if(this[0]&&!s)var n=x(e).get(0),r=n.parentNode||this.length>1;return this.each(function(t){x(this).wrapAll(s?e.call(this,t):r?n.cloneNode(!0):n)})},wrapAll:function(e){if(this[0]){x(this[0]).before(e=x(e));for(var t;(t=e.children()).length;)e=t.first();x(e).append(this)}return this},wrapInner:function(e){var s=t(e);return this.each(function(t){var n=x(this),r=n.contents(),o=s?e.call(this,t):e;r.length?r.wrapAll(o):n.append(o)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=x(this);(e===j?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return x(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return x(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var s=this.innerHTML;x(this).empty().append(g(this,e,t,s))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var s=g(this,e,t,this.textContent);this.textContent=null==s?"":""+s}):0 in this?this[0].textContent:null},attr:function(e,t){var s;return"string"!=typeof e||1 in arguments?this.each(function(s){if(1===this.nodeType)if(r(e))for(b in e)w(this,b,e[b]);else w(this,e,g(this,t,s,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(s=this[0].getAttribute(e))&&e in this[0]?this[0][e]:s:j},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){w(this,e)},this)})},prop:function(e,t){return e=Z[e]||e,1 in arguments?this.each(function(s){this[e]=g(this,t,s,this[e])}):this[0]&&this[0][e]},data:function(e,t){var s="data-"+e.replace(B,"-$1").toLowerCase(),n=1 in arguments?this.attr(s,t):this.attr(s);return null!==n?k(n):j},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var s=x(this),n=g(this,e,t,s.offset()),r=s.offsetParent().offset(),o={top:n.top-r.top,left:n.left-r.left};"static"==s.css("position")&&(o.position="relative"),s.css(o)});if(!this.length)return null;if(!x.contains(O.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,s){if(arguments.length<2){var n,r=this[0];if(!r)return;if(n=getComputedStyle(r,""),"string"==typeof t)return r.style[W(t)]||n.getPropertyValue(t);if(Q(t)){var o={};return x.each(t,function(e,t){o[t]=r.style[W(t)]||n.getPropertyValue(t)}),o}}var i="";if("string"==e(t))s||0===s?i=c(t)+":"+p(t,s):this.each(function(){this.style.removeProperty(c(t))});else for(b in t)t[b]||0===t[b]?i+=c(b)+":"+p(b,t[b])+";":this.each(function(){this.style.removeProperty(c(b))});return this.each(function(){this.style.cssText+=";"+i})},index:function(e){return e?this.indexOf(x(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?S.some.call(this,function(e){return this.test(y(e))},u(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){U=[];var s=y(this),n=g(this,e,t,s);n.split(/\s+/g).forEach(function(e){x(this).hasClass(e)||U.push(e)},this),U.length&&y(this,s+(s?" ":"")+U.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===j)return y(this,"");U=y(this),g(this,e,t,U).split(/\s+/g).forEach(function(e){U=U.replace(u(e)," ")}),y(this,U.trim())}})},toggleClass:function(e,t){return e?this.each(function(s){var n=x(this),r=g(this,e,s,y(this));r.split(/\s+/g).forEach(function(e){(t===j?!n.hasClass(e):t)?n.addClass(e):n.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===j?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===j?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),s=this.offset(),n=N.test(t[0].nodeName)?{top:0,left:0}:t.offset();return s.top-=parseFloat(x(e).css("margin-top"))||0,s.left-=parseFloat(x(e).css("margin-left"))||0,n.top+=parseFloat(x(t[0]).css("border-top-width"))||0,n.left+=parseFloat(x(t[0]).css("border-left-width"))||0,{top:s.top-n.top,left:s.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||O.body;e&&!N.test(e.nodeName)&&"static"==x(e).css("position");)e=e.offsetParent;return e})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});x.fn[e]=function(r){var o,i=this[0];return r===j?s(i)?i["inner"+t]:n(i)?i.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){i=x(this),i.css(e,g(this,r,t,i[e]()))})}}),F.forEach(function(t,s){var n=s%2;x.fn[t]=function(){var t,r,o=x.map(arguments,function(s){return t=e(s),"object"==t||"array"==t||null==s?s:Y.fragment(s)}),i=this.length>1;return o.length<1?this:this.each(function(e,t){r=n?t:t.parentNode,t=0==s?t.nextSibling:1==s?t.firstChild:2==s?t:null;var a=x.contains(O.documentElement,r);o.forEach(function(e){if(i)e=e.cloneNode(!0);else if(!r)return x(e).remove();r.insertBefore(e,t),a&&_(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},x.fn[n?t+"To":"insert"+(s?"Before":"After")]=function(e){return x(e)[t](this),this}}),Y.Z.prototype=v.prototype=x.fn,Y.uniq=C,Y.deserializeValue=k,x.zepto=Y,x}();window.Zepto=n,void 0===window.$&&(window.$=n),s.Zepto=window.Zepto,s.$=window.$,function(e){function t(t,s,n){var r=e.Event(s);return e(t).trigger(r,n),!r.isDefaultPrevented()}function s(e,s,n,r){return e.global?t(s||w,n,r):void 0}function n(t){t.global&&0===e.active++&&s(t,null,"ajaxStart")}function r(t){t.global&&!--e.active&&s(t,null,"ajaxStop")}function o(e,t){var n=t.context;return t.beforeSend.call(n,e,t)===!1||s(t,n,"ajaxBeforeSend",[e,t])===!1?!1:void s(t,n,"ajaxSend",[e,t])}function i(e,t,n,r){var o=n.context,i="success";n.success.call(o,e,i,t),r&&r.resolveWith(o,[e,i,t]),s(n,o,"ajaxSuccess",[t,n,e]),l(i,t,n)}function a(e,t,n,r,o){var i=r.context;r.error.call(i,n,t,e),o&&o.rejectWith(i,[n,t,e]),s(r,i,"ajaxError",[n,r,e||t]),l(t,n,r)}function l(e,t,n){var o=n.context;n.complete.call(o,t,e),s(n,o,"ajaxComplete",[t,n]),r(n)}function c(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==b?"html":e==j?"json":k.test(e)?"script":_.test(e)&&"xml")||"text"}function p(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function d(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=p(t.url,t.data),t.data=void 0)}function h(t,s,n,r){return e.isFunction(s)&&(r=n,n=s,s=void 0),e.isFunction(n)||(r=n,n=void 0),{url:t,data:s,success:n,dataType:r}}function v(t,s,n,r){var o,i=e.isArray(s),a=e.isPlainObject(s);e.each(s,function(s,l){o=e.type(l),r&&(s=n?r:r+"["+(a||"object"==o||"array"==o?s:"")+"]"),!r&&i?t.add(l.name,l.value):"array"==o||!n&&"object"==o?v(t,l,n,s):t.add(s,l)})}var m,f,g=0,w=window.document,y=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,k=/^(?:text|application)\/javascript/i,_=/^(?:text|application)\/xml/i,j="application/json",b="text/html",x=/^\s*$/,U=w.createElement("a");U.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,s){if(!("type"in t))return e.ajax(t);var n,r,l=t.jsonpCallback,c=(e.isFunction(l)?l():l)||"jsonp"+ ++g,u=w.createElement("script"),p=window[c],d=function(t){e(u).triggerHandler("error",t||"abort")},h={abort:d};return s&&s.promise(h),e(u).on("load error",function(o,l){clearTimeout(r),e(u).off().remove(),"error"!=o.type&&n?i(n[0],h,t,s):a(null,l||"error",h,t,s),window[c]=p,n&&e.isFunction(p)&&p(n[0]),p=n=void 0}),o(h,t)===!1?(d("abort"),h):(window[c]=function(){n=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),w.head.appendChild(u),t.timeout>0&&(r=setTimeout(function(){d("timeout")},t.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:j,xml:"application/xml, text/xml",html:b,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var s,r,l=e.extend({},t||{}),h=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===l[m]&&(l[m]=e.ajaxSettings[m]);n(l),l.crossDomain||(s=w.createElement("a"),s.href=l.url,s.href=s.href,l.crossDomain=U.protocol+"//"+U.host!=s.protocol+"//"+s.host),l.url||(l.url=window.location.toString()),(r=l.url.indexOf("#"))>-1&&(l.url=l.url.slice(0,r)),d(l);var v=l.dataType,g=/\?.+=\?/.test(l.url);if(g&&(v="jsonp"),l.cache!==!1&&(t&&t.cache===!0||"script"!=v&&"jsonp"!=v)||(l.url=p(l.url,"_="+Date.now())),"jsonp"==v)return g||(l.url=p(l.url,l.jsonp?l.jsonp+"=?":l.jsonp===!1?"":"callback=?")),e.ajaxJSONP(l,h);var y,k=l.accepts[v],_={},j=function(e,t){_[e.toLowerCase()]=[e,t]},b=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,W=l.xhr(),C=W.setRequestHeader;if(h&&h.promise(W),l.crossDomain||j("X-Requested-With","XMLHttpRequest"),j("Accept",k||"*/*"),(k=l.mimeType||k)&&(k.indexOf(",")>-1&&(k=k.split(",",2)[0]),W.overrideMimeType&&W.overrideMimeType(k)),(l.contentType||l.contentType!==!1&&l.data&&"GET"!=l.type.toUpperCase())&&j("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(f in l.headers)j(f,l.headers[f]);if(W.setRequestHeader=j,W.onreadystatechange=function(){if(4==W.readyState){W.onreadystatechange=c,clearTimeout(y);var t,s=!1;if(W.status>=200&&W.status<300||304==W.status||0==W.status&&"file:"==b){v=v||u(l.mimeType||W.getResponseHeader("content-type")),t=W.responseText;try{"script"==v?(1,eval)(t):"xml"==v?t=W.responseXML:"json"==v&&(t=x.test(t)?null:e.parseJSON(t))}catch(n){s=n}s?a(s,"parsererror",W,l,h):i(t,W,l,h)}else a(W.statusText||null,W.status?"error":"abort",W,l,h)}},o(W,l)===!1)return W.abort(),a(null,"abort",W,l,h),W;if(l.xhrFields)for(f in l.xhrFields)W[f]=l.xhrFields[f];var S="async"in l?l.async:!0;W.open(l.type,l.url,S,l.username,l.password);for(f in _)C.apply(W,_[f]);return l.timeout>0&&(y=setTimeout(function(){W.onreadystatechange=c,W.abort(),a(null,"timeout",W,l,h)},l.timeout)),W.send(l.data?l.data:null),W},e.get=function(){return e.ajax(h.apply(null,arguments))},e.post=function(){var t=h.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=h.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,s,n){if(!this.length)return this;var r,o=this,i=t.split(/\s/),a=h(t,s,n),l=a.success;return i.length>1&&(a.url=i[0],r=i[1]),a.success=function(t){o.html(r?e("<div>").html(t.replace(y,"")).find(r):t),l&&l.apply(o,arguments)},e.ajax(a),this};var W=encodeURIComponent;e.param=function(t,s){var n=[];return n.add=function(t,s){e.isFunction(s)&&(s=s()),null==s&&(s=""),this.push(W(t)+"="+W(s))},v(n,t,s),n.join("&").replace(/%20/g,"+")}}(n),function(e){function t(s){var n=[["resolve","done",e.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",e.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",e.Callbacks({memory:1})]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var s=arguments;return t(function(t){e.each(n,function(n,r){var a=e.isFunction(s[n])&&s[n];i[r[1]](function(){var s=a&&a.apply(this,arguments);if(s&&e.isFunction(s.promise))s.promise().done(t.resolve).fail(t.reject).progress(t.notify);else{var n=this===o?t.promise():this,i=a?[s]:arguments;t[r[0]+"With"](n,i)}})}),s=null}).promise()},promise:function(t){return null!=t?e.extend(t,o):o}},i={};return e.each(n,function(e,t){var s=t[2],a=t[3];o[t[1]]=s.add,a&&s.add(function(){r=a},n[1^e][2].disable,n[2][2].lock),i[t[0]]=function(){return i[t[0]+"With"](this===i?o:this,arguments),this},i[t[0]+"With"]=s.fireWith}),o.promise(i),s&&s.call(i,i),i}var s=Array.prototype.slice;e.when=function(n){var r,o,i,a=s.call(arguments),l=a.length,c=0,u=1!==l||n&&e.isFunction(n.promise)?l:0,p=1===u?n:t(),d=function(e,t,n){return function(o){t[e]=this,n[e]=arguments.length>1?s.call(arguments):o,n===r?p.notifyWith(t,n):--u||p.resolveWith(t,n)}};if(l>1)for(r=new Array(l),o=new Array(l),i=new Array(l);l>c;++c)a[c]&&e.isFunction(a[c].promise)?a[c].promise().done(d(c,i,a)).fail(p.reject).progress(d(c,o,r)):--u;return u||p.resolveWith(i,a),p.promise()},e.Deferred=t}(n),function(e){function t(e){return e._zid||(e._zid=d++)}function s(e,s,o,i){if(s=n(s),s.ns)var a=r(s.ns);return(f[t(e)]||[]).filter(function(e){return e&&(!s.e||e.e==s.e)&&(!s.ns||a.test(e.ns))&&(!o||t(e.fn)===t(o))&&(!i||e.sel==i)})}function n(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!w&&e.e in y||!!t}function i(e){return k[e]||w&&y[e]||e}function a(s,r,a,l,u,d,h){var v=t(s),m=f[v]||(f[v]=[]);r.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(a);var r=n(t);r.fn=a,r.sel=u,r.e in k&&(a=function(t){var s=t.relatedTarget;return!s||s!==this&&!e.contains(this,s)?r.fn.apply(this,arguments):void 0}),r.del=d;var v=d||a;r.proxy=function(e){if(e=c(e),!e.isImmediatePropagationStopped()){e.data=l;var t=v.apply(s,e._args==p?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},r.i=m.length,m.push(r),"addEventListener"in s&&s.addEventListener(i(r.e),r.proxy,o(r,h))})}function l(e,n,r,a,l){var c=t(e);(n||"").split(/\s/).forEach(function(t){s(e,t,r,a).forEach(function(t){delete f[c][t.i],"removeEventListener"in e&&e.removeEventListener(i(t.e),t.proxy,o(t,l))})})}function c(t,s){return(s||!t.isDefaultPrevented)&&(s||(s=t),e.each(x,function(e,n){var r=s[e];t[e]=function(){return this[n]=_,r&&r.apply(s,arguments)},t[n]=j}),(s.defaultPrevented!==p?s.defaultPrevented:"returnValue"in s?s.returnValue===!1:s.getPreventDefault&&s.getPreventDefault())&&(t.isDefaultPrevented=_)),t}function u(e){var t,s={originalEvent:e};for(t in e)b.test(t)||e[t]===p||(s[t]=e[t]);return c(s,e)}var p,d=1,h=Array.prototype.slice,v=e.isFunction,m=function(e){return"string"==typeof e},f={},g={},w="onfocusin"in window,y={focus:"focusin",blur:"focusout"},k={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:a,remove:l},e.proxy=function(s,n){var r=2 in arguments&&h.call(arguments,2);if(v(s)){var o=function(){return s.apply(n,r?r.concat(h.call(arguments)):arguments)};return o._zid=t(s),o}if(m(n))return r?(r.unshift(s[n],s),e.proxy.apply(null,r)):e.proxy(s[n],s);throw new TypeError("expected function")},e.fn.bind=function(e,t,s){return this.on(e,t,s)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,s,n){return this.on(e,t,s,n,1)};var _=function(){return!0},j=function(){return!1},b=/^([A-Z]|returnValue$|layer[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,s){return this.on(t,e,s)},e.fn.undelegate=function(e,t,s){return this.off(t,e,s)},e.fn.live=function(t,s){return e(document.body).delegate(this.selector,t,s),this},e.fn.die=function(t,s){return e(document.body).undelegate(this.selector,t,s),this},e.fn.on=function(t,s,n,r,o){var i,c,d=this;return t&&!m(t)?(e.each(t,function(e,t){d.on(e,s,n,t,o)}),d):(m(s)||v(r)||r===!1||(r=n,n=s,s=p),(r===p||n===!1)&&(r=n,n=p),r===!1&&(r=j),d.each(function(p,d){o&&(i=function(e){return l(d,e.type,r),r.apply(this,arguments)}),s&&(c=function(t){var n,o=e(t.target).closest(s,d).get(0);return o&&o!==d?(n=e.extend(u(t),{currentTarget:o,liveFired:d}),(i||r).apply(o,[n].concat(h.call(arguments,1)))):void 0}),a(d,t,r,n,s,c||i)}))},e.fn.off=function(t,s,n){var r=this;return t&&!m(t)?(e.each(t,function(e,t){r.off(e,s,t)}),r):(m(s)||v(n)||n===!1||(n=s,s=p),n===!1&&(n=j),r.each(function(){l(this,t,n,s)}))},e.fn.trigger=function(t,s){return t=m(t)||e.isPlainObject(t)?e.Event(t):c(t),t._args=s,this.each(function(){t.type in y&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,s)})},e.fn.triggerHandler=function(t,n){var r,o;return this.each(function(i,a){r=u(m(t)?e.Event(t):t),r._args=n,r.target=a,e.each(s(a,t.type||t),function(e,t){return o=t.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var s=document.createEvent(g[e]||"Events"),n=!0;if(t)for(var r in t)"bubbles"==r?n=!!t[r]:s[r]=t[r];return s.initEvent(e,n,!0),c(s)}}(n),function(e){e.fn.serializeArray=function(){var t,s,n=[],r=function(e){return e.forEach?e.forEach(r):void n.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(n,o){s=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=s&&"reset"!=s&&"button"!=s&&"file"!=s&&("radio"!=s&&"checkbox"!=s||o.checked)&&r(e(o).val())}),n},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var s=e.Event("submit");this.eq(0).trigger(s),s.isDefaultPrevented()||this.get(0).submit()}return this}}(n),function(e){e.Callbacks=function(t){t=e.extend({},t);var s,n,r,o,i,a,l=[],c=!t.once&&[],u=function(e){for(s=t.memory&&e,n=!0,a=o||0,o=0,i=l.length,r=!0;l&&i>a;++a)if(l[a].apply(e[0],e[1])===!1&&t.stopOnFalse){s=!1;break}r=!1,l&&(c?c.length&&u(c.shift()):s?l.length=0:p.disable())},p={add:function(){if(l){var n=l.length,a=function(s){e.each(s,function(e,s){"function"==typeof s?t.unique&&p.has(s)||l.push(s):s&&s.length&&"string"!=typeof s&&a(s)})};a(arguments),r?i=l.length:s&&(o=n,u(s))}return this},remove:function(){return l&&e.each(arguments,function(t,s){for(var n;(n=e.inArray(s,l,n))>-1;)l.splice(n,1),r&&(i>=n&&--i,a>=n&&--a)}),this},has:function(t){return!(!l||!(t?e.inArray(t,l)>-1:l.length))},empty:function(){return i=l.length=0,this},disable:function(){return l=c=s=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,s||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],r?c.push(t):u(t)),this},fire:function(){return p.fireWith(this,arguments)},fired:function(){return!!n}};return p}}(n),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(s){return null}}}}()},{}],"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js":[function(e,t,s){(function(e){function s(){for(;r.next;){r=r.next;var e=r.task;r.task=void 0;var t=r.domain;t&&(r.domain=void 0,t.enter());try{e()}catch(n){if(l)throw t&&t.exit(),setTimeout(s,0),t&&t.enter(),n;setTimeout(function(){throw n},0)}t&&t.exit()}i=!1}function n(t){o=o.next={task:t,domain:l&&e.domain,next:null},i||(i=!0,a())}var r={task:void 0,next:null},o=r,i=!1,a=void 0,l=!1;if("undefined"!=typeof e&&e.nextTick)l=!0,a=function(){e.nextTick(s)};else if("function"==typeof setImmediate)a="undefined"!=typeof window?setImmediate.bind(window,s):function(){setImmediate(s)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=s,a=function(){c.port2.postMessage(0)}}else a=function(){setTimeout(s,0)};t.exports=n}).call(this,e("_process"))},{_process:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/process/browser.js"}],"/Users/shawn/Work/mtv-play/node_modules/autolinker/dist/Autolinker.js":[function(e,t,s){!function(e,n){"function"==typeof define&&define.amd?define([],function(){return e.Autolinker=n()}):"object"==typeof s?t.exports=n():e.Autolinker=n()}(this,function(){var e=function(t){e.Util.assign(this,t);var s=this.hashtag;if(s!==!1&&"twitter"!==s&&"facebook"!==s&&"instagram"!==s)throw new Error("invalid `hashtag` cfg - see docs")};return e.prototype={constructor:e,urls:!0,email:!0,twitter:!0,phone:!0,hashtag:!1,newWindow:!0,stripPrefix:!0,truncate:void 0,className:"",htmlParser:void 0,matchParser:void 0,tagBuilder:void 0,link:function(e){if(!e)return"";for(var t=this.getHtmlParser(),s=t.parse(e),n=0,r=[],o=0,i=s.length;i>o;o++){var a=s[o],l=a.getType(),c=a.getText();if("element"===l)"a"===a.getTagName()&&(a.isClosing()?n=Math.max(n-1,0):n++),r.push(c);else if("entity"===l||"comment"===l)r.push(c);else if(0===n){var u=this.linkifyStr(c);r.push(u)}else r.push(c)}return r.join("")},linkifyStr:function(e){return this.getMatchParser().replace(e,this.createMatchReturnVal,this)},createMatchReturnVal:function(t){var s;if(this.replaceFn&&(s=this.replaceFn.call(this,this,t)),"string"==typeof s)return s;if(s===!1)return t.getMatchedText();if(s instanceof e.HtmlTag)return s.toAnchorString();var n=this.getTagBuilder(),r=n.build(t);return r.toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchParser:function(){var t=this.matchParser;return t||(t=this.matchParser=new e.matchParser.MatchParser({urls:this.urls,email:this.email,twitter:this.twitter,phone:this.phone,hashtag:this.hashtag,stripPrefix:this.stripPrefix})),t},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.link=function(t,s){var n=new e(s);return n.link(t)},e.match={},e.htmlParser={},e.matchParser={},e.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e},extend:function(t,s){var n=t.prototype,r=function(){};r.prototype=n;var o;o=s.hasOwnProperty("constructor")?s.constructor:function(){n.constructor.apply(this,arguments)};var i=o.prototype=new r;return i.constructor=o,i.superclass=n,delete s.constructor,e.Util.assign(i,s),o},ellipsis:function(e,t,s){return e.length>t&&(s=null==s?"..":s,e=e.substring(0,t-s.length)+s),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var s=0,n=e.length;n>s;s++)if(e[s]===t)return s;return-1},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var s,n=[],r=0;s=t.exec(e);)n.push(e.substring(r,s.index)),n.push(s[0]),r=s.index+s[0].length;return n.push(e.substring(r)),n},trim:function(e){return e.replace(this.trimRegex,"")}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){var s=this.getAttrs();return s[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var s=this.getAttrs();return e.Util.assign(s,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var s,n=this.getClass(),r=this.whitespaceRegex,o=e.Util.indexOf,i=n?n.split(r):[],a=t.split(r);s=a.shift();)-1===o(i,s)&&i.push(s);return this.getAttrs()["class"]=i.join(" "),this},removeClass:function(t){for(var s,n=this.getClass(),r=this.whitespaceRegex,o=e.Util.indexOf,i=n?n.split(r):[],a=t.split(r);i.length&&(s=a.shift());){var l=o(i,s);-1!==l&&i.splice(l,1)}return this.getAttrs()["class"]=i.join(" "),this},getClass:function(){return this.getAttrs()["class"]||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return t=t?" "+t:"",["<",e,t,">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(s+'="'+e[s]+'"');return t.join(" ")}}),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},build:function(t){var s=new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t.getType(),t.getAnchorHref()),innerHtml:this.processAnchorText(t.getAnchorText())});return s},createAttrs:function(e,t){var s={href:t},n=this.createCssClass(e);return n&&(s["class"]=n),this.newWindow&&(s.target="_blank"),s},createCssClass:function(e){var t=this.className;return t?t+" "+t+"-"+e:""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){return e.Util.ellipsis(t,this.truncate||Number.POSITIVE_INFINITY)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/!--([\s\S]+?)--/,t=/[0-9a-zA-Z][0-9a-zA-Z:]*/,s=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,r=s.source+"(?:\\s*=\\s*"+n.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",r,"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",e.source,"|","(?:","("+t.source+")","(?:","\\s+",r,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,s,n=this.htmlRegex,r=0,o=[];null!==(t=n.exec(e));){var i=t[0],a=t[3],l=t[1]||t[4],c=!!t[2],u=e.substring(r,t.index);u&&(s=this.parseTextAndEntityNodes(u),o.push.apply(o,s)),a?o.push(this.createCommentNode(i,a)):o.push(this.createElementNode(i,l,c)),r=t.index+i.length}if(r<e.length){var p=e.substring(r);p&&(s=this.parseTextAndEntityNodes(p),o.push.apply(o,s))}return o},parseTextAndEntityNodes:function(t){for(var s=[],n=e.Util.splitAndCapture(t,this.htmlCharacterEntitiesRegex),r=0,o=n.length;o>r;r+=2){var i=n[r],a=n[r+1];i&&s.push(this.createTextNode(i)),a&&s.push(this.createEntityNode(a))}return s},createCommentNode:function(t,s){return new e.htmlParser.CommentNode({text:t,comment:e.Util.trim(s)})},createElementNode:function(t,s,n){return new e.htmlParser.ElementNode({text:t,tagName:s.toLowerCase(),closing:n})},createEntityNode:function(t){return new e.htmlParser.EntityNode({text:t})},createTextNode:function(t){return new e.htmlParser.TextNode({text:t})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{text:"",constructor:function(t){e.Util.assign(this,t)},getType:e.Util.abstractMethod,getText:function(){return this.text}}),e.htmlParser.CommentNode=e.Util.extend(e.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.matchParser.MatchParser=e.Util.extend(Object,{urls:!0,email:!0,twitter:!0,phone:!0,hashtag:!1,stripPrefix:!0,matcherRegex:function(){var e=/(^|[^\w])@(\w{1,15})/,t=/(^|[^\w])#(\w{1,139})/,s=/(?:[\-;:&=\+\$,\w\.]+@)/,n=/(?:\+?\d{1,3}[-\s.])?\(?\d{3}\)?[-\s.]?\d{3}[-\s.]\d{4}/,r=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,o=/(?:www\.)/,i=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,a=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|press|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,l=/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/;
return new RegExp(["(",e.source,")","|","(",s.source,i.source,a.source,")","|","(","(?:","(",r.source,i.source,")","|","(?:","(.?//)?",o.source,i.source,")","|","(?:","(.?//)?",i.source,a.source,")",")","(?:"+l.source+")?",")","|","(",n.source,")","|","(",t.source,")"].join(""),"gi")}(),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,constructor:function(t){e.Util.assign(this,t),this.matchValidator=new e.MatchValidator},replace:function(e,t,s){var n=this;return e.replace(this.matcherRegex,function(e,r,o,i,a,l,c,u,p,d,h,v,m){var f=n.processCandidateMatch(e,r,o,i,a,l,c,u,p,d,h,v,m);if(f){var g=t.call(s,f.match);return f.prefixStr+g+f.suffixStr}return e})},processCandidateMatch:function(t,s,n,r,o,i,a,l,c,u,p,d,h){var v,m=l||c,f="",g="";if(i&&!this.urls||o&&!this.email||u&&!this.phone||s&&!this.twitter||p&&!this.hashtag||!this.matchValidator.isValidMatch(i,a,m))return null;if(this.matchHasUnbalancedClosingParen(t))t=t.substr(0,t.length-1),g=")";else{var w=this.matchHasInvalidCharAfterTld(i,a);w>-1&&(g=t.substr(w),t=t.substr(0,w))}if(o)v=new e.match.Email({matchedText:t,email:o});else if(s)n&&(f=n,t=t.slice(1)),v=new e.match.Twitter({matchedText:t,twitterHandle:r});else if(u){var y=t.replace(/\D/g,"");v=new e.match.Phone({matchedText:t,number:y})}else if(p)d&&(f=d,t=t.slice(1)),v=new e.match.Hashtag({matchedText:t,serviceName:this.hashtag,hashtag:h});else{if(m){var k=m.match(this.charBeforeProtocolRelMatchRegex)[1]||"";k&&(f=k,t=t.slice(1))}v=new e.match.Url({matchedText:t,url:t,protocolUrlMatch:!!a,protocolRelativeMatch:!!m,stripPrefix:this.stripPrefix})}return{prefixStr:f,suffixStr:g,match:v}},matchHasUnbalancedClosingParen:function(e){var t=e.charAt(e.length-1);if(")"===t){var s=e.match(/\(/g),n=e.match(/\)/g),r=s&&s.length||0,o=n&&n.length||0;if(o>r)return!0}return!1},matchHasInvalidCharAfterTld:function(e,t){if(!e)return-1;var s=0;t&&(s=e.indexOf(":"),e=e.slice(s));var n=/^((.?\/\/)?[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.[A-Za-z]+)/,r=n.exec(e);return null===r?-1:(s+=r[1].length,e=e.slice(r[1].length),/^[^.A-Za-z:\/?#]/.test(e)?s:-1)}}),e.MatchValidator=e.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(e,t,s){return t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)||this.isInvalidProtocolRelativeMatch(s)?!1:!0},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return e&&t?!this.hasWordCharAfterProtocolRegex.test(e):!1},isInvalidProtocolRelativeMatch:function(e){return!!e&&this.invalidProtocolRelMatchRegex.test(e)}}),e.match.Match=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod}),e.match.Email=e.Util.extend(e.match.Match,{getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Hashtag=e.Util.extend(e.match.Match,{getType:function(){return"hashtag"},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),e.match.Phone=e.Util.extend(e.match.Match,{getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+this.number},getAnchorText:function(){return this.matchedText}}),e.match.Twitter=e.Util.extend(e.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),e.match.Url=e.Util.extend(e.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getUrl();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix&&(e=this.stripUrlPrefix(e)),e=this.removeTrailingSlash(e)},stripUrlPrefix:function(e){return e.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}}),e})},{}],"/Users/shawn/Work/mtv-play/node_modules/promise/index.js":[function(e,t,s){"use strict";t.exports=e("./lib/core.js"),e("./lib/done.js"),e("./lib/es6-extensions.js"),e("./lib/node-extensions.js")},{"./lib/core.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js","./lib/done.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/done.js","./lib/es6-extensions.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/es6-extensions.js","./lib/node-extensions.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/node-extensions.js"}],"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js":[function(e,t,s){"use strict";function n(e){function t(e){return null===l?void u.push(e):void i(function(){var t=l?e.onFulfilled:e.onRejected;if(null===t)return void(l?e.resolve:e.reject)(c);var s;try{s=t(c)}catch(n){return void e.reject(n)}e.resolve(s)})}function s(e){try{if(e===p)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void o(t.bind(e),s,n)}l=!0,c=e,a()}catch(r){n(r)}}function n(e){l=!1,c=e,a()}function a(){for(var e=0,s=u.length;s>e;e++)t(u[e]);u=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var l=null,c=null,u=[],p=this;this.then=function(e,s){return new p.constructor(function(n,o){t(new r(e,s,n,o))})},o(e,s,n)}function r(e,t,s,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=s,this.reject=n}function o(e,t,s){var n=!1;try{e(function(e){n||(n=!0,t(e))},function(e){n||(n=!0,s(e))})}catch(r){if(n)return;n=!0,s(r)}}var i=e("asap");t.exports=n},{asap:"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"}],"/Users/shawn/Work/mtv-play/node_modules/promise/lib/done.js":[function(e,t,s){"use strict";var n=e("./core.js"),r=e("asap");t.exports=n,n.prototype.done=function(e,t){var s=arguments.length?this.then.apply(this,arguments):this;s.then(null,function(e){r(function(){throw e})})}},{"./core.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"}],"/Users/shawn/Work/mtv-play/node_modules/promise/lib/es6-extensions.js":[function(e,t,s){"use strict";function n(e){this.then=function(t){return"function"!=typeof t?this:new r(function(s,n){o(function(){try{s(t(e))}catch(r){n(r)}})})}}var r=e("./core.js"),o=e("asap");t.exports=r,n.prototype=r.prototype;var i=new n(!0),a=new n(!1),l=new n(null),c=new n(void 0),u=new n(0),p=new n("");r.resolve=function(e){if(e instanceof r)return e;if(null===e)return l;if(void 0===e)return c;if(e===!0)return i;if(e===!1)return a;if(0===e)return u;if(""===e)return p;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(s){return new r(function(e,t){t(s)})}return new n(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,s){function n(o,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a)return void a.call(i,function(e){n(o,e)},s)}t[o]=i,0===--r&&e(t)}catch(l){s(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)n(o,t[o])})},r.reject=function(e){return new r(function(t,s){s(e)})},r.race=function(e){return new r(function(t,s){e.forEach(function(e){r.resolve(e).then(t,s)})})},r.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"}],"/Users/shawn/Work/mtv-play/node_modules/promise/lib/node-extensions.js":[function(e,t,s){"use strict";var n=e("./core.js"),r=e("asap");t.exports=n,n.denodeify=function(e,t){return t=t||1/0,function(){var s=this,r=Array.prototype.slice.call(arguments);return new n(function(n,o){for(;r.length&&r.length>t;)r.pop();r.push(function(e,t){e?o(e):n(t)});var i=e.apply(s,r);!i||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then||n(i)})}},n.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),s="function"==typeof t[t.length-1]?t.pop():null,o=this;try{return e.apply(this,arguments).nodeify(s,o)}catch(i){if(null===s||"undefined"==typeof s)return new n(function(e,t){t(i)});r(function(){s.call(o,i)})}}},n.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(s){r(function(){e.call(t,null,s)})},function(s){r(function(){e.call(t,s)})})}},{"./core.js":"/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"}],"/Users/shawn/Work/mtv-play/platform/all.js":[function(e,t,s){var n,r=e("../app"),o=e("../components/switcher"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),a=e("../components/cookiebar");if(r.set({switcher:new o({on:{navigation:r.user.navigation,play:r.playing,receiver:r.user.receiver,favourites:r.user.favourites,usage:r.user.usage,content:r.content,highlight:r.user.highlight,search:r.user.search,scroll:r.user.scroll,carousel:r.user.carousel,volume:r.volume,notification:r.notification,watched:r.user.watched.from,state:r.state,popup:r.popup,overlay:r.overlay,loading:r.loading,profilepic:r.user.profilepic,activeClient:r.user.activeClient},display:"none"})}),r.ready.once(!0,function(){r.switcher.display="block";var e=i.desktop||!i["native"]&&(i.phone||i.tablet);e&&!window.localStorage.getItem("cookieApproved")&&r.set({cookiewall:new a})}),i.phone&&!i["native"]){var l=function(){var t=window.innerWidth,s=window.innerHeight;t>s?r.set({message:new(n||(n=e("../components/rotate-message")))}):r.message&&r.message.remove()};r.w.on(l),l()}r.initialised.val=!0},{"../app":"/Users/shawn/Work/mtv-play/app/index.js","../components/cookiebar":"/Users/shawn/Work/mtv-play/components/cookiebar/index.js","../components/rotate-message":"/Users/shawn/Work/mtv-play/components/rotate-message/index.js","../components/switcher":"/Users/shawn/Work/mtv-play/components/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/platform/cast.js":[function(e,t,s){var n=e("../app"),r=e("../components/switcher");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");n.state.val={defer:function(e,t){"first"===this._val&&(this._val="second"),e()}},n.set({switcher:new r({on:{navigation:n.user.navigation,play:n.playing,receiver:n.user.receiver,favourites:n.user.favourites,usage:n.user.usage,content:n.content,fullscreen:n.fullscreen,highlight:n.user.highlight,search:n.user.search,scroll:n.user.scroll,carousel:n.user.carousel,volume:n.volume,notification:n.notification,watched:n.user.watched.from,state:n.state,popup:n.popup,overlay:n.overlay,loading:n.loading,profilepic:n.user.profilepic,activeClient:n.user.activeClient}})}),n.initialised.val=!0},{"../app":"/Users/shawn/Work/mtv-play/app/index.js","../components/switcher":"/Users/shawn/Work/mtv-play/components/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/mtv-play/platform/tv.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/tv"),e("../app")),r=e("../components/switcher");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");n.set({switcher:new r({on:{navigation:n.user.navigation,play:n.playing,receiver:n.user.receiver,favourites:n.user.favourites,usage:n.user.usage,content:n.content,fullscreen:n.fullscreen,highlight:n.user.highlight,search:n.user.search,scroll:n.user.scroll,carousel:n.user.carousel,volume:n.volume,notification:n.notification,watched:n.user.watched.from,state:n.state,popup:n.popup,overlay:n.overlay,loading:n.loading,profilepic:n.user.profilepic,activeClient:n.user.activeClient}})}),n.initialised.val=!0},{"../app":"/Users/shawn/Work/mtv-play/app/index.js","../components/switcher":"/Users/shawn/Work/mtv-play/components/switcher/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/app/ui/tv":"/Users/shawn/Work/vigour-js/app/ui/tv/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/vigour-js/app/cloud.js":[function(e,t,s){function n(e,t){var s,n,r,o=e.data.get(["clients",e.clientid]);l.ios?(s="phone"===c.device?"iphone":"ipad",n="phone"===c.device?s:c.device):"appletv"===c.platform?(s="Apple TV",n="airplay"):l.chromecast?(s="Chromecast",n="chromecast",r=window.sessionId):(n=c.device,s=l.desktop?c.platform:c.platform+" "+n);var i={title:s,device:n};r&&(i.castId=r||!1),o.val=i,e.client.val=o}var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/cloud").inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/cloud/datacloud"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/cloud/authenticate")),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process"),s.extend=a.extend(e("./values"),function(e){var t=new r(new o);l.$connected=new o(t.connected),t.client=new o,t.once("welcome",function(s){n(t,e)}),t.on("reconnect",function(){var e={};t.client.from.each(function(t){"key"!==t&&"type"!==t&&"ip"!==t&&(e[t]=this._val)}),t.client.from.on("remove",function(){Object.keys(e).length&&t.data.clients.set(t.clientid,e)})}),e.define({cloud:{get:function(){return t},set:function(e){a.isObj(e)?(e.fastLogin&&(t.fastLogin.val=!0),e.api&&(t.api.val=e.api),e.url&&(t.url.val=e.url)):t.url.val=e}}});var s=new i(t.data.get("app"),{subscription:{$:!0}});e.versionData=new o({val:s,defer:function(e,t){var s;if(this.from.version)if(console.log("hey hey hey"),window["package"]){var n=this.from.version.val,r=window["package"].version;n&&r&&(n=n.split("."),r=r.split("."),n=Number(n[1]),r=Number(r[1]||0),n>r&&(s=!0,this.clearCache(),window["package"].version=this.from.version.val))}else console.error("no window package",window["package"]);e(s?void 0:!0)}})})},{"./values":"/Users/shawn/Work/vigour-js/app/values.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/cloud":"/Users/shawn/Work/vigour-js/browser/network/cloud/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/cloud/authenticate":"/Users/shawn/Work/vigour-js/browser/network/cloud/authenticate.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/network/cloud/datacloud":"/Users/shawn/Work/vigour-js/browser/network/cloud/datacloud.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/vigour-js/app/content.js":[function(e,t,s){var n=e("../value"),r=e("../browser/network/cloud/data"),o=e("../util");o.define(r,"_contentPath",{get:function(){var e=this._path;for(var t in e)if("shows"===e[t]||"channels"===e[t])return e.slice(t);console.error("_contentPath used on non-content data",this,e)}}),s.extend=o.extend(e("./values"),e("./cloud"),function(e){function t(){var t=e.region.val,n=e.language.val;"it"===n&&(n="en"),t&&n&&(s.val=e.cloud.data.get(["mtvData",t,n]))}var s=e.content=new n({});o.define(s,"get",function(){if(this._val&&this._val.cloud)return this._val.get.apply(this._val,arguments);throw new Error("app.content , dont have cloud data!")}),e.region.on(t),e.language.on(t),t()})},{"../browser/network/cloud/data":"/Users/shawn/Work/vigour-js/browser/network/cloud/data.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","../value":"/Users/shawn/Work/vigour-js/value/index.js","./cloud":"/Users/shawn/Work/vigour-js/app/cloud.js","./values":"/Users/shawn/Work/vigour-js/app/values.js"}],"/Users/shawn/Work/vigour-js/app/dictionary/index.js":[function(e,t,s){var n=e("../../util"),r=(e("../ui/element"),e("../../value")),o=e("../../object");r.operators._dictionary=function(e,t){return t===!1?e:t},t.exports=s=new r({}),n.define(s,"get",function(e){return s.map&&s.map[e]&&(e=s.map[e]),"string"==typeof e&&n.path(s,["responseData"].concat(e.split(".")),"")}),r.flags.dictionary={set:function(e,t){if("string"!=typeof e)this.set("_dictionary",{val:e,transform:function(e,t){if(t&&t.text)return t.text;var n=s.get(t);return n?n instanceof o?(s.once(function(){e._update()}),n.val):n:void 0}});else{var n=s.get(e);n._clearCache=!0,this.val=n}}},s._name="dictionary"},{"../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value":"/Users/shawn/Work/vigour-js/value/index.js","../ui/element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/vigour-js/app/index.js":[function(e,t,s){function n(e){void 0===i[e]&&(i[e]=l.device===e||l.platform===e?!0:!1),r.css={addClass:i[e]?e:"not-"+e}}e("./style.less"),e("../browser/animation/easing");var r,o=e("../browser/element"),i=e("../browser/cases"),a=(e("../browser/animation"),e("../browser/events/advanced")),l=e("../browser/ua"),c=(e("../browser/animation/raf"),e("../browser/events/util"),"ios"===l.platform),u="windows"===l.platform,p=["phone","tablet","tv","desktop","ios","android","windows","mac","touch","slow","chromecast"],d=p.length-1;i.iosBrowser=c&&"standalone"in navigator&&!navigator.standalone,i.iosFull=!i.iosBrowser&&c||(c||u)&&!!window.cordova||!1,i.retina=window.devicePixelRatio>1,i.slow=u&&"phone"===l.device||l.noRaf&&l.hasTransition||c&&480===window.screen.height||"tv"===l.device,i["native"]=window.cordova?!0:!1,i.windowsMobile="windows"===l.platform&&"phone"===l.device&&!!window.cordova,i.crawler=!i.tv&&!i["native"],r=t.exports=new o({"x,y":{val:0,clean:!0,translate:!0},node:document.body,w:window.innerWidth,h:window.innerHeight,css:"app"}),r.cases=i;var h=function(){r.blockResize?r.blockResize=!1:(r.w.val=window.innerWidth,r.h.val=window.innerHeight)};if(i.touch&&a.document.addEvent("move",function(e){a._maybescroll||a._setscroll||e.preventDefault()},"app"),"orientation"in window&&window.addEventListener("orientationchange",h),c||window.addEventListener("resize",h),window.location.hash){var v=window.location.hash.split("#")[1],m=v.split(",");for(var f in m){var g=m[f].split("=");l[g[0]]=g[1]}}for("tv"===l.device&&(i.slow=!0);d>=0;)n(p[d--])},{"../browser/animation":"/Users/shawn/Work/vigour-js/browser/animation/index.js","../browser/animation/easing":"/Users/shawn/Work/vigour-js/browser/animation/easing.js","../browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","../browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","../browser/element":"/Users/shawn/Work/vigour-js/browser/element/index.js","../browser/events/advanced":"/Users/shawn/Work/vigour-js/browser/events/advanced.js","../browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js","../browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","./style.less":"/Users/shawn/Work/vigour-js/app/style.less"}],"/Users/shawn/Work/vigour-js/app/style.less":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(s,arguments)},{}],"/Users/shawn/Work/vigour-js/app/ui/element/index.js":[function(e,t,s){var n=e("../../../browser/element");e("../../../value/flags/parent"),e("../../../value/flags/self"),e("../../../value/flags/process"),e("../../../value/flags/util"),e("../../../browser/events"),t.exports=n.inject(e("../../../browser/element/properties/collection"),e("../../../browser/element/properties"),e("../../../browser/element/properties/scrollbar"),e("../../../browser/element/properties/process"),e("../../../value/on"))},{"../../../browser/element":"/Users/shawn/Work/vigour-js/browser/element/index.js","../../../browser/element/properties":"/Users/shawn/Work/vigour-js/browser/element/properties/index.js","../../../browser/element/properties/collection":"/Users/shawn/Work/vigour-js/browser/element/properties/collection/index.js","../../../browser/element/properties/process":"/Users/shawn/Work/vigour-js/browser/element/properties/process.js","../../../browser/element/properties/scrollbar":"/Users/shawn/Work/vigour-js/browser/element/properties/scrollbar.js","../../../browser/events":"/Users/shawn/Work/vigour-js/browser/events/index.js","../../../value/flags/parent":"/Users/shawn/Work/vigour-js/value/flags/parent.js","../../../value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js","../../../value/flags/self":"/Users/shawn/Work/vigour-js/value/flags/self.js","../../../value/flags/util":"/Users/shawn/Work/vigour-js/value/flags/util.js","../../../value/on":"/Users/shawn/Work/vigour-js/value/on.js"}],"/Users/shawn/Work/vigour-js/app/ui/sprite/index.js":[function(e,t,s){function n(){this._spinner&&(this._spinner(),this._spinner=null)}function r(e){"none"===e.val?n.call(this):this._spinner||this.setting("render")}var o=e("../element"),i=e("../../../browser/events/util"),a=new o({"w,h":50,x:{translate:!0,val:0}});a.extend({name:"params",type:!1,set:function(e){this._params=e,this.Class.prototype._params=e}}),a.setSetting({name:"spinner",render:function(){var e=this,t=this._params||{},s=t.start||0,o=t.frames||3,a=t.rows||1,l=t.cols||0,c=t.once,u=s,p=t.steps||a*l-s||19,d=0,h=0;e.display&&!e.display._base!==e||(e.display=e.display&&e.display.val||"block"),e.display.addListener([r,e],!0),e.node.style.backgroundSize=this.w.val*l+"px auto","none"!==e.display.val&&(e._spinner=i.interval(function(){return e.node.style.backgroundPosition=-e.w.val*h+"px "+(a?-e.h.val*d:0)+"px",u++,u===p&&(u=s,c)?void n.call(e):(d=a?~~(u/l):0,void(h=u-d*l))},o))},remove:n}),t.exports=a.Class},{"../../../browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js","../element":"/Users/shawn/Work/vigour-js/app/ui/element/index.js"}],"/Users/shawn/Work/vigour-js/app/ui/switcher/index.js":[function(e,t,s){var n=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/base"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element")),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),a=new n,l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases");r.flags.$params={set:function(e){this.params=e}},r.flags.$options={set:function(e){this.options=e}},a.extend({loader:{},animation:{},delay:{},done:{},force:{},backFallback:{cache:!1},onTransition:{cache:!1},transition:{cache:!1,set:function(e){var t,s,r,a=e.element&&e.element._val,c=e.params,u=e.options||{},p=u&&u.force,d=this.children,h=this._swElem||d[0],v=a&&a.base,m=d.length,f=this;if(m>1)for(i=m-1;i>=0;i--)s=d[i],s!==h&&s.remove();if(this._loading&&(this._loading[1].removeListener(this._loading[0]),this._loading=void 0),v&&v instanceof n||a===n)if(!p&&this._swElem&&this._swElem instanceof a)this._swElem.set(c);else{if(r=this._direction=e.direction&&e.direction._val,u&&u.loader&&!u.loader.$loaded){if(!this.loader)return void console.error("no loader defined!");var g=new this.loader._val.Class;if(u.loader instanceof o){u.done=function(){t||(t=new a(c)),g._remove&&(u.done=void 0,u.delay=l.tablet?400:200,f._swElem instanceof a?f._swElem.set(c):f.onTransition._val.call(f,t,f._swElem,0,u),u.delay=void 0)};u.loader._path;this._loading=[function(){g._remove=!0,t&&u.done&&u.done()},u.loader],this._loading[1].is("loaded",this._loading[0])}else u.done=function(){t||(t=new a(c)),u.done=void 0,u.delay=200,f._swElem instanceof a?f._swElem.set(c):f.onTransition._val.call(f,t,f._swElem,0,u),u.delay=void 0};u.loader=void 0,this.onTransition._val.call(this,g,h,r,u)}else t=new a(c),u.done=void 0,u.delay=void 0,u.loader=void 0,this.onTransition._val.call(this,t,h,r,u);void 0!==u.animation&&(u.animation=void 0),u.delay&&(u.delay=void 0)}else c?console.error("only params defined!",c):c&&console.error("no params and no element defined!")}}}),a.define({back:function(){this.backFallback._val.call(this)},add:function(e,t){this._swElem=e,n.prototype.add.apply(this,arguments)}}),a.extend({name:"on",set:function(e){},remove:function(){this._loading&&(this._loading[1].removeListener(this._loading[0]),this._loading=null),this._swTimer&&clearTimeout(this._swTimer),this._timer&&clearTimeout(this._timer),this.on.$remove&&this.on.$remove.update()},"new":function(){this.on.$new&&this.on.$new.update()}}),t.exports=(new a.Class).Class},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/base":"/Users/shawn/Work/vigour-js/base/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/element":"/Users/shawn/Work/vigour-js/browser/element/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/app/ui/switcher/transitions.js":[function(e,t,s){function n(e,t,s,n,r){var c=r.done,u=r.animation===!1,p=r.delay;s?(o(e,t,s),u?(a(e,s),o(e,t),c&&(p?l(e,function(){r.done&&r.done()},p):c())):p?l(e,function(){i(e,s,r)},p):i(e,s,r)):o(e,t,!1,c)}function r(e,t,s,n,r){var i,p,d=20,h=c.w.val,v=1===n;v?(i=h,p=h/-3):(i=h/-3,p=h),u.windows?(t.x={translate:!0,val:i},s.x={translate:!0,val:0},window.requestAnimationFrame(function(){t.x=0,s.x=p,l(e,function(){a(e,s,r.done)},210)})):(t.x={val:0,animation:{start:i,time:d,delay:1,easing:"outCubic",done:function(){a(e,s,r.done)}}},s.x={val:p,animation:{time:d,delay:2,easing:"outCubic"}}),v?o(e,t):o(e,t,s)}function o(e,t,s,n){t&&e.add(t,s),n&&n()}function i(e,t,s){t.opacity=0,t.node.pointerEvents="none",l(e,function(){a(e,t,s.done)},200)}function a(e,t,s){t&&t.remove(),s&&s()}function l(e,t,s){e._swTimer&&(clearTimeout(e._swTimer),e._swTimer=null),e._swTimer=setTimeout(function(){t.call(e),e._swTimer=null},s)}var c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/app"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util");s.extend=p.extend(function(e){e.set({onTransition:{defer:function(e){s[this._val]&&(this._val=s[this._val]),e()}}})}),s.slide=function(e,t,s,o){s&&t?r(this,e,t,s,o):n(this,e,t,s,o)},s.fade=function(e,t,s,r){n(this,e,t,s,r)}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/app":"/Users/shawn/Work/vigour-js/app/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/app/ui/tv/index.js":[function(e,t,s){function n(e){var t=e+"Sibling";return function(){if(this._node){var s=this._node[t];if(s&&(s=s.base),s&&s.events&&s.events.$focus&&(!s.display||"none"!==s.display.val))return s;if(s&&s._node){var n="$"+("previous"===e?"prev":e);return s[n].val}}}}var r=e("../../../browser/element"),o=(e("../../../browser/cases"),e("../../../browser/animation"),e("../../../browser/events/advanced")),i=e("../../../browser/ua"),a=(e("../../../browser/animation/raf"),e("../../../util")),l=e("../../../value"),c=(e("../../"),e("../../../browser/network/url")),u="lg"===i.platform&&"tv"===i.device,p=0;c.on(function(){var e=c.string.val.split("/"),t=Number(e[e.length-1]);if(p>t){p=t;var s=o.$focused&&o.$focused.val;s&&s.events&&s.events.back&&s.events.back._val.call(s,{preventDefault:function(){}})}}),document.addEventListener("keyup",function(e){e.preventDefault()}),document.addEventListener("keydown",function(e){var t,s=o.$focused&&o.$focused.val;if(s&&!s._node&&(o.$focused.val=!1),s&&s.events){var n={arrowLeft:[37,4],arrowRight:[39,5],arrowDown:[40,29461],arrowUp:[38,29460],click:[13,29443]};u||(n.back=[8,88,"VK_BACK"]),t=s.events;for(var r in n)if(t[r]&&a.checkArray(n[r],e.keyCode)!==!1)return u&&(cached=c.string.val,c.val=p++),e.preventDefault(),void t[r]._val.call(s,e)}}),o.arrowLeft={val:function(e,t,s){t.call(this,e,s)}},o.arrowRight={val:function(e,t,s){t.call(this,e,s)}},o.arrowUp={val:function(e,t,s){t.call(this,e,s)}},o.arrowDown={val:function(e,t,s){t.call(this,e,s)}},o.back={val:function(e,t,s){t.call(this,e,s)}},a.define(o,"$focused",{value:new l}),s.$focused=o.$focused,o.$focus={val:function(e,t,s){t.call(this,e,s)}},a.define(r,"$focus",function(e,t){if(this.events&&this.events.$focus&&(o.$focused.val&&(o.$focused.val._$focused=null,o.$focused.val._node&&o.$focused.val.events.$focus._val.call(o.$focused.val,!1,!0),o.$focused.val=!1),!t)){o.$focused.val=this;var s=this;s._$focused=!0;var s=o.$focused.val;s&&s.events&&s._node&&s.events.$focus._val.call(s,!0,e)}}),r.base.extend({$prev:function(){},$next:function(){}}),r.base.set({$prev:n("previous"),$next:n("next")})},{"../../":"/Users/shawn/Work/vigour-js/app/index.js","../../../browser/animation":"/Users/shawn/Work/vigour-js/browser/animation/index.js","../../../browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","../../../browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","../../../browser/element":"/Users/shawn/Work/vigour-js/browser/element/index.js","../../../browser/events/advanced":"/Users/shawn/Work/vigour-js/browser/events/advanced.js","../../../browser/network/url":"/Users/shawn/Work/vigour-js/browser/network/url.js","../../../browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../../value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/app/user/id.js":[function(e,t,s){var n=e("../../util");e("../../value/flags/process"),s.extend=n.extend(function(e){
e.extend({id:function(t){var s=t.val;s&&this.cloud?this.data=this.cloud.data.get(["users",s]):s||(console.log("base.mockdata"),this.data=e.mockdata)},data:{val:e.mockdata,set:function(e){var t=this;if(t.instances&&t.instances.length&&(t=t.instances[0]),e.from.cloud){if(t.___c!==e.from){t.initialised=null,t.___c=e.from;for(var s in t.on.user)t.on.user[s].call(t,s);t.initialised=!0}}else{if(t.___c===!1)return;t.___c=!1;for(var s in t.on.user)t.on.mock[s].call(t,s);t.initialised=null}}}})})},{"../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/vigour-js/app/user/index.js":[function(e,t,s){e("../../value/flags/self"),e("../../value/flags/process"),e("../../value/flags/util");var n=e("../../util"),r=(e("../../value"),e("../../base")),o=(e("../../data"),e("../../object").inject(e("./origin")),e("monotonic-timestamp"),{}),i=e("./mockdata"),a=new i({}),l=r.prototype.extend,c=new r({defaultType:e("./type")});c.define({subscriptions:{get:function(){return o},set:function(e){e&&n.merge(o,e)}},mockdata:{get:function(){return a},set:function(e){e&&a.merge(e)}},on:{value:{mock:{},user:{}}},extend:function(e){e.mock&&(this.mockdata=e.mock);var t=l.apply(this,arguments);return void 0!==e.val&&(this[e.name]=e.val),e.on&&("function"==typeof e.on?e.on.call(this,e.name):this.data&&this.data.cloud?e.on.user&&e.on.user.call(this,e.name):e.on.mock&&e.on.mock.call(this,e.name)),t}}),s.extend=n.extend(e("../cloud"),function(t){var s=t.user=(new c.Class).inject(e("./set"),e("./id"));s.parent=t,s.cases=t.cases,s.cloud=t.cloud})},{"../../base":"/Users/shawn/Work/vigour-js/base/index.js","../../data":"/Users/shawn/Work/vigour-js/data/index.js","../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value":"/Users/shawn/Work/vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js","../../value/flags/self":"/Users/shawn/Work/vigour-js/value/flags/self.js","../../value/flags/util":"/Users/shawn/Work/vigour-js/value/flags/util.js","../cloud":"/Users/shawn/Work/vigour-js/app/cloud.js","./id":"/Users/shawn/Work/vigour-js/app/user/id.js","./mockdata":"/Users/shawn/Work/vigour-js/app/user/mockdata.js","./origin":"/Users/shawn/Work/vigour-js/app/user/origin.js","./set":"/Users/shawn/Work/vigour-js/app/user/set.js","./type":"/Users/shawn/Work/vigour-js/app/user/type.js","monotonic-timestamp":"/Users/shawn/Work/vigour-js/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/vigour-js/app/user/mockdata.js":[function(e,t,s){var n=e("../../util"),r=e("../../data");t.exports=s=r["new"](),n.define(s,"get",function(e,t,s){return this.path(e instanceof Array?e:String(e).split("."),void 0!==t?t:{},!1,!1,!1,!1,!0,!s)})},{"../../data":"/Users/shawn/Work/vigour-js/data/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/app/user/multiscreen/cast/chrome/index.js":[function(e,t,s){function n(){var e=this,t=e._base,s=r(e);s&&(t.setReceiver(s),e.removeListener(n))}function r(e){e=o(e);var t;return e.each(function(){var e=this.from;return"chromecast"===e.device.val?(t=e,!0):void 0}),t}function o(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var i,a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config").chromecast,l=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases"),c=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),u=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),p=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),d=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data"),h=(d["new"]({merge:!0,mixed:4}),"deviceDidComeOnline"),v="deviceDidGoOffline";if("undefined"==typeof m)var m=window.chrome||{};t.exports=s=window.curn=new u({api:{defer:function(e,t){var n=this,r=l["native"]||l.desktop&&"chrome"===c.browser;if(!r)return!0;var o=t[0];if("error"!==o){if(!r||i)return!0;if(l["native"])setTimeout(function(){s.init(a.id)},0),i=!0,e();else{var u=document.createElement("script");u.onerror=function(){console.error("!!! script.onerror !!!"),n.type="script",n.clearCache(),n.val=t[0]="error",e()};u.src=a.web,u.id="chromecast-script",window.__onGCastApiAvailable=function(r,o){r?(s.init(a.id),i=!0,e()):(n.clearCache(),n.val=t[0]="error",e())},document.getElementsByTagName("head")[0].appendChild(u)}}}},clients:!1,session:!1,apiDefer:function(e,t){var s=this,n=t[0];"connected"===s.session.status?e("success"):n!==!0||e(!0)}}),s.devices=new p({}),s.available=new p({}),s.setReceiver=function(e,t){var r=s.user,o=r.parent&&r.parent.loading;r.candidates.removeListener(n),r.candidates.on(n),o&&(o.val=!0),e.set("loading",!0),s.connect(e,function(s,n){return o&&(o.val=!1),e.set("loading",!1),s?console.error("CHROMECAST setReceiver connect error",s):void(t&&t(n))})},s.available.on(function(){var e,t={},n=s.user;n&&r(n.candidates)||(this.each(function(n){t[n]=!0,s.devices[n]||(e=!0,s.devices.set(this._name,this))}),s.devices.each(function(s){t[s]||(e=!0,this.remove())}))}),s._name="chromecast",s.init=function(e){if(this._init=!0,window.GoogleCast)window.GoogleCast.startScanForDevices(e);else if(m.cast&&m.cast.SessionRequest){var t,n;l["native"]?(n=[],t=function(){var e=m.cast.getRouteListElement().innerHTML;if(e){for(var t=e.split("><"),r=[],o=t.length-1;o>=0;o--){var i=t[o].split('"'),a=i[3];~n.indexOf(a)||s.dispatchEvent(h,{id:a,friendlyName:i[4].split("</li>")[0].substring(1)}),r.push(a)}for(o=n.length-1;o>=0;o--)a=n[o],~r.indexOf(a)||s.dispatchEvent(v,{id:a});n=r}}):t=function(e){e===m.cast.ReceiverAvailability.AVAILABLE,"available"===e?s.dispatchEvent(h):s.dispatchEvent(v)};var r=[m.cast.Capability.VIDEO_OUT,m.cast.Capability.AUDIO_OUT],o=m.cast.timeout.requestSession,i=new m.cast.SessionRequest(e,r,o),a=function(e){s.session=e,s.val=e.sessionId},c=m.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED,u=m.cast.DefaultActionPolicy.CREATE_SESSION,p=new m.cast.ApiConfig(i,a,t,c,u);m.cast.initialize(p,function(){},function(e){console.error("CHROMECAST cast:onError: "+JSON.stringify(e))})}},s.connect=function(e,t){var s=e.castid.val,n=function(e){console.log("CHROMECAST connect success!",e),t&&t(null,e)},r=function(e){console.log("CHROMECAST connect error!",e),t&&t(e)};if(window.GoogleCast)window.GoogleCast.connectToDevice(s,n);else if(l["native"]){try{m.cast._emitConnecting()}catch(o){console.error("CHROMECAST Error in _emitConnecting "+o)}try{cordova.exec(n,r,"Chromecast","selectRoute",[s])}catch(o){console.error("CHROMECAST cordova.exec crash",o)}}else m.cast&&m.cast.requestSession(n,r)},s.dispatchEvent=function(e,t){var n=t?t.id:"unknown",r=n.split(".").join("_").split("/").join(""),o=t&&t.friendlyName?t.friendlyName:n,i={};"unknown"===o&&(o="Chromecast"),"deviceDidComeOnline"===e?(i[r]={title:o,device:"chromecast",cast:"chrome",castid:n},s.available.val=i):"deviceDidGoOffline"===e&&s.available[n]&&(i[n]=null,s.available.val=i)},window.GoogleCast&&(window.GoogleCast.dispatchEvent=function(e,t){s.dispatchEvent(e,t)})},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/app/user/multiscreen/cast/index.js":[function(e,t,s){function n(e){e=r(e);var t;return e.each(function(){return t="chromecast"===this.from.device.val}),t}function r(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),i=e("./chrome");s.extend=o.extend(function(e){i.user=e,e.extend({cast:{type:!1,val:{}}}),e.cast.chrome=i,e.candidates.on(function(){o.disjoin(i.devices,e.candidates,"device"),n(e.candidates)||i.available.each(function(e){i.devices[e]||(didset=!0,i.devices.set(e,this))}),e.devices._val._update()}),i.available.on(function(){o.disjoin(i.devices,e.candidates,"device")}),e.devices._val.$sources.push(i.devices)})},{"./chrome":"/Users/shawn/Work/vigour-js/app/user/multiscreen/cast/chrome/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/app/user/multiscreen/index.js":[function(e,t,s){function n(){this.clients.update()}function r(){var e=this,t=e.data._val,s=t.get("clients"),r=e.clients._val;e.clients=s,s.addListener([n,e],!0),r&&r.removeListener(n,e);var o=e.candidates&&e.candidates._val,i=e.candidates=new k(s,{condition:{device:{$contains:"(desktop)|(tv)|(cast)|(tablet)|(airplay)"},key:{$exists:!0,$ne:this.cloud.clientid}}});i.on(function(){e.candidates.update()}),o&&o.remove();var a=e.siblings&&e.siblings._val,l=e.siblings=new k(s,{condition:{key:{$exists:!0,$ne:this.cloud.clientid}}});l.on(function(){e.siblings.update()}),a&&a.remove()}function o(e){var t=this;S&&(S.removeListener(a,t),S=null),A&&(A.removeListener(l,t),A=null);var s=t.data._val;t.activeClient=s.get("activeClient",{}),t.activeClient.$userOrigin=t.cloud.client.from}function i(){var e=this;A&&(A.removeListener(l,e),A=null);var t=e.data._val,s=t.get("activeClient",{});if(S&&S.removeListener(a,e),S=s,S.addListener([a,e],!0),e.activeClient=s,y.tv){var n=s.from;n&&"activeClient"!==n._name?e.activeClient.update():e.activeClient.$userOrigin=e.cloud.client.from}else y.chromecast?e.activeClient.update():e.activeClient.$userOrigin=e.cloud.client.from;e.hasCandidates.val&&g(e)}function a(e,t,s,n,r){var o=this;e._removed&&(A&&A.removeListener(l,o),A=e._parent,A.addListener([l,o],!0))}function l(e,t,s,n,r,o){var i=this,c=e;c.activeClient&&(A.removeListener(l,i),A=null,S=c.activeClient,S.addListener([a,i],!0),i.activeClient=c.activeClient)}function c(){var e=this;T&&T.removeListener(d,e),E&&E.removeListener(p,e);var t=e.data._val;e.receiverClient=t.get("receiverClient",!1)}function u(){var e=this;T&&(T.removeListener(d,e),T=null);var t=e.data._val,s=t.get("receiverClient",{});if(E&&E.removeListener(p,e),E=s,E.addListener([p,e],!0),e.receiverClient=s,y.tv){var n=e.activeClient.from;n&&2===n.__t&&n!==e.cloud.client.from&&!e.hasReceiver.val&&e.setReceiver(e.cloud.client.from)}else y.chromecast&&e.setReceiver(e.cloud.client.from)}function p(e,t,s,n,r){var o=this;e._removed&&(T&&T.removeListener(d,o),T=e._parent,T.addListener([d,o],!0))}function d(e,t,s,n,r,o){var i=this,a=e;a.receiverClient&&(T.removeListener(d,i),T=null,E=a.receiverClient,E.addListener([p,i],!0),i.receiverClient=a.receiverClient)}function h(){var e=this;m(e)}function v(){var e=this;m(e)}function m(e){var t=e.data._val,s=t.get("receiver",{});e.receiver={volume:s.get("volume",1),media:s.get("media",!1),playing:s.get("playing",!1)}}function f(e,t){for(;t&&4===t.__t&&!t._filter;)t=t._val;if(!t)return console.error("could not determine list to select from");var s;return t.each(function(){var t=this._val;if(!t||t._removed||!t.device)return console.error("bad client","path:",t&&t._path,"client:",t&&t.raw||t);if(t!==e.activeClient.from){var n=t.device.val;if(W.test(n)&&(!t.token||t.token.val===e.token.val))return s=t,C.test(n)?!0:void 0}}),s}function g(e){e.candidates._val.each(function(){var t=this.from;"tv"!==t.device.val||t.token&&t.token.val||(t.set("token",e.token.val),e.hasReceiver.val||e.setReceiver(t))})}var w=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),y=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases")),k=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data").inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data/selection")),_=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object/compound"),j=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events"),b=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua"),x=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf"),U=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object");U.inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/length"));var W=/(desktop)|(tv)|(cast)|(tablet)|(airplay)/i;y.$isCandidate=W.test(b.device);var C=/(tv)|(cast)|(airplay)/i;e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process"),s.extend=w.extend(function(t){var s=t.parent.inject(e("../../content")).content;if(s.on("self",function(){t.token.val&&t.receiver.media.val&&t.receiver.media.from!==t.receiver.media&&t.receiver.media.from!==s.get(t.receiver.media.from._contentPath)&&(t.receiver.media.$userOrigin=s.get(t.receiver.media.from._contentPath))}),t.extend({receiver:{mock:{receiver:{volume:1,media:!1,playing:!1}},subscription:{receiver:{volume:!0,playing:!0,media:{$:!0}}},on:{mock:h,user:v}},clients:{subscription:{clients:{$:{$:!0}}},on:{mock:r,user:r}},candidates:{val:{}},siblings:{val:{}},receiverClient:{val:{},on:{mock:c,user:u},subscription:{receiverClient:{$:!0}}},activeClient:{val:{},mock:{activeClient:!0},subscription:{activeClient:{$:!0}},on:{mock:o,user:i}}}),t.extend({devices:{val:new _(t.siblings)}}),t.extend({hasReceiver:{val:{val:t.receiverClient,transform:function(e,s){var n=t.receiverClient.from;return n&&!n._removed&&n.cloud&&"clients"===n._path[0]||0}}},isReceiver:{val:{defer:function(e,s){var n=s[2]||this._updateOrigin;if(!n||!n._prop&&"receiverClient"!==n._name)return!0;var r=s[1];"cleanup"!==r&&(t._handleOldIsReceiver&&(!t._wasReceiver||t.hasReceiver.val||t.isActive.val||t.setReceiver(t.cloud.client.from),t._handleOldIsReceiver=null),this.clearCache(),t._wasReceiver=this.val),e()},val:t.receiverClient,transform:function(e,s){var n=t.receiverClient.from;return n&&!n._removed&&n.cloud&&n===t.cloud.client.from||0}}},hasCandidates:{val:{val:t.candidates.$length,$convertType:"boolean"}},hasDevices:{val:{val:t.devices.$length,$convertType:"boolean"}},isActive:{val:{defer:function(e,s){var n=s[2]||this._updateOrigin;(!n||!n._prop&&"activeClient"!==n._name)&&e(!0);var r=s[1];r&&"cleanup"!==r&&(t._handleOldIsActive&&(!t._wasActive||t.activeClient.$userOrigin&&t.activeClient.$userOrigin._val||(t.activeClient.$userOrigin=t.cloud.client._val),t._handleOldIsActive=null),this.clearCache(),t._wasActive=this.val),e()},val:t.activeClient,transform:function(e,s){var n=t.activeClient.from;return n&&n.val===!0||n===t.cloud.client.from||0}}},setReceiver:{type:!1,val:function(e){var t=this;if(e=e.from){var s=e.cast&&e.cast.val;s?t.cast[s].setReceiver(e):(e.set("token",t.token.val),t.receiverClient.$userOrigin=e)}}}}),!y.chromecast){var n=y.tv?"keydown":"down";j.document.addEvent(n,function(){!t.cloud.client._val||y.$isFullscreen&&y.$isFullscreen.val||(t.activeClient.$userOrigin=t.cloud.client.from)})}t.cloud.on("welcome",function(){t.cloud._status>2&&(t._handleOldIsActive=!0,t._handleOldIsReceiver=!0,t.cloud.data.once(function(){t.isActive.update(),t.isReceiver.update()}))}),t.isActive.on(!0,function(){var e=t.isReceiver.val;if(t.hasCandidates.val){if(e||!t.hasReceiver.val){var s=f(t,t.candidates);s?x(function(){t.setReceiver(s)}):e&&(t.receiverClient.$userOrigin=null)}}else e&&(t.receiverClient.$userOrigin=null)}),y.$isCandidate&&t.hasReceiver.on(0,function(e,s,n){s===t.cloud.stamp&&(t.isActive.val||x(function(){var e=f(t,t.clients);e===t.cloud.client.from&&t.setReceiver(e)}))}),t.iplogin.val||t.candidates.on(function(e,s,n,r,o){t.hasCandidates.val&&t.isActive.val&&t.initialised&&g(t)}),y.$isActive=t.isActive,y.$hasDevices=t.hasDevices,y.$hasReceiver=t.hasReceiver,y.$isReceiver=t.isReceiver});var S,A,T,E},{"../../content":"/Users/shawn/Work/vigour-js/app/content.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/events":"/Users/shawn/Work/vigour-js/browser/events/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data/selection":"/Users/shawn/Work/vigour-js/data/selection.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object/compound":"/Users/shawn/Work/vigour-js/object/compound.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/length":"/Users/shawn/Work/vigour-js/value/length.js"}],"/Users/shawn/Work/vigour-js/app/user/navigation.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object");e("./mockdata");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process"),s.extend=n.extend(function(t){function s(e){e._lastupdate&&e.navigation.last&&e.navigation.last.from!==e.navigation.last&&(e.navigation.last.from.removeListener(e._lastupdate),e._lastupdate=null)}function n(e,t){t[1]&&"l"===t[1][0]&&this._name===this._parent.last.from.key.val?(this.clearCache(),e()):e(!0)}var o=t.parent.inject(e("../content")).content;o.on("self",function(){var e=t.navigation,s=this,n=e.media.from,r=e.season.from,o=e.show.from;n._contentPath&&(e.media.$userOrigin.val=s.from.get(n._contentPath)),r._contentPath&&(e.season.$userOrigin.val=s.from.get(r._contentPath)),o._contentPath&&(e.show.$userOrigin.val=s.from.get(o._contentPath))}),t.define({updateNavigation:function(e){return this.navigation.last&&this.navigation.last.$userOrigin&&(e=e||this.navigation.last.$userOrigin.get("key").val,"string"==typeof e)?void this.navigation[e]._update(this.navigation[e]._val._val,"l"+Math.floor(9999*Math.random())):void(this.navigation.page.$userOrigin="discover")}}),t.extend({navigation:{mock:{navigation:{show:!1,page:!1,media:!1,season:!1,last:{key:"page",time:0}}},subscription:{navigation:{show:!0,media:!0,season:!0,page:!0,last:{key:!0,time:!0}}},val:{page:{defer:n},show:{defer:n,val:!1},season:{defer:n,val:!1},media:{defer:n,val:!1}},on:{user:function(e){s(this),this.navigation={last:this.data._val.get([e,"last"])},this.__first=!0;var t=this.navigation,n=this.data.$userOrigin;this._lastupdate=function(e,s,n){this.key&&t[this.key.val]&&t[this.key.val].$userOrigin._update(void 0,"l"+s)},t.last.from.on(this._lastupdate),this.navigation={page:n.get([e,"page"],"discover"),show:n.get([e,"show"]),season:n.get([e,"season"]),media:n.get([e,"media"])},t.last.from.key?t.last.from._update(void 0,r.stamp()):t.last.from.key||(t.page.$userOrigin="discover")},mock:function(){s(this);var e=this.navigation,t=this.mockdata.navigation,n={page:t.page,show:t.show,season:t.season,media:t.media};this.navigation={last:t.last},this.__first&&(t.page.val="discover"),this._lastupdate=function(t,s,n){e[this.key.val]&&e[this.key.val].$userOrigin._update(void 0,"l"+s)},e.last.from.on(this._lastupdate),this.navigation=n}}}})})},{"../content":"/Users/shawn/Work/vigour-js/app/content.js","./mockdata":"/Users/shawn/Work/vigour-js/app/user/mockdata.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/vigour-js/app/user/origin.js":[function(e,t,s){var n=e("../../util"),r=e("./mockdata"),o=e("monotonic-timestamp");s.extend=n.extend(function(e){var t=e.set,s=function(t){for(var s,n,o=t;o&&!o._removed&&o instanceof e;){if(o._parent&&o._parent._prop&&"navigation"===o._parent._prop.name&&(s=o),o.cloud&&"users"===o._path[0]||o instanceof r)return[o,s];n=o,o=o._val}var i=n&&!n._removed&&n!==t?n:!1;return[i,s]};n.define(e,"$userOrigin",{set:function(e){var n=s(this),r=n[0],i=n[1];if(!r){var a=this._prop&&this._prop.name;if(a){var l=this._caller,c=l.data._val;r=c.get(a,{}),this.val=r}}if(!r)throw new Error("cannot find correct $userOrigin for "+(this._name||this._prop&&"propety "+this._prop.name));t.call(r,e),i&&i._name&&(i._parent.last.from.val={time:o(),key:i._name})},get:function(){return s(this)[0]}})})},{"../../util":"/Users/shawn/Work/vigour-js/util/index.js","./mockdata":"/Users/shawn/Work/vigour-js/app/user/mockdata.js","monotonic-timestamp":"/Users/shawn/Work/vigour-js/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/vigour-js/app/user/set.js":[function(e,t,s){var n=e("../../util"),r=(e("./"),e("../../object"));s.extend=n.extend(function(e){function t(e){this[e]=this.data.$userOrigin.get(e,this[e]._prop.$default)}function s(e){this[e]=this.mockdata[e]}e.define({_set:function(e,n){if(this[n]instanceof r&&(this[n].val=e[n]),"function"==typeof this[n])e[n]instanceof Array?this[n].apply(this,e[n]):this[n](e[n]);else if(this.isProperty(n,e))this[n]=e[n];else if(this[n])this[n]=e[n];else{var o={};o[n]=e[n];var i={};i[n]=!0,this.extend({name:n,mock:o,$default:e[n],subscription:i,on:{mock:s,user:t}})}}})})},{"../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/app/user/index.js"}],"/Users/shawn/Work/vigour-js/app/user/token.js":[function(e,t,s){var n=e("../../util"),r=e("../../value"),o=e("../../browser/cases");e("../../value/flags/process"),s.extend=n.extend(function(e){e.define({updateId:function(e){this.id=e instanceof Array?e[e.length-1]:e},authenticate:function(e,t,s,n){var r=this,o=r.cloud;if(o.params.fastLogin&&"undefined"!=typeof localStorage){var i=localStorage.getItem("userId");i&&(t.id=i)}o.authenticate(t,function(t){if(t.error&&"undefined"!=typeof localStorage&&localStorage.removeItem("userId"),e.clearCache(),s!==e.val,t.error||!e.val)e.val=!1,r.id=!1,n(),t.error?console.error("authenticate error:",t.error):r.iplogin&&r.iplogin.val||(r.cloud.emit("logout",t),"undefined"!=typeof localStorage&&localStorage.removeItem("userId"));else{if(e.val!==!0&&r.updateId(t),o.params.fastLogin&&"undefined"!=typeof localStorage){var i;i=t instanceof Array?t[t.length-1]:t,localStorage.setItem("userId",i)}r.iplogin&&r.iplogin.val,n()}})}}),e.extend({iplogin:{val:o.tv||o.chromecast},token:{subscription:{token:!0},val:{transform:function(e,t){return t instanceof Object?!1:t},defer:function(e,t,s){if(t[0]&&t[0].defer)return!0;var n=this,r=n._caller;r.cloud.connected.is(!0,function(){var t=n.val,s=r.id&&r.id.val,o=r.iplogin&&r.iplogin.val;if(n.clearCache(),s&&!o){r.cloud.logout(s);"undefined"!=typeof localStorage&&localStorage.removeItem("userId")}if(t){var i=r.cloud.api.get("auth");if(!i)throw new Error("could not determine auth url (got: "+i+")");var a={url:r.cloud.api.auth.val,subs:r.subscriptions,token:t},l=r.__authenticated__;if(o)if(t===!0&&delete a.token,a.tv=!0,l){var c,u=r.cloud.data.get("users");u.each(function(e){var t=this;t.token&&t.token.val===n.val?c=t._name:(t.receiverClient&&t.receiverClient.from===r.cloud.client.from&&(t.receiverClient.$userOrigin=null),t.activeClient&&t.activeClient.from===r.cloud.client.from&&(t.activeClient.$userOrigin=null))}),c?r.id=c:r.id=!1,e()}else r._authrequest=a,r.authenticate(n,a,t,e),r.__authenticated__=!0;else r._authrequest=a,r.authenticate(n,a,t,e)}else r.id=!1,e()})}}},localStorageToken:{val:{defer:function(e,t){var s=this._caller;if(s._readLocalStorage||"string"!=typeof this.val)e(!0);else{s._readLocalStorage=this.val;var n=localStorage.getItem(s._readLocalStorage);n&&"true"!==n&&(s.token=n),s.token.on(function(){var e=this.val;"string"==typeof e?localStorage.setItem(s._readLocalStorage,e):localStorage.removeItem(s._readLocalStorage)}),e()}}}}}),e.cases.$isLoggedIn=new r({val:e.token,transform:function(e,t){return t===!0?0:void 0}});var t=e.cloud.client;t.on(function(s,n,r){if(origin=r||this._updateOrigin,n===e.cloud.stamp){var o=t.from;o.token&&(e.token.val=e._authrequest.token=o.token.val)}}),e.token._name="token"})},{"../../browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value":"/Users/shawn/Work/vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/vigour-js/app/user/type.js":[function(e,t,s){var n=(e("../../base"),e("../../value")),r=e("../../object").set;e("../../util");t.exports={type:n,create:function(e,t,s,o){var i=new n;return i._base=this,i._caller=i._base,i._prop=s,r.call(i,e,!1,!1,!0),this._class&&(this._class.prototype._[s.name]=i),s&&(s._vset||(s.mock&&(this.mockdata=s.mock),s.subscription&&(this.subscriptions=s.subscription),s.on&&("function"==typeof s.on?(this.on.mock[s.name]=s.on,this.on.user[s.name]=s.on):(s.on.mock&&!this.on.mock[s.name]&&(this.on.mock[s.name]=s.on.mock),s.on.user&&!this.on.user[s.name]&&(this.on.user[s.name]=s.on.user))),s._vset=function(e,t,n,r){var o=this._caller||this._base||this;s.set&&s.set.call(o,this,e,t,n,r)}),o||i._update(e)),i},set:function(e,t,s){return this._caller=this,e},get:function(e,t){return e&&(e._caller=this),t.get?t.get.call(this,e):e}}},{"../../base":"/Users/shawn/Work/vigour-js/base/index.js","../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/app/user/url.js":[function(e,t,s){var n=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util");e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process"),s.extend=n.extend(function(e){e.extend({url:function(e){if(!e.urlset&&4===e.__t){e.urlset=!0;var t=this;t.navigation.page.on(function(s){e.from.val=t.navigation.page.val}),t.navigation.show.on(function(s){e.from.val=t.$parse(this).url}),t.navigation.media.on(function(){e.from.val=t.$parse(this).url}),e.from.on(function(){t.$execUrl()})}}}),e.define({$execUrl:function(e){var t,s,n,r,o,i=this,a=i.url.from.string.val,l=i.navigation,c=i.parent.content;a&&"$tv"!==a||(a=e),~a.indexOf("/")?0===a.indexOf("shows")?(t=a.split("/"),s=Number(t[1].split("-")[0]),t[2]&&(n=Number(t[2])),t[3]&&(r=Number(t[3].split("-")[0])),s&&(s=c.from.get(["shows",s]),l.show.$userOrigin=s),r&&(r=c.from.get(l.show.from._path.slice(3).concat(["seasons",String(n-1),"episodes",String(r-1)])),l.media.$userOrigin=r)):0===a.indexOf("channels")&&(t=a.split("/"),o=Number(t[1].split("-")[0]),l.page.$userOrigin="channels"):l.page.$userOrigin=a},$parse:function(e){var t=(this.url.val,e.from._parent&&e.from._parent._name),s={};return e.from&&(s.title=e.from.get("title",!1).val,"episodes"===t&&(s.season=Number(e.from._parent._parent._name)+1,s.media=Number(e.from._name)+1,s.show=e.from._parent._parent._parent._parent),t&&this.urlMap[t]&&(s.url=this.urlMap[t](e,s))),s},urlMap:{value:{episodes:function(e,t){var s=t.title,n=this.shows(t.show)+"/"+t.season+"/"+t.media;return s&&(n+="-"+s),n&&n.replace(/ /g,"+").replace("?","")},shows:function(e,t){var s=t?t.title:e.get("title",!1).val,n=e.from._name,r="shows/"+n;return s&&(r+="-"+s),r&&r.replace(/ /g,"+").replace("?","")}}}})})},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/vigour-js/app/user/usage.js":[function(e,t,s){function n(e){e.watched.from.each(function(){var t=this.media&&this.media.from;if(t){var s=e.parent.content.from._path.concat(t._contentPath),n=t._path;o.compareArrays(n,s)||(console.log("resolve",n,s),this.media.val=e.parent.content.get(s))}})}function r(e,t){var s=e._parent._val;return s&&s.$length.val>0?!0:0}var o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),i=(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),e("./mockdata"),e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases")),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data").inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/data/selection"));e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process"),s.extend=o.extend(function(t){var s=t.parent.inject(e("../content")).content;t.extend({usage:{mock:{usage:{}},subscription:{usage:{shows:{$:{media:{$:!0},favourite:!0,timestamp:!0}}}},on:{mock:function(){this.usage=this.mockdata.usage},user:function(){this.usage=this.data.from.get("usage",{})}}},watched:{on:{mock:function(){this.__watched&&(this.__watched.remove(),this.__watched=null),this.watched&&this.watched.$empty(),this.watched={}},user:function(){var e=this;this.__watched&&(this.__watched.remove(),this.__watched=null);var t=this.__watched=new a(e.usage.from.get("shows"),{condition:{media:{title:{$exists:!0}}}});e.watched={},t.on(function(){var n={};t.each(function(t){var r=s.get(this._path.slice(-2)),i={};o.path(i,r._path,{img:!0,title:!0});var a=e.parent.cloud;a.subscribe(i),e.watched.set(this._name,{show:r,media:this.media.from}),e.watched[this._name].once("remove",function(){a.unsubscribe(i)}),n[this._name]=!0}),e.watched.each(function(t){n[t]||e.watched&&this.remove()}),n=!1,e.watched.update()}),t._update()}}},favourites:{on:{mock:function(){this.__favourites&&(this.__favourites.remove(),this.__favourites=null),this.favourites&&this.favourites.$empty(),this.favourites={}},user:function(){var e=this;e.__favourites&&(e.__favourites.remove(),e.__favourites=null),this.favourites.$empty();var t=e.__favourites=new a(e.usage.from.get("shows"),{condition:{favourite:!0}});e.favourites={},t.on(function(){var n={};t.each(function(t){var r=s.get(this._path.slice(-2));e.favourites.set(this._name,r),n[this._name]=!0}),e.favourites.each(function(e){n[e]||this.remove()}),n=!1,e.favourites.update()}),t._update()}}}}),t.extend({hasWatched:{val:{val:t.watched,transform:r}},hasFavourites:{val:{val:t.favourites,transform:r}}});s._val;s.on("self",function(){t.token.val?(n(t),t.favourites._prop.on.user.call(t),t.watched._prop.on.user.call(t)):(n(t),t.favourites._prop.on.mock.call(t),t.watched._prop.on.user.call(t))}),i.$hasFavourites=t.hasFavourites,i.$hasWatched=t.hasWatched})},{"../content":"/Users/shawn/Work/vigour-js/app/content.js","./mockdata":"/Users/shawn/Work/vigour-js/app/user/mockdata.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data":"/Users/shawn/Work/vigour-js/data/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/data/selection":"/Users/shawn/Work/vigour-js/data/selection.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/vigour-js/app/values.js":[function(e,t,s){var n=e("../util/config"),r=n.languages,o=e("../util"),i=e("../value"),a=e("../browser/network/url"),l=e("../browser/ua");
e("../value/flags/process"),s.extend=o.extend(function(e){var t=e.cases||(e.cases=equire("../browser/cases"));e.initialised=new i(!1),e.overlay=new i(!1),e.focusState=new i("menu"),e.region=new i({init:e.initialised}),e.url="tv"===l.device&&"lg"===l.platform?new i({defer:function(){},params:{},string:""}):a,e.ready=new i,e.menu=new i({init:e.ready}),e.network=new i,e.loading=new i({init:e.ready,defer:function(e,t){var s=this.updatePath.join(".");t[0]===!1&&(s&&s===this.id||!this.id)?(this.val=t[0],this.id=!1):t[0]===!0&&(this.id=s,this.val=!0),e()}});var s=e.guessLanguage=function(){var t=window.navigator.userLanguage||window.navigator.language,s=t&&t[1]?t:e.region.val;return s?(s=s.slice(0,2).toLowerCase(),r&&o.checkArray(r,s)===!1&&(s="en"),s):"en"};e.language=new i({transform:function(e,t){return t&&"string"==typeof t||(t=s()),t?t.slice(0,2).toLowerCase():!1},init:e.initialised}),e.fullscreen=new i({force:!0}),e.loader=new i,e.volume=new i({val:1,transform:function(e,t){return isNaN(t)?1:t}}),e.popup=new i({init:e.ready}),e.state=new i({init:e.ready}),e.notification=new i({init:e.ready,force:!0}),e.playing=new i({init:e.ready,val:!1}),e.restrictPlayback=new i,e.wifiOnly=new i(localStorage?{val:localStorage.getItem("wifiOnly")||!1,defer:function(e){this._val?localStorage.setItem("wifiOnly",!0):localStorage.removeItem("wifiOnly"),e()}}:!1),e.restrictPlayback.val={val:e.wifiOnly,transform:function(e,s){return s&&t["native"]&&"wifi"!==api.network.val?!0:!1}},t.$playing=e.playing,t.$storeAvailable=new i(t["native"]&&(t.ios||t.android||t.windowsMobile))})},{"../browser/network/url":"/Users/shawn/Work/vigour-js/browser/network/url.js","../browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","../util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","../value":"/Users/shawn/Work/vigour-js/value/index.js","../value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/vigour-js/base/index.js":[function(e,t,s){var n=e("../"),r=e("../util"),o=e("../util/inject"),i=n.Base=t.exports=s=function(e){this._from=this.constructor,e&&this.set(e)};s.settings=e("./settings");var a=s.set=function(e,t,s){for(var n in e)if(~n.indexOf(",")){for(var o=n.split(","),i={},l=0,c=o.length;c>l;l++)i[o[l]]=r.clone(e[n]);if(s){delete e[n];for(var u in i)e[u]=i[u]}else a.call(this,i,t,s)}else n=r.dotField(e,n),this._set&&!s?this._set.call(this,e,n,t):this[n]=e[n];return s?e:this};r.define(i,"isProperty",function(e,t){var s=this,n=!(void 0===s._[e]&&!r.lookup.call(s,e)&&"function"!=typeof s[e]);return n},"defaultType",!1,"extensions",!1,"define",function(e){for(var t in e)r.define(this,t,e[t]),r.define(this.Class,t,e[t])},"extend",function(e){var t,n=r.arg(arguments),o=n.length;if(o>1)for(t=0;o>t;this.extend(n[t++]));else if(e.name)if(e===!0&&alert(),e.def||0===e.def||(e.def=!1),this.Class.prototype._settings&&(s.settings.parse.call(this,e),e._settings&&s.settings.create.call(this,e)),e.type===!1||!e.type&&!this.defaultType)r.define(this.Class,e.name,e);else{e.type||(e.type=this.defaultType);var i=function(t){return e.type.get?e.type.get.call(this,t,e):t},a=function(t){var s=this[e.name];if(null!==s)return s===e.def?e.type.create.call(this,t,s,e):(t=e.type.set.call(this,t,s,e),void(null!==t&&(s.val=t)))};r.define(this,e.name,e.def,a,i,!0),r.define(this.Class,e.name,e.def,a,i)}else for(t in e)"function"==typeof e[t]?this.extend({name:t,set:e[t]}):(e[t].name=t,this.extend(e[t]))},"remove",function(e,t,s){if(this._from){if(this.setting("remove",[s]),!t){var r=this._from.base.instances;if(r){var o=0;for(r.length;r[o]!==this||!r.splice(o,1);o++);}}for(var i in this.__)this.__[i]instanceof n.Object?(this.__[i].remove(!1,!1,!1,!1,!1,!0),this.__[i]=null):this.__[i]=null;if(this.__=null,e&&this.instances)for(a=this.instances.length-1;a>=0;this.instances[a--].remove(!0,!0));for(var a in this)this[a]=null;this._settings=null,this._=null,delete this._settings,delete this._,delete this.__}},"set",a,"get",function(e,t){return r.get(this,e,t)},"inject",o,"eachInstance",function(e,t,s,n){var r=this.instances;if(r)for(var o,i=0,a=r.length;a>i;i++)if(o=r[i],!o||t&&o.__&&o.__[t])o||console.error("\n\n\n\ninstance in base gone?",i,r);else{if(e.call(o,s,n))return!0;if(o.eachInstance(e,t,s))return!0}},"Class",{get:function(){if(!this._class){this.instances=[],this._class=function(e,t,s){if(!t){var n=this._from.base;n.instances.push(this),this.setting&&this.setting("new",[n,s]),e&&this.set(e)}},this._class.base=this,this._class.prototype=new this._from(!1,!0),this._class.prototype.__=null,r.setstore.call(this);var e,t=this._class.prototype._={};for(e in this.__)t[e]=this.__[e];for(e in this._)void 0===t[e]&&(t[e]=this._[e]);this._class.prototype._from=this._class,this._class.inject=o}return this._class}})},{"../":"/Users/shawn/Work/vigour-js/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","../util/inject":"/Users/shawn/Work/vigour-js/util/inject.js","./settings":"/Users/shawn/Work/vigour-js/base/settings.js"}],"/Users/shawn/Work/vigour-js/base/settings.js":[function(e,t,s){var n=e("./"),r=e("../util");r.define(n,"_settings"),n.prototype._._settings={};var o=function(e,t,s){var n,i,a,l=e._settings,c=this,u=c._._settings;if(r.setstore.call(c),!c.__._settings){c.__._settings={};for(var p in u)c._settings[p]=u[p]}a=c.__._settings;for(i in l)if(n=l[i],t&&a[n][e.name]||!t&&!a[n][e.name]||s){if(a[n]===u[n]){a[n]={};for(var d in u[n])a[n][d]=u[n][d]}t?(this.eachInstance(function(){this[e.name]!==c[e.name]?this._setting!==a&&this._settings[n]===a[n]&&o.call(this,a[n][e.name],!1,!0):this._setting!==a&&this._settings[n]!==a[n]&&this.removeSetting(e.name,n)}),a[n][e.name]=null,delete a[n][e.name],r.empty(a[n])&&(a[n]=!0)):(a[n]===!0&&(a[n]={}),a[n][e.name]=e)}};s.create=function(e){e._set=e.set,e.set=function(t,s){o.call(this,e),e._set.apply(this,arguments)}},s.parse=function(e,t){t||(t=this._settings);for(var s in t)e[s]&&(e._settings||(e._settings=[]),e._settings.push(s))},s.add=function(e,t){if(e instanceof Array)for(var s in e)t?this.add(e[s],t):this.addSetting(e[s],!1);else if(t)t.prototype._settings[e]=!0;else{r.setstore.call(this),this.__._settings||(this.__._settings={});for(var n in this._._settings)this._settings[n]=this._._settings[n];this._settings[e]=!0}},r.define(n,"addSetting",function(e){s.add.call(this,e),this._class&&(this._class.prototype._._settings=this._settings)},"setSetting",function(e){s.parse.call(this,e),o.call(this,e)},"removeSetting",function(e,t){t instanceof Array||(t=[t]);for(var s,n=t.length-1,r=this._settings;n>=0;n--)if(r&&r[t[n]]&&r[t[n]][e]){s=!0;break}s&&o.call(this,{name:e,_settings:t},!0)},"setting",function(e,t){var s=this._settings;if(s&&s[e]&&s[e]!==!0)for(var n in s[e])s[e][n][e].apply(this,t)}),s.add(["new","remove"],n)},{"../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/base/index.js"}],"/Users/shawn/Work/vigour-js/browser/animation/easing.js":[function(e,t,s){var n=e("./");n.easing=s,s.inCubic=function(e,t,s,n){return s*(e/=n)*e*e+t},s.outCubic=function(e,t,s,n){return s*((e=e/n-1)*e*e+1)+t},s.outBack=function(e,t,s,n,r){var r=1.70158;return s*((e=e/n-1)*e*((r+1)*e+r)+1)+t}},{"./":"/Users/shawn/Work/vigour-js/browser/animation/index.js"}],"/Users/shawn/Work/vigour-js/browser/animation/frame.js":[function(e,t,s){var n=e("../../value"),r=new n(1),o=e("../../util"),i=function(){s.rafId=window.requestAnimationFrame(i),r.val++};r.done=new n(!0),o.define(r,"addListener",function(e,t,s){this._listeners||(this.done.val=!1,i()),n.prototype.addListener.call(this,e,t,s)},"removeListener",function(e,t,r){var o=this;n.prototype.removeListener.call(o,e,t,r),this._listeners||(window.cancelAnimationFrame(s.rafId),this.val=1,this.done.val=!0)}),t.exports=r},{"../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/browser/animation/index.js":[function(e,t,s){function n(e){this._p=!0,this.val=e,this._p=!1}var r=(e("../element").inject(e("../element/properties")),e("../../object")),o=(e("../../util"),e("../../value/flags/util")),i=e("../../value/operators"),a=e("./frame"),l=function(e,t,s,n){return s*e/n+t};i._a=function(e,t){return t},i._a.order=2,o.animation={set:function(e){var t=this,o=t.checkParent("_prop");if(e){t._val||(t.val=0);var i,c,u=o._prop.name,p=o._caller,d=e.noListener,h=t._path,v=u.concat(h.join("")),m=e.skip,f=e.easing&&s.easing[e.easing]||e.easing||l;if(o._animListen||(o._animListen=function(e){var t=this[u];if(t)t.update(this,!0);else{var s=a._listeners&&a._listeners.length;console.log("_animListen setting",a._listeners&&a._listeners.length),a.removeListener(void 0,this),console.log(">> _animListen setting",a._listeners&&a._listeners.length),s&&s===(a._listeners&&a._listeners.length)&&console.error("this >>",this)}}),p.setSetting({name:"animation",remove:function(){var e=a._listeners&&a._listeners.length;if(a.removeListener(void 0,this),a._listeners&&e&&e===(a._listeners&&a._listeners.length))for(var t in a._listeners)a._listeners[t]instanceof Array&&(a._listeners[t][1]===this,a._listeners[t][1])}}),o.preventSet=n,o.set("translate",!0),t.set("_a",{time:e.time||60,val:function(n,l,p){var h,g=this,w=o,y=g[u];if(g._a||(g._a={}),!g._a[v]&&(c=void 0===e.start?g.rendered&&void 0!==t.__lval?t.__lval:l:e.start instanceof r?e.start.val:e.start,g._a[v]={_start:c,_end:c,_current:c,_count:0},!g.rendered))return c;if(g.rendered){if(m)return g._a[v]._current=l,m=!1,l;if(h=g._a[v],y._p||s.prevent)h._frame=0,a.removeListener(w._animListen,this,!0),1!==y._p&&(h._current=h._end=l,e.complete&&(d=e.complete.call(g,l)),e.done&&setTimeout(function(){e.done.call(g,l)},0),e.once&&setTimeout(function(){e.once&&e.once.call(g,l),e.once=null},0));else if(h._frame!==a.val){if(h._frame||void 0!==l&&h._current!==l){if(h._end!==l&&(e.init&&e.init.call(g,h._current),d||a.addListener([w._animListen,this,u],function(e,t){for(var s in t)if(t[s].pop&&t[s].pop&&t[s][1]===g&&t[s][2]===u)return!1;return!0}),h._start=h._current,h._end=l,h._count=0,i=~~n.time.val),h._frame=a.val,e.delay)return e.delay--,h._start;var k=++h._count;h._current=f.call(g,k,h._start,h._end-h._start,i||(i=~~n.time.val)),e[k]&&e[k].call(this,h._current,l)}h._count===i&&(h._current=l,h._frame=0,h._count=0,e.complete&&(d=e.complete.call(g,l)),e.done&&setTimeout(function(){e.done.call(g,l)},0),e.once&&setTimeout(function(){e.once&&e.once.call(g,l),e.once=null},0),d||a.removeListener(w._animListen,this,!0))}return h._current}}}),o._skip=!0,t._skip=!0,void 0!==e.start){var g=this._caller;g||(g=this.checkParent("_prop")._caller),g.setRender(u,function(e){this.update(u)})}}else t.remove("_a"),t._skip=void 0,o._skip=void 0,_remove(o)}}},{"../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value/flags/util":"/Users/shawn/Work/vigour-js/value/flags/util.js","../../value/operators":"/Users/shawn/Work/vigour-js/value/operators.js","../element":"/Users/shawn/Work/vigour-js/browser/element/index.js","../element/properties":"/Users/shawn/Work/vigour-js/browser/element/properties/index.js","./frame":"/Users/shawn/Work/vigour-js/browser/animation/frame.js"}],"/Users/shawn/Work/vigour-js/browser/animation/raf.js":[function(e,t,s){var n=e("../ua"),r="equestAnimationFrame",o=e("../../util");lastFrame=0,o.define(n,"hasTransition",{get:function(){if(!n._hasTransition){var e=document.body||document.documentElement,t=e.style,s="ransition";n._hasTransition="string"==typeof t["t"+s]||"string"==typeof t[n.prefix+"T"+s]}return n._hasTransition}}),r="r"+r,window[r]||(n.noRaf=!0,window[r]=function(e){return setTimeout(e,20)},window.cancelAnimationFrame=function(e){clearTimeout(e)}),t.exports=s=window[r],s.timer=function(e,t,n){s(--t?function(){n&&e(),s.timer(e,t,n)}:e)},s.repeat=function(e,t){s.timer(e,t,!0)}},{"../../util":"/Users/shawn/Work/vigour-js/util/index.js","../ua":"/Users/shawn/Work/vigour-js/browser/ua.js"}],"/Users/shawn/Work/vigour-js/browser/cases/base.js":[function(e,t,s){var n=e("./"),r=(e("../element"),e("../element/set")),o=e("../../base"),i=e("../../util"),a=function(e,t,s,n){s||(e.css||(e.css=""),e.css.set(n?"removeClass":"addClass",t),e.css.update(e),e.eachInstance(function(){console.error("\n\n\ninstance! set css!!!!!",t,e.node),this.css.set(n?"removeClass":"addClass",t),this.css.update(this)}))},l=n.methods;r.remove=function(e,t,s,n){if(t&&t.__remove__)if(this[e]instanceof o)n[e]=!1;else{if(!i.lookup.call(this,e))return delete t[e],!0;delete t.__remove__}},r.cases=l.reader(function(e,t,s,r){var c,u,p,d,h,v=this,m=function(e){e=o.set(e,!1,!0);for(var t in e)i.isObj(e[t])&&(e[t]=m(e[t]));return e};return t=m(t),s?(v._cases||(v._cases={}),null===t?(v._cases[e].method&&n[e].removeListener(v._cases[e].method),n[e].val&&(v.css={removeClass:e},v.eachInstance(function(){this.css={removeClass:e}})),delete v._cases[e]):(u=l.original(v,!0,t,v._cases,!0,e),v._cases[e]={val:t,orig:u[0],nested:u[1]},v._cases[e].method||(c=v._cases[e].method=function(){t&&(p=l.merge(!0,e,t,v._cases),d=p[0],h=p[1],delete d.val,delete h.val,n[e].val?(a(v,e,r),v.set(d,!0)):(a(v,e,r,!0),v.set(h,!0)))},n[e].addListener(c),v.setSetting({name:"_c"+e,remove:function(){this===v&&(n[e].removeListener(c),this._cases[e].method=null)}})),n[e].val&&(a(v,e,r),v.set(t,!0)))):(a(v,e,r),v.set(t)),!0})},{"../../base":"/Users/shawn/Work/vigour-js/base/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../element":"/Users/shawn/Work/vigour-js/browser/element/index.js","../element/set":"/Users/shawn/Work/vigour-js/browser/element/set.js","./":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/vigour-js/browser/cases/index.js":[function(e,t,s){var n=e("../../object"),r=e("../../util"),o=e("../element"),i=e("../../value"),a=e("../../value/flags");r.define(s,"methods",{});var l=r.isObj,c=function(e,t,s){var n,r,o,i,a;if(s){n={};for(o in e)n[o]=!0}for(r in t)(!s||n[r])&&(i=e[r],a=t[r],i instanceof Object?(i.__remove__&&a&&!a.__remove__&&delete i.__remove__,a instanceof Object||(t[r]={val:a}),c(i,a,s)):(e[r]=a,i="burn"))},u=function(e,t,r,i,c,p,d,h,v){h||(v=e,h=[]);var m,f,g;if(c instanceof n&&!p);else if(c instanceof Object)for(m in c)g=c[m],s[m]?(f=s[m],f instanceof n&&(p&&o.set.lookup.call(v,h[h.length-1])||(t[m]=!0)),l(g)?(h.push(m),u(e,t,r,i,g,p,d,h,v)):i.val=e&&(void 0!==e._val?e._val:void 0),i[m]=null):l(g)?(i[m]||(i[m]=e&&e[m]&&e[m].convert&&e[m].convert(g)||(g instanceof Array?[]:{})),h.push(m),u(e&&e[m],t,r,i[m],g,p,d,h,v),!p||e&&e[m]||(i[m].__remove__=!0)):e&&i&&!i[m]&&(a[m]?(delete i[m],i.val=void 0!==e._val?e._val:void 0):i[m]="val"===m?void 0!==e._val?e._val:void 0:void 0!==e[m]&&e[m].convert&&e[m].convert())};s.methods.original=function(e,t,s,n,r,o){var i,a,p=t?e.convert(s):e._val,d={};u(e,d,n,p,s,r,o);for(i in n)d[i]||(a=n[i].orig,t?l(a)?n[i].nested[o]||c(p,a,o):p.val&&(p.val=a):l(a)?a.val&&(p=a.val):p=a);return[p,d]},s.methods.merge=function(e,t,n,o){var i,a,u,p,d=r.clone(o[t].orig),h=n;for(a in o)if(a===t||o[t].nested[a])i=!0;else if(s[a].val)if(u=o[a].val,l(d)||l(u)){l(d)||(d={val:d}),l(u)||(u={val:u}),c(d,u,!0);for(a in s)p=d[a],null!==p&&void 0!==p&&delete d[a];if(i)if(e){h===n&&(h=r.clone(h)),u=r.clone(u);for(a in s)null!==u[a]&&void 0!==u[a]&&delete u[a];c(h,u,!0)}else u.val&&(h=u.val)}else d=u;return[h,d]},s.methods.reader=function(e,t,r){return function(o,a){var l,c="!"===o[0],u=c?s[o.slice(1)]:s[o];return u?u instanceof n?(c&&!s[o]&&(s[o]=new i({val:function(){return!u.val},listen:u})),l=e?e.call(this,o,a,!0,c):t):l=c?!!e:e?e.call(this,o,a):r:c&&(l=e?e.call(this,o,a,!1,c):r),u===!1&&e&&(l=!0),l}},e("./object"),e("./base")},{"../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value":"/Users/shawn/Work/vigour-js/value/index.js","../../value/flags":"/Users/shawn/Work/vigour-js/value/flags/index.js","../element":"/Users/shawn/Work/vigour-js/browser/element/index.js","./base":"/Users/shawn/Work/vigour-js/browser/cases/base.js","./object":"/Users/shawn/Work/vigour-js/browser/cases/object.js"}],"/Users/shawn/Work/vigour-js/browser/cases/object.js":[function(e,t,s){var n=e("../../value/flags"),r=e("./"),o=e("../../object"),i=e("../../util"),a=r.methods,l={set:function(e,t,s,n){this._flag||(this._flag={});var c=this,u=c._flag["case"]||(c._flag["case"]=["case",c._val,!1,{},l]),p=u[3],d=i.isObj(e),h=d&&!e.val?!1:!0;if(null===e)p[n]&&r[n].removeListener(p[n].method),delete p[n];else{if(u[5]=!0,!p[n]){var v=a.original(c,d,e,p,!1,n);p[n]={val:e,orig:v[0],nested:v[1],method:function(){var t=a.merge(d,n,e,p),s=t[0],o=t[1];u[5]=!0,r[n].val?(s||console.warn(n,"wrong in cases!",s,r,u),h&&s&&(u[1]=s.val||s),c.val=s):(h&&(u[1]=o&&o.val||o),"$isActive"===n&&console.log("no way gozee 2",o,c),c.val=o),u[5]=null}},r[n].addListener(u[3][n].method)}r[n].val&&(h&&(u[1]=e.val||e),o.set.call(c,e,t,!1,!0),c._ignorefornow=!0),u[5]=null}},remove:function(e,t){var s=0;for(var n in e[3])s++,!this._ignorefornow&&!t||n===t?(s--,r[n].removeListener(e[3][n].method)):delete this._ignorefornow;return s?!0:void 0},stack:"case"},c={set:function(e,t,s,n){null!==e&&o.set.call(this,e,t,!1,!0)}};n.dynamic.cases=a.reader(!1,l,c)},{"../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value/flags":"/Users/shawn/Work/vigour-js/value/flags/index.js","./":"/Users/shawn/Work/vigour-js/browser/cases/index.js"}],"/Users/shawn/Work/vigour-js/browser/css.js":[function(e,t,s){var n="cssRules",r=function(e){e="."+e.replace(/\./g," .").toLowerCase();for(var t,s,r=document.styleSheets,o=r.length,i=0;o>i;i++)if(s=r[i][n]||r[i][n="rules"])for(var a,l=0,c=s.length;c>l;a=s[l++],a.selectorText===e&&(t=a.style));return t},o=function(e,t){var n=s;return t.push(n[e]||(n[e]=r(e))||{}),e};t.exports=function(e,t){if(e){var s=this[e];if(!s){s=[];for(var n,r=e.split(" "),i=0,a=r.length;a>i;i++)(n=o(r[i],s).split("."))instanceof Array&&o(n[n.length-1],s);this[e]=s}if(t){if(!(s instanceof Array))return;for(var l,i=s.length-1;!l&&i>=0;l=s[i--][t]);s=l}return s}}},{}],"/Users/shawn/Work/vigour-js/browser/element/index.js":[function(e,t,s){var n=e("../../base"),r=e("../../value/base"),o=e("../../"),i=e("../../util"),a=new n;a.defaultType=r.type,t.exports=s=o.Element=a.Class,s.base=a;var l="undefined"!=typeof document?document:"no document",c=function(){for(var e=this._node.childNodes,t=0,s=e.length;s>t;t++)e[t].base&&e[t].base.remove(!1,!1,!0)};s.base.extend({name:"node",type:!1,set:function(e){e instanceof Object||!e.length?this._node=e:this._node=l.createElement(e),this._node.base=this},get:function(){return this._node||(this.node=l.createElement("div")),this._node},"new":function(e,t){if(t)this._node=t;else{var s=e._node;s&&(this._node=s.cloneNode(!0),this._node.base=this)}if(e._node&&e._node.hasChildNodes()){var n,r,o=this._node.childNodes,i=e._node.childNodes,a=o.length;for(n=0;a>n;n++)r=i[n].base,r&&(o[n].base=new r.Class(!1,!1,o[n]),r._name&&(o[n].base._name=r._name,this[r._name]=o[n].base),o[n].base.setting("parent",[this]))}},remove:function(e){if(c.call(this),this._node&&(this._node.base=null),!e){var t=this._node.parentNode;t&&(t.removeChild(this._node),this._name&&t.base&&(t.base[this._name]=null))}}},{css:function(e){var t=e.val||"";e._skip=!0,e.addClass&&(~t.indexOf(e.addClass.val)||(e._val=(t.length>0?t+" ":"")+e.addClass.val,e.add&&(e._val=e._val.replace(e.add.val,"")),e._lval=!1,e.__lval=!1,e.___lval=!1,t=e.val),e.addClass.remove()),e.removeClass&&(t&&e._val&&(e._val=e._val.replace(new RegExp(" ?"+e.removeClass.val),""),e._lval=!1,e.__lval=!1,e.___lval=!1,t=e.val),e.removeClass.remove()),t?this.node.className=t.replace("$",""):this.node.className=""}},{name:"name",type:!1,set:function(e){var t=this.parent;this._name&&t&&(t[this._name]=null),this._name=e,this._node&&e===this.node.nodeName.toLowerCase()||this.css&&this.css._val===e||(this.css={add:" "+e}),t&&(t[e]=this)},get:function(){return this._name}},{name:"parent",type:!1,get:function(){if(this._node){var e=this._node.parentNode||this._p;return e?e.base||e._p:!1}}},{name:"children",type:!1,get:function(){if(!this._node)return[];var e,t=this._node.childNodes,s=t.length,n=new Array(s);for(e=0;s>e;e++)n[e]=t[e].base||t[e];return n}});var u=function(e){if(this.lastindex||this.setting("render",[e]),this.renders)for(var t,s,n,r=this.node.childNodes,o=this.renders,a=this.lastindex||0,l=o.length;l>a;a++)if(n=o[a])if(t=i.checkArray(r,n,"base"),t!==!1)u.call(n,this);else if(n._from)if(s=n.Class,n.name&&this[n.name]&&this[n.name]===s)u.call(this[n.name],this);else for(var c in r)if(r[c].base&&r[c].base instanceof s){u.call(r[c].base,this);break}this.lastindex=l},p=function(){var e,t;this.parent&&(e=this.parent,e.renders?e.renders.push(this):(e.renders=[this],t=e.parent,!t||t._settings&&t._settings.render!==!0||p.call(e)))},d=function(e){var t=e.__&&e.__._settings||e._._settings;(e._.renders||e.__&&e.__.renders||t.render!==!0)&&(this.renders||(this.renders=[]),this.__&&this.__.renders||(this.renders=i.clone(this.renders)),this.renders.push(e))};i.define(s,"append",function(e){arguments;arguments.length>1&&(e=i.arg(arguments));var t;e.length||e instanceof s||!e.val||(t=e.before,e=e.val);var n=e[0],r=0,o=e.length;if(e.length)if("function"==typeof n)for(var r=1,o=e.length;o>r;r++)this.add(new n(e[r]),t);else for(;o>r;r++)this.add(e[r],t);else this.add(e,t)},"checkRender",function(e,t){if(e&&d.call(this,e),!t){var s=this.__&&this.__.renders||this._.renders;(s||(this.__&&this.__._settings||this._._settings).render!==!0)&&(!this.lastindex||s&&this.lastindex<s.length)&&this.rendered?u.call(this,this):this.parent&&d.call(this.parent,this)}},"checkParent",i.checkParentFactory("parent"),"get",function(e,t){return i.get(this,e,t)},"find",function(e,t,s){void 0===s&&(s=!0);for(var n,r,o=this.node.childNodes,i=0,a=o.length,l=s===!0?!0:s-1;a>i;i++)if(r=o[i].base){if(r.get(e,!0)==t)return r;if(s&&(n=r.find(e,t,l)))return n}},"setRender",function(e,t){this.setSetting({name:e,render:t}),p.call(this),this.eachInstance(function(){p.call(this)},e)},"renders",!1,"add",function(e,t){return t?("string"==typeof t&&(t=this[t]),t?this.node.insertBefore(e.node,t.node||t):console.error("cannot find insertbefore")):this.node.appendChild(e.node),e.setting("parent",[this]),e.name&&(this[e.name]=e),this.checkRender(e),this},"empty",function(e){var t,s=this.node.childNodes;for(this.node.innerHtml="",t=s.length-1;t>=0;t--)s[t].base&&s[t].base.remove(e)}),s.base.addSetting("parent"),s.base.addSetting("render"),e("./set")},{"../../":"/Users/shawn/Work/vigour-js/index.js","../../base":"/Users/shawn/Work/vigour-js/base/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../value/base":"/Users/shawn/Work/vigour-js/value/base.js","./set":"/Users/shawn/Work/vigour-js/browser/element/set.js"}],"/Users/shawn/Work/vigour-js/browser/element/properties/collection/display.js":[function(e,t,s){var n=e("./util");s.prepare=function(e){e.display||(e.display="block")},s.newElement=function(e,t,s){var r=n.children(s);for(var o in r)if(r[o]._d&&r[o]._d===e)return r[o].display=t.display.val,!0},s.rem=function(e,t,s,n){return e.display="none",!0},s.fragment=function(e,t,s,n){s&&(s[n]=null)}},{"./util":"/Users/shawn/Work/vigour-js/browser/element/properties/collection/util.js"}],"/Users/shawn/Work/vigour-js/browser/element/properties/collection/index.js":[function(e,t,s){var n=e("./util"),r=e("../../../../util");s.extend=r.extend(e("../data"),function(e){e.extend({name:"collection",remove:function(){this._colElem&&this._colElem.remove()},set:function(e,t,s,o,i,a){e._skip=!0;var l,c,u=n.filter(e,this),p=this.filter||e.val,d=this._colOptions||e.options&&(this._colOptions=e.options.convert()),h=e.element,v=this._colElem||h&&h._val&&(this._colElem=new(h._val.Class||h._val)),m=!this._colInit,f=this._colElem;if(p&&v)if(l=h._slStamp,c=h._val,l?h._slStamp=t:f&&h._slStamp!==t&&(c.Class&&f instanceof c.Class||!c.Class&&f instanceof c||(v=this._colElem=new(c.Class||c),h._slStamp=t)),m)d&&d.prepare&&d.prepare(v),this._colInit=!0,this.node.appendChild(n.fragment(p,v,this,!1,d,u));else if(s&&s._parent===p.from)if(o){var g=r.checkArray(n.children(this),s,"_d",!0);g&&(d&&d.rem&&d.rem(g,this,u)||g.remove())}else r.checkArray(n.children(this),s,"_d")===!1?n.element(s,v,this,!0,this.node,d,u,!0):u&&d&&d.indexChange&&d.indexChange(r.checkArray(n.children(this),s,"_d",!0),this,u);else if(!s)if(o)n.clear(this,d);else{var w,y,k,_=n.children(this),j={};u===!0&&(y=p.keys);for(var b in _)k=_[b],w=_[b]._d._name,(u&&!y?r.checkArray(p,k._d)!==!1:p[w]&&p[w]===k._d)?(j[w]=!0,u&&(d&&d.indexChange?k._d._indexCache[u][0]!==k.i&&d.indexChange(k,this,u,!0):u===!0&&b!=r.checkArray(y,w,!0)&&(delete j[w],d&&d.rem&&d.rem(_[b],this,u,u)||k.remove()))):d&&d.rem&&d.rem(k,this,u,u)||k.remove();this.node.appendChild(n.fragment(p,v,this,j,d,u))}}})})},{"../../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../data":"/Users/shawn/Work/vigour-js/browser/element/properties/data.js","./util":"/Users/shawn/Work/vigour-js/browser/element/properties/collection/util.js"}],"/Users/shawn/Work/vigour-js/browser/element/properties/collection/util.js":[function(e,t,s){var n=(e("../"),e("../../../../data").inject(e("../../../../data/selection")));e("../../../../util");s.element=function(e,t,s,n,r,o,i,a){var l;if(!o||!o.newElement||(l=o.newElement.apply(this,arguments),l!==!0))return l=l||new t.Class,l._col=!0,void 0!==e&&l._dSet(e),r&&r.appendChild(l.node),l.setting("parent",[s]),o&&o.element&&o.element(l,s,i,a),n&&void 0!==e&&l.updateData(),s.checkRender(l,!0),l},s.fragment=function(e,t,n,r,o,i){var a=document.createDocumentFragment(),l=function(e){if(this._name&&(e=this._name),!(o&&o.fragment&&o.fragment(n,this,r,e)||r&&r[e])){var l=s.element(this||null,t,n,!1,a,o,i);l&&a.appendChild(l.node)}};if(a._p=n,e.each)e.each(l);else for(var c in e)l.call(e[c],c);return t.updateData(!0),a},s.children=function(e,t){if(e){var s=[];for(var n in e.node.childNodes){var r=e.node.childNodes[n].base;r&&r._col&&s.push(r)}return t&&t.children&&t.children(s),s}},s.clear=function(e,t){e.colInit=null;var n=s.children(e);for(var r in n)n[r].remove();t&&t.clear&&t.clear(e)},s.filter=function(e,t){var s=e.val;if(e.filter&&e.filter.val===!0)return!0;if(s&&e.filter&&!t.filter){var r=e.filter.raw;return s=t.filter=new n(s,r),r._col=!0,s.addListener(function(e,s,n,r){t.collection._update(e,s,n,r)}),t.setSetting({remove:function(){t.filter.remove(),t.filter=null}}),s._uid}return s&&s._filter?s._uid:t.filter?t.filter._uid:void 0}},{"../":"/Users/shawn/Work/vigour-js/browser/element/properties/index.js","../../../../data":"/Users/shawn/Work/vigour-js/data/index.js","../../../../data/selection":"/Users/shawn/Work/vigour-js/data/selection.js","../../../../util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/browser/element/properties/data.js":[function(e,t,s){var n=e("../../../data/base"),r=e("../../../util");e("../../../value/flags");s.extend=r.extend([n,{updateData:function(e,t,s){this._d&&(this._subscribed=!1,t=this._d);var n=!1;s||this.model||this._fmodel||(n=!0);for(var r,o=this.node.childNodes,i=o.length-1;i>=0;i--)r=o[i].base,!r||r.model&&r.model.inherit&&r.model.inherit.val===!1||void 0!==r._d&&!r._dfrom||(r.model&&t&&(n&&(r._fmodel=!0),r._dSet(t,!0)),r.updateData(e,t,r._fmodel||s))}}])},{"../../../data/base":"/Users/shawn/Work/vigour-js/data/base.js","../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../../value/flags":"/Users/shawn/Work/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/vigour-js/browser/element/properties/index.js":[function(e,t,s){var n=e("../../ua"),r=e("../../css"),o=e("../../../value"),i=e("../../../util"),a=e("../../../util/hash"),l=e("../../animation/raf"),c=e("../").images={},u=n.prefix+"Transform",p=n.prefix+"-transform",d=document.body.style,h=void 0!=d.perspectiveProperty||void 0!=d.WebkitPerspective?["translate3d(",",0px)"]:["translate(",")"],v=function(e){var t="margin"+(e[0].toUpperCase()+e.slice(1));return function(s){s.clean&&(g.call(this,e,t),s.clean=null),s.translate?this.translate(s):this.node.style[this.relative?t:e]=s.val+"px"}},m=new RegExp(p+"(.*?);"),f={x:/(margin-left(.*?);)|(left(.*?);)/g,y:/(margin-top(.*?);)|(top(.*?);)/g},g=function(e){var t=this._t,s=!1,n=this[e],r=this.node.style.cssText.replace(f[e],"");if(n&&n.translate&&n.translate.val===!1&&(n.translate=null),this.node.style[u]&&!n.translate){if(t)if(this[e].translate)s=!0;else for(var o=2;6>o;o++)t[o]&&(s=!0);s||(r=r.replace(m,""))}this.node.style.cssText=r};s.extend=i.extend(function(e){function t(e){var t="scroll",s=t+e;return{name:s,set:function(e){var n=e.val,r=this;void 0!==n&&(r.node[s]=n),r.__sT||(r.__sT=!0,r.addEvent(t,function(){void 0!==e._listeners?e.val=r.node[s]:r[s].__lval=void 0}))},get:function(e){return void 0===e.__lval&&(e.val=this.node[s]),e},render:function(){var e=this,t=e[s].__lval;t&&l(function(){e.node[s]=t})}}}i.define(e.Class,"cleanCoordinates",function(e){this._node&&(e?g.call(this,e):(g.call(this,"x"),g.call(this,"y")))},"translate",function(e){var t,s,n,r,o,i,a=e.val,l="",c=e&&e._prop.name,p=this._t=this._t||[],d=!1;return"x"===c?(t=0|a,t===p[0]&&(d=!0)):"y"===c?(s=0|a,s===p[1]&&(d=!0)):"rotate"===c?(r=a,r===p[2]&&(d=!0)):"scale"===c?(n=a,n===p[3]&&(d=!0)):"rotateY"===c?(o=a,o===p[4]&&(d=!0)):"rotateX"===c&&(i=a,i===p[4]&&(d=!0)),d||(p[0]=t||this.x.translate&&0|this.x.val||0,p[1]=s||this.y.translate&&0|this.y.val||0,p[2]=r||this.rotate.val,p[3]=n||this.scale.val,p[4]=o||this.rotateY.val,p[5]=i||this.rotateX.val,(p[0]||p[1])&&(l=l.concat(h[0]+p[0]+"px,"+p[1]+"px"+h[1])),p[2]&&(l=l.concat(" rotate("+p[2]+"deg)")),p[3]&&(l=l.concat(" scale("+p[3]+")")),p[4]&&(l=l.concat(" rotateY("+p[4]+"deg)")),p[5]&&(l=l.concat(" rotateX("+p[5]+"deg)")),this.node.style[u]=l),this},"update",function(){for(var e,t=0,s=i.arg(arguments),n=s.length;n>t;t++)s[t]instanceof Array?this.update.apply(this,s[t]):(e=i.get(this,s[t]),e&&e.update(this));return this}),e.extend({name:"relative",type:!1,get:function(){var e=this.position!==!1?this.position.val:this.position={css:!0,val:r(this.css.val,"position")};return"absolute"!==e}},{type:!1,name:"rendered",get:function(){var e,t=this._rendered||this.node===document.body;if(!t){for(e=this.node.parentNode;!t&&e;)e.base&&e._rendered&&(t=!0),e==document.body&&(t=!0),e=e.parentNode;t&&(this._rendered=!0)}return t}},t("Left"),t("Top"),{position:function(e){this.node.style.position=e.val},rotate:function(e){this.translate(e)},rotateY:function(e){this.translate(e)},rotateX:function(e){this.translate(e)},scale:function(e){this.translate(e)},src:function(e){var t=e.val;t&&"/"!==t[t.length-1]&&(this.node.src=t)},attr:function(e){var t=this;e.each(function(e){t.node.setAttribute(e,this.val)})},backgroundPos:function(e){this.node.style.backgroundPosition=e.val},backgroundBatch:function(e){},background:function(e){var t,s,n,r,u=e.val,p=this,d=this.node.style;if(e.gone&&e.gone.val)e._skip=!0,d.backgroundImage="";else if(u&&"/"!==u[u.length-1]){if(t="url("+u+")",d.backgroundImage===t)return;if(e.size&&(d.backgroundSize=e.size.val),e.load){if(s=a(u),n=this.checkParent("backgroundBatch"),n&&(r=n.backgroundBatch),!c[s]){this._loaded=null,r&&(window.cancelAnimationFrame(r._raf),r.batch||(r.batch=[]),r.batch.push(a)),c[s]=new o(!1);var h=document.createElement("img");h.onload=function(){r&&(r.batch.splice(i.checkArray(r.batch,s),1),0===r.batch.length&&(r.batch=null,r._raf=l(function(){n._node&&r._val.call(n)}))),c[s].val=!0,h.onload=null,h=null,c[s].remove(!1,!1,!1,!1,!1,!0),c[s]=!0},h.src=u}c[s]!==!0?(this._loaded=null,c[s].addListener([function(){e.load&&e.load.val!==!0&&e.load._val.call(this,p)},e._base],!0)):(this._loaded=!0,r&&(r.batch&&0!==r.batch.length||(r.batch=null,window.cancelAnimationFrame(r._raf),r._raf=l(function(){n._node&&r._val.call(n)}))),e.load.val!==!0&&e.load._val.call(this,p));
}d.backgroundImage=t}},padding:function(e){this.node.style.padding=e.val+"px"},y:v("top"),x:v("left"),display:function(e){this.node.style.display=e.val},w:function(e){var t=e.val;this.node.style.width=(t>-1?(0|t)+"px":t)||"100%"},h:function(e){var t=e.val;this.node.style.height=(t>-1?(0|t)+"px":t)||"100%"},opacity:function(e){var t=e.val;this.node.style.opacity=t>-1?t:1},html:function(e){var t=e.val||"";t.replace&&(t=t.replace(/\t/g,"    ").replace(/\r\n|\n|\r/g,"<br/>").replace(/  /g,"&nbsp; ").replace(/  /g," &nbsp;"),this.node.innerHTML=t)},href:function(e){this.node.href=e.val},text:function(e){var t=this.node,s=t.childNodes,n=e.val||"";if(n instanceof Object&&(n=""),/text/.test(t.type))return void(t.value=n);if(s)for(var r=0,o=s.length;o>r;r++)if(3===s[r].nodeType)return void(s[r].nodeValue=n);t.appendChild(document.createTextNode(n))}})})},{"../":"/Users/shawn/Work/vigour-js/browser/element/index.js","../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../../util/hash":"/Users/shawn/Work/vigour-js/util/hash.js","../../../value":"/Users/shawn/Work/vigour-js/value/index.js","../../animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","../../css":"/Users/shawn/Work/vigour-js/browser/css.js","../../ua":"/Users/shawn/Work/vigour-js/browser/ua.js"}],"/Users/shawn/Work/vigour-js/browser/element/properties/process.js":[function(e,t,s){var n=e("../../../util");s.extend=n.extend(function(e){var t=e.Class.prototype,s=t.add;n.define(t,"add",function(e){e.process?(e.__tempAdd=n.arg(arguments),e.__tempAdd.unshift(this)):s.apply(this,arguments)}),e.extend({process:function(e){console.log("xxxx___xxxx"),this.__tempAdd&&!this.parent&&(s.apply(this.__tempAdd[0],this.__tempAdd.slice(1)),this.__tempAdd=null)}})})},{"../../../util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/browser/element/properties/scrollbar.js":[function(e,t,s){function n(e){document.activeElement?"INPUT"!==e.target.tagName&&"FORM"!==e.target.tagName&&(document.activeElement.blur(),u.removeEvent(!1,"blur")):u.removeEvent(!1,"blur")}var r,o=e("../../events"),i=e("../../cases"),a=e("../../ua"),l=!1,c=("ios"===a.platform,"android"===a.platform,e("../../../util").extend),u=o.document;i.touch?(o.preventDown={val:{down:function(e,t){document.activeElement?u.addEvent("up",n,"blur"):"INPUT"===e.target.tagName||"FORM"===e.target.tagName||o._maybescroll||e.preventDefault()}}},o.scrollbar={val:{down:function(e,t,s){var r,i,a,l,c,p,d,h=this,v="x"===s._val;if(v?(a="x",l="y",i="scrollLeft",p=h.node.scrollWidth-h.node.offsetWidth):(a="y",l="x",i="scrollTop",p=h.node.scrollHeight-h.node.offsetHeight),r=h.node[i],p>0){o[a]=!0,o._maybescroll=!0,v||(r?r===p?r=h.node[i]=p-1:r>p&&(d=!0):r=h.node[i]=1);var m=e.y,f=e.x,g=i+a;u.addEvent("move",function(e){var t=Math.abs(f-e.x),s=m-e.y,r=Math.abs(s);v?r>t&&(o[a]=!1,o[l]||e.preventDefault()):(t>r&&(o[a]=!1,o[l]||e.preventDefault()),d&&s>0&&e.preventDefault()),console.log("move"),c=!0,n(e),u.removeEvent(!1,g)},g),u.addEvent("up",function(e){var t,s,n=o._maybescroll;if(!c){var v=h.node[i];c=!(v===r)||0>v||v>p&&!d}if(!c&&!o[l]&&!o.click.block&&n&&n.length)for(t=n.length;t--;)e.prevent||(s=n[t],s[0].call(s[1],e));(!o[l]||c)&&(o._maybescroll=!1),o[a]=!1,u.removeEvent(!1,i),window.requestAnimationFrame(function(){document.body.scrollTop=0})},i)}}}},r=function(e){var t=this.node.style;"x"===e.val?(t.msTouchAction="pan-x",t.touchAction="pan-x",t.overflowY="hidden"):"y"===e.val&&(t.msTouchAction="pan-y",t.touchAction="pan-y",t.overflowX="hidden"),t.overflow="scroll",t.webkitOverflowScrolling="touch",t.msTouchAction="auto",t.touchAction="auto",this.events={scrollbar:e.val},l||(l=!0,u.events={preventDown:!0})}):r=function(e){var t=this.node.style;t.overflow="auto",t.overflowY="x"!==e.val?"scroll":"hidden",t.overflowX="y"!==e.val?"scroll":"hidden"},s.extend=c(function(e){e.extend({scrollbar:r})})},{"../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","../../events":"/Users/shawn/Work/vigour-js/browser/events/index.js","../../ua":"/Users/shawn/Work/vigour-js/browser/ua.js"}],"/Users/shawn/Work/vigour-js/browser/element/properties/util.js":[function(e,t,s){var n=e("../../ua"),r="-"+n.prefix.toLowerCase(),o=r+"-transform";s.getMatrix=function(e){if(e.style[o]){var t=window.getComputedStyle(e,null).getPropertyValue(o).replace("matrix(","").split(",");return t}}},{"../../ua":"/Users/shawn/Work/vigour-js/browser/ua.js"}],"/Users/shawn/Work/vigour-js/browser/element/set.js":[function(e,t,s){var n=e("../../util"),r=e("./"),o=e("../../object"),i=s,a=function(e,t,s,n){var r;for(var o in i)if(r=i[o].call(this,e,t,s,n))return r};n.define(r,"_set",function(e,t,s){if(!a.call(this,t,e[t],s,e))if(this.isProperty(t,e))"function"==typeof this[t]?e[t]instanceof Array?this[t].apply(this,e[t]):this[t](e[t]):this[t]=e[t];else if(e[t]instanceof r){var n;if(this[t]){for(var i=this.node.childNodes,l=0,c=i.length;c>l;l++)if(i[l]===this[t].node){n=i[l+1];break}this[t].remove&&this[t].remove()}var u=s?new e[t].Class:e[t];u.name=t,this.add(u,n),s&&this.eachInstance(function(){var e=new u.Class;e._name=t,this.add(e)})}else if(this[t]instanceof o)this[t].val=e[t];else if(e[t]instanceof o)console.warn("are you sure you want to set using a vObject? maybe require some stuff (e.g. data)"),this[t]=e[t];else if(this[t]instanceof r)e[t]?this[t].set(e[t],s):e[t]===!1&&(s&&this.eachInstance(function(){this[t]&&this[t].remove()}),this[t].remove(),this[t]=null);else if(e[t]instanceof Object){var u=(new r).set(e[t],s);u.name=t,this.add(u),s&&this.eachInstance(function(){var e=new u.Class;e._name=t,this.add(e)})}else console.warn('"'+t+'" is not an existing property. "'+e[t]+'" is a primitive. Adding as primitive.'),this[t]=e[t]},"convert",function(e){var t,s={};for(var i in e)t=n.isObj(e[i]),this[i]instanceof r?s[i]=t?this[i].convert(e[i]):this[i]:this[i]instanceof o?s[i]=this[i].convert(t&&e[i]):void 0===this[i]||n.lookup.call(this,i)&&this[i]===!1?s[i]=!1:s[i]=this[i];return s})},{"../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/browser/element/index.js"}],"/Users/shawn/Work/vigour-js/browser/element/video/html5.js":[function(e,t,s){function n(){var e=arguments,t=e.length;return function(s){for(var n=0,r=this;t>n;this.video.addEventListener(e[n++],function(e){s._val.call(r,e)}));}}function r(){function e(){if(t.time)if(t.time.val||(this._firstT=!0),p&&"chrome"!==i.browser){var s=0;clearInterval(t._timeFixInterval),t._timeFixInterval=setInterval(function(){t.updateTime(),3===s&&(t._canplay=null,clearInterval(t._timeFixInterval)),1!==t.video.duration&&(s++,t.playing&&t.video.play())},200)}else t.time.val?u?setTimeout(function(){t.updateTime()},0):t.updateTime():t._forceTime=!0,t._canplay=null;t.video&&t.video.removeEventListener(d,e)}if(!this._canplay&&!c){this._canplay=!0;var t=this;this._canPlay=e,this.video&&this.video.addEventListener(d,e)}}function o(e){this.video.readyState?(this.video.currentTime=e,u&&(this._correctTime=e)):r.call(this)}var i=e("../../ua"),a=e("./"),l=e("../../../browser/events/util").postpone,c="windows"===i.platform&&"phone"===i.device,u="ios"===i.platform,p="android"===i.platform,d="canplay";t.exports={progress:{set:function(){var e=this;e.video&&e.video.addEventListener("end",e._prEnd=function(){e.clearProgress()})},remove:function(){this.video&&(this.video.removeEventListener("canplay",this._canPlay),this.video.removeEventListener("end",this._prEnd))}},buffer:function(e){if(this.video&&this.video.buffered){for(var t,s,n=this.video.buffered.length,r=-1,o=this.video.currentTime||0,i=0;n>i&&(t=this.video.buffered.start(i),t>r&&o>t);i++)r=i,s=t;return r>-1?(r=this.video.buffered.end(r),o>r?0:r/this.duration.val):0}return 0},play:function(e){e?this.video.play():this.video.pause()},time:{set:u||p?l(o):o,get:function(e){var t=this.video&&this.video.currentTime;return this._correctTime&&(this._correctTime>t-2&&this._correctTime<t+2?(t=this._correctTime,this.cnt?this._cnt<2?(this._correctTime=!1,this._cnt=!1):(this._correctTime+=.5,this._cnt--):this.cnt=3):t=this._correctTime),t/this.duration.val||e.val}},duration:function(e){return this.video&&this.video.readyState?this.video.duration:e&&e.val},autoplay:function(e){this.video&&(this.video.autoplay=e.val)},volume:function(e){var t=e.val;this.video&&!isNaN(t)&&(this.video.volume=t)},"new":function(){r.call(this),this.volume&&this.volume.update(this)},events:{pause:function(e){var t=this;u&&t.video&&t.video.addEventListener("pause",function(e){t.ignoreevents||t.pause()})},progress:a.progress,ready:n("loadedmetadata"),canplay:function(e){var t=this;t.video&&t.video.addEventListener(d,function(s){t.video&&4===t.video.readyState&&(t._stalled=!1,e._val.call(t,s))})},stalled:function(e){var t=this,s=function(s){var n=t.getTime();t.getBuffer(n)-n>.05||(t._stalled=!0,e._val.call(t,s))};t.video&&(t.video.addEventListener("stalled",s),t.video.addEventListener("waiting",s))},play:{play:function(){this.events.play&&this.events.play._val.call(this)},set:!1},end:n("ended")},src:function(e){this.video&&(this.video.src!==e||e||!e&&this.video.src)&&(this.video.src=e.val)}},a.player||(a.player=t.exports)},{"../../../browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js","../../ua":"/Users/shawn/Work/vigour-js/browser/ua.js","./":"/Users/shawn/Work/vigour-js/browser/element/video/index.js"}],"/Users/shawn/Work/vigour-js/browser/element/video/index.js":[function(e,t,s){function n(e){this._readyForEvents=!0;var t=this,s=(this.player||p.player).events;return e.each(function(e){s[e]&&s[e].set!==!1&&(s[e].set||s[e]).call(t,this,e)}),s}function r(e){var t=this,s=(this.player||p.player).events;e.each(function(e){s[e]&&s[e].remove&&s[e].remove.call(t,this,e)})}function o(e){var t=this.events;if(t){var s=this,n=(this.player||p.player).events;t.each(function(t){n[t]&&n[t].play&&n[t].play.call(s,this,t,e)})}}function i(e){if(!this._progress){var t=e,s=t.interval&&t.interval.val||500,n=t._val,r=this,o=(this.player||p.player).progress;o&&o.set&&o.set.call(r),r._progress=setInterval(function(){var e=Number(r.getTime()),t=r.getBuffer(e),s=Number(r.duration.val);1===s&&(s=0),e>=1&&s?r.clearProgress():(r._stalled&&s&&(t>.85||r.__lp&&r.events.canplay&&e>r.__lp+1/s?(r._stalled=!1,r.events.canplay._val.call(r),r.__lp=null):!r.__lp&&e>-1&&(r.__lp=e)),r.ignoreevents||n.call(r,e,t))},s)}}var a=e("../").inject(e("../properties")),l=e("../../events"),c=e("../../../util"),u=new a({node:"video"});t.exports=s=u.Class;var p=s;s.base=u,u.setSetting({name:"_videoSettings","new":function(){this.player["new"]&&this.player["new"].call(this)},remove:function(){this.player.remove&&this.player.remove.call(this)},render:function(){this.player.render&&this.player.render.call(this)}}),u.node.setAttribute("webkit-playsinline",""),this._progress=i,s.progress={play:function(e,t,s){s?i.call(this,this.events.progress):this.clearProgress()},set:function(e){this.playing&&i.call(this,e)},remove:function(){this.clearProgress()}},c.define(s,"setEvents",function(){n.call(this,this.events)},"play",function(e,t){e&&delete this.ignoreevents,t||this.ignoreevents||this.playing===!0?this.__paused&&this.events.progress&&(this.playing=!0,i.call(this,this.events.progress)):(this.playing=!0,o.call(this,!0)),this.__paused=null,(this.player||p.player).play.call(this,!0)},"pause",function(e){e&&(this.ignoreevents=!0),this.ignoreevents||this.playing===!1?this.clearProgress():(this.playing=!1,o.call(this,!1),this.events.pause&&this.events.pause._val.call(this)),this.__paused=!0,(this.player||p.player).play.call(this,!1)},"toggle",function(e){this.playing?this.pause():this.play()},"updateTime",function(){this._firstT=!1,s.setTime.call(this,this.time)},"getTime",function(){return(this.rendered&&this.player||p.player).time.get.call(this,this.time)||0},"getBuffer",function(e){return(this.rendered&&this.player||p.player).buffer.call(this,e||0)},"clearProgress",function(){if(this._progress){clearInterval(this._progress),this._progress=null;var e=(this.player||p.player).progress;e&&e.remove&&e.remove.call(this)}}),u.extend({name:"player",type:!1,set:function(e){c.setstore.call(this),this.__.player=e,e.element&&(this.node=e.element),this._class&&(this._class.prototype._.player=e)},get:function(e){return c.getStore.call(this,"player")||p.player||{}}},{name:"duration",set:function(e){},get:function(e){return e._overwrite=(this.player||p.player).duration.call(this,e),e}},{name:"$play",set:function(e){this.rendered&&(e.val?this.play():this.pause())}},{name:"time",set:s.setTime=function(e){if(!this._ignore){e._overwrite=null;var t=e.val,s=!1;void 0!==t&&(this._firstT&&this._forceTime!==!0||(t=Math.abs(t),s=!0,this._firstT=!0,this._forceTime=null),t>=0&&this.duration&&(this.__lp&&(this.__lp=null),(this.player||p.player).time.set.call(this,t*this.duration.val),this.events.seeking&&!s&&this.events.seeking._val.call(this,t)))}}},{autoplay:function(e){(this.player||p.player).autoplay.call(this,e)},volume:function(e){(this.player||p.player).volume.call(this,e)},src:function(e){e.val!==this.___Src&&(this.___Src=e.val,this.events.src&&this.events.src._val.call(this,e),(this.player||p.player).src.call(this,e))}},{name:"events","new":function(){this.player&&this.player.setEvents!==!1&&n.call(this,this.events)},remove:function(){this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=null),r.call(this,this.events)},set:function(e){var t=c.arg(arguments);t[5]=this._readyForEvents?n.call(this,e):(this.player||p.player).events,t[5].seeking||(t[5].seeking={set:!1}),t[5].src||(t[5].src={set:!1}),l._set.apply(this,t)}})},{"../":"/Users/shawn/Work/vigour-js/browser/element/index.js","../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../events":"/Users/shawn/Work/vigour-js/browser/events/index.js","../properties":"/Users/shawn/Work/vigour-js/browser/element/properties/index.js"}],"/Users/shawn/Work/vigour-js/browser/element/video/util.js":[function(e,t,s){s.time=function(e,t){var s=~~(e/3600),n=~~(e%3600/60),r=t?(e%60).toFixed(t):~~(e%60);return ret="",s>0&&(ret+=""+s+":"+(10>n?"0":"")),ret+=""+n+":"+(10>r?"0":""),ret+=""+r,ret||0}},{}],"/Users/shawn/Work/vigour-js/browser/events/advanced.js":[function(e,t,s){function n(e,t){return e.move&&e.move._val||!t.__t&&t!==!0&&t||t._val}function r(e,t,s){var r=s.bind?s.bind._val:this,o=n(s,t),i="drag";e.preventDefault(),o&&p.addEvent("move",function(e){o.call(r,e,s)},i),s.down&&s.down._val.call(r,e,s),p.addEvent("up",function(e){s.up&&s.up._val.call(r,e,s),p.removeEvent(!1,i)},i)}function o(e,t,n){var r=this,o="active",i=setTimeout(function(){r.css={addClass:n._val},i=null},50);s._deactivate&&s._deactivate(),s._deactivate=function(){i&&clearTimeout(i),p.removeEvent(!1,o),s._deactivate=null,window.requestAnimationFrame(function(){r&&(r._stayActive?r.css={addClass:n._val}:r.css={removeClass:n._val})})},p.addEvent("move",s._deactivate,o),p.addEvent("up",s._deactivate,o)}function i(e){for(var t,s={},n=e.keys,r=n.length-1;r>=0;r--)t=n[r],s[t]=e[t];return s}function a(e,t,s,n){return e[n]&&e[n]._e||(e[n]={_e:0}),s[n]._val!==!0&&e[n].set("_e",i(s[n])),t[n]-e[n]._e.val}function l(e,t,s,r){var o=s.bind&&!r?s.bind.val:this,i=(s.y?"y":s.x?"x":"xy")+"Grab"+(r||"");if(o)if(o._node){var u,d,h,v,m,f,g=n(s,t),w=e.x,y=e.y,k=w,_=y,j=function(e){o.x._p=!1,o.y._p=!1,s.up&&f&&s.up._val.call(o,e,{x:k-w,y:_-y},{x:k-v,y:_-m}),c.click.block=!1,p.removeEvent(!1,i)};s.x||s.y||(s.x={_val:!0},s.y={_val:!0}),s.down&&s.down._val.call(o,e,s),p.addEvent("move",function(e){v=k,m=_,k=e.x,_=e.y,c.click.block=!0,u?(e.preventDefault(),d&&(o.x={_e:k-d}),h&&(o.y={_e:_-h}),g&&g.call(o,e,{x:k-w,y:_-y},s)):(f=s.pass?s.pass._val.call(o,e,{x:k-w,y:_-y}):!0,f?(e.preventDefault(),s.x&&(d=a(o,e,s,"x"),o.x._p=1),s.y&&(h=a(o,e,s,"y"),o.y._p=1),s.start&&s.start._val.call(o,e,s),u=!0):(j(e),g=!1,p.removeEvent(!1,i)))},i),p.addEvent("up",j,i)}else for(var b=o.length-1;b>=0;b--)l.call(o[b],e,t,s,b+1)}var c=e("./"),u=e("../../value/operators"),p=c.document;t.exports=c,u._e=function(e,t){return e+t},u._esub=function(e,t){return e-t},u._e.order=3,c.drag={val:{down:r}},c.grab={val:{down:l}},c.active={val:{down:o}}},{"../../value/operators":"/Users/shawn/Work/vigour-js/value/operators.js","./":"/Users/shawn/Work/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/vigour-js/browser/events/basic.js":[function(e,t,s){function n(e,t,s){e.x=e.pageX,e.y=e.pageY,t.call(this,e,s)}function r(e,t,s){var n="_"+e;l.define(i,n,{value:[]});var r={create:function(r,o){var l=function(e){if(this.rendered)if(s)s.call(this,e,this.events[o]._val);else if(i[o]&&i[o].val){var t=i[o].val;for(var n in i[o])a[n]&&(t=i[o][n]);t=t[r],t&&t.call(this,e,this.events[o]._val)}else this.events[o]&&this.events[o]._val.call(this,e)};i.document.addEvent(t,function(e){for(var t=i[n],s=t.length-1;s>=0;s--)l.call(t[s],e),t[s]&&t[s].eachInstance(l,"events",e)},e)},add:function(t,s){s=n,this.setSetting({name:s,remove:i[e].remove}),l.checkArray(i[n],this)||i[n].push(this)},remove:function(){var t=l.checkArray(i[n],this,!0);if(~t){var s;this.events&&this._from.base.events&&(s=this.events[e]===this._from.base.events[e]),s?console.log(s,"noRemove evnt, are we sure - fix this asap"):i[n].splice(t,1)}}};i[e]=r}function o(e,t,s){1!==e.which||i.down.block||n.call(this,e,t,s)}var i=t.exports=e("./"),a=e("../cases"),l=e("../../util");e("../ua");a.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints||!1,l.define(i,"_out",{value:[]}),i.$makeKeyBoardEvent=r,r("keyboard","keyup"),r("keyboardDown","keydown"),r("keyboardDown$down","keydown"),r("keyboardDown$click","keydown"),i.down={touch:{touchstart:function(e,t,s){if(!i.down.block){var n=e.targetTouches[0]||{};e.x=n.pageX,e.y=n.pageY,t.call(this,e,s)}}},val:{mousedown:o}},i.rdown={touch:{touchstart:function(){}},val:{mousedown:function(e,t,s){3===e.which&&(document.oncontextmenu=function(){return!1},e.preventDefault(),n.call(this,e,t,s),setTimeout(function(){document.oncontextmenu=!1},0))}}},i.move={touch:{touchmove:function(e,t,s){var n=e.targetTouches[0];e.x=n.pageX,e.y=n.pageY,t.call(this,e,s)}},val:{mousemove:n}},i.up={touch:{touchend:function(e,t,s){var n=e.changedTouches;e.x=n[0].pageX,e.y=n[0].pageY,t.call(this,e,s)}},val:{mouseup:n}},i.click={val:{down:function(e,t,s){var n=this,r="click";i.click.block||(n.addEvent("up",function(e){n.removeEvent("up",r);var o=i._maybescroll;o?o.length?i._maybescroll.unshift([t,n]):i._maybescroll=[[t,n]]:i.click.block||t.call(n,e,s)},r),setTimeout(function(){n.removeEvent("up",r)},300))}}},i.rclick={val:{rdown:i.click.val.down}};var c=function(){var e=l.checkArray(i._out,this,!0);~e&&(i._out.splice(e,1),this.removeSetting("_out",u))},u={name:"_out",render:function(){l.checkArray(i._out,this)||i._out.push(this)},remove:c};i.out={create:function(){this.m=!0,i.document.addEvent("up",function(e){for(var t=e.target,s=function(){for(var s,n=t;n&&!s;)n.base&&this===n.base?s=!0:n=n.parentNode;!s&&this.rendered&&this.events.out._val.call(this,e)},n=i._out,r=n.length-1;r>=0;r--)s.call(n[r]),n[r]&&n[r].eachInstance(s,"events")},"out")},add:function(){this.setSetting(u)},remove:c}},{"../../util":"/Users/shawn/Work/vigour-js/util/index.js","../cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","../ua":"/Users/shawn/Work/vigour-js/browser/ua.js","./":"/Users/shawn/Work/vigour-js/browser/events/index.js"}],"/Users/shawn/Work/vigour-js/browser/events/index.js":[function(e,t,s){function n(e,t){s[e]?a(e,t):(s[e]={_basic:!0},o(e))}function r(e,t){return function(n){for(var r,o,i=n.target;i;){if(r=i.base){if(o=r.events,o[e]&&(t?s[e]._m.call(r,n,o[e]):o[e]._val&&o[e]._val.call(r,n),n.prevent))return;if(o=r.__e,o&&o[e])for(var a in o[e])if("_uid"!==a&&(t?s[e]._m.call(r,n,o[e][a]):o[e][a].call(r,n),n.prevent))return}i=i.parentNode}}}function o(e,t){var n=e||t;s._r[e]=!0,"scroll"===n?document.addEventListener(n,function(t){var s,n=t.target.base;if(n&&(s=n.events,s&&s[e]&&s[e]._val.call(n,t),s=n.__e,s&&s[e]))for(var r in s[e])"_uid"!==r&&s[e][r].call(n,t)},!0):document.addEventListener(n,s[e].m=r(e))}function i(e,t,o,i){var a=s[e]._m=function(e,s){e.prevent||t.call(this,e,s._val||s.val||s,s)};s[e].m=r(e,!0),s._r[e]=!0,s[o]&&(s[o].m||n(o,i),s[o]._basic?s[e].__e=o:(s[e].__e=s[o].__e,s[e]._m=function(e,t){s[o]._m.call(this,e,function(e){a.call(this,e,t)})})),document.addEventListener(s[o]&&s[o].__e||o,s[e].m)}function a(e,t){s[e].create&&s[e].create(e,t);var n,r,a;for(r in s[e])c[r]===!0&&(n=s[e][r]);if(n||(n=s[e].val)){for(a in n);if(s[e].__e=a,n[a]===!0)s[e]._basic=!0,o(e,a);else for(a in n)s[a]&&s[a].add&&s[e]&&!s[e].add&&(s[e].add=d(s[a].add,e,a)),i(e,n[a],a,t)}}var l=e("../element"),c=e("../cases"),u=e("../../util"),p=function(){};u.define(p,"_uid",{value:0}),s._r={},s.document=new l({node:document}),s.document.exec=function(e){if(this.__e[e]){var t=u.arg(arguments,1);for(var s in this.__e[e])this.__e[e][s].apply(this,t)}};var d=function(e,t,s){return function(){return e.apply(this,arguments)}};s._set=function(e,t,r,o,i,a){var l=this;e.each(function(t){a&&a[t]||(this._val===!1?s[t]&&(s[t].remove&&s[t].remove.call(l),l.eachInstance(s[t].remove,e._prop.name),this.remove()):(s[t]&&s[t].m||n(t,t),s[t].add&&s[t].add.call(l,!1,t)))})},l.base.extend({name:"events",set:s._set}),u.define(l,"addEvent",function(e,t,r){s[e]&&s[e].m||n(e);var o=this.__e||(this.__e={}),i=o[e]||(o[e]=new p);return r||(i._uid++,r=i._uid),i[r]=t,s[e].add&&s[e].add.call(this,r,e),this},"removeEvent",function(e,t,n){var r,o=this.__e;if(o)if(e&&o[e]){if(r=s[e]&&s[e].remove,t)!o[e][t]||n&&o[e][t]!==n||(r&&s[e].remove.call(this,t),delete o[e][t]);else for(t in o[e])n&&o[e][t]!==n||(r&&s[e].remove.call(this,t),delete o[e][t]);u.empty(o[e])&&delete o[e]}else if(!e)for(e in o)this.removeEvent(e,t,n);return u.empty(o)&&delete this.__e,this}),e("./basic")},{"../../util":"/Users/shawn/Work/vigour-js/util/index.js","../cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","../element":"/Users/shawn/Work/vigour-js/browser/element/index.js","./basic":"/Users/shawn/Work/vigour-js/browser/events/basic.js"}],"/Users/shawn/Work/vigour-js/browser/events/offset.js":[function(e,t,s){function n(e,t,n,a,l){if(!e)return 0;var c=!1;t||(t=[],c=!0),o.Element&&e instanceof o.Element&&(e=e.node);var u=e[a];if("number"!=typeof u&&(u=0),e.parentNode&&s[n](e.parentNode,t),"absolute"!==(e.style&&e.style.position||e.__preCss||e.className&&(e.__preCss=i(e.className,"position")||!0)))t.push(["rel",u]);else{var p=r(e);t.push(["abs",p?parseInt(p[l],10)+u:u])}if(c){var d,h,v=0;for(h in t)"abs"==t[h][0]?v+=t[h][1]:d=t[h][1];u="rel"===t[t.length-1][0]?v+d:v}return u||0}var r=e("../element/properties/util").getMatrix,o=e("../../"),i=e("../css");s.left=s.x=function(e,t){return n(e,t,"left","offsetLeft",4)},s.top=s.y=function(e,t){return n(e,t,"top","offsetTop",5)}},{"../../":"/Users/shawn/Work/vigour-js/index.js","../css":"/Users/shawn/Work/vigour-js/browser/css.js","../element/properties/util":"/Users/shawn/Work/vigour-js/browser/element/properties/util.js"}],"/Users/shawn/Work/vigour-js/browser/events/util.js":[function(e,t,s){var n=e("../animation/raf"),r=e("../../util");s.throttle=function(e,t,s){t||(t=20);var r,o,i=!s;return function(){o=arguments,i&&(s=this),r||(r=t,n(function a(){r--,r?n(a):e.apply(s,o)}))}},s.postpone=function(e,t,s){t||(t=200);var n,r,o=!s;return function(){return r=arguments,o&&(s=this),n&&clearTimeout(n),n=setTimeout(function(){e.apply(s,r)},t)}},s.interval=function(e,t,s){t||(t=30);var o,i,a=r.arg(arguments,3);return o||(o=t,n(function l(){o--,o||(o=t,e.apply(s,a)),i||n(l)})),function(){i=!0}}},{"../../util":"/Users/shawn/Work/vigour-js/util/index.js","../animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js"}],"/Users/shawn/Work/vigour-js/browser/network/ajax.js":[function(e,t,s){var n,r="addEventListener",o=e("../../util"),i=(e("../ua"),0),a=t.exports=function(e,s){var l=e.url;if(!s&&l instanceof Array){e.m=function(){if(++e.r===e.n){for(var t=0,s=[],n=l.length;n>t;s.push(e.d[l[t++]]));e.complete(s)}},e.r=0,e.d={};for(var u=0,p=e.n=l.length;p>u;t.exports(e,l[u++]));}else{var d=e.data,h=e.encode,v=(e.api||"")+(s||l),m=e.headers,f=e.complete,g=e.progress,w=e.error,y=e.change,k=e.mime,_=e.user,j=e.pass,b=e.jsonp,x=e.parse,U=e.iframe,W=null,C=e.fallback,S=e._fallbackIndex,A=e.type||e.method||"GET",T=e.contentType||"json"===h?"application/json":"application/x-www-form-urlencoded",E=e.async===!1?!1:!0;if(b)a.jsonp(v,f,w);else{var O=new XMLHttpRequest;if(U){i++;var $,P={},L=i;for(var R in e)"error"!==R&&"iframe"!==R&&"complete"!==R&&(P[R]=e[R]);var D=function(){var e;n[U].onload=null;var t=function(e){if(e.data){var s;try{s=JSON.parse(e.data)}catch(e){return void(w&&w(e))}if(s.id!==L)return;if(s.err)return void(w&&w(s.err));var n=s.msg;if(f){if(x!==!1)try{n=JSON.parse(n)}catch(e){}f(n,e)}removeEventListener("message",t)}};window.addEventListener&&(addEventListener("message",t,!1),e=n[U].contentWindow,P=JSON.stringify({msg:P,id:L}),e.postMessage(P,"*"))};return n||(n={}),void(n[U]?n[U].cListeners?n[U].cListeners.push(D):D():($=n[U]=document.createElement("iframe"),$.src=U,$.cListeners=[D],$.onload=function(){for(var e in $.cListeners)$.cListeners[e]();$.cListeners=null},$.style.visibility="hidden",$.style.width="0px",$.style.height="0px",$.style.position="absolute",document.body.appendChild($)))}if(d&&("GET"===A?v+="?"+c(d,"GET",h):W=c(d,"POST",h)),O.open(A,v,E,_,j),O.setRequestHeader("Content-Type",T),m)for(var I in m)O.setRequestHeader(I,m[I]);f&&O[r]("load",function(t){var n=(t.target||t.srcElement).response;if(x!==!1)try{n=JSON.parse(n)}catch(t){}e.m?(e.d[s]=n,e.m()):f(n,t)},!1),w&&(S||(e._fallbackIndex=0),C&&S!==C.length?(e._fallbackIndex++,e=o.merge(e,S),a(e,s)):O[r]("error",w,!1)),g&&O[r]("progress",g,!1),y&&(O.onreadystatechange=y),k&&O.overrideMimeType(k),O.send(W)}}},l=0;a.jsonp=function(e,t,s,n,r){r&&r!==!0||(r="callback");var o="_jsonp_"+l++,i=document.createElement("script");e+=e.match(/\?/)?"&"+r+"="+o:"?"+r+"="+o,i.type="text/javascript",i.src=e,s&&(i.onerror=function(e){s(e)}),window[o]=function(e){t.call(n||window,e),document.getElementsByTagName("head")[0].removeChild(i),i=null,delete window[o]},document.getElementsByTagName("head")[0].appendChild(i)};var c=a.encode=function(e,t,s){var n="";if("json"===s)n=JSON.stringify(e);else if(e instanceof Object)if(!o.isNode&&window.FormData&&e instanceof FormData&&"GET"!==t)n=e;else if(e instanceof Array)n=JSON.stringify(e[r]),"uri"===s&&(n=encodeURIComponent(n));else{for(var r in e){var i=e[r];i instanceof Object&&(i=JSON.stringify(i)),"uri"===s&&(r=encodeURIComponent(r),i=encodeURIComponent(i)),n+=r+"="+i+"&"}n=n.slice(0,-1)}else n="uri"===s?encodeURIComponent(e):e;return n}},{"../../util":"/Users/shawn/Work/vigour-js/util/index.js","../ua":"/Users/shawn/Work/vigour-js/browser/ua.js"}],"/Users/shawn/Work/vigour-js/browser/network/cloud/authenticate.js":[function(e,t,s){function n(e){r.define(e,"authenticate",function(e,t,s){function n(){console.error("connect ->>> reAuth?"),r._status>2&&(console.error("reconnect ->>> reAuth!",e),r.authenticate(e,t,!0))}window.authrequest=e;var r=this;return"function"==typeof e&&(e=e()),e?(r.emit("authenticate",e,function(e){e.hop?r.hop(e.hop):t&&t(e)}),s||r.on("connect",n),void(r._reAuth=n)):r.socket.removeListener("connect",n)},"logout",function(e){var t=this;t.emit("logout",e),t.data.users[e]&&t.data.users[e].activeClient&&t.data.users[e].activeClient.from._name===t.clientid&&t.data.users[e].activeClient.remove();var s=t.stamp;e?(t.data.users[e]&&t.data.users[e].activeClient&&t.data.users[e].activeClient.from._name===t.clientid&&(t.data.users[e].activeClient.from=t.data.users[e].activeClient),t.data.users[e].remove(void 0,void 0,void 0,void 0,s)):t.data.users.each(function(e){this.remove(void 0,void 0,void 0,void 0,s)}),t.socket.removeListener("connect",t._reAuth),t._reAuth=null})}var r=e("../../../util");s.extend=r.extend(n)},{"../../../util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/browser/network/cloud/data.js":[function(e,t,s){function n(e,t){}function r(e,t,s){return e.length?(l.path(t,e,s,!0),t):s}function o(e){for(var t in e)e[t]instanceof Object&&(e[t]instanceof d?e[t]={$path:e[t]._path}:o(e[t]))}function i(e,t,s,n,r,i){var a=this.cloud;if("localStorage"!==t&&t!==!1&&t!==a.stamp&&void 0!==e)if(n&&s)s._removed&&a.set(s._hashpath,[s._path,null,a.timeStamp()]);else if(s&&!this._cloudignore&&s._updateOrigin===s){2===s.__t&&e instanceof Object&&o(e);var l=s&&s._path;if(l&&"users"===l[0]&&l[l.length-2]&&"clients"===l[l.length-2])return;if(l&&"users"===l[0]&&"media"===l[1])throw new Error("THIS IS WRONG ABORT!---> setting users.media "+l.join("."));a.set(s._hashpath,[s._path,4===s.__t?{$path:e._path}:e,a.timeStamp()])}}var a,l=e("../../../util"),c=e("../data").inject(e("../../../object/hashpath")),u=e("../data/element"),p=e("../../../data"),d=e("../../../object"),h=(e("monotonic-timestamp"),c["new"](!1,function(e,t,s,r){var o=this;r?(o.cloud=r,o.addListener(i),!l.isNode&&window.cordova&&(document.addEventListener("pause",function(){o.preventUpdate=!0},!1),document.addEventListener("resume",function(){r.kickPing(),o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(function(){o.defered&&o.merge(o.defered.data,!1,o.defered.stamp),o.preventUpdate=null,o.defered=null,o.timeout=null},100)},!1)),r.on("set",function(e){var t=(e.s,e.v),s=r.state.subs.map,i=t[1];if(t[0]instanceof Array)for(var a=t[0].length;hash=t[0][--a];)n(s[hash],e.v[1]);else n(s[e.v[0]],e.v[1]);r.stamp=i,o.preventUpdate?o.defered?(o.defered.stamp=i,o.defered.data=l.merge(o.defered.data,e.s)):o.defered={data:e.s,stamp:i}:o.merge(e.s,!1,i)})):s&&(o.cloud=s.cloud)}));t.exports=h,h.prototype._blacklist.push("cloud","datacloud","_batchUnsub","_cloudignore","_lstamp","$t","$loaded"),a=h.prototype.__update,h.inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object/flags")),h.flags.$path={reset:!0,set:function(e,t,s){if(s)throw new Error("cloud data $path flag reset???");if(t!==this.cloud.stamp)throw new Error("set with $path only allowed from the hub");var n=l.changeType(e);if(n.length&&this._$setVal(this.cloud.data.get(n,{},void 0,t),t,!1,!0),4!==this.__t)throw new Error("cloud data $path flag __t !== 4")}};var v=h.prototype.set,m=h.prototype._$setVal;l.define(h,"_$setVal",function(e,t){if(this.cloud.stamp===t&&!this.$loaded)for(var s=this;s&&!s.$loaded;)s.$loaded=!0,s=s._parent;m.apply(this,arguments)},"set",function(e,t,s,n){return n===this.cloud.stamp||"clients"!==this._name||this[e]||e===this.cloud.clientid||console.error("\n\nI WANT TO BLOCK THIS YA DURK","\nstamp !== this.cloud.stamp",n!==this.cloud.stamp,"\nthis._name === 'clients'","clients"===this._name,"\n!this[name]",!this[e],"\nname !== this.cloud.clientid",e!==this.cloud.clientid),v.apply(this,arguments)},"updateQueue",function(){},"stamp",function(){return this.cloud?this.cloud.timeStamp():void console.error("WAT NO CLOUD?! in this:\n",this)},"__update",function(e,t,s,n,r,o){return this._lstamp=t,a.call(this,e,t,s,n,r,o)},"_set",function(e,t){return!t||this._lstamp>t?void 0:c.prototype._set.apply(this,arguments)},"subscribe",function(e,t,s){if(t&&t.cloud&&t._val===this,e&&"function"!=typeof e){var n,o,i,a,c,h,v,m=this._path,f=e[1],g=(m&&l.checkArray(m,"usage"),f&&!f._col&&(!f._dfrom||f._fmodel));if(g&&!f.getModel);else if(g){var w;e[1]._ignoreFieldInSubscription&&(e[3]||(w=!0)),v=e[3],o=f.getModel(this,e[3],w)}else if(e instanceof p&&e.__sub)o=u.parseData(e);else{if(e instanceof d){if(h=e._listeners)for(var y=0,k=h.length;k>y;y++)this.subscribe(h[y],e);return}!e||!l.isObj(e)||e instanceof Array||(o=e,e=JSON.stringify(e))}if(o){var _;t&&(o=u.parseData(t,o,this._subs)),t&&t.cloud&&t._val===this&&(m=t._path,_=!0),n=r(m,{},o),i=JSON.stringify(n);var j=_?t:this;j._subs||(j._subs=[]),f&&(f._subscribed=!0),a=[o,f||e,i],v&&a.push(v),c=l.checkArray(j._subs,i,2);
var b;for(var x in j._subs)j._subs[x][1]===(f||e)&&j._subs[x][2]===i&&(b=!0);b||(j._subs.push(a),c===!1&&this.cloud.subscribe(n,i))}}},"unsubscribe",function(e,t){if(!(!e||e._col||e._filter&&e._filter._col||e._dfrom&&!e._fmodel)){var s,n,o,i,a,c,u,p=this._path,d=e._listeners;if(!l.isObj(e)||e instanceof Array||(e=JSON.stringify(e)),c=this._subs&&l.checkArray(this._subs,e,1),c!==!1&&void 0!==c){if(e.model&&e.model.parsing){if(e.model&&e.model.field){u=this.get(e.model.field.val),u._subs||(u._subs=[]);var h=l.get(this._subs[c][0],e.model.field.val);h&&(this._subs[c][0]=h)}return}n=this._subs[c],s=n[2],a=n[0],o=r(p,{},a),this._subs.splice(c,1),i=l.checkArray(this._subs,s,2),i===!1&&this.cloud.unsubscribe(o,s)}else if(e._removed);else if(d){for(var v=0,m=d.length;m>v;v++)d[v]instanceof Array?this.unsubscribe(d[v][1],e):d[v].__t&&this.unsubscribe(d[v],e);return}}})},{"../../../data":"/Users/shawn/Work/vigour-js/data/index.js","../../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../../object/hashpath":"/Users/shawn/Work/vigour-js/object/hashpath.js","../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../data":"/Users/shawn/Work/vigour-js/browser/network/data/index.js","../data/element":"/Users/shawn/Work/vigour-js/browser/network/data/element.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/object/flags":"/Users/shawn/Work/vigour-js/object/flags.js","monotonic-timestamp":"/Users/shawn/Work/vigour-js/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/vigour-js/browser/network/cloud/datacloud.js":[function(e,t,s){function n(){var e=this;e._joins={},e._status=1,e.on("connect",function(){e._status++,e._reconnect()}),e.state=new h({subs:{map:{},tree:{}},sets:{map:{}}}),e.state.sets.list||e.state.sets.set("list",[]),e.batch={maps:{sets:{},subs:{},unsubs:{}}},e.data=new p({},!1,!1,this),e._qTimer=setInterval(function(){e._doBatch()},m),e.on("subscribed",function(e){})}function r(e,t,s){t.each(function(t){this._subs&&this._subs.each(function(){s&&this.from.subsobj._v&&this.from.subsobj._v.remove(),e.unsubscribe(this.from)}),"_subs"!==t&&r(e,this,s)})}function o(e,t,s,n){var r=s.__t,o=n[e];if(o){var i=t[1],l=t[2],c=o.update[1];if(r&&(c=c.raw),i instanceof Object&&c instanceof Object&&!i.$path&&!c.$path&&(r||(c=u.clone(c)),i=u.merge(c,i)),r?(o.update.set(1,i),o.update.set(2,l)):(o.update[1]=i,o.update[2]=l),!r){var p=o.i,d=s.length-1;if(p!==d){a(s,p);for(var h in n)n[h].i>=p&&n[h].i--;o.i=d}}}else{var v={update:t,i:s.length};r?n.set(e,v):n[e]=v,o=n[e],s.push(o.update)}}function i(e,t,s){t.each(function(n){return"*"===n?(e.$||e.set("$",{}),void t["*"].each(function(n){t["*"][n][1].each(function(r){i(e.$,t["*"][n][1][r],s)})})):(e[n]||e.set(n,{}),void(t[n].val===!0?e[n]._subs?e[n]._subs.push(s):e[n].set("_subs",[s]):i(e[n],t[n],s)))})}function a(e,t){for(var s=e[t];e[t+1];)e[t]=e[++t];e[t]=s}function l(e,t){for(;e[t+1];)e[t]=e[++t];e.pop()}t.exports=n;var c=e("monotonic-timestamp"),u=e("../../../util/object"),p=e("./data"),d=e("../../../object"),h=(d["new"]({merge:!0}),d["new"]({merge:!0})),v=e("../../../util/hash"),m=20,f="subs",g="sets",w="unsubs";n.prototype.timeSync=function(){var e=this,t=Date.now();e.emit("time",function(s){var n=Date.now()-t,r=t+n/2,o=s-r;n<e._timeTravel&&(e._timeTravel=n,e._timeOffset=o);var i=e._timeTries++;(n>75&&10>i||n>50&&5>i||n>20&&2>i)&&e.timeSync()})},n.prototype.outList=function(e){var t=this.batch;return t.lists?t.lists[e]?t.lists[e]:t.lists[e]=[]:(t.lists={},t.lists[e]=[])},n.prototype._doBatch=function(){var e=this,t=e.batch.lists;t&&(e.emit("batch",t),e.batch.lists=null,e.batch.maps={subs:{},sets:{},unsubs:{}})},n.prototype._clearCache=function(){},n.prototype.subscribe=function(e,t){var s,n,r=this,o=r.state;if(e.hash&&e.subsobj?(s=e.hash,n=e):(t||(t=JSON.stringify(e)),s=v(t),n=o.subs.map[s]),n){if(!n.active||n.active._val)return;n.active.val=r._status}else{o.subs.map.set(s,{hash:s,subsobj:e,active:r._status,cleared:!1}),n=o.subs.map[s];var a=o.subs.tree;i(a,n.subsobj,n)}var l=r.batch.maps.unsubs,c=l[s];if(void 0!==c)return void r.cancel(s,c,w);var p,d=r.outList(f),h=r.batch.maps.subs;if(n.cleared._val)p=n.subsobj.raw,n.cleared.val=r._status;else{n.cleared.val=r._status;var m=r.getDeps(o.subs.tree,n.subsobj,n,{});p=u.empty(m)?n.subsobj.raw:{$subsobj:n.subsobj.raw,$depends:m}}h[s]=d.length,d.push(p)},n.prototype.getDeps=function y(e,t,s,n){return t.each(function(r){var o=e[r];o&&(o._subs&&o._subs.each(function(e){var t=this._val;!t.subsobj._v||t.hash._val===s.hash._val||t.cleared._val||n[t.hash._val]||(t.cleared.val=s.cleared._val,n[t.hash._val]=t.subsobj.raw)}),y(o,t[r],s,n))}),n},n.prototype.unsubscribe=function(e,t){var s=this;if(e instanceof Array){var n=s.state.subs.tree,o=n.get(e);o&&r(s,o,t)}else{var i,a,l=s.batch.maps.subs;if(e.hash)i=e.hash.val,a=e;else{t||(t=JSON.stringify(e)),i=v(t);var c=s.state.subs.map;a=c[i]}var u=l[i];if(void 0!==u)s.cancel(i,u,f);else{var p=s.outList("unsubs");s.batch.maps.unsubs[i]=p.length,p.push(i)}a.active.val=!1}},n.prototype.cancel=function(e,t,s){var n=this.batch,r=n.lists[s];l(r,t),r.length||(delete n.lists[s],u.empty(n.lists)&&delete n.lists);var o=n.maps[s];delete o[e];for(e in o)o[e]>t&&o[e]--},n.prototype.set=function(e,t){!t[0].length;var s=this,n=s.outList(g),r=s.batch.maps.sets;o(e,t,n,r)},n.prototype._reconnect=function(){var e=this,t=e.state,s=t.subs.map;if(e._timeTries=0,e._timeTravel=1/0,e.timeSync(),e.stamp="cleanup",e.data.clients){var n=e.data.clients[e.clientid];n&&(n=n.raw,delete n.key,delete n.type,delete n.ip,delete n.token),e.data.set("clients",{clear:!0},void 0,e.stamp),e.clientid&&e.client&&(e.client.val=e.data.clients.get(e.clientid,{}),n&&(e.client.from.val=n))}e.data.users&&e.data.users.each(function(){this.set("clients",{clear:!0},void 0,e.stamp)});var r=[];s.each(function(e){var t=this,s=t.active,n=t.cleared;1===s._val?(s.val=!0,n.val=!0):s._val?(s.val=!1,1===n._val?n.val=!0:n._val&&(n.val=!1),r.push(t)):n._val&&(1===n._val?n.val=!0:n.val=!1)});for(var o,i=0;o=r[i];i++)e.subscribe(o);for(var a in e._joins)e.join(e._joins[a],!0)},n.prototype.timeStamp=function(){var e=c();return this._timeOffset&&(e+=this._timeOffset),e}},{"../../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../../util/hash":"/Users/shawn/Work/vigour-js/util/hash.js","../../../util/object":"/Users/shawn/Work/vigour-js/util/object.js","./data":"/Users/shawn/Work/vigour-js/browser/network/cloud/data.js","monotonic-timestamp":"/Users/shawn/Work/vigour-js/node_modules/monotonic-timestamp/index.js"}],"/Users/shawn/Work/vigour-js/browser/network/cloud/emitter.js":[function(e,t,s){function n(e){return e?r(e):void 0}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function s(){n.off(e,s),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},s.fn=t,this.on(e,s),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s=this._callbacks[e];if(!s)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,r=0;r<s.length;r++)if(n=s[r],n===t||n.fn===t){s.splice(r,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),s=this._callbacks[e];if(s){s=s.slice(0);for(var n=0,r=s.length;r>n;++n)s[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],"/Users/shawn/Work/vigour-js/browser/network/cloud/index.js":[function(e,t,s){function n(e,t,s){for(var n=s.length-1;n>=0;n--)r(e,t,s[n])}function r(e,t,s){e[s]=function(){var e=this[t];e[s].apply(e,arguments)}}function o(){var e=u.arg(arguments);e.unshift(y),console.log.apply(console,e)}function i(e){return function(){var t=u.arg(arguments);t.unshift(y,e),console.log.apply(console,t)}}function a(e){return e=e||d.session("VID")||h("V_"),d.session("VID",e)}function l(e,t){for(var s in e._callbacks)for(var n,r=e._callbacks[s],o=0;n=r[o];o++)"on"===n.name&&n.fn?t.once(s,n.fn):t.on(s,n);e.off()}function c(e,t){var s=e.indexOf("?");return s>-1&&(e=e.slice(0,s)),e+"?"+v(t,"GET","uri")}var u=e("../../../util"),p=e(u.isNode?"socket.io-client":"./socket.io.js"),d=e("../../../util/global"),h=e("../../../util/id"),v=e("../ajax").encode,m=e("../../../object"),f=e("../../../value"),g=e("./emitter"),w=t.exports=function(e,t){t||(t={});var s=this;if(s.params=t,s.url=e,s.VID=t.VID=a(t.VID),s.connected=new f(!1),s.api=new f({defer:function(e,t){var s=this.from.__t;if(2!==s)throw new Error("cloud.api needs to be an Object");e()}}),t.api&&(s.api.val=t.api),s.addDocumentListeners(),e instanceof m){var n=e.val;if(n)s.init(e,t);else{var r=new g;r.emit=function(){var e=s.emitbuffer||(s.emitbuffer=[]);e.push(arguments)},r.placeholder=!0,s.socket=r,e.addListener(function(n,r,o,i){this.val&&s.init(e,t)})}}else s.init(e,t)};w.inject=e("../../../util/inject"),w.prototype.addDocumentListeners=function(){var e=this;!u.isNode&&window.cordova&&(document.addEventListener("resume",function(){e.connected.val=!1},!1),document.addEventListener("pause",function(){e.connected.val=!1},!1))},w.prototype.init=function(e,t){var s=this,n=s.connect(e,t,{disconnect:function(){o("disconnect"),s.connected.val=!1},connect:function(){o("connect"),s.connected.val=!0,n.io.engine.on("heartbeat",function(){s.connected.val=!0})},welcome:function(e){o("welcome"),e=e.split("@");var n=(s.clientid=e[0],e[1]);s.state;s.hub=t.h=n,s.socket.io.uri=c(s.socket.io.uri,t)},hop:function(e){o("hop"),s.hop(e)},err:function(e){o.error(e),"tokenCheck"===e.type&&"undefined"!=typeof localStorage&&(localStorage.removeItem("productionuserToken"),localStorage.removeItem("userId"))},reconnecting:i("reconnecting"),reconnect_attempt:i("reconnect_attempt"),reconnect:i("reconnect"),reconnect_failed:i("reconnect_failed")}),r=s.emitbuffer;if(r){for(var a in r)n.emit.apply(n,r[a]);s.emitbuffer=null}},w.prototype.connect=function(e,t,s){var n=this;e||(e=n.url),t||(t=n.params),e instanceof m&&(e=e.val),e=c(e,t);var r=n.socket;r&&!r.placeholder&&(r.disconnect(),r.io.disconnect());var o=n.socket=new p(e,{forceNew:!0,timeout:5e3});if(s)for(var i in s)o.on(i,s[i]);r&&l(r,o),window.cloudmessages=[];var a=n.socket.onevent;n.socket.onevent=function(e){window.cloudmessages.push(JSON.stringify(e.data,!1,2)),a.apply(this,arguments)};var u=n.socket.emit;return n.socket.emit=function(e,t){if("function"!=typeof t&&"batch"===e){if(t.subs)for(var s in t.subs)t.subs[s].mtvData;if(t.sets)for(var s in t.sets);}u.apply(this,arguments)},o},w.prototype.hop=function(e){var t=this,s=t.params;-1!==e.indexOf("@")&&(t.url="ws://"+e.split("@")[1]),t.hub=s.h=e,t.connect()},w.prototype.whenReady=function(e){this.clientid?e():this.once("welcome",e)},w.prototype.kickPing=function(e){var t=this.socket.io.engine;t.ping(),t.onHeartbeat(e||t.pingTimeout),t.setPing()},w.prototype.disconnect=function(){var e=this.socket;e&&(e.disconnect(),e.io.disconnect())},n(w.prototype,"socket",["on","once","emit"]);var y=":: vigour-cloud ::";o.error=function(e,t){console.error(y,e,"\n",t)}},{"../../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../../util/global":"/Users/shawn/Work/vigour-js/util/global.js","../../../util/id":"/Users/shawn/Work/vigour-js/util/id.js","../../../util/inject":"/Users/shawn/Work/vigour-js/util/inject.js","../../../value":"/Users/shawn/Work/vigour-js/value/index.js","../ajax":"/Users/shawn/Work/vigour-js/browser/network/ajax.js","./emitter":"/Users/shawn/Work/vigour-js/browser/network/cloud/emitter.js","./socket.io.js":"/Users/shawn/Work/vigour-js/browser/network/cloud/socket.io.js","socket.io-client":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/index.js"}],"/Users/shawn/Work/vigour-js/browser/network/cloud/socket.io.js":[function(e,t,s){(function(n){!function(e){if("object"==typeof s&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof n?r=n:"undefined"!=typeof self&&(r=self),r.io=e()}}(function(){var t;return function s(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var s=t[a][1][e];return o(s?s:e)},u,u.exports,s,t,n,r)}return n[a].exports}for(var i="function"==typeof e&&e,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,s){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,s){function n(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var s,n=r(e),o=n.source,c=n.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",o),s=i(o,t)):(l[c]||(a("new io instance for %s",o),l[c]=i(o,t)),s=l[c]),s.socket(n.path)}var r=e("./url"),o=e("socket.io-parser"),i=e("./manager"),a=e("debug")("socket.io-client");t.exports=s=n;var l=s.managers={};s.protocol=o.protocol,s.connect=n,s.Manager=e("./manager"),s.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(e,t,s){function n(e,t){return this instanceof n?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=0,this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(e,t)}var r=(e("./url"),e("engine.io-client")),o=e("./socket"),i=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),u=(e("object-component"),e("debug")("socket.io-client:manager"));t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},i(n.prototype),n.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},n.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this):this._reconnectionDelay},n.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this):this._reconnectionDelayMax},n.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())},n.prototype.open=n.prototype.connect=function(e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var t=this.engine,s=this;this.readyState="opening";var n=l(t,"open",function(){s.onopen(),e&&e()}),o=l(t,"error",function(t){if(u("connect_error"),s.cleanup(),s.readyState="closed",s.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}s.maybeReconnectOnOpen()});if(!1!==this._timeout){var i=this._timeout;u("connect attempt will timeout after %d",i);var a=setTimeout(function(){u("connect attempt timed out after %d",i),n.destroy(),t.close(),t.emit("error","timeout"),s.emitAll("connect_timeout",i)},i);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(n),this.subs.push(o),this},n.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose")))},n.prototype.ondata=function(e){this.decoder.add(e)},n.prototype.ondecoded=function(e){this.emit("packet",e)},n.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},n.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new o(this,e),this.nsps[e]=t;var s=this;t.on("connect",function(){s.connected++})}return t},n.prototype.destroy=function(e){--this.connected||this.close()},n.prototype.packet=function(e){u("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var s=0;s<e.length;s++)t.engine.write(e[s]);t.encoding=!1,t.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},n.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){this.skipReconnect=!0,this.engine.close()},n.prototype.onclose=function(e){u("close"),this.cleanup(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting)return this;var e=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)u("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.attempts*this.reconnectionDelay();t=Math.min(t,this.reconnectionDelayMax()),u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var s=setTimeout(function(){u("attempting reconnect"),e.emitAll("reconnect_attempt",e.attempts),e.emitAll("reconnecting",e.attempts),e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})},t);this.subs.push({destroy:function(){clearTimeout(s)}})}},n.prototype.onreconnect=function(){var e=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",e)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,"object-component":37,"socket.io-parser":40}],4:[function(e,t,s){function n(e,t,s){return e.on(t,s),{destroy:function(){e.removeListener(t,s)}}}t.exports=n},{}],5:[function(e,t,s){function n(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.subEvents()}var r=e("socket.io-parser"),o=e("component-emitter"),i=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");e("indexof");t.exports=s=n;var p={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},d=o.prototype.emit;o(n.prototype),n.prototype.subEvents=function(){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},n.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},n.prototype.emit=function(e){if(p.hasOwnProperty(e))return d.apply(this,arguments),this;var t=i(arguments),s=r.EVENT;u(t)&&(s=r.BINARY_EVENT);var n={type:s,data:t};return"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this},n.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},n.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},n.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,this.emit("disconnect",e)},n.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(e);break;case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:this.onack(e);break;case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},n.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},n.prototype.ack=function(e){var t=this,s=!1;return function(){if(!s){s=!0;var n=i(arguments);c("sending ack %j",n);var o=u(n)?r.BINARY_ACK:r.ACK;t.packet({type:o,id:e,data:n})}}},n.prototype.onack=function(e){c("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected?(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT}),this.destroy(),this.onclose("io client disconnect"),this):this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,indexof:36,"socket.io-parser":40,"to-array":44}],6:[function(e,t,s){(function(s){function n(e,t){var n=e,t=t||s.location;return null==e&&(e=t.protocol+"//"+t.hostname),"string"==typeof e&&("/"==e.charAt(0)&&"undefined"!=typeof t&&(e=t.hostname+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),n=r(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/",n.id=n.protocol+"://"+n.host+":"+n.port,n.href=n.protocol+"://"+n.host+(t&&t.port==n.port?"":":"+n.port),n}var r=e("parseuri"),o=e("debug")("socket.io-client:url");t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:9,parseuri:38}],7:[function(e,t,s){var n=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var s=n.call(arguments,2);return function(){return t.apply(e,s.concat(n.call(arguments)))}}},{}],8:[function(e,t,s){function n(e){return e?r(e):void 0}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function s(){n.off(e,s),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},s.fn=t,this.on(e,s),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s=this._callbacks[e];if(!s)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,r=0;r<s.length;r++)if(n=s[r],n===t||n.fn===t){s.splice(r,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),s=this._callbacks[e];if(s){s=s.slice(0);for(var n=0,r=s.length;r>n;++n)s[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,s){function n(e){return n.enabled(e)?function(t){t=r(t);var s=new Date,o=s-(n[e]||s);n[e]=s,t=e+" "+t+" +"+n.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(e){return e instanceof Error?e.stack||e.message:e}t.exports=n,n.names=[],n.skips=[],n.enable=function(e){try{localStorage.debug=e}catch(t){}for(var s=(e||"").split(/[\s,]+/),r=s.length,o=0;r>o;o++)e=s[o].replace("*",".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$"))},n.disable=function(){n.enable("")},n.humanize=function(e){var t=1e3,s=6e4,n=60*s;return e>=n?(e/n).toFixed(1)+"h":e>=s?(e/s).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},n.enabled=function(e){for(var t=0,s=n.skips.length;s>t;t++)if(n.skips[t].test(e))return!1;for(var t=0,s=n.names.length;s>t;t++)if(n.names[t].test(e))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(o){}},{}],10:[function(e,t,s){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t,s){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":21}],12:[function(e,t,s){(function(s){function n(e,t){if(!(this instanceof n))return new n(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=u(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:s.location&&"https:"==location.protocol,t.host){var r=t.host.split(":");t.hostname=r.shift(),r.length&&(t.port=r.pop())}this.agent=t.agent||!1,this.hostname=t.hostname||(s.location?location.hostname:"localhost"),this.port=t.port||(s.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades}function r(e){var t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}var o=e("./transports"),i=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),p=e("parsejson"),d=e("parseqs");t.exports=n,n.priorWebsocketSuccess=!1,i(n.prototype),n.protocol=c.protocol,n.Socket=n,n.Transport=e("./transport"),n.transports=e("./transports"),n.parser=e("engine.io-parser"),n.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=r(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var s=new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return s},n.prototype.open=function(){var e;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(s){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},n.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},n.prototype.probe=function(e){function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;p=p||t}p||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!p)if("pong"==t.type&&"probe"==t.data)a('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",u),n.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){p||"closed"!=d.readyState&&"closing"!=d.readyState&&(a("changing transport and sending upgrade packet"),c(),d.setTransport(u),u.send([{type:"upgrade"}]),d.emit("upgrade",u),u=null,d.upgrading=!1,d.flush())});else{a('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=u.name,d.emit("upgradeError",s)}}))}function s(){p||(p=!0,c(),u.close(),u=null)}function r(t){var n=new Error("probe error: "+t);n.transport=u.name,s(),a('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",n)}function o(){r("transport closed")}function i(){r("socket closed")}function l(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),s())}function c(){u.removeListener("open",t),u.removeListener("error",r),u.removeListener("close",o),d.removeListener("close",i),d.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),p=!1,d=this;n.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",r),u.once("close",o),this.once("close",i),this.once("upgrading",l),u.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},n.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(p(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},n.prototype.ping=function(){this.sendPacket("ping")},n.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},
n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},n.prototype.sendPacket=function(e,t,s){var n={type:e,data:t};this.emit("packetCreate",n),this.writeBuffer.push(n),this.callbackBuffer.push(s),this.flush()},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.onClose("forced close"),a("socket closing - telling transport to close"),this.transport.close()),this},n.prototype.onError=function(e){a("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},n.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState){a('socket close with reason: "%s"',e);var s=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){s.writeBuffer=[],s.callbackBuffer=[],s.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},n.prototype.filterUpgrades=function(e){for(var t=[],s=0,n=e.length;n>s;s++)~l(this.transports,e[s])&&t.push(e[s]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(e,t,s){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR}var r=e("engine.io-parser"),o=e("component-emitter");t.exports=n,o(n.prototype),n.timestamps=0,n.prototype.onError=function(e,t){var s=new Error(e);return s.type="TransportError",s.description=t,this.emit("error",s),this},n.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":21}],14:[function(e,t,s){(function(t){function n(e){var s,n=!1,a=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),n=e.hostname!=location.hostname||u!=e.port,a=e.secure!=c}if(e.xdomain=n,e.xscheme=a,s=new r(e),"open"in s&&!e.forceJSONP)return new o(e);if(!l)throw new Error("JSONP disabled");return new i(e)}var r=e("xmlhttprequest"),o=e("./polling-xhr"),i=e("./polling-jsonp"),a=e("./websocket");s.polling=n,s.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(e,t,s){(function(s){function n(){}function r(e){o.call(this,e),this.query=this.query||{},a||(s.___eio||(s.___eio=[]),a=s.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,s.document&&s.addEventListener&&s.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=n)})}var o=e("./polling"),i=e("component-inherit");t.exports=r;var a,l=/\n/g,c=/\\n/g;i(r,o),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),o.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s),this.script=t;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function s(){n(),t()}function n(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';o=document.createElement(t)}catch(e){o=document.createElement("iframe"),o.name=r.iframeId,o.src="javascript:0"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,i=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}this.form.action=this.uri(),n(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==r.iframe.readyState&&s()}:this.iframe.onload=s}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(e,t,s){(function(s){function n(){}function r(e){if(l.call(this,e),s.location){var t="https:"==location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!=s.location.hostname||n!=e.port,this.xs=e.secure!=t}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.create()}function i(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=e("xmlhttprequest"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),p=e("debug")("engine.io-client:polling-xhr");t.exports=r,t.exports.Request=o,u(r,l),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,new o(e)},r.prototype.doWrite=function(e,t){var s="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:s}),r=this;n.on("success",t),n.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=n},r.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e=this.xhr=new a({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),t=this;try{if(p("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){t.onLoad()},e.onerror=function(){t.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?t.onLoad():setTimeout(function(){t.onError(e.status)},0))},p("xhr data %s",this.data),e.send(this.data)}catch(n){return void setTimeout(function(){t.onError(n)},0)}s.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup()},o.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n;try{this.xhr.abort()}catch(e){}s.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(s){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(s){this.onError(s)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof s.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},s.document&&(o.requestsCount=0,o.requests={},s.attachEvent?s.attachEvent("onunload",i):s.addEventListener&&s.addEventListener("beforeunload",i))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(e,t,s){function n(e){var t=e&&e.forceBase64;(!c||t)&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),o=e("parseqs"),i=e("engine.io-parser"),a=e("component-inherit"),l=e("debug")("engine.io-client:polling");t.exports=n;var c=function(){var t=e("xmlhttprequest"),s=new t({agent:this.agent,xdomain:!1});return null!=s.responseType}();a(n,r),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){l("paused"),s.readyState="paused",e()}var s=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||t()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;l("polling got data %s",e);var s=function(e,s,n){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};i.decodePayload(e,this.socket.binaryType,s),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var s=function(){t.writable=!0,t.emit("drain")},t=this;i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,s)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",s="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+r.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(s=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+s+this.path+e}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],18:[function(e,t,s){function n(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),o=e("engine.io-parser"),i=e("parseqs"),a=e("component-inherit"),l=e("debug")("engine.io-client:websocket"),c=e("ws");t.exports=n,a(n,r),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,s={agent:this.agent};this.ws=new c(e,t,s),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){r.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){function t(){s.writable=!0,s.emit("drain")}var s=this;this.writable=!1;for(var n=0,r=e.length;r>n;n++)o.encodePacket(e[n],this.supportsBinary,function(e){try{s.ws.send(e)}catch(t){l("websocket closed before onclose event")}});setTimeout(t,0)},n.prototype.onClose=function(){r.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",s="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(s=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=i.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+s+this.path+e},n.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===n.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(e,t,s){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,s=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XDomainRequest&&!s&&r)return new XDomainRequest}catch(o){}try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(o){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}},{"has-cors":34}],20:[function(e,t,s){t.exports=function(e,t){var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e}},{}],21:[function(e,t,s){(function(t){function n(e,t,n){if(!t)return s.encodeBase64Packet(e,n);var r=e.data,o=new Uint8Array(r),i=new Uint8Array(1+r.byteLength);i[0]=h[e.type];for(var a=0;a<o.length;a++)i[a+1]=o[a];return n(i.buffer)}function r(e,t,n){if(!t)return s.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){e.data=r.result,s.encodePacket(e,t,!0,n)},r.readAsArrayBuffer(e.data)}function o(e,t,n){if(!t)return s.encodeBase64Packet(e,n);if(d)return r(e,t,n);var o=new Uint8Array(1);o[0]=h[e.type];var i=new f([o.buffer,e.data]);return n(i)}function i(e,t,s){for(var n=new Array(e.length),r=u(e.length,s),o=function(e,s,r){t(s,function(t,s){n[e]=s,r(t,n)})},i=0;i<e.length;i++)o(i,e[i],r)}var a=e("./keys"),l=e("arraybuffer.slice"),c=e("base64-arraybuffer"),u=e("after"),p=e("utf8"),d=navigator.userAgent.match(/Android/i);s.protocol=3;var h=s.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=a(h),m={type:"error",data:"parser error"},f=e("blob");s.encodePacket=function(e,s,r,i){"function"==typeof s&&(i=s,s=!1),"function"==typeof r&&(i=r,r=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return n(e,s,i);if(f&&a instanceof t.Blob)return o(e,s,i);var l=h[e.type];return void 0!==e.data&&(l+=r?p.encode(String(e.data)):String(e.data)),i(""+l)},s.encodeBase64Packet=function(e,n){var r="b"+s.packets[e.type];if(f&&e.data instanceof f){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(r+e)},o.readAsDataURL(e.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];i=String.fromCharCode.apply(null,c)}return r+=t.btoa(i),n(r)},s.decodePacket=function(e,t,n){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return s.decodeBase64Packet(e.substr(1),t);if(n)try{e=p.decode(e)}catch(r){return m}var o=e.charAt(0);return Number(o)==o&&v[o]?e.length>1?{type:v[o],data:e.substring(1)}:{type:v[o]}:m}var i=new Uint8Array(e),o=i[0],a=l(e,1);return f&&"blob"===t&&(a=new f([a])),{type:v[o],data:a}},s.decodeBase64Packet=function(e,s){var n=v[e.charAt(0)];if(!t.ArrayBuffer)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=c.decode(e.substr(1));return"blob"===s&&f&&(r=new f([r])),{type:n,data:r}},s.encodePayload=function(e,t,n){function r(e){return e.length+":"+e}function o(e,n){s.encodePacket(e,t,!0,function(e){n(null,r(e))})}return"function"==typeof t&&(n=t,t=null),t?f&&!d?s.encodePayloadAsBlob(e,n):s.encodePayloadAsArrayBuffer(e,n):e.length?void i(e,o,function(e,t){return n(t.join(""))}):n("0:")},s.decodePayload=function(e,t,n){if("string"!=typeof e)return s.decodePayloadAsBinary(e,t,n);"function"==typeof t&&(n=t,t=null);var r;if(""==e)return n(m,0,1);for(var o,i,a="",l=0,c=e.length;c>l;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(o=Number(a)))return n(m,0,1);if(i=e.substr(l+1,o),a!=i.length)return n(m,0,1);if(i.length){if(r=s.decodePacket(i,t,!0),m.type==r.type&&m.data==r.data)return n(m,0,1);var p=n(r,l+o,c);if(!1===p)return}l+=o,a=""}}return""!=a?n(m,0,1):void 0},s.encodePayloadAsArrayBuffer=function(e,t){function n(e,t){s.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void i(e,n,function(e,s){var n=s.reduce(function(e,t){var s;return s="string"==typeof t?t.length:t.byteLength,e+s.toString().length+s+2},0),r=new Uint8Array(n),o=0;return s.forEach(function(e){var t="string"==typeof e,s=e;if(t){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);s=n.buffer}t?r[o++]=0:r[o++]=1;for(var a=s.byteLength.toString(),i=0;i<a.length;i++)r[o++]=parseInt(a[i]);r[o++]=255;for(var n=new Uint8Array(s),i=0;i<n.length;i++)r[o++]=n[i]}),t(r.buffer)}):t(new ArrayBuffer(0))},s.encodePayloadAsBlob=function(e,t){function n(e,t){s.encodePacket(e,!0,!0,function(e){var s=new Uint8Array(1);if(s[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);e=n.buffer,s[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,i=o.toString(),a=new Uint8Array(i.length+1),r=0;r<i.length;r++)a[r]=parseInt(i[r]);if(a[i.length]=255,f){var l=new f([s.buffer,a.buffer,e]);t(null,l)}})}i(e,n,function(e,s){return t(new f(s))})},s.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var r=e,o=[],i=!1;r.byteLength>0;){for(var a=new Uint8Array(r),c=0===a[0],u="",p=1;255!=a[p];p++){if(u.length>310){i=!0;break}u+=a[p]}if(i)return n(m,0,1);r=l(r,2+u.length),u=parseInt(u);var d=l(r,0,u);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(h){var v=new Uint8Array(d);d="";for(var p=0;p<v.length;p++)d+=String.fromCharCode(v[p])}o.push(d),r=l(r,u)}var f=o.length;o.forEach(function(e,r){n(s.decodePacket(e,t,!0),r,f)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(e,t,s){t.exports=Object.keys||function(e){var t=[],s=Object.prototype.hasOwnProperty;for(var n in e)s.call(e,n)&&t.push(n);return t}},{}],23:[function(e,t,s){function n(e,t,s){function n(e,r){if(n.count<=0)throw new Error("after called too many times");--n.count,e?(o=!0,t(e),t=s):0!==n.count||o||t(null,r)}var o=!1;return s=s||r,n.count=e,0===e?t():n}function r(){}t.exports=n},{}],24:[function(e,t,s){t.exports=function(e,t,s){var n=e.byteLength;if(t=t||0,s=s||n,e.slice)return e.slice(t,s);if(0>t&&(t+=n),0>s&&(s+=n),s>n&&(s=n),t>=n||t>=s||0===n)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(s-t),i=t,a=0;s>i;i++,a++)o[a]=r[i];return o.buffer}},{}],25:[function(e,t,s){!function(e){"use strict";s.encode=function(t){var s,n=new Uint8Array(t),r=n.length,o="";for(s=0;r>s;s+=3)o+=e[n[s]>>2],o+=e[(3&n[s])<<4|n[s+1]>>4],o+=e[(15&n[s+1])<<2|n[s+2]>>6],o+=e[63&n[s+2]];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},s.decode=function(t){var s,n,r,o,i,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),p=new Uint8Array(u);for(s=0;l>s;s+=4)n=e.indexOf(t[s]),r=e.indexOf(t[s+1]),o=e.indexOf(t[s+2]),i=e.indexOf(t[s+3]),p[c++]=n<<2|r>>4,p[c++]=(15&r)<<4|o>>2,p[c++]=(3&o)<<6|63&i;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(e,t,s){(function(e){function s(e,t){t=t||{};for(var s=new n,r=0;r<e.length;r++)s.append(e[r]);return t.type?s.getBlob(t.type):s.getBlob()}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return 2==e.size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;t.exports=function(){return r?e.Blob:o?s:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,s,n){(function(e){!function(r){function o(e){for(var t,s,n=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(s=e.charCodeAt(r++),56320==(64512&s)?n.push(((1023&t)<<10)+(1023&s)+65536):(n.push(t),r--)):n.push(t);return n}function i(e){for(var t,s=e.length,n=-1,r="";++n<s;)t=e[n],t>65535&&(t-=65536,r+=y(t>>>10&1023|55296),t=56320|1023&t),r+=y(t);return r}function a(e,t){return y(e>>t&63|128)}function l(e){if(0==(4294967168&e))return y(e);var t="";return 0==(4294965248&e)?t=y(e>>6&31|192):0==(4294901760&e)?(t=y(e>>12&15|224),t+=a(e,6)):0==(4292870144&e)&&(t=y(e>>18&7|240),t+=a(e,12),t+=a(e,6)),t+=y(63&e|128)}function c(e){for(var t,s=o(e),n=s.length,r=-1,i="";++r<n;)t=s[r],i+=l(t);return i}function u(){if(w>=g)throw Error("Invalid byte index");var e=255&f[w];if(w++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,s,n,r;if(w>g)throw Error("Invalid byte index");if(w==g)return!1;if(e=255&f[w],w++,0==(128&e))return e;if(192==(224&e)){var t=u();if(r=(31&e)<<6|t,r>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),s=u(),r=(15&e)<<12|t<<6|s,r>=2048)return r;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),s=u(),n=u(),r=(15&e)<<18|t<<12|s<<6|n,r>=65536&&1114111>=r))return r;throw Error("Invalid UTF-8 detected")}function d(e){f=o(e),g=f.length,w=0;for(var t,s=[];(t=p())!==!1;)s.push(t);return i(s)}var h="object"==typeof n&&n,v="object"==typeof s&&s&&s.exports==h&&s,m="object"==typeof e&&e;(m.global===m||m.window===m)&&(r=m);var f,g,w,y=String.fromCharCode,k={version:"2.0.0",encode:c,decode:d};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return k});else if(h&&!h.nodeType)if(v)v.exports=k;else{var _={},j=_.hasOwnProperty;for(var b in k)j.call(k,b)&&(h[b]=k[b])}else r.utf8=k}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,s){(function(e){var s=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,i=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(i,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):s.test(t.replace(n,"@").replace(r,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,s){s.encode=function(e){var t="";for(var s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t},s.decode=function(e){for(var t={},s=e.split("&"),n=0,r=s.length;r>n;n++){var o=s[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],30:[function(e,t,s){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,s=e.indexOf("["),o=e.indexOf("]");-1!=s&&-1!=o&&(e=e.substring(0,s)+e.substring(s,o).replace(/:/g,";")+e.substring(o,e.length));for(var i=n.exec(e||""),a={},l=14;l--;)a[r[l]]=i[l]||"";return-1!=s&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],31:[function(e,t,s){function n(e,t,s){var n;return n=t?new o(e,t):new o(e)}var r=function(){return this}(),o=r.WebSocket||r.MozWebSocket;t.exports=o?n:null,o&&(n.prototype=o.prototype)},{}],32:[function(e,t,s){(function(s){function n(e){function t(e){if(!e)return!1;if(s.Buffer&&s.Buffer.isBuffer(e)||s.ArrayBuffer&&e instanceof ArrayBuffer||s.Blob&&e instanceof Blob||s.File&&e instanceof File)return!0;if(r(e)){for(var n=0;n<e.length;n++)if(t(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(e.hasOwnProperty(o)&&t(e[o]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(e,t,s){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],34:[function(e,t,s){var n=e("global");try{t.exports="XMLHttpRequest"in n&&"withCredentials"in new n.XMLHttpRequest}catch(r){t.exports=!1}},{global:35}],35:[function(e,t,s){t.exports=function(){return this}()},{}],36:[function(e,t,s){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var s=0;s<e.length;++s)if(e[s]===t)return s;return-1}},{}],37:[function(e,t,s){var n=Object.prototype.hasOwnProperty;s.keys=Object.keys||function(e){var t=[];for(var s in e)n.call(e,s)&&t.push(s);return t},s.values=function(e){var t=[];for(var s in e)n.call(e,s)&&t.push(e[s]);return t},s.merge=function(e,t){for(var s in t)n.call(t,s)&&(e[s]=t[s]);return e},s.length=function(e){return s.keys(e).length},s.isEmpty=function(e){return 0==s.length(e)}},{}],38:[function(e,t,s){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=n.exec(e||""),s={},o=14;o--;)s[r[o]]=t[o]||"";return s}},{}],39:[function(e,t,s){(function(t){var n=e("isarray"),r=e("./is-buffer");s.deconstructPacket=function(e){function t(e){if(!e)return e;if(r(e)){var o={_placeholder:!0,num:s.length};return s.push(e),o}if(n(e)){for(var i=new Array(e.length),a=0;a<e.length;a++)i[a]=t(e[a]);return i}if("object"==typeof e&&!(e instanceof Date)){var i={};for(var l in e)i[l]=t(e[l]);return i}return e}var s=[],o=e.data,i=e;return i.data=t(o),i.attachments=s.length,{packet:i,buffers:s}},s.reconstructPacket=function(e,t){function s(e){if(e&&e._placeholder){var r=t[e.num];return r}if(n(e)){for(var o=0;o<e.length;o++)e[o]=s(e[o]);return e}if(e&&"object"==typeof e){for(var i in e)e[i]=s(e[i]);return e}return e}return e.data=s(e.data),e.attachments=void 0,e},s.removeBlobs=function(e,s){function o(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){i++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--i||s(a)},u.readAsArrayBuffer(e)}else if(n(e))for(var p=0;p<e.length;p++)o(e[p],p,e);else if(e&&"object"==typeof e&&!r(e))for(var d in e)o(e[d],d,e)}var i=0,a=e;o(a),i||s(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(e,t,s){function n(){}function r(e){var t="",n=!1;return t+=e.type,(s.BINARY_EVENT==e.type||s.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(n=!0,t+=e.nsp),null!=e.id&&(n&&(t+=",",n=!1),t+=e.id),null!=e.data&&(n&&(t+=","),t+=p.stringify(e.data)),u("encoded %j as %s",e,t),t}function o(e,t){function s(e){var s=h.deconstructPacket(e),n=r(s.packet),o=s.buffers;o.unshift(n),t(o)}h.removeBlobs(e,s)}function i(){this.reconstructor=null}function a(e){var t={},n=0;if(t.type=Number(e.charAt(0)),null==s.types[t.type])return c();if(s.BINARY_EVENT==t.type||s.BINARY_ACK==t.type){for(t.attachments="";"-"!=e.charAt(++n);)t.attachments+=e.charAt(n);t.attachments=Number(t.attachments)}if("/"==e.charAt(n+1))for(t.nsp="";++n;){var r=e.charAt(n);if(","==r)break;if(t.nsp+=r,n+1==e.length)break}else t.nsp="/";var o=e.charAt(n+1);if(""!=o&&Number(o)==o){for(t.id="";++n;){var r=e.charAt(n);if(null==r||Number(r)!=r){--n;break}if(t.id+=e.charAt(n),n+1==e.length)break}t.id=Number(t.id)}if(e.charAt(++n))try{t.data=p.parse(e.substr(n))}catch(i){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:s.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),p=e("json3"),d=(e("isarray"),e("component-emitter")),h=e("./binary"),v=e("./is-buffer");s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=n,s.Decoder=i,n.prototype.encode=function(e,t){if(u("encoding packet %j",e),s.BINARY_EVENT==e.type||s.BINARY_ACK==e.type)o(e,t);else{var n=r(e);t([n])}},d(i.prototype),i.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),s.BINARY_EVENT==t.type||s.BINARY_ACK==t.type?(this.reconstructor=new l(t),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!v(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(e,t,s){(function(e){function s(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=s}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t,s){t.exports=e(33)},{}],43:[function(e,s,n){!function(e){function s(e){if(s[e]!==i)return s[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=s("json-stringify")&&s("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var o=u.stringify,l="function"==typeof o&&p;if(l){(n=function(){return 1}).toJSON=n;try{l="0"===o(0)&&"0"===o(new Number)&&'""'==o(new String)&&o(a)===i&&o(i)===i&&o()===i&&"1"===o(n)&&"[1]"==o([n])&&"[null]"==o([i])&&"null"==o(null)&&"[null,null,null]"==o([i,a,null])&&o({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==r&&"1"===o(null,n)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new Date(-1))}catch(c){l=!1}}t=l}if("json-parse"==e){var d=u.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){n=d(r);var h=5==n.a.length&&1===n.a[0];if(h){try{h=!d('"	"')}catch(c){}if(h)try{h=1!==d("01")}catch(c){}if(h)try{h=1!==d("1.")}catch(c){}}}}catch(c){h=!1}t=h}}return s[e]=!!t}var r,o,i,a={}.toString,l="function"==typeof t&&t.amd,c="object"==typeof JSON&&JSON,u="object"==typeof n&&n&&!n.nodeType&&n;u&&c?(u.stringify=c.stringify,u.parse=c.parse):u=e.JSON=c||{};var p=new Date(-0xc782b5b800cec);
try{p=-109252==p.getUTCFullYear()&&0===p.getUTCMonth()&&1===p.getUTCDate()&&10==p.getUTCHours()&&37==p.getUTCMinutes()&&6==p.getUTCSeconds()&&708==p.getUTCMilliseconds()}catch(d){}if(!s("json")){var h="[object Function]",v="[object Date]",m="[object Number]",f="[object String]",g="[object Array]",w="[object Boolean]",y=s("bug-string-char-index");if(!p)var k=Math.floor,_=[0,31,59,90,120,151,181,212,243,273,304,334],j=function(e,t){return _[t]+365*(e-1970)+k((e-1969+(t=+(t>1)))/4)-k((e-1901+t)/100)+k((e-1601+t)/400)};(r={}.hasOwnProperty)||(r=function(e){var t,s={};return(s.__proto__=null,s.__proto__={toString:1},s).toString!=a?r=function(e){var t=this.__proto__,s=e in(this.__proto__=null,this);return this.__proto__=t,s}:(t=s.constructor,r=function(e){var s=(this.constructor||t).prototype;return e in this&&!(e in s&&this[e]===s[e])}),s=null,r.call(this,e)});var b={"boolean":1,number:1,string:1,undefined:1},x=function(e,t){var s=typeof e[t];return"object"==s?!!e[t]:!b[s]};if(o=function(e,t){var s,n,i,l=0;(s=function(){this.valueOf=0}).prototype.valueOf=0,n=new s;for(i in n)r.call(n,i)&&l++;return s=n=null,l?o=2==l?function(e,t){var s,n={},o=a.call(e)==h;for(s in e)o&&"prototype"==s||r.call(n,s)||!(n[s]=1)||!r.call(e,s)||t(s)}:function(e,t){var s,n,o=a.call(e)==h;for(s in e)o&&"prototype"==s||!r.call(e,s)||(n="constructor"===s)||t(s);(n||r.call(e,s="constructor"))&&t(s)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],o=function(e,t){var s,o,i=a.call(e)==h,l=!i&&"function"!=typeof e.constructor&&x(e,"hasOwnProperty")?e.hasOwnProperty:r;for(s in e)i&&"prototype"==s||!l.call(e,s)||t(s);for(o=n.length;s=n[--o];l.call(e,s)&&t(s));}),o(e,t)},!s("json-stringify")){var U={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},W="000000",C=function(e,t){return(W+(t||0)).slice(-e)},S="\\u00",A=function(e){var t,s='"',n=0,r=e.length,o=r>10&&y;for(o&&(t=e.split(""));r>n;n++){var i=e.charCodeAt(n);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:s+=U[i];break;default:if(32>i){s+=S+C(2,i.toString(16));break}s+=o?t[n]:y?e.charAt(n):e[n]}}return s+'"'},T=function(e,t,s,n,l,c,u){var p,d,h,y,_,b,x,U,W,S,E,O,$,P,L,R;try{p=t[e]}catch(D){}if("object"==typeof p&&p)if(d=a.call(p),d!=v||r.call(p,"toJSON"))"function"==typeof p.toJSON&&(d!=m&&d!=f&&d!=g||r.call(p,"toJSON"))&&(p=p.toJSON(e));else if(p>-1/0&&1/0>p){if(j){for(_=k(p/864e5),h=k(_/365.2425)+1970-1;j(h+1,0)<=_;h++);for(y=k((_-j(h,0))/30.42);j(h,y+1)<=_;y++);_=1+_-j(h,y),b=(p%864e5+864e5)%864e5,x=k(b/36e5)%24,U=k(b/6e4)%60,W=k(b/1e3)%60,S=b%1e3}else h=p.getUTCFullYear(),y=p.getUTCMonth(),_=p.getUTCDate(),x=p.getUTCHours(),U=p.getUTCMinutes(),W=p.getUTCSeconds(),S=p.getUTCMilliseconds();p=(0>=h||h>=1e4?(0>h?"-":"+")+C(6,0>h?-h:h):C(4,h))+"-"+C(2,y+1)+"-"+C(2,_)+"T"+C(2,x)+":"+C(2,U)+":"+C(2,W)+"."+C(3,S)+"Z"}else p=null;if(s&&(p=s.call(t,e,p)),null===p)return"null";if(d=a.call(p),d==w)return""+p;if(d==m)return p>-1/0&&1/0>p?""+p:"null";if(d==f)return A(""+p);if("object"==typeof p){for(P=u.length;P--;)if(u[P]===p)throw TypeError();if(u.push(p),E=[],L=c,c+=l,d==g){for($=0,P=p.length;P>$;$++)O=T($,p,s,n,l,c,u),E.push(O===i?"null":O);R=E.length?l?"[\n"+c+E.join(",\n"+c)+"\n"+L+"]":"["+E.join(",")+"]":"[]"}else o(n||p,function(e){var t=T(e,p,s,n,l,c,u);t!==i&&E.push(A(e)+":"+(l?" ":"")+t)}),R=E.length?l?"{\n"+c+E.join(",\n"+c)+"\n"+L+"}":"{"+E.join(",")+"}":"{}";return u.pop(),R}};u.stringify=function(e,t,s){var n,r,o,i;if("function"==typeof t||"object"==typeof t&&t)if((i=a.call(t))==h)r=t;else if(i==g){o={};for(var l,c=0,u=t.length;u>c;l=t[c++],i=a.call(l),(i==f||i==m)&&(o[l]=1));}if(s)if((i=a.call(s))==m){if((s-=s%1)>0)for(n="",s>10&&(s=10);n.length<s;n+=" ");}else i==f&&(n=s.length<=10?s:s.slice(0,10));return T("",(l={},l[""]=e,l),r,o,n,"",[])}}if(!s("json-parse")){var E,O,$=String.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},L=function(){throw E=O=null,SyntaxError()},R=function(){for(var e,t,s,n,r,o=O,i=o.length;i>E;)switch(r=o.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=y?o.charAt(E):o[E],E++,e;case 34:for(e="@",E++;i>E;)if(r=o.charCodeAt(E),32>r)L();else if(92==r)switch(r=o.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[r],E++;break;case 117:for(t=++E,s=E+4;s>E;E++)r=o.charCodeAt(E),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||L();e+=$("0x"+o.slice(t,E));break;default:L()}else{if(34==r)break;for(r=o.charCodeAt(E),t=E;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++E);e+=o.slice(t,E)}if(34==o.charCodeAt(E))return E++,e;L();default:if(t=E,45==r&&(n=!0,r=o.charCodeAt(++E)),r>=48&&57>=r){for(48==r&&(r=o.charCodeAt(E+1),r>=48&&57>=r)&&L(),n=!1;i>E&&(r=o.charCodeAt(E),r>=48&&57>=r);E++);if(46==o.charCodeAt(E)){for(s=++E;i>s&&(r=o.charCodeAt(s),r>=48&&57>=r);s++);s==E&&L(),E=s}if(r=o.charCodeAt(E),101==r||69==r){for(r=o.charCodeAt(++E),(43==r||45==r)&&E++,s=E;i>s&&(r=o.charCodeAt(s),r>=48&&57>=r);s++);s==E&&L(),E=s}return+o.slice(t,E)}if(n&&L(),"true"==o.slice(E,E+4))return E+=4,!0;if("false"==o.slice(E,E+5))return E+=5,!1;if("null"==o.slice(E,E+4))return E+=4,null;L()}return"$"},D=function(e){var t,s;if("$"==e&&L(),"string"==typeof e){if("@"==(y?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=R(),"]"!=e;s||(s=!0))s&&(","==e?(e=R(),"]"==e&&L()):L()),","==e&&L(),t.push(D(e));return t}if("{"==e){for(t={};e=R(),"}"!=e;s||(s=!0))s&&(","==e?(e=R(),"}"==e&&L()):L()),(","==e||"string"!=typeof e||"@"!=(y?e.charAt(0):e[0])||":"!=R())&&L(),t[e.slice(1)]=D(R());return t}L()}return e},I=function(e,t,s){var n=N(e,t,s);n===i?delete e[t]:e[t]=n},N=function(e,t,s){var n,r=e[t];if("object"==typeof r&&r)if(a.call(r)==g)for(n=r.length;n--;)I(r,n,s);else o(r,function(e){I(r,e,s)});return s.call(e,t,r)};u.parse=function(e,t){var s,n;return E=0,O=""+e,s=D(R()),"$"!=R()&&L(),E=O=null,t&&a.call(t)==h?N((n={},n[""]=s,n),"",t):s}}}l&&t(function(){return u})}(this)},{}],44:[function(e,t,s){function n(e,t){var s=[];t=t||0;for(var n=t||0;n<e.length;n++)s[n-t]=e[n];return s}t.exports=n},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/vigour-js/browser/network/data/element.js":[function(e,t,s){function n(e,t){if(e.sort&&e.sort.field){var s={$:{}};s.$[e.sort.field]=!0,a.merge(t,s)}return t}function r(e,t,s,r,o,u,p){var d,h,v;u&&(h=void 0!==u._name?u._name:u,u instanceof c&&(h=u._name),u instanceof Array&&u[1]);var m=p&&u&&(p._d||p.checkParent("data",!0));if("collection"===r){var f;if(s.filter&&s.filter.val!==!0){f={};var g=s.filter.raw,w=a.path(e,t.split("."),[]);w.push([g,{$:n(g,f)}]);var y=a.path(e,t.split("."),{},!0);for(var k in w[w.length-1][1])y[k]=w[w.length-1][1][k];w=y}else{var _,g=t===!0?"$":t+".$",j=g.split(".");m&&m[h]&&(d=!0,j[0]===h&&(j.shift(),d=!1)),d?_&&(e.specialFix=h,v&&(e.specialFix=[h,v]),f=a.path(e,j,{}),i(s.element._val instanceof l?s.element._val:s.element._val.base,f)):(f=a.path(e,j,{}),i(s.element._val instanceof l?s.element._val:s.element._val.base,f))}}else if(m&&m[h]&&(d=!0),t instanceof Array)for(var k in t)d?(t[k]instanceof Array&&(t[k]=t[k][0]),t[k]=t[k].split("."),t[k][0]===h&&(t[k].shift(),a.path(e,t[k],!0))):(t[k]instanceof Array&&(t[k]=t[k][0]),a.path(e,t[k].split("."),!0));else t!==!0&&"string"==typeof t&&(d?(t=t.split("."),t[0]===h&&(t.shift(),t.length>0&&a.path(e,t,!0))):a.path(e,t.split("."),!0))}function o(e,t,s,n,o,i){if(t instanceof Array)for(var a=0,l=t.length;l>a;a++)r(e,t[a]._flag.data[2],t,s,n,o,i);else r(e,t._flag.data[2],t,s,n,o,i)}function i(e,t,s,n,r){if(e.model&&(e.model.flags||e.model.subscription||e.model.field)){var l,c=t;if(r);else if(!e.model.field||!e.model.field.val||e.model.parsing||e.model.parsed||"string"==typeof n&&e.model.field.val!==n){if(n&&e.model.field&&e.model.field.val!==n)return void 0}else l=e.model.field.val.split("."),e.model.field.val===n||(c=a.path(t,l,{},!0));if(e.model&&e.model.subscription){var u=e.model.subscription.raw;if(u===!0)l&&(l.length>1?c=a.path(t,l,!0,!0):(t[l[0]]=!0,c=!0));else{var p=e.model.subscription.raw;if("string"==typeof p){var d=p;p={},p[d]=!0}a.merge(c,p)}}for(var h in e.model.flags)o(c,e.model.flags[h],h,s,n,e)}if(!e.model||!e.model.block||!e.model.block.val)for(var v,m=e.children,f=0,g=m&&m.length;g>f;v=f++)v=m[f],(v.model&&v.model.inherit&&v.model.inherit.val===!1||v._col||v.data)&&!v._dfrom||i(v,t,s,n);return t["__#__"]&&delete t["__#__"],e.model&&e.model.block&&"all"===e.model.block.val?void 0:t}var a=e("../../../util"),l=e("../../element"),c=(e("../../../util/hash"),e("../../../object"));s.parseData=function(e,t,s){if(e){var r={},o=e._filter,i=t||e.__sub;if(i)if(o){r["*"]||(r["*"]=[]),r["*"].push([a.clone(o,{subsObj:!0,fn:!0,type:!0}),n(o,t||{$:i})]);for(var l in r["*"][1])r[l]=r["*"][1][l];delete r["*"]}else r=i;return r}},a.define(l,"getModel",function(e,t,s){var n=i(this,{},e,t,s);return a.empty(n)?null:n})},{"../../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../../util/hash":"/Users/shawn/Work/vigour-js/util/hash.js","../../element":"/Users/shawn/Work/vigour-js/browser/element/index.js"}],"/Users/shawn/Work/vigour-js/browser/network/data/index.js":[function(e,t,s){var n=e("../../../object"),r=e("../../../data"),o=(e("../../../value"),e("../../../util")),i=e("../../../"),a=t.exports=s=i.Networkdata=r["new"]({mixed:4,merge:!0}),l="subscribe",c="un"+l,u="Listener",p="add"+u,d="remove"+u,h=n.prototype,v=h[p],m=h[d],f=function(e,t){for(var s=this;s&&4===s.__t;){if(s.__block)return;s=s._val}s instanceof a&&s[e]&&s[e](t,this)};e("../../../");a.prototype._blacklist.push("_subs","_complete"),o.define(a,"get",function(e,t,s,n){return this.path(e instanceof Array?e:String(e).split("."),void 0!==t?t:{},!1,!1,!1,n||!1,!0,!s)},p,function(e){this[l]&&this[l](e),v.apply(this,arguments)},d,function(e,t){this._listeners&&this[c]&&this[c](t),m.apply(this,arguments)}),o.define(r,p,function(e){this.__block||f.call(this,l,e),v.apply(this,arguments)},d,function(e,t){this.__block||f.call(this,c,t),m.apply(this,arguments)})},{"../../../":"/Users/shawn/Work/vigour-js/index.js","../../../data":"/Users/shawn/Work/vigour-js/data/index.js","../../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../../value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/browser/network/url.js":[function(e,t,s){function n(e){var t;i.hashUrl&&s.blocks===p?p++:(p++,t="u"+p,s.clearCache(),s.string.clearCache(),s.string._update(s.string.val,t),s.params._update(s.string.val,t),s._update(s.string.val,t),s._lstamp=null)}var r=e("../../util"),o=e("../../value"),i=e("../../util/config"),a=(e("../../value/flags/process"),e("../../browser/animation/raf")),l=e("../../browser/events/util").postpone,c=(e("../../browser/ua"),e("../../browser/cases"));t.exports=s=new o,c.crawler&&(i.hashUrl=!1),console.log("config.hashUrl",i.hashUrl);var u=!i.hashUrl,p=0,d=l(u?function(e){window.history.pushState({},"","/"+e.replace(/ /g,"+").replace(/^#\//,"").toLowerCase())}:function(e){s.block=!0,window.location.href="#/"+e.replace(/ /g,"+").toLowerCase(),s.block=!1}),h=(o.prototype._set,function(){if(u){var e=window.location.href;return e&&(t=v(e),e=e.replace(t,"")),String(window.location.href).replace(String(window.location.origin)+"/","").replace(/^#\//,"").replace(/\+/g," ")||""}var e=window.location.href.split("#"),t="";return e&&1===e.length&&(t=v(e[0]),e[0]=e[0].replace(t,"")),(e.length>1?e[1].replace(/\+/g," "):" ").slice(1)+t}),v=function(e){e||(e=h()||"");var t=e.split("?"),s=t.length;return e=s>1&&t[t.length-1]?"?"+t[t.length-1]:""};s.parse=h,s.val={string:function(){var e=h();return e.replace(v(e),"")},params:{val:function(){return v()},defer:function(e,t){this.clearCache();var s,n,r,o=this.val;if(o&&o!==this._last){this._last=o,s=o.slice(1).split("&"),n={};for(var i in s)r=s[i].split("="),r.length>1?n[r[0]]=r[1]:console.error("url: no [key]=[value] format -- not implemented yet");this.val=n}a(function(){e()})}},transform:function(e,t){return t},defer:function(e,t){if(!t[1]||"u"!==t[1][0]){this.clearCache();var n="string"==typeof t[0]?t[0]:t[0]&&t[0].val||this.val;return n&&(s.blocks=p,d(n+this.params.val)),!0}this.clearCache(),a(function(){e()})}},r.define(s,"update",function(){n()}),r.define(s.string,"raw",{get:function(){return this.val.replace(/ /g,"+")}}),i.hashUrl?window.onhashchange=n:window.onpopstate=n},{"../../browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js","../../browser/cases":"/Users/shawn/Work/vigour-js/browser/cases/index.js","../../browser/events/util":"/Users/shawn/Work/vigour-js/browser/events/util.js","../../browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../util/config":"/Users/shawn/Work/vigour-js/util/config/index.js","../../value":"/Users/shawn/Work/vigour-js/value/index.js","../../value/flags/process":"/Users/shawn/Work/vigour-js/value/flags/process.js"}],"/Users/shawn/Work/vigour-js/browser/ua.js":[function(e,t,s){var n=e("../util"),r=s.test=function(e,t){for(var s=n.arg(arguments,1),r=s.length-1,o=s[r][0];o!==!0&&!new RegExp(o).test(e);o=s[--r][0]);(t.slice||t.call(this,o,s[r]))&&(this[t]=s[r][1])},o=s.parse=function(e,t){e||(t=s,e="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"no navigator"),e=e.toLowerCase(),t||(t={});var o="firefox",i="android",a=".+mobile",l="webkit",c="playstation",u="xbox",p="linux",d="crkey",h="chromecast",v="tablet",m="windows",f="phone";r.call(t,e,function(s,n){t.browser=n[2]||s;var r=e.match(new RegExp("((([\\/ ]version|"+n[0]+"(?!.+version))[/ ])| rv:)([0-9]{1,4}\\.[0-9]{0,2})"));t.version=r?Number(r[4]):0,t.prefix=n[1]},[!0,l],["\\(windows","ms","ie"],["safari",l],[o,"Moz"],["opera","O"],["msie","ms","ie"],["chrome|crios/",l,"chrome"]),r.call(t,e,"platform",[!0,m],[p,p],["lg.{0,3}netcast","lg"],[o+a,o],["mac os x","mac"],["iphone|ipod|ipad","ios"],[u,u],[c,c],[i,i],[m,m],[d,h],["smart-tv;|;samsung;smarttv","samsung"]),r.call(t,e,"device",[!0,"desktop"],[m+".+touch|ipad|"+i,v],["iphone|("+i+a+")|("+o+a+")|"+m+" phone|iemobile",f],[u+"|"+c,"console"],["tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv|webos.+large","tv"],[d,h],["amazon-fireos",v]);var g=304704;return t.platform===i&&!n.isNode&&t.device===f&&window.innerWidth*window.innerHeight>g&&(t.device="tablet"),t};if(!n.isNode&&(o(),window.__ua__))for(var i in window.__ua__)s[i]=window.__ua__[i]},{"../util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/data/base.js":[function(e,t,s){var n=e("./"),r=(e("../base"),e("../util")),o=(e("../value/flags/data"),e("../object"));s.extend=r.extend(function(e,t,s){var i=r.compareArrays,a={_dUpdate:function(e,t,s,o,a,l,c,u,p,d){if(this.model){if("$ndata"===e&&(t=o,s=a,o=l,a=c,l=u,c=p,u=d),!this._d&&this.parent)for(var h=this.parent;!this._d&&h;)h._d?this._dSet(h._d,!0):h=h.parent;var v=this,m=v.model,f=m.flags,g=v._d&&v._d._path||[],w=(o||(o=v._d&&v._d._updateOrigin)&&!(o===v._d&&(o=!1)))&&o.updatePath,y=o&&o._path,k=function(s,n){var p,d,h,m;if(!n._flag.data)return void console.error("NO DATA FLAG",w,n._flag,t,e,a,l,c);if(n=n._flag.data[2],"collection"!==s||!v._colFilter){if(n===!0)d=!0;else if(n.pop){n=n.concat();for(var f=n.length-1;f>=0;f--)void 0!==!m&&(p=r.get(v._d,n[f]),void 0!==p&&(m=!0)),n[f]=n[f].split(".")}else n=n.split("."),p=r.get(v._d,n),!p&&v._d&&v._d.from&&n&&(p=r.get(v._d.from,n)),p&&o&&4===o.__t&&(m=!0);if(!d&&o){h=!0;var k;if(o===p||(k=o.from)===p)d=!0;else if(v._d._filter&&p&&p._ancestor(o))d=!0;else if(m)for(var _=0;_<n.length;_++){if(w&&i(w,n[_])||n[_][0]===w[0]&&r.get(t,n[_].concat().shift())){h=!1;break}if(i(g.concat(n[_]),y)||i(n[_],y)){h=!1;break}if(p&&null!==o._val&&t&&(t[n[_]]||t.$path||4===t.__t)&&(p._ancestor(o)||p.from._ancestor(k))){d=!0;break}}else if(null===t);else if(void 0===t);else if(w&&i(w,n)||n[0]===w&&w[0]&&r.get(t,n.concat().shift()))h=!1;else if(g&&(i(g.concat(n),y)||i(n,y)))h=!1;else if(p&&t[n[0]]&&p._ancestor(o))d=!0;else if(v.__checkKeys__)for(var j in v.__checkKeys__)(n===v.__checkKeys__[j]||n[0]===v.__checkKeys__[j])&&(d=!0)}return d||a||(u||a||void 0!==p)&&(!h||1===a)?(v[s]._update(t,!1,o,a,l,c,!u,v),!0):void 0}},_=function(){if(this._d){var e,t=this;t.model.val,m.field&&(e=r.get(t._d,m.field.val)),m._val&&(e=m._val.call(t,e||t._d)||e),e&&t._d!==e&&(m.parsing=!0,m.field&&(m.parsed=m.field.val),this._dSet(e),m.parsing=!1)}};if(_.call(v),u&&v.eachInstance(_,"model"),f&&(u||v._d))for(var j in f)if(f[j].__t)k(j,f[j]);else for(var b=0,x=f[j].length;x>b&&!k(j,f[j][b]);b++);this.model.complete&&this.model.complete._val.call(this,n)}},_dSet:function(e,t){return this.model._flag&&this.model._flag.defer&&!this.__processing?void(this.__pFlag=[e,t]):(this._d&&this._d.__t&&this._d.removeListener(!0,this),this._d=e,t&&(this._dfrom=!0),this._dListen(),e)},_dListen:function(){var e;if(this.model&&this._d&&this._d instanceof o)this._d.addListener([this._dUpdate,this]),e=this,this._d.cloud||this._d.each(function(){e.__checkKeys__=!0,4===this.__t&&this.addListener([e._dUpdate,e,"$ndata",this])});else if(this.model&&this._d)for(var t in this._d)this.__checkKeys__&&this.__checkKeys__!==!0||(this.__checkKeys__=[]),this._d[t]instanceof o&&(this.__checkKeys__.push||console.error("xxxxxx",this,this.__checkKeys__,t,this._d),this.__checkKeys__.push(t),this._d[t].addListener([this._dUpdate,this,"$ndata",t]))},updateData:function(e){return this.model._flag&&this.model._flag.defer&&!this.__processing?(this.__pFlagU=[e],void this.model._update()):void this._dUpdate(this._d,void 0,!1,!1,!1,!1,!1,e)}},l=function(s){e.extend({name:s,type:!1,value:t&&t[s]?function(){a[s].apply(this,arguments),t[s].apply(this,arguments)}:a[s]})};for(var c in a)l(c);e.extend({name:"model",cache:!1,set:function(e){if((this.__pFlag||this.__pFlagU)&&(this.__processing=!0,this.model.parsing=!1,this.__pFlag&&this._dSet.apply(this,this.__pFlag),this.__pFlagU&&this.updateData.apply(this,this.__pFlagU),this.__pFlagU=null,this.__pFlag=null,this.__processing=null),e.field&&e.field.val!==e.parsed){var t,s=e.parsed&&e.parsed.split(".");if(e.parsed=null,this._d)if(t=this._d,s){for(var n=s.length-1;n>=0;n--)t=t._parent;t&&(this._dSet(t),this.updateData(!0))}else this.updateData(!0);e.parsed=null}},remove:function(){if(this._d)if(this._d.__t){if(this._d.removeListener(void 0,this),!this._d.cloud){var e=this;this._d.each(function(){4===this.__t&&this.removeListener(void 0,e)})}}else if(this.__checkKeys__)for(var t in this.__checkKeys__)this._d[this.__checkKeys__[t]]instanceof o&&this._d[this.__checkKeys__[t]].removeListener(void 0,this)}},{name:"data",type:!1,set:function(e){if(this._d!==e){if(this.model._flag&&this.model._flag.defer)return this.__pFlag=[e],void(this.__pFlagU=[!0]);this.model.parsing=!1,this._dSet(e),this.updateData(!0)}},get:function(){return this._d}})})},{"../base":"/Users/shawn/Work/vigour-js/base/index.js","../object":"/Users/shawn/Work/vigour-js/object/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","../value/flags/data":"/Users/shawn/Work/vigour-js/value/flags/data.js","./":"/Users/shawn/Work/vigour-js/data/index.js"}],"/Users/shawn/Work/vigour-js/data/conditions.js":[function(e,t,s){function n(e,t,s){var n;switch(e){case"$not":if(t instanceof Object){var i=l(t,s);n=function(e){return i(e)===!1}}else n=function(e){return e!==t};break;case"$ne":n=function(e){return e!==t};break;case"$and":var c=r(t,s);n=o(c);break;case"$nand":var c=r(t,s);n=function(e){for(var t=0,s=c.length;s>t;t++)if(c[t](e)===!1)return!0;return!1};break;case"$or":var c=r(t,s);n=function(e){for(var t=0,s=c.length;s>t;t++)if(c[t](e))return!0;return!1};break;case"$nor":var c=r(t,s);n=function(e){for(var t=0,s=c.length;s>t;t++)if(c[t](e))return!1;return!0};break;case"$every":s.set("$",{});var i=l(t,s.$);n=function(e){if(e&&e.__t<3){var t=!0;return e.each(function(){return i(this)?void 0:!(t=!1)}),t}return!1};break;case"$nevery":s.set("$",{});var i=l(t,s.$);n=function(e){if(e&&e.__t<3){var t=!1;return e.each(function(){return i(this)?void 0:t=!0}),t}return!0};break;case"$":case"$some":if(s.set("$",{}),t instanceof Object){var i=l(t,s.$);n=function(e){if(e&&e.__t<3){var t;return e.each(function(){return i(this)?t=!0:void 0}),t||!1}return!1}}else n=function(e){if(e&&e.__t<3){var s;return e.each(function(){return this===t?s=!0:void 0}),s||!1}return!1},s.$._check=function(e){return e===t};break;case"$nsome":s.set("$",{});var i=l(t,s.$);n=function(e){if(e&&e.__t<3){var t=!0;return e.each(function(){return i(this)?!(t=!1):void 0}),t}return!0};break;case"$lt":n=function(e){return t>e};break;case"$lte":n=function(e){return t>=e};break;case"$gt":n=function(e){return e>t};break;case"$gte":n=function(e){return e>=t};break;case"$contains":var u=new RegExp(t,"i");n=function(e){return u.test(e)};break;case"$ncontains":var u=new RegExp(t,"i");n=function(e){return!u.test(e)};break;case"$containsall":break;case"$ncontainsall":break;case"$has":n=function(e){return e&&void 0!==e[t]};break;case"$nhas":n=function(e){return!e||void 0===e[t]};break;case"$exists":n=function(e){return(void 0!==e&&null!==e)===t};break;case"$in":n=function(e){for(var s=0,n=t.length;n>s;s++)if(e===t[s])return!0;return!1};break;case"$nin":n=function(e){for(var s=0,n=t.length;n>s;s++)if(e===t[s])return!1;return!0};break;case"$regex":n=function(e){return t.test(e)};break;default:if(t instanceof Object){var p=s[e];p||(s.set(e,{}),p=s[e]);var i=l(t,p);n=function(t){return t=a(t,e),i(t)}}else n=function(s){return s=a(s,e),s===t},s.set(e,{}),s[e]._check=n}return s?s._check=n:n}function r(e,t){for(var s=[],n=0,r=e.length;r>n;n++)s.push(l(e[n],t));return s}function o(e,t){return function(t){for(var s=i(t),n=0,r=e.length;r>n;n++)if(e[n](s)===!1)return!1;return!0}}function i(e){var t=e&&e.from&&e.from.val;return void 0!==t?t:e}function a(e,t){return e=i(e),e?i(e[t]):void 0}var l=(e("./"),t.exports=function(e,t){if(e instanceof Object){var s=Object.keys(e);if(1===s.length){var r=s[0],a=n(r,e[r],t);return t._check=function(e){var t=i(e);return a(t)}}for(var r,l=[],c=0,u=s.length;u>c;c++)r=s[c],l.push(n(r,e[r],t));return t._check=o(l)}return t._check=function(t){return i(t)===e}})},{"./":"/Users/shawn/Work/vigour-js/data/index.js"}],"/Users/shawn/Work/vigour-js/data/index.js":[function(e,t,s){var n=e("vigour-js"),r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object"),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util");t.exports=s=n.Data=r["new"](),s.prototype._blacklist.push("__sub","__block"),o.define(s,"_hook",function(e,t){t.subscription&&(this.__sub=t.subscription,delete t.subscription),t.block&&(this.__block=!0,delete t.block)})},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","vigour-js":"/Users/shawn/Work/vigour-js/node_modules/vigour-js/index.js"}],"/Users/shawn/Work/vigour-js/data/selection.js":[function(e,t,s){function n(e,t){var s=e.val;return s&&s[t]&&s[t].val}function r(e,t){var s=e.path(t);return s&&s.val}var o=e("./conditions"),i=e("../util/hash"),a=e("../object"),l=e("../util");s.SubsObj=a["new"](),s.SubsObj.prototype._blacklist.push("_root","_check","_sort","_uid"),s.extend=l.extend(function(e){e.prototype._blacklist.push("_filter","_uid","_hash","_indexCache","_subscnt");var t=e.prototype._update,n=e.prototype._hook,r=e.prototype.remove;l.define(e,"remove",function(){var e;if(this._filter&&(e=this.length))for(var t=0;e>t;t++)delete this[t];return r.apply(this,arguments)},"filter",{get:function(){return this._filter},set:function(e){this._filter=e,this._build(void 0,!0),t.call(this,void 0,this.stamp(),void 0,!1,!1,void 0)}},"_hook",function(e,t){if(n&&n.call(this,e,t),!l.empty(t)&&e){var s=this;s._subscnt=0,s._filter=t,s._hash=i(e._path+JSON.stringify([t.condition,t.range,t.sort])),s._uid||(s._uid=s._hash)}},"_build",function(e,n){var r=this;if(e||(e=r._val),e){r.length&&r._clear();var i,a,l=[],d=this._itemsHandler,h=r._filter,v=h.subsObj||new s.SubsObj({},r),m=this.stamp();if(4!==e.__t||e._filter||(e=e.from),h.sort&&("string"==typeof h.sort&&(h.sort={field:h.sort}),i=h.sort,i.fn||(i.type||(i.type="string"),i.fn=p[i.type](i)),v.path(i.field.split("."),{}).set("_sort",!0)),h.condition){var f=0,g=0,w=h.check||(h.check=o(h.condition,v));h.subsObj=v,e.each(function(e){a=this,d&&d(a,v,r),w(a)?(f++,l.push(a)):void 0!==r._has(a)?(u(a,r),n||t.call(r,a,m,r,a,!1,null),g++):g++})}else e.each(function(){d&&d(this,v,r),l.push(this)});h.subsObj=v,i&&l.length>1&&l.sort(h.sort.fn);var y,a,k=h.range;if(k&&(k instanceof Array||(k=h.range=[0,h.range]),l.length)){var _=l.splice(k[0],k[1]);for(y=l.length;a=l[--y];)void 0!==r._has(a)&&u(a,r);l=_}for(var a,y=l.length;a=l[--y];){r[y]=a;void 0===r._has(a);c(a,r,y)}r.length=l.length}},"_update",function(e,s,n,r,o,i){if(this._filter){var a=this,l=a.updatePath;if(void 0!==l[0]){var c=1===l.length,u=c&&r,p=u?a._lfrom:a.val[l[0]];if(a._val._filter&&void 0===a._val._has(p))return void(void 0!==a._has(p)&&a._checkItem(p,!1,e,s));var d=u?!1:c&&o?void 0:l;a._checkItem(p,d,e,s)===!0&&t.apply(a,arguments)}else n||(r?a.length&&a._clear():a._build()),t.apply(this,arguments)}else t.apply(this,arguments)},"_has",function(e){var t,s=e._indexCache,n=this._uid;return s&&n&&(t=s[n])?t[0]:void 0},"_clear",function(){var e=this;e.each(function(t){e[t]=void 0,delete e[t]}),e.length=0},"_checkItem",function(e,t,s,n){if(e){var r,o,i,a=this,p=e,d=a._filter,h=d.sort,v=d.range,m=v&&!(0===v[0]&&v[1]>=a._val.length||a.length<v[1]-v[0]),f=t===!1||e._removed,g=i=void 0!==(o=a._has(e)),w=d.check,y=f?!1:m||1!==t?!w||w(e):i;if(i!==y)if(i){g=1,u(e,a),f=e;for(var k;k=a[++o];)a[o-1]=k,c(k,a,o-1);var _=o-1;a[_]=null,delete a[_];var j;m&&(h?a._val.each(function(){void 0!==a._has(this)||a[_]&&!(h.fn(this,a[_])<0)||w&&!w(this)||(j=a[_]=this)}):a._val.each(function(){return void 0!==a._has(this)||w&&!w(this)?void 0:j=a[_]=this})),j?(c(j,a,o-1),r=j):a.length--}else{var b;if(h){var x=h.fn;if(a.length&&a.each(function(t){return x(e,this)<0?b=t:void 0}),void 0!==b){g=1,b=Number(b),c(e,a,b),r=e,m?(f=a[a.length-1],u(f,a)):this.length++;for(var o=a.length-2;o>=b;)c(a[o],a,o+1),a[o+1]=a[o--];a[b]=e}else m||(g=1,b=a.length++,a[b]=e,c(e,a,b),r=e)}else m||(g=1,b=a.length++,a[b]=e,c(e,a,b),r=e)}else if(i&&h){if(t.length&&h.field)if(~h.field.indexOf(".")){var U=h.field.split(".");if(!l.compareArrays(t.slice(1),U))return g}else if(t[1]!==h.field)return g;var b;if(a.each(function(t){if(t!=o){var s=h.fn(e,this);if(-1===s)return t==o+1?!0:(b=o>t?t:t-1,!0);if(t>=o+1&&0===s)return!0;t>o&&(b=t)}}),void 0!==b){g=1;var W;if(o>b)for(;o>b;)W=a[o]=a[--o],W&&c(W,a,o+1);else for(;b>o;)W=a[o]=a[++o],W&&c(W,a,o-1);a[b]=e}var _=a.length-1;if(m&&(b==_||void 0===b&&o==_)){var C;a._val.each(function(){void 0!==a._has(this)||-1!==h.fn(this,e)||w&&!w(this)||(C||(C=e),a[_]=e=this)}),c(e,a,_),C&&(u(C,a),f=C,r=e,g=1)}else void 0!==b&&c(e,a,Number(b))}return 1===g&&a.__update(s,n,p,f,r),g}})});var c=s.storeIndex=function(e,t,s){var n,r=e._indexCache;r?(n=r[t._uid],n?(n[1]=n[0],n[0]=s):r[t._uid]=[s]):(e._indexCache={},e._indexCache[t._uid]=[s])},u=s.unstoreIndex=function(e,t){var s=e._indexCache;if(s){var n=s[t._uid];n[1]=n[0],n[0]=void 0}},p={number:function(e){var t=e.field;return function(s,n){var r=s[t]&&s[t].val,o=n[t]&&n[t].val;return void 0===r||void 0===o?r===o?0:void 0===r?1:-1:e.order?-1*(r-o):r-o}},string:function(e){var t=e.field;if(~t.indexOf(".")){var s=t.split(".");return function(t,n){if(t=r(t,s),n=r(n,s),void 0===t||void 0===n)return t===n?0:void 0===t?1:-1;var o=t>n?1:t===n?0:-1;return e.order?-1*o:o}}return function(s,r){s=n(s,t),r=n(r,t);var o=void 0===s||null===s,i=void 0===r||null===r;if(o||i)return s===r?0:o?1:-1;var a=s>r?1:s===r?0:-1;return e.order?-1*a:a}}}},{"../object":"/Users/shawn/Work/vigour-js/object/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","../util/hash":"/Users/shawn/Work/vigour-js/util/hash.js","./conditions":"/Users/shawn/Work/vigour-js/data/conditions.js"}],"/Users/shawn/Work/vigour-js/index.js":[function(e,t,s){},{}],"/Users/shawn/Work/vigour-js/node_modules/asap/asap.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/node_modules/asap/asap.js"][0].apply(s,arguments)},{_process:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/process/browser.js"}],"/Users/shawn/Work/vigour-js/node_modules/colors/colors.js":[function(e,t,s){function n(e,t){var n;if("console"===s.mode)n={bold:["[1m","[22m"],italic:["[3m","[23m"],underline:["[4m","[24m"],inverse:["[7m","[27m"],strikethrough:["[9m","[29m"],white:["[37m","[39m"],grey:["[90m","[39m"],black:["[30m","[39m"],blue:["[34m","[39m"],cyan:["[36m","[39m"],green:["[32m","[39m"],magenta:["[35m","[39m"],red:["[31m","[39m"],yellow:["[33m","[39m"],whiteBG:["[47m","[49m"],greyBG:["[49;5;8m","[49m"],blackBG:["[40m","[49m"],blueBG:["[44m","[49m"],cyanBG:["[46m","[49m"],greenBG:["[42m","[49m"],magentaBG:["[45m","[49m"],redBG:["[41m","[49m"],yellowBG:["[43m","[49m"]};else if("browser"===s.mode)n={bold:["<b>","</b>"],italic:["<i>","</i>"],underline:["<u>","</u>"],inverse:['<span style="background-color:black;color:white;">',"</span>"],strikethrough:["<del>","</del>"],white:['<span style="color:white;">',"</span>"],grey:['<span style="color:gray;">',"</span>"],black:['<span style="color:black;">',"</span>"],blue:['<span style="color:blue;">',"</span>"],cyan:['<span style="color:cyan;">',"</span>"],green:['<span style="color:green;">',"</span>"],magenta:['<span style="color:magenta;">',"</span>"],red:['<span style="color:red;">',"</span>"],yellow:['<span style="color:yellow;">',"</span>"],whiteBG:['<span style="background-color:white;">',"</span>"],greyBG:['<span style="background-color:gray;">',"</span>"],blackBG:['<span style="background-color:black;">',"</span>"],blueBG:['<span style="background-color:blue;">',"</span>"],cyanBG:['<span style="background-color:cyan;">',"</span>"],greenBG:['<span style="background-color:green;">',"</span>"],magentaBG:['<span style="background-color:magenta;">',"</span>"],redBG:['<span style="background-color:red;">',"</span>"],yellowBG:['<span style="background-color:yellow;">',"</span>"]};else{if("none"===s.mode)return e+"";console.log('unsupported mode, try "browser", "console" or "none"')}return n[t][0]+e+n[t][1]}function r(e){var t=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(e).forEach(function(n){-1!==t.indexOf(n)?console.log("warn: ".red+("String.prototype"+n).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof e[n]?l(n,function(){return s[e[n]](this)}):l(n,function(){for(var t=this,r=0;r<e[n].length;r++)t=s[e[n][r]](t);return t})})}function o(e){return function(){if(!a)return this.replace(/( )/,"$1");var t=this.split("");return t=t.map(e),t.join("")}}function i(e,t){function s(e){var t=Math.floor(Math.random()*e);return t}function n(e){var t=!1;return i.filter(function(s){t=s===e}),t}function r(e,t){var r,i,a="";t=t||{},t.up=t.up||!0,t.mid=t.mid||!0,t.down=t.down||!0,t.size=t.size||"maxi",e=e.split("");for(i in e)if(!n(i)){switch(a+=e[i],r={up:0,down:0,mid:0},t.size){case"mini":r.up=s(8),r.min=s(2),r.down=s(8);break;case"maxi":r.up=s(16)+3,r.min=s(4)+1,r.down=s(64)+3;break;default:r.up=s(8)+1,r.mid=s(6)/2,r.down=s(8)+1}var l=["up","mid","down"];for(var c in l)for(var u=l[c],p=0;p<=r[u];p++)t[u]&&(a+=o[u][s(o[u].length)]);
}return a}var o={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},i=[].concat(o.up,o.down,o.mid);return r(e)}var a=!1;if("undefined"!=typeof t&&(a=!0),a)s.mode="console";else{var s={},t={};s.mode="browser"}var l=function(e,t){s[e]=function(e){return t.apply(e)},String.prototype.__defineGetter__(e,t)},c=["bold","underline","strikethrough","italic","inverse","grey","black","yellow","red","green","blue","white","cyan","magenta","greyBG","blackBG","yellowBG","redBG","greenBG","blueBG","whiteBG","cyanBG","magentaBG"];c.forEach(function(e){l(e,function(){return n(this,e)})});var u=function(){var e=["red","yellow","green","blue","magenta"];return function(t,s,r){return" "===t?t:n(t,e[s++%e.length])}}();s.themes={},s.addSequencer=function(e,t){l(e,o(t))},s.addSequencer("rainbow",u),s.addSequencer("zebra",function(e,t,s){return t%2===0?e:e.inverse}),s.setTheme=function(t){if("string"==typeof t)try{return s.themes[t]=e(t),r(s.themes[t]),s.themes[t]}catch(n){return console.log(n),n}else r(t)},l("stripColors",function(){return(""+this).replace(/\x1B\[\d+m/g,"")}),l("zalgo",function(){return i(this)})},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/index.js":[function(e,t,s){t.exports=e("./lib/")},{"./lib/":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/index.js":[function(e,t,s){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/socket.js","engine.io-parser":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/socket.js":[function(e,t,s){(function(s){function n(e,t){if(!(this instanceof n))return new n(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=u(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:s.location&&"https:"==location.protocol,t.host){var r=t.host.split(":");t.hostname=r.shift(),r.length?t.port=r.pop():t.port||(t.port=this.secure?"443":"80")}this.agent=t.agent||!1,this.hostname=t.hostname||(s.location?location.hostname:"localhost"),this.port=t.port||(s.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=t.rejectUnauthorized||null,this.open()}function r(e){var t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}var o=e("./transports"),i=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),p=e("parsejson"),d=e("parseqs");t.exports=n,n.priorWebsocketSuccess=!1,i(n.prototype),n.protocol=c.protocol,n.Socket=n,n.Transport=e("./transport"),n.transports=e("./transports"),n.parser=e("engine.io-parser"),n.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=r(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var s=new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return s},n.prototype.open=function(){var e;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(s){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},n.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},n.prototype.probe=function(e){function t(){if(d.onlyBinaryUpgrades){var t=!this.supportsBinary&&d.transport.supportsBinary;p=p||t}p||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!p)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),d.upgrading=!0,d.emit("upgrading",u),!u)return;n.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){p||"closed"!=d.readyState&&(a("changing transport and sending upgrade packet"),c(),d.setTransport(u),u.send([{type:"upgrade"}]),d.emit("upgrade",u),u=null,d.upgrading=!1,d.flush())})}else{a('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=u.name,d.emit("upgradeError",s)}}))}function s(){p||(p=!0,c(),u.close(),u=null)}function r(t){var n=new Error("probe error: "+t);n.transport=u.name,s(),a('probe transport "%s" failed because of error: %s',e,t),d.emit("upgradeError",n)}function o(){r("transport closed")}function i(){r("socket closed")}function l(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),s())}function c(){u.removeListener("open",t),u.removeListener("error",r),u.removeListener("close",o),d.removeListener("close",i),d.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),p=!1,d=this;n.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",r),u.once("close",o),this.once("close",i),this.once("upgrading",l),u.open()},n.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},n.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(p(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},n.prototype.ping=function(){this.sendPacket("ping")},n.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},n.prototype.sendPacket=function(e,t,s){if("closing"!=this.readyState&&"closed"!=this.readyState){var n={type:e,data:t};this.emit("packetCreate",n),this.writeBuffer.push(n),this.callbackBuffer.push(s),this.flush()}},n.prototype.close=function(){function e(){n.onClose("forced close"),a("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function s(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?s():e()}):this.upgrading?s():e()}return this},n.prototype.onError=function(e){a("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},n.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var s=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){s.writeBuffer=[],s.callbackBuffer=[],s.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},n.prototype.filterUpgrades=function(e){for(var t=[],s=0,n=e.length;n>s;s++)~l(this.transports,e[s])&&t.push(e[s]);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transport.js","./transports":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/index.js","component-emitter":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js",indexof:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/indexof/index.js",parsejson:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/parsejson/index.js",parseqs:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/parseqs/index.js",parseuri:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/parseuri/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transport.js":[function(e,t,s){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized}var r=e("engine.io-parser"),o=e("component-emitter");t.exports=n,o(n.prototype),n.timestamps=0,n.prototype.onError=function(e,t){var s=new Error(e);return s.type="TransportError",s.description=t,this.emit("error",s),this},n.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-emitter/index.js","engine.io-parser":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/index.js":[function(e,t,s){(function(t){function n(e){var s,n=!1,a=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),n=e.hostname!=location.hostname||u!=e.port,a=e.secure!=c}if(e.xdomain=n,e.xscheme=a,s=new r(e),"open"in s&&!e.forceJSONP)return new o(e);if(!l)throw new Error("JSONP disabled");return new i(e)}var r=e("xmlhttprequest"),o=e("./polling-xhr"),i=e("./polling-jsonp"),a=e("./websocket");s.polling=n,s.websocket=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/polling-jsonp.js","./polling-xhr":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/polling-xhr.js","./websocket":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/websocket.js",xmlhttprequest:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/polling-jsonp.js":[function(e,t,s){(function(s){function n(){}function r(e){o.call(this,e),this.query=this.query||{},a||(s.___eio||(s.___eio=[]),a=s.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,s.document&&s.addEventListener&&s.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=n)},!1)}var o=e("./polling"),i=e("component-inherit");t.exports=r;var a,l=/\n/g,c=/\\n/g;i(r,o),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s),this.script=t;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},r.prototype.doWrite=function(e,t){function s(){n(),t()}function n(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';o=document.createElement(t)}catch(e){o=document.createElement("iframe"),o.name=r.iframeId,o.src="javascript:0"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,i=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}this.form.action=this.uri(),n(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==r.iframe.readyState&&s()}:this.iframe.onload=s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/polling.js","component-inherit":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/polling-xhr.js":[function(e,t,s){(function(s){function n(){}function r(e){if(l.call(this,e),s.location){var t="https:"==location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!=s.location.hostname||n!=e.port,this.xs=e.secure!=t}}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.create()}function i(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var a=e("xmlhttprequest"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),p=e("debug")("engine.io-client:polling-xhr");t.exports=r,t.exports.Request=o,u(r,l),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,new o(e)},r.prototype.doWrite=function(e,t){var s="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:s}),r=this;n.on("success",t),n.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=n},r.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new a(e),n=this;try{if(p("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},p("xhr data %s",this.data),t.send(this.data)}catch(r){return void setTimeout(function(){n.onError(r)},0)}s.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(t){}s.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(s){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(s){this.onError(s)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof s.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},s.document&&(o.requestsCount=0,o.requests={},s.attachEvent?s.attachEvent("onunload",i):s.addEventListener&&s.addEventListener("beforeunload",i,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/polling.js","component-emitter":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-emitter/index.js","component-inherit":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js",xmlhttprequest:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/polling.js":[function(e,t,s){function n(e){var t=e&&e.forceBase64;(!c||t)&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),o=e("parseqs"),i=e("engine.io-parser"),a=e("component-inherit"),l=e("debug")("engine.io-client:polling");t.exports=n;var c=function(){var t=e("xmlhttprequest"),s=new t({xdomain:!1});return null!=s.responseType}();a(n,r),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){l("paused"),s.readyState="paused",e()}var s=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||t()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;l("polling got data %s",e);var s=function(e,s,n){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};i.decodePayload(e,this.socket.binaryType,s),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var s=function(){t.writable=!0,t.emit("drain")},t=this;i.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,s)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",s="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+r.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(s=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+s+this.path+e}},{"../transport":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transport.js","component-inherit":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js",parseqs:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/parseqs/index.js",xmlhttprequest:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transports/websocket.js":[function(e,t,s){function n(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),r.call(this,e)}var r=e("../transport"),o=e("engine.io-parser"),i=e("parseqs"),a=e("component-inherit"),l=e("debug")("engine.io-client:websocket"),c=e("ws");t.exports=n,a(n,r),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,s={agent:this.agent};s.pfx=this.pfx,s.key=this.key,s.passphrase=this.passphrase,s.cert=this.cert,s.ca=this.ca,s.ciphers=this.ciphers,s.rejectUnauthorized=this.rejectUnauthorized,this.ws=new c(e,t,s),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){r.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){function t(){s.writable=!0,s.emit("drain")}var s=this;this.writable=!1;for(var n=0,r=e.length;r>n;n++)o.encodePacket(e[n],this.supportsBinary,function(e){try{s.ws.send(e)}catch(t){l("websocket closed before onclose event")}});setTimeout(t,0)},n.prototype.onClose=function(){r.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",s="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(s=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=i.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+s+this.path+e},n.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===n.prototype.name)}},{"../transport":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/transport.js","component-inherit":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js",debug:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js","engine.io-parser":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js",parseqs:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/parseqs/index.js",ws:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/ws/lib/browser.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/lib/xmlhttprequest.js":[function(e,t,s){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,s=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!s&&r)return new XDomainRequest}catch(o){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}},{"has-cors":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/has-cors/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-emitter/index.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/vigour-js/browser/network/cloud/emitter.js"][0].apply(s,arguments)},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/component-inherit/index.js":[function(e,t,s){t.exports=function(e,t){var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e}},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/browser.js":[function(e,t,s){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+s.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,n),e}function o(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(e){try{null==e?localStorage.removeItem("debug"):localStorage.debug=e}catch(t){}}function a(){var e;try{e=localStorage.debug}catch(t){}return e}s=t.exports=e("./debug"),s.log=o,s.formatArgs=r,s.save=i,s.load=a,s.useColors=n,s.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],s.formatters.j=function(e){return JSON.stringify(e)},s.enable(a())},{"./debug":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/debug.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/debug.js":[function(e,t,s){function n(){return s.colors[u++%s.colors.length]}function r(e){function t(){}function r(){var e=r,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=s.useColors()),null==e.color&&e.useColors&&(e.color=n());var i=Array.prototype.slice.call(arguments);i[0]=s.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,n){if("%%"===t)return t;a++;var r=s.formatters[n];if("function"==typeof r){var o=i[a];t=r.call(e,o),i.splice(a,1),a--}return t}),"function"==typeof s.formatArgs&&(i=s.formatArgs.apply(e,i));var l=r.log||s.log||console.log.bind(console);l.apply(e,i)}t.enabled=!1,r.enabled=!0;var o=s.enabled(e)?r:t;return o.namespace=e,o}function o(e){s.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,r=0;n>r;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),"-"===e[0]?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$")))}function i(){s.enable("")}function a(e){var t,n;for(t=0,n=s.skips.length;n>t;t++)if(s.skips[t].test(e))return!1;for(t=0,n=s.names.length;n>t;t++)if(s.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}s=t.exports=r,s.coerce=l,s.disable=i,s.enable=o,s.enabled=a,s.humanize=e("ms"),s.names=[],s.skips=[],s.formatters={};var c,u=0},{ms:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/node_modules/ms/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/debug/node_modules/ms/index.js":[function(e,t,s){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"y":return s*p;case"days":case"day":case"d":return s*u;case"hours":case"hour":case"h":return s*c;case"minutes":case"minute":case"m":return s*l;case"seconds":case"second":case"s":return s*a;case"ms":return s}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function o(e){return i(e,u,"day")||i(e,c,"hour")||i(e,l,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,s){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+s:Math.ceil(e/t)+" "+s+"s";
}var a=1e3,l=60*a,c=60*l,u=24*c,p=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?o(e):r(e)}},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/browser.js":[function(e,t,s){(function(t){function n(e,t){var n="b"+s.packets[e.type]+e.data.data;return t(n)}function r(e,t,n){if(!t)return s.encodeBase64Packet(e,n);var r=e.data,o=new Uint8Array(r),i=new Uint8Array(1+r.byteLength);i[0]=g[e.type];for(var a=0;a<o.length;a++)i[a+1]=o[a];return n(i.buffer)}function o(e,t,n){if(!t)return s.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){e.data=r.result,s.encodePacket(e,t,!0,n)},r.readAsArrayBuffer(e.data)}function i(e,t,n){if(!t)return s.encodeBase64Packet(e,n);if(f)return o(e,t,n);var r=new Uint8Array(1);r[0]=g[e.type];var i=new k([r.buffer,e.data]);return n(i)}function a(e,t,s){for(var n=new Array(e.length),r=d(e.length,s),o=function(e,s,r){t(s,function(t,s){n[e]=s,r(t,n)})},i=0;i<e.length;i++)o(i,e[i],r)}var l=e("./keys"),c=e("has-binary"),u=e("arraybuffer.slice"),p=e("base64-arraybuffer"),d=e("after"),h=e("utf8"),v=navigator.userAgent.match(/Android/i),m=/PhantomJS/i.test(navigator.userAgent),f=v||m;s.protocol=3;var g=s.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},w=l(g),y={type:"error",data:"parser error"},k=e("blob");s.encodePacket=function(e,s,o,a){"function"==typeof s&&(a=s,s=!1),"function"==typeof o&&(a=o,o=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return r(e,s,a);if(k&&l instanceof t.Blob)return i(e,s,a);if(l&&l.base64)return n(e,a);var c=g[e.type];return void 0!==e.data&&(c+=o?h.encode(String(e.data)):String(e.data)),a(""+c)},s.encodeBase64Packet=function(e,n){var r="b"+s.packets[e.type];if(k&&e.data instanceof k){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(r+e)},o.readAsDataURL(e.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];i=String.fromCharCode.apply(null,c)}return r+=t.btoa(i),n(r)},s.decodePacket=function(e,t,n){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return s.decodeBase64Packet(e.substr(1),t);if(n)try{e=h.decode(e)}catch(r){return y}var o=e.charAt(0);return Number(o)==o&&w[o]?e.length>1?{type:w[o],data:e.substring(1)}:{type:w[o]}:y}var i=new Uint8Array(e),o=i[0],a=u(e,1);return k&&"blob"===t&&(a=new k([a])),{type:w[o],data:a}},s.decodeBase64Packet=function(e,s){var n=w[e.charAt(0)];if(!t.ArrayBuffer)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=p.decode(e.substr(1));return"blob"===s&&k&&(r=new k([r])),{type:n,data:r}},s.encodePayload=function(e,t,n){function r(e){return e.length+":"+e}function o(e,n){s.encodePacket(e,i?t:!1,!0,function(e){n(null,r(e))})}"function"==typeof t&&(n=t,t=null);var i=c(e);return t&&i?k&&!f?s.encodePayloadAsBlob(e,n):s.encodePayloadAsArrayBuffer(e,n):e.length?void a(e,o,function(e,t){return n(t.join(""))}):n("0:")},s.decodePayload=function(e,t,n){if("string"!=typeof e)return s.decodePayloadAsBinary(e,t,n);"function"==typeof t&&(n=t,t=null);var r;if(""==e)return n(y,0,1);for(var o,i,a="",l=0,c=e.length;c>l;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(o=Number(a)))return n(y,0,1);if(i=e.substr(l+1,o),a!=i.length)return n(y,0,1);if(i.length){if(r=s.decodePacket(i,t,!0),y.type==r.type&&y.data==r.data)return n(y,0,1);var p=n(r,l+o,c);if(!1===p)return}l+=o,a=""}}return""!=a?n(y,0,1):void 0},s.encodePayloadAsArrayBuffer=function(e,t){function n(e,t){s.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void a(e,n,function(e,s){var n=s.reduce(function(e,t){var s;return s="string"==typeof t?t.length:t.byteLength,e+s.toString().length+s+2},0),r=new Uint8Array(n),o=0;return s.forEach(function(e){var t="string"==typeof e,s=e;if(t){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);s=n.buffer}t?r[o++]=0:r[o++]=1;for(var a=s.byteLength.toString(),i=0;i<a.length;i++)r[o++]=parseInt(a[i]);r[o++]=255;for(var n=new Uint8Array(s),i=0;i<n.length;i++)r[o++]=n[i]}),t(r.buffer)}):t(new ArrayBuffer(0))},s.encodePayloadAsBlob=function(e,t){function n(e,t){s.encodePacket(e,!0,!0,function(e){var s=new Uint8Array(1);if(s[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);e=n.buffer,s[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,i=o.toString(),a=new Uint8Array(i.length+1),r=0;r<i.length;r++)a[r]=parseInt(i[r]);if(a[i.length]=255,k){var l=new k([s.buffer,a.buffer,e]);t(null,l)}})}a(e,n,function(e,s){return t(new k(s))})},s.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var r=e,o=[],i=!1;r.byteLength>0;){for(var a=new Uint8Array(r),l=0===a[0],c="",p=1;255!=a[p];p++){if(c.length>310){i=!0;break}c+=a[p]}if(i)return n(y,0,1);r=u(r,2+c.length),c=parseInt(c);var d=u(r,0,c);if(l)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(h){var v=new Uint8Array(d);d="";for(var p=0;p<v.length;p++)d+=String.fromCharCode(v[p])}o.push(d),r=u(r,c)}var m=o.length;o.forEach(function(e,r){n(s.decodePacket(e,t,!0),r,m)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/keys.js",after:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/after/index.js","arraybuffer.slice":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/arraybuffer.slice/index.js","base64-arraybuffer":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js",blob:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/blob/index.js","has-binary":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/index.js",utf8:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/utf8/utf8.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/lib/keys.js":[function(e,t,s){t.exports=Object.keys||function(e){var t=[],s=Object.prototype.hasOwnProperty;for(var n in e)s.call(e,n)&&t.push(n);return t}},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/after/index.js":[function(e,t,s){function n(e,t,s){function n(e,r){if(n.count<=0)throw new Error("after called too many times");--n.count,e?(o=!0,t(e),t=s):0!==n.count||o||t(null,r)}var o=!1;return s=s||r,n.count=e,0===e?t():n}function r(){}t.exports=n},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/arraybuffer.slice/index.js":[function(e,t,s){t.exports=function(e,t,s){var n=e.byteLength;if(t=t||0,s=s||n,e.slice)return e.slice(t,s);if(0>t&&(t+=n),0>s&&(s+=n),s>n&&(s=n),t>=n||t>=s||0===n)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(s-t),i=t,a=0;s>i;i++,a++)o[a]=r[i];return o.buffer}},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":[function(e,t,s){!function(e){"use strict";s.encode=function(t){var s,n=new Uint8Array(t),r=n.length,o="";for(s=0;r>s;s+=3)o+=e[n[s]>>2],o+=e[(3&n[s])<<4|n[s+1]>>4],o+=e[(15&n[s+1])<<2|n[s+2]>>6],o+=e[63&n[s+2]];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},s.decode=function(t){var s,n,r,o,i,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),p=new Uint8Array(u);for(s=0;l>s;s+=4)n=e.indexOf(t[s]),r=e.indexOf(t[s+1]),o=e.indexOf(t[s+2]),i=e.indexOf(t[s+3]),p[c++]=n<<2|r>>4,p[c++]=(15&r)<<4|o>>2,p[c++]=(3&o)<<6|63&i;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/blob/index.js":[function(e,t,s){(function(e){function s(e,t){t=t||{};for(var s=new n,r=0;r<e.length;r++)s.append(e[r]);return t.type?s.getBlob(t.type):s.getBlob()}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return 2==e.size}catch(t){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;t.exports=function(){return r?e.Blob:o?s:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/index.js":[function(e,t,s){(function(s){function n(e){function t(e){if(!e)return!1;if(s.Buffer&&s.Buffer.isBuffer(e)||s.ArrayBuffer&&e instanceof ArrayBuffer||s.Blob&&e instanceof Blob||s.File&&e instanceof File)return!0;if(r(e)){for(var n=0;n<e.length;n++)if(t(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(e.hasOwnProperty(o)&&t(e[o]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/node_modules/isarray/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/node_modules/isarray/index.js":[function(e,t,s){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/utf8/utf8.js":[function(e,t,s){(function(e){!function(n){function r(e){for(var t,s,n=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(s=e.charCodeAt(r++),56320==(64512&s)?n.push(((1023&t)<<10)+(1023&s)+65536):(n.push(t),r--)):n.push(t);return n}function o(e){for(var t,s=e.length,n=-1,r="";++n<s;)t=e[n],t>65535&&(t-=65536,r+=w(t>>>10&1023|55296),t=56320|1023&t),r+=w(t);return r}function i(e,t){return w(e>>t&63|128)}function a(e){if(0==(4294967168&e))return w(e);var t="";return 0==(4294965248&e)?t=w(e>>6&31|192):0==(4294901760&e)?(t=w(e>>12&15|224),t+=i(e,6)):0==(4292870144&e)&&(t=w(e>>18&7|240),t+=i(e,12),t+=i(e,6)),t+=w(63&e|128)}function l(e){for(var t,s=r(e),n=s.length,o=-1,i="";++o<n;)t=s[o],i+=a(t);return i}function c(){if(g>=f)throw Error("Invalid byte index");var e=255&m[g];if(g++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(){var e,t,s,n,r;if(g>f)throw Error("Invalid byte index");if(g==f)return!1;if(e=255&m[g],g++,0==(128&e))return e;if(192==(224&e)){var t=c();if(r=(31&e)<<6|t,r>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=c(),s=c(),r=(15&e)<<12|t<<6|s,r>=2048)return r;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=c(),s=c(),n=c(),r=(15&e)<<18|t<<12|s<<6|n,r>=65536&&1114111>=r))return r;throw Error("Invalid UTF-8 detected")}function p(e){m=r(e),f=m.length,g=0;for(var t,s=[];(t=u())!==!1;)s.push(t);return o(s)}var d="object"==typeof s&&s,h="object"==typeof t&&t&&t.exports==d&&t,v="object"==typeof e&&e;(v.global===v||v.window===v)&&(n=v);var m,f,g,w=String.fromCharCode,y={version:"2.0.0",encode:l,decode:p};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return y});else if(d&&!d.nodeType)if(h)h.exports=y;else{var k={},_=k.hasOwnProperty;for(var j in y)_.call(y,j)&&(d[j]=y[j])}else n.utf8=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/has-cors/index.js":[function(e,t,s){var n=e("global");try{t.exports="XMLHttpRequest"in n&&"withCredentials"in new n.XMLHttpRequest}catch(r){t.exports=!1}},{global:"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/has-cors/node_modules/global/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/has-cors/node_modules/global/index.js":[function(e,t,s){t.exports=function(){return this}()},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/indexof/index.js":[function(e,t,s){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var s=0;s<e.length;++s)if(e[s]===t)return s;return-1}},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/parsejson/index.js":[function(e,t,s){(function(e){var s=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,i=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(i,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):s.test(t.replace(n,"@").replace(r,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/parseqs/index.js":[function(e,t,s){s.encode=function(e){var t="";for(var s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t},s.decode=function(e){for(var t={},s=e.split("&"),n=0,r=s.length;r>n;n++){var o=s[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/parseuri/index.js":[function(e,t,s){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,s=e.indexOf("["),o=e.indexOf("]");-1!=s&&-1!=o&&(e=e.substring(0,s)+e.substring(s,o).replace(/:/g,";")+e.substring(o,e.length));for(var i=n.exec(e||""),a={},l=14;l--;)a[r[l]]=i[l]||"";return-1!=s&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/ws/lib/browser.js":[function(e,t,s){function n(e,t,s){var n;return n=t?new o(e,t):new o(e)}var r=function(){return this}(),o=r.WebSocket||r.MozWebSocket;t.exports=o?n:null,o&&(n.prototype=o.prototype)},{}],"/Users/shawn/Work/vigour-js/node_modules/monotonic-timestamp/index.js":[function(e,t,s){var n=0,r=1,o=0,i=0;t.exports=function(){var e=Date.now();if(n===e){do o=e+r++/(r+999);while(o===i);i=o}else r=1,o=e;return i=o,n=e,o}},{}],"/Users/shawn/Work/vigour-js/node_modules/promise/index.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/node_modules/promise/index.js"][0].apply(s,arguments)},{"./lib/core.js":"/Users/shawn/Work/vigour-js/node_modules/promise/lib/core.js","./lib/done.js":"/Users/shawn/Work/vigour-js/node_modules/promise/lib/done.js","./lib/es6-extensions.js":"/Users/shawn/Work/vigour-js/node_modules/promise/lib/es6-extensions.js","./lib/node-extensions.js":"/Users/shawn/Work/vigour-js/node_modules/promise/lib/node-extensions.js"}],"/Users/shawn/Work/vigour-js/node_modules/promise/lib/core.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/node_modules/promise/lib/core.js"][0].apply(s,arguments)},{asap:"/Users/shawn/Work/vigour-js/node_modules/asap/asap.js"}],"/Users/shawn/Work/vigour-js/node_modules/promise/lib/done.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/node_modules/promise/lib/done.js"][0].apply(s,arguments)},{"./core.js":"/Users/shawn/Work/vigour-js/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/vigour-js/node_modules/asap/asap.js"}],"/Users/shawn/Work/vigour-js/node_modules/promise/lib/es6-extensions.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/node_modules/promise/lib/es6-extensions.js"][0].apply(s,arguments)},{"./core.js":"/Users/shawn/Work/vigour-js/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/vigour-js/node_modules/asap/asap.js"}],"/Users/shawn/Work/vigour-js/node_modules/promise/lib/node-extensions.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/node_modules/promise/lib/node-extensions.js"][0].apply(s,arguments)},{"./core.js":"/Users/shawn/Work/vigour-js/node_modules/promise/lib/core.js",asap:"/Users/shawn/Work/vigour-js/node_modules/asap/asap.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/index.js":[function(e,t,s){t.exports=e("./lib/")},{"./lib/":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/index.js":[function(e,t,s){function n(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var s,n=r(e),o=n.source,c=n.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",o),s=i(o,t)):(l[c]||(a("new io instance for %s",o),l[c]=i(o,t)),s=l[c]),s.socket(n.path)}var r=e("./url"),o=e("socket.io-parser"),i=e("./manager"),a=e("debug")("socket.io-client");t.exports=s=n;var l=s.managers={};s.protocol=o.protocol,s.connect=n,s.Manager=e("./manager"),s.Socket=e("./socket")},{"./manager":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/manager.js","./socket":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/socket.js","./url":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/url.js",debug:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js","socket.io-parser":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/manager.js":[function(e,t,s){function n(e,t){return this instanceof n?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(e,t)}var r=(e("./url"),e("engine.io-client")),o=e("./socket"),i=e("component-emitter"),a=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),u=(e("object-component"),e("debug")("socket.io-client:manager")),p=e("indexof"),d=e("backo2");t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},n.prototype.updateSocketIds=function(){for(var e in this.nsps)this.nsps[e].id=this.engine.id},i(n.prototype),n.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},n.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},n.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var t=this.engine,s=this;this.readyState="opening",this.skipReconnect=!1;var n=l(t,"open",function(){s.onopen(),e&&e()}),o=l(t,"error",function(t){if(u("connect_error"),s.cleanup(),s.readyState="closed",s.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else s.maybeReconnectOnOpen()});if(!1!==this._timeout){var i=this._timeout;u("connect attempt will timeout after %d",i);var a=setTimeout(function(){u("connect attempt timed out after %d",i),n.destroy(),t.close(),t.emit("error","timeout"),s.emitAll("connect_timeout",i)},i);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(n),this.subs.push(o),this},n.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose")))},n.prototype.ondata=function(e){this.decoder.add(e)},n.prototype.ondecoded=function(e){this.emit("packet",e)},n.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},n.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new o(this,e),this.nsps[e]=t;var s=this;t.on("connect",function(){t.id=s.engine.id,~p(s.connected,t)||s.connected.push(t)})}return t},n.prototype.destroy=function(e){var t=p(this.connected,e);~t&&this.connected.splice(t,1),this.connected.length||this.close()},n.prototype.packet=function(e){u("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var s=0;s<e.length;s++)t.engine.write(e[s]);t.encoding=!1,t.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},n.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(e){u("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var s=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(s)}})}},n.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/on.js","./socket":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/socket.js","./url":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/url.js",backo2:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/backo2/index.js","component-bind":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/component-bind/index.js","component-emitter":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js","engine.io-client":"/Users/shawn/Work/vigour-js/node_modules/engine.io-client/index.js",indexof:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/indexof/index.js","object-component":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/object-component/index.js","socket.io-parser":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/on.js":[function(e,t,s){function n(e,t,s){return e.on(t,s),{destroy:function(){e.removeListener(t,s)}}}t.exports=n},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/socket.js":[function(e,t,s){function n(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var r=e("socket.io-parser"),o=e("component-emitter"),i=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");t.exports=s=n;var p={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},d=o.prototype.emit;o(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},n.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},n.prototype.emit=function(e){if(p.hasOwnProperty(e))return d.apply(this,arguments),this;var t=i(arguments),s=r.EVENT;u(t)&&(s=r.BINARY_EVENT);var n={type:s,data:t};return"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this},n.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},n.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},n.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},n.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(e);break;case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:this.onack(e);break;case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},n.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},n.prototype.ack=function(e){var t=this,s=!1;return function(){if(!s){s=!0;var n=i(arguments);c("sending ack %j",n);var o=u(n)?r.BINARY_ACK:r.ACK;t.packet({type:o,id:e,data:n})}}},n.prototype.onack=function(e){c("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/on.js","component-bind":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/component-bind/index.js","component-emitter":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js","has-binary":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/has-binary/index.js","socket.io-parser":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/index.js","to-array":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/to-array/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/lib/url.js":[function(e,t,s){(function(s){function n(e,t){var n=e,t=t||s.location;return null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.hostname+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),o("parse %s",e),n=r(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/",n.id=n.protocol+"://"+n.host+":"+n.port,n.href=n.protocol+"://"+n.host+(t&&t.port==n.port?"":":"+n.port),n}var r=e("parseuri"),o=e("debug")("socket.io-client:url");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js",parseuri:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/parseuri/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/backo2/index.js":[function(e,t,s){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-s:e+s}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/component-bind/index.js":[function(e,t,s){var n=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var s=n.call(arguments,2);return function(){return t.apply(e,s.concat(n.call(arguments)))}}},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/vigour-js/browser/network/cloud/emitter.js"][0].apply(s,arguments)},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js":[function(e,t,s){function n(e){return n.enabled(e)?function(t){t=r(t);var s=new Date,o=s-(n[e]||s);n[e]=s,t=e+" "+t+" +"+n.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(e){return e instanceof Error?e.stack||e.message:e;
}t.exports=n,n.names=[],n.skips=[],n.enable=function(e){try{localStorage.debug=e}catch(t){}for(var s=(e||"").split(/[\s,]+/),r=s.length,o=0;r>o;o++)e=s[o].replace("*",".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$"))},n.disable=function(){n.enable("")},n.humanize=function(e){var t=1e3,s=6e4,n=60*s;return e>=n?(e/n).toFixed(1)+"h":e>=s?(e/s).toFixed(1)+"m":e>=t?(e/t|0)+"s":e+"ms"},n.enabled=function(e){for(var t=0,s=n.skips.length;s>t;t++)if(n.skips[t].test(e))return!1;for(var t=0,s=n.names.length;s>t;t++)if(n.names[t].test(e))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(o){}},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/has-binary/index.js":[function(e,t,s){(function(s){function n(e){function t(e){if(!e)return!1;if(s.Buffer&&s.Buffer.isBuffer(e)||s.ArrayBuffer&&e instanceof ArrayBuffer||s.Blob&&e instanceof Blob||s.File&&e instanceof File)return!0;if(r(e)){for(var n=0;n<e.length;n++)if(t(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t(e[o]))return!0}return!1}return t(e)}var r=e("isarray");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/has-binary/node_modules/isarray/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/has-binary/node_modules/isarray/index.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/node_modules/isarray/index.js"][0].apply(s,arguments)},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/indexof/index.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/indexof/index.js"][0].apply(s,arguments)},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/object-component/index.js":[function(e,t,s){var n=Object.prototype.hasOwnProperty;s.keys=Object.keys||function(e){var t=[];for(var s in e)n.call(e,s)&&t.push(s);return t},s.values=function(e){var t=[];for(var s in e)n.call(e,s)&&t.push(e[s]);return t},s.merge=function(e,t){for(var s in t)n.call(t,s)&&(e[s]=t[s]);return e},s.length=function(e){return s.keys(e).length},s.isEmpty=function(e){return 0==s.length(e)}},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/parseuri/index.js":[function(e,t,s){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=n.exec(e||""),s={},o=14;o--;)s[r[o]]=t[o]||"";return s}},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js":[function(e,t,s){(function(t){var n=e("isarray"),r=e("./is-buffer");s.deconstructPacket=function(e){function t(e){if(!e)return e;if(r(e)){var o={_placeholder:!0,num:s.length};return s.push(e),o}if(n(e)){for(var i=new Array(e.length),a=0;a<e.length;a++)i[a]=t(e[a]);return i}if("object"==typeof e&&!(e instanceof Date)){var i={};for(var l in e)i[l]=t(e[l]);return i}return e}var s=[],o=e.data,i=e;return i.data=t(o),i.attachments=s.length,{packet:i,buffers:s}},s.reconstructPacket=function(e,t){function s(e){if(e&&e._placeholder){var r=t[e.num];return r}if(n(e)){for(var o=0;o<e.length;o++)e[o]=s(e[o]);return e}if(e&&"object"==typeof e){for(var i in e)e[i]=s(e[i]);return e}return e}return e.data=s(e.data),e.attachments=void 0,e},s.removeBlobs=function(e,s){function o(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){i++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--i||s(a)},u.readAsArrayBuffer(e)}else if(n(e))for(var p=0;p<e.length;p++)o(e[p],p,e);else if(e&&"object"==typeof e&&!r(e))for(var d in e)o(e[d],d,e)}var i=0,a=e;o(a),i||s(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js",isarray:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/isarray/index.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/index.js":[function(e,t,s){function n(){}function r(e){var t="",n=!1;return t+=e.type,(s.BINARY_EVENT==e.type||s.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(n=!0,t+=e.nsp),null!=e.id&&(n&&(t+=",",n=!1),t+=e.id),null!=e.data&&(n&&(t+=","),t+=p.stringify(e.data)),u("encoded %j as %s",e,t),t}function o(e,t){function s(e){var s=h.deconstructPacket(e),n=r(s.packet),o=s.buffers;o.unshift(n),t(o)}h.removeBlobs(e,s)}function i(){this.reconstructor=null}function a(e){var t={},n=0;if(t.type=Number(e.charAt(0)),null==s.types[t.type])return c();if(s.BINARY_EVENT==t.type||s.BINARY_ACK==t.type){for(var r="";"-"!=e.charAt(++n)&&(r+=e.charAt(n),n!=e.length););if(r!=Number(r)||"-"!=e.charAt(n))throw new Error("Illegal attachments");t.attachments=Number(r)}if("/"==e.charAt(n+1))for(t.nsp="";++n;){var o=e.charAt(n);if(","==o)break;if(t.nsp+=o,n==e.length)break}else t.nsp="/";var i=e.charAt(n+1);if(""!==i&&Number(i)==i){for(t.id="";++n;){var o=e.charAt(n);if(null==o||Number(o)!=o){--n;break}if(t.id+=e.charAt(n),n==e.length)break}t.id=Number(t.id)}if(e.charAt(++n))try{t.data=p.parse(e.substr(n))}catch(a){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:s.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),p=e("json3"),d=(e("isarray"),e("component-emitter")),h=e("./binary"),v=e("./is-buffer");s.protocol=4,s.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],s.CONNECT=0,s.DISCONNECT=1,s.EVENT=2,s.ACK=3,s.ERROR=4,s.BINARY_EVENT=5,s.BINARY_ACK=6,s.Encoder=n,s.Decoder=i,n.prototype.encode=function(e,t){if(u("encoding packet %j",e),s.BINARY_EVENT==e.type||s.BINARY_ACK==e.type)o(e,t);else{var n=r(e);t([n])}},d(i.prototype),i.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),s.BINARY_EVENT==t.type||s.BINARY_ACK==t.type?(this.reconstructor=new l(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!v(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},i.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/binary.js","./is-buffer":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js","component-emitter":"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/component-emitter/index.js",debug:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/debug/debug.js",isarray:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/isarray/index.js",json3:"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/json3/lib/json3.js"}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/is-buffer.js":[function(e,t,s){(function(e){function s(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/isarray/index.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/vigour-js/node_modules/engine.io-client/node_modules/engine.io-parser/node_modules/has-binary/node_modules/isarray/index.js"][0].apply(s,arguments)},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/socket.io-parser/node_modules/json3/lib/json3.js":[function(e,t,s){!function(e){function t(e){if(t[e]!==o)return t[e];var s;if("bug-string-char-index"==e)s="a"!="a"[0];else if("json"==e)s=t("json-stringify")&&t("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var a=c.stringify,l="function"==typeof a&&u;if(l){(n=function(){return 1}).toJSON=n;try{l="0"===a(0)&&"0"===a(new Number)&&'""'==a(new String)&&a(i)===o&&a(o)===o&&a()===o&&"1"===a(n)&&"[1]"==a([n])&&"[null]"==a([o])&&"null"==a(null)&&"[null,null,null]"==a([o,i,null])&&a({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==r&&"1"===a(null,n)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new Date(-1))}catch(p){l=!1}}s=l}if("json-parse"==e){var d=c.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){n=d(r);var h=5==n.a.length&&1===n.a[0];if(h){try{h=!d('"	"')}catch(p){}if(h)try{h=1!==d("01")}catch(p){}if(h)try{h=1!==d("1.")}catch(p){}}}}catch(p){h=!1}s=h}}return t[e]=!!s}var n,r,o,i={}.toString,a="function"==typeof define&&define.amd,l="object"==typeof JSON&&JSON,c="object"==typeof s&&s&&!s.nodeType&&s;c&&l?(c.stringify=l.stringify,c.parse=l.parse):c=e.JSON=l||{};var u=new Date(-0xc782b5b800cec);try{u=-109252==u.getUTCFullYear()&&0===u.getUTCMonth()&&1===u.getUTCDate()&&10==u.getUTCHours()&&37==u.getUTCMinutes()&&6==u.getUTCSeconds()&&708==u.getUTCMilliseconds()}catch(p){}if(!t("json")){var d="[object Function]",h="[object Date]",v="[object Number]",m="[object String]",f="[object Array]",g="[object Boolean]",w=t("bug-string-char-index");if(!u)var y=Math.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(e,t){return k[t]+365*(e-1970)+y((e-1969+(t=+(t>1)))/4)-y((e-1901+t)/100)+y((e-1601+t)/400)};(n={}.hasOwnProperty)||(n=function(e){var t,s={};return(s.__proto__=null,s.__proto__={toString:1},s).toString!=i?n=function(e){var t=this.__proto__,s=e in(this.__proto__=null,this);return this.__proto__=t,s}:(t=s.constructor,n=function(e){var s=(this.constructor||t).prototype;return e in this&&!(e in s&&this[e]===s[e])}),s=null,n.call(this,e)});var j={"boolean":1,number:1,string:1,undefined:1},b=function(e,t){var s=typeof e[t];return"object"==s?!!e[t]:!j[s]};if(r=function(e,t){var s,o,a,l=0;(s=function(){this.valueOf=0}).prototype.valueOf=0,o=new s;for(a in o)n.call(o,a)&&l++;return s=o=null,l?r=2==l?function(e,t){var s,r={},o=i.call(e)==d;for(s in e)o&&"prototype"==s||n.call(r,s)||!(r[s]=1)||!n.call(e,s)||t(s)}:function(e,t){var s,r,o=i.call(e)==d;for(s in e)o&&"prototype"==s||!n.call(e,s)||(r="constructor"===s)||t(s);(r||n.call(e,s="constructor"))&&t(s)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],r=function(e,t){var s,r,a=i.call(e)==d,l=!a&&"function"!=typeof e.constructor&&b(e,"hasOwnProperty")?e.hasOwnProperty:n;for(s in e)a&&"prototype"==s||!l.call(e,s)||t(s);for(r=o.length;s=o[--r];l.call(e,s)&&t(s));}),r(e,t)},!t("json-stringify")){var x={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},U="000000",W=function(e,t){return(U+(t||0)).slice(-e)},C="\\u00",S=function(e){var t,s='"',n=0,r=e.length,o=r>10&&w;for(o&&(t=e.split(""));r>n;n++){var i=e.charCodeAt(n);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:s+=x[i];break;default:if(32>i){s+=C+W(2,i.toString(16));break}s+=o?t[n]:w?e.charAt(n):e[n]}}return s+'"'},A=function(e,t,s,a,l,c,u){var p,d,w,k,j,b,x,U,C,T,E,O,$,P,L,R;try{p=t[e]}catch(D){}if("object"==typeof p&&p)if(d=i.call(p),d!=h||n.call(p,"toJSON"))"function"==typeof p.toJSON&&(d!=v&&d!=m&&d!=f||n.call(p,"toJSON"))&&(p=p.toJSON(e));else if(p>-1/0&&1/0>p){if(_){for(j=y(p/864e5),w=y(j/365.2425)+1970-1;_(w+1,0)<=j;w++);for(k=y((j-_(w,0))/30.42);_(w,k+1)<=j;k++);j=1+j-_(w,k),b=(p%864e5+864e5)%864e5,x=y(b/36e5)%24,U=y(b/6e4)%60,C=y(b/1e3)%60,T=b%1e3}else w=p.getUTCFullYear(),k=p.getUTCMonth(),j=p.getUTCDate(),x=p.getUTCHours(),U=p.getUTCMinutes(),C=p.getUTCSeconds(),T=p.getUTCMilliseconds();p=(0>=w||w>=1e4?(0>w?"-":"+")+W(6,0>w?-w:w):W(4,w))+"-"+W(2,k+1)+"-"+W(2,j)+"T"+W(2,x)+":"+W(2,U)+":"+W(2,C)+"."+W(3,T)+"Z"}else p=null;if(s&&(p=s.call(t,e,p)),null===p)return"null";if(d=i.call(p),d==g)return""+p;if(d==v)return p>-1/0&&1/0>p?""+p:"null";if(d==m)return S(""+p);if("object"==typeof p){for(P=u.length;P--;)if(u[P]===p)throw TypeError();if(u.push(p),E=[],L=c,c+=l,d==f){for($=0,P=p.length;P>$;$++)O=A($,p,s,a,l,c,u),E.push(O===o?"null":O);R=E.length?l?"[\n"+c+E.join(",\n"+c)+"\n"+L+"]":"["+E.join(",")+"]":"[]"}else r(a||p,function(e){var t=A(e,p,s,a,l,c,u);t!==o&&E.push(S(e)+":"+(l?" ":"")+t)}),R=E.length?l?"{\n"+c+E.join(",\n"+c)+"\n"+L+"}":"{"+E.join(",")+"}":"{}";return u.pop(),R}};c.stringify=function(e,t,s){var n,r,o,a;if("function"==typeof t||"object"==typeof t&&t)if((a=i.call(t))==d)r=t;else if(a==f){o={};for(var l,c=0,u=t.length;u>c;l=t[c++],a=i.call(l),(a==m||a==v)&&(o[l]=1));}if(s)if((a=i.call(s))==v){if((s-=s%1)>0)for(n="",s>10&&(s=10);n.length<s;n+=" ");}else a==m&&(n=s.length<=10?s:s.slice(0,10));return A("",(l={},l[""]=e,l),r,o,n,"",[])}}if(!t("json-parse")){var T,E,O=String.fromCharCode,$={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw T=E=null,SyntaxError()},L=function(){for(var e,t,s,n,r,o=E,i=o.length;i>T;)switch(r=o.charCodeAt(T)){case 9:case 10:case 13:case 32:T++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=w?o.charAt(T):o[T],T++,e;case 34:for(e="@",T++;i>T;)if(r=o.charCodeAt(T),32>r)P();else if(92==r)switch(r=o.charCodeAt(++T)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=$[r],T++;break;case 117:for(t=++T,s=T+4;s>T;T++)r=o.charCodeAt(T),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||P();e+=O("0x"+o.slice(t,T));break;default:P()}else{if(34==r)break;for(r=o.charCodeAt(T),t=T;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++T);e+=o.slice(t,T)}if(34==o.charCodeAt(T))return T++,e;P();default:if(t=T,45==r&&(n=!0,r=o.charCodeAt(++T)),r>=48&&57>=r){for(48==r&&(r=o.charCodeAt(T+1),r>=48&&57>=r)&&P(),n=!1;i>T&&(r=o.charCodeAt(T),r>=48&&57>=r);T++);if(46==o.charCodeAt(T)){for(s=++T;i>s&&(r=o.charCodeAt(s),r>=48&&57>=r);s++);s==T&&P(),T=s}if(r=o.charCodeAt(T),101==r||69==r){for(r=o.charCodeAt(++T),(43==r||45==r)&&T++,s=T;i>s&&(r=o.charCodeAt(s),r>=48&&57>=r);s++);s==T&&P(),T=s}return+o.slice(t,T)}if(n&&P(),"true"==o.slice(T,T+4))return T+=4,!0;if("false"==o.slice(T,T+5))return T+=5,!1;if("null"==o.slice(T,T+4))return T+=4,null;P()}return"$"},R=function(e){var t,s;if("$"==e&&P(),"string"==typeof e){if("@"==(w?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=L(),"]"!=e;s||(s=!0))s&&(","==e?(e=L(),"]"==e&&P()):P()),","==e&&P(),t.push(R(e));return t}if("{"==e){for(t={};e=L(),"}"!=e;s||(s=!0))s&&(","==e?(e=L(),"}"==e&&P()):P()),(","==e||"string"!=typeof e||"@"!=(w?e.charAt(0):e[0])||":"!=L())&&P(),t[e.slice(1)]=R(L());return t}P()}return e},D=function(e,t,s){var n=I(e,t,s);n===o?delete e[t]:e[t]=n},I=function(e,t,s){var n,o=e[t];if("object"==typeof o&&o)if(i.call(o)==f)for(n=o.length;n--;)D(o,n,s);else r(o,function(e){D(o,e,s)});return s.call(e,t,o)};c.parse=function(e,t){var s,n;return T=0,E=""+e,s=R(L()),"$"!=L()&&P(),T=E=null,t&&i.call(t)==d?I((n={},n[""]=s,n),"",t):s}}}a&&define(function(){return c})}(this)},{}],"/Users/shawn/Work/vigour-js/node_modules/socket.io-client/node_modules/to-array/index.js":[function(e,t,s){function n(e,t){var s=[];t=t||0;for(var n=t||0;n<e.length;n++)s[n-t]=e[n];return s}t.exports=n},{}],"/Users/shawn/Work/vigour-js/node_modules/vigour-js/index.js":[function(e,t,s){},{}],"/Users/shawn/Work/vigour-js/object/array.js":[function(e,s,n){var r=e("../util"),o=e("./");r.define(o,"push",function(){if(1===this.__t){void 0===this.length&&(this.length=0);for(var e=0,t=arguments.length;t>e;e++)this._push(arguments[e]);return this.length}},"_push",function(e,t,s,n,r){return this.length++,this.set(this.length-1,e,t,s,n,r),this[this.length-1]},"pop",function(){if(1===this.__t){var e=this.length;0!==e&&(t=this[e-1],this.length--,t.remove())}},"splice",function(e,t){if(e>-1&&1===this.__t)for(var s,n=0,r=this.length;r>n;n++)s?n===r-1?this[n]=null:(this[n]=this[n+1],this[n]._name=n):n===e&&(n===r-1?this.pop():(s=!0,this.length--,this[n].remove(),this[n]=this[n+1],this[n]._name=n))},"include",function(e,t,s){return r.include(this,e,t,s)},"concat",function(e){for(var t=this,s=(t.length,0),n=e.length;n>s;s++)t._push(e[s],!1,!1,!0);return t._update(e),t},"moveItem",function(e,t){var s=this;if(void 0===t&&(t=s.length-1),e!==t){var n=s[e];if(n){var r=t>e?1:-1;do s[e]=null,s.set(e,s[e+r],!0),e+=r;while(e!==t);s[t]=null,s.set(t,n,!0)}}})},{"../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/object/index.js"}],"/Users/shawn/Work/vigour-js/object/compound.js":[function(e,t,s){function n(e,t){var s=this;s._parent=e,t&&(t instanceof Array||(t=[t]),this.push.apply(this,t))}var r=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object").inject(e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/length")),o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/id"),a=r["new"](void 0,function(e){var t=this;return t.$sources=new n(t,e),this.__t=2,!1});o.define(a,"_class",r),t.exports=a,a.prototype._blacklist.push("$sources"),o.define(a,"_absorb",function(e){for(var t=this,s=e.source,n=e.name,r=s;r&&4===r.__t&&!r._filter;)r=r._val;e.endpoint=r,r&&r.each(function(){t.set(n+"-"+this._name,this)}),t.each(function(){var e=this,s=e._val;if(t.$sources){var n,r=e._name.split("-")[0],o=t.$sources[r].endpoint;o.each(function(){return this===s?n=!0:void 0}),n||e.remove()}})},"_addCompoundListener",function(e){var t=this;e.source.on(function(){t._absorb(e)})}),n.prototype.push=function(){for(var e,t=this,s=t._parent,n=(arguments.length,0);e=arguments[n];n++){var r=i(),o=t[r]={name:r,source:e};s._absorb(o),s._addCompoundListener(o)}}},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util/id":"/Users/shawn/Work/vigour-js/util/id.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value/length":"/Users/shawn/Work/vigour-js/value/length.js"}],"/Users/shawn/Work/vigour-js/object/flags.js":[function(e,t,s){var n=e("../util");s.extend=n.extend(function(e,t){var s=e.prototype,r=s.convert,o=s._set,i=s._remove,a=function(t){var s;for(var n in e.flags.dynamic)if(s=e.flags.dynamic[n](t))break;return s},l=function(t){for(var s in t)if(e.flags[s]||a(s))return!0};t||(t=s.set),s._blacklist.push("_flag"),n.define(e,"convert",function(e){var t=r.call(this,e);if(this._flag&&(!e||!n.isObj(e)||e.val||l(e)))for(var s in this._flag){var o=this._flag[s];o[4]&&o[4].stack||(t===o[1]&&(t={}),t.val===o[1]&&delete t.val,t[o[0]]=o[2])}return t},"__flags__",{},"_remove",function(t,s,n){if(this._flag){for(var r in this._flag){var o=this._flag[r];o&&(e.flags[o[0]]?e.flags[o[0]].remove&&e.flags[o[0]].remove.call(this,o):o[4].remove.call(this,o))}this._flag=null}i.call(this,t,s,n)},"_set",function(t,s,r,i,a){if(o.call(this,t,s,r,i,a),this._flag)for(var l in this._flag){var c=this._flag[l];if(c){var u=e.flags[c[0]]||c[4];this._val!==c[1]&&u.useVal?e.flags[c[0]]?(e.flags[c[0]].remove&&e.flags[c[0]].remove.call(this,c),delete this._flag[l],n.empty(this._flag)&&delete this._flag):c[5]||(c[4].remove.call(this,c),delete this._flag[l],n.empty(this._flag)&&delete this._flag):e.flags[c[0]]&&e.flags[c[0]].reset&&c[3]!==this&&e.flags[c[0]].set.call(this,c[2],s,!0,this._name)}}},"set",function(s,r,o,i,l){var c,u,p=e.flags[s]||a(s);if(p){if(r===!1){var d=p.stack||s,h=this._flag&&this._flag[d];if(h&&p.remove){var v=p.remove.call(this,h,s);v||(delete this._flag[d],n.empty(this._flag)&&delete this._flag)}c=!0}else{if(this._flag)for(var d in this._flag){var h=this._flag[d];if(h&&p.remove)if(p.stack||s!==h[0]){if(!p.stack||p.stack!==h[0]){var m=e.flags[h[0]]||h[4];m.useVal&&p.useVal&&(m.remove.call(this,h),delete this._flag[d],n.empty(this._flag)&&delete this._flag)}}else r!==h[2]?p.remove.call(this,h):u=!0}u||(p.set.call(this,r,i,!1,s),c=!0)}this[s]&&this[s].remove(!1,!1,!1,!1,!1,!0)}else c=t.call(this,s,r,o,i,l);return c}),e.flags=s.__flags__,n.define(e.flags,"dynamic",{})})},{"../util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/object/hashpath.js":[function(e,t,s){var n=e("../util"),r=e("../util/hash");s.extend=n.extend(function(e){e.prototype._blacklist.push("__hp"),n.define(e,"_hashpath",{get:function(){return this.__hp||(this.__hp=r(this._path.toString()))}})})},{"../util":"/Users/shawn/Work/vigour-js/util/index.js","../util/hash":"/Users/shawn/Work/vigour-js/util/hash.js"}],"/Users/shawn/Work/vigour-js/object/index.js":[function(e,t,s){var n=e("../util"),r=e("../"),o=e("../util/inject"),i=t.exports=s=r.Object=function(e,t,s){s&&(this._parent=s),t&&this._hook&&this._hook(e,t),void 0!==e&&(this.val=e)};i.inject=o;var a=function(e,t,s,o,a){if(null===e&&(t||(t=this.stamp()),this.remove(!1,!1,!1,s,t,o)),!(!this.__t||this.__t<3||e!==this._val||this._ignoreValue))return!1;if(!this.stamp)return void console.error("ERROR in vigour-js/object,  OBJECT no .stamp",this);t||(t=this.stamp());var l,c,u,p,d,h=this._val;if(this._changevobj&&(this.__t<4&&e instanceof i||4===this.__t&&(!this._mixed||4===this._mixed||e instanceof Array||e instanceof Object&&(e instanceof i||e.val)))&&(this._changevobj(e,t),4===this._mixed&&(this._val=null)),r.Base&&e instanceof r.Base)this.remove(!0,!0,!1,!1,t),this.__t=5,this._val=e;else if(e instanceof i)(this.__t<3&&!this._mixed||1===this.__t)&&this.remove(!0,!0,!1,void 0,t),this._val=e,this.__t=4,this._setvobj&&this._setvobj(e);else if(e instanceof Object&&"function"!=typeof e)if(e instanceof Array){this._val=void 0,this.__t=1,this.length=e.length,c=this.remove(!0,!0,e,!1,t);for(var v=0,m=this.length;m>v;v++)c=this.set(v,e[v],!1,t,o,!0)||c===!1?!1:!0}else{e.clear?(c=this.remove(!0,!0,!1,!1,t),delete e.clear):1===this.__t?1!==this._mixed&&4!==this._mixed?this.remove(!0,!0,!1,!1,t):p=!0:this._merge||this._mixed&&2!==this.__t||(c=this.remove(!0,!0,e,!1,t)),e.val&&n.isObj(e.val)?(d=!0,this._$setVal(new this._class(e.val,!1,this),t,s,!0),this._val._contained=!0):this._mixed||(this._val=void 0),p||(this.__t=2);for(var f in e)n.checkArray(this._blacklist,f)||("val"===f?(d||(u=this._$setVal(e.val,t,s,!0)),l=!0):c=this.set(f,e[f],!1,t,o,!0)||c===!1?!1:!0)}else if((this.__t<3&&!this._mixed||1===this.__t)&&(this.remove(!0,!0,!1,!1,t),1===this.__t&&delete this.length),e!==this._val||this._ignoreValue)this._val=e,this.__t=3;else if(c!==!1)return this.__t=3,!1;if(l)!this._set||u===!1&&c!==!1||this._set(e,t,s,!1,o,a,h);else if(this._set){if(c)return!1;this._set(e,t,s,!1,o,a,h)}},l=0,c=function(e,t){for(var s,r=t.length-1;r>=0;r--)e&&void 0!==e[t[r]]&&(s="_"+t[r],n.define(this,s,e[t[r]]))};s.stamp=function(){return l++},s.set=a,i["new"]=function(e,t){var s=function(e,s,n){n&&(this._parent=n);var r;t&&(r=t.apply(this,arguments)),s&&this._hook&&this._hook(e,s),this._onConstruct&&this._onConstruct(e,s),void 0!==e&&r!==!1&&(this.val=e)},r=s.prototype=new this;return s["new"]=i["new"],s.inject=o,n.define(s,"_blacklist",r._blacklist.concat()),c.call(s,e,["mixed","merge"]),n.define(s,"_class",s),s},n.define(i,"_$setVal",a,"_blacklist",["_","__","__t","_val","length","_name","_parent","_contained","_removed","extensions","__cachedPath","_ignoreValue","_indexCache"],"_class",i,"stamp",i.stamp,"_get",function(){var e,t=this,s=t.__t;return 3>s?t:(e=t._val,4!==s?e:e&&e._get())},"val",{set:function(e){return this._$setVal(e)},get:function(){return this._get()}},"set",function(e,t,s,n,r,o){if(o=o&&this,!s&&this[e]instanceof i){if(this._$setVal.call(this[e],t,n,o,r)===!1&&n)return!1}else s?(this[e]&&this[e].remove(),this[e]=t,this[e]._name=e,this[e]._parent=this,r||t._update(t,n||this.stamp(),o,void 0,!0)):(this[e]=new this._class(void 0,!1,this),this[e]._name=e,this._$setVal.call(this[e],t,n,o,r,!0)),1===this.__t&&this._setArrayItem&&this._setArrayItem(this[e],t);return!0},"remove",function(e,t,s,r,o,a){e||(this._removed=!0);var l,c,u;o||(o=this.stamp()),e||(this._parent&&(this._parent[this._name]=null,delete this._parent[this._name]),void 0!==this._val&&(this._val instanceof i&&this._val._contained&&this._val.remove(!1,!1,!1,r||this,o,a),u=this._val,this._val=null));for(c in this)s&&s[c]||n.checkArray(this._blacklist,c)||(this[c]instanceof i&&(l=!1,this[c].remove(!1,!1,!1,r||this,o,a)),this[c]=null,delete this[c]);if(!e){if(this._remove&&(this._remove(r,a?!1:r,o,u),!t))for(var p in this)void 0!==this[p]&&("_parent"!==p&&this[p]instanceof i&&this[p]._contained&&this[p].remove(),this[p]=null,delete this[p]);this._removed=!0}return l}),s.listen=e("./listen"),e("./array"),e("./util")},{"../":"/Users/shawn/Work/vigour-js/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","../util/inject":"/Users/shawn/Work/vigour-js/util/inject.js","./array":"/Users/shawn/Work/vigour-js/object/array.js","./listen":"/Users/shawn/Work/vigour-js/object/listen.js","./util":"/Users/shawn/Work/vigour-js/object/util.js"}],"/Users/shawn/Work/vigour-js/object/listen.js":[function(e,t,s){function n(e,t,s,n){s?e.addListener([t,s],!0,!1,!1,n):e.addListener(t,!1,!1,!1,n)}var r=e("../util"),o=e("./"),i=e("../"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf"),l=e("promise"),c=s._update=function(e,t,s,n,r,i,a){var l,c,u=this._listeners;if(u)for(l=u.length;c=u[--l];)if(c instanceof o)c._lfrom=s||this,c._update(e,t,!1,n,r,i),c&&(c._lfrom=null);else if(c[0]){if(!a||!a(c))if(c.length>2){for(var p=c.length-2,d=arguments.length,h=[],v=-1,m=p+d;m>v;h[++v]=p>v?c[v+2]:v===p?this:arguments[v-p-1]);c[0].apply(c[1],h)}else c[0].call(c[1],this,e,t,s,n,r,i)}else c.call(this,e,t,s,n,r,i)};o.prototype._blacklist.push("_listeners","_listens","_lfrom","_listenMap"),r.define(o,"_set",function(e,t,s,n,r,o,i){r||this._update(e,t,s,n,o,i)},"is",function(e,t,s){if(t&&"function"==typeof t){var n=s?function(){var e=(r.arg(arguments),this);a(function(){t.call(e)})}:t;if("loaded"===e)this.$loaded||this.from.$loaded?n.call(this):this.once("loaded",n);else{var o;if(this.val==e)return n.call(this);if(o="function"==typeof e&&e.call(this))return o instanceof l?o:n.call(this);"function"==typeof e?this.once(e,n):this.once({$val:e},n)}return this}var i=this;return s=t,new l(function(t,s){i.is(e,function(){t.apply(this,arguments)})})},"__update",c,"_update",function(e,t,s,n,r,o,i){for(var a=this,l=!0;a;)a.__update(e,t,s||l!==!0?this:!1,n,r,o,i),a=s?!1:a._parent,l=!1,n&&(n=1)},"_remove",function(e,t,s,n){t!==!1&&this._update(null,s,e,!0,!1,n),this.removeListener();var r,o=this._listens;if(o)for(r=o.length-1;r>=0;o[r--].removeListener(this,void 0,!1,!0));},"_setvobj",function(e){e.addListener(this)},"_changevobj",function(e){if(4===this.__t){var t,s=this._listens,n=this._val;if(s)for(t=s.length;t>=0;s[--t]&&s[t].removeListener(this,this));n instanceof o&&n._contained&&n.remove()}},"addListener",function(e,t,s,n,i){var a,l,c=this._listeners||(this._listeners=[]);if(i&&(this._listenMap||(this._listenMap=[])),t){if(l=r.checkArray(c,e[1],1),!(l===!1||!n&&r.checkArray(c,e[0],0)===!1||t!==!0&&t.call(this,c[l],c,l,e)===!0))return c[l];i&&e!==orginal&&this._listenMap.push([orginal,e]),c.push(e)}else e.__t&&r.checkArray(c,e)||(i&&e!==i&&this._listenMap.push([i,e]),c.push(e));(t||e instanceof o)&&(a=t?e[1]:e,a instanceof o&&(_li=a._listens||(a._listens=[]),(s||!r.checkArray(_li,this))&&(i&&e!==i&&this._listenMap.push([i,e]),_li.push(this))))},"once",function(e,t,s){var n,r=function(){this.removeListener(n,s),n.apply(this,arguments)};return t?(n=t,this.on(e,r,!1,n)):(n=e,this.on(r,!1,!1,n)),this},"on",function(e,t,s,o){return i.Base&&t instanceof i.Base&&(s=t,t=null),o||(o=t),t?r.isObj(e)?e.$val?n(this,function(s){this.val===e.$val&&t.apply(this,arguments)},s,o):console.warn("this will become a condition later on for now its not supported!, conditions will be used eveyrwhere"):"function"==typeof e?n(this,function(s){e.apply(this,arguments)&&t.apply(this,arguments)},s,o):r.isObj(t)?(s=e,console.warn("untested -- add as mark"),n(this,function(e,s,n,r,o,i){r&&t.apply(this,arguments)},s,o)):"remove"===e?n(this,function(e,s,n,r,o,i){r&&t.apply(this,arguments)},s,o):"loaded"===e?n(this,function(e,s,n,r,o,i){(this.$loaded||this.from.$loaded)&&t.apply(this,arguments)},s,o):"added"===e?n(this,function(e,s,n,r,o,i){o&&t.apply(this,arguments)},s,o):"self"===e?n(this,function(s,n,r,o,i,a){(this._val===s||!e&&this._updateOrigin===this)&&t.apply(this,arguments)},s,o):n(this,function(s){(s===e||this.val===e||this._val===e)&&t.apply(this,arguments)},s,o):n(this,e,s,o),this},"removeListener",function(e,t,s,n){var r,i=this._listeners;if(i){for(r=i.length-1;r>=0;r--){var a=i[r];if(!t&&!e||e&&a===e||t!==!1&&a instanceof Array&&(t&&a[1]===t&&(!e||a[0]===e)||e&&a[1]===e)&&(!s||(s===!0?a[0]===e:s.call(this,a,t)))){var l=t?t:a instanceof o?a:a instanceof Array?a[1]:!1,c=l&&l._listens;if(c)for(var u=c.length-1;u>=0;u--)if(c[u]===this){c.splice(u,1),0===c.length&&(l._listens=null),4===l.__t&&a._val===this&&(a._val=void 0);break}if(i.splice(r,1),0===i.length&&(this._listeners=null),e&&!n)break}}if(this._listenMap&&e){for(var p,r=0,d=this._listenMap.length;d>r;r++)if(this._listenMap[r][0]===e){this.removeListener(this._listenMap[r][1]),p=r;break}void 0!==p&&(this._listenMap.splice(p,1),0===this._listenMap.length&&(this._listenMap=!1))}}})},{"../":"/Users/shawn/Work/vigour-js/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/browser/animation/raf":"/Users/shawn/Work/vigour-js/browser/animation/raf.js",promise:"/Users/shawn/Work/vigour-js/node_modules/promise/index.js"}],"/Users/shawn/Work/vigour-js/object/util.js":[function(e,t,s){var n=e("../util"),r=e("./");e("../");_c=n.checkArray;var o=r.set,i=this.from=function(e){for(var t,s=e;s instanceof r;)s._filter,t=s,s=s._val;return t!==e?t:!1},a=function(e){for(;e&&4===e.__t;){if(e._lfrom)return e._lfrom;e=e._val}},l=function(e,t){for(var s,r=this,o=[];r&&(void 0!==r._name||t);){if(s=r._lfrom||a(r)){var i=l.call(s),c=r.from._name;n.add(i,o),o=i,c&&(c=i.indexOf(c),i.splice(c,i.length-c))}r!==e?(o.push(r._name),r=r._parent):r=!1}return e?o.reverse():o};n.define(r,"toString",function(e){return e?JSON.stringify(this.raw):JSON.stringify(this.raw,!1,2)},"referenceLevel",function(e){for(var t=this,s=0;t&&t.__t;){if(t===e)return s;t=t._val,s++}return!1},"destroy",function(e,t,s,n,r,o){r||(r=this.stamp()),this._removed=!0,this.destroyReferences(e,t,s,n,r,o),this.remove(e,t,s,n,r,o)},"destroyReferences",function(e,t,s,n,o,i){o||(o=this.stamp());var a,l=this._listeners;if(l)for(var c,u=l.length;c=l[--u];)c instanceof r&&(a=c._parent,a&&1===a.__t?a.splice(c._name,1):c.remove(e,t,s,n,o,i))},"each",function(e,t,s){var r,o;
if(void 0!==s){s=n.arg(arguments,2);for(r in this)if(!_c(this._blacklist,r)){if(o=this[r],e.apply(o,s))return!0;if(t&&(4!==o.__t||o._contained)&&o.each.apply(o,s))return!0}}else for(r in this)if(!_c(this._blacklist,r)){if(o=this[r],e.call(o,r))return!0;if(t&&(4!==o.__t||o._contained)&&o.each(e,t,s))return!0}},"_path",{get:function(){for(var e=this,t=[];e&&void 0!==e._name;)t.push(e._name),e=e._parent;return t.reverse()}},"_cachedPath",{get:function(){return this.__cachedPath||(this.__cachedPath=this._path.join("."))}},"updatePath",{get:function(){var e=l.call(this,this,!0),t=this._name;return void 0!==t&&e.unshift(t),e}},"keys",{get:function(){var e,t=[];for(e in this)_c(this._blacklist,e)||t.push(e);return t}},"_ancestor",function(e){for(var t=this;t;){if(e===t)return!0;t=t._parent}},"checkParent",n.checkParentFactory("_parent"),"convert",function(e){var t={},s=0;if((!e||e.val)&&(t.val=this._val),1===this.__t){t=[];for(var n=0;n<this.length;n++)s++,t[n]=this[n].convert()}else this.each(function(n){e&&void 0===e[n]||(s++,t[n]=this.convert())});if(e)for(var n in e)void 0===t[n]&&(t[n]=void 0),s++;return s||e&&!e.val||(t=t.val),t},"raw",{get:function(){var e,t,s,n=this,r=n._filter?2:n.__t;if(4===r)return n._val&&n._val.raw;if(3===r)return n.val;if(1===r)for(e=[],t=-1,s=n.length-1;s>t;n[++t]&&e.push(n[t].raw));else{e={};for(t in n)!_c(n._blacklist,t)&&n[t]&&(e[t]=n[t].raw)}return e}},"from",{set:function(e){var t=i(this);o.call(t||this,e)},get:function(){return i(this)||this}},"merge",function(e,t,s,r,i,a,l){var c,u,p,d,h,v,m,f=this._mergeArray;if(l||(m=!0,l=[]),s||(s=this.stamp()),1===this.__t)if(f)f(e,s,r);else for(var g in e)h=e[g],v=this[g],(g=Number(g))>-1&&(c=!0,v?v.merge(h,!1,s,!0,i,a,l):(g>this.length-1&&(this.length=g+1),this.set(g,h,!1,s,!0,!0)));else{for(u in e)p=!0,h=e[u],v=this[u],"val"===u||_c(this._blacklist,u)||(!t&&v&&n.isObj(h)?h.clear?(o.call(v,h,s,!1,!0),c=!0):(d=v.merge(h,!1,s,!0,i,a,l),c!==!0&&(c=d),d||(e[u]=void 0)):v&&v._val===h?(c!==!0&&(c=!1),e[u]=void 0):(null===h&&this[u]?this[u].remove(!1,!1,!1,void 0,s):(this.set(u,h,!1,s,!0),this[u]&&this[u]._listeners&&l.push([this[u],h])),c||(c=d),d||(c=!0)));e.val?(d=o.call(this,e.val,s,!1,!0),c||(c=d),d||(e.val=void 0)):p||c||(c=!1),c=c!==!1||c}if(c&&(i||(r?m?this._update(e,s):(this.__update(e,s),l.push([this,e])):this._update(e,s))),m&&l)for(var w in l)l[w][0]&&l[w][0].__update&&l[w][0].__update(l[w][1],s);return c},"clone",function(e,t,s,o){var i,a=new this._class,l=this._val;if(o&&(a._parent=o),a.__t=this.__t,1===this.__t&&(a.length=this.length),s)for(var c,u=s.length-1;u>=0;u--)c=s[u],c instanceof Array&&this[c[0]]?c[1]===!0?a[c[0]]=n.clone(this[c[0]],!1,!0):a[c[0]]=c[1]:this[c]&&(a[c]=this[c]);l&&l instanceof r&&l._contained?(a.val=l.clone(a,!1,s,a),a._val._contained=!0):r.set.call(a,l,!1,!1,!0);for(i in this)_c(this._blacklist,i)||(t?a.set(i,this[i],!1,!1,!0):this[i]instanceof r?a.set(i,this[i].clone(void 0,!1,s,a),!0,!1,!0):a[i]=n.clone(this[i]));return void 0!==e&&(n.isObj(e)?a.merge(e,t):r.set.call(a,e,!1,!1,!0)),a.__t=this.__t,a},"path",function(e,t,s,r,o,i,a,l){return e instanceof Array||(e=e.split(".")),n.path(this,e,t,s,r,o,i,a,l)},"get",function(e,t){return n.get(this,e,t)},"empty",{get:function(){return n.empty(this,this._blacklist)}},"$empty",function(e,t){var s=this;this.each(function(t){(e&&"string"!=typeof e?n.checkArray(e,t):t===e)||(this.remove?this.remove(!1,!1,!1,!1,!1,!0):s[t]=null)}),this.clearCache&&this.clearCache(),t&&this._update("empty")},"_updateOrigin",{get:function(){for(var e=this;e._lfrom;)e=e._lfrom;return e}},"_origin",{get:function(){for(var e=this;e&&4===e.__t;)e=e._val;return e}})},{"../":"/Users/shawn/Work/vigour-js/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/object/index.js"}],"/Users/shawn/Work/vigour-js/util/config/index.js":[function(e,t,s){(function(n){var r,o=e("../"),i="/package.json";t.exports=s=function(e,n,r,i){r=r||(o.isNode?{}:window["package"]);var a={},l=t.exports,c=e&&function(s){a=s.vigour,l.parse(a,r,l._checks),i||(t.exports=a),e(a)};return n?s.options[n]?s.options[n](a,c,!1,r):s.options.val(a,c,n,r):s.options.val(a,c,!1,r),a},o.isNode?s.options={val:function(e,t,s,n){t(n)}}:(r=e("../../browser/network/ajax"),s.options={val:function(e,t,s){if(window["package"])t&&t(window["package"]);else{var o=!window.cordova&&String(window.location).match(/https?:\/\/([^\/]+)/);o&&(o=o[0]),r({url:s&&s.url?s.url:o+i,fallback:[{url:i},s&&s.fallback?s.fallback:{url:n+i},{url:"../"+i},{url:"../../"+i},{url:"../../../"+i}],complete:function(e){window["package"]=e,t&&t(e)}})}}}),s.inject=function(){return s._checks=o.arg(arguments),s},s.loop=function(e,t,s,n,r,i){if(r){var a=t(e,s,n,i);a&&o.merge(e,a)}else for(var l in e[t])if(s===l){o.merge(e,n[l]);break}},s.parse=function(e,t,n,r){n instanceof Array||(n=[n]);for(var i in n)for(var a in n[i]){var l=o.get(t,a),c=n[i][a];s.loop(e,c,l,e[n[i][a]],"function"==typeof c,r)}return e}}).call(this,"/../vigour-js/util/config")},{"../":"/Users/shawn/Work/vigour-js/util/index.js","../../browser/network/ajax":"/Users/shawn/Work/vigour-js/browser/network/ajax.js"}],"/Users/shawn/Work/vigour-js/util/config/ua.js":[function(e,t,s){var n=e("../../browser/ua"),r=e("../"),o=e("../../data").inject(e("../../data/selection"));bla=s,s.parse=function(e,t,s,i){var a=n;i&&i.ua&&(a=n.parse(i.ua.toLowerCase(),{}));var l,c=new o({bla:r.clone(a)});if(e.ua)for(var u in e.ua){if(a.platform===u||a.device===u||a.browser===u)return e.ua[u];if(e.ua[u].condition&&(l?l.filter=e.ua[u]:l=new o(c,e.ua[u]),l.length))return delete e.ua[u].condition,l.remove(),e.ua[u]}delete e.subsObj,l&&l.remove()}},{"../":"/Users/shawn/Work/vigour-js/util/index.js","../../browser/ua":"/Users/shawn/Work/vigour-js/browser/ua.js","../../data":"/Users/shawn/Work/vigour-js/data/index.js","../../data/selection":"/Users/shawn/Work/vigour-js/data/selection.js"}],"/Users/shawn/Work/vigour-js/util/debug/index.js":[function(e,t,s){(function(n){function r(e,t,s){function n(){r.parentNode.removeChild(r)}var r=document.createElement("div"),o=document.createElement("p"),i=document.createElement("input"),a=document.createElement("button"),l=document.createElement("button");o.appendChild(document.createTextNode(e)),i.type="text",i.value=t,i.style.display="block",a.appendChild(document.createTextNode("OK")),l.appendChild(document.createTextNode("Cancel")),a.addEventListener("click",function(){n(),s(i.value)}),l.addEventListener("click",function(){n(),s(null)}),r.appendChild(o),r.appendChild(i),r.appendChild(a),r.appendChild(l),r.style.position="absolute",r.style.top="25px",r.style.left="50px",r.style.zIndex=1e3,r.style.fontSize="24px",r.style.backgroundColor="white",document.body.appendChild(r)}var o=s;DEBUG$=o;var i=e("../"),a=i.isNode,l=(e("../../"),o.log=e("./log"));l.logger("DEBUG$","rainbow");if(o.perf=o.performance=e("./performance"),a){var c=n.env.DEBUG;if(c){var u=c.split(",");for(var p in u){var d=u[p].split(":");DEBUG$.level[d[0]]=d[1]?Number(d[1]):3}}}else o.cases=e("../../browser/cases/"),s.body=document.body.base,Object.defineProperty(t.exports,"domain",{get:function(){return String(window.location).match(/https?:\/\/([^\/]+)/)[1].replace(/:.+/,"")}});s["int"]=function(e,t){function s(){return e=e||1e3,~~Math.floor(Math.random()*e)}return t?s():s},s.text=function(e,t,n,r,o){if(t)return function(){return s.text(Math.round(Math.random()*e)+1,!1,n,r,o)};var i=[".",".",".",";",","],a=["ab","able","zo","x","lax","bur","rem","lur","fur","jur","lex","rex","wurd","shur","burn","heps","a","i","y","u","e","p","l","splurf"],l="",c=0;n&&(a=n),n=function(){return a[Math.round(Math.random()*(a.length-1))]},e||(e=~~(101*Math.random()));for(var u,p=0;e>p;p++)if(o||l[l.length-1]&&"."!==l[l.length-2]&&"\n"!==l[l.length-2]?l+=n():(u=n(),l+=u[0].toUpperCase()+u.slice(1)),c++,!o&&~~(Math.random()*(c/2))){var d,h=!1;!r&&~~(21*Math.random())>17&&(d=i[~~(Math.random()*(i.length-1))],l+=d,"."===d&&~~(11*Math.random())>6&&(h=!0,l+="\n",~~(11*Math.random())>7&&(l+="\n"))),h||(l+=" "),c=0}return l},s.data=function(e,t,n,r,o){n||(n={}),r||(r=0),t||(t=0);for(var i in e)if(e[i]instanceof Object&&e[i].length&&e[i].val){if(e&&e[i]){n[i]=[];for(var a=0;a<e[i].length;a++)n[i][a]="function"==typeof e[i].val?e[i].val():s.data(e[i].val,t+1,!1,a+1,n)}}else e[i]instanceof Object&&"function"!=typeof e[i]?n[i]=s.data(e[i],t+1,n[i],!1,r,n):e&&e[i]&&(n[i]="function"==typeof e[i]?e[i].call(n,r,o):e[i]);return n},o.download=function(e,t){var s=document.createElement("a");s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),s.setAttribute("download",e),s.click()},o.remote=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","http://jsconsole.com/remote.js?"+e),document.getElementsByTagName("head")[0].appendChild(t)},o.findScript=function(e,t,s){var n=e.childNodes,r=t.match(/\.([a-zA-Z0-9]{1,30})$/)[1],o=!s&&new RegExp(t+"$"),i="js"===r?"src":"href";for(var a in n)if(s?n[a][i]===t:o.test(n[a][i]))return n[a]},o["native"]=function(e,t,s,n){if(!document.getElementById("dev")){var o=document.createElement("div");o.id="dev",o.style.zIndex=9999999,o.style.position="absolute",o.style.left="2px",o.style.top="80px",o.style.padding="15px",o.style.backgroundColor="rgba(50,50,50,0.8)",o.style.borderRadius="50%",o.addEventListener("click",function(){r("IP",localStorage.getItem("devip")||e||"http://10.0.1.2:8080",function(e){e?(localStorage.setItem("devip",e),window.location.reload()):(localStorage.removeItem("devip"),window.location.reload())})}),document.body.appendChild(o)}return n||(n="build"),localStorage.getItem("devip")&&(DEBUG$.remoteResource(localStorage.getItem("devip")+"/bundle.css",n+".css",!1),DEBUG$.remoteResource(localStorage.getItem("devip")+"/bundle.js",n+".js",!1))?(document.getElementById("dev").style.backgroundColor="rgba(0,255,0,0.8)",s&&s(localStorage.getItem("devip")),!0):void 0},o.remoteResource=function(e,t,s){console.log("remote resource",e);var n,r,s=void 0!==s?s:!0,i=e.match(/\.([a-zA-Z0-9]{1,30})$/)[1],a=document.createElement("js"===i?"script":"link"),l=document.getElementsByTagName("head")[0],c=document.body;if(t||(s=!1,t=e.match("js"===i?/(\/)([a-zA-Z0-9-_+$]){0,30}\.js$/:/(\/)([a-zA-Z0-9-_+$]){0,30}\.css$/)[0].slice(1)),r=e+"?"+~~(9999999*Math.random()),"js"===i?(a.setAttribute("type","text/javascript"),a.setAttribute("src",r)):(a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",r),a.setAttribute("id",r)),n=o.findScript(l,t,s),n||(console.log(c,n,"!@!@#!@#JS"),n=o.findScript(c,t,s)),n){console.log("remote resource found:",n,n.src,r,e);var u=n.parentNode;if(String(n.src).indexOf(e)>-1)return;return u.removeChild(n),u.appendChild(a),!0}}}).call(this,e("_process"))},{"../":"/Users/shawn/Work/vigour-js/util/index.js","../../":"/Users/shawn/Work/vigour-js/index.js","../../browser/cases/":"/Users/shawn/Work/vigour-js/browser/cases/index.js","./log":"/Users/shawn/Work/vigour-js/util/debug/log.js","./performance":"/Users/shawn/Work/vigour-js/util/debug/performance.js",_process:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/process/browser.js"}],"/Users/shawn/Work/vigour-js/util/debug/log.js":[function(e,t,s){function n(e){e||(e=1);for(var t,s=(new Error).stack.split("\n"),n=3,r=[];e--;)line=s[n++],t=")"===line[line.length-1]?line.length-1:line.length,r.push(line.slice(line.indexOf("/"),t));return r.join("\n").grey}function r(e,t){void 0===a.level[e]&&(a.level[e]=t)}var o,i,a=e("./"),l=e("../"),c=l.isNode,i=(e("../../"),console,{green:"#56db68",red:"#ff0000",grey:"#ccc",yellow:"#e0e67c",cyan:"#00ffff",magenta:"#ff00ff",blue:"#1111ff",white:"#fff"});a.level={DEBUG$:1/0,test:2};var u,p,d,h,v,m;if(c){o=e("repl"),i=e("colors"),d="log  ".grey,h="info ".green,v="error".red,m="-----".grey,a.repl=function(){return o.start(">"),a},o.context&&(o.context.DEBUG$=DEBUG$),console.group=function(){console.log("\n____________________________________________________".grey)},console.groupEnd=function(){console.log("____________________________________________________\n".grey)};var f=e("util");p=function(e){return f.inspect(e,{colors:!0,depth:50})},u=function(e){console.log(p(e))}}else{d=":",h="::",v="ERREX!",m=":::";var g=function(e,t,s){this.color=(s?t:"color: "+t)+";",this.val=new String("%c"+e)};p=function(e){if("string"==typeof e)return e;var t="";for(var s in e)t+=s+" : "+("string"==typeof e[s]?e[s]:JSON.stringify(e[s],!1,2))+"\n";return t.inverse.green},u=function(e){console.log(p(e))}}l.define(Object,"DEBUG$log",function(e,t){console.group&&console.group(),e="string"==typeof e?e:!1;var s="JSON "+(e||" normal");return a.log.header(s),a.level.test>1&&console.log(JSON.stringify(this,!1,2)),t&&(console.log("\n"),a.log.fn.apply(this,l.arg(arguments,1))),console.group&&console.groupEnd(),JSON.stringify(this,!1,2)}),!c&&localStorage&&l.define(localStorage,"DEBUG$log",function(e,t){console.group&&console.group(),e="string"==typeof e?e:!1;var s="localStorage "+(e||" normal");a.log.header(s);var n={};for(var r in this)try{n[r]=JSON.parse(this[r])}catch(o){n[r]=this[r]}return a.level.test>1&&console.log(JSON.stringify(n,!1,2)),t&&(console.log("\n"),a.log.fn.apply(this,l.arg(arguments,1))),console.group&&console.groupEnd(),n});var w=t.exports=s={stack:!1,i:function(e){e=this.indent;var t="";for(var s in e)t+="  ";return t},parse:p,object:u,"default":function(e,t){if(e instanceof Object)for(var s in e)r(s,e[s]);else r(e,t)},logger:function(e,t,s){function r(){var t=void 0!==a.level.global?a.level.global:a.level[e];t>2&&w.stack&&console.log(n(w.stack).grey)}return w["default"](e,s||1),r.info=function(){var s=void 0!==a.level.global?a.level.global:a.level[e];s>1&&(console.log.apply(null,[e[t].bold,h].concat(l.arg(arguments))),w.stack&&console.log(n(w.stack).grey))},r.error=function(){var s=void 0!==a.level.global?a.level.global:a.level[e];s>0&&(console.log.apply(null,[e[t].bold,v].concat(l.arg(arguments))),w.stack&&console.log(n(w.stack).grey))},r.detail=function(){var s=void 0!==a.level.global?a.level.global:a.level[e];s>3&&(console.log.apply(null,[e[t].bold,m].concat(l.arg(arguments))),w.stack&&console.log(n(w.stack).grey))},r.parse=p,r},label:function(e,t,s){c?console.log.apply(null,s):console.log.apply(null,["%c "+e+" ",t].concat(s))},header:function(e){this._lh=e,console.log(e.inverse)},header2:function(e){this._lh=e,console.log(e.grey.inverse)},end:function(e){console.log(("end ["+e+"]").grey.inverse)},level:function(e,t){(e>=a.level.test||a.level[e]||t&&a.level[e]>=t)&&console.log.apply(this,l.arg(arguments,1))},fn:function(e){a.log.indent++,"function"==typeof e?e.call(this,l.arg(arguments,1)):console.log(arguments),a.log.indent--},indent:0};setTimeout(function(){},0),l.define(a,"localStorageSize",{get:function(){var e=0;for(var t in localStorage){var s=(t.length+localStorage[t].length)/1024;e+=s}return console.log("LOCAL STORAGE SIZE TOTAL".inverse.green,(e/1024).toFixed(5)+" MB"),1024*e}}),l.define(a,"localStorageKeysSize",{get:function(){var e=0;for(var t in localStorage){var s=t.length/1024;e+=s}return console.log("LOCAL STORAGE KEY SIZE TOTAL".inverse.green,(e/1024).toFixed(5)+" MB"),1024*e}})},{"../":"/Users/shawn/Work/vigour-js/util/index.js","../../":"/Users/shawn/Work/vigour-js/index.js","./":"/Users/shawn/Work/vigour-js/util/debug/index.js",colors:"/Users/shawn/Work/vigour-js/node_modules/colors/colors.js",repl:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/browserify/lib/_empty.js",util:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/util/util.js"}],"/Users/shawn/Work/vigour-js/util/debug/performance.js":[function(e,t,s){(function(n){function r(e,t,n,r,o,i){var a,c,u,p,d,h=s.now(),v=s.memory();return t||(t="TEST PERFORMANCE"),d=r?e.apply(r,o):e.apply(this,o),p=s.now(),a=s.memory(),c=a-v,u=p-h-(d||0),n?n(u/1e3,a-v):i||l.level.test>0&&console.log(t.inverse,"\nparse time: "+(p-h)/1e3+" sec"+(c?"\nmemory used (approximate): "+c+" bytes":"")),u}function o(e,t,n){e.complete?e.complete(t,n,e,s.average(t)[0],s.average(t)[1]):l.level.test>0&&console.log(e.name.inverse," n="+e.loop+"\nparse time:"+(e.extensive?" \n\n"+t.join(" sec\n")+" sec\n\n":"")+"average: "+s.average(t)[1]+" sec\ntotal: "+s.average(t)[0]+" sec")}var i,a=e("../"),l=e("./"),c=a.isNode;c?i=e("os"):console.log('DEBUG \n\nif you want to check memory usage start chrome using: \n\n open -a Google\\ Chrome --args --enable-memory-info --js-flags="--expose-gc"\n'.grey);var u=[];l.countNewListeners=function(e,t){t={val:0};var s=[];l.countListeners(e,t,s);var n=[];for(var r in s)a.checkArray(u,s[r])===!1&&n.push(s[r]);return u=s,{amount:t.val,newchecks:n}},l.countListeners=function(e,t,s){var t,s;if(s||(s=[]),a.checkArray(s,e)!==!1||!e)return t.val;if(s.push(e),t||(t={val:0}),e._listeners&&(t.val+=e._listeners.length),e.each)e.each(function(e){l.countListeners(this,t,s)});else if(e instanceof Object)for(var n in e)e[n]&&(e[n].__t||e[n]._from||e._from&&"cloud"===n)&&l.countListeners(e[n],t,s);return t.val},l.countSubs=function(e,t,s){var t;return t||(t={val:0}),e._subs&&(console.log("!!!!!SUB",e._path,e._subs),t.val+=e._subs.length),e.each||console.log("no EACH!",s),e.each(function(e){l.countSubs(this,t,e)}),t.val},t.exports=s=function(e,t){if(t&&"string"==typeof e)return r(t,e);if("function"==typeof e)return r(e);if(e instanceof Object){if(e.name||(e.name="performance test"),e.loop){var n=[],i=[],a=function(e,t){n.push(e),t&&i.push(t)};if(e.interval)var l=0,c=setInterval(function(){l++,l===e.loop-1?(clearInterval(c),o(e,n,i)):r(e.method,!1,a)},e.interval);else{for(var u=e.loop;u>0;u--)r(e.method,!1,a);o(e,n,i)}return s.average(n)}return r(e.method,e.name,e.complete,e.call,e.args,e.nolog)}},l.log&&l.log["default"]("test",4),s.now=function(){return c?1e3*n.hrtime()[0]+1e-6*n.hrtime()[1]:window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},s.memory=function(){return c?n.memoryUsage().heapUsed:window&&window.performance&&window.performance.memory?976562e-9*window.performance.memory.usedJSHeapSize:0},s.average=function(e){for(var t=0,s=e.length-1;s>=0;s--)t+=e[s];return[t,t/e.length]}}).call(this,e("_process"))},{"../":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/util/debug/index.js",_process:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/process/browser.js",os:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/os-browserify/browser.js"}],"/Users/shawn/Work/vigour-js/util/encode64.js":[function(e,t,s){var n={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,s,r,o,i,a,l,c="",u=0;for(e=n._utf8_encode(e);u<e.length;)t=e.charCodeAt(u++),s=e.charCodeAt(u++),r=e.charCodeAt(u++),o=t>>2,i=(3&t)<<4|s>>4,a=(15&s)<<2|r>>6,l=63&r,isNaN(s)?a=l=64:isNaN(r)&&(l=64),c=c+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return c},decode:function(e){var t,s,r,o,i,a,l,c="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)o=this._keyStr.indexOf(e.charAt(u++)),i=this._keyStr.indexOf(e.charAt(u++)),a=this._keyStr.indexOf(e.charAt(u++)),l=this._keyStr.indexOf(e.charAt(u++)),t=o<<2|i>>4,s=(15&i)<<4|a>>2,r=(3&a)<<6|l,c+=String.fromCharCode(t),64!=a&&(c+=String.fromCharCode(s)),64!=l&&(c+=String.fromCharCode(r));return c=n._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",s=0;s<e.length;s++){var n=e.charCodeAt(s);128>n?t+=String.fromCharCode(n):n>127&&2048>n?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},_utf8_decode:function(e){for(var t="",s=0,n=c1=c2=0;s<e.length;)n=e.charCodeAt(s),128>n?(t+=String.fromCharCode(n),s++):n>191&&224>n?(c2=e.charCodeAt(s+1),t+=String.fromCharCode((31&n)<<6|63&c2),s+=2):(c2=e.charCodeAt(s+1),c3=e.charCodeAt(s+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),s+=3);return t}};t.exports=s=n},{}],"/Users/shawn/Work/vigour-js/util/global.js":[function(e,t,s){(function(e,s){function n(e,t,s,n,r){return e?void 0===s?n?e[n](t):e[t]:r?(e[r](t,s),s):e[t]=s:void 0}var r="undefined"!=typeof window?window:"undefined"!=typeof s?s:!1,o="undefined"!=typeof localStorage,i="undefined"!=typeof e;t.exports={session:function(e,t){return n(r,e,t)},env:function(t,s){return o?n(localStorage,t,s,"getItem","setItem"):i?n(e.env,t,s):void 0}}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/process/browser.js"}],"/Users/shawn/Work/vigour-js/util/hash.js":[function(e,t,s){s=t.exports=function(e,t){var s,n,r,o,i,a,l,c;for(t=1,s=3&e.length,n=e.length-s,r=t,i=3432918353,a=461845907,c=0;n>c;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,l=(65535&l)*i+(((l>>>16)*i&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,r^=l,r=r<<13|r>>>19,o=5*(65535&r)+((5*(r>>>16)&65535)<<16)&4294967295,r=(65535&o)+27492+(((o>>>16)+58964&65535)<<16);switch(l=0,s){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:l^=255&e.charCodeAt(c),l=(65535&l)*i+(((l>>>16)*i&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,r^=l}return r^=e.length,r^=r>>>16,r=2246822507*(65535&r)+((2246822507*(r>>>16)&65535)<<16)&4294967295,r^=r>>>13,r=3266489909*(65535&r)+((3266489909*(r>>>16)&65535)<<16)&4294967295,r^=r>>>16,(r>>>0).toString(36)},s.encode=function n(e,t){return t=t||"",~~e?n(e/62,String.fromCharCode(((e%=62)>9?e>35?29:87:48)+e)+t):t},s.decode=function(e,t,s,n){for(t=s=0;n=e.charCodeAt(s++);t=62*t+n-[,48,29,87][n>>5]);return t}},{}],"/Users/shawn/Work/vigour-js/util/id.js":[function(e,t,s){function n(){return Number(String(Math.random()).slice(2)).toString(36)}t.exports=function(e,t){var s=n();if(t)for(;t--;)s+=n();return e?e+s:s}},{}],"/Users/shawn/Work/vigour-js/util/index.js":[function(e,t,s){e("./object"),e("./prop"),s.isNode="undefined"==typeof window?!0:!1,s.add=function(e,t){return t&&e.push.apply(e,t),e},s.checkArray=function(e,t,n,r){var o=n instanceof Array;if(!e)return!1;for(var i,a=0,l=e.length;l>a;a++)if(i=e[a],void 0!==n){if(n===!0){if(i===t)return a}else if(o?s.path(i,n)===t:i[n]===t)return r?i:a}else if(i===t)return!0;return!1},s.arg=function(e,t){return Array.prototype.slice.call(e,t?t:0)},s.empty=function(e,t){for(var s in e)if(!t||!this.checkArray(t,s))return!1;return!0},s.inject=e("./inject")},{"./inject":"/Users/shawn/Work/vigour-js/util/inject.js","./object":"/Users/shawn/Work/vigour-js/util/object.js","./prop":"/Users/shawn/Work/vigour-js/util/prop.js"}],"/Users/shawn/Work/vigour-js/util/inject.js":[function(e,t,s){function n(e,t){if(i&&console.log("9",t,e),t.extend)i&&console.log("9.1",e),t.extend(e);else if(t instanceof Array){var s=t.concat(),n=s[0];s[0]=e,i&&console.log("9.2"),n.extend.apply(n,s)}}function r(){i&&console.log("5");for(var e,t,s=[],r=[this],a=0,l=arguments,c=l.length;c>a;a++)if(t=l[a],"function"==typeof t){e||(e=function(){for(var e=0,t=r.length;t>e;e++)r[e].apply(this,arguments)},o(e,this)),r.push(t);for(var u in t.prototype)if({}.hasOwnProperty.call(t.prototype,u)){if("constructor"===u)continue;e.prototype[u]=t.prototype[u]}}else i&&console.log("6"),e?(i&&console.log("7"),n(e,t)):s.push(t);e||(e=this);for(var p in s)n(e,s[p]);return e}function o(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var i,a=e("../"),l=e("./");l.isNode||(i=window.$TEST),t.exports=s=function(e){var t=arguments;if(t[0]&&t[0].$TEST&&(i=window.$TEST=!0),"function"==typeof this||a.Base&&this instanceof a.Base||"object"==typeof this){if(!a.Base||!(this===a.Base||this.prototype instanceof a.Base||this instanceof a.Base))return r.apply(this,t);t=l.arg(t),t.unshift(this),e=this}for(var s=1;s<t.length;s++)n(e,t[s]);return e}},{"../":"/Users/shawn/Work/vigour-js/index.js","./":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/util/object.js":[function(e,t,s){function n(e){for(;e&&4===e.__t&&!e._filter;)e=e._val;return e}var r=t.exports=s=e("./"),o=e("../"),i=".";s.lookup=Object.__lookupSetter__||function(e){for(var t,s=this;s;){if(t=Object.getOwnPropertyDescriptor(s,e),t&&t.set)return!0;s=Object.getPrototypeOf(s)}return!1},s.set=function(e,t,s,n,r,i){return o.Object&&e instanceof o.Object?e.set(t,s,n,r,i):e[t]=s},s.path=function(e,t,n,r,o,i,a,l,c,u,p){p||(p=0);var d,h,v=t[p],m=!c&&e&&4===e.__t?e.from[v]:e&&e[v],f=p<t.length-1;return!f||m instanceof Object||(m=void 0),void 0!==n&&(void 0===m||!f&&r)&&(h=!0,s.set(e,v,f?{}:n,f?!1:i,a,l),m=e[v]),f?d=m?this.path(m,t,n,r,o,i,a,l,c,u,++p):m:(d=!c&&m&&4===m.__t?m.from:m,h&&o&&o(d)),d},s.dotField=function(e,t){if(~t.indexOf(i)){var s=t.split(i),n=s.shift(),r={};this.path(r,s,e[t]),delete e[t],e[n]=r,t=n}return t},s.compareArrays=function(e,t,s){var n=s?Object.keys(t).length:t.length;if(e.length!==n)return!1;for(var r=e.length-1;r>=0;r--)if(e[r]!=t[r])return!1;return!0},s.get=function(e,t,s){if(e&&t){if(s||4!==e.__t||e._filter||(e=e.from),!(t instanceof Array)){if(!~t.indexOf(i))return!s&&e[t]&&e[t].from||e[t];t=t.split(i)}return this.path(e,t,void 0,!1,!1,!1,!1,!1,s)}},s.isObj=function(e){return!(!(e instanceof Object&&"function"!=typeof e)||o.Object&&e instanceof o.Object||o.Base&&e instanceof o.Base)},s.clone=function(e,t,s){if(this.isObj(e)){var n=new e.constructor;for(var r in e)t&&t[r]||(n[r]=s?e[r]:this.clone(e[r],t));return n}return e},s.merge=function(e,t,s,n){for(var o in t){var i=r.isObj(e[o]),a=r.isObj(t[o]);i&&a?r.merge(e[o],t[o],s,n):s&&a?(e[o]=t[o]instanceof Array?[]:{},r.merge(e[o],t[o],s,n)):(void 0===n||!(o in e)||"function"==typeof n&&n(e[o],t[o]))&&(e[o]=t[o])}return e},s.resolve=function(e,t,n,r){var o=!0;if(t instanceof Object){for(var i in t)void 0!==e[i]&&s.resolve(e[i],t[i],void 0!==n&&null!==n?n[i]:t[i],i)?void 0!==n&&null!==n&&(null===n[i]?o=!1:delete n[i]):o=!1;if(o){if(!n||void 0===r)return!0;delete n[r]}return o}return e==t?(n&&void 0!==r&&delete n[r],!0):void 0},s.include=function(e,t,n,r){if(r&&t instanceof Array){for(var o=!1,i=0,a=t.length;a>i;i++)o=s.include(e,t[i],n);return o}var l,c,i=0,u=e.length;if(1===e.__t){for(;u>i;i++)if(l=c=e[i],4===c.__t&&(c=c.from),c===t||c.val===t)return n&&n(l),!1;return e.push(t),!0}if(e instanceof Array){for(;u>i;i++)if(e[i]===t)return!1;return e.push(t),!0}},s.changeType=function(e){var t;if(e instanceof Array){t={};for(var s=0,n=e.length;n>s;s++)t[s]=e[s]}else{t=[];for(var s in e)t.push(e[s])}return t},s.raw=function(e,t){if(e instanceof Object){if(e instanceof o.Object)return e.raw;var s;if(e instanceof Array){s=[];for(var n=0,r=e.length;r>n;n++)s[n]=this.raw(e[n],t)}else{s={};for(var i in e)s[i]=this.raw(e[i],t)}return s}return e},s.walk=function(e,t){for(var n in e)if(e[n]instanceof Object){if(t(n,e[n],e,!0))return!0;if(s.walk(e[n],t))return!0}else if(t(n,e[n],e))return!0},s.checkParentFactory=function(e){return function(t,n,r,i){n&&n!==!0&&(i=n,n=!1);for(var a,l=t instanceof o.Object?!1:t,c=this;c;){if(a=l===!1?c===t:s.get(c,l,!r)){if(!i)return!n&&l?c:a;if(i===a||a instanceof o.Object&&a.val===i)return!n&&l?c:a}c=c[e]}}},s.disjoin=function(e,t,s){var r="function"==typeof s;e=n(e),t=n(t),e.each(function(){var e,n=this,o=n.from;t.each(function(){var t=this,n=t.from;return e=r?s(o,n):s===!0?o===n:o[s]&&n[s]&&o[s].val===n[s].val}),e&&n.remove()})}},{"../":"/Users/shawn/Work/vigour-js/index.js","./":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/util/process.js":[function(e,t,s){e("../object");t.exports={}},{"../object":"/Users/shawn/Work/vigour-js/object/index.js"}],"/Users/shawn/Work/vigour-js/util/prop.js":[function(e,t,s){function n(e,t,s,n,i){if(window.$TEST&&console.log(12,e),e.extensions||(s?e.extensions=[]:o.Object&&e instanceof o.Object?r.define(e,"extensions",[]):r.define(e,"extensions",{val:[],setClass:!0})),r.checkArray(e.extensions,this)===!1){i||(e.extensions=[this].concat(e.extensions));var a=r.arg(n);s&&!i&&(a[0]=s),window.$TEST&&console.error("??xxx?",a,t,this);var l=t.apply(this,a);if(window.$TEST,l)return l}else window.$TEST&&console.error("???")}var r=t.exports=s=e("./"),o=e("../");s.setstore=function(){this.__||(this.__={})},s.getStore=function(e){return this.__?void 0!==this.__[e]?this.__[e]:this._[e]:this._&&this._[e]},s.extend=function(){var e=r.arg(arguments);return function(t){window.$TEST&&console.log("10 --->",t);var s,i;"function"==typeof t?o.Base&&t.prototype instanceof o.Base?(s=t.base,i=!0):i=t.prototype:o.Base&&t instanceof o.Base&&(i=t);for(var a,l,c,u=r.arg(arguments),p=0,d=e.length;d>p;p++)e[p]instanceof Array?(l=e[p][0],c=r.arg(e[p],1),c.unshift(t)):(c=u,l=e[p]),window.$TEST&&console.log("11",l.extend?l:this,s||i),a=n.call(l.extend?l:this,s||i||t,l.extend||l,s,c,l.extend?!0:!1)||t;return a}},s.define=function(e,t,n,o,i,a){if("string"==typeof o)for(var l=r.arg(arguments),c=1,u=l.length;u>c;c+=2)s.define(e,l[c],l[c+1]);else if(t instanceof Array)for(var c=0,u=t.length;u>c;c++)s.define(e,t[c],n);else{if("function"==typeof n||n instanceof Array)n={enumerable:!1,value:n,configurable:!0};else if(n&&n instanceof Object&&!n.setClass)n.enumerable||(r.empty(n)&&(n.value={}),n.configurable=!0,n.enumerable=!1);else{n&&n.setClass&&(n=n.val);var p=e.prototype||e;a?(p.__||(p.__={}),p.__[t]=n):(p._||(p._={}),p._[t]=n);var d=function(e){s.setstore.call(this),(e||0===e||e===!1)&&(this.__[t]=e)},h=function(e){e=o.call(this,e),d.call(this,e)},v=function(){return s.getStore.call(this,t)},m=function(){var e=v.call(this);return i.call(this,e)};n={enumerable:!1,configurable:!0,get:i?m:v,set:o?h:d}}Object.defineProperty(e.prototype||e,t,n)}}},{"../":"/Users/shawn/Work/vigour-js/index.js","./":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/Work/vigour-js/value/base.js":[function(e,t,s){function n(e,t,s,n){e&&(e._bind===n&&4===e.__t?e.val=t:e._bind||(4===e.__t&&e._val===s?(e.val=t,console.log("----------",e.__t)):t.addListener(e)))}var r=(e("../base"),e("./")),o=e("../object").set,i=e("../util");s.clonelist=[["_base",!1],"_caller","_prop","_name","_skip"],s.type={type:r,create:function(e,t,s,n){var i=new r;return i._base=this,i._caller=i._base,i._prop=s,o.call(i,e,!1,!1,!0),this._class&&(this._class.prototype._[s.name]=i),s.set&&(s._vset||(s._vset=function(e,t,n,r){s.set.call(this._caller||this._base||this,this,e,t,n,r)}),n||i._update(e)),i},set:function(e,t,o){if(t){if(t._caller=this,t._bind=!1,this!==t._base){var a,l=t._listeners,c=(t._base,this);if(i.setstore.call(this),s.clonelist[0][1]=this,void 0===e||e.clear){var u=new r;u._base=this,u._prop=o,u._caller=this,e&&delete e.clear,u.val=e,e=u}else e=t.clone(e,!1,s.clonelist);if(this.__[o.name]=e,this._class&&(this._class.prototype._[o.name]=e),t.each(function(s){if(this._listeners){for(a=this._listeners.length-1;a>=0;a--)n(this._listeners[a],e[s],t,c);e[s].val!==this.val}}),l)for(a=l.length-1;a>=0;a--)n(l[a],e,t,c);e=null,this[o.name]._update(e)}return e}},get:function(e,t){return e&&(e._caller=this),t.get?t.get.call(this,e):e}}},{"../base":"/Users/shawn/Work/vigour-js/base/index.js","../object":"/Users/shawn/Work/vigour-js/object/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/value/flags/data.js":[function(e,t,s){var n=t.exports=e("./"),r=e("../../util"),o=e("../../object"),i=function(e){return e.__&&e.__.model||(e.model={},e._.model||e._dListen()),e.model};n.data={useVal:!0,set:function(e,t,s){var n=this.checkParent("_prop.name"),o=n._prop.name,a=n._base,l=i(a);l.flags&&l.flags[o]?(l.flags[o]instanceof Array||(l.flags[o]=[l.flags[o]]),r.checkArray(l.flags[o],this)||l.flags[o].push(this)):(a.model.flags||(a.model.flags={}),a.model.flags[o]=this);var c=function(){
var e=this._d;if(void 0===e)for(var t=this;void 0===e&&t;)t._d?e=this._dSet(t._d,!0):(t=t.node.parentNode,t&&(t=t.base));return e};if(e instanceof Object){var u=e.val||e;this._val=function(){var e=c.call(this);return e&&u.call(this,e)},e=e.listen||!0}else this._val=function(){var t,s=c.call(this);return s=e===!0?s:r.get(s,e),void 0!==s?(t=s.__t&&!s._filter&&s.val,t||0===t||""===t||(t=s)):t="",t};this._flag||(this._flag={}),this._flag.data=["data",this._val,e,o]},remove:function(){var e=this.checkParent("_prop.name"),t=i(e._base),s=this;if(t&&t.flags)for(var n in t.flags)if(n===e._prop.name){var a=t.flags[n];a instanceof o||1===a.length?(t.flags[n]=null,delete t.flags[n]):t.flags[n].splice(r.checkArray(a,s),1)}this._update(),setTimeout(function(){s._update()},0)}}},{"../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/vigour-js/value/flags/index.js":[function(e,t,s){var n=e("../"),r=e("../base"),o=e("../../object/flags");r.clonelist.push(["_flag",!0]),o.extend(n),t.exports=n.flags},{"../":"/Users/shawn/Work/vigour-js/value/index.js","../../object/flags":"/Users/shawn/Work/vigour-js/object/flags.js","../base":"/Users/shawn/Work/vigour-js/value/base.js"}],"/Users/shawn/Work/vigour-js/value/flags/parent.js":[function(e,t,s){function n(e,t){e&&e.node&&(("x"===t||"y"===t)&&e.cleanCoordinates(t),e[t]&&e[t]._prop._vset.call(e[t]))}function r(e,t,s,r,o,i,a,l,c,u,p,d,h,v,m){if(m&&this.parent instanceof r||!m&&this.parent===r||v){var f,g=this._from.base.node&&this._from.base,w=t._prop.name;t._caller=this,e.call(t,l,c,u,a),g&&g[w]&&g[w+"__p"]!==l&&(t._caller=g,t._caller[w+"__p"]=l,e.call(t,l,c,u,a),t._caller=this,f=!0);for(var y in t._listeners)t._listeners[y].pop&&"parent"===t._listeners[y][2]&&(t._listeners[y][1]._lstamp===l&&(t._listeners[y][1]._lstamp=null),t._listeners[y][0].call(t._listeners[y][1],s,this,g,i,a,l,c,u,p,d,!0));f&&n(g,w)}}function o(e,t,s,n,i,a,l,c,u,p,h,v){var m=this;this._parentStore[0]=t,this._update(i,l?this.stamp():a,l,c,u,p,!1,!1,function(){var f,g=this.checkParent("_prop._vset",!0),w=this.checkParent("_base",!0);t===w.parent&&l&&(f=!0),r.call(w,g,m,e,t,s,n,i,a,!1,c,u,p,!0,h),w.eachInstance(function(){r.call(this,g,m,e,t,s,n,i,a,!1,c,u,p,!1,f)},m._prop.name),d.prototype._update.call(this,i,a,!1,c,u,p,function(e){return"parent"===e[2]}),!v&&n._caller&&t!==n._caller&&o.call(this,e,n._caller,s,n,i,a,!1,c,u,p,h,!0)})}function i(e,t,s,r,i){var a,l,c=s._parentStore[0],u=r[2],p=e[u],h=this._from.base;p&&(p.addListener([o,s,"parent",e,this],function(t,n,r){t[3]!==e&&c!==e&&t[4]!==h&&(s._parentStore[0]=e,t[4]=h,a=!0)},!1,!0),(a||!c||c!==e&&c[u]!==p)&&(s._parentStore[0]=e,t||(s._caller=l=h.node&&h||s._base,s._prop._vset.call(s,s),s._caller=this,o.call(s,"parent",e,h,p,!1,d.stamp(),!1,!1,!1,!1,!0,!0),n(l,s._prop.name))))}function a(e,t,s){var n=this.parent;n&&i.call(this,n,!0,e,t,s)}function l(e){var t=this.parent||e.checkParent("_parentStore.0",!0);return t&&!e._flag.parent?void console.error("NO PARENT FLAG!"):t?t[e._flag.parent[2]].val:void 0}var c=t.exports=e("./"),u=e("../"),p=e("../../util"),d=e("../../object");u.prototype._blacklist.push("_parentStore"),c.parent={reset:!0,useVal:!0,set:function(e,t,s){var n=this.checkParent("_prop.name"),r=n._prop.name;this._flag||(this._flag={}),this._flag.parent=["parent",l,e,this],n._parentStore||(n._parentStore=[!1]),n._parentStore.push(this),n._caller.setSetting({name:r,parent:function(e){for(var t=this[r]._parentStore,s=t?t.length-1:0;s>0;s--)t[s]._flag.parent?i.call(this,e,!1,this[r],t[s]._flag.parent):console.error("2 NO PARENT FLAG!")}}),this._val=l,this._skip=!0,a.call(n._base,n,this._flag.parent,s),n._base.eachInstance(a,r,n,this._flag.parent)},remove:function(e){var t=this.checkParent("_prop.name"),s=t._base,n=t._listens,r=t._prop.name,o=e[2],i=t._parentStore,a=function(){var e=this.parent;if(e&&e[o]){if(!(n.length>0))return!0;p.checkArray(n,e[o])&&e[o].removeListener(!1,t)}};this._val=0,n&&!a.call(s)&&s.eachInstance(a,r),i.splice(p.checkArray(i,this,!0),1),1===i.length&&(s.removeSetting(r,"parent"),t._parentStore=null)}}},{"../":"/Users/shawn/Work/vigour-js/value/index.js","../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/vigour-js/value/flags/process.js":[function(e,t,s){var n=t.exports=e("./"),r=e("../../util/process"),o=e("../"),i=e("../../util"),a=e("../../browser/network/ajax"),l=e("../../object");s.create=function(e,t,s,a){a||(a=n),s||(s=o);var l,c,u="__temp"+e+"__",p="__inprogress"+e+"__",d=s.prototype._update,h=t&&t.once,v=t&&t.deferMethod,m={reset:!0,set:function(t,s,n){this._flag||(this._flag={}),this._flag[e]=[e,!1,t,this]},remove:function(){var t,s=this._flag&&this._flag[e];if(s&&s[1])if(t="string"==typeof s[2]?r[s[2]]:"function"!=typeof s[2]&&s[2],t&&t.removeListener)t.removeListener(s[1]);else if(t&&t!==!0)for(var n in t)t.removeListener(t[n])}};if(s.prototype._blacklist.push(u,p,"_history"),v&&(t.deferMethod=null),h&&(t.once=null,s.prototype._blacklist.push(h)),t)for(var f in t)"set"===f?(l=m.set,m.set=function(e,s,n){t.set.call(this,l,arguments)}):"remove"===f?(c=m.remove,m.remove=function(e,s,n){t.remove.call(this,c,arguments)}):m[f]=t[f];a[e]=m,i.define(s,"_update",function(t,n){if(!this._flag||!this._flag[e]||h&&this[h])d.apply(this,arguments);else{var o,a,l,c,m,f=this,g=f._flag&&f._flag[e],w=f[u];if(w){if(n&&w[0][1]!==n){var y=i.arg(arguments);for(var k in y)w[0][k]=y[k]}return}if(f[u]=w=[],o=!0,a=i.arg(arguments),w.push(a),o&&(l=v?v.call(f,a,g[2],u,d,s,p):"string"==typeof g[2]?r[g[2]]:g[2])){if(c=function(){h&&(f[h]=!0);for(var e=0;e<w.length;e++)d.apply(f,w[e]);this.removeListener&&this.removeListener(c),f[u]=null},"function"==typeof l)f[p]||(m=function(e){e!==!0&&f[p]&&f[p](),f[p]=null,f[u]=null},f[p]=c,l.call(this,m,a,w)===!0&&(f[u]=null,f[p]=null));else if(l===!0)this.val||0===this.val?(d.apply(f,a),f[u]=null):console.error("no value! from defer type:",e);else if(l.addListener)l.addListener(c);else for(var _ in l)l[_].addListener(c);g[1]=c}}})},s.create("$bubble",{deferMethod:function(e,t,s,n){var r,o,i=this;i[s]=null,t?((o=t.references)?o instanceof Object?o.$lte&&i.referenceLevel(i._updateOrigin)<=o.$lte&&(r=!0):o>-1?i.referenceLevel(i._updateOrigin)===o&&(r=!0):o===!0&&i.referenceLevel(i._updateOrigin)!==!1&&(r=!0):t&&t.self===!0&&(void 0===e[2]||this._val===e[0]||!e[0]&&this._updateOrigin===this)&&(r=!0),r?n.apply(i,e):i.clearReferencesCache()):n.apply(i,e)}}),s.create("defer"),o.operators.responseData=function(e,t){return t===!1?e:t},s.create("ajax",{remove:function(e,t){e.apply(this,t)},set:function(e,t){this.loading||this.set("loading",!1,!1,!1,!0),e.apply(this,t)},deferMethod:function(e,t,s,n,r){var o=this;return t&&function(e,s){var n=e;if(e=function(e,t){o.clearCache(),o._skip=!0,o._ignoreValue=!0,e&&(s[0]=e,o._val instanceof l||(o.val=e)),o.loading&&(o.loading.val=!1),n(t),o._ignoreValue=null},"object"==typeof t){var i=t;t={};for(var c in i)if("defer"===c)t[c]=i[c];else if(!t[c]){if("complete"!==c&&"error"!==c&&"function"==typeof i[c]){if(t[c]=i[c].call(o,t,s[0],s),!t[c])return!0}else t[c]=i[c];t[c]instanceof l&&(t[c]=t[c].val)}}if("function"==typeof t&&(t=t.call(o,t,s[0],s),!t))return!0;if("string"==typeof t&&(t={url:t}),t.url instanceof l&&(t.url=t.url.val),!t||!t.url&&!t.api)return!0;var u=t.complete,p=t.error;t.complete=function(n){t.defer?t.defer.call(o,e,s,null,n,t):(o.responseData?o.responseData.merge(n):o.set("responseData",n),u&&u(n),e("success"))},t.error=function(n){t.defer?t.defer.call(o,e,s,n,t):(o.responseData&&o.responseData.each(function(e){r.operators[e]||r.flags[e]||this.remove()}),o.set("responseData",void 0),p&&p(data),e("error"))},o.loading&&(o.loading.val=!0),a(t)}}}),s.create("apiDefer",{remove:function(e,t){e.apply(this,t)},set:function(e,t){this.loading||this.set("loading",!1,!1,!1,!0),e.apply(this,t)},deferMethod:function(e,t,s,n,r,o){var i=this;return t&&function(e,s){if(!s[0]||s[0].apiDefer)return!0;var n=function(t,n){if(i.loading.val=!1,t&&t!==!0){i.val=s[0]=t;try{e(t)}catch(r){i.type=r,e("error")}i.clearCache(),i._val=!1}else e(t)};i.loading.val=!0;var r=i.checkParent("api",!0);r&&r.val!==!0?(r.once(function(e){"error"===e?(i.clearCache(),i.val=s[0]="error",i.type=this.type||"api",i.loading.val=!1,n()):e===!0&&t.call(i,n,s)}),r.val=!0):t.call(i,n,s)}}}),s.create("init",{set:function(e,t){this.initialised||e.apply(this,t)},remove:function(e,t){e.apply(this,t),this.initialised=null},once:"initialised"}),t.exports=s},{"../":"/Users/shawn/Work/vigour-js/value/index.js","../../browser/network/ajax":"/Users/shawn/Work/vigour-js/browser/network/ajax.js","../../object":"/Users/shawn/Work/vigour-js/object/index.js","../../util":"/Users/shawn/Work/vigour-js/util/index.js","../../util/process":"/Users/shawn/Work/vigour-js/util/process.js","./":"/Users/shawn/Work/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/vigour-js/value/flags/self.js":[function(e,t,s){var n=t.exports=e("./");n.self={reset:!0,useVal:!0,set:function(e,t,s){var n=this.checkParent("_prop.name");n._base&&n._base[e]&&(n._base[e].addListener(this),this._val=function(){return this[e]&&this[e].val},this._flag||(this._flag={}),this._flag.self=["self",this._val,e,this])}}},{"./":"/Users/shawn/Work/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/vigour-js/value/flags/util.js":[function(e,t,s){var n=t.exports=e("./");n.listen={reset:!0,set:function(e,t,s){if(!e)return void console.error("no val in flags listen!");if(this._flag||(this._flag={}),this._flag.listen=["listen",!1,e,this],e instanceof Array)for(var n=e.length-1;n>=0;e[n--].addListener(this));else{e.addListener(this)}},remove:function(){if(this._flag&&this._flag.listen){var e=this._flag.listen[2];if(e instanceof Array)for(var t=e.length-1;t>=0;e[t--].removeListener(this));else e.removeListener(this)}}}},{"./":"/Users/shawn/Work/vigour-js/value/flags/index.js"}],"/Users/shawn/Work/vigour-js/value/index.js":[function(e,t,s){var n=e("../object"),r=e("../util"),o=e("../");t.exports=s=o.Value=n["new"]({mixed:!0,merge:!0});var i=function(e,t,s,n,r,o){var i=n[s]._get(r,t,e);return void 0!==i&&null!==i&&(e=o[s](e||("string"==typeof i?"":0),i)),e};s.prototype._blacklist.push("_lstamp","_clearCache","_lval","__lval","___lval","_base","_caller","_bind","_prop","_instances","_skip","_overwrite"),r.define(s,"clearCache",function(){this.___lval=null,this.__lval=null,this._lval=null},"clearReferencesCache",function(){for(from=this._val;from;)from.clearCache&&from.clearCache(),from&&from._val?from=from._val:from=null},"ignoreCache",{get:function(){for(var e=this;e;){if(e._prop&&e._prop.cache===!1)return!0;e=e._parent}}},"_get",function(e,t,s){if(this._clearCache&&this.clearCache(),this._overwrite)return this._overwrite;if(!this._lval&&0!==this._lval||t){var r,o=this._val,a=this.operators;if(o instanceof n)o=o._get(this._bind||e,t,s);else if("function"==typeof o){var l=this;if(!e)for(;l._parent&&!l._caller;)l=l._parent;o=o.call(e||l._caller||l._base||this,this,s),r=!0}if(a)if(1===this.__t&&a[this._name]){o=0;for(var c=0,u=this.length;u>c;c++)this[c]&&(vj=this[c]._get(e,!1,(s||0)+o),vj||(vj=0),"string"==typeof vj&&0===o&&(o=""),o+=vj,this[c]._lval||(r=!0))}else{var p;for(var d in this)if(a[d])if(a[d].order)if(p){p.pop||(p=[p]);for(var h=a[d].order,v=p.length-1,m=0;m!==!0&&v>=m;m++)if(m===v){if(h<a[p[m]].order){var l=p[m];p[v]=d,p.push(l)}else p.push(d);m=!0}else m===v&&h>a[p[m]].order&&(p.push(d),m=!0)}else p=d;else t||this[d]._lstamp===this._lstamp||1!==this[d].__t||(t=!0),o=i(o,t,d,this,e,a),r||this[d]._lval||(r=!0);if(p){var f;for(d=p.pop?(f=1)&&p[0]:p;d&&this[d];)t||this[d]._lstamp===this._lstamp||1!==this[d].__t||(t=!0),o=i(o,t,d,this,e,a),r||this[d]._lval||(r=!0),d=p[f++]}}return r||t?this._base&&this._base.instances||(this.__lval=o):(this._lval=o,this.__lval=o),o}return this.__lval},"update",function(e,t,s,n,r,o,i){return this._update.call(this,void 0,n||this.stamp(),r,o,!1,!1,t,e,s),this},"_update",function(e,t,r,o,i,a,l,c,u){var p=this,d=p._base;if(e instanceof s&&!p._bind&&e._caller&&(p._bind=e._caller),(!p._lstamp||p._lstamp!==t)&&(p._lval=!1,d&&d.instances||p._skip||void 0===p.__lval||p.___lval!==p.val)){var h=p._prop,v=p._parent,m=h&&h._vset,f=p.operators;if((!r||!o)&&f&&(f[p._name]||v&&1===v.__t&&f[v._name]&&(!r||p._name==v.length-1))){for(var g=this._parent;f[g._name];)g._lval=!1,g=g._parent;g&&g._update(e,t,this,o,i,a,l,c,u)}u?u.call(p,e,t,r,o,i,a,l,c,u):(c&&(d=c),m&&(p._caller=d,m.call(p,t,r,o,e)),d&&m&&d.instances&&!l&&h.updateinstances!==!1&&(d.eachInstance(function(){p._caller=this,m.call(p,t,r,o,e)},h.name,p),p._caller=d),n.prototype._update.call(p,e,t,r||p,o,i,a)),p._lstamp=t}}),r.define(s,"operators",{value:s.operators=e("./operators")})},{"../":"/Users/shawn/Work/vigour-js/index.js","../object":"/Users/shawn/Work/vigour-js/object/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","./operators":"/Users/shawn/Work/vigour-js/value/operators.js"}],"/Users/shawn/Work/vigour-js/value/length.js":[function(e,t,s){function n(e){var t=new o({val:function(){return r(e)}});return e.on(function(e){t._update.apply(t,arguments)}),t}function r(e){return e?e._filter?e.length:4===e.__t?r(e._val):e.__t<3?e.keys.length:"string"==typeof e._val?e._val.length:0:0}var o=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/value"),i=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/util"),a=e("/Users/shawn/Work/mtv-play/node_modules/vigour-js/object");s.extend=i.extend(function(e){if(!(e.prototype instanceof a||e===a))throw new Error('cannot extend "$length" on non VObject Class');e.prototype._blacklist.push("_$length"),i.define(e,"$length",{get:function(){return i.include(this._blacklist,"_$length"),this._$length||(this._$length=n(this))}})})},{"/Users/shawn/Work/mtv-play/node_modules/vigour-js/object":"/Users/shawn/Work/vigour-js/object/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/util":"/Users/shawn/Work/vigour-js/util/index.js","/Users/shawn/Work/mtv-play/node_modules/vigour-js/value":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/value/on.js":[function(e,t,s){var n=(e("./"),e("../util")),r=e("../base");s.extend=n.extend(function(e){if(!(e instanceof r))throw new Error('cannot extend "on" on non Base Class');e.extend({name:"on",set:function(e){},remove:function(e){this.on.$remove&&this.on.$remove.update()},"new":function(e){this.on.$new&&this.on.$new.update()},parent:function(e){this.on.$parent&&this.on.$parent.update()},render:function(e){this.on.$render&&this.on.$render.update()}})})},{"../base":"/Users/shawn/Work/vigour-js/base/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js","./":"/Users/shawn/Work/vigour-js/value/index.js"}],"/Users/shawn/Work/vigour-js/value/operators.js":[function(e,t,s){e("../util"),e("../");s.add=function(e,t){return e+t},s.sub=function(e,t){return e-t},s.multiply=function(e,t){return e*t},s.divide=function(e,t){return e/t},s.max=function(e,t){return e>t?t:e},s.min=function(e,t){return t>e?t:e},s.transform=function(e,t){return t===!1?e:t},s.abs=function(e,t){return t?Math.abs(e):e},s.floor=function(e,t){return 0|e},s.ceil=function(e,t){return Math.ceil(e)},s.$convertType=function(e,t){return"boolean"===t?e?!0:!1:"number"===t?Number(e):void 0},s["default"]=function(e,t){return!e&&0!==e||e._val===!1||"error"===e||"success"===e?t:e},s["default"].order=1e3},{"../":"/Users/shawn/Work/vigour-js/index.js","../util":"/Users/shawn/Work/vigour-js/util/index.js"}],"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/browserify/lib/_empty.js":[function(e,t,s){arguments[4]["/Users/shawn/Work/mtv-play/common.less"][0].apply(s,arguments)},{}],"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/inherits/inherits_browser.js":[function(e,t,s){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e}},{}],"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/os-browserify/browser.js":[function(e,t,s){s.endianness=function(){return"LE"},s.hostname=function(){return"undefined"!=typeof location?location.hostname:""},s.loadavg=function(){return[]},s.uptime=function(){return 0},s.freemem=function(){return Number.MAX_VALUE},s.totalmem=function(){return Number.MAX_VALUE},s.cpus=function(){return[]},s.type=function(){return"Browser"},s.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},s.networkInterfaces=s.getNetworkInterfaces=function(){return{}},s.arch=function(){return"javascript"},s.platform=function(){return"browser"},s.tmpdir=s.tmpDir=function(){return"/tmp"},s.EOL="\n"},{}],"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/process/browser.js":[function(e,t,s){function n(){u=!1,a.length?c=a.concat(c):p=-1,c.length&&r()}function r(){if(!u){var e=setTimeout(n);u=!0;for(var t=c.length;t;){for(a=c,c=[];++p<t;)a&&a[p].run();p=-1,t=c.length}a=null,u=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,l=t.exports={},c=[],u=!1,p=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];c.push(new o(e,t)),1!==c.length||u||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/util/support/isBufferBrowser.js":[function(e,t,s){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/util/util.js":[function(e,t,s){(function(t,n){function r(e,t){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(t)?n.showHidden=t:t&&s._extend(n,t),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),l(n,e,n.depth)}function o(e,t){var s=r.styles[t];return s?"["+r.colors[s][0]+"m"+e+"["+r.colors[s][1]+"m":e}function i(e,t){return e}function a(e){var t={};return e.forEach(function(e,s){t[e]=!0}),t}function l(e,t,n){if(e.customInspect&&t&&W(t.inspect)&&t.inspect!==s.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return y(r)||(r=l(e,r,n)),r}var o=c(e,t);if(o)return o;var i=Object.keys(t),m=a(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),U(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return u(t);if(0===i.length){if(W(t)){var f=t.name?": "+t.name:"";return e.stylize("[Function"+f+"]","special")}if(j(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(U(t))return u(t)}var g="",w=!1,k=["{","}"];if(v(t)&&(w=!0,k=["[","]"]),W(t)){var _=t.name?": "+t.name:"";g=" [Function"+_+"]"}if(j(t)&&(g=" "+RegExp.prototype.toString.call(t)),x(t)&&(g=" "+Date.prototype.toUTCString.call(t)),U(t)&&(g=" "+u(t)),0===i.length&&(!w||0==t.length))return k[0]+g+k[1];if(0>n)return j(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var b;return b=w?p(e,t,n,m,i):i.map(function(s){return d(e,t,n,m,s,w)}),e.seen.pop(),h(b,g,k)}function c(e,t){if(_(t))return e.stylize("undefined","undefined");if(y(t)){var s="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(s,"string")}return w(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):f(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,s,n,r){for(var o=[],i=0,a=t.length;a>i;++i)E(t,String(i))?o.push(d(e,t,s,n,String(i),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(d(e,t,s,n,r,!0))}),o}function d(e,t,s,n,r,o){var i,a,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),E(n,r)||(i="["+r+"]"),a||(e.seen.indexOf(c.value)<0?(a=f(s)?l(e,c.value,null):l(e,c.value,s-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),_(i)){if(o&&r.match(/^\d+$/))return a;i=JSON.stringify(""+r),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function h(e,t,s){var n=0,r=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?s[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+s[1]:s[0]+t+" "+e.join(", ")+" "+s[1]}function v(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function f(e){return null===e}function g(e){return null==e}function w(e){return"number"==typeof e}function y(e){return"string"==typeof e}function k(e){return"symbol"==typeof e}function _(e){return void 0===e}function j(e){return b(e)&&"[object RegExp]"===S(e)}function b(e){return"object"==typeof e&&null!==e}function x(e){return b(e)&&"[object Date]"===S(e)}function U(e){return b(e)&&("[object Error]"===S(e)||e instanceof Error)}function W(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function S(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var O=/%[sdj%]/g;s.format=function(e){if(!y(e)){for(var t=[],s=0;s<arguments.length;s++)t.push(r(arguments[s]));return t.join(" ")}for(var s=1,n=arguments,o=n.length,i=String(e).replace(O,function(e){if("%%"===e)return"%";if(s>=o)return e;switch(e){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch(t){return"[Circular]"}default:return e}}),a=n[s];o>s;a=n[++s])i+=f(a)||!b(a)?" "+a:" "+r(a);return i},s.deprecate=function(e,r){function o(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}if(_(n.process))return function(){return s.deprecate(e,r).apply(this,arguments)};if(t.noDeprecation===!0)return e;var i=!1;return o};var $,P={};s.debuglog=function(e){if(_($)&&($=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test($)){var n=t.pid;P[e]=function(){var t=s.format.apply(s,arguments);console.error("%s %d: %s",e,n,t)}}else P[e]=function(){};return P[e]},s.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=v,s.isBoolean=m,s.isNull=f,s.isNullOrUndefined=g,s.isNumber=w,s.isString=y,s.isSymbol=k,s.isUndefined=_,s.isRegExp=j,s.isObject=b,s.isDate=x,s.isError=U,s.isFunction=W,s.isPrimitive=C,s.isBuffer=e("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];s.log=function(){console.log("%s - %s",T(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(e,t){if(!t||!b(t))return e;for(var s=Object.keys(t),n=s.length;n--;)e[s[n]]=t[s[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/util/support/isBufferBrowser.js",_process:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/process/browser.js",inherits:"/Users/shawn/npmGlobal/lib/node_modules/gaston/node_modules/inherits/inherits_browser.js"}],"package.json":[function(e,t,s){t.exports={name:"mtv-play",version:"1.2.80",description:"mtv's multiscreen adventure",main:"index.js",scripts:{start:"gaston -d",test:"test/test.js",build:"gaston build -s ./index.js -o . -i",release:"packer -r -c package.json,.package.json"},repository:{type:"git",url:"https://github.com/vigour-io/mtv-play",branch:"develop"},keywords:["multiscreen","play","shows","smart","tv","js"],dependencies:{autolinker:"^0.18.1",lodash:"3.2.0",markdown:"^0.5.0","monotonic-timestamp":"0.0.9","package-branch-config":"^1.2.2",promise:"6.1.0",through2:"^2.0.0","vigour-js":"git+ssh://git@github.com:vigour-io/vigour-js.git#mtvplay","zepto-browserify":"x"},devDependencies:{ferry:"git+ssh://git@github.com:vigour-io/ferry.git#master"},author:"Jim de Beer",license:"other",bugs:{url:"https://github.com/vigour-io/mtv-play/issues"},homepage:"https://github.com/vigour-io/mtv-play",vigour:{ga:"UA-43955457-3",hashUrl:!0,defaultRegion:!1,regionOverride:"PL",availableRegions:["DE","NL","CH","PL","BE","NO"],geo:"https://wwwmtvplay-a.akamaihd.net/geo/",development:{button:!0},cloud:"production",othercloud:"http://localhost:10001",languages:["en","de","nl","pl","it","fr","no"],mtvmobile:["de","ch"],roles:["free","premium","mtv","trial"],countrycodes:{de:49,ch:41,nl:31},dictionary:"http://mtv-staging.vigour.io/translations/lang_$language.json",webtranslateit:{files:{de:374130,en:374126,nl:374128,pl:374129,fr:404562,it:404563},token:"-rN-CdCWmgh4IDxFRT-MEg"},epg:"https://wwwmtvplay-a.akamaihd.net/xhr/index.html",img:"https://imgmtvplay-a.akamaihd.net",imgOrigin:"http://images.mtvnn.com/",api:{type:"staging",url:"http://utt-staging.mtvnn.com/",acceptHeader:"application/json",key:"4e99c9381b74354fbae9f468497912f0"},player:{debug:!1,web:"http://player.mtvnn.com/html5player/development/player.js",settings:{ad_playpostrolls:!0,domain:"mtv",tld:"de",localization:{language:"de",country:"DE"},ads:{autoSID:!1,context:null,defaultAssetID:41349526,defaults:{interval:0},enabled:!0,engine:"Freewheel",fallbackID:41349526,midroll_intervals:{longer_than_15:null,longer_than_20:null,longer_than_30:null},networkID:174975,profileID:"174975:MTVNE_live_HTML5",server:"http://2ab7f.v.fwmrm.net/ad/p/1",viralSID:"mtvplaytv/test"},controls:!1,blankVideo:"http://player.mtvnn.com/codebase/blank.m4v",simulcastApiKey:"c153f28d950ae49a"}},chromecast:{id:"30C914C1",web:"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"},facebook:{id:"720547754665171",web:"https://connect.facebook.net/de_DE/sdk.js"},wrapper:{assets:{"build.html":!0,"build.js":!0,"build.css":!0,"bundle.css":!0,"fonts.css":!0,fonts:"*",img:"*",assets:"*",translations:"*"}},fburl:"http://play.mtvutt.com/",packer:{language:"https://wwwmtvplay-a.akamaihd.net/translations/",url:"https://wwwmtvplay-a.akamaihd.net/",domain:"http://mtv-develop.vigour.io",assets:{"build.html":!0,"build.js":!0,"build.css":!0,"bundle.css":!0,"fonts.css":!0,fonts:"*",img:"*",assets:"*",translations:"*",cast:"*","cast.html":!0,xhr:"*","googleebecff275dd42f4a.html":!0,"google2c4a46fac7686373.html":!0,"sitemap.xml":!0,meta:"*"},transforms:{"build.js":["inform"],"bundle.css":["rebase"],"build.css":["rebase"]},main:"build.js",web:"build.html",fbDefaults:{title:"MTV Play",description:"Mtv's new app to view shows on all devices",image:"http://img.mtvutt.com/image/180/180?url=http://play.mtvutt.com/apple-touch-icon-180x180.png"}},store:{ios:{monthly:"$region_subscription_monthly",yearly:"$region_subscription_annual",single:"$region_single_purchase"},android:{monthly:"mtvplay_subscription_monthly",yearly:"mtvplay_subscription_annually",single:"mtvplay_single_purchase"},windows:{monthly:"mtvplay_subscription_monthly",yearly:"mtvplay_subscription_annual",single:"mtvplay_single_purchase"}}},gaston:{transforms:{"package-branch-config":{section:"vigour"}},"source-maps":!1,"package":!0,"index-path":"index.html",es5:!0,aliasify:{"vigour-js":"node_modules/vigour-js"}},sha:"1.2.80"}},{}]},{},["/Users/shawn/Work/mtv-play/index.js"]);